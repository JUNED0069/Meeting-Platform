/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/videoMeet/conference",{

/***/ "./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js":
/*!****************************************************************!*\
  !*** ./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js ***!
  \****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/process/browser.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"./node_modules/buffer/index.js\")[\"Buffer\"];\n/**\n * AgoraWebSDK_N-v4.19.3-0-gb2ca8ca7 Copyright AgoraInc.\n */\n\n!function(e,t){ true?module.exports=t():0}(this,(function(){\"use strict\";function e(e,t){return t.forEach((function(t){t&&\"string\"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(i){if(\"default\"!==i&&!(i in e)){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}}))})),Object.freeze(e)}let t=!0,i=!0;function n(e,t,i){const n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}function r(e,t,i){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return r.apply(this,arguments);const s=e=>{const t=i(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,s),r.apply(this,[e,s])};const s=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(i))return s.apply(this,arguments);const n=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,s.apply(this,[e,n])},Object.defineProperty(n,\"on\"+t,{get(){return this[\"_on\"+t]},set(e){this[\"_on\"+t]&&(this.removeEventListener(t,this[\"_on\"+t]),delete this[\"_on\"+t]),e&&this.addEventListener(t,this[\"_on\"+t]=e)},enumerable:!0,configurable:!0})}function s(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(t=e,e?\"adapter.js logging disabled\":\"adapter.js logging enabled\")}function o(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(i=!e,\"adapter.js deprecation warnings \"+(e?\"disabled\":\"enabled\"))}function a(){if(\"object\"==typeof window){if(t)return;\"undefined\"!=typeof console&&\"function\"==typeof console.log&&console.log.apply(console,arguments)}}function c(e,t){i&&console.warn(e+\" is deprecated, please use \"+t+\" instead.\")}function d(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function l(e){return d(e)?Object.keys(e).reduce((function(t,i){const n=d(e[i]),r=n?l(e[i]):e[i],s=n&&!Object.keys(r).length;return void 0===r||s?t:Object.assign(t,{[i]:r})}),{}):e}function h(e,t,i){t&&!i.has(t.id)&&(i.set(t.id,t),Object.keys(t).forEach((n=>{n.endsWith(\"Id\")?h(e,e.get(t[n]),i):n.endsWith(\"Ids\")&&t[n].forEach((t=>{h(e,e.get(t),i)}))})))}function u(e,t,i){const n=i?\"outbound-rtp\":\"inbound-rtp\",r=new Map;if(null===t)return r;const s=[];return e.forEach((e=>{\"track\"===e.type&&e.trackIdentifier===t.id&&s.push(e)})),s.forEach((t=>{e.forEach((i=>{i.type===n&&i.trackId===t.id&&h(e,i,r)}))})),r}const p=a;function _(e,t){const i=e&&e.navigator;if(!i.mediaDevices)return;const n=function(e){if(\"object\"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((i=>{if(\"require\"===i||\"advanced\"===i||\"mediaSource\"===i)return;const n=\"object\"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&\"number\"==typeof n.exact&&(n.min=n.max=n.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):\"deviceId\"===t?\"sourceId\":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};\"number\"==typeof n.ideal?(e[r(\"min\",i)]=n.ideal,t.optional.push(e),e={},e[r(\"max\",i)]=n.ideal,t.optional.push(e)):(e[r(\"\",i)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&\"number\"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r(\"\",i)]=n.exact):[\"min\",\"max\"].forEach((e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,i)]=n[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&\"object\"==typeof e.audio){const t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,\"autoGainControl\",\"googAutoGainControl\"),t(e.audio,\"noiseSuppression\",\"googNoiseSuppression\"),e.audio=n(e.audio)}if(e&&\"object\"==typeof e.video){let s=e.video.facingMode;s=s&&(\"object\"==typeof s?s:{ideal:s});const o=t.version<66;if(s&&(\"user\"===s.exact||\"environment\"===s.exact||\"user\"===s.ideal||\"environment\"===s.ideal)&&(!i.mediaDevices.getSupportedConstraints||!i.mediaDevices.getSupportedConstraints().facingMode||o)){let t;if(delete e.video.facingMode,\"environment\"===s.exact||\"environment\"===s.ideal?t=[\"back\",\"rear\"]:\"user\"!==s.exact&&\"user\"!==s.ideal||(t=[\"front\"]),t)return i.mediaDevices.enumerateDevices().then((i=>{let o=(i=i.filter((e=>\"videoinput\"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!o&&i.length&&t.includes(\"back\")&&(o=i[i.length-1]),o&&(e.video.deviceId=s.exact?{exact:o.deviceId}:{ideal:o.deviceId}),e.video=n(e.video),p(\"chrome: \"+JSON.stringify(e)),r(e)}))}e.video=n(e.video)}return p(\"chrome: \"+JSON.stringify(e)),r(e)},s=function(e){return t.version>=64?e:{name:{PermissionDeniedError:\"NotAllowedError\",PermissionDismissedError:\"NotAllowedError\",InvalidStateError:\"NotAllowedError\",DevicesNotFoundError:\"NotFoundError\",ConstraintNotSatisfiedError:\"OverconstrainedError\",TrackStartError:\"NotReadableError\",MediaDeviceFailedDueToShutdown:\"NotAllowedError\",MediaDeviceKillSwitchOn:\"NotAllowedError\",TabCaptureError:\"AbortError\",ScreenCaptureError:\"AbortError\",DeviceCaptureError:\"AbortError\"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&\": \")+this.message}}};if(i.getUserMedia=function(e,t,n){r(e,(e=>{i.webkitGetUserMedia(e,t,(e=>{n&&n(s(e))}))}))}.bind(i),i.mediaDevices.getUserMedia){const e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return r(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException(\"\",\"NotFoundError\");return e}),(e=>Promise.reject(s(e))))))}}}function E(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function m(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"ontrack\"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,\"ontrack\",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener(\"track\",this._ontrack),this.addEventListener(\"track\",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener(\"addtrack\",(i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===i.track.id)):{track:i.track};const r=new Event(\"track\");r.track=i.track,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)})),t.stream.getTracks().forEach((i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===i.id)):{track:i};const r=new Event(\"track\");r.track=i,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)}))},this.addEventListener(\"addstream\",this._ontrackpoly)),t.apply(this,arguments)}}else r(e,\"track\",(e=>(e.transceiver||Object.defineProperty(e,\"transceiver\",{value:{receiver:e.receiver}}),e)))}function f(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"getSenders\"in e.RTCPeerConnection.prototype)&&\"createDTMFSender\"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(\"audio\"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let r=i.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if(\"object\"==typeof e&&e.RTCPeerConnection&&\"getSenders\"in e.RTCPeerConnection.prototype&&\"createDTMFSender\"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!(\"dtmf\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,\"dtmf\",{get(){return void 0===this._dtmf&&(\"audio\"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function g(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,n]=arguments;if(arguments.length>0&&\"function\"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||\"function\"!=typeof e))return t.apply(this,[]);const r=function(e){const t={};return e.result().forEach((e=>{const i={id:e.id,timestamp:e.timestamp,type:{localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[e.type]||e.type};e.names().forEach((t=>{i[t]=e.stat(t)})),t[i.id]=i})),t},s=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const n=function(e){i(s(r(e)))};return t.apply(this,[n,e])}return new Promise(((e,i)=>{t.apply(this,[function(t){e(s(r(t)))},i])})).then(i,n)}}function T(e){if(!(\"object\"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!(\"getStats\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>u(t,e.track,!0)))}}if(!(\"getStats\"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),r(e,\"track\",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>u(t,e.track,!1)))}}if(!(\"getStats\"in e.RTCRtpSender.prototype)||!(\"getStats\"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,i,n;return this.getSenders().forEach((i=>{i.track===e&&(t?n=!0:t=i)})),this.getReceivers().forEach((t=>(t.track===e&&(i?n=!0:i=t),t.track===e))),n||t&&i?Promise.reject(new DOMException(\"There are more than one sender or receiver for the track.\",\"InvalidAccessError\")):t?t.getStats():i?i.getStats():Promise.reject(new DOMException(\"There is no sender or receiver for the track.\",\"InvalidAccessError\"))}return t.apply(this,arguments)}}function S(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")}));const t=this.getSenders();i.apply(this,arguments);const n=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),r.apply(this,arguments)}}function R(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return S(e);const i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")})),!this._reverseStreams[t.id]){const i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function s(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(r.id,\"g\"),n.id)})),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===t)))throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\",\"NotSupportedError\");if(this.getSenders().find((e=>e.track===t)))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const r=this._streams[i.id];if(r)r.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event(\"negotiationneeded\"))}));else{const n=new e.MediaStream([t]);this._streams[i.id]=n,this._reverseStreams[n.id]=i,this.addStream(n)}return this.getSenders().find((e=>e.track===t))},[\"createOffer\",\"createAnswer\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&\"function\"==typeof arguments[0]?i.apply(this,[t=>{const i=s(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then((e=>s(this,e)))}};e.RTCPeerConnection.prototype[t]=n[t]}));const o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(n.id,\"g\"),r.id)})),new RTCSessionDescription({type:t.type,sdp:i})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,\"localDescription\");Object.defineProperty(e.RTCPeerConnection.prototype,\"localDescription\",{get(){const e=a.get.apply(this);return\"\"===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");if(!e._pc)throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\",\"TypeError\");if(!(e._pc===this))throw new DOMException(\"Sender was not created by this connection.\",\"InvalidAccessError\");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((i=>{this._streams[i].getTracks().find((t=>e.track===t))&&(t=this._streams[i])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event(\"negotiationneeded\")))}}function C(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function v(e,t){r(e,\"negotiationneeded\",(e=>{const i=e.target;if(!(t.version<72||i.getConfiguration&&\"plan-b\"===i.getConfiguration().sdpSemantics)||\"stable\"===i.signalingState)return e}))}var I=Object.freeze({__proto__:null,fixNegotiationNeeded:v,shimAddTrackRemoveTrack:R,shimAddTrackRemoveTrackWithNative:S,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(\"function\"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then((t=>{const n=i.video&&i.video.width,r=i.video&&i.video.height,s=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:t,maxFrameRate:s||3}},n&&(i.video.mandatory.maxWidth=n),r&&(i.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(i)}))}:console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"))},shimGetSendersWithDtmf:f,shimGetStats:g,shimGetUserMedia:_,shimMediaStream:E,shimOnTrack:m,shimPeerConnection:C,shimSenderReceiverGetStats:T});function y(e,t){const i=e&&e.navigator,n=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,n){c(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),i.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&\"autoGainControl\"in i.mediaDevices.getSupportedConstraints())){const e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return\"object\"==typeof i&&\"object\"==typeof i.audio&&(i=JSON.parse(JSON.stringify(i)),e(i.audio,\"autoGainControl\",\"mozAutoGainControl\"),e(i.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),t(i)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const i=t.apply(this,arguments);return e(i,\"mozAutoGainControl\",\"autoGainControl\"),e(i,\"mozNoiseSuppression\",\"noiseSuppression\"),i}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(i){return\"audio\"===this.kind&&\"object\"==typeof i&&(i=JSON.parse(JSON.stringify(i)),e(i,\"autoGainControl\",\"mozAutoGainControl\"),e(i,\"noiseSuppression\",\"mozNoiseSuppression\")),t.apply(this,[i])}}}}function A(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function b(e,t){if(\"object\"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const i={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,s]=arguments;return n.apply(this,[e||null]).then((e=>{if(t.version<53&&!r)try{e.forEach((e=>{e.type=i[e.type]||e.type}))}catch(t){if(\"TypeError\"!==t.name)throw t;e.forEach(((t,n)=>{e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,s)}}function w(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function O(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),r(e,\"track\",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function N(e){e.RTCPeerConnection&&!(\"removeStream\"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){c(\"removeStream\",\"removeTrack\"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function D(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function P(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const i=e.length>0;i&&e.forEach((e=>{if(\"rid\"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError(\"Invalid RID value provided.\")}if(\"scaleResolutionDownBy\"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError(\"scale_resolution_down_by must be >= 1.0\");if(\"maxFramerate\"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError(\"max_framerate must be >= 0.0\")}));const n=t.apply(this,arguments);if(i){const{sender:t}=n,i=t.getParameters();(!(\"encodings\"in i)||1===i.encodings.length&&0===Object.keys(i.encodings[0]).length)&&(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return n})}function L(e){if(\"object\"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return\"encodings\"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function k(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function M(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var U=Object.freeze({__proto__:null,shimAddTransceiver:P,shimCreateAnswer:M,shimCreateOffer:k,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!i||!i.video){const e=new DOMException(\"getDisplayMedia without video constraints is undefined\");return e.name=\"NotFoundError\",e.code=8,Promise.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})},shimGetParameters:L,shimGetUserMedia:y,shimOnTrack:A,shimPeerConnection:b,shimRTCDataChannel:D,shimReceiverGetStats:O,shimRemoveStream:N,shimSenderGetStats:w});function x(e){if(\"object\"==typeof e&&e.RTCPeerConnection){if(\"getLocalStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!(\"addStream\"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((i=>t.call(this,i,e))),e.getVideoTracks().forEach((i=>t.call(this,i,e)))},e.RTCPeerConnection.prototype.addTrack=function(e,...i){return i&&i.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}\"removeStream\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const i=e.getTracks();this.getSenders().forEach((e=>{i.includes(e.track)&&this.removeTrack(e)}))})}}function V(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&(\"getRemoteStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(\"onaddstream\"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,\"onaddstream\",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener(\"addstream\",this._onaddstream),this.removeEventListener(\"track\",this._onaddstreampoly)),this.addEventListener(\"addstream\",this._onaddstream=e),this.addEventListener(\"track\",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event(\"addstream\");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener(\"track\",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const i=new Event(\"addstream\");i.stream=t,e.dispatchEvent(i)}))}),t.apply(e,arguments)}}}function F(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,s=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r};let a=function(e,t,i){const n=r.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n};t.setLocalDescription=a,a=function(e,t,i){const n=s.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.setRemoteDescription=a,a=function(e,t,i){const n=o.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.addIceCandidate=a}function B(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(j(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}.bind(t))}function j(e){return e&&void 0!==e.video?Object.assign({},e,{video:l(e.video)}):e}function G(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){const t=[];for(let i=0;i<e.iceServers.length;i++){let n=e.iceServers[i];!n.hasOwnProperty(\"urls\")&&n.hasOwnProperty(\"url\")?(c(\"RTCIceServer.url\",\"RTCIceServer.urls\"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,\"generateCertificate\"in t&&Object.defineProperty(e.RTCPeerConnection,\"generateCertificate\",{get:()=>t.generateCertificate})}function W(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function H(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>\"audio\"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?\"sendrecv\"===t.direction?t.setDirection?t.setDirection(\"sendonly\"):t.direction=\"sendonly\":\"recvonly\"===t.direction&&(t.setDirection?t.setDirection(\"inactive\"):t.direction=\"inactive\"):!0!==e.offerToReceiveAudio||t||this.addTransceiver(\"audio\",{direction:\"recvonly\"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const i=this.getTransceivers().find((e=>\"video\"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&i?\"sendrecv\"===i.direction?i.setDirection?i.setDirection(\"sendonly\"):i.direction=\"sendonly\":\"recvonly\"===i.direction&&(i.setDirection?i.setDirection(\"inactive\"):i.direction=\"inactive\"):!0!==e.offerToReceiveVideo||i||this.addTransceiver(\"video\",{direction:\"recvonly\"})}return t.apply(this,arguments)}}function K(e){\"object\"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Y=Object.freeze({__proto__:null,shimAudioContext:K,shimCallbacksAPI:F,shimConstraints:j,shimCreateOfferLegacy:H,shimGetUserMedia:B,shimLocalStreamsAPI:x,shimRTCIceServerUrls:G,shimRemoteStreamsAPI:V,shimTrackEventTransceiver:W}),q=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof __webpack_require__.g?__webpack_require__.g:\"undefined\"!=typeof self?self:{};function J(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var z={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split(\"\\n\").map((e=>e.trim()))},t.splitSections=function(e){return e.split(\"\\nm=\").map(((e,t)=>(t>0?\"m=\"+e:e).trim()+\"\\r\\n\"))},t.getDescription=function(e){const i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){const i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter((e=>0===e.indexOf(i)))},t.parseCandidate=function(e){let t;t=0===e.indexOf(\"a=candidate:\")?e.substring(12).split(\" \"):e.substring(10).split(\" \");const i={foundation:t[0],component:{1:\"rtp\",2:\"rtcp\"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case\"raddr\":i.relatedAddress=t[e+1];break;case\"rport\":i.relatedPort=parseInt(t[e+1],10);break;case\"tcptype\":i.tcpType=t[e+1];break;case\"ufrag\":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const i=e.component;\"rtp\"===i?t.push(1):\"rtcp\"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const n=e.type;return t.push(\"typ\"),t.push(n),\"host\"!==n&&e.relatedAddress&&e.relatedPort&&(t.push(\"raddr\"),t.push(e.relatedAddress),t.push(\"rport\"),t.push(e.relatedPort)),e.tcpType&&\"tcp\"===e.protocol.toLowerCase()&&(t.push(\"tcptype\"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push(\"ufrag\"),t.push(e.usernameFragment||e.ufrag)),\"candidate:\"+t.join(\" \")},t.parseIceOptions=function(e){return e.substring(14).split(\" \")},t.parseRtpMap=function(e){let t=e.substring(9).split(\" \");const i={payloadType:parseInt(t.shift(),10)};return t=t[0].split(\"/\"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const i=e.channels||e.numChannels||1;return\"a=rtpmap:\"+t+\" \"+e.name+\"/\"+e.clockRate+(1!==i?\"/\"+i:\"\")+\"\\r\\n\"},t.parseExtmap=function(e){const t=e.substring(9).split(\" \");return{id:parseInt(t[0],10),direction:t[0].indexOf(\"/\")>0?t[0].split(\"/\")[1]:\"sendrecv\",uri:t[1],attributes:t.slice(2).join(\" \")}},t.writeExtmap=function(e){return\"a=extmap:\"+(e.id||e.preferredId)+(e.direction&&\"sendrecv\"!==e.direction?\"/\"+e.direction:\"\")+\" \"+e.uri+(e.attributes?\" \"+e.attributes:\"\")+\"\\r\\n\"},t.parseFmtp=function(e){const t={};let i;const n=e.substring(e.indexOf(\" \")+1).split(\";\");for(let e=0;e<n.length;e++)i=n[e].trim().split(\"=\"),t[i[0].trim()]=i[1];return t},t.writeFmtp=function(e){let t=\"\",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?n.push(t+\"=\"+e.parameters[t]):n.push(t)})),t+=\"a=fmtp:\"+i+\" \"+n.join(\";\")+\"\\r\\n\"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(\" \")+1).split(\" \");return{type:t.shift(),parameter:t.join(\" \")}},t.writeRtcpFb=function(e){let t=\"\",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+=\"a=rtcp-fb:\"+i+\" \"+e.type+(e.parameter&&e.parameter.length?\" \"+e.parameter:\"\")+\"\\r\\n\"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(\" \"),i={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(\":\",t);return n>-1?(i.attribute=e.substring(t+1,n),i.value=e.substring(n+1)):i.attribute=e.substring(t+1),i},t.parseSsrcGroup=function(e){const t=e.substring(13).split(\" \");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const i=t.matchPrefix(e,\"a=mid:\")[0];if(i)return i.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(\" \");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:\"auto\",fingerprints:t.matchPrefix(e+i,\"a=fingerprint:\").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i=\"a=setup:\"+t+\"\\r\\n\";return e.fingerprints.forEach((e=>{i+=\"a=fingerprint:\"+e.algorithm+\" \"+e.value+\"\\r\\n\"})),i},t.parseCryptoLine=function(e){const t=e.substring(9).split(\" \");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return\"a=crypto:\"+e.tag+\" \"+e.cryptoSuite+\" \"+(\"object\"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?\" \"+e.sessionParams.join(\" \"):\"\")+\"\\r\\n\"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf(\"inline:\"))return null;const t=e.substring(7).split(\"|\");return{keyMethod:\"inline\",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(\":\")[0]:void 0,mkiLength:t[2]?t[2].split(\":\")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+\":\"+e.keySalt+(e.lifeTime?\"|\"+e.lifeTime:\"\")+(e.mkiValue&&e.mkiLength?\"|\"+e.mkiValue+\":\"+e.mkiLength:\"\")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,\"a=crypto:\").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){const n=t.matchPrefix(e+i,\"a=ice-ufrag:\")[0],r=t.matchPrefix(e+i,\"a=ice-pwd:\")[0];return n&&r?{usernameFragment:n.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t=\"a=ice-ufrag:\"+e.usernameFragment+\"\\r\\na=ice-pwd:\"+e.password+\"\\r\\n\";return e.iceLite&&(t+=\"a=ice-lite\\r\\n\"),t},t.parseRtpParameters=function(e){const i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(\" \");i.profile=n[2];for(let r=3;r<n.length;r++){const s=n[r],o=t.matchPrefix(e,\"a=rtpmap:\"+s+\" \")[0];if(o){const n=t.parseRtpMap(o),r=t.matchPrefix(e,\"a=fmtp:\"+s+\" \");switch(n.parameters=r.length?t.parseFmtp(r[0]):{},n.rtcpFeedback=t.matchPrefix(e,\"a=rtcp-fb:\"+s+\" \").map(t.parseRtcpFb),i.codecs.push(n),n.name.toUpperCase()){case\"RED\":case\"ULPFEC\":i.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,\"a=extmap:\").forEach((e=>{i.headerExtensions.push(t.parseExtmap(e))}));const r=t.matchPrefix(e,\"a=rtcp-fb:* \").map(t.parseRtcpFb);return i.codecs.forEach((e=>{r.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),i},t.writeRtpDescription=function(e,i){let n=\"\";n+=\"m=\"+e+\" \",n+=i.codecs.length>0?\"9\":\"0\",n+=\" \"+(i.profile||\"UDP/TLS/RTP/SAVPF\")+\" \",n+=i.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(\" \")+\"\\r\\n\",n+=\"c=IN IP4 0.0.0.0\\r\\n\",n+=\"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\",i.codecs.forEach((e=>{n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));let r=0;return i.codecs.forEach((e=>{e.maxptime>r&&(r=e.maxptime)})),r>0&&(n+=\"a=maxptime:\"+r+\"\\r\\n\"),i.headerExtensions&&i.headerExtensions.forEach((e=>{n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){const i=[],n=t.parseRtpParameters(e),r=-1!==n.fecMechanisms.indexOf(\"RED\"),s=-1!==n.fecMechanisms.indexOf(\"ULPFEC\"),o=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"cname\"===e.attribute)),a=o.length>0&&o[0].ssrc;let c;const d=t.matchPrefix(e,\"a=ssrc-group:FID\").map((e=>e.substring(17).split(\" \").map((e=>parseInt(e,10)))));d.length>0&&d[0].length>1&&d[0][0]===a&&(c=d[0][1]),n.codecs.forEach((e=>{if(\"RTX\"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&c&&(t.rtx={ssrc:c}),i.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:a,mechanism:s?\"red+ulpfec\":\"red\"},i.push(t))}})),0===i.length&&a&&i.push({ssrc:a});let l=t.matchPrefix(e,\"b=\");return l.length&&(l=0===l[0].indexOf(\"b=TIAS:\")?parseInt(l[0].substring(7),10):0===l[0].indexOf(\"b=AS:\")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,i.forEach((e=>{e.maxBitrate=l}))),i},t.parseRtcpParameters=function(e){const i={},n=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"cname\"===e.attribute))[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);const r=t.matchPrefix(e,\"a=rtcp-rsize\");i.reducedSize=r.length>0,i.compound=0===r.length;const s=t.matchPrefix(e,\"a=rtcp-mux\");return i.mux=s.length>0,i},t.writeRtcpParameters=function(e){let t=\"\";return e.reducedSize&&(t+=\"a=rtcp-rsize\\r\\n\"),e.mux&&(t+=\"a=rtcp-mux\\r\\n\"),void 0!==e.ssrc&&e.cname&&(t+=\"a=ssrc:\"+e.ssrc+\" cname:\"+e.cname+\"\\r\\n\"),t},t.parseMsid=function(e){let i;const n=t.matchPrefix(e,\"a=msid:\");if(1===n.length)return i=n[0].substring(7).split(\" \"),{stream:i[0],track:i[1]};const r=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"msid\"===e.attribute));return r.length>0?(i=r[0].value.split(\" \"),{stream:i[0],track:i[1]}):void 0},t.parseSctpDescription=function(e){const i=t.parseMLine(e),n=t.matchPrefix(e,\"a=max-message-size:\");let r;n.length>0&&(r=parseInt(n[0].substring(19),10)),isNaN(r)&&(r=65536);const s=t.matchPrefix(e,\"a=sctp-port:\");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:i.fmt,maxMessageSize:r};const o=t.matchPrefix(e,\"a=sctpmap:\");if(o.length>0){const e=o[0].substring(10).split(\" \");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let i=[];return i=\"DTLS/SCTP\"!==e.protocol?[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.protocol+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctp-port:\"+t.port+\"\\r\\n\"]:[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.port+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctpmap:\"+t.port+\" \"+t.protocol+\" 65535\\r\\n\"],void 0!==t.maxMessageSize&&i.push(\"a=max-message-size:\"+t.maxMessageSize+\"\\r\\n\"),i.join(\"\")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,i,n){let r;const s=void 0!==i?i:2;r=e||t.generateSessionId();return\"v=0\\r\\no=\"+(n||\"thisisadapterortc\")+\" \"+r+\" \"+s+\" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\"},t.getDirection=function(e,i){const n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return n[e].substring(2)}return i?t.getDirection(i):\"sendrecv\"},t.getKind=function(e){return t.splitLines(e)[0].split(\" \")[0].substring(2)},t.isRejected=function(e){return\"0\"===e.split(\" \",2)[1]},t.parseMLine=function(e){const i=t.splitLines(e)[0].substring(2).split(\" \");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(\" \")}},t.parseOLine=function(e){const i=t.matchPrefix(e,\"o=\")[0].substring(2).split(\" \");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if(\"string\"!=typeof e||0===e.length)return!1;const i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||\"=\"!==i[e].charAt(1))return!1;return!0},e.exports=t}(z);var X=z.exports,Q=J(X),Z=e({__proto__:null,default:Q},[X]);function $(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&\"foundation\"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if(\"object\"==typeof e&&e.candidate&&0===e.candidate.indexOf(\"a=\")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const i=new t(e),n=Q.parseCandidate(e.candidate),r=Object.assign(i,n);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,r(e,\"icecandidate\",(t=>(t.candidate&&Object.defineProperty(t,\"candidate\",{value:new e.RTCIceCandidate(t.candidate),writable:\"false\"}),t)))}function ee(e){!e.RTCIceCandidate||e.RTCIceCandidate&&\"relayProtocol\"in e.RTCIceCandidate.prototype||r(e,\"icecandidate\",(e=>{if(e.candidate){const t=Q.parseCandidate(e.candidate.candidate);\"relay\"===t.type&&(e.candidate.relayProtocol={0:\"tls\",1:\"tcp\",2:\"udp\"}[t.priority>>24])}return e}))}function te(e,t){if(!e.RTCPeerConnection)return;\"sctp\"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp}});const i=function(e){if(!e||!e.sdp)return!1;const t=Q.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=Q.parseMLine(e);return t&&\"application\"===t.kind&&-1!==t.protocol.indexOf(\"SCTP\")}))},n=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(null===t||t.length<2)return-1;const i=parseInt(t[1],10);return i!=i?-1:i},r=function(e){let i=65536;return\"firefox\"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},s=function(e,i){let n=65536;\"firefox\"===t.browser&&57===t.version&&(n=65535);const r=Q.matchPrefix(e.sdp,\"a=max-message-size:\");return r.length>0?n=parseInt(r[0].substr(19),10):\"firefox\"===t.browser&&-1!==i&&(n=2147483637),n},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,\"chrome\"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();\"plan-b\"===e&&Object.defineProperty(this,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){const e=n(arguments[0]),t=r(e),i=s(arguments[0],e);let o;o=0===t&&0===i?Number.POSITIVE_INFINITY:0===t||0===i?Math.max(t,i):Math.min(t,i);const a={};Object.defineProperty(a,\"maxMessageSize\",{get:()=>o}),this._sctp=a}return o.apply(this,arguments)}}function ie(e){if(!e.RTCPeerConnection||!(\"createDataChannel\"in e.RTCPeerConnection.prototype))return;function t(e,t){const i=e.send;e.send=function(){const n=arguments[0],r=n.length||n.size||n.byteLength;if(\"open\"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError(\"Message too large (can send a maximum of \"+t.sctp.maxMessageSize+\" bytes)\");return i.apply(e,arguments)}}const i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=i.apply(this,arguments);return t(e,this),e},r(e,\"datachannel\",(e=>(t(e.channel,e.target),e)))}function ne(e){if(!e.RTCPeerConnection||\"connectionState\"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,\"connectionState\",{get(){return{completed:\"connected\",checking:\"connecting\"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"onconnectionstatechange\",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener(\"connectionstatechange\",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener(\"connectionstatechange\",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),[\"setLocalDescription\",\"setRemoteDescription\"].forEach((e=>{const i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const i=new Event(\"connectionstatechange\",e);t.dispatchEvent(i)}return e},this.addEventListener(\"iceconnectionstatechange\",this._connectionstatechangepoly)),i.apply(this,arguments)}}))}function re(e,t){if(!e.RTCPeerConnection)return;if(\"chrome\"===t.browser&&t.version>=71)return;if(\"safari\"===t.browser&&t.version>=605)return;const i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf(\"\\na=extmap-allow-mixed\")){const i=t.sdp.split(\"\\n\").filter((e=>\"a=extmap-allow-mixed\"!==e.trim())).join(\"\\n\");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function se(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(\"chrome\"===t.browser&&t.version<78||\"firefox\"===t.browser&&t.version<68||\"safari\"===t.browser)&&arguments[0]&&\"\"===arguments[0].candidate?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function oe(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if(\"object\"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case\"stable\":case\"have-local-offer\":case\"have-remote-pranswer\":e.type=\"offer\";break;default:e.type=\"answer\"}if(e.sdp||\"offer\"!==e.type&&\"answer\"!==e.type)return i.apply(this,[e]);return(\"offer\"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>i.apply(this,[e])))})}var ae=Object.freeze({__proto__:null,removeExtmapAllowMixed:re,shimAddIceCandidateNullOrEmpty:se,shimConnectionState:ne,shimMaxMessageSize:te,shimParameterlessSetLocalDescription:oe,shimRTCIceCandidate:$,shimRTCIceCandidateRelayProtocol:ee,shimSendThrowTypeError:ie});!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const i=a,r=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser=\"Not a browser.\",t;const{navigator:i}=e;if(i.mozGetUserMedia)t.browser=\"firefox\",t.version=n(i.userAgent,/Firefox\\/(\\d+)\\./,1);else if(i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser=\"chrome\",t.version=n(i.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else{if(!e.RTCPeerConnection||!i.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return t.browser=\"Not a supported browser.\",t;t.browser=\"safari\",t.version=n(i.userAgent,/AppleWebKit\\/(\\d+)\\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&\"currentDirection\"in e.RTCRtpTransceiver.prototype}return t}(e),c={browserDetails:r,commonShim:ae,extractVersion:n,disableLog:s,disableWarnings:o,sdp:Z};switch(r.browser){case\"chrome\":if(!I||!C||!t.shimChrome)return i(\"Chrome shim is not included in this adapter release.\"),c;if(null===r.version)return i(\"Chrome shim can not determine version, not shimming.\"),c;i(\"adapter.js shimming chrome.\"),c.browserShim=I,se(e,r),oe(e),_(e,r),E(e),C(e,r),m(e),R(e,r),f(e),g(e),T(e),v(e,r),$(e),ee(e),ne(e),te(e,r),ie(e),re(e,r);break;case\"firefox\":if(!U||!b||!t.shimFirefox)return i(\"Firefox shim is not included in this adapter release.\"),c;i(\"adapter.js shimming firefox.\"),c.browserShim=U,se(e,r),oe(e),y(e,r),b(e,r),A(e),N(e),w(e),O(e),D(e),P(e),L(e),k(e),M(e),$(e),ne(e),te(e,r),ie(e);break;case\"safari\":if(!Y||!t.shimSafari)return i(\"Safari shim is not included in this adapter release.\"),c;i(\"adapter.js shimming safari.\"),c.browserShim=Y,se(e,r),oe(e),G(e),H(e),F(e),x(e),V(e),W(e),B(e),K(e),$(e),ee(e),te(e,r),ie(e),re(e,r);break;default:i(\"Unsupported browser!\")}}({window:\"undefined\"==typeof window?void 0:window});var ce=function(e){try{return!!e()}catch(e){return!0}},de=!ce((function(){var e=function(){}.bind();return\"function\"!=typeof e||e.hasOwnProperty(\"prototype\")})),le=de,he=Function.prototype,ue=he.call,pe=le&&he.bind.bind(ue,ue),_e=le?pe:function(e){return function(){return ue.apply(e,arguments)}},Ee=_e({}.isPrototypeOf),me=function(e){return e&&e.Math==Math&&e},fe=me(\"object\"==typeof globalThis&&globalThis)||me(\"object\"==typeof window&&window)||me(\"object\"==typeof self&&self)||me(\"object\"==typeof q&&q)||function(){return this}()||q||Function(\"return this\")(),ge=de,Te=Function.prototype,Se=Te.apply,Re=Te.call,Ce=\"object\"==typeof Reflect&&Reflect.apply||(ge?Re.bind(Se):function(){return Re.apply(Se,arguments)}),ve=_e,Ie=ve({}.toString),ye=ve(\"\".slice),Ae=function(e){return ye(Ie(e),8,-1)},be=Ae,we=_e,Oe=function(e){if(\"Function\"===be(e))return we(e)},Ne=\"object\"==typeof document&&document.all,De={all:Ne,IS_HTMLDDA:void 0===Ne&&void 0!==Ne},Pe=De.all,Le=De.IS_HTMLDDA?function(e){return\"function\"==typeof e||e===Pe}:function(e){return\"function\"==typeof e},ke={},Me=!ce((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ue=de,xe=Function.prototype.call,Ve=Ue?xe.bind(xe):function(){return xe.apply(xe,arguments)},Fe={},Be={}.propertyIsEnumerable,je=Object.getOwnPropertyDescriptor,Ge=je&&!Be.call({1:2},1);Fe.f=Ge?function(e){var t=je(this,e);return!!t&&t.enumerable}:Be;var We,He,Ke=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ye=ce,qe=Ae,Je=Object,ze=_e(\"\".split),Xe=Ye((function(){return!Je(\"z\").propertyIsEnumerable(0)}))?function(e){return\"String\"==qe(e)?ze(e,\"\"):Je(e)}:Je,Qe=function(e){return null==e},Ze=Qe,$e=TypeError,et=function(e){if(Ze(e))throw $e(\"Can't call method on \"+e);return e},tt=Xe,it=et,nt=function(e){return tt(it(e))},rt=Le,st=De.all,ot=De.IS_HTMLDDA?function(e){return\"object\"==typeof e?null!==e:rt(e)||e===st}:function(e){return\"object\"==typeof e?null!==e:rt(e)},at={},ct=at,dt=fe,lt=Le,ht=function(e){return lt(e)?e:void 0},ut=function(e,t){return arguments.length<2?ht(ct[e])||ht(dt[e]):ct[e]&&ct[e][t]||dt[e]&&dt[e][t]},pt=\"undefined\"!=typeof navigator&&String(navigator.userAgent)||\"\",_t=fe,Et=pt,mt=_t.process,ft=_t.Deno,gt=mt&&mt.versions||ft&&ft.version,Tt=gt&&gt.v8;Tt&&(He=(We=Tt.split(\".\"))[0]>0&&We[0]<4?1:+(We[0]+We[1])),!He&&Et&&(!(We=Et.match(/Edge\\/(\\d+)/))||We[1]>=74)&&(We=Et.match(/Chrome\\/(\\d+)/))&&(He=+We[1]);var St=He,Rt=St,Ct=ce,vt=fe.String,It=!!Object.getOwnPropertySymbols&&!Ct((function(){var e=Symbol();return!vt(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Rt&&Rt<41})),yt=It&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,At=ut,bt=Le,wt=Ee,Ot=Object,Nt=yt?function(e){return\"symbol\"==typeof e}:function(e){var t=At(\"Symbol\");return bt(t)&&wt(t.prototype,Ot(e))},Dt=String,Pt=function(e){try{return Dt(e)}catch(e){return\"Object\"}},Lt=Le,kt=Pt,Mt=TypeError,Ut=function(e){if(Lt(e))return e;throw Mt(kt(e)+\" is not a function\")},xt=Ut,Vt=Qe,Ft=function(e,t){var i=e[t];return Vt(i)?void 0:xt(i)},Bt=Ve,jt=Le,Gt=ot,Wt=TypeError,Ht={exports:{}},Kt=fe,Yt=Object.defineProperty,qt=function(e,t){try{Yt(Kt,e,{value:t,configurable:!0,writable:!0})}catch(i){Kt[e]=t}return t},Jt=\"__core-js_shared__\",zt=fe[Jt]||qt(Jt,{}),Xt=zt;(Ht.exports=function(e,t){return Xt[e]||(Xt[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:\"3.31.1\",mode:\"pure\",copyright:\"© 2014-2023 Denis Pushkarev (zloirock.ru)\",license:\"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE\",source:\"https://github.com/zloirock/core-js\"});var Qt=Ht.exports,Zt=et,$t=Object,ei=function(e){return $t(Zt(e))},ti=ei,ii=_e({}.hasOwnProperty),ni=Object.hasOwn||function(e,t){return ii(ti(e),t)},ri=_e,si=0,oi=Math.random(),ai=ri(1..toString),ci=function(e){return\"Symbol(\"+(void 0===e?\"\":e)+\")_\"+ai(++si+oi,36)},di=Qt,li=ni,hi=ci,ui=It,pi=yt,_i=fe.Symbol,Ei=di(\"wks\"),mi=pi?_i.for||_i:_i&&_i.withoutSetter||hi,fi=function(e){return li(Ei,e)||(Ei[e]=ui&&li(_i,e)?_i[e]:mi(\"Symbol.\"+e)),Ei[e]},gi=Ve,Ti=ot,Si=Nt,Ri=Ft,Ci=function(e,t){var i,n;if(\"string\"===t&&jt(i=e.toString)&&!Gt(n=Bt(i,e)))return n;if(jt(i=e.valueOf)&&!Gt(n=Bt(i,e)))return n;if(\"string\"!==t&&jt(i=e.toString)&&!Gt(n=Bt(i,e)))return n;throw Wt(\"Can't convert object to primitive value\")},vi=TypeError,Ii=fi(\"toPrimitive\"),yi=function(e,t){if(!Ti(e)||Si(e))return e;var i,n=Ri(e,Ii);if(n){if(void 0===t&&(t=\"default\"),i=gi(n,e,t),!Ti(i)||Si(i))return i;throw vi(\"Can't convert object to primitive value\")}return void 0===t&&(t=\"number\"),Ci(e,t)},Ai=Nt,bi=function(e){var t=yi(e,\"string\");return Ai(t)?t:t+\"\"},wi=ot,Oi=fe.document,Ni=wi(Oi)&&wi(Oi.createElement),Di=function(e){return Ni?Oi.createElement(e):{}},Pi=Di,Li=!Me&&!ce((function(){return 7!=Object.defineProperty(Pi(\"div\"),\"a\",{get:function(){return 7}}).a})),ki=Me,Mi=Ve,Ui=Fe,xi=Ke,Vi=nt,Fi=bi,Bi=ni,ji=Li,Gi=Object.getOwnPropertyDescriptor;ke.f=ki?Gi:function(e,t){if(e=Vi(e),t=Fi(t),ji)try{return Gi(e,t)}catch(e){}if(Bi(e,t))return xi(!Mi(Ui.f,e,t),e[t])};var Wi=ce,Hi=Le,Ki=/#|\\.prototype\\./,Yi=function(e,t){var i=Ji[qi(e)];return i==Xi||i!=zi&&(Hi(t)?Wi(t):!!t)},qi=Yi.normalize=function(e){return String(e).replace(Ki,\".\").toLowerCase()},Ji=Yi.data={},zi=Yi.NATIVE=\"N\",Xi=Yi.POLYFILL=\"P\",Qi=Yi,Zi=Ut,$i=de,en=Oe(Oe.bind),tn=function(e,t){return Zi(e),void 0===t?e:$i?en(e,t):function(){return e.apply(t,arguments)}},nn={},rn=Me&&ce((function(){return 42!=Object.defineProperty((function(){}),\"prototype\",{value:42,writable:!1}).prototype})),sn=ot,on=String,an=TypeError,cn=function(e){if(sn(e))return e;throw an(on(e)+\" is not an object\")},dn=Me,ln=Li,hn=rn,un=cn,pn=bi,_n=TypeError,En=Object.defineProperty,mn=Object.getOwnPropertyDescriptor,fn=\"enumerable\",gn=\"configurable\",Tn=\"writable\";nn.f=dn?hn?function(e,t,i){if(un(e),t=pn(t),un(i),\"function\"==typeof e&&\"prototype\"===t&&\"value\"in i&&Tn in i&&!i[Tn]){var n=mn(e,t);n&&n[Tn]&&(e[t]=i.value,i={configurable:gn in i?i[gn]:n[gn],enumerable:fn in i?i[fn]:n[fn],writable:!1})}return En(e,t,i)}:En:function(e,t,i){if(un(e),t=pn(t),un(i),ln)try{return En(e,t,i)}catch(e){}if(\"get\"in i||\"set\"in i)throw _n(\"Accessors not supported\");return\"value\"in i&&(e[t]=i.value),e};var Sn=nn,Rn=Ke,Cn=Me?function(e,t,i){return Sn.f(e,t,Rn(1,i))}:function(e,t,i){return e[t]=i,e},vn=fe,In=Ce,yn=Oe,An=Le,bn=ke.f,wn=Qi,On=at,Nn=tn,Dn=Cn,Pn=ni,Ln=function(e){var t=function(i,n,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(i);case 2:return new e(i,n)}return new e(i,n,r)}return In(e,this,arguments)};return t.prototype=e.prototype,t},kn=function(e,t){var i,n,r,s,o,a,c,d,l,h=e.target,u=e.global,p=e.stat,_=e.proto,E=u?vn:p?vn[h]:(vn[h]||{}).prototype,m=u?On:On[h]||Dn(On,h,{})[h],f=m.prototype;for(s in t)n=!(i=wn(u?s:h+(p?\".\":\"#\")+s,e.forced))&&E&&Pn(E,s),a=m[s],n&&(c=e.dontCallGetSet?(l=bn(E,s))&&l.value:E[s]),o=n&&c?c:t[s],n&&typeof a==typeof o||(d=e.bind&&n?Nn(o,vn):e.wrap&&n?Ln(o):_&&An(o)?yn(o):o,(e.sham||o&&o.sham||a&&a.sham)&&Dn(d,\"sham\",!0),Dn(m,s,d),_&&(Pn(On,r=h+\"Prototype\")||Dn(On,r,{}),Dn(On[r],s,o),e.real&&f&&(i||!f[s])&&Dn(f,s,o)))},Mn=Math.ceil,Un=Math.floor,xn=Math.trunc||function(e){var t=+e;return(t>0?Un:Mn)(t)},Vn=function(e){var t=+e;return t!=t||0===t?0:xn(t)},Fn=Vn,Bn=Math.max,jn=Math.min,Gn=function(e,t){var i=Fn(e);return i<0?Bn(i+t,0):jn(i,t)},Wn=Vn,Hn=Math.min,Kn=function(e){return e>0?Hn(Wn(e),9007199254740991):0},Yn=function(e){return Kn(e.length)},qn=nt,Jn=Gn,zn=Yn,Xn=function(e){return function(t,i,n){var r,s=qn(t),o=zn(s),a=Jn(n,o);if(e&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((e||a in s)&&s[a]===i)return e||a||0;return!e&&-1}},Qn={includes:Xn(!0),indexOf:Xn(!1)},Zn=Qn.includes;kn({target:\"Array\",proto:!0,forced:ce((function(){return!Array(1).includes()}))},{includes:function(e){return Zn(this,e,arguments.length>1?arguments[1]:void 0)}});var $n=at,er=function(e){return $n[e+\"Prototype\"]},tr=er(\"Array\").includes,ir=ot,nr=Ae,rr=fi(\"match\"),sr=function(e){var t;return ir(e)&&(void 0!==(t=e[rr])?!!t:\"RegExp\"==nr(e))},or=TypeError,ar={};ar[fi(\"toStringTag\")]=\"z\";var cr=\"[object z]\"===String(ar),dr=cr,lr=Le,hr=Ae,ur=fi(\"toStringTag\"),pr=Object,_r=\"Arguments\"==hr(function(){return arguments}()),Er=dr?hr:function(e){var t,i,n;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=pr(e),ur))?i:_r?hr(t):\"Object\"==(n=hr(t))&&lr(t.callee)?\"Arguments\":n},mr=Er,fr=String,gr=function(e){if(\"Symbol\"===mr(e))throw TypeError(\"Cannot convert a Symbol value to a string\");return fr(e)},Tr=fi(\"match\"),Sr=kn,Rr=function(e){if(sr(e))throw or(\"The method doesn't accept regular expressions\");return e},Cr=et,vr=gr,Ir=function(e){var t=/./;try{\"/./\"[e](t)}catch(i){try{return t[Tr]=!1,\"/./\"[e](t)}catch(e){}}return!1},yr=_e(\"\".indexOf);Sr({target:\"String\",proto:!0,forced:!Ir(\"includes\")},{includes:function(e){return!!~yr(vr(Cr(this)),vr(Rr(e)),arguments.length>1?arguments[1]:void 0)}});var Ar=er(\"String\").includes,br=Ee,wr=tr,Or=Ar,Nr=Array.prototype,Dr=String.prototype,Pr=J((function(e){var t=e.includes;return e===Nr||br(Nr,e)&&t===Nr.includes?wr:\"string\"==typeof e||e===Dr||br(Dr,e)&&t===Dr.includes?Or:t})),Lr={exports:{}},kr=kn,Mr=Me,Ur=nn.f;kr({target:\"Object\",stat:!0,forced:Object.defineProperty!==Ur,sham:!Mr},{defineProperty:Ur});var xr=at.Object,Vr=Lr.exports=function(e,t,i){return xr.defineProperty(e,t,i)};xr.defineProperty.sham&&(Vr.sham=!0);var Fr=J(Lr.exports),Br=Ae,jr=Array.isArray||function(e){return\"Array\"==Br(e)},Gr=TypeError,Wr=bi,Hr=nn,Kr=Ke,Yr=function(e,t,i){var n=Wr(t);n in e?Hr.f(e,n,Kr(0,i)):e[n]=i},qr=Le,Jr=zt,zr=_e(Function.toString);qr(Jr.inspectSource)||(Jr.inspectSource=function(e){return zr(e)});var Xr=Jr.inspectSource,Qr=_e,Zr=ce,$r=Le,es=Er,ts=Xr,is=function(){},ns=[],rs=ut(\"Reflect\",\"construct\"),ss=/^\\s*(?:class|function)\\b/,os=Qr(ss.exec),as=!ss.exec(is),cs=function(e){if(!$r(e))return!1;try{return rs(is,ns,e),!0}catch(e){return!1}},ds=function(e){if(!$r(e))return!1;switch(es(e)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return!1}try{return as||!!os(ss,ts(e))}catch(e){return!0}};ds.sham=!0;var ls=!rs||Zr((function(){var e;return cs(cs.call)||!cs(Object)||!cs((function(){e=!0}))||e}))?ds:cs,hs=jr,us=ls,ps=ot,_s=fi(\"species\"),Es=Array,ms=function(e){var t;return hs(e)&&(t=e.constructor,(us(t)&&(t===Es||hs(t.prototype))||ps(t)&&null===(t=t[_s]))&&(t=void 0)),void 0===t?Es:t},fs=function(e,t){return new(ms(e))(0===t?0:t)},gs=ce,Ts=St,Ss=fi(\"species\"),Rs=kn,Cs=ce,vs=jr,Is=ot,ys=ei,As=Yn,bs=function(e){if(e>9007199254740991)throw Gr(\"Maximum allowed index exceeded\");return e},ws=Yr,Os=fs,Ns=function(e){return Ts>=51||!gs((function(){var t=[];return(t.constructor={})[Ss]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Ds=St,Ps=fi(\"isConcatSpreadable\"),Ls=Ds>=51||!Cs((function(){var e=[];return e[Ps]=!1,e.concat()[0]!==e})),ks=function(e){if(!Is(e))return!1;var t=e[Ps];return void 0!==t?!!t:vs(e)};Rs({target:\"Array\",proto:!0,arity:1,forced:!Ls||!Ns(\"concat\")},{concat:function(e){var t,i,n,r,s,o=ys(this),a=Os(o,0),c=0;for(t=-1,n=arguments.length;t<n;t++)if(ks(s=-1===t?o:arguments[t]))for(r=As(s),bs(c+r),i=0;i<r;i++,c++)i in s&&ws(a,c,s[i]);else bs(c+1),ws(a,c++,s);return a.length=c,a}});var Ms={},Us={},xs=ni,Vs=nt,Fs=Qn.indexOf,Bs=Us,js=_e([].push),Gs=function(e,t){var i,n=Vs(e),r=0,s=[];for(i in n)!xs(Bs,i)&&xs(n,i)&&js(s,i);for(;t.length>r;)xs(n,i=t[r++])&&(~Fs(s,i)||js(s,i));return s},Ws=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],Hs=Gs,Ks=Ws,Ys=Object.keys||function(e){return Hs(e,Ks)},qs=Me,Js=rn,zs=nn,Xs=cn,Qs=nt,Zs=Ys;Ms.f=qs&&!Js?Object.defineProperties:function(e,t){Xs(e);for(var i,n=Qs(t),r=Zs(t),s=r.length,o=0;s>o;)zs.f(e,i=r[o++],n[i]);return e};var $s,eo=ut(\"document\",\"documentElement\"),to=ci,io=Qt(\"keys\"),no=function(e){return io[e]||(io[e]=to(e))},ro=cn,so=Ms,oo=Ws,ao=Us,co=eo,lo=Di,ho=\"prototype\",uo=\"script\",po=no(\"IE_PROTO\"),_o=function(){},Eo=function(e){return\"<\"+uo+\">\"+e+\"</\"+uo+\">\"},mo=function(e){e.write(Eo(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t},fo=function(){try{$s=new ActiveXObject(\"htmlfile\")}catch(e){}var e,t,i;fo=\"undefined\"!=typeof document?document.domain&&$s?mo($s):(t=lo(\"iframe\"),i=\"java\"+uo+\":\",t.style.display=\"none\",co.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(Eo(\"document.F=Object\")),e.close(),e.F):mo($s);for(var n=oo.length;n--;)delete fo[ho][oo[n]];return fo()};ao[po]=!0;var go=Object.create||function(e,t){var i;return null!==e?(_o[ho]=ro(e),i=new _o,_o[ho]=null,i[po]=e):i=fo(),void 0===t?i:so.f(i,t)},To={},So=Gs,Ro=Ws.concat(\"length\",\"prototype\");To.f=Object.getOwnPropertyNames||function(e){return So(e,Ro)};var Co={},vo=Gn,Io=Yn,yo=Yr,Ao=Array,bo=Math.max,wo=function(e,t,i){for(var n=Io(e),r=vo(t,n),s=vo(void 0===i?n:i,n),o=Ao(bo(s-r,0)),a=0;r<s;r++,a++)yo(o,a,e[r]);return o.length=a,o},Oo=Ae,No=nt,Do=To.f,Po=wo,Lo=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Co.f=function(e){return Lo&&\"Window\"==Oo(e)?function(e){try{return Do(e)}catch(e){return Po(Lo)}}(e):Do(No(e))};var ko={};ko.f=Object.getOwnPropertySymbols;var Mo=Cn,Uo=function(e,t,i,n){return n&&n.enumerable?e[t]=i:Mo(e,t,i),e},xo=nn,Vo=function(e,t,i){return xo.f(e,t,i)},Fo={},Bo=fi;Fo.f=Bo;var jo,Go,Wo,Ho=at,Ko=ni,Yo=Fo,qo=nn.f,Jo=function(e){var t=Ho.Symbol||(Ho.Symbol={});Ko(t,e)||qo(t,e,{value:Yo.f(e)})},zo=Ve,Xo=ut,Qo=fi,Zo=Uo,$o=function(){var e=Xo(\"Symbol\"),t=e&&e.prototype,i=t&&t.valueOf,n=Qo(\"toPrimitive\");t&&!t[n]&&Zo(t,n,(function(e){return zo(i,this)}),{arity:1})},ea=Er,ta=cr?{}.toString:function(){return\"[object \"+ea(this)+\"]\"},ia=cr,na=nn.f,ra=Cn,sa=ni,oa=ta,aa=fi(\"toStringTag\"),ca=function(e,t,i,n){if(e){var r=i?e:e.prototype;sa(r,aa)||na(r,aa,{configurable:!0,value:t}),n&&!ia&&ra(r,\"toString\",oa)}},da=Le,la=fe.WeakMap,ha=da(la)&&/native code/.test(String(la)),ua=fe,pa=ot,_a=Cn,Ea=ni,ma=zt,fa=no,ga=Us,Ta=\"Object already initialized\",Sa=ua.TypeError,Ra=ua.WeakMap;if(ha||ma.state){var Ca=ma.state||(ma.state=new Ra);Ca.get=Ca.get,Ca.has=Ca.has,Ca.set=Ca.set,jo=function(e,t){if(Ca.has(e))throw Sa(Ta);return t.facade=e,Ca.set(e,t),t},Go=function(e){return Ca.get(e)||{}},Wo=function(e){return Ca.has(e)}}else{var va=fa(\"state\");ga[va]=!0,jo=function(e,t){if(Ea(e,va))throw Sa(Ta);return t.facade=e,_a(e,va,t),t},Go=function(e){return Ea(e,va)?e[va]:{}},Wo=function(e){return Ea(e,va)}}var Ia={set:jo,get:Go,has:Wo,enforce:function(e){return Wo(e)?Go(e):jo(e,{})},getterFor:function(e){return function(t){var i;if(!pa(t)||(i=Go(t)).type!==e)throw Sa(\"Incompatible receiver, \"+e+\" required\");return i}}},ya=tn,Aa=Xe,ba=ei,wa=Yn,Oa=fs,Na=_e([].push),Da=function(e){var t=1==e,i=2==e,n=3==e,r=4==e,s=6==e,o=7==e,a=5==e||s;return function(c,d,l,h){for(var u,p,_=ba(c),E=Aa(_),m=ya(d,l),f=wa(E),g=0,T=h||Oa,S=t?T(c,f):i||o?T(c,0):void 0;f>g;g++)if((a||g in E)&&(p=m(u=E[g],g,_),e))if(t)S[g]=p;else if(p)switch(e){case 3:return!0;case 5:return u;case 6:return g;case 2:Na(S,u)}else switch(e){case 4:return!1;case 7:Na(S,u)}return s?-1:n||r?r:S}},Pa={forEach:Da(0),map:Da(1),filter:Da(2),some:Da(3),every:Da(4),find:Da(5),findIndex:Da(6),filterReject:Da(7)},La=kn,ka=fe,Ma=Ve,Ua=_e,xa=Me,Va=It,Fa=ce,Ba=ni,ja=Ee,Ga=cn,Wa=nt,Ha=bi,Ka=gr,Ya=Ke,qa=go,Ja=Ys,za=To,Xa=Co,Qa=ko,Za=ke,$a=nn,ec=Ms,tc=Fe,ic=Uo,nc=Vo,rc=Qt,sc=Us,oc=ci,ac=fi,cc=Fo,dc=Jo,lc=$o,hc=ca,uc=Ia,pc=Pa.forEach,_c=no(\"hidden\"),Ec=\"Symbol\",mc=\"prototype\",fc=uc.set,gc=uc.getterFor(Ec),Tc=Object[mc],Sc=ka.Symbol,Rc=Sc&&Sc[mc],Cc=ka.TypeError,vc=ka.QObject,Ic=Za.f,yc=$a.f,Ac=Xa.f,bc=tc.f,wc=Ua([].push),Oc=rc(\"symbols\"),Nc=rc(\"op-symbols\"),Dc=rc(\"wks\"),Pc=!vc||!vc[mc]||!vc[mc].findChild,Lc=xa&&Fa((function(){return 7!=qa(yc({},\"a\",{get:function(){return yc(this,\"a\",{value:7}).a}})).a}))?function(e,t,i){var n=Ic(Tc,t);n&&delete Tc[t],yc(e,t,i),n&&e!==Tc&&yc(Tc,t,n)}:yc,kc=function(e,t){var i=Oc[e]=qa(Rc);return fc(i,{type:Ec,tag:e,description:t}),xa||(i.description=t),i},Mc=function(e,t,i){e===Tc&&Mc(Nc,t,i),Ga(e);var n=Ha(t);return Ga(i),Ba(Oc,n)?(i.enumerable?(Ba(e,_c)&&e[_c][n]&&(e[_c][n]=!1),i=qa(i,{enumerable:Ya(0,!1)})):(Ba(e,_c)||yc(e,_c,Ya(1,{})),e[_c][n]=!0),Lc(e,n,i)):yc(e,n,i)},Uc=function(e,t){Ga(e);var i=Wa(t),n=Ja(i).concat(Bc(i));return pc(n,(function(t){xa&&!Ma(xc,i,t)||Mc(e,t,i[t])})),e},xc=function(e){var t=Ha(e),i=Ma(bc,this,t);return!(this===Tc&&Ba(Oc,t)&&!Ba(Nc,t))&&(!(i||!Ba(this,t)||!Ba(Oc,t)||Ba(this,_c)&&this[_c][t])||i)},Vc=function(e,t){var i=Wa(e),n=Ha(t);if(i!==Tc||!Ba(Oc,n)||Ba(Nc,n)){var r=Ic(i,n);return!r||!Ba(Oc,n)||Ba(i,_c)&&i[_c][n]||(r.enumerable=!0),r}},Fc=function(e){var t=Ac(Wa(e)),i=[];return pc(t,(function(e){Ba(Oc,e)||Ba(sc,e)||wc(i,e)})),i},Bc=function(e){var t=e===Tc,i=Ac(t?Nc:Wa(e)),n=[];return pc(i,(function(e){!Ba(Oc,e)||t&&!Ba(Tc,e)||wc(n,Oc[e])})),n};Va||(Sc=function(){if(ja(Rc,this))throw Cc(\"Symbol is not a constructor\");var e=arguments.length&&void 0!==arguments[0]?Ka(arguments[0]):void 0,t=oc(e),i=function(e){this===Tc&&Ma(i,Nc,e),Ba(this,_c)&&Ba(this[_c],t)&&(this[_c][t]=!1),Lc(this,t,Ya(1,e))};return xa&&Pc&&Lc(Tc,t,{configurable:!0,set:i}),kc(t,e)},ic(Rc=Sc[mc],\"toString\",(function(){return gc(this).tag})),ic(Sc,\"withoutSetter\",(function(e){return kc(oc(e),e)})),tc.f=xc,$a.f=Mc,ec.f=Uc,Za.f=Vc,za.f=Xa.f=Fc,Qa.f=Bc,cc.f=function(e){return kc(ac(e),e)},xa&&nc(Rc,\"description\",{configurable:!0,get:function(){return gc(this).description}})),La({global:!0,constructor:!0,wrap:!0,forced:!Va,sham:!Va},{Symbol:Sc}),pc(Ja(Dc),(function(e){dc(e)})),La({target:Ec,stat:!0,forced:!Va},{useSetter:function(){Pc=!0},useSimple:function(){Pc=!1}}),La({target:\"Object\",stat:!0,forced:!Va,sham:!xa},{create:function(e,t){return void 0===t?qa(e):Uc(qa(e),t)},defineProperty:Mc,defineProperties:Uc,getOwnPropertyDescriptor:Vc}),La({target:\"Object\",stat:!0,forced:!Va},{getOwnPropertyNames:Fc}),lc(),hc(Sc,Ec),sc[_c]=!0;var jc=It&&!!Symbol.for&&!!Symbol.keyFor,Gc=kn,Wc=ut,Hc=ni,Kc=gr,Yc=Qt,qc=jc,Jc=Yc(\"string-to-symbol-registry\"),zc=Yc(\"symbol-to-string-registry\");Gc({target:\"Symbol\",stat:!0,forced:!qc},{for:function(e){var t=Kc(e);if(Hc(Jc,t))return Jc[t];var i=Wc(\"Symbol\")(t);return Jc[t]=i,zc[i]=t,i}});var Xc=kn,Qc=ni,Zc=Nt,$c=Pt,ed=jc,td=Qt(\"symbol-to-string-registry\");Xc({target:\"Symbol\",stat:!0,forced:!ed},{keyFor:function(e){if(!Zc(e))throw TypeError($c(e)+\" is not a symbol\");if(Qc(td,e))return td[e]}});var id=_e([].slice),nd=jr,rd=Le,sd=Ae,od=gr,ad=_e([].push),cd=kn,dd=ut,ld=Ce,hd=Ve,ud=_e,pd=ce,_d=Le,Ed=Nt,md=id,fd=function(e){if(rd(e))return e;if(nd(e)){for(var t=e.length,i=[],n=0;n<t;n++){var r=e[n];\"string\"==typeof r?ad(i,r):\"number\"!=typeof r&&\"Number\"!=sd(r)&&\"String\"!=sd(r)||ad(i,od(r))}var s=i.length,o=!0;return function(e,t){if(o)return o=!1,t;if(nd(this))return t;for(var n=0;n<s;n++)if(i[n]===e)return t}}},gd=It,Td=String,Sd=dd(\"JSON\",\"stringify\"),Rd=ud(/./.exec),Cd=ud(\"\".charAt),vd=ud(\"\".charCodeAt),Id=ud(\"\".replace),yd=ud(1..toString),Ad=/[\\uD800-\\uDFFF]/g,bd=/^[\\uD800-\\uDBFF]$/,wd=/^[\\uDC00-\\uDFFF]$/,Od=!gd||pd((function(){var e=dd(\"Symbol\")();return\"[null]\"!=Sd([e])||\"{}\"!=Sd({a:e})||\"{}\"!=Sd(Object(e))})),Nd=pd((function(){return'\"\\\\udf06\\\\ud834\"'!==Sd(\"\\udf06\\ud834\")||'\"\\\\udead\"'!==Sd(\"\\udead\")})),Dd=function(e,t){var i=md(arguments),n=fd(t);if(_d(n)||void 0!==e&&!Ed(e))return i[1]=function(e,t){if(_d(n)&&(t=hd(n,this,Td(e),t)),!Ed(t))return t},ld(Sd,null,i)},Pd=function(e,t,i){var n=Cd(i,t-1),r=Cd(i,t+1);return Rd(bd,e)&&!Rd(wd,r)||Rd(wd,e)&&!Rd(bd,n)?\"\\\\u\"+yd(vd(e,0),16):e};Sd&&cd({target:\"JSON\",stat:!0,arity:3,forced:Od||Nd},{stringify:function(e,t,i){var n=md(arguments),r=ld(Od?Dd:Sd,null,n);return Nd&&\"string\"==typeof r?Id(r,Ad,Pd):r}});var Ld=ko,kd=ei;kn({target:\"Object\",stat:!0,forced:!It||ce((function(){Ld.f(1)}))},{getOwnPropertySymbols:function(e){var t=Ld.f;return t?t(kd(e)):[]}}),Jo(\"asyncIterator\"),Jo(\"hasInstance\"),Jo(\"isConcatSpreadable\"),Jo(\"iterator\"),Jo(\"match\"),Jo(\"matchAll\"),Jo(\"replace\"),Jo(\"search\"),Jo(\"species\"),Jo(\"split\");var Md=$o;Jo(\"toPrimitive\"),Md();var Ud=ut,xd=ca;Jo(\"toStringTag\"),xd(Ud(\"Symbol\"),\"Symbol\"),Jo(\"unscopables\"),ca(fe.JSON,\"JSON\",!0);var Vd,Fd,Bd,jd=at.Symbol,Gd={},Wd=Me,Hd=ni,Kd=Function.prototype,Yd=Wd&&Object.getOwnPropertyDescriptor,qd=Hd(Kd,\"name\"),Jd={EXISTS:qd,PROPER:qd&&\"something\"===function(){}.name,CONFIGURABLE:qd&&(!Wd||Wd&&Yd(Kd,\"name\").configurable)},zd=!ce((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Xd=ni,Qd=Le,Zd=ei,$d=zd,el=no(\"IE_PROTO\"),tl=Object,il=tl.prototype,nl=$d?tl.getPrototypeOf:function(e){var t=Zd(e);if(Xd(t,el))return t[el];var i=t.constructor;return Qd(i)&&t instanceof i?i.prototype:t instanceof tl?il:null},rl=ce,sl=Le,ol=ot,al=go,cl=nl,dl=Uo,ll=fi(\"iterator\"),hl=!1;[].keys&&(\"next\"in(Bd=[].keys())?(Fd=cl(cl(Bd)))!==Object.prototype&&(Vd=Fd):hl=!0);var ul=!ol(Vd)||rl((function(){var e={};return Vd[ll].call(e)!==e}));sl((Vd=ul?{}:al(Vd))[ll])||dl(Vd,ll,(function(){return this}));var pl={IteratorPrototype:Vd,BUGGY_SAFARI_ITERATORS:hl},_l=pl.IteratorPrototype,El=go,ml=Ke,fl=ca,gl=Gd,Tl=function(){return this},Sl=_e,Rl=Ut,Cl=Le,vl=String,Il=TypeError,yl=function(e,t,i){try{return Sl(Rl(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(e){}},Al=cn,bl=function(e){if(\"object\"==typeof e||Cl(e))return e;throw Il(\"Can't set \"+vl(e)+\" as a prototype\")},wl=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var e,t=!1,i={};try{(e=yl(Object.prototype,\"__proto__\",\"set\"))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return Al(i),bl(n),t?e(i,n):i.__proto__=n,i}}():void 0),Ol=kn,Nl=Ve,Dl=Jd,Pl=function(e,t,i,n){var r=t+\" Iterator\";return e.prototype=El(_l,{next:ml(+!n,i)}),fl(e,r,!1,!0),gl[r]=Tl,e},Ll=nl,kl=ca,Ml=Uo,Ul=Gd,xl=pl,Vl=Dl.PROPER,Fl=xl.BUGGY_SAFARI_ITERATORS,Bl=fi(\"iterator\"),jl=\"keys\",Gl=\"values\",Wl=\"entries\",Hl=function(){return this},Kl=function(e,t,i,n,r,s,o){Pl(i,t,n);var a,c,d,l=function(e){if(e===r&&E)return E;if(!Fl&&e in p)return p[e];switch(e){case jl:case Gl:case Wl:return function(){return new i(this,e)}}return function(){return new i(this)}},h=t+\" Iterator\",u=!1,p=e.prototype,_=p[Bl]||p[\"@@iterator\"]||r&&p[r],E=!Fl&&_||l(r),m=\"Array\"==t&&p.entries||_;if(m&&(a=Ll(m.call(new e)))!==Object.prototype&&a.next&&(kl(a,h,!0,!0),Ul[h]=Hl),Vl&&r==Gl&&_&&_.name!==Gl&&(u=!0,E=function(){return Nl(_,this)}),r)if(c={values:l(Gl),keys:s?E:l(jl),entries:l(Wl)},o)for(d in c)(Fl||u||!(d in p))&&Ml(p,d,c[d]);else Ol({target:t,proto:!0,forced:Fl||u},c);return o&&p[Bl]!==E&&Ml(p,Bl,E,{name:r}),Ul[t]=E,c},Yl=function(e,t){return{value:e,done:t}},ql=nt,Jl=Gd,zl=Ia;nn.f;var Xl=Kl,Ql=Yl,Zl=\"Array Iterator\",$l=zl.set,eh=zl.getterFor(Zl);Xl(Array,\"Array\",(function(e,t){$l(this,{type:Zl,target:ql(e),index:0,kind:t})}),(function(){var e=eh(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,Ql(void 0,!0)):Ql(\"keys\"==i?n:\"values\"==i?t[n]:[n,t[n]],!1)}),\"values\"),Jl.Arguments=Jl.Array;var th={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ih=fe,nh=Er,rh=Cn,sh=Gd,oh=fi(\"toStringTag\");for(var ah in th){var ch=ih[ah],dh=ch&&ch.prototype;dh&&nh(dh)!==oh&&rh(dh,oh,ah),sh[ah]=sh.Array}var lh=jd,hh=fi,uh=nn.f,ph=hh(\"metadata\"),_h=Function.prototype;void 0===_h[ph]&&uh(_h,ph,{value:null}),Jo(\"dispose\"),Jo(\"metadata\");var Eh=lh;Jo(\"asyncDispose\");var mh=_e,fh=ut(\"Symbol\"),gh=fh.keyFor,Th=mh(fh.prototype.valueOf),Sh=fh.isRegisteredSymbol||function(e){try{return void 0!==gh(Th(e))}catch(e){return!1}};kn({target:\"Symbol\",stat:!0},{isRegisteredSymbol:Sh});for(var Rh=Qt,Ch=ut,vh=_e,Ih=Nt,yh=fi,Ah=Ch(\"Symbol\"),bh=Ah.isWellKnownSymbol,wh=Ch(\"Object\",\"getOwnPropertyNames\"),Oh=vh(Ah.prototype.valueOf),Nh=Rh(\"wks\"),Dh=0,Ph=wh(Ah),Lh=Ph.length;Dh<Lh;Dh++)try{var kh=Ph[Dh];Ih(Ah[kh])&&yh(kh)}catch(e){}var Mh=function(e){if(bh&&bh(e))return!0;try{for(var t=Oh(e),i=0,n=wh(Nh),r=n.length;i<r;i++)if(Nh[n[i]]==t)return!0}catch(e){}return!1};kn({target:\"Symbol\",stat:!0,forced:!0},{isWellKnownSymbol:Mh}),Jo(\"matcher\"),Jo(\"observable\"),kn({target:\"Symbol\",stat:!0,name:\"isRegisteredSymbol\"},{isRegistered:Sh}),kn({target:\"Symbol\",stat:!0,name:\"isWellKnownSymbol\",forced:!0},{isWellKnown:Mh}),Jo(\"metadataKey\"),Jo(\"patternMatch\"),Jo(\"replaceAll\");var Uh=J(Eh),xh=_e,Vh=Vn,Fh=gr,Bh=et,jh=xh(\"\".charAt),Gh=xh(\"\".charCodeAt),Wh=xh(\"\".slice),Hh=function(e){return function(t,i){var n,r,s=Fh(Bh(t)),o=Vh(i),a=s.length;return o<0||o>=a?e?\"\":void 0:(n=Gh(s,o))<55296||n>56319||o+1===a||(r=Gh(s,o+1))<56320||r>57343?e?jh(s,o):n:e?Wh(s,o,o+2):r-56320+(n-55296<<10)+65536}},Kh={codeAt:Hh(!1),charAt:Hh(!0)}.charAt,Yh=gr,qh=Ia,Jh=Kl,zh=Yl,Xh=\"String Iterator\",Qh=qh.set,Zh=qh.getterFor(Xh);Jh(String,\"String\",(function(e){Qh(this,{type:Xh,string:Yh(e),index:0})}),(function(){var e,t=Zh(this),i=t.string,n=t.index;return n>=i.length?zh(void 0,!0):(e=Kh(i,n),t.index+=e.length,zh(e,!1))}));var $h=J(Fo.f(\"iterator\"));function eu(e){return eu=\"function\"==typeof Uh&&\"symbol\"==typeof $h?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Uh&&e.constructor===Uh&&e!==Uh.prototype?\"symbol\":typeof e},eu(e)}var tu=J(Fo.f(\"toPrimitive\"));function iu(e){var t=function(e,t){if(\"object\"!==eu(e)||null===e)return e;var i=e[tu];if(void 0!==i){var n=i.call(e,t||\"default\");if(\"object\"!==eu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===eu(t)?t:String(t)}function nu(e,t,i){return(t=iu(t))in e?Fr(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ru=er(\"Array\").keys,su=Er,ou=ni,au=Ee,cu=ru,du=Array.prototype,lu={DOMTokenList:!0,NodeList:!0},hu=J((function(e){var t=e.keys;return e===du||au(du,e)&&t===du.keys||ou(lu,su(e))?cu:t})),uu=Pt,pu=TypeError,_u=wo,Eu=Math.floor,mu=function(e,t){var i=e.length,n=Eu(i/2);return i<8?fu(e,t):gu(e,mu(_u(e,0,n),t),mu(_u(e,n),t),t)},fu=function(e,t){for(var i,n,r=e.length,s=1;s<r;){for(n=s,i=e[s];n&&t(e[n-1],i)>0;)e[n]=e[--n];n!==s++&&(e[n]=i)}return e},gu=function(e,t,i,n){for(var r=t.length,s=i.length,o=0,a=0;o<r||a<s;)e[o+a]=o<r&&a<s?n(t[o],i[a])<=0?t[o++]:i[a++]:o<r?t[o++]:i[a++];return e},Tu=mu,Su=ce,Ru=function(e,t){var i=[][e];return!!i&&Su((function(){i.call(null,t||function(){return 1},1)}))},Cu=pt.match(/firefox\\/(\\d+)/i),vu=!!Cu&&+Cu[1],Iu=/MSIE|Trident/.test(pt),yu=pt.match(/AppleWebKit\\/(\\d+)\\./),Au=!!yu&&+yu[1],bu=kn,wu=_e,Ou=Ut,Nu=ei,Du=Yn,Pu=function(e,t){if(!delete e[t])throw pu(\"Cannot delete property \"+uu(t)+\" of \"+uu(e))},Lu=gr,ku=ce,Mu=Tu,Uu=Ru,xu=vu,Vu=Iu,Fu=St,Bu=Au,ju=[],Gu=wu(ju.sort),Wu=wu(ju.push),Hu=ku((function(){ju.sort(void 0)})),Ku=ku((function(){ju.sort(null)})),Yu=Uu(\"sort\"),qu=!ku((function(){if(Fu)return Fu<70;if(!(xu&&xu>3)){if(Vu)return!0;if(Bu)return Bu<603;var e,t,i,n,r=\"\";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)ju.push({k:t+n,v:i})}for(ju.sort((function(e,t){return t.v-e.v})),n=0;n<ju.length;n++)t=ju[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return\"DGBEFHACIJK\"!==r}}));bu({target:\"Array\",proto:!0,forced:Hu||!Ku||!Yu||!qu},{sort:function(e){void 0!==e&&Ou(e);var t=Nu(this);if(qu)return void 0===e?Gu(t):Gu(t,e);var i,n,r=[],s=Du(t);for(n=0;n<s;n++)n in t&&Wu(r,t[n]);for(Mu(r,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:Lu(t)>Lu(i)?1:-1}}(e)),i=Du(r),n=0;n<i;)t[n]=r[n++];for(;n<s;)Pu(t,n++);return t}});var Ju=er(\"Array\").sort,zu=Ee,Xu=Ju,Qu=Array.prototype,Zu=J((function(e){var t=e.sort;return e===Qu||zu(Qu,e)&&t===Qu.sort?Xu:t})),$u=ut,ep=To,tp=ko,ip=cn,np=_e([].concat),rp=$u(\"Reflect\",\"ownKeys\")||function(e){var t=ep.f(ip(e)),i=tp.f;return i?np(t,i(e)):t},sp=ni,op=rp,ap=ke,cp=nn,dp=ot,lp=Cn,hp=Error,up=_e(\"\".replace),pp=String(hp(\"zxcasd\").stack),_p=/\\n\\s*at [^:]*:[^\\n]*/,Ep=_p.test(pp),mp=Ke,fp=!ce((function(){var e=Error(\"a\");return!(\"stack\"in e)||(Object.defineProperty(e,\"stack\",mp(1,7)),7!==e.stack)})),gp=Cn,Tp=function(e,t){if(Ep&&\"string\"==typeof e&&!hp.prepareStackTrace)for(;t--;)e=up(e,_p,\"\");return e},Sp=fp,Rp=Error.captureStackTrace,Cp=Gd,vp=fi(\"iterator\"),Ip=Array.prototype,yp=Er,Ap=Ft,bp=Qe,wp=Gd,Op=fi(\"iterator\"),Np=function(e){if(!bp(e))return Ap(e,Op)||Ap(e,\"@@iterator\")||wp[yp(e)]},Dp=Ve,Pp=Ut,Lp=cn,kp=Pt,Mp=Np,Up=TypeError,xp=Ve,Vp=cn,Fp=Ft,Bp=tn,jp=Ve,Gp=cn,Wp=Pt,Hp=function(e){return void 0!==e&&(Cp.Array===e||Ip[vp]===e)},Kp=Yn,Yp=Ee,qp=function(e,t){var i=arguments.length<2?Mp(e):t;if(Pp(i))return Lp(Dp(i,e));throw Up(kp(e)+\" is not iterable\")},Jp=Np,zp=function(e,t,i){var n,r;Vp(e);try{if(!(n=Fp(e,\"return\"))){if(\"throw\"===t)throw i;return i}n=xp(n,e)}catch(e){r=!0,n=e}if(\"throw\"===t)throw i;if(r)throw n;return Vp(n),i},Xp=TypeError,Qp=function(e,t){this.stopped=e,this.result=t},Zp=Qp.prototype,$p=function(e,t,i){var n,r,s,o,a,c,d,l=i&&i.that,h=!(!i||!i.AS_ENTRIES),u=!(!i||!i.IS_RECORD),p=!(!i||!i.IS_ITERATOR),_=!(!i||!i.INTERRUPTED),E=Bp(t,l),m=function(e){return n&&zp(n,\"normal\",e),new Qp(!0,e)},f=function(e){return h?(Gp(e),_?E(e[0],e[1],m):E(e[0],e[1])):_?E(e,m):E(e)};if(u)n=e.iterator;else if(p)n=e;else{if(!(r=Jp(e)))throw Xp(Wp(e)+\" is not iterable\");if(Hp(r)){for(s=0,o=Kp(e);o>s;s++)if((a=f(e[s]))&&Yp(Zp,a))return a;return new Qp(!1)}n=qp(e,r)}for(c=u?e.next:n.next;!(d=jp(c,n)).done;){try{a=f(d.value)}catch(e){zp(n,\"throw\",e)}if(\"object\"==typeof a&&a&&Yp(Zp,a))return a}return new Qp(!1)},e_=gr,t_=kn,i_=Ee,n_=nl,r_=wl,s_=function(e,t,i){for(var n=op(t),r=cp.f,s=ap.f,o=0;o<n.length;o++){var a=n[o];sp(e,a)||i&&sp(i,a)||r(e,a,s(t,a))}},o_=go,a_=Cn,c_=Ke,d_=function(e,t){dp(t)&&\"cause\"in t&&lp(e,\"cause\",t.cause)},l_=function(e,t,i,n){Sp&&(Rp?Rp(e,t):gp(e,\"stack\",Tp(i,n)))},h_=$p,u_=function(e,t){return void 0===e?arguments.length<2?\"\":t:e_(e)},p_=fi(\"toStringTag\"),__=Error,E_=[].push,m_=function(e,t){var i,n=i_(f_,this);r_?i=r_(__(),n?n_(this):f_):(i=n?this:o_(f_),a_(i,p_,\"Error\")),void 0!==t&&a_(i,\"message\",u_(t)),l_(i,m_,i.stack,1),arguments.length>2&&d_(i,arguments[2]);var r=[];return h_(e,E_,{that:r}),a_(i,\"errors\",r),i};r_?r_(m_,__):s_(m_,__,{name:!0});var f_=m_.prototype=o_(__.prototype,{constructor:c_(1,m_),message:c_(1,\"\"),name:c_(1,\"AggregateError\")});t_({global:!0,constructor:!0,arity:2},{AggregateError:m_});var g_,T_,S_,R_,C_=\"undefined\"!=typeof process&&\"process\"==Ae(process),v_=ut,I_=Vo,y_=Me,A_=fi(\"species\"),b_=Ee,w_=TypeError,O_=ls,N_=Pt,D_=TypeError,P_=cn,L_=function(e){if(O_(e))return e;throw D_(N_(e)+\" is not a constructor\")},k_=Qe,M_=fi(\"species\"),U_=function(e,t){var i,n=P_(e).constructor;return void 0===n||k_(i=P_(n)[M_])?t:L_(i)},x_=TypeError,V_=/(?:ipad|iphone|ipod).*applewebkit/i.test(pt),F_=fe,B_=Ce,j_=tn,G_=Le,W_=ni,H_=ce,K_=eo,Y_=id,q_=Di,J_=function(e,t){if(e<t)throw x_(\"Not enough arguments\");return e},z_=V_,X_=C_,Q_=F_.setImmediate,Z_=F_.clearImmediate,$_=F_.process,eE=F_.Dispatch,tE=F_.Function,iE=F_.MessageChannel,nE=F_.String,rE=0,sE={},oE=\"onreadystatechange\";H_((function(){g_=F_.location}));var aE=function(e){if(W_(sE,e)){var t=sE[e];delete sE[e],t()}},cE=function(e){return function(){aE(e)}},dE=function(e){aE(e.data)},lE=function(e){F_.postMessage(nE(e),g_.protocol+\"//\"+g_.host)};Q_&&Z_||(Q_=function(e){J_(arguments.length,1);var t=G_(e)?e:tE(e),i=Y_(arguments,1);return sE[++rE]=function(){B_(t,void 0,i)},T_(rE),rE},Z_=function(e){delete sE[e]},X_?T_=function(e){$_.nextTick(cE(e))}:eE&&eE.now?T_=function(e){eE.now(cE(e))}:iE&&!z_?(R_=(S_=new iE).port2,S_.port1.onmessage=dE,T_=j_(R_.postMessage,R_)):F_.addEventListener&&G_(F_.postMessage)&&!F_.importScripts&&g_&&\"file:\"!==g_.protocol&&!H_(lE)?(T_=lE,F_.addEventListener(\"message\",dE,!1)):T_=oE in q_(\"script\")?function(e){K_.appendChild(q_(\"script\"))[oE]=function(){K_.removeChild(this),aE(e)}}:function(e){setTimeout(cE(e),0)});var hE={set:Q_,clear:Z_},uE=function(){this.head=null,this.tail=null};uE.prototype={add:function(e){var t={item:e,next:null},i=this.tail;i?i.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var pE,_E,EE,mE,fE,gE=uE,TE=/ipad|iphone|ipod/i.test(pt)&&\"undefined\"!=typeof Pebble,SE=/web0s(?!.*chrome)/i.test(pt),RE=fe,CE=tn,vE=ke.f,IE=hE.set,yE=gE,AE=V_,bE=TE,wE=SE,OE=C_,NE=RE.MutationObserver||RE.WebKitMutationObserver,DE=RE.document,PE=RE.process,LE=RE.Promise,kE=vE(RE,\"queueMicrotask\"),ME=kE&&kE.value;if(!ME){var UE=new yE,xE=function(){var e,t;for(OE&&(e=PE.domain)&&e.exit();t=UE.get();)try{t()}catch(e){throw UE.head&&pE(),e}e&&e.enter()};AE||OE||wE||!NE||!DE?!bE&&LE&&LE.resolve?((mE=LE.resolve(void 0)).constructor=LE,fE=CE(mE.then,mE),pE=function(){fE(xE)}):OE?pE=function(){PE.nextTick(xE)}:(IE=CE(IE,RE),pE=function(){IE(xE)}):(_E=!0,EE=DE.createTextNode(\"\"),new NE(xE).observe(EE,{characterData:!0}),pE=function(){EE.data=_E=!_E}),ME=function(e){UE.head||pE(),UE.add(e)}}var VE=ME,FE=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},BE=fe.Promise,jE=\"object\"==typeof Deno&&Deno&&\"object\"==typeof Deno.version,GE=!jE&&!C_&&\"object\"==typeof window&&\"object\"==typeof document,WE=fe,HE=BE,KE=Le,YE=Qi,qE=Xr,JE=fi,zE=GE,XE=jE,QE=St,ZE=HE&&HE.prototype,$E=JE(\"species\"),em=!1,tm=KE(WE.PromiseRejectionEvent),im=YE(\"Promise\",(function(){var e=qE(HE),t=e!==String(HE);if(!t&&66===QE)return!0;if(!ZE.catch||!ZE.finally)return!0;if(!QE||QE<51||!/native code/.test(e)){var i=new HE((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((i.constructor={})[$E]=n,!(em=i.then((function(){}))instanceof n))return!0}return!t&&(zE||XE)&&!tm})),nm={CONSTRUCTOR:im,REJECTION_EVENT:tm,SUBCLASSING:em},rm={},sm=Ut,om=TypeError,am=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw om(\"Bad Promise constructor\");t=e,i=n})),this.resolve=sm(t),this.reject=sm(i)};rm.f=function(e){return new am(e)};var cm,dm,lm=kn,hm=C_,um=fe,pm=Ve,_m=Uo,Em=ca,mm=function(e){var t=v_(e);y_&&t&&!t[A_]&&I_(t,A_,{configurable:!0,get:function(){return this}})},fm=Ut,gm=Le,Tm=ot,Sm=function(e,t){if(b_(t,e))return e;throw w_(\"Incorrect invocation\")},Rm=U_,Cm=hE.set,vm=VE,Im=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}},ym=FE,Am=gE,bm=Ia,wm=BE,Om=nm,Nm=rm,Dm=\"Promise\",Pm=Om.CONSTRUCTOR,Lm=Om.REJECTION_EVENT,km=bm.getterFor(Dm),Mm=bm.set,Um=wm&&wm.prototype,xm=wm,Vm=Um,Fm=um.TypeError,Bm=um.document,jm=um.process,Gm=Nm.f,Wm=Gm,Hm=!!(Bm&&Bm.createEvent&&um.dispatchEvent),Km=\"unhandledrejection\",Ym=function(e){var t;return!(!Tm(e)||!gm(t=e.then))&&t},qm=function(e,t){var i,n,r,s=t.value,o=1==t.state,a=o?e.ok:e.fail,c=e.resolve,d=e.reject,l=e.domain;try{a?(o||(2===t.rejection&&Zm(t),t.rejection=1),!0===a?i=s:(l&&l.enter(),i=a(s),l&&(l.exit(),r=!0)),i===e.promise?d(Fm(\"Promise-chain cycle\")):(n=Ym(i))?pm(n,i,c,d):c(i)):d(s)}catch(e){l&&!r&&l.exit(),d(e)}},Jm=function(e,t){e.notified||(e.notified=!0,vm((function(){for(var i,n=e.reactions;i=n.get();)qm(i,e);e.notified=!1,t&&!e.rejection&&Xm(e)})))},zm=function(e,t,i){var n,r;Hm?((n=Bm.createEvent(\"Event\")).promise=t,n.reason=i,n.initEvent(e,!1,!0),um.dispatchEvent(n)):n={promise:t,reason:i},!Lm&&(r=um[\"on\"+e])?r(n):e===Km&&Im(\"Unhandled promise rejection\",i)},Xm=function(e){pm(Cm,um,(function(){var t,i=e.facade,n=e.value;if(Qm(e)&&(t=ym((function(){hm?jm.emit(\"unhandledRejection\",n,i):zm(Km,i,n)})),e.rejection=hm||Qm(e)?2:1,t.error))throw t.value}))},Qm=function(e){return 1!==e.rejection&&!e.parent},Zm=function(e){pm(Cm,um,(function(){var t=e.facade;hm?jm.emit(\"rejectionHandled\",t):zm(\"rejectionhandled\",t,e.value)}))},$m=function(e,t,i){return function(n){e(t,n,i)}},ef=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,Jm(e,!0))},tf=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw Fm(\"Promise can't be resolved itself\");var n=Ym(t);n?vm((function(){var i={done:!1};try{pm(n,t,$m(tf,i,e),$m(ef,i,e))}catch(t){ef(i,t,e)}})):(e.value=t,e.state=1,Jm(e,!1))}catch(t){ef({done:!1},t,e)}}};Pm&&(Vm=(xm=function(e){Sm(this,Vm),fm(e),pm(cm,this);var t=km(this);try{e($m(tf,t),$m(ef,t))}catch(e){ef(t,e)}}).prototype,(cm=function(e){Mm(this,{type:Dm,done:!1,notified:!1,parent:!1,reactions:new Am,rejection:!1,state:0,value:void 0})}).prototype=_m(Vm,\"then\",(function(e,t){var i=km(this),n=Gm(Rm(this,xm));return i.parent=!0,n.ok=!gm(e)||e,n.fail=gm(t)&&t,n.domain=hm?jm.domain:void 0,0==i.state?i.reactions.add(n):vm((function(){qm(n,i)})),n.promise})),dm=function(){var e=new cm,t=km(e);this.promise=e,this.resolve=$m(tf,t),this.reject=$m(ef,t)},Nm.f=Gm=function(e){return e===xm||undefined===e?new dm(e):Wm(e)}),lm({global:!0,constructor:!0,wrap:!0,forced:Pm},{Promise:xm}),Em(xm,Dm,!1,!0),mm(Dm);var nf=fi(\"iterator\"),rf=!1;try{var sf=0,of={next:function(){return{done:!!sf++}},return:function(){rf=!0}};of[nf]=function(){return this},Array.from(of,(function(){throw 2}))}catch(e){}var af=BE,cf=function(e,t){if(!t&&!rf)return!1;var i=!1;try{var n={};n[nf]=function(){return{next:function(){return{done:i=!0}}}},e(n)}catch(e){}return i},df=nm.CONSTRUCTOR||!cf((function(e){af.all(e).then(void 0,(function(){}))})),lf=Ve,hf=Ut,uf=rm,pf=FE,_f=$p;kn({target:\"Promise\",stat:!0,forced:df},{all:function(e){var t=this,i=uf.f(t),n=i.resolve,r=i.reject,s=pf((function(){var i=hf(t.resolve),s=[],o=0,a=1;_f(e,(function(e){var c=o++,d=!1;a++,lf(i,t,e).then((function(e){d||(d=!0,s[c]=e,--a||n(s))}),r)})),--a||n(s)}));return s.error&&r(s.value),i.promise}});var Ef=kn,mf=nm.CONSTRUCTOR;BE&&BE.prototype,Ef({target:\"Promise\",proto:!0,forced:mf,real:!0},{catch:function(e){return this.then(void 0,e)}});var ff=Ve,gf=Ut,Tf=rm,Sf=FE,Rf=$p;kn({target:\"Promise\",stat:!0,forced:df},{race:function(e){var t=this,i=Tf.f(t),n=i.reject,r=Sf((function(){var r=gf(t.resolve);Rf(e,(function(e){ff(r,t,e).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}});var Cf=Ve,vf=rm;kn({target:\"Promise\",stat:!0,forced:nm.CONSTRUCTOR},{reject:function(e){var t=vf.f(this);return Cf(t.reject,void 0,e),t.promise}});var If=cn,yf=ot,Af=rm,bf=function(e,t){if(If(e),yf(t)&&t.constructor===e)return t;var i=Af.f(e);return(0,i.resolve)(t),i.promise},wf=kn,Of=BE,Nf=nm.CONSTRUCTOR,Df=bf,Pf=ut(\"Promise\"),Lf=!Nf;wf({target:\"Promise\",stat:!0,forced:true},{resolve:function(e){return Df(Lf&&this===Pf?Of:this,e)}});var kf=Ve,Mf=Ut,Uf=rm,xf=FE,Vf=$p;kn({target:\"Promise\",stat:!0,forced:df},{allSettled:function(e){var t=this,i=Uf.f(t),n=i.resolve,r=i.reject,s=xf((function(){var i=Mf(t.resolve),r=[],s=0,o=1;Vf(e,(function(e){var a=s++,c=!1;o++,kf(i,t,e).then((function(e){c||(c=!0,r[a]={status:\"fulfilled\",value:e},--o||n(r))}),(function(e){c||(c=!0,r[a]={status:\"rejected\",reason:e},--o||n(r))}))})),--o||n(r)}));return s.error&&r(s.value),i.promise}});var Ff=Ve,Bf=Ut,jf=ut,Gf=rm,Wf=FE,Hf=$p,Kf=\"No one promise resolved\";kn({target:\"Promise\",stat:!0,forced:df},{any:function(e){var t=this,i=jf(\"AggregateError\"),n=Gf.f(t),r=n.resolve,s=n.reject,o=Wf((function(){var n=Bf(t.resolve),o=[],a=0,c=1,d=!1;Hf(e,(function(e){var l=a++,h=!1;c++,Ff(n,t,e).then((function(e){h||d||(d=!0,r(e))}),(function(e){h||d||(h=!0,o[l]=e,--c||s(new i(o,Kf)))}))})),--c||s(new i(o,Kf))}));return o.error&&s(o.value),n.promise}});var Yf=kn,qf=BE,Jf=ce,zf=ut,Xf=Le,Qf=U_,Zf=bf,$f=qf&&qf.prototype;Yf({target:\"Promise\",proto:!0,real:!0,forced:!!qf&&Jf((function(){$f.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Qf(this,zf(\"Promise\")),i=Xf(e);return this.then(i?function(i){return Zf(t,e()).then((function(){return i}))}:e,i?function(i){return Zf(t,e()).then((function(){throw i}))}:e)}});var eg=at.Promise,tg=J(eg);const ig=()=>{};function ng(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:ig};return e.promise=new tg(((t,i)=>{e.resolve=i=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(i),e.value=i)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,i(t))}})),e}const rg=new Map,sg=new Map,og=new Map;var ag,cg;!function(e){e.WIN_10=\"Windows 10\",e.WIN_81=\"Windows 8.1\",e.WIN_8=\"Windows 8\",e.WIN_7=\"Windows 7\",e.WIN_VISTA=\"Windows Vista\",e.WIN_SERVER_2003=\"Windows Server 2003\",e.WIN_XP=\"Windows XP\",e.WIN_2000=\"Windows 2000\",e.ANDROID=\"Android\",e.HARMONY_OS=\"HarmonyOS\",e.OPEN_BSD=\"Open BSD\",e.SUN_OS=\"Sun OS\",e.LINUX=\"Linux\",e.IOS=\"iOS\",e.MAC_OS=\"Mac OS\",e.QNX=\"QNX\",e.UNIX=\"UNIX\",e.BEOS=\"BeOS\",e.OS_2=\"OS/2\",e.SEARCH_BOT=\"Search Bot\"}(ag||(ag={})),function(e){e.CHROME=\"Chrome\",e.SAFARI=\"Safari\",e.EDGE=\"Edge\",e.FIREFOX=\"Firefox\",e.OPERA=\"OPR\",e.QQ=\"QQBrowser\",e.WECHAT=\"MicroMessenger\"}(cg||(cg={}));var dg={exports:{}};!function(e,t){!function(i,n){var r=\"function\",s=\"undefined\",o=\"object\",a=\"string\",c=\"major\",d=\"model\",l=\"name\",h=\"type\",u=\"vendor\",p=\"version\",_=\"architecture\",E=\"console\",m=\"mobile\",f=\"tablet\",g=\"smarttv\",T=\"wearable\",S=\"embedded\",R=\"Amazon\",C=\"Apple\",v=\"ASUS\",I=\"BlackBerry\",y=\"Browser\",A=\"Chrome\",b=\"Firefox\",w=\"Google\",O=\"Huawei\",N=\"LG\",D=\"Microsoft\",P=\"Motorola\",L=\"Opera\",k=\"Samsung\",M=\"Sharp\",U=\"Sony\",x=\"Xiaomi\",V=\"Zebra\",F=\"Facebook\",B=\"Chromium OS\",j=\"Mac OS\",G=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},W=function(e,t){return typeof e===a&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===a)return e=e.replace(/^\\s\\s*/,\"\"),typeof t===s?e:e.substring(0,350)},Y=function(e,t){for(var i,s,a,c,d,l,h=0;h<t.length&&!d;){var u=t[h],p=t[h+1];for(i=s=0;i<u.length&&!d&&u[i];)if(d=u[i++].exec(e))for(a=0;a<p.length;a++)l=d[++s],typeof(c=p[a])===o&&c.length>0?2===c.length?typeof c[1]==r?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==r||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):n:this[c[0]]=l?c[1].call(this,l,c[2]):n:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):n):this[c]=l||n;h+=2}},q=function(e,t){for(var i in t)if(typeof t[i]===o&&t[i].length>0){for(var r=0;r<t[i].length;r++)if(W(t[i][r],e))return\"?\"===i?n:i}else if(W(t[i],e))return\"?\"===i?n:i;return e},J={ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2e3:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",10:[\"NT 6.4\",\"NT 10.0\"],RT:\"ARM\"},z={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[p,[l,\"Chrome\"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[p,[l,\"Edge\"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[l,p],[/opios[\\/ ]+([\\w\\.]+)/i],[p,[l,L+\" Mini\"]],[/\\bopr\\/([\\w\\.]+)/i],[p,[l,L]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[l,p],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[p,[l,\"UC\"+y]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[p,[l,\"WeChat(Win) Desktop\"]],[/micromessenger\\/([\\w\\.]+)/i],[p,[l,\"WeChat\"]],[/konqueror\\/([\\w\\.]+)/i],[p,[l,\"Konqueror\"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[p,[l,\"IE\"]],[/yabrowser\\/([\\w\\.]+)/i],[p,[l,\"Yandex\"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[l,/(.+)/,\"$1 Secure \"+y],p],[/\\bfocus\\/([\\w\\.]+)/i],[p,[l,b+\" Focus\"]],[/\\bopt\\/([\\w\\.]+)/i],[p,[l,L+\" Touch\"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[p,[l,\"Coc Coc\"]],[/dolfin\\/([\\w\\.]+)/i],[p,[l,\"Dolphin\"]],[/coast\\/([\\w\\.]+)/i],[p,[l,L+\" Coast\"]],[/miuibrowser\\/([\\w\\.]+)/i],[p,[l,\"MIUI \"+y]],[/fxios\\/([-\\w\\.]+)/i],[p,[l,b]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[l,\"360 \"+y]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[l,/(.+)/,\"$1 \"+y],p],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[l,/_/g,\" \"],p],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[l,p],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[l],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[l,F],p],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[l,p],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[p,[l,\"GSA\"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[p,[l,A+\" Headless\"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[l,A+\" WebView\"],p],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[p,[l,\"Android \"+y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[l,p],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[p,[l,\"Mobile Safari\"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[p,l],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[l,[p,q,{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[l,p],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[l,\"Netscape\"],p],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[p,[l,b+\" Reality\"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[l,p],[/(cobalt)\\/([\\w\\.]+)/i],[l,[p,/master.|lts./,\"\"]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[_,\"amd64\"]],[/(ia32(?=;))/i],[[_,H]],[/((?:i[346]|x)86)[;\\)]/i],[[_,\"ia32\"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[_,\"arm64\"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[_,\"armhf\"]],[/windows (ce|mobile); ppc;/i],[[_,\"arm\"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[_,/ower/,\"\",H]],[/(sun4\\w)[;\\)]/i],[[_,\"sparc\"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[_,H]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[u,k],[h,f]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[d,[u,k],[h,m]],[/\\((ip(?:hone|od)[\\w ]*);/i],[d,[u,C],[h,m]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[d,[u,C],[h,f]],[/(macintosh);/i],[d,[u,C]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[d,[u,M],[h,m]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[d,[u,O],[h,f]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[d,[u,O],[h,m]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[d,/_/g,\" \"],[u,x],[h,m]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[d,/_/g,\" \"],[u,x],[h,f]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[d,[u,\"OPPO\"],[h,m]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[d,[u,\"Vivo\"],[h,m]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[d,[u,\"Realme\"],[h,m]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[d,[u,P],[h,m]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[d,[u,P],[h,f]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[u,N],[h,f]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[d,[u,N],[h,m]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[d,[u,\"Lenovo\"],[h,f]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[d,/_/g,\" \"],[u,\"Nokia\"],[h,m]],[/(pixel c)\\b/i],[d,[u,w],[h,f]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[d,[u,w],[h,m]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[d,[u,U],[h,m]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[d,\"Xperia Tablet\"],[u,U],[h,f]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[d,[u,\"OnePlus\"],[h,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[d,[u,R],[h,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[d,/(.+)/g,\"Fire Phone $1\"],[u,R],[h,m]],[/(playbook);[-\\w\\),; ]+(rim)/i],[d,u,[h,f]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[d,[u,I],[h,m]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[d,[u,v],[h,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[d,[u,v],[h,m]],[/(nexus 9)/i],[d,[u,\"HTC\"],[h,f]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[u,[d,/_/g,\" \"],[h,m]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[d,[u,\"Acer\"],[h,f]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[d,[u,\"Meizu\"],[h,m]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[u,d,[h,m]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[u,d,[h,f]],[/(surface duo)/i],[d,[u,D],[h,f]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[d,[u,\"Fairphone\"],[h,m]],[/(u304aa)/i],[d,[u,\"AT&T\"],[h,m]],[/\\bsie-(\\w*)/i],[d,[u,\"Siemens\"],[h,m]],[/\\b(rct\\w+) b/i],[d,[u,\"RCA\"],[h,f]],[/\\b(venue[\\d ]{2,7}) b/i],[d,[u,\"Dell\"],[h,f]],[/\\b(q(?:mv|ta)\\w+) b/i],[d,[u,\"Verizon\"],[h,f]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[d,[u,\"Barnes & Noble\"],[h,f]],[/\\b(tm\\d{3}\\w+) b/i],[d,[u,\"NuVision\"],[h,f]],[/\\b(k88) b/i],[d,[u,\"ZTE\"],[h,f]],[/\\b(nx\\d{3}j) b/i],[d,[u,\"ZTE\"],[h,m]],[/\\b(gen\\d{3}) b.+49h/i],[d,[u,\"Swiss\"],[h,m]],[/\\b(zur\\d{3}) b/i],[d,[u,\"Swiss\"],[h,f]],[/\\b((zeki)?tb.*\\b) b/i],[d,[u,\"Zeki\"],[h,f]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[u,\"Dragon Touch\"],d,[h,f]],[/\\b(ns-?\\w{0,9}) b/i],[d,[u,\"Insignia\"],[h,f]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[d,[u,\"NextBook\"],[h,f]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,\"Voice\"],d,[h,m]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[u,\"LvTel\"],d,[h,m]],[/\\b(ph-1) /i],[d,[u,\"Essential\"],[h,m]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[d,[u,\"Envizen\"],[h,f]],[/\\b(trio[-\\w\\. ]+) b/i],[d,[u,\"MachSpeed\"],[h,f]],[/\\btu_(1491) b/i],[d,[u,\"Rotor\"],[h,f]],[/(shield[\\w ]+) b/i],[d,[u,\"Nvidia\"],[h,f]],[/(sprint) (\\w+)/i],[u,d,[h,m]],[/(kin\\.[onetw]{3})/i],[[d,/\\./g,\" \"],[u,D],[h,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[d,[u,V],[h,f]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[d,[u,V],[h,m]],[/smart-tv.+(samsung)/i],[u,[h,g]],[/hbbtv.+maple;(\\d+)/i],[[d,/^/,\"SmartTV\"],[u,k],[h,g]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[u,N],[h,g]],[/(apple) ?tv/i],[u,[d,C+\" TV\"],[h,g]],[/crkey/i],[[d,A+\"cast\"],[u,w],[h,g]],[/droid.+aft(\\w)( bui|\\))/i],[d,[u,R],[h,g]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[d,[u,M],[h,g]],[/(bravia[\\w ]+)( bui|\\))/i],[d,[u,U],[h,g]],[/(mitv-\\w{5}) bui/i],[d,[u,x],[h,g]],[/Hbbtv.*(technisat) (.*);/i],[u,d,[h,g]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[u,K],[d,K],[h,g]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[h,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,d,[h,E]],[/droid.+; (shield) bui/i],[d,[u,\"Nvidia\"],[h,E]],[/(playstation [345portablevi]+)/i],[d,[u,U],[h,E]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[d,[u,D],[h,E]],[/((pebble))app/i],[u,d,[h,T]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[d,[u,C],[h,T]],[/droid.+; (glass) \\d/i],[d,[u,w],[h,T]],[/droid.+; (wt63?0{2,3})\\)/i],[d,[u,V],[h,T]],[/(quest( 2| pro)?)/i],[d,[u,F],[h,T]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[u,[h,S]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[d,[h,m]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[d,[h,f]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[h,f]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[h,m]],[/(android[-\\w\\. ]{0,9});.+buil/i],[d,[u,\"Generic\"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[p,[l,\"EdgeHTML\"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[p,[l,\"Blink\"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[l,p],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[p,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,p],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[l,[p,q,J]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[l,\"Windows\"],[p,q,J]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[p,/_/g,\".\"],[l,\"iOS\"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[l,j],[p,/_/g,\".\"]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[p,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[l,p],[/\\(bb(10);/i],[p,[l,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[p,[l,\"Symbian\"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[p,[l,b+\" OS\"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[p,[l,\"webOS\"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[p,[l,\"watchOS\"]],[/crkey\\/([\\d\\.]+)/i],[p,[l,A+\"cast\"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[l,B],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[l,p],[/(sunos) ?([\\w\\.\\d]*)/i],[[l,\"Solaris\"],p],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[l,p]]},X=function(e,t){if(typeof e===o&&(t=e,e=n),!(this instanceof X))return new X(e,t).getResult();var E=typeof i!==s&&i.navigator?i.navigator:n,g=e||(E&&E.userAgent?E.userAgent:\"\"),T=E&&E.userAgentData?E.userAgentData:n,S=t?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(z,t):z;return this.getBrowser=function(){var e={};return e[l]=n,e[p]=n,Y.call(e,g,S.browser),e[c]=function(e){return typeof e===a?e.replace(/[^\\d\\.]/g,\"\").split(\".\")[0]:n}(e[p]),E&&E.brave&&typeof E.brave.isBrave==r&&(e[l]=\"Brave\"),e},this.getCPU=function(){var e={};return e[_]=n,Y.call(e,g,S.cpu),e},this.getDevice=function(){var e={};return e[u]=n,e[d]=n,e[h]=n,Y.call(e,g,S.device),!e[h]&&T&&T.mobile&&(e[h]=m),\"Macintosh\"==e[d]&&E&&typeof E.standalone!==s&&E.maxTouchPoints&&E.maxTouchPoints>2&&(e[d]=\"iPad\",e[h]=f),e},this.getEngine=function(){var e={};return e[l]=n,e[p]=n,Y.call(e,g,S.engine),e},this.getOS=function(){var e={};return e[l]=n,e[p]=n,Y.call(e,g,S.os),!e[l]&&T&&\"Unknown\"!=T.platform&&(e[l]=T.platform.replace(/chrome os/i,B).replace(/macos/i,j)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return g},this.setUA=function(e){return g=typeof e===a&&e.length>350?K(e,350):e,this},this.setUA(g),this};X.VERSION=\"0.7.34\",X.BROWSER=G([l,p,c]),X.CPU=G([_]),X.DEVICE=G([d,u,h,E,m,g,f,T,S]),X.ENGINE=X.OS=G([l,p]),e.exports&&(t=e.exports=X),t.UAParser=X;var Q=typeof i!==s&&(i.jQuery||i.Zepto);if(Q&&!Q.ua){var Z=new X;Q.ua=Z.getResult(),Q.ua.get=function(){return Z.getUA()},Q.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var i in t)Q.ua[i]=t[i]}}}(\"object\"==typeof window?window:q)}(dg,dg.exports);const lg=new(J(dg.exports));let hg=lg.getResult(),ug=null;function pg(e){if(!ug){e&&lg.setUA(e),hg=lg.getResult();const t=function(e){if(\"Blink\"===e.engine.name&&\"WeChat\"!==e.browser.name)return cg.CHROME;switch(e.browser.name){case\"Chrome Headless\":case\"Chrome\":case\"Chromium\":return cg.CHROME;case\"Safari\":case\"Mobile Safari\":return cg.SAFARI;case\"Edge\":return cg.EDGE;case\"Firefox\":return cg.FIREFOX;case\"QQBrowser\":return cg.QQ;case\"Opera\":return cg.OPERA;case\"WeChat\":return cg.WECHAT;default:return e.browser.name||\"\"}}(hg),i=function(e){let t;t=\"Blink\"===e.engine.name?e.engine.version||\"\":e.browser.version||\"\";return t.split(\".\")[0]}(hg),n=function(e){if(\"Windows\"===e.os.name)return e.os.version?e.os.name+\" \"+e.os.version:e.os.name;return e.os.name||\"\"}(hg),r=hg.os.version;if(!(t&&i&&n&&r))return{name:t,version:i,os:n,osVersion:r};ug={name:t,version:i,os:n,osVersion:r}}return ug}function _g(){return pg().os}function Eg(){const e=pg();return\"\".concat(e.os,\" \").concat(e.osVersion)}function mg(){const e=pg();return!!(\"WebKit\"===hg.engine.name&&e.os===ag.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==cg.SAFARI||Cg()&&e.name!==cg.SAFARI)}function fg(){const e=pg();if(mg()){if(e.os===ag.MAC_OS)return!0;if(e.os===ag.IOS){const e=hg.os.version&&hg.os.version.split(\".\");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}function gg(){return\"WebKit\"===hg.engine.name}function Tg(){return pg().name===cg.CHROME}function Sg(){return pg().name===cg.SAFARI}function Rg(){return pg().name===cg.FIREFOX}function Cg(){return pg().os===ag.IOS}function vg(e){const t=pg();return!(t.name!==cg.CHROME||!t.osVersion)&&Number(t.version)>=e}function Ig(e){const t=pg();return!(t.name!==cg.EDGE||!t.osVersion)&&Number(t.version)>=e}function yg(e){const t=pg();return!(t.name!==cg.OPERA||!t.osVersion)&&Number(t.version)>=e}function Ag(){const e=pg();return!(e.name!==cg.CHROME||!e.osVersion)&&Number(e.version)<=90}function bg(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function wg(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])}function Og(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 16===Number(t[0])}function Ng(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=1}function Dg(){return Sg()&&navigator.maxTouchPoints>0}function Pg(){return pg().name===cg.WECHAT}function Lg(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)&&window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)[1]<=35}function kg(){const e=pg();if(e.name===cg.EDGE||e.name===cg.SAFARI)return!1;return!!navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i)}function Mg(){return _g()===ag.ANDROID}function Ug(){const e=pg();return Mg()&&(e.name===cg.CHROME||e.name===cg.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}var xg;!function(e){e.UNEXPECTED_ERROR=\"UNEXPECTED_ERROR\",e.UNEXPECTED_RESPONSE=\"UNEXPECTED_RESPONSE\",e.TIMEOUT=\"TIMEOUT\",e.INVALID_PARAMS=\"INVALID_PARAMS\",e.NOT_READABLE=\"NOT_READABLE\",e.NOT_SUPPORTED=\"NOT_SUPPORTED\",e.INVALID_OPERATION=\"INVALID_OPERATION\",e.OPERATION_ABORTED=\"OPERATION_ABORTED\",e.WEB_SECURITY_RESTRICT=\"WEB_SECURITY_RESTRICT\",e.EXCHANGE_SDP_FAILED=\"EXCHANGE_SDP_FAILED\",e.ADD_CANDIDATE_FAILED=\"ADD_CANDIDATE_FAILED\",e.DATACHANNEL_FAILED=\"DATACHANNEL_FAILED\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.NETWORK_TIMEOUT=\"NETWORK_TIMEOUT\",e.NETWORK_RESPONSE_ERROR=\"NETWORK_RESPONSE_ERROR\",e.API_INVOKE_TIMEOUT=\"API_INVOKE_TIMEOUT\",e.ENUMERATE_DEVICES_FAILED=\"ENUMERATE_DEVICES_FAILED\",e.DEVICE_NOT_FOUND=\"DEVICE_NOT_FOUND\",e.ELECTRON_IS_NULL=\"ELECTRON_IS_NULL\",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=\"ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR\",e.CHROME_PLUGIN_NO_RESPONSE=\"CHROME_PLUGIN_NO_RESPONSE\",e.CHROME_PLUGIN_NOT_INSTALL=\"CHROME_PLUGIN_NOT_INSTALL\",e.MEDIA_OPTION_INVALID=\"MEDIA_OPTION_INVALID\",e.PERMISSION_DENIED=\"PERMISSION_DENIED\",e.CONSTRAINT_NOT_SATISFIED=\"CONSTRAINT_NOT_SATISFIED\",e.TRACK_IS_DISABLED=\"TRACK_IS_DISABLED\",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR=\"GET_VIDEO_ELEMENT_VISIBLE_ERROR\",e.SHARE_AUDIO_NOT_ALLOWED=\"SHARE_AUDIO_NOT_ALLOWED\",e.LOW_STREAM_ENCODING_ERROR=\"LOW_STREAM_ENCODING_ERROR\",e.SET_ENCODING_PARAMETER_ERROR=\"SET_ENCODING_PARAMETER_ERROR\",e.TRACK_STATE_UNREACHABLE=\"TRACK_STATE_UNREACHABLE\",e.INVALID_UINT_UID_FROM_STRING_UID=\"INVALID_UINT_UID_FROM_STRING_UID\",e.CAN_NOT_GET_PROXY_SERVER=\"CAN_NOT_GET_PROXY_SERVER\",e.CAN_NOT_GET_GATEWAY_SERVER=\"CAN_NOT_GET_GATEWAY_SERVER\",e.VOID_GATEWAY_ADDRESS=\"VOID_GATEWAY_ADDRESS\",e.UID_CONFLICT=\"UID_CONFLICT\",e.MULTI_UNILBS_RESPONSE_ERROR=\"MULTI_UNILBS_RESPONSE_ERROR\",e.UPDATE_TICKET_FAILED=\"UPDATE_TICKET_FAILED\",e.INVALID_LOCAL_TRACK=\"INVALID_LOCAL_TRACK\",e.INVALID_TRACK=\"INVALID_TRACK\",e.SENDER_NOT_FOUND=\"SENDER_NOT_FOUND\",e.CREATE_OFFER_FAILED=\"CREATE_OFFER_FAILED\",e.SET_ANSWER_FAILED=\"SET_ANSWER_FAILED\",e.ICE_FAILED=\"ICE_FAILED\",e.PC_CLOSED=\"PC_CLOSED\",e.SENDER_REPLACE_FAILED=\"SENDER_REPLACE_FAILED\",e.GET_LOCAL_CAPABILITIES_FAILED=\"GET_LOCAL_CAPABILITIES_FAILED\",e.GET_LOCAL_CONNECTION_PARAMS_FAILED=\"GET_LOCAL_CONNECTION_PARAMS_FAILED\",e.SUBSCRIBE_FAILED=\"SUBSCRIBE_FAILED\",e.UNSUBSCRIBE_FAILED=\"UNSUBSCRIBE_FAILED\",e.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",e.NO_ICE_CANDIDATE=\"NO_ICE_CANDIDATE\",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=\"CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS\",e.EXIST_DISABLED_VIDEO_TRACK=\"EXIST_DISABLED_VIDEO_TRACK\",e.INVALID_REMOTE_USER=\"INVALID_REMOTE_USER\",e.REMOTE_USER_IS_NOT_PUBLISHED=\"REMOTE_USER_IS_NOT_PUBLISHED\",e.CUSTOM_REPORT_SEND_FAILED=\"CUSTOM_REPORT_SEND_FAILED\",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=\"CUSTOM_REPORT_FREQUENCY_TOO_HIGH\",e.FETCH_AUDIO_FILE_FAILED=\"FETCH_AUDIO_FILE_FAILED\",e.READ_LOCAL_AUDIO_FILE_ERROR=\"READ_LOCAL_AUDIO_FILE_ERROR\",e.DECODE_AUDIO_FILE_FAILED=\"DECODE_AUDIO_FILE_FAILED\",e.WS_ABORT=\"WS_ABORT\",e.WS_DISCONNECT=\"WS_DISCONNECT\",e.WS_ERR=\"WS_ERR\",e.LIVE_STREAMING_TASK_CONFLICT=\"LIVE_STREAMING_TASK_CONFLICT\",e.LIVE_STREAMING_INVALID_ARGUMENT=\"LIVE_STREAMING_INVALID_ARGUMENT\",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR=\"LIVE_STREAMING_INTERNAL_SERVER_ERROR\",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=\"LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED\",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=\"LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED\",e.LIVE_STREAMING_CDN_ERROR=\"LIVE_STREAMING_CDN_ERROR\",e.LIVE_STREAMING_INVALID_RAW_STREAM=\"LIVE_STREAMING_INVALID_RAW_STREAM\",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=\"LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT\",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=\"LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE\",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST=\"LIVE_STREAMING_WARN_FREQUENT_REQUEST\",e.WEBGL_INTERNAL_ERROR=\"WEBGL_INTERNAL_ERROR\",e.BEAUTY_PROCESSOR_INTERNAL_ERROR=\"BEAUTY_PROCESSOR_INTERNAL_ERROR\",e.CROSS_CHANNEL_WAIT_STATUS_ERROR=\"CROSS_CHANNEL_WAIT_STATUS_ERROR\",e.CROSS_CHANNEL_FAILED_JOIN_SRC=\"CROSS_CHANNEL_FAILED_JOIN_SEC\",e.CROSS_CHANNEL_FAILED_JOIN_DEST=\"CROSS_CHANNEL_FAILED_JOIN_DEST\",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=\"CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST\",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=\"CROSS_CHANNEL_SERVER_ERROR_RESPONSE\",e.METADATA_OUT_OF_RANGE=\"METADATA_OUT_OF_RANGE\",e.LOCAL_AEC_ERROR=\"LOCAL_AEC_ERROR\",e.INVALID_PLUGIN=\"INVALID_PLUGIN\",e.DISCONNECT_P2P=\"DISCONNECT_P2P\",e.INIT_WEBSOCKET_TIMEOUT=\"INIT_WEBSOCKET_TIMEOUT\",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=\"CONVERTING_IMAGEDATA_TO_BLOB_FAILED\",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=\"CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED\",e.INIT_DATACHANNEL_TIMEOUT=\"INIT_DATACHANNEL_TIMEOUT\",e.DATACHANNEL_CONNECTION_TIMEOUT=\"DATACHANNEL_CONNECTION_TIMEOUT\",e.PROHIBITED_OPERATION=\"PROHIBITED_OPERATION\",e.IMAGE_MODERATION_UPLOAD_FAILED=\"IMAGE_MODERATION_UPLOAD_FAILED\"}(xg||(xg={}));let Vg=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",i=arguments.length>2?arguments[2]:void 0;super(t),nu(this,\"code\",void 0),nu(this,\"message\",void 0),nu(this,\"data\",void 0),nu(this,\"name\",\"AgoraRTCException\"),this.code=e,this.message=\"AgoraRTCError \".concat(this.code,\": \").concat(t),this.data=i}toString(){return this.data?\"data: \".concat(JSON.stringify(this.data),\"\\n\").concat(this.stack):\"\".concat(this.stack)}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"error\",t=arguments.length>1?arguments[1]:void 0;return\"error\"===e&&(t||console).error(this.toString()),\"warning\"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print(\"error\",e),this}};function Fg(e,t){if(\"boolean\"!=typeof e)throw new Vg(xg.INVALID_PARAMS,\"Invalid \".concat(t,\": The value is of the boolean type.\"))}function Bg(e,t,i){if(Pr(i).call(i,e))return;throw new Vg(xg.INVALID_PARAMS,\"\".concat(t,\" can only be set as \").concat(JSON.stringify(i)))}function jg(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<i||e>n||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return\"number\"==typeof e&&e%1==0}(e)){throw new Vg(xg.INVALID_PARAMS,\"invalid \".concat(t,\": the value range is [\").concat(i,\", \").concat(n,\"]. integer only\"))}}function Gg(e,t){if(\"number\"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact)){throw new Vg(xg.INVALID_PARAMS,\"\".concat(t,\" is not a valid ConstrainLong\"))}void 0!==e.min&&jg(e.min,\"\".concat(t,\".min\"),0,1/0),void 0!==e.max&&jg(e.max,\"\".concat(t,\".max\"),1,1/0),void 0!==e.exact&&jg(e.exact,\"\".concat(t,\".exact\"),1,1/0),void 0!==e.ideal&&jg(e.ideal,\"\".concat(t,\".ideal\"),1,1/0)}else jg(e,t,1,1/0)}function Wg(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new Vg(xg.INVALID_PARAMS,\"\".concat(t||\"param\",\" cannot be empty\"));if(!Yg(e,i,n,r))throw new Vg(xg.INVALID_PARAMS,\"Invalid \".concat(t||\"string param\",\": Length of the string: [\").concat(i,\",\").concat(n,\"].\").concat(r?\" ASCII characters only.\":\"\"))}function Hg(e,t){if(!Array.isArray(e))throw new Vg(xg.INVALID_PARAMS,\"\".concat(t,\" should be an array\"))}function Kg(e){return null==e}function Yg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return\"string\"==typeof e&&e.length<=i&&e.length>=t&&(!n||function(e){if(\"string\"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const i=e.charCodeAt(t);if(i<0||i>255)return!1}return!0}(e))}function qg(e,t,i){if(\"getBigUint64\"in DataView.prototype)return e.getBigUint64(t,i);const n=e.getUint32(t,i),r=e.getUint32(t+4,i),s=Number(!!i),o=Number(!i);return BigInt(n*o+r*s)<<BigInt(32)|BigInt(n*s+r*o)}function Jg(e,t,i,n){if(\"setBigUint64\"in DataView.prototype)return e.setBigUint64(t,i,n);const r=Number(i>>BigInt(32)),s=Number(i&BigInt(4294967295));n?(e.setUint32(t+4,r,n),e.setUint32(t,s,n)):(e.setUint32(t,r,n),e.setUint32(t+4,s,n))}var zg,Xg;!function(e){e.COVERED=\"COVERED\",e.POSITION=\"POSITION\",e.SIZE=\"SIZE\",e.STYLE=\"STYLE\"}(zg||(zg={})),function(e){e.UNMOUNTED=\"UNMOUNTED\",e.INVALID_HTML_ELEMENT=\"INVALID_HTML_ELEMENT\"}(Xg||(Xg={}));const Qg=new class{constructor(){nu(this,\"_clientSize\",null),nu(this,\"getClientWidth\",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),nu(this,\"getClientHeight\",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),nu(this,\"getStyle\",(e=>window.getComputedStyle(e,null))),nu(this,\"checkCssVisibleProperty\",(e=>{var t;let i=!0;const n=this.getStyle(e),{display:r,visibility:s,opacity:o,filter:a}=n;if((\"none\"===r||Pr(t=[\"hidden\",\"collapse\"]).call(t,s)||Number(o)<.1)&&(i=!1),!i)return!1;if(a){a.split(\" \").filter((e=>{var t;const i=e.split(\"(\")[0];return Pr(t=[\"brightness\",\"blur\",\"opacity\"]).call(t,i)})).map((e=>{const[t,i]=e.split(/\\(|\\)/);return[t,Number(i.match(/^[0-9\\.]+/))]})).forEach((e=>{const[t,n]=e;switch(t){case\"brightness\":(n<.1||n>3)&&(i=!1);break;case\"blur\":n>3&&(i=!1);break;case\"opacity\":n<.1&&(i=!1)}}))}return i})),nu(this,\"checkPropertyUpToAllParentNodes\",((e,t)=>{let i=!0,n=!0;const r=e=>t(e);let s=e;for(;s&&n;){r(s)||(i=!1,n=!1),s=s.parentElement,s||(n=!1)}return i})),nu(this,\"checkActualCssVisibleIncludeInherit\",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),nu(this,\"getSizeAboutClient\",(e=>{const{width:t,height:i,left:n,right:r,top:s,bottom:o}=e.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:i,left:n,right:r,top:s,bottom:o,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}})),nu(this,\"checkActualSize\",(()=>{const{width:e,height:t,clientMin:i}=this._clientSize;return this.checkSizeIsVisible(e,t,i)})),nu(this,\"elementFromPoint\",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),nu(this,\"checkCoverForAPoint\",((e,t,i)=>{const n=this.elementFromPoint(e,t);return null!==n&&n!==i})),nu(this,\"getPointPositionList\",(()=>{const{width:e,height:t,left:i,top:n}=this._clientSize,r=e/6,s=t/6,o=[],a=10**6;for(let e=0;e<5;e++)for(let t=0;t<5;t++){const c=(i*a+(0===e?.1:4===e?(r*e*a-1e5)/a:r*e)*a)/a,d=(n*a+(0===t?.1:4===t?(s*t*a-1e5)/a:s*t)*a)/a;o.push({x:c,y:d})}return[...o]})),nu(this,\"checkElementCover\",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),nu(this,\"checkSizeIsVisible\",((e,t,i)=>(e>50||i/e<=10)&&(t>50||i/t<=10))),nu(this,\"checkSizeOfPartInClient\",(()=>{const{left:e,right:t,top:i,bottom:n,clientHeight:r,clientWidth:s,clientMin:o}=this._clientSize;let a,c,d,l;if(e<0)a=0;else{if(!(e<s))return!1;a=e}if(t<0)return!1;if(c=t<s?t:s,i<0)d=0;else{if(!(i<r))return!1;d=i}if(n<0)return!1;l=n<r?n:r;const h=c-a,u=l-d;return this.checkSizeIsVisible(h,u,o)})),nu(this,\"returnHiddenResult\",(e=>(this._clientSize=null,{visible:!1,reason:e}))),nu(this,\"checkOneElementVisible\",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(zg.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(zg.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(zg.SIZE)}}return this.returnHiddenResult(zg.STYLE)}return this.returnHiddenResult(Xg.UNMOUNTED)}return this.returnHiddenResult(Xg.INVALID_HTML_ELEMENT)})),nu(this,\"checkElementIsMountedOnDom\",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>\"HTML\"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function Zg(e){return(new TextEncoder).encode(e)}const $g=function(e,t){const i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i};const eT=async e=>{const t=function(e){const t=window.atob(e),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);return i}(\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\\nxQiYDz3vqa6bP29adwIDAQAB\"),i=await window.crypto.subtle.importKey(\"spki\",t,{name:\"RSA-OAEP\",hash:\"SHA-256\"},!0,[\"encrypt\"]),n=Zg(e),r=await window.crypto.subtle.encrypt({name:\"RSA-OAEP\"},i,n);return function(e){let t=\"\";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return window.btoa(t)}(new Uint8Array(r))},tT=async e=>function(e,t){let i=\"\";return new Uint8Array(e).forEach((e=>{i+=e.toString(t).padStart(2,\"0\")})),i}(await crypto.subtle.digest(\"SHA-256\",Zg(e)),16);class iT{constructor(){nu(this,\"_events\",{}),nu(this,\"addListener\",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const i=this._events[e],n=this._indexOfListener(i,t);-1!==n&&i.splice(n,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(let i=0;i<t.length;i+=1){const r=t[i];r.once&&this.off(e,r.listener),r.listener.apply(this,n||[])}}safeEmit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];[...this._events[e]||[]].forEach((t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,i)}catch(t){console.error(\"safeEmit event:\".concat(e,\" error \").concat(null==t?void 0:t.toString()))}}))}_indexOfListener(e,t){let i=e.length;for(;i--;)if(e[i].listener===t)return i;return-1}}let nT=null;function rT(){if(nT)return nT;if(window.electron)return nT=window.electron;if(!window.require)return null;try{return nT=window.require(\"electron\"),nT}catch(e){return null}}var sT,oT,aT,cT,dT,lT,hT,uT;function pT(e){return jg(e.timeout,\"config.timeout\",0,1e5),jg(e.timeoutFactor,\"config.timeoutFactor\",0,100,!1),jg(e.maxRetryCount,\"config.maxRetryConfig\",0,1/0),jg(e.maxRetryTimeout,\"config.maxRetryTimeout\",0,1/0),!0}function _T(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function ET(e){return Wg(e.turnServerURL,\"turnServerURL\"),Wg(e.username,\"username\"),Wg(e.password,\"password\"),e.udpport&&jg(e.udpport,\"udpport\",1,99999,!0),e.forceturn&&Fg(e.forceturn,\"forceturn\"),e.security&&Fg(e.security,\"security\"),e.tcpport&&jg(e.tcpport,\"tcpport\",1,99999,!0),!0}function mT(e){return void 0!==e.level&&Bg(e.level,\"level\",[1,2,3]),void 0!==e.delay&&jg(e.delay,\"delay\",0,3e3,!0),!0}function fT(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return 0===e.getListeners(t).length?tg.reject(new Vg(xg.UNEXPECTED_ERROR,\"can not emit promise\")):new tg(((i,r)=>{e.emit(t,...n,i,r)}))}function gT(e,t){if(0===e.getListeners(t).length)return tg.resolve();for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return fT(e,t,...n)}function TT(e,t){if(0===e.getListeners(t).length)return null;for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return ST(e,t,...n)}function ST(e,t){let i=null,n=null;for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];if(e.emit(t,...s,(e=>{i=e}),(e=>{n=e})),null!==n)throw n;if(null===i)throw new Vg(xg.UNEXPECTED_ERROR,\"handler is not sync\");return i}!function(e){e.CREATE_CLIENT=\"createClient\",e.CHECK_SYSTEM_REQUIREMENTS=\"checkSystemRequirements\",e.SET_AREA=\"setArea\",e.CHECK_VIDEO_TRACK_IS_ACTIVE=\"checkVideoTrackIsActive\",e.CHECK_AUDIO_TRACK_IS_ACTIVE=\"checkAudioTrackIsActive\",e.CREATE_MIC_AUDIO_TRACK=\"createMicrophoneAudioTrack\",e.CREATE_CUSTOM_AUDIO_TRACK=\"createCustomAudioTrack\",e.CREATE_BUFFER_AUDIO_TRACK=\"createBufferSourceAudioTrack\",e.CREATE_CAM_VIDEO_TRACK=\"createCameraVideoTrack\",e.CREATE_CUSTOM_VIDEO_TRACK=\"createCustomVideoTrack\",e.CREATE_MIC_AND_CAM_TRACKS=\"createMicrophoneAndCameraTracks\",e.CREATE_SCREEN_VIDEO_TRACK=\"createScreenVideoTrack\",e.SET_ENCRYPTION_CONFIG=\"Client.setEncryptionConfig\",e.START_PROXY_SERVER=\"Client.startProxyServer\",e.STOP_PROXY_SERVER=\"Client.stopProxyServer\",e.SET_PROXY_SERVER=\"Client.setProxyServer\",e.SET_TURN_SERVER=\"Client.setTurnServer\",e.SET_CLIENT_ROLE=\"Client.setClientRole\",e.SET_LOW_STREAM_PARAMETER=\"Client.setLowStreamParameter\",e.ENABLE_DUAL_STREAM=\"Client.enableDualStream\",e.DISABLE_DUAL_STREAM=\"Client.disableDualStream\",e.JOIN=\"Client.join\",e.LEAVE=\"Client.leave\",e.PUBLISH=\"Client.publish\",e.UNPUBLISH=\"Client.unpublish\",e.SUBSCRIBE=\"Client.subscribe\",e.MASS_SUBSCRIBE=\"Client.massSubscribe\",e.MASS_UNSUBSCRIBE=\"Client.massUnsubscribe\",e.UNSUBSCRIBE=\"Client.unsubscribe\",e.RENEW_TOKEN=\"Client.renewToken\",e.SET_REMOTE_VIDEO_STREAM_TYPE=\"Client.setRemoteVideoStreamType\",e.SET_STREAM_FALLBACK_OPTION=\"Client.setStreamFallbackOption\",e.ENABLE_AUDIO_VOLUME_INDICATOR=\"Client.enableAudioVolumeIndicator\",e.SEND_CUSTOM_REPORT_MESSAGE=\"Client.sendCustomReportMessage\",e.INSPECT_VIDEO_CONTENT=\"Client.inspectVideoContent\",e.STOP_INSPECT_VIDEO_CONTENT=\"Client.stopInspectVideoContent\",e.JOIN_FALLBACK_TO_PROXY=\"Client._joinFallbackToProxy\",e.DATACHANNEL_FAILBACK=\"Client._datachannelFailback\",e.ON_LIVE_STREAM_WARNING=\"Client.onLiveStreamWarning\",e.ON_LIVE_STREAM_ERROR=\"Client.onLiveStreamingError\",e.START_LIVE_STREAMING=\"Client.startLiveStreaming\",e.SET_LIVE_TRANSCODING=\"Client.setLiveTranscoding\",e.STOP_LIVE_STREAMING=\"Client.stopLiveStreaming\",e.ADD_INJECT_STREAM_URL=\"Client.addInjectStreamUrl\",e.REMOVE_INJECT_STREAM_URL=\"Client.removeInjectStreamUrl\",e.START_CHANNEL_MEDIA_RELAY=\"Client.startChannelMediaRelay\",e.UPDATE_CHANNEL_MEDIA_RELAY=\"Client.updateChannelMediaRelay\",e.STOP_CHANNEL_MEDIA_RELAY=\"Client.stopChannelMediaRelay\",e.REQUEST_CONFIG_DISTRIBUTE=\"_config-distribute-request\",e.SET_CONFIG_DISTRIBUTE=\"_configDistribute\",e.LOCAL_TRACK_SET_MUTED=\"LocalTrack.setMute\",e.LOCAL_AUDIO_TRACK_PLAY=\"LocalAudioTrack.play\",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT=\"LocalAudioTrack.playInElement\",e.LOCAL_AUDIO_TRACK_STOP=\"LocalAudioTrack.stop\",e.LOCAL_AUDIO_TRACK_SET_VOLUME=\"LocalAudioTrack.setVolume\",e.MIC_AUDIO_TRACK_SET_DEVICE=\"MicrophoneAudioTrack.setDevice\",e.BUFFER_AUDIO_TRACK_START=\"BufferSourceAudioTrack.startProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_STOP=\"BufferSourceAudioTrack.stopProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_PAUSE=\"BufferSourceAudioTrack.pauseProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_RESUME=\"BufferSourceAudioTrack.resumeProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_SEEK=\"BufferSourceAudioTrack.seekAudioBuffer\",e.LOCAL_VIDEO_TRACK_PLAY=\"LocalVideoTrack.play\",e.LOCAL_VIDEO_TRACK_STOP=\"LocalVideoTrack.stop\",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"LocalVideoTrack.getVideoElementVisibleStatus\",e.LOCAL_VIDEO_TRACK_BEAUTY=\"LocalVideoTrack.setBeautyEffect\",e.CAM_VIDEO_TRACK_SET_DEVICE=\"CameraVideoTrack.setDevice\",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG=\"CameraVideoTrack.setEncoderConfiguration\",e.REMOTE_VIDEO_TRACK_PLAY=\"RemoteVideoTrack.play\",e.REMOTE_VIDEO_TRACK_STOP=\"RemoteVideoTrack.stop\",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"RemoteVideoTrack.getVideoElementVisibleStatus\",e.REMOTE_AUDIO_TRACK_PLAY=\"RemoteAudioTrack.play\",e.REMOTE_AUDIO_TRACK_STOP=\"RemoteAudioTrack.stop\",e.REMOTE_AUDIO_SET_VOLUME=\"RemoteAudioTrack.setVolume\",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE=\"RemoteAudioTrack.setOutputDevice\",e.GET_MEDIA_STREAM_TRACK=\"Track.getMediaStreamTrack\",e.STREAM_TYPE_CHANGE=\"streamTypeChange\",e.CONNECTION_STATE_CHANGE=\"connectionStateChange\",e.LOAD_CONFIG_FROM_LOCALSTORAGE=\"loadConfigFromLocalStorage\",e.IMAGE_MODERATION_UPLOAD=\"imageModerationUpload\"}(sT||(sT={})),function(e){e.TRACER=\"tracer\"}(oT||(oT={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]=\"AUDIENCE_LEVEL_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]=\"AUDIENCE_LEVEL_ULTRA_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]=\"AUDIENCE_LEVEL_SYNC_LATENCY\"}(aT||(aT={})),function(e){e.LEAVE=\"LEAVE\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.UID_BANNED=\"UID_BANNED\",e.IP_BANNED=\"IP_BANNED\",e.CHANNEL_BANNED=\"CHANNEL_BANNED\",e.FALLBACK=\"FALLBACK\",e.LICENSE_MISSING=\"LICENSE_MISSING\",e.LICENSE_EXPIRED=\"LICENSE_EXPIRED\",e.LICENSE_MINUTES_EXCEEDED=\"LICENSE_MINUTES_EXCEEDED\",e.LICENSE_PERIOD_INVALID=\"LICENSE_PERIOD_INVALID\",e.LICENSE_MULTIPLE_SDK_SERVICE=\"LICENSE_MULTIPLE_SDK_SERVICE\",e.LICENSE_ILLEGAL=\"LICENSE_ILLEGAL\",e.TOKEN_EXPIRE=\"TOKEN_EXPIRE\"}(cT||(cT={})),function(e){e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.MEDIA_RECONNECT_START=\"media-reconnect-start\",e.MEDIA_RECONNECT_END=\"media-reconnect-end\",e.IS_USING_CLOUD_PROXY=\"is-using-cloud-proxy\",e.USER_JOINED=\"user-joined\",e.USER_LEAVED=\"user-left\",e.USER_PUBLISHED=\"user-published\",e.USER_UNPUBLISHED=\"user-unpublished\",e.USER_INFO_UPDATED=\"user-info-updated\",e.CLIENT_BANNED=\"client-banned\",e.CHANNEL_MEDIA_RELAY_STATE=\"channel-media-relay-state\",e.CHANNEL_MEDIA_RELAY_EVENT=\"channel-media-relay-event\",e.VOLUME_INDICATOR=\"volume-indicator\",e.CRYPT_ERROR=\"crypt-error\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"token-privilege-will-expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"token-privilege-did-expire\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGED=\"stream-type-changed\",e.STREAM_FALLBACK=\"stream-fallback\",e.RECEIVE_METADATA=\"receive-metadata\",e.STREAM_MESSAGE=\"stream-message\",e.LIVE_STREAMING_ERROR=\"live-streaming-error\",e.LIVE_STREAMING_WARNING=\"live-streaming-warning\",e.INJECT_STREAM_STATUS=\"stream-inject-status\",e.EXCEPTION=\"exception\",e.ERROR=\"error\",e.P2P_LOST=\"p2p_lost\",e.JOIN_FALLBACK_TO_PROXY=\"join-fallback-to-proxy\",e.CHANNEL_FALLBACK_TO_WEBSOCKET=\"channel-fallback-to-websocket\",e.MEDIA_CONNECTION_TYPE_CHANGE=\"media-connection-type-change\",e.PUBLISHED_USER_LIST=\"published-user-list\",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE=\"content-inspect-connection-state-change\",e.CONTENT_INSPECT_ERROR=\"content-inspect-error\",e.CONTENT_INSPECT_RESULT=\"content-inspect-result\",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE=\"image-moderation-connection-state-change\"}(dT||(dT={})),function(e){e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.MULTI_IP=\"MULTI_IP\",e.TIMEOUT=\"TIMEOUT\",e.OFFLINE=\"OFFLINE\",e.LEAVE=\"LEAVE\",e.P2P_FAILED=\"P2P_FAILED\",e.FALLBACK=\"FALLBACK\"}(lT||(lT={})),function(e){e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\"}(hT||(hT={})),function(e){e.NETWORK_STATE_CHANGE=\"NETWORK_STATE_CHANGE\",e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\"}(uT||(uT={}));const RT=new class extends iT{set networkState(e){this.emit(uT.NETWORK_STATE_CHANGE,e,this._networkState),e===hT.ONLINE?this.emit(uT.ONLINE):e===hT.OFFLINE&&(this.onlineWaiter=new tg((e=>{this.once(uT.ONLINE,(()=>{this.onlineWaiter=void 0,e(hT.ONLINE)}))})),this.emit(uT.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===hT.ONLINE}constructor(){super(),nu(this,\"_moduleName\",\"network-indicator\"),nu(this,\"_networkState\",hT.ONLINE),nu(this,\"onlineWaiter\",void 0),window.addEventListener(\"online\",(()=>{this.networkState=hT.ONLINE})),window.addEventListener(\"offline\",(()=>{this.networkState=hT.OFFLINE}))}};function CT(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vT(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?CT(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CT(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function IT(e,t){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}function yT(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function AT(e){void 0!==tg?tg.resolve().then(e):setTimeout(e,0)}function bT(e){return JSON.parse(JSON.stringify(e))}function wT(e){try{return bT(e)}catch(t){return e}}const OT={};function NT(e,t){OT[t]||(OT[t]=!0,e())}function DT(e){const t=window.atob(e),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);return i}function PT(e){let t=\"\";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return window.btoa(t)}function LT(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function kT(e){let t=0;return/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+=\"string\"==typeof e?LT(e):e.size})),t+138}function MT(e){const t=new Vg(xg.TIMEOUT,\"timeout\");return new tg(((i,n)=>{window.setTimeout((()=>n(t)),e)}))}function UT(e){return new tg((t=>{window.setTimeout(t,e)}))}function xT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const i=Math.random().toString(16).substr(2,e).toLowerCase();return i.length===e?\"\".concat(t).concat(i):\"\".concat(t).concat(i)+xT(e-i.length,\"\")}function VT(){return xT(32,\"\").toUpperCase()}const FT=()=>{};const BT=new class{constructor(){nu(this,\"fnMap\",new Map)}throttleByKey(e,t,i,n){for(var r=arguments.length,s=new Array(r>4?r-4:0),o=4;o<r;o++)s[o-4]=arguments[o];if(this.fnMap.has(t)){const r=this.fnMap.get(t);if(r.threshold!==i){r.fn(...r.args),clearTimeout(r.timer);const o=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),i);this.fnMap.set(t,{fn:e,threshold:i,timer:o,args:s,skipFn:n})}else r.skipFn&&r.skipFn(...r.args),this.fnMap.set(t,vT(vT({},r),{},{fn:e,args:s,skipFn:n}))}else{const r=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),i);this.fnMap.set(t,{fn:e,threshold:i,timer:r,args:s,skipFn:n})}}},jT=BT.throttleByKey.bind(BT);function GT(e){return\"object\"==typeof e&&null!==e&&!(e instanceof RegExp)}function WT(e,t){if(!GT(e)||!GT(t))return t;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const i=[...e];for(let n=0;n<t.length;n++)i[n]=WT(e[n],t[n]);return i}{const i=vT({},e);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)?i[n]=WT(e[n],t[n]):i[n]=t[n]);return i}}let HT=1,KT=console;class YT{static setLogger(e){KT=e}constructor(e){nu(this,\"lockingPromise\",tg.resolve()),nu(this,\"locks\",0),nu(this,\"name\",\"\"),nu(this,\"lockId\",void 0),this.lockId=HT++,e&&(this.name=e),KT.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is created.\"))}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,KT.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is locked, current queue \").concat(this.locks,\". \").concat(\"string\"==typeof e?e:\"\"));const i=new tg((i=>{t=()=>{this.locks-=1,KT.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is not locked, current queue \").concat(this.locks,\". \").concat(\"string\"==typeof e?e:\"\")),i()}})),n=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>i)),n}}function qT(e,t){return function(i,n,r){const s=r.value;if(\"function\"!=typeof s)throw new Error(\"Cannot use mutex on object property.\");return r.value=async function(){const i=this[t];if(!i)throw new Error(\"mutex property key \".concat(t,\" doesn't exist on \").concat(e));const r=await i.lock(\"From \".concat(e,\".\").concat(n));try{for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return await s.apply(this,a)}finally{r()}},r}}const JT={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function zT(e,t){const i=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,i)}function XT(e,t,i,n){const r=Object.assign({},JT,n);let s=r.timeout;const o=async()=>{await function(e){return new tg((t=>{window.setTimeout(t,e)}))}(s),s*=r.timeoutFactor,s=Math.min(r.maxRetryTimeout,s)};let a=!1;const c=new tg((async(n,s)=>{t=t||(()=>!1),i=i||(()=>!0);for(let c=0;c<r.maxRetryCount;c+=1){if(a)return s(new Vg(xg.OPERATION_ABORTED));try{const i=await e();if(!t(i,c))return n(i);if(c+1===r.maxRetryCount)return n(i);await o()}catch(e){if(!i(e,c))return s(e);if(c+1===r.maxRetryCount)return s(e);await o()}}}));return c.cancel=()=>a=!0,c}var QT=Ut,ZT=ei,$T=Xe,eS=Yn,tS=TypeError,iS=function(e){return function(t,i,n,r){QT(i);var s=ZT(t),o=$T(s),a=eS(s),c=e?a-1:0,d=e?-1:1;if(n<2)for(;;){if(c in o){r=o[c],c+=d;break}if(c+=d,e?c<0:a<=c)throw tS(\"Reduce of empty array with no initial value\")}for(;e?c>=0:a>c;c+=d)c in o&&(r=i(r,o[c],c,s));return r}},nS={left:iS(!1),right:iS(!0)}.left;kn({target:\"Array\",proto:!0,forced:!C_&&St>79&&St<83||!Ru(\"reduce\")},{reduce:function(e){var t=arguments.length;return nS(this,e,t,t>1?arguments[1]:void 0)}});var rS=er(\"Array\").reduce,sS=Ee,oS=rS,aS=Array.prototype,cS=J((function(e){var t=e.reduce;return e===aS||sS(aS,e)&&t===aS.reduce?oS:t}));let dS=class{constructor(e){nu(this,\"input\",[]),nu(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:cS(e=this.input).call(e,((e,t)=>e+t))/this.input.length}};var lS,hS={exports:{}},uS=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}},pS=uS,_S=Object.prototype.toString,ES=(lS=Object.create(null),function(e){var t=_S.call(e);return lS[t]||(lS[t]=t.slice(8,-1).toLowerCase())});function mS(e){return e=e.toLowerCase(),function(t){return ES(t)===e}}function fS(e){return Array.isArray(e)}function gS(e){return void 0===e}var TS=mS(\"ArrayBuffer\");function SS(e){return null!==e&&\"object\"==typeof e}function RS(e){if(\"object\"!==ES(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var CS=mS(\"Date\"),vS=mS(\"File\"),IS=mS(\"Blob\"),yS=mS(\"FileList\");function AS(e){return\"[object Function]\"===_S.call(e)}var bS=mS(\"URLSearchParams\");function wS(e,t){if(null!=e)if(\"object\"!=typeof e&&(e=[e]),fS(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var OS,NS=(OS=\"undefined\"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return OS&&e instanceof OS}),DS={isArray:fS,isArrayBuffer:TS,isBuffer:function(e){return null!==e&&!gS(e)&&null!==e.constructor&&!gS(e.constructor)&&\"function\"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t=\"[object FormData]\";return e&&(\"function\"==typeof FormData&&e instanceof FormData||_S.call(e)===t||AS(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&TS(e.buffer)},isString:function(e){return\"string\"==typeof e},isNumber:function(e){return\"number\"==typeof e},isObject:SS,isPlainObject:RS,isUndefined:gS,isDate:CS,isFile:vS,isBlob:IS,isFunction:AS,isStream:function(e){return SS(e)&&AS(e.pipe)},isURLSearchParams:bS,isStandardBrowserEnv:function(){return(\"undefined\"==typeof navigator||\"ReactNative\"!==navigator.product&&\"NativeScript\"!==navigator.product&&\"NS\"!==navigator.product)&&(\"undefined\"!=typeof window&&\"undefined\"!=typeof document)},forEach:wS,merge:function e(){var t={};function i(i,n){RS(t[n])&&RS(i)?t[n]=e(t[n],i):RS(i)?t[n]=e({},i):fS(i)?t[n]=i.slice():t[n]=i}for(var n=0,r=arguments.length;n<r;n++)wS(arguments[n],i);return t},extend:function(e,t,i){return wS(t,(function(t,n){e[n]=i&&\"function\"==typeof t?pS(t,i):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,i,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,i&&Object.assign(e.prototype,i)},toFlatObject:function(e,t,i){var n,r,s,o={};t=t||{};do{for(r=(n=Object.getOwnPropertyNames(e)).length;r-- >0;)o[s=n[r]]||(t[s]=e[s],o[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:ES,kindOfTest:mS,endsWith:function(e,t,i){e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;var n=e.indexOf(t,i);return-1!==n&&n===i},toArray:function(e){if(!e)return null;var t=e.length;if(gS(t))return null;for(var i=new Array(t);t-- >0;)i[t]=e[t];return i},isTypedArray:NS,isFileList:yS},PS=DS;function LS(e){return encodeURIComponent(e).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}var kS=function(e,t,i){if(!t)return e;var n;if(i)n=i(t);else if(PS.isURLSearchParams(t))n=t.toString();else{var r=[];PS.forEach(t,(function(e,t){null!=e&&(PS.isArray(e)?t+=\"[]\":e=[e],PS.forEach(e,(function(e){PS.isDate(e)?e=e.toISOString():PS.isObject(e)&&(e=JSON.stringify(e)),r.push(LS(t)+\"=\"+LS(e))})))})),n=r.join(\"&\")}if(n){var s=e.indexOf(\"#\");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+n}return e},MS=DS;function US(){this.handlers=[]}US.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},US.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},US.prototype.forEach=function(e){MS.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var xS,VS,FS=US,BS=DS;function jS(){if(VS)return xS;VS=1;var e=DS;function t(e,t,i,n,r){Error.call(this),this.message=e,this.name=\"AxiosError\",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}e.inherits(t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=t.prototype,n={};return[\"ERR_BAD_OPTION_VALUE\",\"ERR_BAD_OPTION\",\"ECONNABORTED\",\"ETIMEDOUT\",\"ERR_NETWORK\",\"ERR_FR_TOO_MANY_REDIRECTS\",\"ERR_DEPRECATED\",\"ERR_BAD_RESPONSE\",\"ERR_BAD_REQUEST\",\"ERR_CANCELED\"].forEach((function(e){n[e]={value:e}})),Object.defineProperties(t,n),Object.defineProperty(i,\"isAxiosError\",{value:!0}),t.from=function(n,r,s,o,a,c){var d=Object.create(i);return e.toFlatObject(n,d,(function(e){return e!==Error.prototype})),t.call(d,n.message,r,s,o,a),d.name=n.name,c&&Object.assign(d,c),d},xS=t}var GS,WS,HS,KS,YS,qS,JS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function zS(){if(WS)return GS;WS=1;var e=DS;return GS=function(t,i){i=i||new FormData;var n=[];function r(t){return null===t?\"\":e.isDate(t)?t.toISOString():e.isArrayBuffer(t)||e.isTypedArray(t)?\"function\"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(s,o){if(e.isPlainObject(s)||e.isArray(s)){if(-1!==n.indexOf(s))throw Error(\"Circular reference detected in \"+o);n.push(s),e.forEach(s,(function(n,s){if(!e.isUndefined(n)){var a,c=o?o+\".\"+s:s;if(n&&!o&&\"object\"==typeof n)if(e.endsWith(s,\"{}\"))n=JSON.stringify(n);else if(e.endsWith(s,\"[]\")&&(a=e.toArray(n)))return void a.forEach((function(t){!e.isUndefined(t)&&i.append(c,r(t))}));t(n,c)}})),n.pop()}else i.append(o,r(s))}(t),i},GS}function XS(){if(KS)return HS;KS=1;var e=jS();return HS=function(t,i,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?i(new e(\"Request failed with status code \"+n.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}}function QS(){if(qS)return YS;qS=1;var e=DS;return YS=e.isStandardBrowserEnv()?{write:function(t,i,n,r,s,o){var a=[];a.push(t+\"=\"+encodeURIComponent(i)),e.isNumber(n)&&a.push(\"expires=\"+new Date(n).toGMTString()),e.isString(r)&&a.push(\"path=\"+r),e.isString(s)&&a.push(\"domain=\"+s),!0===o&&a.push(\"secure\"),document.cookie=a.join(\"; \")},read:function(e){var t=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+e+\")=([^;]*)\"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,\"\",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},YS}var ZS,$S,eR,tR,iR,nR,rR,sR,oR,aR,cR,dR,lR=function(e){return/^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(e)},hR=function(e,t){return t?e.replace(/\\/+$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e},uR=function(e,t){return e&&!lR(t)?hR(e,t):t};function pR(){if($S)return ZS;$S=1;var e=DS,t=[\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"];return ZS=function(i){var n,r,s,o={};return i?(e.forEach(i.split(\"\\n\"),(function(i){if(s=i.indexOf(\":\"),n=e.trim(i.substr(0,s)).toLowerCase(),r=e.trim(i.substr(s+1)),n){if(o[n]&&t.indexOf(n)>=0)return;o[n]=\"set-cookie\"===n?(o[n]?o[n]:[]).concat([r]):o[n]?o[n]+\", \"+r:r}})),o):o},ZS}function _R(){if(tR)return eR;tR=1;var e=DS;return eR=e.isStandardBrowserEnv()?function(){var t,i=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement(\"a\");function r(e){var t=e;return i&&(n.setAttribute(\"href\",t),t=n.href),n.setAttribute(\"href\",t),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,\"\"):\"\",host:n.host,search:n.search?n.search.replace(/^\\?/,\"\"):\"\",hash:n.hash?n.hash.replace(/^#/,\"\"):\"\",hostname:n.hostname,port:n.port,pathname:\"/\"===n.pathname.charAt(0)?n.pathname:\"/\"+n.pathname}}return t=r(window.location.href),function(i){var n=e.isString(i)?r(i):i;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}}function ER(){if(nR)return iR;nR=1;var e=jS();function t(t){e.call(this,null==t?\"canceled\":t,e.ERR_CANCELED),this.name=\"CanceledError\"}return DS.inherits(t,e,{__CANCEL__:!0}),iR=t}function mR(){return sR||(sR=1,rR=function(e){var t=/^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(e);return t&&t[1]||\"\"}),rR}function fR(){if(aR)return oR;aR=1;var e=DS,t=XS(),i=QS(),n=kS,r=uR,s=pR(),o=_R(),a=JS,c=jS(),d=ER(),l=mR();return oR=function(h){return new Promise((function(u,p){var _,E=h.data,m=h.headers,f=h.responseType;function g(){h.cancelToken&&h.cancelToken.unsubscribe(_),h.signal&&h.signal.removeEventListener(\"abort\",_)}e.isFormData(E)&&e.isStandardBrowserEnv()&&delete m[\"Content-Type\"];var T=new XMLHttpRequest;if(h.auth){var S=h.auth.username||\"\",R=h.auth.password?unescape(encodeURIComponent(h.auth.password)):\"\";m.Authorization=\"Basic \"+btoa(S+\":\"+R)}var C=r(h.baseURL,h.url);function v(){if(T){var e=\"getAllResponseHeaders\"in T?s(T.getAllResponseHeaders()):null,i={data:f&&\"text\"!==f&&\"json\"!==f?T.response:T.responseText,status:T.status,statusText:T.statusText,headers:e,config:h,request:T};t((function(e){u(e),g()}),(function(e){p(e),g()}),i),T=null}}if(T.open(h.method.toUpperCase(),n(C,h.params,h.paramsSerializer),!0),T.timeout=h.timeout,\"onloadend\"in T?T.onloadend=v:T.onreadystatechange=function(){T&&4===T.readyState&&(0!==T.status||T.responseURL&&0===T.responseURL.indexOf(\"file:\"))&&setTimeout(v)},T.onabort=function(){T&&(p(new c(\"Request aborted\",c.ECONNABORTED,h,T)),T=null)},T.onerror=function(){p(new c(\"Network Error\",c.ERR_NETWORK,h,T,T)),T=null},T.ontimeout=function(){var e=h.timeout?\"timeout of \"+h.timeout+\"ms exceeded\":\"timeout exceeded\",t=h.transitional||a;h.timeoutErrorMessage&&(e=h.timeoutErrorMessage),p(new c(e,t.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,h,T)),T=null},e.isStandardBrowserEnv()){var I=(h.withCredentials||o(C))&&h.xsrfCookieName?i.read(h.xsrfCookieName):void 0;I&&(m[h.xsrfHeaderName]=I)}\"setRequestHeader\"in T&&e.forEach(m,(function(e,t){void 0===E&&\"content-type\"===t.toLowerCase()?delete m[t]:T.setRequestHeader(t,e)})),e.isUndefined(h.withCredentials)||(T.withCredentials=!!h.withCredentials),f&&\"json\"!==f&&(T.responseType=h.responseType),\"function\"==typeof h.onDownloadProgress&&T.addEventListener(\"progress\",h.onDownloadProgress),\"function\"==typeof h.onUploadProgress&&T.upload&&T.upload.addEventListener(\"progress\",h.onUploadProgress),(h.cancelToken||h.signal)&&(_=function(e){T&&(p(!e||e&&e.type?new d:e),T.abort(),T=null)},h.cancelToken&&h.cancelToken.subscribe(_),h.signal&&(h.signal.aborted?_():h.signal.addEventListener(\"abort\",_))),E||(E=null);var y=l(C);y&&-1===[\"http\",\"https\",\"file\"].indexOf(y)?p(new c(\"Unsupported protocol \"+y+\":\",c.ERR_BAD_REQUEST,h)):T.send(E)}))},oR}var gR=DS,TR=function(e,t){BS.forEach(e,(function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])}))},SR=jS(),RR=JS,CR=zS(),vR={\"Content-Type\":\"application/x-www-form-urlencoded\"};function IR(e,t){!gR.isUndefined(e)&&gR.isUndefined(e[\"Content-Type\"])&&(e[\"Content-Type\"]=t)}var yR,AR={transitional:RR,adapter:((\"undefined\"!=typeof XMLHttpRequest||\"undefined\"!=typeof process&&\"[object process]\"===Object.prototype.toString.call(process))&&(yR=fR()),yR),transformRequest:[function(e,t){if(TR(t,\"Accept\"),TR(t,\"Content-Type\"),gR.isFormData(e)||gR.isArrayBuffer(e)||gR.isBuffer(e)||gR.isStream(e)||gR.isFile(e)||gR.isBlob(e))return e;if(gR.isArrayBufferView(e))return e.buffer;if(gR.isURLSearchParams(e))return IR(t,\"application/x-www-form-urlencoded;charset=utf-8\"),e.toString();var i,n=gR.isObject(e),r=t&&t[\"Content-Type\"];if((i=gR.isFileList(e))||n&&\"multipart/form-data\"===r){var s=this.env&&this.env.FormData;return CR(i?{\"files[]\":e}:e,s&&new s)}return n||\"application/json\"===r?(IR(t,\"application/json\"),function(e,t,i){if(gR.isString(e))try{return(t||JSON.parse)(e),gR.trim(e)}catch(e){if(\"SyntaxError\"!==e.name)throw e}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||AR.transitional,i=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,r=!i&&\"json\"===this.responseType;if(r||n&&gR.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if(\"SyntaxError\"===e.name)throw SR.from(e,SR.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dR?cR:(dR=1,cR=null)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:\"application/json, text/plain, */*\"}}};gR.forEach([\"delete\",\"get\",\"head\"],(function(e){AR.headers[e]={}})),gR.forEach([\"post\",\"put\",\"patch\"],(function(e){AR.headers[e]=gR.merge(vR)}));var bR,wR,OR=AR,NR=DS,DR=OR;function PR(){return wR?bR:(wR=1,bR=function(e){return!(!e||!e.__CANCEL__)})}var LR=DS,kR=function(e,t,i){var n=this||DR;return NR.forEach(i,(function(i){e=i.call(n,e,t)})),e},MR=PR(),UR=OR,xR=ER();function VR(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xR}var FR,BR,jR=DS,GR=function(e,t){t=t||{};var i={};function n(e,t){return jR.isPlainObject(e)&&jR.isPlainObject(t)?jR.merge(e,t):jR.isPlainObject(t)?jR.merge({},t):jR.isArray(t)?t.slice():t}function r(i){return jR.isUndefined(t[i])?jR.isUndefined(e[i])?void 0:n(void 0,e[i]):n(e[i],t[i])}function s(e){if(!jR.isUndefined(t[e]))return n(void 0,t[e])}function o(i){return jR.isUndefined(t[i])?jR.isUndefined(e[i])?void 0:n(void 0,e[i]):n(void 0,t[i])}function a(i){return i in t?n(e[i],t[i]):i in e?n(void 0,e[i]):void 0}var c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return jR.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||r,n=t(e);jR.isUndefined(n)&&t!==a||(i[e]=n)})),i};function WR(){return BR?FR:(BR=1,FR={version:\"0.27.2\"})}var HR=WR().version,KR=jS(),YR={};[\"object\",\"boolean\",\"number\",\"function\",\"string\",\"symbol\"].forEach((function(e,t){YR[e]=function(i){return typeof i===e||\"a\"+(t<1?\"n \":\" \")+e}}));var qR={};YR.transitional=function(e,t,i){function n(e,t){return\"[Axios v\"+HR+\"] Transitional option '\"+e+\"'\"+t+(i?\". \"+i:\"\")}return function(i,r,s){if(!1===e)throw new KR(n(r,\" has been removed\"+(t?\" in \"+t:\"\")),KR.ERR_DEPRECATED);return t&&!qR[r]&&(qR[r]=!0,console.warn(n(r,\" has been deprecated since v\"+t+\" and will be removed in the near future\"))),!e||e(i,r,s)}};var JR,zR,XR,QR,ZR,$R,eC={assertOptions:function(e,t,i){if(\"object\"!=typeof e)throw new KR(\"options must be an object\",KR.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),r=n.length;r-- >0;){var s=n[r],o=t[s];if(o){var a=e[s],c=void 0===a||o(a,s,e);if(!0!==c)throw new KR(\"option \"+s+\" must be \"+c,KR.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new KR(\"Unknown option \"+s,KR.ERR_BAD_OPTION)}},validators:YR},tC=DS,iC=kS,nC=FS,rC=function(e){return VR(e),e.headers=e.headers||{},e.data=kR.call(e,e.data,e.headers,e.transformRequest),e.headers=LR.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),LR.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],(function(t){delete e.headers[t]})),(e.adapter||UR.adapter)(e).then((function(t){return VR(e),t.data=kR.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return MR(t)||(VR(e),t&&t.response&&(t.response.data=kR.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},sC=GR,oC=uR,aC=eC,cC=aC.validators;function dC(e){this.defaults=e,this.interceptors={request:new nC,response:new nC}}dC.prototype.request=function(e,t){\"string\"==typeof e?(t=t||{}).url=e:t=e||{},(t=sC(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method=\"get\";var i=t.transitional;void 0!==i&&aC.assertOptions(i,{silentJSONParsing:cC.transitional(cC.boolean),forcedJSONParsing:cC.transitional(cC.boolean),clarifyTimeoutError:cC.transitional(cC.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(e){\"function\"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var a=[rC,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(o),s=Promise.resolve(t);a.length;)s=s.then(a.shift(),a.shift());return s}for(var c=t;n.length;){var d=n.shift(),l=n.shift();try{c=d(c)}catch(e){l(e);break}}try{s=rC(c)}catch(e){return Promise.reject(e)}for(;o.length;)s=s.then(o.shift(),o.shift());return s},dC.prototype.getUri=function(e){e=sC(this.defaults,e);var t=oC(e.baseURL,e.url);return iC(t,e.params,e.paramsSerializer)},tC.forEach([\"delete\",\"get\",\"head\",\"options\"],(function(e){dC.prototype[e]=function(t,i){return this.request(sC(i||{},{method:e,url:t,data:(i||{}).data}))}})),tC.forEach([\"post\",\"put\",\"patch\"],(function(e){function t(t){return function(i,n,r){return this.request(sC(r||{},{method:e,headers:t?{\"Content-Type\":\"multipart/form-data\"}:{},url:i,data:n}))}}dC.prototype[e]=t(),dC.prototype[e+\"Form\"]=t(!0)}));var lC=DS,hC=uS,uC=dC,pC=GR;var _C=function e(t){var i=new uC(t),n=hC(uC.prototype.request,i);return lC.extend(n,uC.prototype,i),lC.extend(n,i),n.create=function(i){return e(pC(t,i))},n}(OR);_C.Axios=uC,_C.CanceledError=ER(),_C.CancelToken=function(){if(zR)return JR;zR=1;var e=ER();function t(t){if(\"function\"!=typeof t)throw new TypeError(\"executor must be a function.\");var i;this.promise=new Promise((function(e){i=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},t((function(t){n.reason||(n.reason=new e(t),i(n.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},JR=t}(),_C.isCancel=PR(),_C.VERSION=WR().version,_C.toFormData=zS(),_C.AxiosError=jS(),_C.Cancel=_C.CanceledError,_C.all=function(e){return Promise.all(e)},_C.spread=QR?XR:(QR=1,XR=function(e){return function(t){return e.apply(null,t)}}),_C.isAxiosError=function(){if($R)return ZR;$R=1;var e=DS;return ZR=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),hS.exports=_C,hS.exports.default=_C;var EC=J(hS.exports);function mC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function fC(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?mC(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mC(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let gC,TC=0,SC=0;function RC(e,t,i,n){return new tg(((r,s)=>{t.responseType=t.responseType||\"json\",t.data&&!i?(t.data=JSON.stringify(t.data),TC+=LT(t.data)):i&&(t.data.size?TC+=t.data.size:t.data instanceof FormData?TC+=kT(t.data):TC+=LT(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers[\"Content-Type\"]=t.headers[\"Content-Type\"]||\"application/json\",t.method=\"POST\",t.url=e,EC.request(t).then((e=>{\"string\"==typeof e.data?SC+=LT(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?SC+=e.data.byteLength:SC+=LT(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{EC.isCancel(e)?s(new Vg(xg.OPERATION_ABORTED,\"cancel token canceled\")):\"ECONNABORTED\"===e.code?s(new Vg(xg.NETWORK_TIMEOUT,e.message)):e.response?s(new Vg(xg.NETWORK_RESPONSE_ERROR,e.response.status)):s(new Vg(xg.NETWORK_ERROR,e.message))}))}))}async function CC(e,t){const i=new Blob([t.data],{type:\"buffer\"});return await RC(e,fC(fC({},t),{},{data:i,headers:{\"Content-Type\":\"application/octet-stream\"}}),!0)}const vC=()=>\"HTTPS\"===(gC||gC||(gC=(window.location.protocol.split(\":\")[0]||\"\").toUpperCase(),gC)),IC=()=>void 0!==window.isSecureContext;function yC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function AC(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yC(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yC(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var bC;!function(e){e.SET_SESSION_ID=\"SET_SESSION_ID\",e.SET_P2P_ID=\"SET_P2P_id\",e.SET_DC_ID=\"SET_DC_id\",e.SET_UID=\"SET_UID\",e.SET_PUB_ID=\"SET_PUB_ID\",e.SET_CLOUD_PROXY_SERVER_MODE=\"SET_CLOUD_PROXY_SERVER_MODE\",e.KEY_METRIC_CLIENT_CREATED=\"KEY_METRIC_CLIENT_CREATED\",e.KEY_METRIC_JOIN_START=\"KEY_METRIC_JOIN_START\",e.AVOID_JOIN_START=\"AVOID_JOIN_START\",e.KEY_METRIC_JOIN_END=\"KEY_METRIC_JOIN_END\",e.KEY_METRIC_REQUEST_AP_START=\"KEY_METRIC_REQUEST_AP_START\",e.KEY_METRIC_REQUEST_AP_END=\"KEY_METRIC_REQUEST_AP_END\",e.KEY_METRIC_JOIN_GATEWAY_START=\"KEY_METRIC_JOIN_GATEWAY_START\",e.KEY_METRIC_JOIN_GATEWAY_END=\"KEY_METRIC_JOIN_GATEWAY_END\",e.KEY_METRIC_PEER_CONNECTION_START=\"KEY_METRIC_PEER_CONNECTION_START\",e.KEY_METRIC_PEER_CONNECTION_END=\"KEY_METRIC_PEER_CONNECTION_END\",e.KEY_METRIC_DESCRIPTION_START=\"KEY_METRIC_DESCRIPTION_START\",e.KEY_METRIC_ICE_CONNECTION_END=\"KEY_METRIC_ICE_CONNECTION_END\",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN=\"KEY_METRIC_SIGNAL_CHANNEL_OPEN\",e.KEY_METRIC_PUBLISH=\"KEY_METRIC_PUBLISH\",e.KEY_METRIC_SUBSCRIBE=\"KEY_METRIC_SUBSCRIBE\",e.RECORD_JOIN_CHANNEL_SERVICE=\"RECORD_JOIN_CHANNEL_SERVICE\",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS=\"RESET_JOIN_CHANNEL_SERVICE_RECORDS\",e.RESET_KEY_METRICS=\"RESET_KEY_METRICS\",e.SET_USE_DATACHANNEL=\"SET_USE_DATACHANNEL\",e.SET_USE_P2P=\"SET_USE_P2P\"}(bC||(bC={}));class wC{constructor(e,t,i,n){nu(this,\"state\",void 0),this.state={codec:e,audioCodec:t,mode:i,clientId:n,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:\"disabled\",useDataChannel:!1,useP2P:!1}}dispatch(e){this.state=function(e,t){switch(t.type){case bC.SET_SESSION_ID:return AC(AC({},e),{},{sessionId:t.sessionId});case bC.SET_P2P_ID:return AC(AC({},e),{},{p2pId:t.p2pId});case bC.SET_UID:return AC(AC({},e),{},{uid:t.uid});case bC.SET_PUB_ID:return AC(AC({},e),{},{pubId:t.pubId});case bC.KEY_METRIC_CLIENT_CREATED:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{clientCreated:t.metric})});case bC.KEY_METRIC_JOIN_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{joinStart:t.metric})});case bC.AVOID_JOIN_START:return AC(AC({},e),{},{avoidJoinStart:t.avoidJoinStart});case bC.KEY_METRIC_JOIN_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{joinEnd:t.metric})});case bC.KEY_METRIC_REQUEST_AP_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{requestAPStart:t.metric})});case bC.KEY_METRIC_REQUEST_AP_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{requestAPEnd:t.metric})});case bC.KEY_METRIC_JOIN_GATEWAY_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case bC.KEY_METRIC_JOIN_GATEWAY_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case bC.KEY_METRIC_PEER_CONNECTION_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case bC.KEY_METRIC_PEER_CONNECTION_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case bC.KEY_METRIC_DESCRIPTION_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{descriptionStart:t.metric})});case bC.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case bC.KEY_METRIC_ICE_CONNECTION_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case bC.KEY_METRIC_PUBLISH:{const i=e.keyMetrics.publish,n=i.findIndex((e=>e.trackId===t.metric.trackId));return-1!==n?(i[n]=AC(AC({},i[n]),t.metric),AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{publish:[...i]})})):AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case bC.KEY_METRIC_SUBSCRIBE:{const i=e.keyMetrics.subscribe,n=i.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==n?(i[n]=AC(AC({},i[n]),t.metric),AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{subscribe:[...i]})})):AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case bC.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case bC.RECORD_JOIN_CHANNEL_SERVICE:return\"number\"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=AC(AC({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case bC.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case bC.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;case bC.SET_USE_DATACHANNEL:return AC(AC({},e),{},{useDataChannel:t.val});case bC.SET_USE_P2P:return AC(AC({},e),{},{useP2P:t.val});default:return e}}(this.state,e)}set sessionId(e){this.dispatch({type:bC.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}set codec(e){this.state.codec=e}get codec(){return this.state.codec}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:bC.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:bC.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:bC.SET_UID,uid:e})}get uid(){return this.state.uid}set pubId(e){this.dispatch({type:bC.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:bC.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useDataChannel(e){this.dispatch({type:bC.SET_USE_DATACHANNEL,val:e})}get useDataChannel(){return this.state.useDataChannel}set useP2P(e){this.dispatch({type:bC.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}clientCreated(){this.dispatch({type:bC.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:bC.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:bC.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:bC.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:bC.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:bC.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:bC.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:bC.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:bC.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:bC.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:bC.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:bC.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,i,n){this.dispatch({type:bC.KEY_METRIC_PUBLISH,metric:AC(AC({trackId:e,type:t},i&&{publishStart:i}),n&&{publishEnd:n})})}subscribe(e,t,i,n,r,s,o){this.dispatch({type:bC.KEY_METRIC_SUBSCRIBE,metric:AC(AC(AC(AC(AC({userId:e,type:t},i&&{subscribeStart:i}),n&&{subscribeEnd:n}),r&&{firstFrame:r}),s&&{streamAdded:s}),o&&{firstDecoded:o})})}massSubscribe(e,t,i,n){e.forEach((e=>{this.dispatch({type:bC.KEY_METRIC_SUBSCRIBE,metric:AC(AC(AC({userId:e.userId,type:e.type},t&&{subscribeStart:t}),i&&{subscribeEnd:i}),n&&{firstFrame:n})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){\"gateway\"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\\d+)-\\d+-\\d+-(\\d+)/,\"$1-*-*-$2\"))));try{return\"number\"!=typeof t?(this.dispatch({type:bC.RECORD_JOIN_CHANNEL_SERVICE,record:AC(AC({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:bC.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:bC.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:bC.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:bC.AVOID_JOIN_START,avoidJoinStart:e})}}const OC=function(e){if(e.match(/[0-9]+\\.[0-9]+\\.[0-9]+$/))return e;const t=e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-alpha\\.([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],i=t[2];return\"\".concat(e,\".\").concat(i)}const i=e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-special\\.([0-9]+)/);if(i&&i[1]&&i[2]){const e=i[1],t=i[2];return\"\".concat(e,\".\").concat(100*(Number(t)+1))}return\"4.0.0.999\"}(\"4.19.3\"),NC=function(){try{return!0===JSON.parse(\"true\")}catch(e){return!0}}(),DC=\"v4.19.3-0-gb2ca8ca7(11/2/2023, 2:57:33 PM)\",PC={PROCESS_ID:\"\",ENCRYPT_AES:!0,AREAS:[\"CHINA\",\"GLOBAL\"],WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\",\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\",\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-web-2.ap.sd-rtn.com\",\"cds-ap-web-3.agora.io\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-web-2.ap.sd-rtn.com\",\"sua-ap-web-3.agora.io\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-web-2.ap.sd-rtn.com\",\"uap-ap-web-3.agora.io\",\"uap-web-4.ap.sd-rtn.com\"],LOG_UPLOAD_SERVER:\"logservice.agora.io\",EVENT_REPORT_DOMAIN:\"statscollector-1.agora.io\",EVENT_REPORT_BACKUP_DOMAIN:\"web-2.statscollector.sd-rtn.com\",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:\"\",LIVE_STREAMING_ADDRESS:\"\",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TWCC:!1,PUBLISH_TWCC:!1,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:\"\",PUB_EXTEND:\"\",SUB_EXTEND:\"\",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:[\"edge.agora.io\",\"edge.sd-rtn.com\"],WORKER_DOMAIN:\"edge.agora.io\",TURN_DOMAIN:\"edge.agora.io\",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:\"webnginx-proxy.agora.io\",PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\",\"webrtc-cloud-proxy.agora.io\"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:\"high\",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_PUB_RTX:!1,USE_SUB_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:100,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:\"\",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:[\"agora.io\",\"sd-rtn.com\"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:\"STANDARD_BITRATE\",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:[\"data-reporting.agora.io\",\"data-reporting.agora.io\"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:\"edge.agora.io\",VIDEO_INSPECT_WORKER_MANAGER_PORT:\"\",VIDEO_INSPECT_WORKER_PORT:\"\",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,DISABLE_FEC:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,ENABLE_USER_LICENSE_CHECK:!0,SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,SVC:[],ENABLE_ENCODED_TRANSFORM:!1,IMAGE_MODERATION_WORKER_HOST:\"edge.agora.io\",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,RTM2_FLAG:void 0,AP_RTM:!1,ENABLE_DATASTREAM_2:!1,DATASTREAM_MAX_RETRANSMITS:10,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_INSTANT_VIDEO:!1,ENABLE_NTP_REPORT:!1,USE_XR:!1,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:1e4,P2P:!1,SHOW_P2P_LOG:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[]};function LC(e,t,i){var n,r;Pr(n=Object.keys(PC)).call(n,e)&&(!i&&Pr(r=Object.keys(MC)).call(r,e)||(PC[e]=t))}function kC(e){return PC[e]}const MC={};var UC,xC;!function(e){e.h264=\"h264\",e.h265=\"h265\",e.vp8=\"vp8\",e.vp9=\"vp9\",e.av1=\"av1\"}(UC||(UC={})),function(e){e.opus=\"opus\",e.pcma=\"pcma\",e.pcmu=\"pcmu\",e.g722=\"g722\"}(xC||(xC={}));const VC=new class extends iT{reportLogUploadError(e){this.emit(\"REPORT_LOG_UPLOAD\",e)}};class FC{constructor(e){nu(this,\"logger\",void 0),nu(this,\"prefixLists\",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}function BC(){const e=new Date;return e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}function jC(){const e=new Date,t=/((\\d+:){2}\\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+\":\"+e.getUTCMilliseconds():e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}const GC={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},WC=Date.now(),HC=e=>{for(const t in GC)if(Object.prototype.hasOwnProperty.call(GC,t)&&GC[t]===e)return t;return\"DEFAULT\"};const KC=new class{constructor(){nu(this,\"proxyServerURL\",void 0),nu(this,\"logLevel\",GC.DEBUG),nu(this,\"uploadState\",\"collecting\"),nu(this,\"uploadLogWaitingList\",[]),nu(this,\"uploadLogUploadingList\",[]),nu(this,\"uploadErrorCount\",0),nu(this,\"currentLogID\",0),nu(this,\"url\",void 0),nu(this,\"extLog\",((e,t)=>{this.appendLogToWaitingList(e,...t)}))}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[GC.DEBUG].concat(t);this.log.apply(this,n)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[GC.INFO].concat(t);this.log.apply(this,n)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[GC.WARNING].concat(t);this.log.apply(this,n)}warn(){this.warning(...arguments)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[GC.ERROR].concat(t);this.log.apply(this,n)}upload(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[GC.DEBUG].concat(t);this.uploadLog.apply(this,n)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){LC(\"UPLOAD_LOG\",!0)}disableLogUpload(){LC(\"UPLOAD_LOG\",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new FC(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-WC<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-WC);const n=Math.max(0,Math.min(4,t[0]));if(t[0]=BC()+\" Agora-SDK [\".concat(HC(n),\"]:\"),this.appendLogToWaitingList(n,...t),n<this.logLevel)return;const r=BC()+\" %cAgora-SDK [\".concat(HC(n),\"]:\");let s=[];if(!kC(\"USE_NEW_LOG\"))switch(n){case GC.DEBUG:s=[r,\"color: #64B5F6;\"].concat(t.slice(1)),console.log.apply(console,s);break;case GC.INFO:s=[r,\"color: #1E88E5; font-weight: bold;\"].concat(t.slice(1)),console.log.apply(console,s);break;case GC.WARNING:s=[r,\"color: #FB8C00; font-weight: bold;\"].concat(t.slice(1)),console.warn.apply(console,s);break;case GC.ERROR:s=[r,\"color: #B00020; font-weight: bold;\"].concat(t.slice(1)),console.error.apply(console,s)}}uploadLog(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-WC<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-WC);const n=Math.max(0,Math.min(4,t[0]));t[0]=BC()+\" Agora-SDK [\".concat(HC(n),\"]:\"),this.appendLogToWaitingList(n,...t)}appendLogToWaitingList(e){if(!kC(\"UPLOAD_LOG\"))return;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Array.isArray(i[0])?i[0][0]=jC()+\" Agora-SDK [\".concat(HC(e),\"]:\"):i[0]=jC()+\" Agora-SDK [\".concat(HC(e),\"]:\");let r=\"\";i.forEach((e=>{\"object\"==typeof e&&(e=JSON.stringify(e)),r+=\"\".concat(e,\" \")})),this.uploadLogWaitingList.push({payload_str:r,log_level:e,log_item_id:this.currentLogID++}),\"uploading\"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState=\"uploading\",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:OC,process_id:kC(\"PROCESS_ID\"),payload:JSON.stringify(e)};return XT((async()=>{const e=await EC.post(this.url||(this.proxyServerURL?\"https://\".concat(this.proxyServerURL,\"/ls/?h=\").concat(kC(\"LOG_UPLOAD_SERVER\"),\"&p=443&d=upload/v1\"):\"https://\".concat(kC(\"LOG_UPLOAD_SERVER\"),\"/upload/v1\")),t,{responseType:\"text\"});if(\"OK\"!==e.data){const t=new Error(\"unexpected upload log response\");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(e=>(e.response?VC.reportLogUploadError({status:e.response.status,data:e.response.data,headers:e.response.headers,message:e.message}):e.request?VC.reportLogUploadError({status:e.request.status,message:e.message}):VC.reportLogUploadError({status:-1,message:e.message}),!0)),{timeout:kC(\"UPLOAD_LOG_REQUEST_RETRY_INTERVAL\"),maxRetryTimeout:kC(\"UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL\")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,kC(\"UPLOAD_LOG_LENGTH_EACH_TIME\"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),kC(\"UPLOAD_LOG_INTERVAL\"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),kC(\"UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1\")):window.setTimeout((()=>this.uploadLogInterval()),kC(\"UPLOAD_LOG_RETRY_INTERVAL_V1\"))})))}};var YC,qC;function JC(e){return Wg(e.reportId,\"params.reportId\",0,100,!1),Wg(e.category,\"params.category\",0,100,!1),Wg(e.event,\"params.event\",0,100,!1),Wg(e.label,\"params.label\",0,100,!1),jg(e.value,\"params.value\",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}!function(e){e.FREE=\"free\",e.UPLOADING=\"uploading\"}(YC||(YC={})),function(e){e[e.MISC=0]=\"MISC\",e[e.INTERNAL_EVENT=1]=\"INTERNAL_EVENT\",e[e.PUBLIC_EVENT=2]=\"PUBLIC_EVENT\",e[e.WEB_EVENT=3]=\"WEB_EVENT\",e[e.INTERNAL_API=4]=\"INTERNAL_API\",e[e.WEB_API=5]=\"WEB_API\",e[e.PUBLIC_API=6]=\"PUBLIC_API\"}(qC||(qC={}));const zC={sid:\"\",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};var XC,QC,ZC,$C;function ev(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function tv(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ev(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}!function(e){e.PUBLISH=\"publish\",e.SUBSCRIBE=\"subscribe\",e.WS_COMPRESSOR_INIT=\"ws_compressor_init\",e.SESSION_INIT=\"session_init\",e.JOIN_CHOOSE_SERVER=\"join_choose_server\",e.REQ_USER_ACCOUNT=\"req_user_account\",e.JOIN_GATEWAY=\"join_gateway\",e.REJOIN_GATEWAY=\"rejoin_gateway\",e.STREAM_SWITCH=\"stream_switch\",e.REQUEST_PROXY_WORKER_MANAGER=\"request_proxy_worker_manager\",e.REQUEST_PROXY_APPCENTER=\"request_proxy_appcenter\",e.FIRST_VIDEO_RECEIVED=\"first_video_received\",e.FIRST_AUDIO_RECEIVED=\"first_audio_received\",e.FIRST_VIDEO_DECODE=\"first_video_decode\",e.FIRST_AUDIO_DECODE=\"first_audio_decode\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_UPDATE_STREAM=\"on_update_stream\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.USER_ANALYTICS=\"req_user_analytics\",e.PC_STATS=\"pc_stats\"}(XC||(XC={})),function(e){e.SESSION=\"io.agora.pb.Wrtc.Session\",e.JOIN_CHOOSE_SERVER=\"io.agora.pb.Wrtc.JoinChooseServer\",e.REQ_USER_ACCOUNT=\"io.agora.pb.Wrtc.ReqUserAccount\",e.JOIN_GATEWAY=\"io.agora.pb.Wrtc.JoinGateway\",e.RE_JOIN_GATEWAY=\"io.agora.pb.Wrtc.ReJoinGateway\",e.PUBLISH=\"io.agora.pb.Wrtc.Publish\",e.SUBSCRIBE=\"io.agora.pb.Wrtc.Subscribe\",e.WS_COMPRESSOR_INIT=\"io.agora.pb.Wrtc.WsCompressorInit\",e.STREAM_SWITCH=\"io.agora.pb.Wrtc.StreamSwitch\",e.AUDIO_SENDING_STOPPED=\"io.agora.pb.Wrtc.AudioSendingStopped\",e.VIDEO_SENDING_STOPPED=\"io.agora.pb.Wrtc.VideoSendingStopped\",e.REQUEST_PROXY_APPCENTER=\"io.agora.pb.Wrtc.RequestProxyAppCenter\",e.REQUEST_PROXY_WORKER_MANAGER=\"io.agora.pb.Wrtc.RequestProxyWorkerManager\",e.API_INVOKE=\"io.agora.pb.Wrtc.ApiInvoke\",e.FIRST_VIDEO_RECEIVED=\"io.agora.pb.Wrtc.FirstVideoReceived\",e.FIRST_AUDIO_RECEIVED=\"io.agora.pb.Wrtc.FirstAudioReceived\",e.FIRST_VIDEO_DECODE=\"io.agora.pb.Wrtc.FirstVideoDecode\",e.FIRST_AUDIO_DECODE=\"io.agora.pb.Wrtc.FirstAudioDecode\",e.ON_ADD_AUDIO_STREAM=\"io.agora.pb.Wrtc.OnAddAudioStream\",e.ON_ADD_VIDEO_STREAM=\"io.agora.pb.Wrtc.OnAddVideoStream\",e.ON_UPDATE_STREAM=\"io.agora.pb.Wrtc.OnUpdateStream\",e.ON_REMOVE_STREAM=\"io.agora.pb.Wrtc.OnRemoveStream\",e.JOIN_CHANNEL_TIMEOUT=\"io.agora.pb.Wrtc.JoinChannelTimeout\",e.PEER_PUBLISH_STATUS=\"io.agora.pb.Wrtc.PeerPublishStatus\",e.WORKER_EVENT=\"io.agora.pb.Wrtc.WorkerEvent\",e.AP_WORKER_EVENT=\"io.agora.pb.Wrtc.APWorkerEvent\",e.JOIN_WEB_PROXY_AP=\"io.agora.pb.Wrtc.JoinWebProxyAP\",e.WEBSOCKET_QUIT=\"io.agora.pb.Wrtc.WebSocketQuit\",e.USER_ANALYTICS=\"io.agora.pb.Wrtc.UserAnalytics\",e.AUTOPLAY_FAILED=\"io.agora.pb.Wrtc.AutoplayFailed\",e.PC_STATS=\"io.agora.pb.Wrtc.PCStats\"}(QC||(QC={})),function(e){e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\"}(ZC||(ZC={})),function(e){e[e.SESSION=26]=\"SESSION\",e[e.JOIN_CHOOSE_SERVER=27]=\"JOIN_CHOOSE_SERVER\",e[e.REQ_USER_ACCOUNT=196]=\"REQ_USER_ACCOUNT\",e[e.JOIN_GATEWAY=28]=\"JOIN_GATEWAY\",e[e.PUBLISH=30]=\"PUBLISH\",e[e.SUBSCRIBE=29]=\"SUBSCRIBE\",e[e.WS_COMPRESSOR_INIT=9430]=\"WS_COMPRESSOR_INIT\",e[e.STREAM_SWITCH=32]=\"STREAM_SWITCH\",e[e.AUDIO_SENDING_STOPPED=33]=\"AUDIO_SENDING_STOPPED\",e[e.VIDEO_SENDING_STOPPED=34]=\"VIDEO_SENDING_STOPPED\",e[e.REQUEST_PROXY_APPCENTER=35]=\"REQUEST_PROXY_APPCENTER\",e[e.REQUEST_PROXY_WORKER_MANAGER=36]=\"REQUEST_PROXY_WORKER_MANAGER\",e[e.API_INVOKE=41]=\"API_INVOKE\",e[e.FIRST_VIDEO_RECEIVED=348]=\"FIRST_VIDEO_RECEIVED\",e[e.FIRST_AUDIO_RECEIVED=349]=\"FIRST_AUDIO_RECEIVED\",e[e.FIRST_VIDEO_DECODE=350]=\"FIRST_VIDEO_DECODE\",e[e.FIRST_AUDIO_DECODE=351]=\"FIRST_AUDIO_DECODE\",e[e.ON_ADD_AUDIO_STREAM=352]=\"ON_ADD_AUDIO_STREAM\",e[e.ON_ADD_VIDEO_STREAM=353]=\"ON_ADD_VIDEO_STREAM\",e[e.ON_UPDATE_STREAM=356]=\"ON_UPDATE_STREAM\",e[e.ON_REMOVE_STREAM=355]=\"ON_REMOVE_STREAM\",e[e.JOIN_CHANNEL_TIMEOUT=407]=\"JOIN_CHANNEL_TIMEOUT\",e[e.PEER_PUBLISH_STATUS=408]=\"PEER_PUBLISH_STATUS\",e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\",e[e.JOIN_WEB_PROXY_AP=700]=\"JOIN_WEB_PROXY_AP\",e[e.WEBSOCKET_QUIT=671]=\"WEBSOCKET_QUIT\",e[e.USER_ANALYTICS=1e4]=\"USER_ANALYTICS\",e[e.AUTOPLAY_FAILED=9178]=\"AUTOPLAY_FAILED\"}($C||($C={}));class iv{constructor(){nu(this,\"baseInfoMap\",new Map),nu(this,\"proxyServer\",void 0),nu(this,\"eventUploadTimer\",void 0),nu(this,\"setSessionIdTimer\",void 0),nu(this,\"url\",void 0),nu(this,\"backupUrl\",void 0),nu(this,\"_appId\",void 0),nu(this,\"keyEventUploadPendingItems\",[]),nu(this,\"normalEventUploadPendingItems\",[]),nu(this,\"apiInvokeUploadPendingItems\",[]),nu(this,\"apiInvokeCount\",0),nu(this,\"ltsList\",[]),nu(this,\"lastSendNormalEventTime\",Date.now()),nu(this,\"customReportCounterTimer\",void 0),nu(this,\"customReportCount\",0),nu(this,\"extApiInvoke\",(async e=>{for(const t of e){const e=tv(tv({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:oT.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),kC(\"EVENT_REPORT_SEND_INTERVAL\")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),kC(\"EVENT_REPORT_SEND_INTERVAL\"))}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return void KC.error(\"adjust session \".concat(e,\" start time, sid is not exist or info is undefined\"));const t=this.baseInfoMap.get(e),i=Date.now(),n=t.startTime;t.startTime=i,KC.debug(\"rewrite session \".concat(e,\" startTime: \").concat(i,\" , \").concat(i-n,\"ms\")),this.baseInfoMap.set(e,t)}setAppId(e){this._appId=e}reportApiInvoke(e,t,i){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const n=Date.now();this.apiInvokeCount+=1;const r=this.apiInvokeCount,s=()=>({tag:t.tag,invokeId:r,sid:e,name:t.name,apiInvokeTime:n,options:t.options,states:t.states||null}),o=!!kC(\"SHOW_REPORT_INVOKER_LOG\");o&&KC.info(\"\".concat(t.name,\" start\"),t.options);let a=!1;UT(t.timeout).then((()=>{a||(this.sendApiInvoke(tv(tv({},s()),{},{error:xg.API_INVOKE_TIMEOUT,success:!1})),KC.debug(\"\".concat(t.name,\" timeout\")))}));const c=new Vg(xg.UNEXPECTED_ERROR,\"\".concat(t.name,\": this api invoke is end\"));return{onSuccess:e=>{const n=()=>{if(a)throw c;return a=!0,this.sendApiInvoke(tv(tv({},s()),{},{success:!0},t.reportResult&&{result:e})),o&&KC.info(\"\".concat(t.name,\" onSuccess\")),e};return i?jT(n,t.name+\"Success\",i,(()=>a=!0)):n()},onError:e=>{const n=()=>{if(a)throw e;a=!0,this.sendApiInvoke(tv(tv({},s()),{},{success:!1,error:e})),o&&KC.info(\"\".concat(t.name,\" onFailure\"),e.toString())};return i?jT(n,t.name+\"Error\",i,(()=>a=!0)):n()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const i=Date.now(),n=this.createBaseInfo(e,i);n.cname=t.cname;const r=Object.assign({},{willUploadConsoleLog:kC(\"UPLOAD_LOG\"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:NC?\"global\":\"oversea\",areas:kC(\"AREAS\")&&kC(\"AREAS\").join(\",\")},t.extend),s=Date.now(),o=tv(tv({},n),{},{eventType:XC.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:DC,lts:s,elapse:s-i,extend:JSON.stringify(r),mode:t.mode,process:kC(\"PROCESS_ID\"),appType:kC(\"APP_TYPE\"),success:!0,version:OC});this.send({type:QC.SESSION,data:o},!0)}joinChooseServer(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv({},n),{},{eventType:XC.JOIN_CHOOSE_SERVER,lts:r,eventElapse:r-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:r-i.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||\"\",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3});this.send({type:QC.JOIN_CHOOSE_SERVER,data:s},!0)}reqUserAccount(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv({},n),{},{eventType:XC.REQ_USER_ACCOUNT,lts:r,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:r-i.startTime,eventElapse:r-t.lts,extend:JSON.stringify(t.extend)});this.send({type:QC.REQ_USER_ACCOUNT,data:s},!0)}joinGateway(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info;t.vid&&(n.vid=t.vid),n.uid=t.uid,n.cid=t.cid;const r=Date.now(),{firstSuccess:s,avoidJoinStartTime:o,isProxy:a,addr:c}=t,d=r-(s&&o?o:i.startTime),l=tv(tv({},n),{},{eventType:XC.JOIN_GATEWAY,lts:r,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:d,eventElapse:r-t.lts,firstSuccess:s,signalChannel:t.signalChannel}),h=l.success?1:0;if(t.succ&&(i.lastJoinSuccessTime=r),s)this.send({type:QC.JOIN_GATEWAY,data:l},!0);else{let e;if(c)if(a){const t=c.match(/h=(\\d{1,3}-){3}\\d{1,3}/g),i=c.match(/p=[0-9]{1,6}/g);e={isSuccess:h,gatewayIp:t&&t.length?t[0].split(\"=\")[1].replace(/-/g,\".\"):\"\",port:i&&i.length?i[0].split(\"=\")[1]:\"\",isProxy:a?1:0}}else{const t=c.match(/wss:\\/\\/(\\d{1,3}-){3}\\d{1,3}/g),i=c.match(/(:|p=)[0-9]{1,6}/g);e={isSuccess:h,gatewayIp:t&&t.length?t[0].split(\"//\")[1].replace(/-/g,\".\"):\"\",port:i&&i.length?i[0].split(/:|p=/g)[1]:\"\",isProxy:a?1:0}}else e={isSuccess:h,gatewayIp:\"\",port:\"\",isProxy:a?1:0};delete l.success,delete l.eventType,delete l.firstSuccess,l.vid=Number(l.vid);const t=Object.assign({},l,e,{eventType:XC.REJOIN_GATEWAY});this.send({type:QC.RE_JOIN_GATEWAY,data:t},!0)}}joinChannelTimeout(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=Date.now(),r=tv(tv({},i.info),{},{lts:n,timeout:t,elapse:n-i.startTime});this.send({type:QC.JOIN_CHANNEL_TIMEOUT,data:r},!0)}publish(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv({},n),{},{eventType:XC.PUBLISH,lts:r,eventElapse:t.eventElapse,elapse:r-i.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:QC.PUBLISH,data:s},!0)}subscribe(e,t,i){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=tv(tv({},r),{},{eventType:XC.SUBSCRIBE,lts:s,eventElapse:t.eventElapse,elapse:s-n.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid},i&&{extend:JSON.stringify({isMassSubscribe:!0})});\"string\"==typeof t.peerid?o.peerSuid=t.peerid:o.peer=t.peerid,this.send({type:QC.SUBSCRIBE,data:o},!0)}wsCompressorInit(e){var t;const i=[...hu(t=this.baseInfoMap).call(t)],n=i.length?i[0]:\"UnableToGetSid\",r=this.baseInfoMap.get(n);if(!r)return;const s=r.info,o=Date.now(),a=tv(tv({},s),{},{eventType:XC.WS_COMPRESSOR_INIT,lts:o,eventElapse:e.eventElapse,elapse:o-r.startTime,status:e.status?1:2});this.send({type:QC.WS_COMPRESSOR_INIT,data:a},!0)}firstRemoteVideoDecode(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const s=r.info,o=Date.now(),a=tv(tv(tv({},s),n),{},{elapse:o-r.startTime,eventType:t,lts:o,firstDecodeFrame:Math.max(o-r.startTime,0),apEnd:Math.max(n.apEnd-r.startTime,0),apStart:Math.max(n.apStart-r.startTime,0),joinGwEnd:Math.max(n.joinGwEnd-r.startTime,0),joinGwStart:Math.max(n.joinGwStart-r.startTime,0),pcEnd:Math.max(n.pcEnd-r.startTime,0),pcStart:Math.max(n.pcStart-r.startTime,0),subscriberEnd:Math.max(n.subscriberEnd-r.startTime,0),subscriberStart:Math.max(n.subscriberStart-r.startTime,0),videoAddNotify:Math.max(n.videoAddNotify-r.startTime,0)});this.send({type:i,data:a},!0)}firstRemoteFrame(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const s=r.info,o=Date.now(),a=tv(tv(tv({},s),n),{},{elapse:o-r.startTime,eventType:t,lts:o});this.send({type:i,data:a},!0)}pcStats(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv(tv({},n),t),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:r-i.startTime,eventType:XC.PC_STATS,lts:r});this.send({type:QC.PC_STATS,data:s},!0)}updateRemoteRTPCapabilities(e,t){this.reportApiInvoke(e,{name:\"Client.updateRemoteRTPCapabilities\",options:t,tag:oT.TRACER}).onSuccess()}onGatewayStream(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const s=r.info,o=Date.now(),a=tv(tv(tv({},s),n),{},{eventType:t,lts:o});this.send({type:i,data:a},!0)}streamSwitch(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv({},n),{},{eventType:XC.STREAM_SWITCH,lts:r,isDual:t.isdual,elapse:r-i.startTime,success:t.succ});this.send({type:QC.STREAM_SWITCH,data:s},!0)}requestProxyAppCenter(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv({},n),{},{eventType:XC.REQUEST_PROXY_APPCENTER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:QC.REQUEST_PROXY_APPCENTER,data:s},!0)}requestProxyWorkerManager(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv({},n),{},{eventType:XC.REQUEST_PROXY_WORKER_MANAGER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:QC.REQUEST_PROXY_WORKER_MANAGER,data:s},!0)}setProxyServer(e){this.proxyServer=e,e?KC.debug(\"reportProxyServerurl: \".concat(e)):KC.debug(\"disable reportProxyServerurl: \".concat(e))}peerPublishStatus(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv({},n),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:r,elapse:r-i.startTime,joinChannelSuccessElapse:r-(i.lastJoinSuccessTime||r),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:QC.PEER_PUBLISH_STATUS,data:s},!0)}workerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=function(e,t,i){const n=e[t];if(!n||\"string\"!=typeof n)return[e];e[t]=\"\";const r=LT(JSON.stringify(e));let s=0;const o=[];let a=0;for(let c=0;c<n.length;c++)a+=n.charCodeAt(c)<=127?1:3,a<=i-r||(o[o.length]=vT(vT({},e),{},{[t]:n.substring(s,c)}),s=c,a=n.charCodeAt(c)<=127?1:3);return s!==n.length-1&&(o[o.length]=vT(vT({},e),{},{[t]:n.substring(s)})),o}(tv(tv(tv({},n),t),{},{elapse:r-i.startTime,lts:r,productType:\"WebRTC\"}),\"payload\",1300);s.forEach((e=>this.send({type:QC.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv(tv({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:QC.AP_WORKER_EVENT,data:s},!0)}joinWebProxyAP(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv(tv({},n),t),{},{elapse:r-i.startTime,lts:r,extend:t.extend||void 0});this.send({type:QC.JOIN_WEB_PROXY_AP,data:s},!0)}WebSocketQuit(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=tv(tv(tv({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:QC.WEBSOCKET_QUIT,data:s},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>kC(\"CUSTOM_REPORT_LIMIT\"))throw new Vg(xg.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const i=Date.now(),n=t.map((t=>({type:QC.USER_ANALYTICS,data:tv(tv({sid:e},t),{},{lts:i})})));try{kC(\"NEW_REPORT_SERVER\")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(e){throw KC.error(\"send custom report message failed\",e.toString()),new Vg(xg.CUSTOM_REPORT_SEND_FAILED,e.message)}}sendApiInvoke(e){const t=kC(\"NOT_REPORT_EVENT\");if(e.tag&&Pr(t)&&Pr(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const i=this.baseInfoMap.get(e.sid);if(!i)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:n,uid:r,cid:s}=i.info;let o;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof Vg){const{code:t,message:i}=e.error;o=t||(i||e.error.toString())}else o=e.error.toString();const a={invokeId:e.invokeId,sid:e.sid,cname:n,cid:s,uid:r,lts:e.lts,success:e.success,elapse:e.lts-i.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?o:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:QC.API_INVOKE,data:a},!1),!0}appendSessionId(){iv.__CLIENT_LIST__.forEach((e=>{if(e._sessionId){const t=this.apiInvokeUploadPendingItems.length;for(let i=0;i<t;i++){const t=this.apiInvokeUploadPendingItems.shift();t&&(t.sid=e._sessionId,this.sendApiInvoke(Object.assign({},t)))}}}))}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>kC(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const i=[],n=[];for(;e.length;){const t=e.shift();i.length<20?i.push(t):n.push(t)}e.push(...n);for(const e of[...i]){var r;if(-1!==this.ltsList.indexOf(e.data.lts))e.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(e.data.lts);else this.ltsList.push(e.data.lts),Zu(r=this.ltsList).call(r,((e,t)=>e-t))}t||(this.lastSendNormalEventTime=Date.now());return kC(\"ENABLE_EVENT_REPORT\")?(i.length&&(kC(\"NEW_REPORT_SERVER\")?this.postDataToStatsCollector2(i):this.postDataToStatsCollector(i)).catch((e=>i=>{kC(\"EVENT_REPORT_RETRY\")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>kC(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-kC(\"NORMAL_EVENT_QUEUE_CAPACITY\")),KC.warning(\"report: drop normal events\"))))})(i)),e):e}async postDataToStatsCollector2(e){RT.networkState===hT.OFFLINE&&await tg.race([RT.onlineWaiter,UT(2*JT.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const i=Zg(JSON.stringify(e.data)),n=new ArrayBuffer(5),r=(e=>{let t=0;return Object.entries(QC).forEach((i=>{let[n,r]=i;r===e.type&&(t=EventNameToID[n])})),t})(e),s=new DataView(n);s.setUint16(0,i.byteLength,!0),s.setUint8(2,255&r),s.setUint8(3,r>>>8&255),s.setUint8(4,r>>>16&255),t=$g(t,new Uint8Array(n)),t=$g(t,i)})),t},i=\"event\";let n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(kC(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"&p=443&d=\").concat(i):\"https://\".concat(kC(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"/\").concat(i);for(let r=0;r<2;r+=1){1===r&&(n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(kC(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"&p=443&d=\").concat(i):\"https://\".concat(kC(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"/\").concat(i));try{await RC(n,{timeout:1e4,data:t(e),headers:tv(tv({biz:\"webrtc\",sendts:Math.round(Date.now()/1e3),debug:\"false\"},this._appId&&{appid:this._appId}),{},{\"Content-Type\":\"application/octet-stream\"})},!0)}catch(e){if(1===r)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={msgType:\"EventMessages\",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};RT.networkState===hT.OFFLINE&&await tg.race([RT.onlineWaiter,UT(2*JT.maxRetryTimeout)]);const n=t?\"/events/proto-raws\":\"/events/messages\";let r=this.url||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(kC(\"EVENT_REPORT_DOMAIN\"),\"&p=\").concat(kC(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(n):\"https://\".concat(kC(\"EVENT_REPORT_DOMAIN\"),\":\").concat(kC(\"STATS_COLLECTOR_PORT\")).concat(n));for(let e=0;e<2;e+=1){1===e&&(r=this.backupUrl||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(kC(\"EVENT_REPORT_BACKUP_DOMAIN\"),\"&p=\").concat(kC(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(n):\"https://\".concat(kC(\"EVENT_REPORT_BACKUP_DOMAIN\"),\":\").concat(kC(\"STATS_COLLECTOR_PORT\")).concat(n)));try{t?await CC(r,{timeout:1e4,data:i}):await RC(r,{timeout:1e4,data:i})}catch(t){if(1===e)throw t;continue}return}}createBaseInfo(e,t){const i=Object.assign({},zC);return i.sid=e,this.baseInfoMap.set(e,{info:i,startTime:t}),i}reportResourceTiming(e,t){const i=performance.getEntriesByName(e),n=i[i.length-1];n&&this.reportApiInvoke(t,{name:\"Client.resourceTiming\",options:n,tag:oT.TRACER}).onSuccess()}}function nv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,i,n){const r=n.value;if(\"function\"==typeof r){const s=e.className||t.__className__||(\"AgoraRTCClient\"===t.constructor.name?\"Client\":t.constructor.name);n.value=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];let a=n;if(e.argsMap)try{a=e.argsMap(this,...n)}catch(e){KC.warning(e),a=[]}try{JSON.stringify(a)}catch(e){KC.warning(\"arguments for method \".concat(s,\".\").concat(String(i),\" not serializable for apiInvoke.\")),a=[]}const c=(e.report||rv).reportApiInvoke(this._sessionId||null,{name:\"\".concat(s,\".\").concat(String(i)),options:a,tag:oT.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=r.apply(this,n);return t instanceof tg?t.then((t=>(c.onSuccess(e.reportResult&&t),t))).catch((e=>{throw c.onError(e),e})):(c.onSuccess(e.reportResult&&t),t)}catch(e){throw c.onError(e),e}}}return n}}nu(iv,\"__CLIENT_LIST__\",[]);const rv=new iv;VC.on(\"REPORT_LOG_UPLOAD\",(e=>{e.networkState=RT.networkState,rv.reportApiInvoke(null,{name:\"logUploadError\",options:e,tag:oT.TRACER})}));const sv=[\"CHINA\",\"GLOBAL\"],ov=function(){const e=\"us\".concat(\"erna\",\"me\"),t=\"pa\".concat(\"sswo\",\"rd\"),i=[\"t\",\"s\",\"t\"];i.splice(1,0,\"e\");const n=i.join(\"\"),r=[];for(let e=0;e<6;e++)r.push(\"1\");const s=r.join(\"\"),o={};return o[e]=n,o[t]=s,Object.assign(o,{turnServerURL:\"\",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=ov,NC||(PC.WEBCS_DOMAIN=[\"ap-web-1-oversea.agora.io\",\"ap-web-1-north-america.agora.io\"],PC.WEBCS_DOMAIN_BACKUP_LIST=[\"ap-web-2-oversea.agora.io\",\"ap-web-2-north-america.agora.io\"],PC.PROXY_CS=[\"proxy-ap-web-oversea.agora.io\",\"proxy-ap-web-america.agora.io\"],PC.CDS_AP=[\"cds-ap-web-oversea.agora.io\",\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],PC.ACCOUNT_REGISTER=[\"sua-ap-web-oversea.agora.io\",\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],PC.UAP_AP=[\"uap-ap-web-oversea.agora.io\",\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],PC.LOG_UPLOAD_SERVER=\"logservice-oversea.agora.io\",PC.EVENT_REPORT_DOMAIN=\"statscollector-1-oversea.agora.io\",PC.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-2-oversea.agora.io\",PC.PROXY_SERVER_TYPE3=\"webrtc-cloud-proxy.agora.io\",PC.AREAS=[\"NORTH_AMERICA\",\"OVERSEA\"]);const av=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],cv=[];function dv(e,t){return!!t&&cv.some((i=>i.uid===e&&i.channelName===t))}iv.__CLIENT_LIST__=cv;var lv,hv,uv,pv,_v,Ev,mv,fv,gv,Tv,Sv,Rv,Cv,vv,Iv,yv,Av,bv=er(\"Array\").values,wv=Er,Ov=ni,Nv=Ee,Dv=bv,Pv=Array.prototype,Lv={DOMTokenList:!0,NodeList:!0},kv=J((function(e){var t=e.values;return e===Pv||Nv(Pv,e)&&t===Pv.values||Ov(Lv,wv(e))?Dv:t}));function Mv(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function Uv(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)}!function(e){e.L1T1=\"L1T1\",e.L1T2=\"L1T2\",e.L1T3=\"L1T3\",e.L2T1_KEY=\"L2T1_KEY\",e.L2T2_KEY=\"L2T2_KEY\",e.L2T3_KEY=\"L2T3_KEY\",e.L3T1_KEY=\"L3T1_KEY\",e.L3T2_KEY=\"L3T2_KEY\",e.L3T3_KEY=\"L3T3_KEY\"}(lv||(lv={})),function(e){e.CERTIFICATE=\"certificate\",e.CODEC=\"codec\",e.CANDIDATE_PAIR=\"candidate-pair\",e.LOCAL_CANDIDATE=\"local-candidate\",e.REMOTE_CANDIDATE=\"remote-candidate\",e.INBOUND=\"inbound-rtp\",e.TRACK=\"track\",e.OUTBOUND=\"outbound-rtp\",e.PC=\"peer-connection\",e.REMOTE_INBOUND=\"remote-inbound-rtp\",e.REMOTE_OUTBOUND=\"remote-outbound-rtp\",e.TRANSPORT=\"transport\",e.CSRC=\"csrc\",e.DATA_CHANNEL=\"data-channel\",e.STREAM=\"stream\",e.SENDER=\"sender\",e.RECEIVER=\"receiver\"}(hv||(hv={})),function(e){e[e.ACCESS_POINT=101]=\"ACCESS_POINT\",e[e.UNILBS=201]=\"UNILBS\",e[e.STRING_UID_ALLOCATOR=901]=\"STRING_UID_ALLOCATOR\"}(uv||(uv={})),function(e){e[e.IIIEGAL_APPID=1]=\"IIIEGAL_APPID\",e[e.IIIEGAL_UID=2]=\"IIIEGAL_UID\",e[e.INTERNAL_ERROR=3]=\"INTERNAL_ERROR\"}(pv||(pv={})),function(e){e[e.INVALID_VENDOR_KEY=5]=\"INVALID_VENDOR_KEY\",e[e.INVALID_CHANNEL_NAME=7]=\"INVALID_CHANNEL_NAME\",e[e.INTERNAL_ERROR=8]=\"INTERNAL_ERROR\",e[e.NO_AUTHORIZED=9]=\"NO_AUTHORIZED\",e[e.DYNAMIC_KEY_TIMEOUT=10]=\"DYNAMIC_KEY_TIMEOUT\",e[e.NO_ACTIVE_STATUS=11]=\"NO_ACTIVE_STATUS\",e[e.DYNAMIC_KEY_EXPIRED=13]=\"DYNAMIC_KEY_EXPIRED\",e[e.STATIC_USE_DYNAMIC_KEY=14]=\"STATIC_USE_DYNAMIC_KEY\",e[e.DYNAMIC_USE_STATIC_KEY=15]=\"DYNAMIC_USE_STATIC_KEY\",e[e.USER_OVERLOAD=16]=\"USER_OVERLOAD\",e[e.FORBIDDEN_REGION=18]=\"FORBIDDEN_REGION\",e[e.CANNOT_MEET_AREA_DEMAND=19]=\"CANNOT_MEET_AREA_DEMAND\"}(_v||(_v={})),function(e){e[e.NO_FLAG_SET=100]=\"NO_FLAG_SET\",e[e.FLAG_SET_BUT_EMPTY=101]=\"FLAG_SET_BUT_EMPTY\",e[e.INVALID_FALG_SET=102]=\"INVALID_FALG_SET\",e[e.FLAG_SET_BUT_NO_RE=103]=\"FLAG_SET_BUT_NO_RE\",e[e.INVALID_SERVICE_ID=104]=\"INVALID_SERVICE_ID\",e[e.NO_SERVICE_AVAILABLE=200]=\"NO_SERVICE_AVAILABLE\",e[e.NO_SERVICE_AVAILABLE_P2P=201]=\"NO_SERVICE_AVAILABLE_P2P\",e[e.NO_SERVICE_AVAILABLE_VOICE=202]=\"NO_SERVICE_AVAILABLE_VOICE\",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]=\"NO_SERVICE_AVAILABLE_WEBRTC\",e[e.NO_SERVICE_AVAILABLE_CDS=204]=\"NO_SERVICE_AVAILABLE_CDS\",e[e.NO_SERVICE_AVAILABLE_CDN=205]=\"NO_SERVICE_AVAILABLE_CDN\",e[e.NO_SERVICE_AVAILABLE_TDS=206]=\"NO_SERVICE_AVAILABLE_TDS\",e[e.NO_SERVICE_AVAILABLE_REPORT=207]=\"NO_SERVICE_AVAILABLE_REPORT\",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]=\"NO_SERVICE_AVAILABLE_APP_CENTER\",e[e.NO_SERVICE_AVAILABLE_ENV0=209]=\"NO_SERVICE_AVAILABLE_ENV0\",e[e.NO_SERVICE_AVAILABLE_VOET=210]=\"NO_SERVICE_AVAILABLE_VOET\",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]=\"NO_SERVICE_AVAILABLE_STRING_UID\",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]=\"NO_SERVICE_AVAILABLE_WEBRTC_UNILBS\",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]=\"NO_SERVICE_AVAILABLE_UNILBS_FLV\"}(Ev||(Ev={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]=\"K_TIMESTAMP_EXPIRED\",e[e.K_CHANNEL_PERMISSION_INVALID=3]=\"K_CHANNEL_PERMISSION_INVALID\",e[e.K_CERTIFICATE_INVALID=4]=\"K_CERTIFICATE_INVALID\",e[e.K_CHANNEL_NAME_EMPTY=5]=\"K_CHANNEL_NAME_EMPTY\",e[e.K_CHANNEL_NOT_FOUND=6]=\"K_CHANNEL_NOT_FOUND\",e[e.K_TICKET_INVALID=7]=\"K_TICKET_INVALID\",e[e.K_CHANNEL_CONFLICTED=8]=\"K_CHANNEL_CONFLICTED\",e[e.K_SERVICE_NOT_READY=9]=\"K_SERVICE_NOT_READY\",e[e.K_SERVICE_TOO_HEAVY=10]=\"K_SERVICE_TOO_HEAVY\",e[e.K_UID_BANNED=14]=\"K_UID_BANNED\",e[e.K_IP_BANNED=15]=\"K_IP_BANNED\",e[e.K_CHANNEL_BANNED=16]=\"K_CHANNEL_BANNED\",e[e.K_AUTO_REBALANCE=28]=\"K_AUTO_REBALANCE\",e[e.WARN_NO_AVAILABLE_CHANNEL=103]=\"WARN_NO_AVAILABLE_CHANNEL\",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]=\"WARN_LOOKUP_CHANNEL_TIMEOUT\",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]=\"WARN_LOOKUP_CHANNEL_REJECTED\",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]=\"WARN_OPEN_CHANNEL_TIMEOUT\",e[e.WARN_OPEN_CHANNEL_REJECTED=107]=\"WARN_OPEN_CHANNEL_REJECTED\",e[e.WARN_REQUEST_DEFERRED=108]=\"WARN_REQUEST_DEFERRED\",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]=\"ERR_DYNAMIC_KEY_TIMEOUT\",e[e.ERR_NO_AUTHORIZED=110]=\"ERR_NO_AUTHORIZED\",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]=\"ERR_VOM_SERVICE_UNAVAILABLE\",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]=\"ERR_NO_CHANNEL_AVAILABLE_CODE\",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]=\"ERR_MASTER_VOCS_UNAVAILABLE\",e[e.ERR_INTERNAL_ERROR=115]=\"ERR_INTERNAL_ERROR\",e[e.ERR_NO_ACTIVE_STATUS=116]=\"ERR_NO_ACTIVE_STATUS\",e[e.ERR_INVALID_UID=117]=\"ERR_INVALID_UID\",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]=\"ERR_DYNAMIC_KEY_EXPIRED\",e[e.ERR_STATIC_USE_DYANMIC_KE=119]=\"ERR_STATIC_USE_DYANMIC_KE\",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]=\"ERR_DYNAMIC_USE_STATIC_KE\",e[e.ERR_NO_VOCS_AVAILABLE=2e3]=\"ERR_NO_VOCS_AVAILABLE\",e[e.ERR_NO_VOS_AVAILABLE=2001]=\"ERR_NO_VOS_AVAILABLE\",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]=\"ERR_JOIN_CHANNEL_TIMEOUT\",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]=\"ERR_REPEAT_JOIN_CHANNEL\",e[e.ERR_JOIN_BY_MULTI_IP=2004]=\"ERR_JOIN_BY_MULTI_IP\",e[e.ERR_NOT_JOINED=2011]=\"ERR_NOT_JOINED\",e[e.ERR_REPEAT_JOIN_REQUEST=2012]=\"ERR_REPEAT_JOIN_REQUEST\",e[e.ERR_INVALID_VENDOR_KEY=2013]=\"ERR_INVALID_VENDOR_KEY\",e[e.ERR_INVALID_CHANNEL_NAME=2014]=\"ERR_INVALID_CHANNEL_NAME\",e[e.ERR_INVALID_STRINGUID=2015]=\"ERR_INVALID_STRINGUID\",e[e.ERR_TOO_MANY_USERS=2016]=\"ERR_TOO_MANY_USERS\",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]=\"ERR_SET_CLIENT_ROLE_TIMEOUT\",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]=\"ERR_SET_CLIENT_ROLE_NO_PERMISSION\",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]=\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]=\"ERR_PUBLISH_REQUEST_INVALID\",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]=\"ERR_SUBSCRIBE_REQUEST_INVALID\",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]=\"ERR_NOT_SUPPORTED_MESSAGE\",e[e.ERR_ILLEAGAL_PLUGIN=2023]=\"ERR_ILLEAGAL_PLUGIN\",e[e.ERR_REJOIN_TOKEN_INVALID=2024]=\"ERR_REJOIN_TOKEN_INVALID\",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]=\"ERR_REJOIN_USER_NOT_JOINED\",e[e.ERR_INVALID_OPTIONAL_INFO=2027]=\"ERR_INVALID_OPTIONAL_INFO\",e[e.ILLEGAL_AES_PASSWORD=2028]=\"ILLEGAL_AES_PASSWORD\",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]=\"ILLEGAL_CLIENT_ROLE_LEVEL\",e[e.ERR_TOO_MANY_BROADCASTERS=2031]=\"ERR_TOO_MANY_BROADCASTERS\",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]=\"ERR_TOO_MANY_SUBSCRIBERS\",e[e.ERR_LICENSE_MISSING=32769]=\"ERR_LICENSE_MISSING\",e[e.ERR_LICENSE_EXPIRED=32771]=\"ERR_LICENSE_EXPIRED\",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]=\"ERR_LICENSE_MINUTES_EXCEEDED\",e[e.ERR_LICENSE_PERIOD_INVALID=32774]=\"ERR_LICENSE_PERIOD_INVALID\",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]=\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",e[e.ERR_LICENSE_ILLEGAL=32783]=\"ERR_LICENSE_ILLEGAL\",e[e.ERR_TEST_RECOVER=9e3]=\"ERR_TEST_RECOVER\",e[e.ERR_TEST_TRYNEXT=9001]=\"ERR_TEST_TRYNEXT\",e[e.ERR_TEST_RETRY=9002]=\"ERR_TEST_RETRY\"}(mv||(mv={})),function(e){e.CONNECTING=\"connecting\",e.CONNECTED=\"connected\",e.RECONNECTING=\"reconnecting\",e.CLOSED=\"closed\"}(fv||(fv={})),function(e){e.WS_CONNECTED=\"ws_connected\",e.WS_RECONNECTING=\"ws_reconnecting\",e.WS_CLOSED=\"ws_closed\",e.WS_RECONNECT_WAITTING_FINISH=\"ws_reconnect_waitting_finish\",e.WS_RECONNECT_CREATE_CONNECTION=\"ws_reconnect_create_connection\",e.ON_BINARY_DATA=\"on_binary_data\",e.REQUEST_RECOVER=\"request_recover\",e.REQUEST_JOIN_INFO=\"request_join_info\",e.REQUEST_REJOIN_INFO=\"req_rejoin_info\",e.IS_P2P_DISCONNECTED=\"is_p2p_dis\",e.DISCONNECT_P2P=\"dis_p2p\",e.ABORT_P2P_EXECUTION=\"abort_p2p_execution\",e.NEED_RENEW_SESSION=\"need-sid\",e.REPORT_JOIN_GATEWAY=\"report_join_gateway\",e.REQUEST_TIMEOUT=\"request_timeout\",e.REQUEST_SUCCESS=\"request_success\",e.JOIN_RESPONSE=\"join_response\",e.DATACHANNEL_PRECONNECT=\"datachannel_preconnect\",e.DATACHANNEL_CONNECTING=\"datachannel_connecting\",e.DATACHANNEL_FAILBACK=\"datachannel_failback\",e.P2P_START=\"p2p_start\",e.P2P_CONNECTION=\"p2p_connection\",e.P2P_REMOTE_CANDIDATE_UPDATE=\"p2p_remote_candidate_update\",e.P2P_SUBSCRIBE=\"p2p_subscribe\",e.P2P_UNSUBSCRIBE=\"p2p_unsubscribe\",e.P2P_EXCHANGE_SDP=\"p2p_exchange_sdp\",e.P2P_ON_ADD_VIDEO_STREAM=\"p2p_on_add_video_stream\",e.P2P_ON_ADD_AUDIO_STREAM=\"p2p_on_add_audio_stream\"}(gv||(gv={})),function(e){e.PING=\"ping\",e.PING_BACK=\"ping_back\",e.JOIN=\"join_v3\",e.REJOIN=\"rejoin_v3\",e.LEAVE=\"leave\",e.SET_CLIENT_ROLE=\"set_client_role\",e.PUBLISH=\"publish\",e.PUBLISH_DATASTREAM=\"publish_datastream\",e.UNPUBLISH=\"unpublish\",e.UNPUBLISH_DATASTREAM=\"unpublish_datastream\",e.SUBSCRIBE=\"subscribe\",e.SUBSCRIBE_DATASTREAM=\"subscribe_datastream\",e.SUBSCRIBE_STREAMS=\"subscribe_streams\",e.UNSUBSCRIBE=\"unsubscribe\",e.UNSUBSCRIBE_DATASTREAM=\"unsubscribe_datastream\",e.UNSUBSCRIBE_STREAMS=\"unsubscribe_streams\",e.SUBSCRIBE_CHANGE=\"subscribe_change\",e.TRAFFIC_STATS=\"traffic_stats\",e.RENEW_TOKEN=\"renew_token\",e.SWITCH_VIDEO_STREAM=\"switch_video_stream\",e.DEFAULT_VIDEO_STREAM=\"default_video_stream\",e.SET_FALLBACK_OPTION=\"set_fallback_option\",e.GATEWAY_INFO=\"gateway_info\",e.CONTROL=\"control\",e.SEND_METADATA=\"send_metadata\",e.DATA_STREAM=\"data_stream\",e.PICK_SVC_LAYER=\"pick_svc_layer\",e.RESTART_ICE=\"restart_ice\",e.CONNECT_PC=\"connect_pc\",e.SET_VIDEO_PROFILE=\"set_video_profile\",e.SET_PARAMETER=\"set_parameter\",e.SET_RTM2_FLAG=\"set_rtm2_flag\"}(Tv||(Tv={})),function(e){e.PUBLISH_STATS=\"publish_stats\",e.PUBLISH_RELATED_STATS=\"publish_related_stats\",e.SUBSCRIBE_STATS=\"subscribe_stats\",e.SUBSCRIBE_RELATED_STATS=\"subscribe_related_stats\",e.WS_INFLATE_DATA_LENGTH=\"ws_inflate_data_length\",e.DENOISER_STATS=\"denoiser_stats\",e.TRANSPORT_STATS=\"transport_stats\",e.EXTENSION_USAGE_STATS=\"extension_usage_stats\"}(Sv||(Sv={})),function(e){e.ON_USER_ONLINE=\"on_user_online\",e.ON_USER_OFFLINE=\"on_user_offline\",e.ON_STREAM_FALLBACK_UPDATE=\"on_stream_fallback_update\",e.ON_PUBLISH_STREAM=\"on_publish_stream\",e.ON_UPLINK_STATS=\"on_uplink_stats\",e.ON_P2P_LOST=\"on_p2p_lost\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"on_token_privilege_will_expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"on_token_privilege_did_expire\",e.ON_USER_BANNED=\"on_user_banned\",e.ON_USER_LICENSE_BANNED=\"on_user_license_banned\",e.ON_NOTIFICATION=\"on_notification\",e.ON_CRYPT_ERROR=\"on_crypt_error\",e.MUTE_AUDIO=\"mute_audio\",e.MUTE_VIDEO=\"mute_video\",e.UNMUTE_AUDIO=\"unmute_audio\",e.UNMUTE_VIDEO=\"unmute_video\",e.ON_P2P_OK=\"on_p2p_ok\",e.RECEIVE_METADATA=\"receive_metadata\",e.ON_DATA_STREAM=\"on_data_stream\",e.ON_RTP_CAPABILITY_CHANGE=\"on_rtp_capability_change\",e.ON_REMOTE_DATASTREAM_UPDATE=\"on_remote_datastream_update\",e.ON_REMOTE_FULL_DATASTREAM_INFO=\"on_remote_full_datastream_info\",e.ENABLE_LOCAL_VIDEO=\"enable_local_video\",e.DISABLE_LOCAL_VIDEO=\"disable_local_video\",e.ENABLE_LOCAL_AUDIO=\"enable_local_audio\",e.DISABLE_LOCAL_AUDIO=\"disable_local_audio\",e.ON_PUBLISHED_USER_LIST=\"on_published_user_list\"}(Rv||(Rv={})),function(e){e.CONNECTION_STATE_CHANGE=\"CONNECTION_STATE_CHANGE\",e.NEED_ANSWER=\"NEED_ANSWER\",e.NEED_RENEGOTIATE=\"NEED_RENEGOTIATE\",e.P2P_LOST=\"P2P_LOST\",e.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",e.NEED_UNPUB=\"NEED_UNPUB\",e.NEED_UNSUB=\"NEED_UNSUB\",e.NEED_UPLOAD=\"NEED_UPLOAD\",e.NEED_CONTROL=\"NEED_CONTROL\",e.START_RECONNECT=\"START_RECONNECT\",e.END_RECONNECT=\"END_RECONNECT\",e.NEED_SIGNAL_RTT=\"NEED_SIGNAL_RTT\"}(Cv||(Cv={})),function(e){e.SEND_ONLY=\"SEND_ONLY\",e.RECEIVE_ONLY=\"RECEIVE_ONLY\"}(vv||(vv={})),function(e){e.CONNECTED=\"websocket:connected\",e.RECONNECTING=\"websocket:reconnecting\",e.WILL_RECONNECT=\"websocket:will_reconnect\",e.CLOSED=\"websocket:closed\",e.FAILED=\"websocket:failed\",e.ON_MESSAGE=\"websocket:on_message\",e.REQUEST_NEW_URLS=\"websocket:request_new_urls\",e.RECONNECT_WAITTING_FINISH=\"websocket:reconnect_waitting_finish\",e.RECONNECT_CREATE_CONNECTION=\"websocket:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"websocket:on_token_privilege_did_expire\"}(Iv||(Iv={}));class xv extends Vg{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",arguments.length>2?arguments[2]:void 0),nu(this,\"name\",\"AgoraRTCException\")}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"error\";return super.print(e,KC)}throw(){super.throw(KC)}}function Vv(e){if(\"string\"!=typeof e||!/^[a-zA-Z0-9 \\!\\#\\$\\%\\&\\(\\)\\+\\-\\:\\;\\<\\=\\.\\>\\?\\@\\[\\]\\^\\_\\{\\}\\|\\~\\,]{1,64}$/.test(e))throw KC.error(\"Invalid Channel Name \".concat(e)),new xv(xg.INVALID_PARAMS,\"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,\")}function Fv(e){if(!(t=e,\"number\"==typeof t&&Math.floor(t)===t&&0<=t&&t<=4294967295||Yg(e,1,255)))throw new xv(xg.INVALID_PARAMS,\"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]\");var t;\"string\"==typeof e&&KC.warn(\"You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.\")}!function(e){e.TRANSCODE=\"mix_streaming\",e.RAW=\"raw_streaming\",e.INJECT=\"inject_streaming\"}(yv||(yv={})),function(e){e[e.INJECT_STREAM_STATUS_START_SUCCESS=0]=\"INJECT_STREAM_STATUS_START_SUCCESS\",e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]=\"INJECT_STREAM_STATUS_START_ALREADY_EXISTS\",e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]=\"INJECT_STREAM_STATUS_START_UNAUTHORIZED\",e[e.INJECT_STREAM_STATUS_START_TIMEOUT=3]=\"INJECT_STREAM_STATUS_START_TIMEOUT\",e[e.INJECT_STREAM_STATUS_START_FAILED=4]=\"INJECT_STREAM_STATUS_START_FAILED\",e[e.INJECT_STREAM_STATUS_STOP_SUCCESS=5]=\"INJECT_STREAM_STATUS_STOP_SUCCESS\",e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]=\"INJECT_STREAM_STATUS_STOP_NOT_FOUND\",e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]=\"INJECT_STREAM_STATUS_STOP_UNAUTHORIZED\",e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]=\"INJECT_STREAM_STATUS_STOP_TIMEOUT\",e[e.INJECT_STREAM_STATUS_STOP_FAILED=9]=\"INJECT_STREAM_STATUS_STOP_FAILED\",e[e.INJECT_STREAM_STATUS_BROKEN=10]=\"INJECT_STREAM_STATUS_BROKEN\"}(Av||(Av={}));const Bv={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},jv={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function Gv(e,t){Wg(e.url,\"\".concat(t,\".url\"),1,1e3,!1),Kg(e.x)||jg(e.x,\"\".concat(t,\".x\"),0,1e4),Kg(e.y)||jg(e.y,\"\".concat(t,\".y\"),0,1e4),Kg(e.width)||jg(e.width,\"\".concat(t,\".width\"),0,1e4),Kg(e.height)||jg(e.height,\"\".concat(t,\".height\"),0,1e4),Kg(e.zOrder)||jg(e.zOrder,\"\".concat(t,\".zOrder\"),0,255),Kg(e.alpha)||jg(e.alpha,\"\".concat(t,\".alpha\"),0,1,!1)}const Wv={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:\"\"},Hv={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};var Kv,Yv,qv,Jv,zv,Xv,Qv,Zv,$v,eI,tI,iI,nI,rI;function sI(e){if(!e.channelName)throw new xv(xg.INVALID_PARAMS,\"invalid channelName in info\");if(\"number\"!=typeof e.uid)throw new xv(xg.INVALID_PARAMS,\"invalid uid in info, uid must be a number\");return e.token&&Wg(e.token,\"info.token\",1,2047),Fv(e.uid),Vv(e.channelName),!0}!function(e){e.WARNING=\"@live_uap-warning\",e.ERROR=\"@line_uap-error\",e.PUBLISH_STREAM_STATUS=\"@live_uap-publish-status\",e.INJECT_STREAM_STATUS=\"@live_uap-inject-status\",e.WORKER_STATUS=\"@live_uap-worker-status\",e.REQUEST_NEW_ADDRESS=\"@live_uap-request-address\"}(Kv||(Kv={})),function(e){e.REQUEST_WORKER_MANAGER_LIST=\"@live_req_worker_manager\"}(Yv||(Yv={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]=\"LIVE_STREAM_RESPONSE_SUCCEED\",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]=\"LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM\",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]=\"LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]=\"LIVE_STREAM_RESPONSE_BAD_STREAM\",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]=\"LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]=\"LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST\",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]=\"LIVE_STREAM_RESPONSE_NOT_AUTHORIZED\",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]=\"LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE\",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]=\"LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN\",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]=\"LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH\",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]=\"LIVE_STREAM_RESPONSE_NOT_SUPPORTED\",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]=\"LIVE_STREAM_RESPONSE_MAX_STREAM_NUM\",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]=\"LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]=\"LIVE_STREAM_RESPONSE_WORKER_LOST\",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]=\"LIVE_STREAM_RESPONSE_RESOURCE_LIMIT\",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]=\"LIVE_STREAM_RESPONSE_WORKER_QUIT\",e[e.ERROR_FAIL_SEND_MESSAGE=504]=\"ERROR_FAIL_SEND_MESSAGE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH\",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]=\"PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN\"}(qv||(qv={})),function(e){e.CONNECT_FAILED=\"connect failed\",e.CONNECT_TIMEOUT=\"connect timeout\",e.WS_DISCONNECTED=\"websocket disconnected\",e.REQUEST_TIMEOUT=\"request timeout\",e.REQUEST_FAILED=\"request failed\",e.WAIT_STATUS_TIMEOUT=\"wait status timeout\",e.WAIT_STATUS_ERROR=\"wait status error\",e.BAD_STATE=\"bad state\",e.WS_ABORT=\"ws abort\",e.AP_REQUEST_TIMEOUT=\"AP request timeout\",e.AP_JSON_PARSE_ERROR=\"AP json parse error\",e.AP_REQUEST_ERROR=\"AP request error\",e.AP_REQUEST_ABORT=\"AP request abort\"}(Jv||(Jv={})),function(e){e[e.SetSdkProfile=0]=\"SetSdkProfile\",e[e.SetSourceChannel=1]=\"SetSourceChannel\",e[e.SetSourceUserId=2]=\"SetSourceUserId\",e[e.SetDestChannel=3]=\"SetDestChannel\",e[e.StartPacketTransfer=4]=\"StartPacketTransfer\",e[e.StopPacketTransfer=5]=\"StopPacketTransfer\",e[e.UpdateDestChannel=6]=\"UpdateDestChannel\",e[e.Reconnect=7]=\"Reconnect\",e[e.SetVideoProfile=8]=\"SetVideoProfile\"}(zv||(zv={})),function(e){e.NETWORK_DISCONNECTED=\"NETWORK_DISCONNECTED\",e.NETWORK_CONNECTED=\"NETWORK_CONNECTED\",e.PACKET_JOINED_SRC_CHANNEL=\"PACKET_JOINED_SRC_CHANNEL\",e.PACKET_JOINED_DEST_CHANNEL=\"PACKET_JOINED_DEST_CHANNEL\",e.PACKET_SENT_TO_DEST_CHANNEL=\"PACKET_SENT_TO_DEST_CHANNEL\",e.PACKET_RECEIVED_VIDEO_FROM_SRC=\"PACKET_RECEIVED_VIDEO_FROM_SRC\",e.PACKET_RECEIVED_AUDIO_FROM_SRC=\"PACKET_RECEIVED_AUDIO_FROM_SRC\",e.PACKET_UPDATE_DEST_CHANNEL=\"PACKET_UPDATE_DEST_CHANNEL\",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED=\"PACKET_UPDATE_DEST_CHANNEL_REFUSED\",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=\"PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE\"}(Xv||(Xv={})),function(e){e.RELAY_STATE_IDLE=\"RELAY_STATE_IDLE\",e.RELAY_STATE_CONNECTING=\"RELAY_STATE_CONNECTING\",e.RELAY_STATE_RUNNING=\"RELAY_STATE_RUNNING\",e.RELAY_STATE_FAILURE=\"RELAY_STATE_FAILURE\"}(Qv||(Qv={})),function(e){e.RELAY_OK=\"RELAY_OK\",e.SERVER_CONNECTION_LOST=\"SERVER_CONNECTION_LOST\",e.SRC_TOKEN_EXPIRED=\"SRC_TOKEN_EXPIRED\",e.DEST_TOKEN_EXPIRED=\"DEST_TOKEN_EXPIRED\"}(Zv||(Zv={})),function(e){e.High=\"high\",e.Low=\"low\",e.Audio=\"audio\",e.Screen=\"screen\",e.ScreenLow=\"screen_low\"}($v||($v={})),function(e){e.DISCONNECT=\"disconnect\",e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGE=\"stream-type-change\",e.IS_P2P_DISCONNECTED=\"is-p2p-dis\",e.DISCONNECT_P2P=\"dis-p2p\",e.REQUEST_NEW_GATEWAY_LIST=\"req-gate-url\",e.NEED_RENEW_SESSION=\"need-sid\",e.REQUEST_P2P_CONNECTION_PARAMS=\"request-p2p-connection-params\",e.JOIN_RESPONSE=\"join-response\",e.REQUEST_DC_CONNECTION_PARAMS=\"request-dc-connection-params\",e.RESET_CONNECTION_EVENTS=\"reset-connection-events\",e.DATACHANNEL_PRECONNECT=\"datachannel_preconnect\",e.DATACHANNEL_FAILBACK=\"datachannel_failback\",e.RESET_SIGNAL=\"reset-signal\"}(eI||(eI={})),function(e){e.P2P_DISCONNECTED=\"P2P_DISCONNECTED\",e.A_ROUND_WS_FAILED=\"A_ROUND_WS_FAILED\",e.TIMEOUT=\"TIMEOUT\",e.UNKNOWN_REASON=\"UNKNOWN_REASON\"}(tI||(tI={})),function(e){e[e.Nothing=0]=\"Nothing\",e[e.Audio=1]=\"Audio\",e[e.LwoVideo=2]=\"LwoVideo\",e[e.Video=4]=\"Video\",e[e.Data=8]=\"Data\",e[e.DataStream0=256]=\"DataStream0\",e[e.DataStream1=512]=\"DataStream1\",e[e.DataStream2=1024]=\"DataStream2\",e[e.DataStream3=2048]=\"DataStream3\",e[e.DataStream4=4096]=\"DataStream4\",e[e.DataStream5=8192]=\"DataStream5\",e[e.DataStream6=16384]=\"DataStream6\",e[e.DataStream7=32768]=\"DataStream7\"}(iI||(iI={})),function(e){e[e.websocket=0]=\"websocket\",e[e.datachannel=1]=\"datachannel\"}(nI||(nI={})),function(e){e.CHINA=\"CHINA\",e.ASIA=\"ASIA\",e.NORTH_AMERICA=\"NORTH_AMERICA\",e.EUROPE=\"EUROPE\",e.JAPAN=\"JAPAN\",e.INDIA=\"INDIA\",e.KOREA=\"KOREA\",e.HKMC=\"HKMC\",e.US=\"US\",e.OCEANIA=\"OCEANIA\",e.SOUTH_AMERICA=\"SOUTH_AMERICA\",e.AFRICA=\"AFRICA\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"EXTENSIONS\"}(rI||(rI={}));const oI=[rI.AFRICA,rI.ASIA,rI.CHINA,rI.EUROPE,rI.GLOBAL,rI.INDIA,rI.JAPAN,rI.NORTH_AMERICA,rI.OCEANIA,rI.OVERSEA,rI.SOUTH_AMERICA];var aI;!function(e){e.CHINA=\"CN\",e.ASIA=\"AS\",e.NORTH_AMERICA=\"NA\",e.EUROPE=\"EU\",e.JAPAN=\"JP\",e.INDIA=\"IN\",e.KOREA=\"KR\",e.HKMC=\"HK\",e.US=\"US\",e.OCEANIA=\"OC\",e.SOUTH_AMERICA=\"SA\",e.AFRICA=\"AF\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"GLOBAL\"}(aI||(aI={}));const cI={CHINA:{},ASIA:{CODE:aI.ASIA,WEBCS_DOMAIN:[\"ap-web-1-asia.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-asia.agora.io\"],PROXY_CS:[\"proxy-ap-web-asia.agora.io\"],CDS_AP:[\"cds-ap-web-asia.agora.io\",\"cds-ap-web-asia2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-asia.agora.io\",\"sua-ap-web-asia2.agora.io\"],UAP_AP:[\"uap-ap-web-asia.agora.io\",\"uap-ap-web-asia2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-asia.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-asia.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-asia.agora.io\"],PROXY_SERVER_TYPE3:[\"southeast-asia.webrtc-cloud-proxy.sd-rtn.com\"]},NORTH_AMERICA:{CODE:aI.NORTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-north-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-north-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-america.agora.io\"],CDS_AP:[\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],UAP_AP:[\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-north-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-north-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-north-america.agora.io\"],PROXY_SERVER_TYPE3:[\"east-usa.webrtc-cloud-proxy.sd-rtn.com\"]},EUROPE:{CODE:aI.EUROPE,WEBCS_DOMAIN:[\"ap-web-1-europe.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-europe.agora.io\"],PROXY_CS:[\"proxy-ap-web-europe.agora.io\"],CDS_AP:[\"cds-ap-web-europe.agora.io\",\"cds-ap-web-europe2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-europe.agora.io\",\"sua-ap-web-europe.agora.io\"],UAP_AP:[\"uap-ap-web-europe.agora.io\",\"uap-ap-web-europe2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-europe.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-europe.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-europe.agora.io\"],PROXY_SERVER_TYPE3:[\"europe.webrtc-cloud-proxy.sd-rtn.com\"]},JAPAN:{CODE:aI.JAPAN,WEBCS_DOMAIN:[\"ap-web-1-japan.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-japan.agora.io\"],PROXY_CS:[\"proxy-ap-web-japan.agora.io\"],CDS_AP:[\"cds-ap-web-japan.agora.io\",\"cds-ap-web-japan2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-japan.agora.io\",\"sua-ap-web-japan2.agora.io\"],UAP_AP:[\"uap-ap-web-japan.agora.io\",\"\\tuap-ap-web-japan2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-japan.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-japan.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-japan.agora.io\"],PROXY_SERVER_TYPE3:[\"japan.webrtc-cloud-proxy.sd-rtn.com\"]},INDIA:{CODE:aI.INDIA,WEBCS_DOMAIN:[\"ap-web-1-india.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-india.agora.io\"],PROXY_CS:[\"proxy-ap-web-india.agora.io\"],CDS_AP:[\"cds-ap-web-india.agora.io\",\"cds-ap-web-india2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-india.agora.io\",\"sua-ap-web-india2.agora.io\"],UAP_AP:[\"uap-ap-web-india.agora.io\",\"uap-ap-web-india2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-india.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-india.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-india.agora.io\"],PROXY_SERVER_TYPE3:[\"india.webrtc-cloud-proxy.sd-rtn.com\"]},KOREA:{CODE:aI.KOREA,WEBCS_DOMAIN:[\"ap-web-1-korea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-korea.agora.io\"],PROXY_CS:[\"proxy-ap-web-korea.agora.io\"],CDS_AP:[\"cds-ap-web-korea.agora.io\",\"cds-ap-web-korea2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-korea.agora.io\",\"sua-ap-web-korea2.agora.io\"],UAP_AP:[\"uap-ap-web-korea.agora.io\",\"uap-ap-web-korea2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-korea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-korea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-korea.agora.io\"],PROXY_SERVER_TYPE3:[\"korea.webrtc-cloud-proxy.sd-rtn.com\"]},HKMC:{CODE:aI.HKMC,WEBCS_DOMAIN:[\"ap-web-1-hkmc.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-hkmc.agora.io\"],PROXY_CS:[\"proxy-ap-web-hkmc.agora.io\"],CDS_AP:[\"cds-ap-web-hkmc.agora.io\",\"cds-ap-web-hkmc2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-hkmc.agora.io\",\"sua-ap-web-hkmc2.agora.io\"],UAP_AP:[\"uap-ap-web-hkmc.agora.io\",\"uap-ap-web-hkmc2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-hkmc.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-hkmc.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-hkmc.agora.io\"],PROXY_SERVER_TYPE3:[\"hkmc.webrtc-cloud-proxy.sd-rtn.com\"]},US:{CODE:aI.US,WEBCS_DOMAIN:[\"ap-web-1-us.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-us.agora.io\"],PROXY_CS:[\"proxy-ap-web-us.agora.io\"],CDS_AP:[\"cds-ap-web-us.agora.io\",\"cds-ap-web-us2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-us.agora.io\",\"sua-ap-web-us2.agora.io\"],UAP_AP:[\"uap-ap-web-us.agora.io\",\"uap-ap-web-us2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-us.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-us.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-us.agora.io\"],PROXY_SERVER_TYPE3:[\"us.webrtc-cloud-proxy.sd-rtn.com\"]},OVERSEA:{CODE:aI.OVERSEA,WEBCS_DOMAIN:[\"ap-web-1-oversea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oversea.agora.io\"],PROXY_CS:[\"proxy-ap-web-oversea.agora.io\"],CDS_AP:[\"cds-ap-web-oversea.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oversea.agora.io\"],UAP_AP:[\"uap-ap-web-oversea.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oversea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oversea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oversea.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.agora.io\"]},GLOBAL:{CODE:aI.GLOBAL,WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-ap-web-3.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-ap-web-3.agora.io\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-ap-web-3.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\"]},OCEANIA:{CODE:aI.OCEANIA,WEBCS_DOMAIN:[\"ap-web-1-oceania.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oceania.agora.io\"],PROXY_CS:[\"proxy-ap-web-oceania.agora.io\"],CDS_AP:[\"cds-ap-web-oceania.agora.io\",\"cds-ap-web-oceania2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oceania.agora.io\",\"sua-ap-web-oceania2.agora.io\"],UAP_AP:[\"uap-ap-web-oceania.agora.io\",\"uap-ap-web-oceania2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oceania.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oceania.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oceania.agora.io\"],PROXY_SERVER_TYPE3:[\"oceania.webrtc-cloud-proxy.sd-rtn.com\"]},SOUTH_AMERICA:{CODE:aI.SOUTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-south-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-south-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-south-america.agora.io\"],CDS_AP:[\"cds-ap-web-south-america.agora.io\",\"cds-ap-web-south-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-south-america.agora.io\",\"sua-ap-web-south-america2.agora.io\"],UAP_AP:[\"uap-ap-web-south-america.agora.io\",\"uap-ap-web-south-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-south-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-south-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-america.agora.io\"],PROXY_SERVER_TYPE3:[\"south-america.webrtc-cloud-proxy.sd-rtn.com\"]},AFRICA:{CODE:aI.AFRICA,WEBCS_DOMAIN:[\"ap-web-1-africa.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-africa.agora.io\"],PROXY_CS:[\"proxy-ap-web-africa.agora.io\"],CDS_AP:[\"cds-ap-web-africa.agora.io\",\"cds-ap-web-africa2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-africa.agora.io\",\"sua-ap-web-africa2.agora.io\"],UAP_AP:[\"uap-ap-web-africa.agora.io\",\"uap-ap-web-africa2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-africa.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-africa.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-africa.agora.io\"],PROXY_SERVER_TYPE3:[\"africa.webrtc-cloud-proxy.sd-rtn.com\"]},EXTENSIONS:{}};var dI,lI,hI,uI,pI,_I,EI,mI,fI,gI,TI,SI,RI,CI,vI,II,yI,AI,bI,wI,OI,NI;NC&&(cI.CHINA={CODE:aI.CHINA,WEBCS_DOMAIN:[\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"proxy-web.ap.sd-rtn.com\"],CDS_AP:[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-web-2.ap.sd-rtn.com\",\"uap-web-4.ap.sd-rtn.com\"],EVENT_REPORT_DOMAIN:[\"web-3.statscollector.sd-rtn.com\"],EVENT_REPORT_BACKUP_DOMAIN:[\"web-4.statscollector.sd-rtn.com\"],LOG_UPLOAD_SERVER:[\"logservice-china.agora.io\"],PROXY_SERVER_TYPE3:[\"east-cn.webrtc-cloud-proxy.sd-rtn.com\"]}),function(e){e.UPDATE_BITRATE_LIMIT=\"update_bitrate_limit\"}(dI||(dI={}));class DI extends iT{constructor(e,t){super(),nu(this,\"onICEConnectionStateChange\",void 0),nu(this,\"onConnectionStateChange\",void 0),nu(this,\"onDTLSTransportStateChange\",void 0),nu(this,\"onDTLSTransportError\",void 0),nu(this,\"onICETransportStateChange\",void 0),nu(this,\"onFirstAudioReceived\",void 0),nu(this,\"onFirstVideoReceived\",void 0),nu(this,\"onFirstAudioDecoded\",void 0),nu(this,\"onFirstVideoDecoded\",void 0),nu(this,\"onFirstVideoDecodedTimeout\",void 0),nu(this,\"onSelectedLocalCandidateChanged\",void 0),nu(this,\"onSelectedRemoteCandidateChanged\",void 0)}}class PI extends DI{constructor(e,t){super(e,t)}}!function(e){e.SEND=\"sendonly\",e.RECV=\"recvonly\",e.SENDRECV=\"sendrecv\",e.INACTIVE=\"inactive\"}(lI||(lI={})),function(e){e.VIDEO=\"video\",e.AUDIO=\"audio\"}(hI||(hI={})),function(e){e[e.UDP=0]=\"UDP\",e[e.TCP=1]=\"TCP\",e[e.RELAY=2]=\"RELAY\"}(uI||(uI={})),function(e){e[e.FIRST_CONNECTION=0]=\"FIRST_CONNECTION\",e[e.TCP_RESTART=1]=\"TCP_RESTART\",e[e.RELAY_RESTART=2]=\"RELAY_RESTART\",e[e.OLD_FIRST_CONNECTION=10]=\"OLD_FIRST_CONNECTION\",e[e.OLD_RESTART=11]=\"OLD_RESTART\",e[e.DISCONNECTED_OR_FAILED=20]=\"DISCONNECTED_OR_FAILED\"}(pI||(pI={})),function(e){e.LocalVideoTrack=\"videoTrack\",e.LocalAudioTrack=\"audioTrack\",e.LocalVideoLowTrack=\"videoLowTrack\"}(_I||(_I={})),function(e){e.New=\"new\",e.Connected=\"connected\",e.Reconnecting=\"reconnecting\",e.Disconnected=\"disconnected\"}(EI||(EI={})),function(e){e.StateChange=\"stateChange\",e.IceConnectionStateChange=\"iceConnectionStateChange\",e.RequestMuteLocal=\"requestMuteLocal\",e.RequestUnmuteLocal=\"requestUnmuteLocal\",e.RequestRePublish=\"requestRePublish\",e.RequestRePublishDataChannel=\"requestRePublishDataChannel\",e.RequestReSubscribe=\"requestReSubscribe\",e.RequestUploadStats=\"requestUploadStats\",e.MediaReconnectStart=\"MediaReconnectStart\",e.MediaReconnectEnd=\"MediaReconnectEnd\",e.NeedSignalRTT=\"NeedSignalRTT\",e.RequestRestartICE=\"RequestRestartIce\",e.PeerConnectionStateChange=\"PeerConnectionStateChange\",e.RequestReconnect=\"RequestReconnect\",e.RequestReconnectPC=\"RequestReconnectPC\",e.RequestUnpublishForReconnectPC=\"RequestUnpublishForReconnectPC\",e.P2PLost=\"P2PLost\",e.UpdateVideoEncoder=\"UpdateVideoEncoder\",e.ConnectionTypeChange=\"ConnectionTypeChange\",e.RequestLowStreamParameter=\"RequestLowStreamParameter\",e.QueryClientConnectionState=\"QueryClientConnectionState\",e.LocalCandidate=\"LocalCandidate\",e.RequestP2PMuteLocal=\"requestP2PMuteLocal\",e.RequestP2PPublish=\"RequestP2PPublish\",e.RequestP2PUnPublish=\"RequestP2PUnPublish\",e.RequestP2PUnmuteRemote=\"RequestP2PUnmuteRemote\",e.RequestP2PMuteRemote=\"RequestP2PMuteRemote\",e.RequestP2PRestartICE=\"RequestP2PRestartICE\"}(mI||(mI={})),function(e){e.MUTE_LOCAL_VIDEO=\"mute_local_video\",e.MUTE_LOCAL_AUDIO=\"mute_local_audio\",e.UNMUTE_LOCAL_VIDEO=\"unmute_local_video\",e.UNMUTE_LOCAL_AUDIO=\"unmute_local_audio\",e.MUTE_REMOTE_VIDEO=\"mute_remote_video\",e.MUTE_REMOTE_AUDIO=\"mute_remote_audio\",e.UNMUTE_REMOTE_VIDEO=\"unmute_remote_video\",e.UNMUTE_REMOTE_AUDIO=\"unmute_remote_audio\"}(fI||(fI={})),function(e){e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\"}(gI||(gI={})),function(e){e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\"}(TI||(TI={})),function(e){e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\"}(SI||(SI={})),function(e){e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.MULTI_IP=\"MULTI_IP\",e.TIMEOUT=\"TIMEOUT\",e.OFFLINE=\"OFFLINE\",e.LEAVE=\"LEAVE\",e.P2P_FAILED=\"P2P_FAILED\",e.FALLBACK=\"FALLBACK\"}(RI||(RI={})),function(e){e.CONNECTED=\"transmitter:connected\",e.RECONNECTING=\"transmitter:reconnecting\",e.WILL_RECONNECT=\"transmitter:will_reconnect\",e.CLOSED=\"transmitter:closed\",e.FAILED=\"transmitter:failed\",e.ON_MESSAGE=\"transmitter:on_message\",e.REQUEST_NEW_URLS=\"transmitter:request_new_urls\",e.RECONNECT_WAITTING_FINISH=\"transmitter:reconnect_waitting_finish\",e.RECONNECT_CREATE_CONNECTION=\"transmitter:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"transmitter:on_token_privilege_did_expire\",e.TO_CONNECT_DATACHANNEL=\"transmitter:to_connect_datachannel\",e.FAILBACK=\"transmitter:failback\"}(CI||(CI={})),function(e){e.CAMERA_CHANGED=\"camera-changed\",e.MICROPHONE_CHANGED=\"microphone-changed\",e.PLAYBACK_DEVICE_CHANGED=\"playback-device-changed\",e.AUDIO_AUTOPLAY_FAILED=\"audio-autoplay-failed\",e.AUTOPLAY_FAILED=\"autoplay-failed\",e.SECURITY_POLICY_VIOLATION=\"security-policy-violation\"}(vI||(vI={})),function(e){e[e.APP_TYPE_INVALID_VALUE=-1]=\"APP_TYPE_INVALID_VALUE\",e[e.APP_TYPE_NATIVE=0]=\"APP_TYPE_NATIVE\",e[e.APP_TYPE_NATIVE_COCOS=1]=\"APP_TYPE_NATIVE_COCOS\",e[e.APP_TYPE_NATIVE_UNITY=2]=\"APP_TYPE_NATIVE_UNITY\",e[e.APP_TYPE_NATIVE_ELECTRON=3]=\"APP_TYPE_NATIVE_ELECTRON\",e[e.APP_TYPE_NATIVE_FLUTTER=4]=\"APP_TYPE_NATIVE_FLUTTER\",e[e.APP_TYPE_NATIVE_UNREAL=5]=\"APP_TYPE_NATIVE_UNREAL\",e[e.APP_TYPE_NATIVE_XAMARIN=6]=\"APP_TYPE_NATIVE_XAMARIN\",e[e.APP_TYPE_NATIVE_API_CLOUD=7]=\"APP_TYPE_NATIVE_API_CLOUD\",e[e.APP_TYPE_NATIVE_REACT_NATIVE=8]=\"APP_TYPE_NATIVE_REACT_NATIVE\",e[e.APP_TYPE_NATIVE_PYTHON=9]=\"APP_TYPE_NATIVE_PYTHON\",e[e.APP_TYPE_NATIVE_COCOS_CREATOR=10]=\"APP_TYPE_NATIVE_COCOS_CREATOR\",e[e.APP_TYPE_NATIVE_RUST=11]=\"APP_TYPE_NATIVE_RUST\",e[e.APP_TYPE_NATIVE_C_SHARP=12]=\"APP_TYPE_NATIVE_C_SHARP\",e[e.APP_TYPE_NATIVE_CEF=13]=\"APP_TYPE_NATIVE_CEF\",e[e.APP_TYPE_NATIVE_UNI_APP=14]=\"APP_TYPE_NATIVE_UNI_APP\",e[e.APP_TYPE_WEBRTC=1e3]=\"APP_TYPE_WEBRTC\",e[e.APP_TYPE_WEBRTC_REACT=1001]=\"APP_TYPE_WEBRTC_REACT\",e[e.APP_TYPE_WEBRTC_VUE=1002]=\"APP_TYPE_WEBRTC_VUE\",e[e.APP_TYPE_WEBRTC_ANGULAR=1003]=\"APP_TYPE_WEBRTC_ANGULAR\"}(II||(II={})),function(e){e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\"}(yI||(yI={})),function(e){e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\"}(AI||(AI={})),function(e){e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\"}(bI||(bI={})),function(e){e.CALL=\"call\",e.CANDIDATE=\"candidate\",e.PUBLISH=\"publish\",e.UNPUBLISH=\"unpublish\",e.SUBSCRIBE=\"subscribe\",e.UNSUBSCRIBE=\"unsubscribe\",e.CONTROL=\"control\",e.RESTART_ICE=\"restart_ice\",e.ACK=\"ack\",e.JOIN=\"join\",e.EXCHANGE_SDP=\"exchange_sdp\",e.DO_SUBSCRIBE=\"do_subscribe\",e.DO_UNSUBSCRIBE=\"do_unsubscribe\"}(wI||(wI={})),function(e){e.MUTE_LOCAL_AUDIO=\"mute_local_audio\",e.MUTE_LOCAL_VIDEO=\"mute_local_video\",e.UNMUTE_LOCAL_AUDIO=\"unmute_local_audio\",e.UNMUTE_LOCAL_VIDEO=\"unmute_local_video\"}(OI||(OI={})),function(e){e[e.SUCCESS=1]=\"SUCCESS\",e[e.FAILED=0]=\"FAILED\"}(NI||(NI={}));const LI={[uv.ACCESS_POINT]:{[Ev.NO_FLAG_SET]:{desc:\"flag is zero\",retry:!1},[Ev.FLAG_SET_BUT_EMPTY]:{desc:\"flag is empty\",retry:!1},[Ev.INVALID_FALG_SET]:{desc:\"invalid flag\",retry:!1},[Ev.FLAG_SET_BUT_NO_RE]:{desc:\"flag set unilbs but no request\",retry:!1},[Ev.INVALID_SERVICE_ID]:{desc:\"invalid service id\",retry:!1},[Ev.NO_SERVICE_AVAILABLE]:{desc:\"no service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_P2P]:{desc:\"no unilbs p2p service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_VOICE]:{desc:\"no unilbs voice service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:\"no unilbs webrtc service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_CDS]:{desc:\"no cds service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_CDN]:{desc:\"no cdn dispatcher service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_TDS]:{desc:\"no tds service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_REPORT]:{desc:\"no unilbs report service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:\"no app center service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_ENV0]:{desc:\"no unilbs sig env0 service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_VOET]:{desc:\"no unilbs voet service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:\"no string uid service available\",retry:!0},[Ev.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:\"no webrtc unilbs service available\",retry:!0}},[uv.UNILBS]:{[_v.INVALID_VENDOR_KEY]:{desc:\"invalid vendor key, can not find appid\",retry:!1},[_v.INVALID_CHANNEL_NAME]:{desc:\"invalid channel name\",retry:!1},[_v.INTERNAL_ERROR]:{desc:\"unilbs internal error\",retry:!1},[_v.NO_AUTHORIZED]:{desc:\"invalid token, authorized failed\",retry:!1},[_v.DYNAMIC_KEY_TIMEOUT]:{desc:\"dynamic key or token timeout\",retry:!1},[_v.NO_ACTIVE_STATUS]:{desc:\"no active status\",retry:!1},[_v.DYNAMIC_KEY_EXPIRED]:{desc:\"dynamic key expired\",retry:!1},[_v.STATIC_USE_DYNAMIC_KEY]:{desc:\"static use dynamic key\",retry:!1},[_v.DYNAMIC_USE_STATIC_KEY]:{desc:\"dynamic use static key\",retry:!1},[_v.USER_OVERLOAD]:{desc:\"amount of users over load\",retry:!1},[_v.FORBIDDEN_REGION]:{desc:\"the request is forbidden in this area\",retry:!1},[_v.CANNOT_MEET_AREA_DEMAND]:{desc:\"unable to allocate services in this area\",retry:!1}},[uv.STRING_UID_ALLOCATOR]:{[pv.IIIEGAL_APPID]:{desc:\"invalid appid\",retry:!1},[pv.IIIEGAL_UID]:{desc:\"invalid string uid\",retry:!1},[pv.INTERNAL_ERROR]:{desc:\"string uid allocator internal error\",retry:!0}}};function kI(e){const t=LI[Math.floor(e/1e4)];if(!t)return{desc:\"unkonw error\",retry:!1};const i=t[e%1e4];if(!i){if(Math.floor(e/1e4)===uv.ACCESS_POINT){const t=e%1e4;if(\"1\"===t.toString()[0])return{desc:e.toString(),retry:!1};if(\"2\"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:\"unkonw error\",retry:!1}}return i}const MI={[mv.K_TIMESTAMP_EXPIRED]:{desc:\"K_TIMESTAMP_EXPIRED\",action:\"failed\"},[mv.K_CHANNEL_PERMISSION_INVALID]:{desc:\"K_CHANNEL_PERMISSION_INVALID\",action:\"failed\"},[mv.K_CERTIFICATE_INVALID]:{desc:\"K_CERTIFICATE_INVALID\",action:\"failed\"},[mv.K_CHANNEL_NAME_EMPTY]:{desc:\"K_CHANNEL_NAME_EMPTY\",action:\"failed\"},[mv.K_CHANNEL_NOT_FOUND]:{desc:\"K_CHANNEL_NOT_FOUND\",action:\"failed\"},[mv.K_TICKET_INVALID]:{desc:\"K_TICKET_INVALID\",action:\"failed\"},[mv.K_CHANNEL_CONFLICTED]:{desc:\"K_CHANNEL_CONFLICTED\",action:\"failed\"},[mv.K_SERVICE_NOT_READY]:{desc:\"K_SERVICE_NOT_READY\",action:\"tryNext\"},[mv.K_SERVICE_TOO_HEAVY]:{desc:\"K_SERVICE_TOO_HEAVY\",action:\"tryNext\"},[mv.K_UID_BANNED]:{desc:\"K_UID_BANNED\",action:\"failed\"},[mv.K_IP_BANNED]:{desc:\"K_IP_BANNED\",action:\"failed\"},[mv.K_AUTO_REBALANCE]:{desc:\"k_AUTO_REBALANCE\",action:\"recover\"},[mv.ERR_INVALID_VENDOR_KEY]:{desc:\"ERR_INVALID_VENDOR_KEY\",action:\"failed\"},[mv.ERR_INVALID_CHANNEL_NAME]:{desc:\"ERR_INVALID_CHANNEL_NAME\",action:\"failed\"},[mv.WARN_NO_AVAILABLE_CHANNEL]:{desc:\"WARN_NO_AVAILABLE_CHANNEL\",action:\"failed\"},[mv.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:\"WARN_LOOKUP_CHANNEL_TIMEOUT\",action:\"tryNext\"},[mv.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:\"WARN_LOOKUP_CHANNEL_REJECTED\",action:\"failed\"},[mv.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:\"WARN_OPEN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[mv.WARN_OPEN_CHANNEL_REJECTED]:{desc:\"WARN_OPEN_CHANNEL_REJECTED\",action:\"failed\"},[mv.WARN_REQUEST_DEFERRED]:{desc:\"WARN_REQUEST_DEFERRED\",action:\"failed\"},[mv.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:\"ERR_DYNAMIC_KEY_TIMEOUT\",action:\"failed\"},[mv.ERR_NO_AUTHORIZED]:{desc:\"ERR_NO_AUTHORIZED\",action:\"failed\"},[mv.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:\"ERR_VOM_SERVICE_UNAVAILABLE\",action:\"tryNext\"},[mv.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:\"ERR_NO_CHANNEL_AVAILABLE_CODE\",action:\"failed\"},[mv.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:\"ERR_MASTER_VOCS_UNAVAILABLE\",action:\"tryNext\"},[mv.ERR_INTERNAL_ERROR]:{desc:\"ERR_INTERNAL_ERROR\",action:\"tryNext\"},[mv.ERR_NO_ACTIVE_STATUS]:{desc:\"ERR_NO_ACTIVE_STATUS\",action:\"failed\"},[mv.ERR_INVALID_UID]:{desc:\"ERR_INVALID_UID\",action:\"failed\"},[mv.ERR_DYNAMIC_KEY_EXPIRED]:{desc:\"ERR_DYNAMIC_KEY_EXPIRED\",action:\"failed\"},[mv.ERR_STATIC_USE_DYANMIC_KE]:{desc:\"ERR_STATIC_USE_DYANMIC_KE\",action:\"failed\"},[mv.ERR_DYNAMIC_USE_STATIC_KE]:{desc:\"ERR_DYNAMIC_USE_STATIC_KE\",action:\"failed\"},[mv.ERR_NO_VOCS_AVAILABLE]:{desc:\"ERR_NO_VOCS_AVAILABLE\",action:\"tryNext\"},[mv.ERR_NO_VOS_AVAILABLE]:{desc:\"ERR_NO_VOS_AVAILABLE\",action:\"tryNext\"},[mv.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:\"ERR_JOIN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[mv.ERR_JOIN_BY_MULTI_IP]:{desc:\"ERR_JOIN_BY_MULTI_IP\",action:\"recover\"},[mv.ERR_NOT_JOINED]:{desc:\"ERR_NOT_JOINED\",action:\"failed\"},[mv.ERR_REPEAT_JOIN_REQUEST]:{desc:\"ERR_REPEAT_JOIN_REQUEST\",action:\"quit\"},[mv.ERR_REPEAT_JOIN_CHANNEL]:{desc:\"ERR_REPEAT_JOIN_CHANNEL\",action:\"quit\"},[mv.ERR_INVALID_STRINGUID]:{desc:\"ERR_INVALID_STRINGUID\",action:\"failed\"},[mv.ERR_TOO_MANY_USERS]:{desc:\"ERR_TOO_MANY_USERS\",action:\"tryNext\"},[mv.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[mv.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[mv.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",action:\"success\"},[mv.ERR_PUBLISH_REQUEST_INVALID]:{desc:\"ERR_PUBLISH_REQUEST_INVALID\",action:\"failed\"},[mv.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:\"ERR_SUBSCRIBE_REQUEST_INVALID\",action:\"failed\"},[mv.ERR_NOT_SUPPORTED_MESSAGE]:{desc:\"ERR_NOT_SUPPORTED_MESSAGE\",action:\"failed\"},[mv.ERR_ILLEAGAL_PLUGIN]:{desc:\"ERR_ILLEAGAL_PLUGIN\",action:\"failed\"},[mv.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:\"ILLEGAL_CLIENT_ROLE_LEVEL\",action:\"failed\"},[mv.ERR_REJOIN_TOKEN_INVALID]:{desc:\"ERR_REJOIN_TOKEN_INVALID\",action:\"failed\"},[mv.ERR_REJOIN_USER_NOT_JOINED]:{desc:\"ERR_REJOIN_NOT_JOINED\",action:\"failed\"},[mv.ERR_INVALID_OPTIONAL_INFO]:{desc:\"ERR_INVALID_OPTIONAL_INFO\",action:\"quit\"},[mv.ERR_TEST_RECOVER]:{desc:\"ERR_TEST_RECOVER\",action:\"recover\"},[mv.ERR_TEST_TRYNEXT]:{desc:\"ERR_TEST_TRYNEXT\",action:\"recover\"},[mv.ERR_TEST_RETRY]:{desc:\"ERR_TEST_RETRY\",action:\"recover\"},[mv.ILLEGAL_AES_PASSWORD]:{desc:\"ERR_TEST_RETRY\",action:\"failed\"},[mv.ERR_TOO_MANY_BROADCASTERS]:{desc:\"ERR_TOO_MANY_BROADCASTERS\",action:\"failed\"},[mv.ERR_TOO_MANY_SUBSCRIBERS]:{desc:\"ERR_TOO_MANY_SUBSCRIBERS\",action:\"failed\"},[mv.ERR_LICENSE_ILLEGAL]:{desc:\"ERR_LICENSE_ILLEGAL\",action:\"quit\"},[mv.ERR_LICENSE_MISSING]:{desc:\"ERR_LICENSE_MISSING\",action:\"quit\"},[mv.ERR_LICENSE_EXPIRED]:{desc:\"ERR_LICENSE_EXPIRED\",action:\"quit\"},[mv.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:\"ERR_LICENSE_MINUTES_EXCEEDED\",action:\"quit\"},[mv.ERR_LICENSE_PERIOD_INVALID]:{desc:\"ERR_LICENSE_PERIOD_INVALID\",action:\"quit\"},[mv.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",action:\"quit\"}};function UI(e){const t=MI[e];return t||{desc:\"UNKNOW_ERROR_\".concat(e),action:\"failed\"}}function xI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function VI(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xI(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xI(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function FI(e){return e.every((e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING))}function BI(e,t){if(\"string\"==typeof e)return e;const{proxy:i,host:n,port:r}=e;if(t){const e=kC(\"JOIN_GATEWAY_FALLBACK_PORT\")||443;return 443===e?\"wss://\".concat(n,\"/ws/?p=\").concat(Number(r)+150):\"wss://\".concat(n,\":\").concat(e,\"/ws/?p=\").concat(Number(r)+150)}return i?\"wss://\".concat(i,\"/ws/?h=\").concat(n,\"&p=\").concat(r):\"wss://\".concat(n,\":\").concat(r)}const jI=/wss:\\/\\/(.+)\\/ws\\/\\?h=(.+)&p=([0-9]+)\\/?/,GI=/wss:\\/\\/(.+)\\/ws\\/\\?p=([0-9]+)\\/?/,WI=/wss:\\/\\/(.+):([0-9]+)\\/?/,HI=/wss:\\/\\/(.[^\\/]+)\\/?/;let KI=0;class YI{constructor(e,t){nu(this,\"id\",0),nu(this,\"store\",void 0),nu(this,\"recordIndex\",void 0),nu(this,\"websockets\",[]),nu(this,\"try443PortDuration\",2e3),nu(this,\"forceCloseWSDuration\",5e3),nu(this,\"try443PortTimeout\",null),nu(this,\"forceCloseTimeout\",null),nu(this,\"isTry443PortFailed\",!1),nu(this,\"isNormalPortFailed\",!1),nu(this,\"useDoubleDomain\",!1),nu(this,\"useProxy\",!1),nu(this,\"startTime\",Date.now()),this.id=++KI,this.try443PortDuration=kC(\"JOIN_GATEWAY_TRY_443PORT_DURATION\")||2e3,this.forceCloseWSDuration=e||5e3,this.store=t}closeAllWebsockets(){this.websockets.forEach((e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close()})),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var e;const t=Date.now()-this.startTime;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];KC.debug(\"[choose-best-ws \".concat(null===(e=this.store)||void 0===e?void 0:e.clientId,\" \").concat(this.id,\"] \").concat(t,\"ms:\"),...n)}createWebSocket(e,t,i){this.logger(\"createWebSocket:\",e,{isTry443Port:t,hasTimeoutDetection:i});const n=kC(\"GATEWAY_DOMAINS\"),r=Date.now(),s=[],o=n.find((t=>{var i;return Pr(i=e.host).call(i,t)}));o||(this.useDoubleDomain=!1);const a=[];if(this.useDoubleDomain)n.forEach((i=>{a.push(BI(VI(VI({},e),{},{host:e.host.replace(o,i)}),t))}));else{const i=VI({},e);if(t&&o){const e=n.find((e=>e!==o));e&&(i.host=i.host.replace(o,e))}a.push(BI(i,t))}try{a.forEach((e=>{const t=new WebSocket(e);t.binaryType=\"arraybuffer\",s.push(t),this.logger(\"ws is connecting:\",t.url)}))}catch(n){if(this.logger(\"ws create failed\"),s.forEach((e=>e.close())),s.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,t,i);if(!t&&443!==Number(e.port))return this.createWebSocket(e,!0,i);throw new xv(xg.WS_ERR,\"init websocket failed! Error: \".concat(n.toString()))}const c=ng();this.store&&this.store.recordJoinChannelService({urls:s.map((e=>e.url)),service:\"gateway\"},this.recordIndex),s.forEach((e=>{e.onopen=()=>{this.logger(\"onopen: ws \".concat(e.url,\" open cost \").concat(Date.now()-r,\"ms\")),this.websockets.forEach((t=>{t!==e&&(t.onopen=null,t.onclose=null,t.onmessage=null,t.close(),this.logger(\"close backup websocket: \".concat(t.url)))})),this.websockets.length=0,c.resolve(e)},e.onclose=i=>{this.logger(\"onclose: ws \".concat(e.url,\" closed cost \").concat(Date.now()-r,\"ms state: \").concat(e.readyState)),t?this.isTry443PortFailed=FI(s):this.isNormalPortFailed=FI(s),this.logger(\"443: \".concat(this.useProxy?\"not try\":this.isTry443PortFailed?\"failed\":\"trying\",\" 47xx: \").concat(this.isNormalPortFailed?\"failed\":\"trying\")),(t&&this.isTry443PortFailed||!t&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger(\"onclose: all websocket is closed, \".concat(i.reason)),c.reject({code:i.code,reason:tI.A_ROUND_WS_FAILED}))},e.onmessage=t=>this.logger(\"\".concat(e.url,\" onmessage: \").concat(t.data))})),this.websockets.push(...s);return i||(()=>{const i=()=>{this.logger(\"5s timeout close un-opens, isWebsocket created: \",c.isResolved),this.websockets.forEach((e=>e.readyState!==WebSocket.OPEN&&e.close()))};if(t||this.useProxy)return this.logger(\"add 5s timeout at \".concat(t?\"try-443\":\"proxy\",\" condition\")),this.forceCloseTimeout=window.setTimeout(i,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout((()=>{if(this.logger(\"2s timeout, isWebsocket created: \",c.isResolved),c.isResolved)return i();pg().os===ag.MAC_OS&&Rg()&&i(),this.createWebSocket(e,!0,!0).then((e=>c.resolve(e))).catch((e=>{this.isNormalPortFailed&&c.reject(e),this.logger(\"try 443 port to create ws failed\")})),this.forceCloseTimeout=window.setTimeout(i,this.forceCloseWSDuration)}),this.try443PortDuration)})(),c.promise}chooseBestWebsocket(e,t,i,n){return this.useDoubleDomain=!!t,\"string\"==typeof e&&(e=function(e){let t,i,n;return[,t,i,n]=e.match(jI)||[],t||([,i,n]=e.match(GI)||[]),i&&n||([,i,n]=e.match(WI)||[]),i&&n||([,i]=e.match(HI)||[]),i||KC.warning(\"un-destructible url: \",e),{proxy:t,host:i,port:n||\"443\"}}(e)),this.recordIndex=n,this.useProxy=!!e.proxy,i&&this.useProxy&&(KC.warn(\"cannot use 443 only when use proxy\"),i=!1),this.createWebSocket(e,!!i,!1).finally((()=>this.clearTimeout()))}}function qI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class JI extends iT{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Pr(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,\"reconnecting\"===this._state?this.emit(Iv.RECONNECTING,this.reconnectReason):\"connected\"===this._state?this.emit(Iv.CONNECTED):\"closed\"===this._state?this.emit(Iv.CLOSED):\"failed\"===this._state&&this.emit(Iv.FAILED))}resetReconnectCount(e){KC.debug(\"websocket reset reconnect count, reason: \"+e),this.reconnectCount=0}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0;super(),nu(this,\"connectionID\",0),nu(this,\"currentURLIndex\",0),nu(this,\"urls\",[]),nu(this,\"_reconnectMode\",\"tryNext\"),nu(this,\"reconnectReason\",void 0),nu(this,\"_initMutex\",new YT(\"websocket\")),nu(this,\"name\",void 0),nu(this,\"_state\",\"closed\"),nu(this,\"reconnectInterrupter\",void 0),nu(this,\"websocket\",void 0),nu(this,\"retryConfig\",void 0),nu(this,\"reconnectCount\",0),nu(this,\"forceCloseTimeout\",5e3),nu(this,\"onlineReconnectListener\",void 0),nu(this,\"useCompress\",void 0),nu(this,\"tryDoubleDomain\",!1),nu(this,\"use443PortOnly\",!1),nu(this,\"wsInflateLength\",0),nu(this,\"wsDeflateLength\",0),nu(this,\"closeEstablishingWs\",(()=>{})),nu(this,\"store\",void 0),nu(this,\"joinGatewayRecordIndex\",void 0),this.store=s,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?qI(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qI(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this.useCompress=i,this.tryDoubleDomain=n,this.use443PortOnly=r;const{timeout:o,timeoutFactor:a}=t,c=Math.max(300,Math.floor(3*o/5)),d=Math.max(1.2,Math.floor(8*a)/10);hT.ONLINE&&(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=d),RT.on(uT.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount(\"network state change: \".concat(t,\" -> \").concat(e)),e===hT.ONLINE?(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=d):(this.retryConfig.timeout=o,this.retryConfig.timeoutFactor=a))}))}getConnection(){return this.websocket||void 0}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=await this._initMutex.lock();this.forceCloseTimeout=t,this.urls=e,this.state=\"connecting\";try{const e=ng(),t=this.urls[this.currentURLIndex];this.createWebSocketConnection(t).then(e.resolve).catch(e.reject),this.once(Iv.CLOSED,(()=>{e.reject(new Vg(xg.WS_DISCONNECT))})),this.once(Iv.CONNECTED,e.resolve),await e.promise}catch(e){}finally{i()}}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0}this.state=e?\"failed\":\"closed\",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void KC.warning(\"[\".concat(this.name,\"] can not reconnect, no websocket\"));void 0!==e&&(this.reconnectMode=e),KC.debug(\"[\".concat(this.name,\"] reconnect is triggered initiative\")),\"number\"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:\"error\",errors:[new Error(t)]},this.joinGatewayRecordIndex);const i=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),i&&i.bind(this.websocket)({code:9999,reason:t})}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new Vg(xg.WS_ABORT,\"websocket is not ready\");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(e){throw new Vg(xg.WS_ERR,\"send websocket message error\"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e){var t;const i=ng();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const n=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),KC.debug(\"[\".concat(this.name,\"] websocket opened:\"),e),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),i.resolve()},r=async e=>{var t;if(KC.debug(\"[\".concat(this.name,\"] websocket close \").concat(null===(t=this.websocket)||void 0===t?void 0:t.url,\", code: \").concat(e.code,\", reason: \").concat(e.reason,\", current mode: \").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)i.reject(new Vg(xg.WS_DISCONNECT,\"websocket close: \".concat(e.code))),this.close();else{\"connected\"===this.state&&(this.reconnectReason=e.reason,this.state=\"reconnecting\");const t=TT(this,Iv.WILL_RECONNECT,this.reconnectMode,e.reason)||this.reconnectMode,n=await this.reconnectWithAction(t);if(\"closed\"===this.state)return void KC.debug(\"[\".concat(this.connectionID,\"] ws is closed, no need to reconnect\"));if(!n)return i.reject(new Vg(xg.WS_DISCONNECT,\"websocket reconnect failed: \".concat(e.code))),this.close(!0);i.resolve()}},s=e=>{this.emit(Iv.ON_MESSAGE,e)},o=e=>{KC.warn(\"[\".concat(this.connectionID,\"] ws open error \").concat(e))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),kC(\"GATEWAY_WSS_ADDRESS\")&&this.name.startsWith(\"gateway\")&&(e=kC(\"GATEWAY_WSS_ADDRESS\")),KC.debug(\"[\".concat(this.name,\"] start connect, url:\"),e);const a=null===(t=this.store)||void 0===t?void 0:t.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"});try{var c;const t=await this.chooseBestWebsocketConnection(e);this.websocket=t,n&&n(this.websocket.url),this.websocket.onclose=r,this.websocket.onmessage=s,this.websocket.onerror=o,null===(c=this.store)||void 0===c||c.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),this.joinGatewayRecordIndex=a}catch(e){const t=\"closed\"===this.state,n=e instanceof Vg,s=n&&e.code===xg.WS_ABORT,o=n&&e.code===xg.WS_ERR,c=n?e.message:e&&(e.reason||e.toString());KC.warning(\"[choose-best-ws] chooseBestWebsocket error: \".concat(c)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:s?\"aborted\":\"error\",errors:[e]},a),t||o?(i.reject(t?new Vg(xg.WS_DISCONNECT,\"websocket is closed: \".concat(c)):new Vg(xg.WS_ERR,\"init websocket failed: \".concat(c))),o&&KC.error(\"[\".concat(this.name,\"] init websocket failed: \").concat(c))):r&&r(e)}return i.promise}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(0===this.urls.length)return!1;if(\"closed\"===this.state)return!1;KC.warning(\"[choose-best-ws] action: =>\",e),this.onlineReconnectListener||RT.isOnline||!RT.onlineWaiter||(this.onlineReconnectListener=RT.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let i=!0;if(this.reconnectInterrupter=()=>i=!1,t){const t=zT(this.reconnectCount,this.retryConfig);KC.debug(\"[\".concat(this.name,\"] wait \").concat(t,\"ms to reconnect websocket, mode: \").concat(e)),await tg.race([UT(t),this.onlineReconnectListener||new tg((()=>{}))])}if(\"closed\"===this._state||!i)return!1;this.reconnectCount+=1;const n=async(e,t)=>{this.emit(Iv.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if(\"retry\"===e)this.emit(Iv.RECONNECT_WAITTING_FINISH,e),await n(this.urls[this.currentURLIndex],e);else if(\"tryNext\"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction(\"recover\",!1);KC.debug(\"[\".concat(this.name,\"] websocket url length: \").concat(this.urls.length,\" current index: \").concat(this.currentURLIndex)),this.emit(Iv.RECONNECT_WAITTING_FINISH,e),await n(this.urls[this.currentURLIndex],e)}else\"recover\"===e&&(KC.debug(\"[\".concat(this.name,\"] request new urls\")),this.resetReconnectCount(\"recover mode\"),this.emit(Iv.RECONNECT_WAITTING_FINISH,e),this.urls=await fT(this,Iv.REQUEST_NEW_URLS),this.currentURLIndex=0,await n(this.urls[this.currentURLIndex],e))}catch(i){var r;KC.error(\"[\".concat(this.name,\"] reconnect failed \").concat(i&&i.toString()));const n=null==i||null===(r=i.data)||void 0===r?void 0:r.desc;return Array.isArray(n)&&Pr(n).call(n,\"dynamic key expired\")?(this.emit(Iv.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(e,t)}return!0}}class zI extends JI{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){const i=ng(),n=function(e,t){return new YI(e,t)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{KC.debug(\"[choose-best-ws] close establishing websockets\"),n.closeAllWebsockets(),i.reject(new Vg(xg.WS_ABORT,\"choose best websocket aborted\"))};const r=kC(\"GATEWAY_DOMAINS\");return KC.debug(\"[choose-best-ws] currentDomain: \",e,\", domains: \",r,\"total: \".concat(this.urls.length),\"current: \".concat(this.currentURLIndex+1)),n.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,t).then(i.resolve).catch(i.reject),i.promise.finally((()=>{this.closeEstablishingWs=void 0}))}}class XI extends JI{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){return new tg(((i,n)=>{let r=!1;const s=[];this.closeEstablishingWs=()=>{KC.debug(\"[choose-best-ws] close establishing websockets\"),s.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),n(new Vg(xg.WS_ABORT,\"choose best websocket aborted\"))};const o=kC(\"GATEWAY_DOMAINS\");let a;const c=e.indexOf(\"?h=\"),d=o.find((t=>-1!==c?Pr(e).call(e,t,c):Pr(e).call(e,t)));KC.debug(\"[choose-best-ws] currentDomain: \",d,\", domains: \",o);let l=!this.tryDoubleDomain||!d;if(!l&&d){var h;const u=Date.now();try{o.forEach((t=>{const i=-1===c?e.replace(d,t):e.substr(0,c)+e.substr(c).replace(d,t),n=new WebSocket(i);n.binaryType=\"arraybuffer\",s.push(n),KC.debug(\"[choose-best-ws] ws is connecting:\",n.url)}))}catch(e){for(KC.debug(\"[choose-best-ws] ws create failed, fallback to single url\"),s.forEach((e=>e.close()));s.length;)s.pop();l=!0}null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:s.map((e=>e.url)),service:\"gateway\"},t),s.forEach((e=>{e.onopen=()=>{if(r)return;const t=Date.now()-u;KC.debug(\"[choose-best-ws] ws open cost \".concat(t,\"ms\")),s.filter((t=>t!==e)).forEach((e=>{KC.debug(\"[choose-best-ws]close backup websocket: \".concat(e.url)),e.close()})),r=!0,i(e)},e.onclose=e=>{if(a=e,r)return;s.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(KC.debug(\"[choose-best-ws] all websocket is closed\"),r=!0,n(a))},e.onmessage=t=>{KC.debug(\"[choose-best-ws]\".concat(e.url,\" onmessage: \").concat(t.data))}})),UT(this.forceCloseTimeout).then((()=>{s.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(l){var u;let r;KC.debug(\"[choose-best-ws] use single url: \",e),null===(u=this.store)||void 0===u||u.recordJoinChannelService({urls:[e],service:\"gateway\"},t);try{r=new WebSocket(e),s.push(r),r.binaryType=\"arraybuffer\"}catch(e){const t=new Vg(xg.WS_ERR,\"init websocket failed! Error: \".concat(e.toString()));return KC.error(\"[\".concat(this.name,\"]\").concat(t)),void n(t)}r.onopen=()=>{i(r)},r.onclose=e=>{n(e)},r.onmessage=e=>{KC.debug(\"[choose-best-ws]\".concat(r.url,\" onmessage: \").concat(e.data))},UT(this.forceCloseTimeout).then((()=>{r&&r.readyState!==WebSocket.OPEN&&r.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}}class QI extends iT{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===fv.CONNECTED?this.emit(gv.WS_CONNECTED):e===fv.RECONNECTING?this.emit(gv.WS_RECONNECTING,this._websocketReconnectReason):e===fv.CLOSED&&this.emit(gv.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),nu(this,\"_disconnectedReason\",void 0),nu(this,\"_websocketReconnectReason\",void 0),nu(this,\"_connectionState\",fv.CLOSED),nu(this,\"reconnectToken\",void 0),nu(this,\"websocket\",void 0),nu(this,\"openConnectionTime\",void 0),nu(this,\"clientId\",void 0),nu(this,\"lastMsgTime\",Date.now()),nu(this,\"uploadCache\",[]),nu(this,\"uploadCacheInterval\",void 0),nu(this,\"rttRolling\",new dS(5)),nu(this,\"pingpongTimer\",void 0),nu(this,\"wsInflateDataTimer\",void 0),nu(this,\"pingpongTimeoutCount\",0),nu(this,\"joinResponse\",void 0),nu(this,\"multiIpOption\",void 0),nu(this,\"initError\",void 0),nu(this,\"spec\",void 0),nu(this,\"store\",void 0),nu(this,\"onWebsocketMessage\",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(gv.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")){if(this.emit(t._type,t._message),t._type===Rv.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Rv.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(cT.UID_BANNED);break;case 15:this.close(cT.IP_BANNED);break;case 16:this.close(cT.CHANNEL_BANNED)}if(t._type===Rv.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case mv.ERR_LICENSE_MISSING:this.close(cT.LICENSE_MISSING);break;case mv.ERR_LICENSE_EXPIRED:this.close(cT.LICENSE_EXPIRED);break;case mv.ERR_LICENSE_MINUTES_EXCEEDED:this.close(cT.LICENSE_MINUTES_EXCEEDED);break;case mv.ERR_LICENSE_PERIOD_INVALID:this.close(cT.LICENSE_PERIOD_INVALID);break;case mv.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(cT.LICENSE_MULTIPLE_SDK_SERVICE);break;case mv.ERR_LICENSE_ILLEGAL:this.close(cT.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new zI(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,kC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),kC(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===fv.CONNECTED&&this.reconnect(\"retry\",lT.OFFLINE)}))}async request(e,t,i,n){const r=xT(6,\"\"),s={_id:r,_type:e,_message:t},o=this.websocket.connectionID,a=()=>new tg(((t,i)=>{if(this.connectionState===fv.CONNECTED)return t();const n=()=>{this.off(gv.WS_CLOSED,r),t()},r=()=>{this.off(gv.WS_CONNECTED,n),i(new xv(xg.WS_ABORT))};this.once(gv.WS_CONNECTED,n),this.once(gv.WS_CLOSED,r),e!==Tv.PUBLISH&&e!==Tv.SUBSCRIBE&&e!==Tv.UNSUBSCRIBE&&e!==Tv.UNPUBLISH&&e!==Tv.CONTROL&&e!==Tv.RESTART_ICE||this.once(gv.DISCONNECT_P2P,(()=>{i(new xv(xg.DISCONNECT_P2P))})),e!==Tv.PUBLISH&&e!==Tv.RESTART_ICE||this.once(gv.ABORT_P2P_EXECUTION,(()=>{i(new xv(xg.DISCONNECT_P2P))}))}));if(this.connectionState!==fv.CONNECTING&&this.connectionState!==fv.RECONNECTING||e===Tv.JOIN||e===Tv.REJOIN||await a(),this.websocket.sendMessage(s,!0),n)return;const c=new tg(((i,n)=>{let s=!1;const a=(n,r)=>{s=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(gv.WS_CLOSED,c),this.off(gv.WS_RECONNECTING,c),this.emit(gv.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new xv(xg.WS_ABORT,\"type: \".concat(e))),this.off(gv.WS_CLOSED,c),this.off(gv.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(gv.WS_CLOSED,c),this.once(gv.WS_RECONNECTING,c),UT(kC(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==o||s||(KC.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(gv.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===fv.CLOSED||e===Tv.LEAVE)throw new xv(xg.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===Tv.JOIN||e===Tv.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),h=UI(l),u=new xv(xg.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(d.message.error_str),{code:l,data:d.message});return\"success\"===h.action?d.message:(KC.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(h.desc,\", action: \").concat(h.action)),l===mv.ERR_TOO_MANY_BROADCASTERS?e===Tv.JOIN||e===Tv.REJOIN?(this.initError=u,this.close(),u.throw()):u.throw():\"failed\"===h.action?u.throw():\"quit\"===h.action?(this.initError=u,this.close(),u.throw()):(l===mv.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,KC.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",lT.MULTI_IP)):this.reconnect(h.action,lT.SERVER_ERROR),e===Tv.JOIN||e===Tv.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new tg((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=kC(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==fv.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),kC(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new tg(((t,i)=>{this.once(gv.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(gv.WS_CLOSED,(()=>i(this.initError||new xv(xg.WS_ABORT)))),this.connectionState=fv.CONNECTING,this.websocket.init(e).catch(i),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||cT.LEAVE,this.connectionState=fv.CLOSED,KC.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close(),e===cT.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new zI(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,kC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),kC(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(gv.ABORT_P2P_EXECUTION);const e=await fT(this,gv.REQUEST_JOIN_INFO),t=await this.request(Tv.JOIN,e);if(!t)return this.emit(gv.REPORT_JOIN_GATEWAY,tI.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(gv.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=fv.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new xv(xg.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=ST(this,gv.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(Tv.REJOIN,e);return!!t&&(this.connectionState=fv.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(Rv.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(Rv.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(Rv.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(Rv.MUTE_AUDIO,{uid:e.uid}):this.emit(Rv.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(Rv.MUTE_VIDEO,{uid:e.uid}):this.emit(Rv.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(Rv.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(Rv.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(Rv.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(Rv.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(Rv.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){KC.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=UI(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(cT.UID_BANNED),void this.close()):void this.reconnect(t.action,lT.SERVER_ERROR);KC.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=kC(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(KC.warning(\"[\".concat(this.clientId,\"] PING-PONG Timeout. Last Socket Message: \").concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>kC(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",lT.TIMEOUT):this.request(Tv.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),kC(\"REPORT_STATS\")&&this.send(Tv.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(Sv.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(Iv.RECONNECT_WAITTING_FINISH,(e=>{this.emit(gv.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(Iv.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(gv.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(Iv.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Iv.CLOSED,(()=>{this.connectionState=fv.CLOSED})),this.websocket.on(Iv.FAILED,(()=>{this._disconnectedReason=cT.NETWORK_ERROR,this.connectionState=fv.CLOSED})),this.websocket.on(Iv.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===fv.CONNECTED?this.connectionState=fv.RECONNECTING:this.connectionState=fv.CONNECTING})),this.websocket.on(Iv.WILL_RECONNECT,((e,t,i)=>{const n=ST(this,gv.IS_P2P_DISCONNECTED),r=n||\"retry\"!==e;n&&\"retry\"===e&&(KC.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),e=\"tryNext\",t=tI.P2P_DISCONNECTED),r&&(KC.debug(\"\".concat(this.clientId,\" will renewSession, reconnect mode: \").concat(e)),this.emit(gv.REPORT_JOIN_GATEWAY,t||tI.UNKNOWN_REASON,this.url||\"\"),this.reconnectToken=void 0,this.emit(gv.NEED_RENEW_SESSION),this.emit(gv.DISCONNECT_P2P)),i(e)})),this.websocket.on(Iv.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{KC.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",lT.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(gv.REPORT_JOIN_GATEWAY,e.message||e.code||tI.UNKNOWN_REASON,this.url||\"\"),e instanceof xv&&e.code===xg.UNEXPECTED_RESPONSE&&e.data.code===mv.ERR_NO_AUTHORIZED)return KC.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",lT.SERVER_ERROR);KC.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",lT.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(Iv.REQUEST_NEW_URLS,((e,t)=>{fT(this,gv.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(Iv.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(Rv.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}var ZI=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\",$I=et,ey=gr,ty=ZI,iy=_e(\"\".replace),ny=RegExp(\"^[\"+ty+\"]+\"),ry=RegExp(\"(^|[^\"+ty+\"])[\"+ty+\"]+$\"),sy=function(e){return function(t){var i=ey($I(t));return 1&e&&(i=iy(i,ny,\"\")),2&e&&(i=iy(i,ry,\"$1\")),i}},oy={start:sy(1),end:sy(2),trim:sy(3)},ay=Jd.PROPER,cy=ce,dy=ZI,ly=oy.trim;kn({target:\"String\",proto:!0,forced:function(e){return cy((function(){return!!dy[e]()||\"​᠎\"!==\"​᠎\"[e]()||ay&&dy[e].name!==e}))}(\"trim\")},{trim:function(){return ly(this)}});var hy,uy,py=er(\"String\").trim,_y=Ee,Ey=py,my=String.prototype,fy=J((function(e){var t=e.trim;return\"string\"==typeof e||e===my||_y(my,e)&&t===my.trim?Ey:t}));function gy(e,t,i){return{sampleRate:e,stereo:t,bitrate:i}}function Ty(e,t,i,n,r){return{width:e,height:t,frameRate:i,bitrateMin:n,bitrateMax:r}}function Sy(e,t,i,n,r){return{width:{max:e},height:{max:t},frameRate:i,bitrateMin:n,bitrateMax:r}}function Ry(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}!function(e){e[e.CHOOSE_SERVER=11]=\"CHOOSE_SERVER\",e[e.CLOUD_PROXY=18]=\"CLOUD_PROXY\",e[e.CLOUD_PROXY_5=20]=\"CLOUD_PROXY_5\",e[e.CLOUD_PROXY_FALLBACK=26]=\"CLOUD_PROXY_FALLBACK\"}(hy||(hy={})),function(e){e.IOS_15_16_INTERRUPTION_START=\"ios15_16-interruption-start\",e.IOS_15_16_INTERRUPTION_END=\"ios15_16-interruption-end\",e.IOS_INTERRUPTION_START=\"ios-interruption-start\",e.IOS_INTERRUPTION_END=\"ios-interruption-end\",e.STATE_CHANGE=\"state-change\"}(uy||(uy={}));const Cy={\"90p\":Ty(160,90),\"90p_1\":Ty(160,90),\"120p\":Ty(160,120,15,30,65),\"120p_1\":Ty(160,120,15,30,65),\"120p_3\":Ty(120,120,15,30,50),\"120p_4\":Ty(212,120),\"180p\":Ty(320,180,15,30,140),\"180p_1\":Ty(320,180,15,30,140),\"180p_3\":Ty(180,180,15,30,100),\"180p_4\":Ty(240,180,15,30,120),\"240p\":Ty(320,240,15,40,200),\"240p_1\":Ty(320,240,15,40,200),\"240p_3\":Ty(240,240,15,40,140),\"240p_4\":Ty(424,240,15,40,220),\"360p\":Ty(640,360,15,80,400),\"360p_1\":Ty(640,360,15,80,400),\"360p_3\":Ty(360,360,15,80,260),\"360p_4\":Ty(640,360,30,80,600),\"360p_6\":Ty(360,360,30,80,400),\"360p_7\":Ty(480,360,15,80,320),\"360p_8\":Ty(480,360,30,80,490),\"360p_9\":Ty(640,360,15,80,800),\"360p_10\":Ty(640,360,24,80,800),\"360p_11\":Ty(640,360,24,80,1e3),\"480p\":Ty(640,480,15,100,500),\"480p_1\":Ty(640,480,15,100,500),\"480p_2\":Ty(640,480,30,100,1e3),\"480p_3\":Ty(480,480,15,100,400),\"480p_4\":Ty(640,480,30,100,750),\"480p_6\":Ty(480,480,30,100,600),\"480p_8\":Ty(848,480,15,100,610),\"480p_9\":Ty(848,480,30,100,930),\"480p_10\":Ty(640,480,10,100,400),\"720p\":Ty(1280,720,15,120,1130),\"720p_auto\":Ty(1280,720,30,900,3e3),\"720p_1\":Ty(1280,720,15,120,1130),\"720p_2\":Ty(1280,720,30,120,2e3),\"720p_3\":Ty(1280,720,30,120,1710),\"720p_5\":Ty(960,720,15,120,910),\"720p_6\":Ty(960,720,30,120,1380),\"1080p\":Ty(1920,1080,15,120,2080),\"1080p_1\":Ty(1920,1080,15,120,2080),\"1080p_2\":Ty(1920,1080,30,120,3e3),\"1080p_3\":Ty(1920,1080,30,120,3150),\"1080p_5\":Ty(1920,1080,60,120,4780),\"1440p\":Ty(2560,1440,30,120,4850),\"1440p_1\":Ty(2560,1440,30,120,4850),\"1440p_2\":Ty(2560,1440,60,120,7350),\"4k\":Ty(3840,2160,30,120,8910),\"4k_1\":Ty(3840,2160,30,120,8910),\"4k_3\":Ty(3840,2160,60,120,13500)},vy=[{scaleResolutionDownBy:2,width:1280,height:720,frameRate:30,bitrateMin:300,bitrateMax:900},{scaleResolutionDownBy:1.333333,width:1280,height:720,frameRate:30,bitrateMin:600,bitrateMax:2e3},{scaleResolutionDownBy:1,width:1280,height:720,frameRate:30,bitrateMin:900,bitrateMax:3e3}],Iy={\"480p\":Sy(640,480,5),\"480p_1\":Sy(640,480,5),\"480p_2\":Sy(640,480,30),\"480p_3\":Sy(640,480,15),\"720p\":Sy(1280,720,5),\"720p_auto\":Ty(1280,720,30,900,3e3),\"720p_1\":Sy(1280,720,5),\"720p_2\":Sy(1280,720,30),\"720p_3\":Sy(1280,720,15),\"1080p\":Sy(1920,1080,5),\"1080p_1\":Sy(1920,1080,5),\"1080p_2\":Sy(1920,1080,30),\"1080p_3\":Sy(1920,1080,15)},yy={\"1SL1TL\":Ry(1,1),\"3SL3TL\":Ry(3,3),\"2SL3TL\":Ry(2,3)};function Ay(e){return e||(e=\"480p_1\"),\"string\"==typeof e?Object.assign({},Cy[e]):e}function by(e){return\"string\"==typeof e?Object.assign({},Iy[e]):e}function wy(e){return\"string\"==typeof e?Object.assign({},yy[e]):e}const Oy={speech_low_quality:gy(16e3,!1),speech_standard:gy(32e3,!1,18),music_standard:gy(48e3,!1),standard_stereo:gy(48e3,!0,56),high_quality:gy(48e3,!1,128),high_quality_stereo:gy(48e3,!0,192)};function Ny(e){return\"string\"==typeof e?Object.assign({},Oy[e]):e}const Dy=[];function Py(e){return Bg(e,\"mediaSource\",[\"screen\",\"window\",\"application\"]),!0}var Ly,ky,My,Uy,xy,Vy,Fy,By,jy,Gy;!function(e){e.NEED_RENEGOTIATE=\"@need_renegotiate\",e.NEED_REPLACE_TRACK=\"@need_replace_track\",e.NEED_CLOSE=\"@need_close\",e.NEED_ENABLE_TRACK=\"@need_enable_track\",e.NEED_DISABLE_TRACK=\"@need_disable_track\",e.NEED_SESSION_ID=\"@need_sid\",e.SET_OPTIMIZATION_MODE=\"@set_optimization_mode\",e.GET_STATS=\"@get_stats\",e.GET_RTC_STATS=\"@get_rtc_stats\",e.GET_LOW_VIDEO_TRACK=\"@get_low_video_track\",e.NEED_RESET_REMOTE_SDP=\"@need_reset_remote_sdp\",e.NEED_UPDATE_VIDEO_ENCODER=\"@need_update_video_encoder\",e.NEED_MUTE_TRACK=\"@need_mute_track\",e.NEED_UNMUTE_TRACK=\"@need_unmute_track\"}(Ly||(Ly={})),function(e){e.SCREEN_TRACK=\"screen_track\",e.CUSTOM_TRACK=\"custome_track\",e.LOW_STREAM=\"low_stream\"}(ky||(ky={})),function(e){e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\"}(My||(My={})),function(e){e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\"}(Uy||(Uy={})),function(e){e[e.DISABLE=0]=\"DISABLE\",e[e.LOW_STREAM=1]=\"LOW_STREAM\",e[e.AUDIO_ONLY=2]=\"AUDIO_ONLY\"}(xy||(xy={})),function(e){e.TRANSCEIVER_UPDATED=\"transceiver-updated\"}(Vy||(Vy={})),function(e){e.SOURCE_STATE_CHANGE=\"source-state-change\",e.TRACK_ENDED=\"track-ended\",e.BEAUTY_EFFECT_OVERLOAD=\"beauty-effect-overload\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",e.CLOSED=\"closed\"}(Fy||(Fy={})),function(e){e.FIRST_FRAME_DECODED=\"first-frame-decoded\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\"}(By||(By={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE=\"audio_source_state_change\",e.RECEIVE_TRACK_BUFFER=\"receive_track_buffer\",e.ON_AUDIO_BUFFER=\"on_audio_buffer\",e.UPDATE_SOURCE=\"update_source\"}(jy||(jy={})),function(e){e.UPDATE_TRACK_SOURCE=\"update-track-source\"}(Gy||(Gy={}));const Wy={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},Hy={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},Ky={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},Yy={uplinkNetworkQuality:0,downlinkNetworkQuality:0},qy={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};var Jy,zy,Xy,Qy,Zy;!function(e){e.ON_TRACK=\"on_track\",e.ON_NODE=\"on_node\"}(Jy||(Jy={})),function(e){e.REQUEST_UPDATE_CONSTRAINTS=\"request_update_constraints\",e.REQUEST_CONSTRAINTS=\"request_constraints\"}(zy||(zy={})),function(e){e.IDLE=\"IDLE\",e.INITING=\"INITING\",e.INITEND=\"INITEND\"}(Xy||(Xy={})),function(e){e.STATE_CHANGE=\"state_change\",e.RECORDING_DEVICE_CHANGED=\"recordingDeviceChanged\",e.PLAYOUT_DEVICE_CHANGED=\"playoutDeviceChanged\",e.CAMERA_DEVICE_CHANGED=\"cameraDeviceChanged\"}(Qy||(Qy={})),function(e){e.NONE=\"none\",e.INIT=\"init\",e.CANPLAY=\"canplay\",e.PLAYING=\"playing\",e.PAUSED=\"paused\",e.SUSPEND=\"suspend\",e.STALLED=\"stalled\",e.WAITING=\"waiting\",e.ERROR=\"error\",e.DESTROYED=\"destroyed\",e.ABORT=\"abort\",e.ENDED=\"ended\",e.EMPTIED=\"emptied\",e.LOADEDDATA=\"loadeddata\"}(Zy||(Zy={}));const $y={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};var eA;!function(e){e.OPEN=\"open\",e.MESSAGE=\"message\",e.CLOSE=\"close\",e.CLOSING=\"closing\",e.ERROR=\"error\"}(eA||(eA={}));class tA extends iT{constructor(e,t){super(),nu(this,\"_ID\",void 0),nu(this,\"_rtpTransceiver\",void 0),nu(this,\"_lowRtpTransceiver\",void 0),nu(this,\"_hints\",[]),nu(this,\"_isClosed\",!1),nu(this,\"_originMediaStreamTrack\",void 0),nu(this,\"_mediaStreamTrack\",void 0),nu(this,\"_external\",{}),this._ID=t||xT(8,\"track-\"),this._originMediaStreamTrack=e,this._mediaStreamTrack=e,function(e){Pr(Dy).call(Dy,e)||Dy.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){if(!e){const e=rv.reportApiInvoke(null,{name:sT.GET_MEDIA_STREAM_TRACK,options:[],tag:oT.TRACER});this._mediaStreamTrack&&\"string\"==typeof this._mediaStreamTrack.label?e.onSuccess(this._mediaStreamTrack.label):e.onSuccess(\"\")}return this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===My.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){const t=Dy.indexOf(e);-1!==t&&Dy.splice(t,1)}(this),this.emit(Fy.CLOSED)}_updateRtpTransceiver(e,t){if(t===My.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(Vy.TRANSCEIVER_UPDATED,e,t)}}class iA extends tA{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}constructor(e,t){super(e,t),nu(this,\"_enabled\",!0),nu(this,\"_muted\",!1),nu(this,\"_isExternalTrack\",!1),nu(this,\"_isClosed\",!1),nu(this,\"_enabledMutex\",void 0),nu(this,\"processor\",void 0),nu(this,\"_handleTrackEnded\",(()=>{this.onTrackEnded()})),this._enabledMutex=new YT(\"\".concat(this.getTrackId())),e.addEventListener(\"ended\",this._handleTrackEnded)}getTrackLabel(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:\"\"}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,KC.debug(\"[\".concat(this.getTrackId(),\"] close\")),this.emit(Ly.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=i,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await gT(this,Ly.NEED_REPLACE_TRACK,this),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){KC.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(Fy.TRACK_ENDED)}stateCheck(e,t){if(KC.debug(\"check track state, [muted: \".concat(this._muted,\", enabled: \").concat(this._enabled,\"] to [\").concat(e,\": \").concat(t,\"]\")),Fg(t,e),this._enabled&&this._muted&&\"enabled\"===e&&!1===t)throw new Vg(xg.TRACK_STATE_UNREACHABLE,\"cannot set enabled while the track is muted\").print(\"error\",KC);if(!this._enabled&&!this._muted&&\"muted\"===e&&!0===t)throw new Vg(xg.TRACK_STATE_UNREACHABLE,\"cannot set muted while the track is disabled\").print(\"error\",KC)}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}function nA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const rA=window.AudioContext||window.webkitAudioContext;let sA=null;const oA=new class extends iT{constructor(){super(...arguments),nu(this,\"prevState\",void 0),nu(this,\"curState\",void 0),nu(this,\"currentTime\",void 0),nu(this,\"currentTimeStuckAt\",void 0),nu(this,\"interruptDetectorTrack\",void 0),nu(this,\"onLocalAudioTrackMute\",(()=>{KC.info(\"ios15-interruption-start\"),this.emit(uy.IOS_15_16_INTERRUPTION_START)})),nu(this,\"onLocalAudioTrackUnmute\",(async()=>{KC.info(\"ios15-interruption-end\"),\"running\"!==this.curState||this.duringInterruption?KC.info(\"ios15-interruption-end-canceled\"):(sA&&await sA.suspend(),this.emit(uy.IOS_15_16_INTERRUPTION_END))}))}get duringInterruption(){return\"running\"===this.prevState&&\"interrupted\"===this.curState}bindInterruptDetectorTrack(e){KC.debug(\"webaudio bindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){KC.debug(\"webaudio unbindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function aA(){if(!rA)return void KC.error(\"your browser is not support web audio\");KC.info(\"create audio context\");const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?nA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},kC(\"WEBAUDIO_INIT_OPTIONS\"));KC.debug(\"audio context init option:\",JSON.stringify(e)),sA=new rA(e),oA.curState=sA.state,sA.onstatechange=()=>{oA.prevState=oA.curState,oA.curState=sA?sA.state:void 0;const{prevState:e,curState:t}=oA,i=\"running\"===t,n=\"interrupted\"===t,r=\"running\"===e,s=\"suspended\"===e,o=\"interrupted\"===e,a=pg().osVersion;(Cg()||Dg())&&r&&n&&(KC.info(\"ios\".concat(a,\"-interruption-start\")),oA.emit(uy.IOS_INTERRUPTION_START)),(Cg()||Dg())&&(s||o)&&i&&(KC.info(\"ios\".concat(a,\"-interruption-end\")),oA.emit(uy.IOS_INTERRUPTION_END)),e!==t&&(KC.debug(\"AudioContext State Change\",\"\".concat(e,\"=>\").concat(t)),oA.emit(uy.STATE_CHANGE))},setInterval((()=>{var e;const t=null===(e=sA)||void 0===e?void 0:e.currentTime;if(oA.currentTime!==t)oA.currentTimeStuckAt&&(KC.debug(\"AudioContext current time resume at \".concat(t)),oA.currentTimeStuckAt=void 0),oA.currentTime=t;else{if(t!==oA.currentTimeStuckAt){rv.reportApiInvoke(null,{name:\"WEB_AUDIO_CURRENT_TIME_STUCK\",options:{currentTime:t},tag:oT.TRACER}).onSuccess(),KC.warning(\"AudioContext current time stuck at \".concat(t))}oA.currentTimeStuckAt=t}}),5e3),async function(e){const t=[\"click\",\"contextmenu\",\"auxclick\",\"dblclick\",\"mousedown\",\"mouseup\",\"touchend\",\"keydown\",\"keyup\"];let i,n=!1,r=!1,s=!1;function o(t){\"running\"===e.state?a(!1):Cg()||Dg()?\"suspended\"===e.state&&(a(!0),t&&e.resume().then(d,d)):\"closed\"!==e.state&&(a(!0),t&&e.resume().then(d,d))}function a(e){if(n!==e){n=e;for(let i=0,n=t;i<n.length;i+=1){const t=n[i];e?window.addEventListener(t,l,{capture:!0,passive:!0}):window.removeEventListener(t,l,{capture:!0,passive:!0})}}}function c(){o(!0)}function d(){o(!1)}function l(){o(!0)}function h(e){if(!s)if(i.paused)if(e){let e;u(!1),s=!0;try{e=i.play(),e?e.then(p,p):(i.addEventListener(\"playing\",p),i.addEventListener(\"abort\",p),i.addEventListener(\"error\",p))}catch(e){p()}}else u(!0);else u(!1)}function u(e){if(r!==e){r=e;for(let i=0,n=t;i<n.length;i++){const t=n[i];e?window.addEventListener(t,_,{capture:!0,passive:!0}):window.removeEventListener(t,_,{capture:!0,passive:!0})}}}function p(){i.removeEventListener(\"playing\",p),i.removeEventListener(\"abort\",p),i.removeEventListener(\"error\",p),s=!1,h(!1)}function _(){h(!0)}if(Cg()){const t=e.createMediaStreamDestination(),n=document.createElement(\"div\");n.innerHTML=\"<audio x-webkit-airplay='deny'></audio>\",i=n.children.item(0),i.controls=!1,i.disableRemotePlayback=!0,i.preload=\"auto\",i.srcObject=t.stream,h(!0)}oA.on(uy.STATE_CHANGE,c),o(!1)}(sA)}function cA(){if(!sA){if(aA(),!sA)throw new Vg(xg.NOT_SUPPORTED,\"can not create audio context\");return sA}return sA}function dA(){return!!sA}function lA(e){if(function(){if(null!==hA)return hA;const e=cA(),t=e.createBufferSource(),i=e.createGain(),n=e.createGain();t.connect(i),t.connect(n),t.disconnect(i);let r=!1;try{t.disconnect(i)}catch(e){r=!0}return t.disconnect(),hA=r,r}())return;const t=e.connect,i=e.disconnect;e.connect=(i,n,r)=>{var s;return e._inputNodes||(e._inputNodes=[]),Pr(s=e._inputNodes).call(s,i)||(i instanceof AudioNode?(e._inputNodes.push(i),t.call(e,i,n,r)):t.call(e,i,n)),e},e.disconnect=(n,r,s)=>{i.call(e),n?IT(e._inputNodes,n):e._inputNodes=[];for(const i of e._inputNodes)t.call(e,i)}}let hA=null;function uA(e,t){let i=!1;const n=1/t;if(kC(\"DISABLE_WEBAUDIO\")){const t=window.setInterval((()=>{i?window.clearInterval(t):e(performance.now()/1e3)}),1e3*n)}else{const t=cA();let r=t.createGain();r.gain.value=0,r.connect(t.destination);const s=()=>{if(i)return void(r=null);const o=t.createOscillator();o.onended=s,o.connect(r),o.start(0),o.stop(t.currentTime+n),e(t.currentTime)};s()}return()=>{i=!0}}const pA={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1};function _A(){return pA}class EA{constructor(){nu(this,\"context\",void 0),nu(this,\"analyserNode\",void 0),nu(this,\"sourceNode\",void 0),this.context=cA(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||Cg()||Dg()||\"running\"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let i=0;i<e.length;++i)e[i]=t[i]/128-1}const t=cS(e).call(e,((e,t)=>e+t*t),0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){KC.warning(\"rebuild analyser node failed.\")}}destroy(){this.updateSource(void 0)}}class mA extends iT{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var i;null===(i=this.sourceNode)||void 0===i||i.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),nu(this,\"outputNode\",void 0),nu(this,\"outputTrack\",void 0),nu(this,\"isPlayed\",!1),nu(this,\"context\",void 0),nu(this,\"audioBufferNode\",void 0),nu(this,\"destNode\",void 0),nu(this,\"audioOutputLevel\",0),nu(this,\"volumeLevelAnalyser\",void 0),nu(this,\"_processedNode\",void 0),nu(this,\"playNode\",void 0),nu(this,\"isDestroyed\",!1),nu(this,\"onNoAudioInput\",void 0),nu(this,\"isNoAudioInput\",!1),nu(this,\"_noAudioInputCount\",0),this.context=cA(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),lA(this.outputNode),this.volumeLevelAnalyser=new EA}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(jy.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const i=e.outputBuffer.getChannelData(t);for(let e=0;e<i.length;e+=1)i[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!_A().webAudioMediaStreamDest)throw new Vg(xg.NOT_SUPPORTED,\"your browser is not support audio processor\");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){\"running\"!==this.context.state&&AT((()=>{oA.emit(\"autoplay-failed\")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;Cg()||Dg()?\"suspended\"===this.context.state&&this.context.resume():\"running\"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let i;t.getFloatTimeDomainData?(i=new Float32Array(t.fftSize),t.getFloatTimeDomainData(i)):(i=new Uint8Array(t.fftSize),t.getByteTimeDomainData(i));let n=!1;for(let e=0;e<i.length;e++)0!==i[e]&&(n=!0);return n?(this.isNoAudioInput=!1,!0):(await UT(200),await this.checkHasAudioInput(e?e+1:1)&&n)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode);this.volumeLevelAnalyser.updateSource(this.outputNode)}}class fA extends mA{get isFreeze(){return!1}constructor(e,t,i){var n;if(super(),nu(this,\"sourceNode\",void 0),nu(this,\"track\",void 0),nu(this,\"clonedTrack\",void 0),nu(this,\"audioElement\",void 0),nu(this,\"isCurrentTrackCloned\",!1),nu(this,\"isRemoteTrack\",!1),nu(this,\"originVolumeLevelAnalyser\",void 0),nu(this,\"rebuildWebAudio\",(async()=>{if(KC.debug(\"ready to rebuild web audio, state:\",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener(\"click\",this.rebuildWebAudio,!0),void KC.debug(\"rebuild web audio success, current volume status\",this.getAccurateVolumeLevel());this.context.resume().then((()=>KC.info(\"resume success\"))),KC.debug(\"rebuild web audio because of ios 12 bugs\"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),lA(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const i=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(i,this.context.currentTime),lA(this.outputNode),this.emit(jy.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),\"audio\"!==e.kind)throw new Vg(xg.UNEXPECTED_ERROR);this.track=e;const r=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(r),lA(this.sourceNode),i){const e=i.clone();e.enabled=!0,this.clonedTrack=e,KC.debug(\"create an unmuted track \".concat(e.id,\" from the original track \").concat(i.id,\" to get the volume\"));const t=this.context.createMediaStreamSource(new MediaStream([e]));lA(t),this.originVolumeLevelAnalyser=new EA,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement(\"audio\"),this.audioElement.srcObject=r;const s=pg();t&&s.os===ag.IOS&&Number(null===(n=s.osVersion)||void 0===n?void 0:n.split(\".\")[0])<15&&(oA.on(uy.STATE_CHANGE,(()=>{\"suspended\"===this.context.state?document.body.addEventListener(\"click\",this.rebuildWebAudio,!0):\"running\"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener(\"click\",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),lA(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(jy.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),oA.off(\"state-change\",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),KC.debug(\"create an unmuted track \".concat(t.id,\" from the original track \").concat(e.id,\" to get the volume\"));const i=this.context.createMediaStreamSource(new MediaStream([t]));lA(i),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(i)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function gA(e,t,i){const n=(e,t)=>e?\"number\"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,r={audio:!!i&&{mandatory:{chromeMediaSource:\"desktop\"}},video:{mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:e,maxHeight:n(t.height,1080),maxWidth:n(t.width,1920)}}};return t.frameRate&&\"number\"!=typeof t.frameRate?(r.video.mandatory.maxFrameRate=t.frameRate.max,r.video.mandatory.minFrameRate=t.frameRate.min):\"number\"==typeof t.frameRate&&(r.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function TA(e,t){const i=await SA(e.mediaSource),{sourceId:n,audio:r}=await function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new tg(((i,n)=>{const r=document.createElement(\"div\");r.innerText=\"share screen\",r.setAttribute(\"style\",\"text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;\");const s=document.createElement(\"div\");s.setAttribute(\"style\",\"width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;\");const o=document.createElement(\"div\");o.innerText=\"Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.\",o.setAttribute(\"style\",\"height: 12%;\");const a=document.createElement(\"div\");a.setAttribute(\"style\",\"width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;\");const c=document.createElement(\"div\");c.setAttribute(\"style\",\"display: flex; justify-content: space-between; padding: 16px 0;\");const d=document.createElement(\"button\");d.innerHTML=\"cancel\",d.setAttribute(\"style\",\"width: 85px;\"),d.onclick=()=>{document.body.removeChild(u);const e=new Error(\"NotAllowedError\");e.name=\"NotAllowedError\",n(e)};let l=t;const h=document.createElement(\"div\");if(t){const e=document.createElement(\"input\");e.setAttribute(\"type\",\"checkbox\");const t=document.createElement(\"span\");e.setAttribute(\"style\",\"margin-right: 6px;\"),t.innerText=\"Share audio\",e.checked=l,e.onchange=()=>{l=e.checked},h.appendChild(e),h.appendChild(t)}c.appendChild(h),c.appendChild(d),s.appendChild(o),s.appendChild(a),s.appendChild(c);const u=document.createElement(\"div\");u.setAttribute(\"style\",\"position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);\"),u.appendChild(r),u.appendChild(s),document.body.appendChild(u),e.map((e=>{if(e.id){const t=document.createElement(\"div\");t.setAttribute(\"style\",\"width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;\");let n=e.thumbnail;try{const{width:e}=n.getSize();e>1920&&(n=n.resize({width:1920}))}catch(e){throw e&&e.message.startsWith(\"Illegal invocation\")&&console.error(\"Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)\"),e}t.innerHTML='<div style=\"height: 120px; display: table-cell; vertical-align: middle;\"><img style=\"width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\" src='+n.toDataURL()+' /></div><span style=\"\\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">'+e.name.replace(/[\\u00A0-\\u9999<>\\&]/g,(function(e){return\"&#\"+e.charCodeAt(0)+\";\"}))+\"</span>\",t.onclick=()=>{document.body.removeChild(u),i({sourceId:e.id,audio:l})},a.appendChild(t)}}))}))}(i,t);return await gA(n,e,r)}async function SA(e){let t=[\"window\",\"screen\"];\"application\"!==e&&\"window\"!==e||(t=[\"window\"]),\"screen\"===e&&(t=[\"screen\"]);const i=rT();if(!i)throw console.error(\"failed to fetch electron, please mount it to window\"),new Vg(xg.ELECTRON_IS_NULL);let n=null;try{var r;n=(null===(r=i.desktopCapturer)||void 0===r?void 0:r.getSources({types:t}))||i.ipcRenderer.invoke(\"DESKTOP_CAPTURER_GET_SOURCES\",{types:t})}catch(e){n=null}n&&n.then||(n=new tg(((e,n)=>{i.desktopCapturer.getSources({types:t},((t,i)=>{t?n(t):e(i)}))})));try{return await n}catch(e){throw new Vg(xg.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}function RA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const CA=new YT(\"safari\");let vA=!1,IA=!1;async function yA(e,t){let i=0,n=null;for(;i<2;)try{n=await AA(e,t,i>0);break}catch(e){if(e instanceof Vg)throw KC.error(\"[\".concat(t,\"] \").concat(e.toString())),e;const n=bA(e.name||e.code||e,e.message);if(n.code===xg.MEDIA_OPTION_INVALID){KC.debug(\"[\".concat(t,\"] detect media option invalid, retry\")),i+=1,await UT(500);continue}throw KC.error(\"[\".concat(t,\"] \").concat(n.toString())),n}if(!n)throw new Vg(xg.UNEXPECTED_ERROR,\"can not find stream after getUserMedia\");return n}async function AA(e,t,i){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Vg(xg.NOT_SUPPORTED,\"can not find getUserMedia\");i&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const n=_A(),r=new MediaStream;if(e.audioSource&&r.addTrack(e.audioSource),e.videoSource&&r.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return KC.debug(\"Using Video Source/ Audio Source\"),r;if(e.screen)if(rT())if(e.screen.sourceId){wA(r,await gA(e.screen.sourceId,e.screen,e.screenAudio))}else{wA(r,await TA(e.screen,e.screenAudio))}else if(Tg()&&e.screen.extensionId&&e.screen.mandatory){if(!n.getStreamFromExtension)throw new Vg(xg.NOT_SUPPORTED,\"This browser does not support screen sharing\");KC.debug(\"[\".concat(t,'] Screen access on chrome stable, looking for extension\"'));const i=await(o=e.screen.extensionId,a=t,new tg(((e,t)=>{try{chrome.runtime.sendMessage(o,{getStream:!0},(i=>{if(!i||!i.streamId)return KC.error(\"[\".concat(a,\"] No response from Chrome Plugin. Plugin not installed properly\"),i),void t(new Vg(xg.CHROME_PLUGIN_NO_RESPONSE,\"No response from Chrome Plugin. Plugin not installed properly\"));e(i.streamId)}))}catch(e){KC.error(\"[\".concat(a,\"] AgoraRTC screensharing plugin is not accessible(\").concat(o,\")\"),e.toString()),t(new Vg(xg.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=i;wA(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(n.getDisplayMedia){var s;e.screen.mediaSource&&Py(e.screen.mediaSource);const i={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:null!==(s=e.screen.displaySurface)&&void 0!==s?s:\"screen\"===e.screen.mediaSource?\"monitor\":e.screen.mediaSource},{selfBrowserSurface:n,surfaceSwitching:o,systemAudio:a}=e.screen,c={selfBrowserSurface:n,surfaceSwitching:o,systemAudio:a};!n&&delete c.selfBrowserSurface,!o&&delete c.surfaceSwitching,!a&&delete c.systemAudio,KC.debug(\"[\".concat(t,\"] getDisplayMedia:\"),JSON.stringify({video:i,audio:!!e.screenAudio,controls:c}));const d=await navigator.mediaDevices.getDisplayMedia(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?RA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):RA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({video:i,audio:!!e.screenAudio},c));wA(r,d)}else{if(!Rg())throw KC.error(\"[\".concat(t,\"] This browser does not support screenSharing\")),new Vg(xg.NOT_SUPPORTED,\"This browser does not support screen sharing\");{e.screen.mediaSource&&Py(e.screen.mediaSource);const i={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};KC.debug(\"[\".concat(t,\"] getUserMedia: \").concat(JSON.stringify(i)));wA(r,await navigator.mediaDevices.getUserMedia(i))}}var o,a;if(!e.video&&!e.audio)return r;let c={video:e.video,audio:e.audio},d=kC(\"MEDIA_DEVICE_CONSTRAINTS\");if(d)try{\"string\"==typeof d&&(d=JSON.parse(d)),c=WT(c,d)}catch(e){}KC.debug(\"[\".concat(t,\"] GetUserMedia\"),JSON.stringify(c)),pg();let l,h=null;(Sg()||Cg()||mg())&&(h=await CA.lock());try{l=await navigator.mediaDevices.getUserMedia(c)}catch(e){throw h&&h(),e}return c.audio&&(vA=!0),c.video&&(IA=!0),wA(r,l),h&&h(),r}function bA(e,t){switch(e){case\"Starting video failed\":case\"OverconstrainedError\":case\"TrackStartError\":return new Vg(xg.MEDIA_OPTION_INVALID,\"\".concat(e,\": \").concat(t));case\"NotFoundError\":case\"DevicesNotFoundError\":return new Vg(xg.DEVICE_NOT_FOUND,\"\".concat(e,\": \").concat(t));case\"NotSupportedError\":return new Vg(xg.NOT_SUPPORTED,\"\".concat(e,\": \").concat(t));case\"NotReadableError\":return new Vg(xg.NOT_READABLE,\"\".concat(e,\": \").concat(t));case\"InvalidStateError\":case\"NotAllowedError\":case\"PERMISSION_DENIED\":case\"PermissionDeniedError\":return new Vg(xg.PERMISSION_DENIED,\"\".concat(e,\": \").concat(t));case\"ConstraintNotSatisfiedError\":return new Vg(xg.CONSTRAINT_NOT_SATISFIED,\"\".concat(e,\": \").concat(t));default:return KC.error(\"getUserMedia unexpected error\",e),new Vg(xg.UNEXPECTED_ERROR,\"\".concat(e,\": \").concat(t))}}function wA(e,t){const i=e.getVideoTracks()[0],n=e.getAudioTracks()[0],r=t.getVideoTracks()[0],s=t.getAudioTracks()[0];s&&(n&&e.removeTrack(n),e.addTrack(s)),r&&(i&&e.removeTrack(i),e.addTrack(r))}const OA=new class extends iT{get state(){return this._state}set state(e){e!==this._state&&(this.emit(Qy.STATE_CHANGE,e),this._state=e)}constructor(){super(),nu(this,\"_state\",Xy.IDLE),nu(this,\"isAccessMicrophonePermission\",!1),nu(this,\"isAccessCameraPermission\",!1),nu(this,\"lastAccessMicrophonePermission\",!1),nu(this,\"lastAccessCameraPermission\",!1),nu(this,\"checkdeviceMatched\",!1),nu(this,\"deviceInfoMap\",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener(\"devicechange\",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(kC(\"ENUMERATE_DEVICES_INTERVAL\")||(Mg()||_g()===ag.HARMONY_OS)&&kg())&&this.updateDevicesInfo()}),kC(\"ENUMERATE_DEVICES_INTERVAL_TIME\"))})).catch((e=>KC.error(e.toString())))}async enumerateDevices(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){return new Vg(xg.NOT_SUPPORTED,\"enumerateDevices() not supported.\").throw()}const n=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(n);let s=!this.isAccessMicrophonePermission&&e,o=!this.isAccessCameraPermission&&t;r.audio&&(s=!1),r.video&&(o=!1);let a=null,c=null,d=null;if(!i&&(s||o)){if(CA.isLocked){KC.debug(\"[device manager] wait GUM lock\");(await CA.lock())(),KC.debug(\"[device manager] GUM unlock\")}if(vA&&(s=!1,this.isAccessMicrophonePermission=!0),IA&&(o=!1,this.isAccessCameraPermission=!0),KC.debug(\"[device manager] check media device permissions\",e,t,s,o),s&&o){try{d=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=bA(e.name||e.code||e,e.message);if(t.code===xg.PERMISSION_DENIED)throw t;KC.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(s){try{a=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=bA(e.name||e.code||e,e.message);if(t.code===xg.PERMISSION_DENIED)throw t;KC.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessMicrophonePermission=!0}else if(o){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=bA(e.name||e.code||e,e.message);if(t.code===xg.PERMISSION_DENIED)throw t;KC.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0}KC.debug(\"[device manager] mic permission\",e,\"cam permission\",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return a&&a.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),d&&d.getTracks().forEach((e=>e.stop())),a=null,c=null,d=null,e}catch(e){a&&a.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),d&&d.getTracks().forEach((e=>e.stop())),a=null,c=null,d=null;return new Vg(xg.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>\"audioinput\"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>\"videoinput\"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>\"audiooutput\"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((i=>{i.device.label===e&&(t=i.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new Vg(xg.DEVICE_NOT_FOUND,\"deviceId: \".concat(e));return t}async init(){this.state=Xy.INITING;try{await this.updateDevicesInfo(),this.state=Xy.INITEND}catch(e){if(KC.warning(\"Device Detection functionality cannot start properly.\",e.toString()),this.state=Xy.IDLE,!(\"boolean\"==typeof isSecureContext?isSecureContext:\"https:\"===location.protocol||\"file:\"===location.protocol||\"localhost\"===location.hostname||\"127.0.0.1\"===location.hostname||\"::1\"===location.hostname)){new Vg(xg.WEB_SECURITY_RESTRICT,\"Your context is limited by web security, please try using https protocol or localhost.\").throw()}throw e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),i=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>\"audioinput\"===e.kind&&\"default\"===e.deviceId)),i=e.find((e=>\"audiooutput\"===e.kind&&\"default\"===e.deviceId));t&&i?i.groupId===t.groupId?KC.debug(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is the same group\")):KC.warning(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is not the same group\")):KC.debug(\"[device-check] default input or output not found\")}const n=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const n=this.deviceInfoMap.get(\"\".concat(e.kind,\"_\").concat(e.deviceId));if(\"ACTIVE\"!==(n?n.state:\"INACTIVE\")){const n={initAt:t,updateAt:t,device:e,state:\"ACTIVE\"};this.deviceInfoMap.set(\"\".concat(e.kind,\"_\").concat(e.deviceId),n),i.push(n)}n&&(n.updateAt=t)})),this.deviceInfoMap.forEach(((e,n)=>{\"ACTIVE\"===e.state&&e.updateAt!==t&&(e.state=\"INACTIVE\",i.push(e))})),this.state!==Xy.INITEND)return n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));i.forEach((e=>{switch(e.device.kind){case\"audioinput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Qy.RECORDING_DEVICE_CHANGED,e);break;case\"videoinput\":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(Qy.CAMERA_DEVICE_CHANGED,e);break;case\"audiooutput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Qy.PLAYOUT_DEVICE_CHANGED,e)}})),n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>\"audioinput\"===e.kind)),i=e.filter((e=>\"videoinput\"===e.kind)),n={audio:!1,video:!1};for(const e of t)if(e.label&&e.deviceId){n.audio=!0;break}for(const e of i)if(e.label&&e.deviceId){n.video=!0;break}return n}};let NA=!1;const DA=new class extends iT{constructor(){super(...arguments),nu(this,\"onAutoplayFailed\",void 0),nu(this,\"onAudioAutoplayFailed\",void 0)}};function PA(){if(pg(),!NA){const e=t=>{t.preventDefault(),NA=!1,Ug()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};NA=!0,Ug()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),KC.info(\"detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web\"),DA.onAutoplayFailed?DA.onAutoplayFailed():DA.onAudioAutoplayFailed?KC.warning(\"AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\\n\\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"):KC.warning(\"We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\\n\\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\\n\\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"),DA.emit(\"autoplay-failed\")}}function LA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function kA(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?LA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):LA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function MA(e,t,i,n){if(!e)return;const r=rv.getBaseInfoBySessionId(e);if(!r)return;const s=r.info,o=Date.now(),a=kA(kA({},s),{},{vid:void 0===s.vid?0:Number(s.vid),lts:o,elapse:o-r.startTime,cbRegistered:DA.onAutoplayFailed||DA.onAudioAutoplayFailed?1:-1,errorMsg:i,mediaType:t,trackId:n,extend:void 0});rv.send({type:QC.AUTOPLAY_FAILED,data:a},!0)}const UA=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"error\"],xA=new class{constructor(){nu(this,\"onAutoplayFailed\",void 0),nu(this,\"elementMap\",new Map),nu(this,\"elementStateMap\",new Map),nu(this,\"elementsNeedToResume\",[]),nu(this,\"sinkIdMap\",new Map),nu(this,\"autoResumeAfterInterruption\",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,i]=e;const n=this.elementStateMap.get(t),r=i.srcObject.getAudioTracks()[0];wg()?r&&\"live\"===r.readyState&&\"running\"===oA.curState&&(KC.debug(\"auto resume after interruption for iOS 15\"),i.pause(),i.play()):n&&\"paused\"===n&&r&&\"live\"===r.readyState&&\"running\"===oA.curState&&(KC.debug(\"auto resume after interruption for iOS\"),i.play())}))})),nu(this,\"autoResumeAfterInterruptionOnIOS15_16\",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,i]=e;const n=i.srcObject.getAudioTracks()[0];n&&\"live\"===n.readyState&&(KC.debug(\"auto resume after interruption inside autoResumeAfterInterruptionOnIOS15\"),i.pause(),i.play())}))})),this.autoResumeAudioElement(),oA.on(uy.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),oA.on(uy.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),oA.on(uy.STATE_CHANGE,(()=>{Cg()&&\"suspended\"===oA.prevState&&\"running\"===oA.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const i=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),i)try{await i.setSinkId(t)}catch(e){throw new Vg(xg.PERMISSION_DENIED,\"can not set sink id: \"+e.toString())}}play(e,t,i,n){if(this.elementMap.has(t))return;const r=document.createElement(\"audio\");r.autoplay=!0,r.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,r),this.elementMap.set(t,r),this.elementStateMap.set(t,Zy.INIT),this.setVolume(t,i);const s=this.sinkIdMap.get(t);if(s)try{r.setSinkId(s).catch((e=>{KC.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())}))}catch(e){KC.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())}const o=r.play();o&&o.then&&o.catch((e=>{n&&MA(n,\"audio\",e.message,t),KC.warning(\"audio element play warning\",e.toString()),this.elementMap.has(t)&&\"NotAllowedError\"===e.name&&(KC.warning(\"detected audio element autoplay failed\"),this.elementsNeedToResume.push(r),AT((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),PA()})))}))}updateTrack(e,t){const i=this.elementMap.get(e);i&&(i.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&\"playing\"===this.elementStateMap.get(e)}setVolume(e,t){const i=this.elementMap.get(e);i&&(t=Math.max(0,Math.min(100,t)),i.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const i=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(i,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){UA.forEach((i=>{t.addEventListener(i,(i=>{const n=this.elementStateMap.get(e),r=\"pause\"===i.type?\"paused\":i.type;if(KC.debug(\"[\".concat(e,\"] audio-element-status change \").concat(n,\" => \").concat(r)),\"error\"===i.type){const i=null==t?void 0:t.error;i&&KC.error(\"[\".concat(e,\"] media error, code: \").concat(i.code,\", message: \").concat(i.message))}this.elementStateMap.set(e,r)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||\"uninit\"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{KC.debug(\"Auto resume audio element success\")})).catch((e=>{KC.warning(\"Auto resume audio element failed!\",e)}))})),this.elementsNeedToResume=[]};new tg((e=>{document.body?e():window.addEventListener(\"load\",(()=>e()))})).then((()=>{Ug()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0))}))}};function VA(){return function(e,t,i){const n=i.value;return\"function\"==typeof n&&(i.value=function(){this._isClosed&&new Vg(xg.INVALID_OPERATION,\"[\".concat(this.getTrackId(),\"] cannot operate a closed track\")).print(\"warning\",KC);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const r=n.apply(this,t);return r instanceof tg?new tg(((e,t)=>{r.then(e).catch(t)})):r}),i}}function FA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function BA(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?FA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):FA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class jA extends iT{constructor(e){super(),nu(this,\"name\",\"VideoProcessorDestination\"),nu(this,\"ID\",\"0\"),nu(this,\"_source\",void 0),nu(this,\"videoContext\",void 0),nu(this,\"inputTrack\",void 0),this.videoContext=e}get kind(){return\"video\"}get enabled(){return!0}pipe(){throw new Vg(xg.NOT_SUPPORTED,\"VideoProcessor cannot pipe to any other Processor\")}unpipe(){throw new Vg(xg.NOT_SUPPORTED,\"VideoProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error(\"ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\\nProbably you are making pipeline like this:\\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).\");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(Jy.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(Jy.ON_TRACK,void 0)}}class GA extends iT{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),nu(this,\"constraintsMap\",new Map),nu(this,\"statsRegistry\",[]),nu(this,\"usageRegistry\",[]),nu(this,\"trackId\",void 0),nu(this,\"direction\",void 0),nu(this,\"_chained\",!1),this.trackId=e,this.direction=t}async getConstraints(){return await fT(this,zy.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var i;return KC.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),gT(this,zy.REQUEST_UPDATE_CONSTRAINTS,Array.from(kv(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return KC.info(\"processor \".concat(e.name,\" requestRevertConstraints for \").concat(this.trackId)),this.constraintsMap.delete(e),gT(this,zy.REQUEST_UPDATE_CONSTRAINTS,Array.from(kv(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t));-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const s=r();e.push({processorID:t,processorName:i,type:n,stats:s})}catch(e){KC.error(new Vg(xg.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof tg&&(i=await i),e.push(BA(BA({},i),{},{direction:this.direction}))}catch(e){KC.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class WA extends iT{constructor(e){super(),nu(this,\"name\",\"AudioProcessorDestination\"),nu(this,\"ID\",\"0\"),nu(this,\"inputTrack\",void 0),nu(this,\"inputNode\",void 0),nu(this,\"audioProcessorContext\",void 0),nu(this,\"_source\",void 0),this.audioProcessorContext=e}get kind(){return\"audio\"}get enabled(){return!0}pipe(){throw new Vg(xg.NOT_SUPPORTED,\"AudioProcessorDestination cannot pipe to any other Processor\")}unpipe(){throw new Vg(xg.NOT_SUPPORTED,\"AudioProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(Jy.ON_TRACK,void 0),this.emit(Jy.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error(\"ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).\");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(Jy.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(Jy.ON_NODE,this.inputNode))}}class HA extends iT{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,i){super(),nu(this,\"constraintsMap\",new Map),nu(this,\"statsRegistry\",[]),nu(this,\"audioContext\",void 0),nu(this,\"trackId\",void 0),nu(this,\"direction\",void 0),nu(this,\"usageRegistry\",[]),nu(this,\"_chained\",!1),this.audioContext=e,this.trackId=t,this.direction=i}async getConstraints(){return fT(this,zy.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var i;return KC.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),gT(this,zy.REQUEST_UPDATE_CONSTRAINTS,Array.from(kv(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),gT(this,zy.REQUEST_UPDATE_CONSTRAINTS,Array.from(kv(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t));-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const s=r();e.push({processorID:t,processorName:i,type:n,stats:s})}catch(e){KC.error(new Vg(xg.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof tg&&(i=await i),e.push(BA(BA({},i),{},{direction:this.direction}))}catch(e){KC.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class KA extends iT{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),nu(this,\"context\",void 0),nu(this,\"processSourceNode\",void 0),nu(this,\"outputTrack\",void 0),nu(this,\"processedNode\",void 0),nu(this,\"clonedTrack\",void 0),nu(this,\"outputNode\",void 0),this.outputNode=new YA}setVolume(){}createOutputTrack(){throw new Vg(xg.NOT_SUPPORTED,\"can not create output MediaStreamTrack when WebAudio disabled\")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class YA{disconnect(){}connect(){}}let qA=null;class JA{constructor(){nu(this,\"state\",\"open\"),nu(this,\"trigger\",void 0),nu(this,\"tasks\",[]),KC.debug(\"[macro-task-queue] is created.\"),this.trigger=window.setTimeout((()=>{this.state=\"closed\",KC.debug(\"[macro-task-queue] will be closed, all remaining tasks will execute. [\".concat(this.tasks.map((e=>e.key)),\"]\")),this.trigger=void 0,this.tasks.forEach((e=>{let{func:t}=e;return t()})),this.tasks.length=0,KC.debug(\"[macro-task-queue] is closed.\")}))}enqueue(e,t){\"closed\"!==this.state&&(this.tasks.push({key:e,func:t}),KC.debug(\"[macro-task-queue] is queued, current queue \".concat(this.tasks.length,\". \").concat(\"string\"==typeof e?e:\"\")))}runTask(e){if(\"closed\"===this.state)return;const t=this.tasks.findIndex((t=>t.key===e));if(-1!==t){const i=this.tasks.splice(t,1);KC.debug(\"[macro-task-queue] is unqueued, current queue \".concat(this.tasks.length,\". \").concat(\"string\"==typeof e?e:\"\")),i[0].func()}}release(){this.trigger&&(this.state=\"closed\",clearTimeout(this.trigger),this.trigger=void 0,this.tasks.length=0,KC.debug(\"[macro-task-queue] is closed.\"))}}function zA(e){return function(t,i,n){var r;const s=null!==(r=n.value)&&void 0!==r?r:n.get,o=function(){qA&&\"open\"===qA.state&&qA.runTask(e);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return null==s?void 0:s.apply(this,...i)};return n.value?n.value=o:n.get=o,n}}function XA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function QA(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?XA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):XA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class ZA extends iA{get _source(){return this._trackSource}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get processorDestination(){return this._processorDestination}set processorDestination(e){this._processorDestination=e}get isPlaying(){return this._useAudioElement?xA.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"LocalAudioTrack\"}constructor(e,t,i,n,r){super(e,i),nu(this,\"trackMediaType\",\"audio\"),nu(this,\"_encoderConfig\",void 0),nu(this,\"_trackSource\",void 0),nu(this,\"_enabled\",!0),nu(this,\"_volume\",100),nu(this,\"_useAudioElement\",!1),nu(this,\"_bypassWebAudio\",!1),nu(this,\"processor\",void 0),nu(this,\"_processorContext\",void 0),nu(this,\"_processorDestination\",void 0),nu(this,\"_getOriginVolumeLevel\",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!n;const s=()=>{this.processorContext=new HA(this._source.context,this.getTrackId(),\"local\"),this.processorDestination=new WA(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(jy.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))},o=r&&Sg()&&!dA();if(kC(\"DISABLE_WEBAUDIO\")?(this._source=new KA,this._useAudioElement=!0,this._bypassWebAudio=!0):o?this._source=new KA:(this._source=new fA(e,!1,this._getOriginVolumeLevel?e:void 0),kC(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")||(this._useAudioElement=!0)),s(),!kC(\"DISABLE_WEBAUDIO\")&&o){(qA||(qA=new JA),qA).enqueue(\"INIT_WEBAUDIO\",(()=>{this._source=new fA(e,!1,this._getOriginVolumeLevel?e:void 0),kC(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")||(this._useAudioElement=!0),s(),this.emit(Gy.UPDATE_TRACK_SOURCE)}))}}setVolume(e){jg(e,\"volume\",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&xA.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void KC.debug(\"[\".concat(this.getTrackId(),\"] setVolume returned because no pass through WebAudio.\"));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,gT(this,Ly.NEED_REPLACE_TRACK,this).then((()=>{KC.debug(\"[\".concat(this.getTrackId(),\"] replace web audio track success\"))})).catch((e=>{KC.warning(\"[\".concat(this.getTrackId(),\"] replace web audio track failed\"),e)})))}catch(e){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement)throw new Vg(xg.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await xA.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,i){return this._setEnabled(e,t,i)}async _setEnabled(e,t,i){if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(KC.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){this._originMediaStreamTrack.enabled=!0;try{i||(this._enabled=!0),await gT(this,Ly.NEED_ENABLE_TRACK,this),KC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to \").concat(e,\" success\"))}catch(e){throw i||(this._enabled=!1),KC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}}else{this._originMediaStreamTrack.enabled=!1,i||(this._enabled=!1);try{await gT(this,Ly.NEED_DISABLE_TRACK,this)}catch(e){throw i||(this._enabled=!0),KC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}}}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,KC.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await gT(this,Ly.NEED_MUTE_TRACK,this):await gT(this,Ly.NEED_UNMUTE_TRACK,this))}getStats(){NT((()=>{KC.warning(\"[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\")}),\"localAudioTrackGetStatsWarning\");const e=TT(this,Ly.GET_STATS);return e||QA({},Wy)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(jy.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(jy.ON_AUDIO_BUFFER),this._source.on(jy.ON_AUDIO_BUFFER,(t=>e(t)))}play(){KC.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._useAudioElement?(KC.debug(\"[\".concat(this.getTrackId(),\"] start audio playback in element\")),xA.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){KC.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._useAudioElement?xA.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];KC.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&xA.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this.processor.updateInput({track:e,context:this.processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await gT(this,Ly.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return tg.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new Vg(xg.INVALID_OPERATION,\"Can not process AudioTrack when bypassWebAudio set to true.\");if(this.processor===e)return e;if(e._source)throw new Vg(xg.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(Jy.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await gT(this,Ly.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await gT(this,Ly.NEED_REPLACE_TRACK,this))})),this.processorDestination.on(Jy.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Jy.ON_TRACK),this.processorDestination.removeAllListeners(Jy.ON_NODE)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(zy.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(zy.REQUEST_CONSTRAINTS)}}Mv([zA(\"INIT_WEBAUDIO\"),Uv(\"design:type\",Object),Uv(\"design:paramtypes\",[Object])],ZA.prototype,\"_source\",null),Mv([zA(\"INIT_WEBAUDIO\"),Uv(\"design:type\",HA),Uv(\"design:paramtypes\",[HA])],ZA.prototype,\"processorContext\",null),Mv([zA(\"INIT_WEBAUDIO\"),Uv(\"design:type\",WA),Uv(\"design:paramtypes\",[WA])],ZA.prototype,\"processorDestination\",null),Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Number]),Uv(\"design:returntype\",void 0)],ZA.prototype,\"setVolume\",null),Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],ZA.prototype,\"setPlaybackDevice\",null),Mv([qT(\"LocalAudioTrack\",\"_enabledMutex\"),nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Boolean,Object,Boolean]),Uv(\"design:returntype\",tg)],ZA.prototype,\"setEnabled\",null),Mv([qT(\"LocalAudioTrack\",\"_enabledMutex\"),nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Boolean]),Uv(\"design:returntype\",tg)],ZA.prototype,\"setMuted\",null),Mv([VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",Object)],ZA.prototype,\"getStats\",null),Mv([VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Number]),Uv(\"design:returntype\",void 0)],ZA.prototype,\"setAudioFrameCallback\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],ZA.prototype,\"play\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],ZA.prototype,\"stop\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],ZA.prototype,\"close\",null),Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",Object)],ZA.prototype,\"pipe\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],ZA.prototype,\"unpipe\",null);class $A extends ZA{get __className__(){return\"MicrophoneAudioTrack\"}constructor(e,t,i,n){super(e,t.encoderConfig?Ny(t.encoderConfig):{},n,kC(\"GET_VOLUME_OF_MUTED_AUDIO_TRACK\"),!0),nu(this,\"_config\",void 0),nu(this,\"_deviceName\",\"default\"),nu(this,\"_constraints\",void 0),nu(this,\"_originalConstraints\",void 0),nu(this,\"_enabled\",!0),this._config=t,this._constraints=i,this._originalConstraints=i,this._deviceName=e.label,\"boolean\"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),(wg()||Og())&&oA.bindInterruptDetectorTrack(this),this.on(Gy.UPDATE_TRACK_SOURCE,(()=>{this.bindProcessorContextEvents()})),dA()&&this.bindProcessorContextEvents()}async setDevice(e){if(KC.info(\"[\".concat(this.getTrackId(),\"] start set device to \").concat(e)),this._enabled)try{const t=await OA.getDeviceById(e),i={};i.audio=QA({},this._constraints),i.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let n=null;try{n=await yA(i,this.getTrackId())}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await yA({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await OA.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}KC.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e,\" success\"))}async setEnabled(e,t,i){if(t)return KC.debug(\"[\".concat(this.getTrackId(),\"] setEnabled false (do not close microphone)\")),await super._setEnabled(e);if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(KC.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){var n;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(n=this._source.clonedTrack)||void 0===n||n.stop(),i||(this._enabled=!1);try{await gT(this,Ly.NEED_DISABLE_TRACK,this)}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setEnabled false failed\"),e.toString()),e}return}const r=QA({},this._constraints),s=OA.searchDeviceIdByName(this._deviceName);s&&!r.deviceId&&(r.deviceId=s);try{i||(this._enabled=!0);const e=await yA({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await gT(this,Ly.NEED_ENABLE_TRACK,this)}catch(e){throw i||(this._enabled=!1),KC.error(\"[\".concat(this.getTrackId(),\"] setEnabled true failed\"),e.toString()),e}KC.info(\"[\".concat(this.getTrackId(),\"] setEnabled success\"))}close(){super.close(),(wg()||Og())&&oA.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((Cg()||Dg())&&this._enabled&&!this._isClosed&&oA.duringInterruption){const e=async()=>{oA.off(uy.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(KC.debug(\"[\".concat(this.getTrackId(),\"] try capture microphone media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};oA.on(uy.IOS_INTERRUPTION_END,e)}else KC.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(Fy.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=OA.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId=i),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await yA({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(){this.processorContext.on(zy.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}})),this.processorContext.on(zy.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],$A.prototype,\"setDevice\",null),Mv([qT(\"MicrophoneAudioTrack\",\"_enabledMutex\"),nv({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Boolean,Boolean,Boolean]),Uv(\"design:returntype\",tg)],$A.prototype,\"setEnabled\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],$A.prototype,\"close\",null);class eb extends ZA{get __className__(){return\"BufferSourceAudioTrack\"}constructor(e,t,i,n){super(t.createOutputTrack(),i,n),nu(this,\"source\",void 0),nu(this,\"_bufferSource\",void 0),this.source=e,this._bufferSource=t,this._bufferSource.on(jy.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.safeEmit(Fy.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e){jg(e,\"speed\",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",void 0)],eb.prototype,\"startProcessAudioBuffer\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],eb.prototype,\"pauseProcessAudioBuffer\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Number]),Uv(\"design:returntype\",void 0)],eb.prototype,\"seekAudioBuffer\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],eb.prototype,\"resumeProcessAudioBuffer\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],eb.prototype,\"stopProcessAudioBuffer\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],eb.prototype,\"close\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Number]),Uv(\"design:returntype\",void 0)],eb.prototype,\"setAudioBufferPlaybackSpeed\",null);class tb extends ZA{get __className__(){return\"MixingAudioTrack\"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=cA().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,xT(8,\"track-mix-\")),nu(this,\"trackList\",void 0),nu(this,\"destNode\",void 0);try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(KC.debug(\"add \".concat(e.getTrackId(),\" to mixing track\")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):KC.debug(\"track \".concat(e.getTrackId(),\" is already added\"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){KC.debug(\"remove \".concat(e.getTrackId(),\" from mixing track\"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}IT(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach((t=>{t instanceof tb?t.emit(Vy.TRANSCEIVER_UPDATED,e):t._updateRtpTransceiver(e)})))}}function ib(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const i=Ay(e.encoderConfig);return null!=i.width&&(t.width=i.width),null!=i.height&&(t.height=i.height),!Lg()&&i.frameRate&&(t.frameRate=i.frameRate),pg().name===cg.EDGE&&\"object\"==typeof t.frameRate&&(t.frameRate.max=60),Rg()&&(t.frameRate={ideal:30,max:30}),t}function nb(e){const t={};if(Lg()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,Tg()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){const i=Ny(e.encoderConfig);t.channelCount=i.stereo?2:1,t.sampleRate=i.sampleRate,t.sampleSize=i.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),Mg()&&(t.sampleRate=void 0),t}class rb extends mA{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(jy.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),nu(this,\"audioBuffer\",void 0),nu(this,\"sourceNode\",void 0),nu(this,\"startPlayTime\",0),nu(this,\"startPlayOffset\",0),nu(this,\"pausePlayTime\",0),nu(this,\"options\",void 0),nu(this,\"currentLoopCount\",0),nu(this,\"currentPlaybackSpeed\",100),nu(this,\"_currentState\",\"stopped\"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?\"stopped\"===this.currentState?0:\"paused\"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){\"stopped\"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):KC.warning(\"can not set audio source options\")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState=\"playing\"}pauseProcessAudioBuffer(){this.sourceNode&&\"playing\"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState=\"paused\")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,\"playing\"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),\"playing\"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):\"paused\"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){\"paused\"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState=\"playing\")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(e){this.sourceNode&&(\"playing\"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState=\"stopped\",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const sb=new Map;async function ob(e,t){let i=null;if(\"string\"==typeof e){const t=sb.get(e);if(t)return KC.debug(\"use cached audio resource: \",e),t;try{i=(await XT((()=>EC.get(e,{responseType:\"arraybuffer\"})),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new Vg(xg.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new tg(((t,i)=>{const n=new FileReader;n.onload=e=>{e.target?t(e.target.result):i(new Vg(xg.READ_LOCAL_AUDIO_FILE_ERROR))},n.onerror=()=>{i(new Vg(xg.READ_LOCAL_AUDIO_FILE_ERROR))},n.readAsArrayBuffer(e)}));i=await t}const n=await function(e){const t=cA();return new tg(((i,n)=>{t.decodeAudioData(e,(e=>{i(e)}),(e=>{n(new Vg(xg.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(i);return\"string\"==typeof e&&t&&sb.set(e,n),n}const ab=e=>{const t=document.createElement(\"canvas\");return t.width=2,t.height=2,new tg(((i,n)=>{t.toBlob((async e=>{if(t.remove(),e){const n=await cb(e);i({buffer:n,width:t.width,height:t.height})}else n(new Vg(xg.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},cb=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};const db=new class extends iT{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),nu(this,\"_lastHiddenTime\",0),nu(this,\"_lastVisibleTime\",0),document.addEventListener(\"visibilitychange\",(()=>{\"hidden\"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),KC.debug(\"document visibility went \".concat(document.visibilityState)),this.emit(\"VISIBILITY_CHANGE\",document.visibilityState)}))}};function lb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function hb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):lb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class ub{get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(KC.debug(\"[\".concat(this.trackId,\"] video-element-status change \").concat(this._videoElementStatus,\" => \").concat(e)),this._videoElementStatus=e)}constructor(e){nu(this,\"trackId\",void 0),nu(this,\"config\",void 0),nu(this,\"onFirstVideoFrameDecoded\",void 0),nu(this,\"freezeTimeCounterList\",[]),nu(this,\"renderFreezeAccTime\",0),nu(this,\"isKeepLastFrame\",!1),nu(this,\"timeUpdatedCount\",0),nu(this,\"freezeTime\",0),nu(this,\"playbackTime\",0),nu(this,\"lastTimeUpdatedTime\",0),nu(this,\"autoplayFailed\",!1),nu(this,\"videoTrack\",void 0),nu(this,\"videoElement\",void 0),nu(this,\"cacheVideoElement\",void 0),nu(this,\"videoElementCheckInterval\",void 0),nu(this,\"_videoElementStatus\",Zy.NONE),nu(this,\"isGettingVideoDimensions\",!1),nu(this,\"startGetVideoDimensions\",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return KC.debug(\"[\".concat(this.trackId,\"] current video dimensions:\"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),nu(this,\"autoResumeAfterInterruption\",(()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&\"running\"===oA.curState&&(KC.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(Eg())),Ng()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),nu(this,\"handleVideoEvents\",(e=>{switch(e.type){case\"play\":case\"playing\":this.startGetVideoDimensions(),this.videoElementStatus=Zy.PLAYING;break;case\"loadeddata\":if(this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(e){}this.cacheVideoElement=void 0}break;case\"canplay\":this.videoElementStatus=Zy.CANPLAY;break;case\"stalled\":this.videoElementStatus=Zy.STALLED;break;case\"suspend\":this.videoElementStatus=Zy.SUSPEND;break;case\"pause\":this.videoElementStatus=Zy.PAUSED,Cg()||Dg()||Sg()&&this.autoplayFailed||!this.videoTrack||\"live\"!==this.videoTrack.readyState||(KC.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume\")),this.videoElement.play());break;case\"waiting\":this.videoElementStatus=Zy.WAITING;break;case\"abort\":this.videoElementStatus=Zy.ABORT;break;case\"ended\":this.videoElementStatus=Zy.ENDED;break;case\"emptied\":this.videoElementStatus=Zy.EMPTIED;break;case\"error\":{this.videoElementStatus=Zy.ERROR;const e=this.videoElement.error;e&&KC.error(\"[\".concat(this.trackId,\"] media error, code: \").concat(e.code,\", message: \").concat(e.message));break}case\"timeupdate\":{const e=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,i=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,db.lastVisibleTime<db.lastHiddenTime||i<db.lastHiddenTime||i<db.lastVisibleTime)return;for(t>kC(\"VIDEO_FREEZE_DURATION\")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}})),nu(this,\"autoResumeAfterInterruptionOnIOS15_16\",(()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&(KC.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(Eg())),Ng()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement(\"video\"),oA.on(uy.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),oA.on(uy.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}play(e){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&MA(e,\"video\",t.message,this.trackId),\"NotAllowedError\"===t.name?(KC.warning(\"detected video element autoplay failed\",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):KC.warning(\"[\".concat(this.trackId,\"] play warning: \"),t)}));const i=pg();if((\"Safari\"===i.name&&15===Number(i.version)||wg())&&t&&t.then){const e=()=>{this.config.mirror&&(this.videoElement.style.transform=\"rotateY(180deg)\")};t.then(e).catch(e)}}getCurrentFrame(){const e=document.createElement(\"canvas\");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext(\"2d\");if(!t)return KC.error(\"create canvas context failed!\"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const i=t.getImageData(0,0,e.width,e.height);return e.remove(),i}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.createElement(\"canvas\");i.width=this.videoElement.videoWidth,i.height=this.videoElement.videoHeight;const n=i.getContext(\"2d\");return n?(n.drawImage(this.videoElement,0,0,i.width,i.height),new tg(((n,r)=>{i.toBlob((async e=>{if(i.remove(),e){const t=await cb(e);n({buffer:t,width:i.width,height:i.height})}else r(new Vg(xg.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await ab(e)}destroy(){oA.off(uy.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),oA.off(uy.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[]}initVideoElement(){if(this.videoElementStatus=Zy.INIT,!this.videoElementCheckInterval&&(pb.forEach((e=>{this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{(function(e){return e!==document.body&&document.body.contains(e)})(this.videoElement)||(this.videoElementStatus=Zy.DESTROYED)}),1e3),kC(\"ENABLE_VIDEO_FRAME_CALLBACK\"))){var e,t;let i;const n=(e,t)=>{if(this.videoElementStatus===Zy.PLAYING){if(i){const e=t.presentationTime-i.presentationTime;e>kC(\"VIDEO_FREEZE_DURATION\")&&db.lastVisibleTime>=db.lastHiddenTime&&i.timestamp>db.lastVisibleTime&&i.timestamp>db.lastHiddenTime&&(this.renderFreezeAccTime+=e)}i=hb(hb({},t),{},{timestamp:e})}var r,s;kC(\"ENABLE_VIDEO_FRAME_CALLBACK\")&&(null===(r=(s=this.videoElement).requestVideoFrameCallback)||void 0===r||r.call(s,n))};null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e||e.call(t,n)}this.videoElement.controls=!1,this.videoElement.setAttribute(\"playsinline\",\"\"),Mg()&&(this.videoElement.poster=\"noposter\");const i=pg();if(\"Safari\"===i.name&&15===Number(i.version)||wg()||!this.config.mirror||(this.videoElement.style.transform=\"rotateY(180deg)\"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=\"cover\",this.videoElement.setAttribute(\"muted\",\"\"),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream){this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Rg()&&this.videoElement.load())}else this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Rg()&&this.videoElement.load();const n=this.videoElement.play();void 0!==n&&n.catch((e=>{KC.debug(\"[\".concat(this.trackId,\"] playback interrupted\"),e.toString())}))}resetVideoElement(){pb.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=Zy.NONE}handleAutoPlayFailed(){const e=t=>{t.preventDefault(),this.videoElement.play().then((()=>{KC.debug(\"[\".concat(this.trackId,\"] Video element for trackId:\").concat(this.trackId,\" autoplay resumed.\"))})).catch((e=>{KC.error(e)})),this.autoplayFailed=!1,Ug()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};Ug()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),PA()}}const pb=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"timeupdate\",\"error\"];class _b extends ub{constructor(e){super(e),nu(this,\"container\",void 0),nu(this,\"slot\",void 0),this.slot=e.element,this.updateConfig(e)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&super.play(e)}getCurrentFrame(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,i):await ab(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement(\"video\"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}}createElements(){this.container||(this.container=document.createElement(\"div\")),this.container.id=\"agora-video-player-\".concat(this.trackId),this.container.style.width=\"100%\",this.container.style.height=\"100%\",this.container.style.position=\"relative\",this.container.style.overflow=\"hidden\",this.videoTrack?(this.container.style.backgroundColor=\"black\",kC(\"KEEP_LAST_FRAME\")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id=\"video_\".concat(this.trackId),this.videoElement.className=\"agora_video_player\",this.videoElement.style.width=\"100%\",this.videoElement.style.height=\"100%\",this.videoElement.style.position=\"absolute\",this.videoElement.style.left=\"0\",this.videoElement.style.top=\"0\"}unmountedVideoElement(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=document.createElement(\"video\")}}resetVideoElement(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement(\"video\"))}getContainerElement(){return this.container}}function Eb(e){return new tg(((t,i)=>{let n=!1;const r=document.createElement(\"video\");r.setAttribute(\"autoplay\",\"\"),r.setAttribute(\"muted\",\"\"),r.muted=!0,r.autoplay=!0,r.setAttribute(\"playsinline\",\"\"),r.setAttribute(\"style\",\"position: fixed; top: 0; left: 0; width: 1px; height: 1px\"),document.body.appendChild(r);const s=Cg()?\"canplay\":\"playing\";r.addEventListener(s,(()=>{const e=r.videoWidth,i=r.videoHeight;!e&&Rg()||(n=!0,r.srcObject=null,r.remove(),t([e,i]))})),r.srcObject=new MediaStream([e]),r.play().catch(FT),setTimeout((()=>{n||(r.srcObject=null,r.remove(),t([r.videoWidth,r.videoHeight]))}),4e3)}))}const mb=async(e,t,i)=>{const n=function(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(e.slice(i,i+2),16));return Uint8Array.from(t)}(function(e){const t=\"0123456789abcdef\";function i(e){let i,n=\"\";for(i=0;i<=3;i++)n+=t.charAt(e>>8*i+4&15)+t.charAt(e>>8*i&15);return n}function n(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function r(e,t,i,r,s,o){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(r,o)),s),i)}function s(e,t,i,n,s,o,a){return r(t&i|~t&n,e,t,s,o,a)}function o(e,t,i,n,s,o,a){return r(t&n|i&~n,e,t,s,o,a)}function a(e,t,i,n,s,o,a){return r(t^i^n,e,t,s,o,a)}function c(e,t,i,n,s,o,a){return r(i^(t|~n),e,t,s,o,a)}const d=function(e){let t;const i=1+(e.length+8>>6),n=new Array(16*i);for(t=0;t<16*i;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<t%4*8;return n[t>>2]|=128<<t%4*8,n[16*i-2]=8*e.length,n}(e);let l,h,u,p,_,E=1732584193,m=-271733879,f=-1732584194,g=271733878;for(l=0;l<d.length;l+=16)h=E,u=m,p=f,_=g,E=s(E,m,f,g,d[l+0],7,-680876936),g=s(g,E,m,f,d[l+1],12,-389564586),f=s(f,g,E,m,d[l+2],17,606105819),m=s(m,f,g,E,d[l+3],22,-1044525330),E=s(E,m,f,g,d[l+4],7,-176418897),g=s(g,E,m,f,d[l+5],12,1200080426),f=s(f,g,E,m,d[l+6],17,-1473231341),m=s(m,f,g,E,d[l+7],22,-45705983),E=s(E,m,f,g,d[l+8],7,1770035416),g=s(g,E,m,f,d[l+9],12,-1958414417),f=s(f,g,E,m,d[l+10],17,-42063),m=s(m,f,g,E,d[l+11],22,-1990404162),E=s(E,m,f,g,d[l+12],7,1804603682),g=s(g,E,m,f,d[l+13],12,-40341101),f=s(f,g,E,m,d[l+14],17,-1502002290),m=s(m,f,g,E,d[l+15],22,1236535329),E=o(E,m,f,g,d[l+1],5,-165796510),g=o(g,E,m,f,d[l+6],9,-1069501632),f=o(f,g,E,m,d[l+11],14,643717713),m=o(m,f,g,E,d[l+0],20,-373897302),E=o(E,m,f,g,d[l+5],5,-701558691),g=o(g,E,m,f,d[l+10],9,38016083),f=o(f,g,E,m,d[l+15],14,-660478335),m=o(m,f,g,E,d[l+4],20,-405537848),E=o(E,m,f,g,d[l+9],5,568446438),g=o(g,E,m,f,d[l+14],9,-1019803690),f=o(f,g,E,m,d[l+3],14,-187363961),m=o(m,f,g,E,d[l+8],20,1163531501),E=o(E,m,f,g,d[l+13],5,-1444681467),g=o(g,E,m,f,d[l+2],9,-51403784),f=o(f,g,E,m,d[l+7],14,1735328473),m=o(m,f,g,E,d[l+12],20,-1926607734),E=a(E,m,f,g,d[l+5],4,-378558),g=a(g,E,m,f,d[l+8],11,-2022574463),f=a(f,g,E,m,d[l+11],16,1839030562),m=a(m,f,g,E,d[l+14],23,-35309556),E=a(E,m,f,g,d[l+1],4,-1530992060),g=a(g,E,m,f,d[l+4],11,1272893353),f=a(f,g,E,m,d[l+7],16,-155497632),m=a(m,f,g,E,d[l+10],23,-1094730640),E=a(E,m,f,g,d[l+13],4,681279174),g=a(g,E,m,f,d[l+0],11,-358537222),f=a(f,g,E,m,d[l+3],16,-722521979),m=a(m,f,g,E,d[l+6],23,76029189),E=a(E,m,f,g,d[l+9],4,-640364487),g=a(g,E,m,f,d[l+12],11,-421815835),f=a(f,g,E,m,d[l+15],16,530742520),m=a(m,f,g,E,d[l+2],23,-995338651),E=c(E,m,f,g,d[l+0],6,-198630844),g=c(g,E,m,f,d[l+7],10,1126891415),f=c(f,g,E,m,d[l+14],15,-1416354905),m=c(m,f,g,E,d[l+5],21,-57434055),E=c(E,m,f,g,d[l+12],6,1700485571),g=c(g,E,m,f,d[l+3],10,-1894986606),f=c(f,g,E,m,d[l+10],15,-1051523),m=c(m,f,g,E,d[l+1],21,-2054922799),E=c(E,m,f,g,d[l+8],6,1873313359),g=c(g,E,m,f,d[l+15],10,-30611744),f=c(f,g,E,m,d[l+6],15,-1560198380),m=c(m,f,g,E,d[l+13],21,1309151649),E=c(E,m,f,g,d[l+4],6,-145523070),g=c(g,E,m,f,d[l+11],10,-1120210379),f=c(f,g,E,m,d[l+2],15,718787259),m=c(m,f,g,E,d[l+9],21,-343485551),E=n(E,h),m=n(m,u),f=n(f,p),g=n(g,_);return i(E)+i(m)+i(f)+i(g)}(\"\"+t+i)).slice(0,16),r=n.slice(0,12),s=await window.crypto.subtle.importKey(\"raw\",n,\"AES-GCM\",!0,[\"encrypt\"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:r},s,e))},fb=async(e,t,i)=>await mb(e.buffer,t,i);function gb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Tb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?gb(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class Sb extends iA{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==Zy.PLAYING)}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get __className__(){return\"LocalVideoTrack\"}constructor(e,t,i,n,r,s){if(super(e,r),nu(this,\"trackMediaType\",\"video\"),nu(this,\"_player\",void 0),nu(this,\"isUseScaleResolutionDownBy\",!1),nu(this,\"_videoVisibleTimer\",null),nu(this,\"_statsTimer\",null),nu(this,\"_previousVideoVisibleStatus\",void 0),nu(this,\"_clearPreviousVideoVisibleStatus\",(()=>this._previousVideoVisibleStatus=void 0)),nu(this,\"_encoderConfig\",void 0),nu(this,\"_scalabilityMode\",{numSpatialLayers:1,numTemporalLayers:1}),nu(this,\"_optimizationMode\",void 0),nu(this,\"_videoHeight\",void 0),nu(this,\"_videoWidth\",void 0),nu(this,\"_forceBitrateLimit\",void 0),nu(this,\"_enabled\",!0),nu(this,\"processorDestination\",void 0),nu(this,\"_processorContext\",void 0),Sg()){const{width:t,height:i}=e.getSettings();this._videoWidth=t,this._videoHeight=i}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=t,this._scalabilityMode=i,this._optimizationMode=n,this._hints=s||[],-1===this._hints.indexOf(ky.SCREEN_TRACK))this.updateBitrateFromProfile();else if(function(e,t,i){const n=pg();return!(n.name!==e||!n.osVersion)&&(i?Number(n.version)>=t&&Number(n.version)<=i:Number(n.version)===t)}(cg.CHROME,115)&&-1!==_g().indexOf(\"Windows\")){const t=function(e,t){if(\"VideoFrame\"in window&&\"TransformStream\"in window&&_A().supportWebRTCInsertableStream){const i=new MediaStreamTrackProcessor(e),n=new MediaStreamTrackGenerator({kind:\"video\"});let r,s,o=Date.now();const a=()=>{c&&(clearInterval(c),c=void 0),r&&(r.close(),r=void 0),e.stop(),s=void 0,n.removeEventListener(\"ended\",a)};let c=window.setInterval((()=>{if(s&&r&&Date.now()-o>(null!=t?t:1e3))try{\"live\"===n.readyState?s.enqueue(r.clone()):a()}catch(e){a()}}),null!=t?t:1e3);const d=new TransformStream({transform:(e,t)=>{\"live\"===n.readyState?(s=t,o=Date.now(),void 0===r?(r=e,t.enqueue(e.clone())):(t.enqueue(r),r=e)):e.close()}});return n.addEventListener(\"ended\",a),i.readable.pipeThrough(d).pipeTo(n.writable),n}}(e);t&&(KC.info(\"local screen video track begin to inject frame\"),this._mediaStreamTrack=t)}t&&-1!==this._hints.indexOf(ky.CUSTOM_TRACK)&&this.setEncoderConfiguration(t),this.processorContext=new GA(this.getTrackId(),\"local\"),this.processorDestination=new jA(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(KC.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}KC.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=Tb(Tb(Tb({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new ub(i):this._player=new _b(i),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(Fy.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),kC(\"CHECK_VIDEO_VISIBLE_INTERVAL\"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._statsTimer&&(this.isUseScaleResolutionDownBy=!1,window.clearInterval(this._statsTimer),this._statsTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,KC.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(KC.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await gT(this,Ly.NEED_DISABLE_TRACK,this)}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}return t||(this._enabled=!1),void KC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}this._originMediaStreamTrack.enabled=!0;try{await gT(this,Ly.NEED_ENABLE_TRACK,this)}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}KC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,KC.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await gT(this,Ly.NEED_MUTE_TRACK,this):await gT(this,Ly.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(e,t){if(!this._enabled)throw new Vg(xg.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");if(\"720p_auto\"===e?this.startMonitorStats():this._statsTimer&&(window.clearInterval(this._statsTimer),this._statsTimer=null),e=Ay(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){const t=ib({encoderConfig:e});(Sg()||Cg()||Dg())&&(t.deviceId=void 0),KC.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(t));try{await this._originMediaStreamTrack.applyConstraints(t),this.updateMediaStreamTrackResolution()}catch(e){const t=new Vg(xg.UNEXPECTED_ERROR,e.toString());throw KC.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}}this._encoderConfig=e,-1===this._hints.indexOf(ky.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await gT(this,Ly.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(KC)}}getStats(){NT((()=>{KC.warning(\"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\")}),\"localVideoTrackGetStatsWarning\");const e=TT(this,Ly.GET_STATS);return e||Tb({},Hy)}async setBeautyEffect(e){KC.error(\"LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect\")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await ab(e)}async setBitrateLimit(e){if(KC.debug(\"[\".concat(this.getTrackId(),\"] set bitrate limit, \").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await gT(this,Ly.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(KC)}}}async setOptimizationMode(e){if(\"motion\"!==e&&\"detail\"!==e&&\"balanced\"!==e)return void KC.error(xg.INVALID_PARAMS,\"optimization mode must be motion, detail or balanced\");const t=this._optimizationMode;try{this._optimizationMode=e,await gT(this,Ly.SET_OPTIMIZATION_MODE,this)}catch(e){throw this._optimizationMode=t,KC.error(\"[\".concat(this.getTrackId(),\"] set optimization mode failed\"),e.toString()),e}KC.info(\"[\".concat(this.getTrackId(),\"] set optimization mode success (\").concat(e,\")\"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return KC.error(xg.INVALID_PARAMS,\"scalability mode currently not supported, no SVC.\"),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,KC.info(\"[\".concat(this.getTrackId(),\"] set scalability mode success (\").concat(e,\")\"))}updateMediaStreamTrackResolution(){Eb(this._originMediaStreamTrack).then((e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t})).catch(FT)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:\"contain\"}}async setSenderConfiguration(e){if(!this._enabled)throw new Vg(xg.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");KC.debug(\"[\".concat(this.getTrackId(),\"] setSenderConfiguration applyConstraints\"),JSON.stringify(e)),e=Ay(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),this._encoderConfig=e,-1===this._hints.indexOf(ky.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await gT(this,Ly.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(KC)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:i}=this.getMediaStreamTrackSettings();if(!e||!t||!i)return;const[n,r]=function(e,t,i,n){let r;const s=200*Math.pow(i/15,.6)*Math.pow(e*t/640/360,.75),o=s;if(\"STANDARD_BITRATE\"===n)r=4*s;else{if(\"COMPATIABLE_BITRATE\"!==n)return;r=2*s}return[Math.floor(r),Math.floor(o)]}(e,t,i,kC(\"BITRATE_ADAPTER_TYPE\"))||[void 0,void 0];this._encoderConfig.bitrateMin||this._encoderConfig.bitrateMax||(this._encoderConfig.bitrateMin=r,this._encoderConfig.bitrateMax=n,KC.debug(\"[\".concat(this.getTrackId(),\"] update bitrate from profile, [w: \").concat(e,\", h: \").concat(t,\", fps: \").concat(i,\"] => [brMax: \").concat(n,\", brMin: \").concat(r,\"]\")))}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:s}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&s instanceof HTMLElement){const e=Qg.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new Vg(xg.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new Vg(xg.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._encoderConfig;e&&(i=Tb(Tb({},i),Ay(e))),i=wT(i);const n=xT(8,\"track-video-cloned-\"),r=new Sb(t?this._mediaStreamTrack.clone():this._mediaStreamTrack,i,wT(this._scalabilityMode),this._optimizationMode,n,wT(this._hints));return e&&i&&r.setEncoderConfiguration(i),KC.debug(\"clone video track from \".concat(this.getTrackId(),\" to \").concat(n,\", clone \").concat(t)),r}async replaceTrack(e,t){if(!(e instanceof MediaStreamTrack))throw new Vg(xg.INVALID_PARAMS,\"track should be an instance of MediaStreamTrack\");if(\"video\"!==e.kind)throw new Vg(xg.INVALID_PARAMS,\"track should be a video MediaStreamTrack\");await this._updateOriginMediaStreamTrack(e,t,!0),this.updateMediaStreamTrackResolution()}startMonitorStats(){if(!Sg()&&!Cg())return;this._statsTimer&&window.clearInterval(this._statsTimer);let e=2,t=vy[e];let i=-1;let n=Date.now();const r=e=>{e>2||e<0||(n=Date.now(),t=vy[e],this.setSenderConfiguration(t))};this.isUseScaleResolutionDownBy=!0,this._statsTimer=window.setInterval((()=>{const s=this.getStats(),o=TT(this,Ly.GET_RTC_STATS);if(s.sendPackets>0&&o){-1===i&&(i=Date.now());const a=Date.now();if(a-i<1e3||a-n<kC(\"PROFILE_SWITCH_INTERVAL\"))return;const c=s.sendFrameRate,d=.6*t.frameRate,l=.9*t.frameRate;\"number\"==typeof c&&c>0&&c<d?e>0&&(e--,r(e),KC.debug(\"[\".concat(this.getTrackId(),\"] step down for fps \").concat(c,\", switchProfile to \").concat(e))):o.OutgoingAvailableBandwidth<t.bitrateMin?e>0&&(e--,r(e),KC.debug(\"[\".concat(this.getTrackId(),\"] step down for OutgoingAvailableBandwidth \").concat(o.OutgoingAvailableBandwidth,\", bitrateMin \").concat(t.bitrateMin,\", switchProfile to \").concat(e))):\"number\"==typeof c&&c>l&&e<vy.length-1&&o.OutgoingAvailableBandwidth>1.2*vy[e+1].bitrateMin&&(e++,r(e),KC.debug(\"[\".concat(this.getTrackId(),\"] step up for fps \").concat(c,\", OutgoingAvailableBandwidth \").concat(o.OutgoingAvailableBandwidth,\", switchProfile to \").concat(e)))}}),kC(\"CHECK_LOCAL_STATS_INTERVAL\"))}bindProcessorDestinationEvents(){this.processorDestination.on(Jy.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await gT(this,Ly.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await gT(this,Ly.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Jy.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(zy.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(zy.REQUEST_CONSTRAINTS)}}Mv([nv({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Object]),Uv(\"design:returntype\",void 0)],Sb.prototype,\"play\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],Sb.prototype,\"stop\",null),Mv([qT(\"LocalVideoTrack\",\"_enabledMutex\"),nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Boolean,Boolean]),Uv(\"design:returntype\",tg)],Sb.prototype,\"setEnabled\",null),Mv([qT(\"LocalVideoTrack\",\"_enabledMutex\"),nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Boolean]),Uv(\"design:returntype\",tg)],Sb.prototype,\"setMuted\",null),Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Boolean]),Uv(\"design:returntype\",tg)],Sb.prototype,\"setEncoderConfiguration\",null),Mv([VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",Object)],Sb.prototype,\"getStats\",null),Mv([nv({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Boolean,Object]),Uv(\"design:returntype\",tg)],Sb.prototype,\"setBeautyEffect\",null),Mv([VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",ImageData)],Sb.prototype,\"getCurrentFrameData\",null),Mv([VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,Number]),Uv(\"design:returntype\",tg)],Sb.prototype,\"getCurrentFrameImage\",null),Mv([VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",tg)],Sb.prototype,\"setBitrateLimit\",null),Mv([VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],Sb.prototype,\"setOptimizationMode\",null),Mv([VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",void 0)],Sb.prototype,\"setScalabiltyMode\",null),Mv([VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],Sb.prototype,\"updateMediaStreamTrackResolution\",null),Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",Object)],Sb.prototype,\"pipe\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],Sb.prototype,\"unpipe\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],Sb.prototype,\"close\",null),Mv([nv({argsMap:(e,t,i)=>[e.getTrackId(),t.label,i]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[MediaStreamTrack,Boolean]),Uv(\"design:returntype\",tg)],Sb.prototype,\"replaceTrack\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],Sb.prototype,\"startMonitorStats\",null);class Rb extends Sb{get __className__(){return\"CameraVideoTrack\"}constructor(e,t,i,n,r,s){super(e,Ay(t.encoderConfig),n,r,s),nu(this,\"_config\",void 0),nu(this,\"_originalConstraints\",void 0),nu(this,\"_constraints\",void 0),nu(this,\"_enabled\",!0),nu(this,\"_deviceName\",\"default\"),nu(this,\"tryResumeVideoForIOS15_16WeChat\",(async()=>{(wg()||Og())&&!function(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=2}()&&Pg()&&this._enabled&&!this._isClosed&&(KC.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS 15 device on WeChat.\")),await this.renewMediaStreamTrack())})),this._config=t,this._originalConstraints=i,this._constraints=i,this._deviceName=e.label,this._encoderConfig=Ay(this._config.encoderConfig),oA.on(uy.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),oA.on(uy.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e){return\"string\"==typeof e?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(KC.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e)),this._enabled)try{const t=await OA.getDeviceById(e),i={};i.video=Tb({},this._constraints),i.video.deviceId={exact:e},i.video.facingMode=void 0,this._originMediaStreamTrack.stop();let n=null;try{n=await yA(i,this.getTrackId())}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await yA({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await OA.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}KC.info(\"[\".concat(this.getTrackId(),\"] setDevice success\"))}async _setDeviceByFacingModel(e){KC.info(\"[\".concat(this.getTrackId(),\"] set facingMode \").concat(e));const t={video:Tb(Tb({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let e=null;try{e=await yA(t,this.getTrackId())}catch(t){throw KC.error(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel failed\"),t.toString()),e=await yA({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName=\"\",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=Tb({},t.video),KC.info(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel success\"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(KC.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const e=await yA({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1)}await gT(this,Ly.NEED_ENABLE_TRACK,this)}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setEnabled true error\"),e.toString()),e}this.updateMediaStreamTrackResolution(),KC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t||(this._enabled=!1);try{await gT(this,Ly.NEED_DISABLE_TRACK,this)}catch(e){throw KC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}KC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new Vg(xg.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");\"720p_auto\"===e?this.startMonitorStats():this._statsTimer&&(window.clearInterval(this._statsTimer),this._statsTimer=null),e=Ay(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin);const i=bT(this._config);i.encoderConfig=e;const n=ib(i);(Sg()||Cg()||Dg())&&(n.deviceId=void 0),KC.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(n));try{await this._originMediaStreamTrack.applyConstraints(n),this.updateMediaStreamTrackResolution()}catch(e){const t=new Vg(xg.UNEXPECTED_ERROR,e.toString());throw KC.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}this._config=i,this._constraints=n,this._originalConstraints=n,this._encoderConfig=e,-1===this._hints.indexOf(ky.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await gT(this,Ly.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(KC)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:\"cover\"}}onTrackEnded(){if((Cg()||Dg())&&this._enabled&&!this._isClosed&&oA.duringInterruption){const e=async()=>{oA.off(uy.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(KC.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};oA.on(uy.IOS_INTERRUPTION_END,e)}else KC.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(Fy.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=OA.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId={exact:i}),this._enabled){const e=await yA({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),oA.off(uy.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),oA.off(uy.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._encoderConfig;e&&(i=Tb(Tb({},i),Ay(e))),i=wT(i);const n=xT(8,\"track-cam-cloned-\"),r=new Rb(t?this._mediaStreamTrack.clone():this._mediaStreamTrack,wT(Tb(Tb({},this._config),{},{encoderConfig:i})),wT(this._constraints),wT(this._scalabilityMode),this._optimizationMode,n);return e&&i&&r.setEncoderConfiguration(i),KC.debug(\"clone track from \".concat(this.getTrackId(),\" to \").concat(n,\", clone \").concat(t)),r}bindProcessorContextEvents(){this.processorContext.on(zy.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}})),this.processorContext.on(zy.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}function Cb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Cb(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Cb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ib(e,t,i,n){i.optimizationMode&&(n&&n.width&&n.height?(i.encoderConfig=vb(vb({},n),{},{bitrateMin:n.bitrateMin,bitrateMax:n.bitrateMax}),\"motion\"!==i.optimizationMode&&\"detail\"!==i.optimizationMode||(t.contentHint=i.optimizationMode,t.contentHint===i.optimizationMode?KC.debug(\"[\".concat(e,\"] set content hint to\"),i.optimizationMode):KC.debug(\"[\".concat(e,\"] set content hint failed\")))):KC.warning(\"[\".concat(e,\"] can not apply optimization mode bitrate config, no encoderConfig\")))}function yb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ab(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",tg)],Rb.prototype,\"setDevice\",null),Mv([qT(\"CameraVideoTrack\",\"_enabledMutex\"),nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Boolean,Boolean]),Uv(\"design:returntype\",tg)],Rb.prototype,\"setEnabled\",null),Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t]}),VA(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Boolean]),Uv(\"design:returntype\",tg)],Rb.prototype,\"setEncoderConfiguration\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],Rb.prototype,\"close\",null);class bb extends tA{getUserId(){return this._userId}constructor(e,t,i,n){super(e,\"track-\".concat(e.kind,\"-\").concat(t,\"-\").concat(n.clientId,\"_\").concat(xT(5,\"\"))),nu(this,\"_userId\",void 0),nu(this,\"_uintId\",void 0),nu(this,\"_isDestroyed\",!1),nu(this,\"store\",void 0),nu(this,\"processor\",void 0),this._userId=t,this._uintId=i,this.store=n}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,KC.info(\"[\".concat(this.getTrackId(),\"] is destroyed\")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}class wb extends bb{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==Zy.PLAYING)}get __className__(){return\"RemoteVideoTrack\"}constructor(e,t,i,n){super(e,t,i,n),nu(this,\"_videoVisibleTimer\",null),nu(this,\"_previousVideoVisibleStatus\",void 0),nu(this,\"_clearPreviousVideoVisibleStatus\",(()=>this._previousVideoVisibleStatus=void 0)),nu(this,\"trackMediaType\",\"video\"),nu(this,\"_videoWidth\",void 0),nu(this,\"_videoHeight\",void 0),nu(this,\"_player\",void 0),nu(this,\"processorDestination\",void 0),nu(this,\"processorContext\",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new GA(this.getTrackId(),\"remote\"),this.processorDestination=new jA(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){NT((()=>{KC.warning(\"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\")}),\"remoteVideoTrackGetStatsWarning\");return TT(this,Ly.GET_STATS)||Ab({},qy)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(KC.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}KC.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=Ab(Ab({fit:\"cover\"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new ub(i):this._player=new _b(i),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),\"video\",void 0,void 0,Date.now()),this.safeEmit(By.FIRST_FRAME_DECODED)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(By.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),kC(\"CHECK_VIDEO_VISIBLE_INTERVAL\"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,KC.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){Eb(this._originMediaStreamTrack).then((e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t})).catch(FT)}_updatePlayerSource(){KC.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:s}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&s instanceof HTMLElement){const e=Qg.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new Vg(xg.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new Vg(xg.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(Jy.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Jy.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}}Mv([nv({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Object]),Uv(\"design:returntype\",void 0)],wb.prototype,\"play\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],wb.prototype,\"stop\",null),Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",Object)],wb.prototype,\"pipe\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],wb.prototype,\"unpipe\",null);class Ob extends bb{get isPlaying(){return this._useAudioElement?xA.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"RemoteAudioTrack\"}constructor(e,t,i,n){super(e,t,i,n),nu(this,\"trackMediaType\",\"audio\"),nu(this,\"_source\",void 0),nu(this,\"_useAudioElement\",!0),nu(this,\"_volume\",100),nu(this,\"processorContext\",void 0),nu(this,\"processorDestination\",void 0),nu(this,\"_played\",!1),nu(this,\"_bypassWebAudio\",!1),kC(\"DISABLE_WEBAUDIO\")?(this._source=new KA,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new fA(e,!0),kC(\"REMOTE_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1)),this._source.once(jy.RECEIVE_TRACK_BUFFER,(()=>{this.safeEmit(By.FIRST_FRAME_DECODED)})),this.processorContext=new HA(this._source.context,this.getTrackId(),\"remote\"),this.processorDestination=new WA(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(jy.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(jy.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(jy.ON_AUDIO_BUFFER),this._source.on(jy.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){this._volume=e,this._useAudioElement?xA.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement)throw new Vg(xg.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await xA.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){NT((()=>{KC.warning(\"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\")}),\"remoteAudioTrackGetStatsWarning\");return TT(this,Ly.GET_STATS)||Ab({},Ky)}play(){KC.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._played=!0,this._useAudioElement?(KC.debug(\"[\".concat(this.getTrackId(),\"] use audio element to play\")),xA.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){KC.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._played=!1,this._useAudioElement?xA.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];KC.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&xA.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"can not pipe extension when WebAudio disabled\");if(this.processor===e)return e;if(e._source)throw new Vg(xg.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"can not unpipe extension when WebAudio disabled\");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(Jy.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(Jy.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Jy.ON_TRACK),this.processorDestination.removeAllListeners(Jy.ON_NODE)}}Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Number]),Uv(\"design:returntype\",void 0)],Ob.prototype,\"setVolume\",null),Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],Ob.prototype,\"setPlaybackDevice\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],Ob.prototype,\"play\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],Ob.prototype,\"stop\",null),Mv([nv({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",Object)],Ob.prototype,\"pipe\",null),Mv([nv({argsMap:e=>[e.getTrackId()]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],Ob.prototype,\"unpipe\",null);function Nb(e){let t=e.length;for(;--t>=0;)e[t]=0}const Db=256,Pb=286,Lb=30,kb=15,Mb=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ub=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),xb=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Vb=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fb=new Array(576);Nb(Fb);const Bb=new Array(60);Nb(Bb);const jb=new Array(512);Nb(jb);const Gb=new Array(256);Nb(Gb);const Wb=new Array(29);Nb(Wb);const Hb=new Array(Lb);function Kb(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}let Yb,qb,Jb;function zb(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Nb(Hb);const Xb=e=>e<256?jb[e]:jb[256+(e>>>7)],Qb=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Zb=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,Qb(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},$b=(e,t,i)=>{Zb(e,i[2*t],i[2*t+1])},ew=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},tw=(e,t,i)=>{const n=new Array(16);let r,s,o=0;for(r=1;r<=kb;r++)o=o+i[r-1]<<1,n[r]=o;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=ew(n[t]++,t))}},iw=e=>{let t;for(t=0;t<Pb;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Lb;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},nw=e=>{e.bi_valid>8?Qb(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},rw=(e,t,i,n)=>{const r=2*t,s=2*i;return e[r]<e[s]||e[r]===e[s]&&n[t]<=n[i]},sw=(e,t,i)=>{const n=e.heap[i];let r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&rw(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!rw(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},ow=(e,t,i)=>{let n,r,s,o,a=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+a++],n+=(255&e.pending_buf[e.sym_buf+a++])<<8,r=e.pending_buf[e.sym_buf+a++],0===n?$b(e,r,t):(s=Gb[r],$b(e,s+Db+1,t),o=Mb[s],0!==o&&(r-=Wb[s],Zb(e,r,o)),n--,s=Xb(n),$b(e,s,i),o=Ub[s],0!==o&&(n-=Hb[s],Zb(e,n,o)))}while(a<e.sym_next);$b(e,256,t)},aw=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,c,d=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<s;o++)0!==i[2*o]?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):i[2*o+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=d<2?++d:0,i[2*c]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=n[2*c+1]);for(t.max_code=d,o=e.heap_len>>1;o>=1;o--)sw(e,i,o);c=s;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],sw(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,i[2*c]=i[2*o]+i[2*a],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,i[2*o+1]=i[2*a+1]=c,e.heap[1]=c++,sw(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,l,h,u,p,_,E=0;for(u=0;u<=kb;u++)e.bl_count[u]=0;for(i[2*e.heap[e.heap_max]+1]=0,d=e.heap_max+1;d<573;d++)l=e.heap[d],u=i[2*i[2*l+1]+1]+1,u>c&&(u=c,E++),i[2*l+1]=u,l>n||(e.bl_count[u]++,p=0,l>=a&&(p=o[l-a]),_=i[2*l],e.opt_len+=_*(u+p),s&&(e.static_len+=_*(r[2*l+1]+p)));if(0!==E){do{for(u=c-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[c]--,E-=2}while(E>0);for(u=c;0!==u;u--)for(l=e.bl_count[u];0!==l;)h=e.heap[--d],h>n||(i[2*h+1]!==u&&(e.opt_len+=(u-i[2*h+1])*i[2*h],i[2*h+1]=u),l--)}})(e,t),tw(i,d,e.bl_count)},cw=(e,t,i)=>{let n,r,s=-1,o=t[1],a=0,c=7,d=4;for(0===o&&(c=138,d=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=t[2*(n+1)+1],++a<c&&r===o||(a<d?e.bl_tree[2*r]+=a:0!==r?(r!==s&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=r,0===o?(c=138,d=3):r===o?(c=6,d=3):(c=7,d=4))},dw=(e,t,i)=>{let n,r,s=-1,o=t[1],a=0,c=7,d=4;for(0===o&&(c=138,d=3),n=0;n<=i;n++)if(r=o,o=t[2*(n+1)+1],!(++a<c&&r===o)){if(a<d)do{$b(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==s&&($b(e,r,e.bl_tree),a--),$b(e,16,e.bl_tree),Zb(e,a-3,2)):a<=10?($b(e,17,e.bl_tree),Zb(e,a-3,3)):($b(e,18,e.bl_tree),Zb(e,a-11,7));a=0,s=r,0===o?(c=138,d=3):r===o?(c=6,d=3):(c=7,d=4)}};let lw=!1;const hw=(e,t,i,n)=>{Zb(e,0+(n?1:0),3),nw(e),Qb(e,i),Qb(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var uw=e=>{lw||((()=>{let e,t,i,n,r;const s=new Array(16);for(i=0,n=0;n<28;n++)for(Wb[n]=i,e=0;e<1<<Mb[n];e++)Gb[i++]=n;for(Gb[i-1]=n,r=0,n=0;n<16;n++)for(Hb[n]=r,e=0;e<1<<Ub[n];e++)jb[r++]=n;for(r>>=7;n<Lb;n++)for(Hb[n]=r<<7,e=0;e<1<<Ub[n]-7;e++)jb[256+r++]=n;for(t=0;t<=kb;t++)s[t]=0;for(e=0;e<=143;)Fb[2*e+1]=8,e++,s[8]++;for(;e<=255;)Fb[2*e+1]=9,e++,s[9]++;for(;e<=279;)Fb[2*e+1]=7,e++,s[7]++;for(;e<=287;)Fb[2*e+1]=8,e++,s[8]++;for(tw(Fb,287,s),e=0;e<Lb;e++)Bb[2*e+1]=5,Bb[2*e]=ew(e,5);Yb=new Kb(Fb,Mb,257,Pb,kb),qb=new Kb(Bb,Ub,0,Lb,kb),Jb=new Kb(new Array(0),xb,0,19,7)})(),lw=!0),e.l_desc=new zb(e.dyn_ltree,Yb),e.d_desc=new zb(e.dyn_dtree,qb),e.bl_desc=new zb(e.bl_tree,Jb),e.bi_buf=0,e.bi_valid=0,iw(e)},pw=(e,t,i,n)=>{let r,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<Db;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),aw(e,e.l_desc),aw(e,e.d_desc),o=(e=>{let t;for(cw(e,e.dyn_ltree,e.l_desc.max_code),cw(e,e.dyn_dtree,e.d_desc.max_code),aw(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Vb[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=r&&(r=s)):r=s=i+5,i+4<=r&&-1!==t?hw(e,t,i,n):4===e.strategy||s===r?(Zb(e,2+(n?1:0),3),ow(e,Fb,Bb)):(Zb(e,4+(n?1:0),3),((e,t,i,n)=>{let r;for(Zb(e,t-257,5),Zb(e,i-1,5),Zb(e,n-4,4),r=0;r<n;r++)Zb(e,e.bl_tree[2*Vb[r]+1],3);dw(e,e.dyn_ltree,t-1),dw(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),ow(e,e.dyn_ltree,e.dyn_dtree)),iw(e),n&&nw(e)},_w=(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(Gb[i]+Db+1)]++,e.dyn_dtree[2*Xb(t)]++),e.sym_next===e.sym_end),Ew={_tr_init:uw,_tr_stored_block:hw,_tr_flush_block:pw,_tr_tally:_w,_tr_align:e=>{Zb(e,2,3),$b(e,256,Fb),(e=>{16===e.bi_valid?(Qb(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var mw=(e,t,i,n)=>{let r=65535&e|0,s=e>>>16&65535|0,o=0;for(;0!==i;){o=i>2e3?2e3:i,i-=o;do{r=r+t[n++]|0,s=s+r|0}while(--o);r%=65521,s%=65521}return r|s<<16|0};const fw=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var gw=(e,t,i,n)=>{const r=fw,s=n+i;e^=-1;for(let i=n;i<s;i++)e=e>>>8^r[255&(e^t[i])];return-1^e},Tw={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"},Sw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Rw,_tr_stored_block:Cw,_tr_flush_block:vw,_tr_tally:Iw,_tr_align:yw}=Ew,{Z_NO_FLUSH:Aw,Z_PARTIAL_FLUSH:bw,Z_FULL_FLUSH:ww,Z_FINISH:Ow,Z_BLOCK:Nw,Z_OK:Dw,Z_STREAM_END:Pw,Z_STREAM_ERROR:Lw,Z_DATA_ERROR:kw,Z_BUF_ERROR:Mw,Z_DEFAULT_COMPRESSION:Uw,Z_FILTERED:xw,Z_HUFFMAN_ONLY:Vw,Z_RLE:Fw,Z_FIXED:Bw,Z_DEFAULT_STRATEGY:jw,Z_UNKNOWN:Gw,Z_DEFLATED:Ww}=Sw,Hw=286,Kw=30,Yw=19,qw=2*Hw+1,Jw=15,zw=258,Xw=262,Qw=42,Zw=113,$w=666,eO=(e,t)=>(e.msg=Tw[t],t),tO=e=>2*e-(e>4?9:0),iO=e=>{let t=e.length;for(;--t>=0;)e[t]=0},nO=e=>{let t,i,n,r=e.w_size;t=e.hash_size,n=t;do{i=e.head[--n],e.head[n]=i>=r?i-r:0}while(--t);t=r,n=t;do{i=e.prev[--n],e.prev[n]=i>=r?i-r:0}while(--t)};let rO=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const sO=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},oO=(e,t)=>{vw(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,sO(e.strm)},aO=(e,t)=>{e.pending_buf[e.pending++]=t},cO=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},dO=(e,t,i,n)=>{let r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),1===e.state.wrap?e.adler=mw(e.adler,t,r,i):2===e.state.wrap&&(e.adler=gw(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},lO=(e,t)=>{let i,n,r=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-Xw?e.strstart-(e.w_size-Xw):0,d=e.window,l=e.w_mask,h=e.prev,u=e.strstart+zw;let p=d[s+o-1],_=d[s+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(i=t,d[i+o]===_&&d[i+o-1]===p&&d[i]===d[s]&&d[++i]===d[s+1]){s+=2,i++;do{}while(d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&s<u);if(n=zw-(u-s),s=u-zw,n>o){if(e.match_start=t,o=n,n>=a)break;p=d[s+o-1],_=d[s+o]}}}while((t=h[t&l])>c&&0!=--r);return o<=e.lookahead?o:e.lookahead},hO=e=>{const t=e.w_size;let i,n,r;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Xw)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),nO(e),n+=t),0===e.strm.avail_in)break;if(i=dO(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=rO(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=rO(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Xw&&0!==e.strm.avail_in)},uO=(e,t)=>{let i,n,r,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,a=e.strm.avail_in;do{if(i=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,n=e.strstart-e.block_start,i>n+e.strm.avail_in&&(i=n+e.strm.avail_in),i>r&&(i=r),i<s&&(0===i&&t!==Ow||t===Aw||i!==n+e.strm.avail_in))break;o=t===Ow&&i===n+e.strm.avail_in?1:0,Cw(e,0,0,o),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,sO(e.strm),n&&(n>i&&(n=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,i-=n),i&&(dO(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===o);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==Aw&&t!==Ow&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(dO(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,s=r>e.w_size?e.w_size:r,n=e.strstart-e.block_start,(n>=s||(n||t===Ow)&&t!==Aw&&0===e.strm.avail_in&&n<=r)&&(i=n>r?r:n,o=t===Ow&&0===e.strm.avail_in&&i===n?1:0,Cw(e,e.block_start,i,o),e.block_start+=i,sO(e.strm)),o?3:1)},pO=(e,t)=>{let i,n;for(;;){if(e.lookahead<Xw){if(hO(e),e.lookahead<Xw&&t===Aw)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=rO(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-Xw&&(e.match_length=lO(e,i)),e.match_length>=3)if(n=Iw(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=rO(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=rO(e,e.ins_h,e.window[e.strstart+1]);else n=Iw(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(oO(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Ow?(oO(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(oO(e,!1),0===e.strm.avail_out)?1:2},_O=(e,t)=>{let i,n,r;for(;;){if(e.lookahead<Xw){if(hO(e),e.lookahead<Xw&&t===Aw)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=rO(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-Xw&&(e.match_length=lO(e,i),e.match_length<=5&&(e.strategy===xw||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=Iw(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=rO(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(oO(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Iw(e,0,e.window[e.strstart-1]),n&&oO(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Iw(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Ow?(oO(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(oO(e,!1),0===e.strm.avail_out)?1:2};function EO(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}const mO=[new EO(0,0,0,0,uO),new EO(4,4,8,4,pO),new EO(4,5,16,8,pO),new EO(4,6,32,32,pO),new EO(4,4,16,16,_O),new EO(8,16,32,32,_O),new EO(8,16,128,128,_O),new EO(8,32,128,256,_O),new EO(32,128,258,1024,_O),new EO(32,258,258,4096,_O)];function fO(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ww,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*qw),this.dyn_dtree=new Uint16Array(2*(2*Kw+1)),this.bl_tree=new Uint16Array(2*(2*Yw+1)),iO(this.dyn_ltree),iO(this.dyn_dtree),iO(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Jw+1),this.heap=new Uint16Array(2*Hw+1),iO(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Hw+1),iO(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const gO=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Qw&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Zw&&t.status!==$w?1:0},TO=e=>{if(gO(e))return eO(e,Lw);e.total_in=e.total_out=0,e.data_type=Gw;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Qw:Zw,e.adler=2===t.wrap?0:1,t.last_flush=-2,Rw(t),Dw},SO=e=>{const t=TO(e);var i;return t===Dw&&((i=e.state).window_size=2*i.w_size,iO(i.head),i.max_lazy_match=mO[i.level].max_lazy,i.good_match=mO[i.level].good_length,i.nice_match=mO[i.level].nice_length,i.max_chain_length=mO[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},RO=(e,t,i,n,r,s)=>{if(!e)return Lw;let o=1;if(t===Uw&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>9||i!==Ww||n<8||n>15||t<0||t>9||s<0||s>Bw||8===n&&1!==o)return eO(e,Lw);8===n&&(n=9);const a=new fO;return e.state=a,a.strm=e,a.status=Qw,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=s,a.method=i,SO(e)};var CO=(e,t)=>{if(gO(e)||t>Nw||t<0)return e?eO(e,Lw):Lw;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===$w&&t!==Ow)return eO(e,0===e.avail_out?Mw:Lw);const n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(sO(e),0===e.avail_out)return i.last_flush=-1,Dw}else if(0===e.avail_in&&tO(t)<=tO(n)&&t!==Ow)return eO(e,Mw);if(i.status===$w&&0!==e.avail_in)return eO(e,Mw);if(i.status===Qw&&0===i.wrap&&(i.status=Zw),i.status===Qw){let t=Ww+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=Vw||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,cO(i,t),0!==i.strstart&&(cO(i,e.adler>>>16),cO(i,65535&e.adler)),e.adler=1,i.status=Zw,sO(e),0!==i.pending)return i.last_flush=-1,Dw}if(57===i.status)if(e.adler=0,aO(i,31),aO(i,139),aO(i,8),i.gzhead)aO(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),aO(i,255&i.gzhead.time),aO(i,i.gzhead.time>>8&255),aO(i,i.gzhead.time>>16&255),aO(i,i.gzhead.time>>24&255),aO(i,9===i.level?2:i.strategy>=Vw||i.level<2?4:0),aO(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(aO(i,255&i.gzhead.extra.length),aO(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=gw(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(aO(i,0),aO(i,0),aO(i,0),aO(i,0),aO(i,0),aO(i,9===i.level?2:i.strategy>=Vw||i.level<2?4:0),aO(i,3),i.status=Zw,sO(e),0!==i.pending)return i.last_flush=-1,Dw;if(69===i.status){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let r=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+r),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=gw(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=r,sO(e),0!==i.pending)return i.last_flush=-1,Dw;t=0,n-=r}let r=new Uint8Array(i.gzhead.extra);i.pending_buf.set(r.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=gw(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=gw(e.adler,i.pending_buf,i.pending-n,n)),sO(e),0!==i.pending)return i.last_flush=-1,Dw;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,aO(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=gw(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=gw(e.adler,i.pending_buf,i.pending-n,n)),sO(e),0!==i.pending)return i.last_flush=-1,Dw;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,aO(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=gw(e.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(sO(e),0!==i.pending))return i.last_flush=-1,Dw;aO(i,255&e.adler),aO(i,e.adler>>8&255),e.adler=0}if(i.status=Zw,sO(e),0!==i.pending)return i.last_flush=-1,Dw}if(0!==e.avail_in||0!==i.lookahead||t!==Aw&&i.status!==$w){let n=0===i.level?uO(i,t):i.strategy===Vw?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(hO(e),0===e.lookahead)){if(t===Aw)return 1;break}if(e.match_length=0,i=Iw(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(oO(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ow?(oO(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(oO(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===Fw?((e,t)=>{let i,n,r,s;const o=e.window;for(;;){if(e.lookahead<=zw){if(hO(e),e.lookahead<=zw&&t===Aw)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,n=o[r],n===o[++r]&&n===o[++r]&&n===o[++r])){s=e.strstart+zw;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<s);e.match_length=zw-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=Iw(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=Iw(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(oO(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ow?(oO(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(oO(e,!1),0===e.strm.avail_out)?1:2})(i,t):mO[i.level].func(i,t);if(3!==n&&4!==n||(i.status=$w),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),Dw;if(2===n&&(t===bw?yw(i):t!==Nw&&(Cw(i,0,0,!1),t===ww&&(iO(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),sO(e),0===e.avail_out))return i.last_flush=-1,Dw}return t!==Ow?Dw:i.wrap<=0?Pw:(2===i.wrap?(aO(i,255&e.adler),aO(i,e.adler>>8&255),aO(i,e.adler>>16&255),aO(i,e.adler>>24&255),aO(i,255&e.total_in),aO(i,e.total_in>>8&255),aO(i,e.total_in>>16&255),aO(i,e.total_in>>24&255)):(cO(i,e.adler>>>16),cO(i,65535&e.adler)),sO(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Dw:Pw)},vO=(e,t)=>{let i=t.length;if(gO(e))return Lw;const n=e.state,r=n.wrap;if(2===r||1===r&&n.status!==Qw||n.lookahead)return Lw;if(1===r&&(e.adler=mw(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===r&&(iO(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,hO(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=rO(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,hO(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,n.wrap=r,Dw},IO={deflateInit:(e,t)=>RO(e,t,Ww,15,8,jw),deflateInit2:RO,deflateReset:SO,deflateResetKeep:TO,deflateSetHeader:(e,t)=>gO(e)||2!==e.state.wrap?Lw:(e.state.gzhead=t,Dw),deflate:CO,deflateEnd:e=>{if(gO(e))return Lw;const t=e.state.status;return e.state=null,t===Zw?eO(e,kw):Dw},deflateSetDictionary:vO,deflateInfo:\"pako deflate (from Nodeca project)\"};const yO=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var AO={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if(\"object\"!=typeof i)throw new TypeError(i+\"must be non-object\");for(const t in i)yO(i,t)&&(e[t]=i[t])}}return e},flattenChunks:e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,r=e.length;t<r;t++){let r=e[t];i.set(r,n),n+=r.length}return i}};let bO=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){bO=!1}const wO=new Uint8Array(256);for(let e=0;e<256;e++)wO[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;wO[254]=wO[254]=1;var OO={string2buf:e=>{if(\"function\"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,r,s,o=e.length,a=0;for(r=0;r<o;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<o&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),s=0,r=0;s<a;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<o&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?t[s++]=i:i<2048?(t[s++]=192|i>>>6,t[s++]=128|63&i):i<65536?(t[s++]=224|i>>>12,t[s++]=128|i>>>6&63,t[s++]=128|63&i):(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63,t[s++]=128|i>>>6&63,t[s++]=128|63&i);return t},buf2string:(e,t)=>{const i=t||e.length;if(\"function\"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,r;const s=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){s[r++]=t;continue}let o=wO[t];if(o>4)s[r++]=65533,n+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&n<i;)t=t<<6|63&e[n++],o--;o>1?s[r++]=65533:t<65536?s[r++]=t:(t-=65536,s[r++]=55296|t>>10&1023,s[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&bO)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i=\"\";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(s,r)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+wO[e[i]]>t?i:t}};var NO=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0};const DO=Object.prototype.toString,{Z_NO_FLUSH:PO,Z_SYNC_FLUSH:LO,Z_FULL_FLUSH:kO,Z_FINISH:MO,Z_OK:UO,Z_STREAM_END:xO,Z_DEFAULT_COMPRESSION:VO,Z_DEFAULT_STRATEGY:FO,Z_DEFLATED:BO}=Sw;function jO(e){this.options=AO.assign({level:VO,method:BO,chunkSize:16384,windowBits:15,memLevel:8,strategy:FO},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new NO,this.strm.avail_out=0;let i=IO.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==UO)throw new Error(Tw[i]);if(t.header&&IO.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e=\"string\"==typeof t.dictionary?OO.string2buf(t.dictionary):\"[object ArrayBuffer]\"===DO.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=IO.deflateSetDictionary(this.strm,e),i!==UO)throw new Error(Tw[i]);this._dict_set=!0}}function GO(e,t){const i=new jO(t);if(i.push(e,!0),i.err)throw i.msg||Tw[i.err];return i.result}jO.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let r,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?MO:PO,\"string\"==typeof e?i.input=OO.string2buf(e):\"[object ArrayBuffer]\"===DO.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(s===LO||s===kO)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(r=IO.deflate(i,s),r===xO)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=IO.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===UO;if(0!==i.avail_out){if(s>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},jO.prototype.onData=function(e){this.chunks.push(e)},jO.prototype.onEnd=function(e){e===UO&&(this.result=AO.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var WO={Deflate:jO,deflate:GO,deflateRaw:function(e,t){return(t=t||{}).raw=!0,GO(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,GO(e,t)},constants:Sw};const HO=16209;var KO=function(e,t){let i,n,r,s,o,a,c,d,l,h,u,p,_,E,m,f,g,T,S,R,C,v,I,y;const A=e.state;i=e.next_in,I=e.input,n=i+(e.avail_in-5),r=e.next_out,y=e.output,s=r-(t-e.avail_out),o=r+(e.avail_out-257),a=A.dmax,c=A.wsize,d=A.whave,l=A.wnext,h=A.window,u=A.hold,p=A.bits,_=A.lencode,E=A.distcode,m=(1<<A.lenbits)-1,f=(1<<A.distbits)-1;e:do{p<15&&(u+=I[i++]<<p,p+=8,u+=I[i++]<<p,p+=8),g=_[u&m];t:for(;;){if(T=g>>>24,u>>>=T,p-=T,T=g>>>16&255,0===T)y[r++]=65535&g;else{if(!(16&T)){if(0==(64&T)){g=_[(65535&g)+(u&(1<<T)-1)];continue t}if(32&T){A.mode=16191;break e}e.msg=\"invalid literal/length code\",A.mode=HO;break e}S=65535&g,T&=15,T&&(p<T&&(u+=I[i++]<<p,p+=8),S+=u&(1<<T)-1,u>>>=T,p-=T),p<15&&(u+=I[i++]<<p,p+=8,u+=I[i++]<<p,p+=8),g=E[u&f];i:for(;;){if(T=g>>>24,u>>>=T,p-=T,T=g>>>16&255,!(16&T)){if(0==(64&T)){g=E[(65535&g)+(u&(1<<T)-1)];continue i}e.msg=\"invalid distance code\",A.mode=HO;break e}if(R=65535&g,T&=15,p<T&&(u+=I[i++]<<p,p+=8,p<T&&(u+=I[i++]<<p,p+=8)),R+=u&(1<<T)-1,R>a){e.msg=\"invalid distance too far back\",A.mode=HO;break e}if(u>>>=T,p-=T,T=r-s,R>T){if(T=R-T,T>d&&A.sane){e.msg=\"invalid distance too far back\",A.mode=HO;break e}if(C=0,v=h,0===l){if(C+=c-T,T<S){S-=T;do{y[r++]=h[C++]}while(--T);C=r-R,v=y}}else if(l<T){if(C+=c+l-T,T-=l,T<S){S-=T;do{y[r++]=h[C++]}while(--T);if(C=0,l<S){T=l,S-=T;do{y[r++]=h[C++]}while(--T);C=r-R,v=y}}}else if(C+=l-T,T<S){S-=T;do{y[r++]=h[C++]}while(--T);C=r-R,v=y}for(;S>2;)y[r++]=v[C++],y[r++]=v[C++],y[r++]=v[C++],S-=3;S&&(y[r++]=v[C++],S>1&&(y[r++]=v[C++]))}else{C=r-R;do{y[r++]=y[C++],y[r++]=y[C++],y[r++]=y[C++],S-=3}while(S>2);S&&(y[r++]=y[C++],S>1&&(y[r++]=y[C++]))}break}}break}}while(i<n&&r<o);S=p>>3,i-=S,p-=S<<3,u&=(1<<p)-1,e.next_in=i,e.next_out=r,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=r<o?o-r+257:257-(r-o),A.hold=u,A.bits=p};const YO=15,qO=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),JO=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zO=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),XO=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var QO=(e,t,i,n,r,s,o,a)=>{const c=a.bits;let d,l,h,u,p,_,E=0,m=0,f=0,g=0,T=0,S=0,R=0,C=0,v=0,I=0,y=null;const A=new Uint16Array(16),b=new Uint16Array(16);let w,O,N,D=null;for(E=0;E<=YO;E++)A[E]=0;for(m=0;m<n;m++)A[t[i+m]]++;for(T=c,g=YO;g>=1&&0===A[g];g--);if(T>g&&(T=g),0===g)return r[s++]=20971520,r[s++]=20971520,a.bits=1,0;for(f=1;f<g&&0===A[f];f++);for(T<f&&(T=f),C=1,E=1;E<=YO;E++)if(C<<=1,C-=A[E],C<0)return-1;if(C>0&&(0===e||1!==g))return-1;for(b[1]=0,E=1;E<YO;E++)b[E+1]=b[E]+A[E];for(m=0;m<n;m++)0!==t[i+m]&&(o[b[t[i+m]]++]=m);if(0===e?(y=D=o,_=20):1===e?(y=qO,D=JO,_=257):(y=zO,D=XO,_=0),I=0,m=0,E=f,p=s,S=T,R=0,h=-1,v=1<<T,u=v-1,1===e&&v>852||2===e&&v>592)return 1;for(;;){w=E-R,o[m]+1<_?(O=0,N=o[m]):o[m]>=_?(O=D[o[m]-_],N=y[o[m]-_]):(O=96,N=0),d=1<<E-R,l=1<<S,f=l;do{l-=d,r[p+(I>>R)+l]=w<<24|O<<16|N|0}while(0!==l);for(d=1<<E-1;I&d;)d>>=1;if(0!==d?(I&=d-1,I+=d):I=0,m++,0==--A[E]){if(E===g)break;E=t[i+o[m]]}if(E>T&&(I&u)!==h){for(0===R&&(R=T),p+=f,S=E-R,C=1<<S;S+R<g&&(C-=A[S+R],!(C<=0));)S++,C<<=1;if(v+=1<<S,1===e&&v>852||2===e&&v>592)return 1;h=I&u,r[h]=T<<24|S<<16|p-s|0}}return 0!==I&&(r[p+I]=E-R<<24|64<<16|0),a.bits=T,0};const{Z_FINISH:ZO,Z_BLOCK:$O,Z_TREES:eN,Z_OK:tN,Z_STREAM_END:iN,Z_NEED_DICT:nN,Z_STREAM_ERROR:rN,Z_DATA_ERROR:sN,Z_MEM_ERROR:oN,Z_BUF_ERROR:aN,Z_DEFLATED:cN}=Sw,dN=16180,lN=16190,hN=16191,uN=16192,pN=16194,_N=16199,EN=16200,mN=16206,fN=16209,gN=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function TN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const SN=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<dN||t.mode>16211?1:0},RN=e=>{if(SN(e))return rN;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=dN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,tN},CN=e=>{if(SN(e))return rN;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,RN(e)},vN=(e,t)=>{let i;if(SN(e))return rN;const n=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?rN:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,CN(e))},IN=(e,t)=>{if(!e)return rN;const i=new TN;e.state=i,i.strm=e,i.window=null,i.mode=dN;const n=vN(e,t);return n!==tN&&(e.state=null),n};let yN,AN,bN=!0;const wN=e=>{if(bN){yN=new Int32Array(512),AN=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(QO(1,e.lens,0,288,yN,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;QO(2,e.lens,0,32,AN,0,e.work,{bits:5}),bN=!1}e.lencode=yN,e.lenbits=9,e.distcode=AN,e.distbits=5},ON=(e,t,i,n)=>{let r;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(i-s.wsize,i),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>n&&(r=n),s.window.set(t.subarray(i-n,i-n+r),s.wnext),(n-=r)?(s.window.set(t.subarray(i-n,i),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0};var NN=(e,t)=>{let i,n,r,s,o,a,c,d,l,h,u,p,_,E,m,f,g,T,S,R,C,v,I=0;const y=new Uint8Array(4);let A,b;const w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(SN(e)||!e.output||!e.input&&0!==e.avail_in)return rN;i=e.state,i.mode===hN&&(i.mode=uN),o=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,d=i.hold,l=i.bits,h=a,u=c,v=tN;e:for(;;)switch(i.mode){case dN:if(0===i.wrap){i.mode=uN;break}for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(2&i.wrap&&35615===d){0===i.wbits&&(i.wbits=15),i.check=0,y[0]=255&d,y[1]=d>>>8&255,i.check=gw(i.check,y,2,0),d=0,l=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg=\"incorrect header check\",i.mode=fN;break}if((15&d)!==cN){e.msg=\"unknown compression method\",i.mode=fN;break}if(d>>>=4,l-=4,C=8+(15&d),0===i.wbits&&(i.wbits=C),C>15||C>i.wbits){e.msg=\"invalid window size\",i.mode=fN;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&d?16189:hN,d=0,l=0;break;case 16181:for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(i.flags=d,(255&i.flags)!==cN){e.msg=\"unknown compression method\",i.mode=fN;break}if(57344&i.flags){e.msg=\"unknown header flags set\",i.mode=fN;break}i.head&&(i.head.text=d>>8&1),512&i.flags&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,i.check=gw(i.check,y,2,0)),d=0,l=0,i.mode=16182;case 16182:for(;l<32;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.head&&(i.head.time=d),512&i.flags&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,y[2]=d>>>16&255,y[3]=d>>>24&255,i.check=gw(i.check,y,4,0)),d=0,l=0,i.mode=16183;case 16183:for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&i.flags&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,i.check=gw(i.check,y,2,0)),d=0,l=0,i.mode=16184;case 16184:if(1024&i.flags){for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.length=d,i.head&&(i.head.extra_len=d),512&i.flags&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,i.check=gw(i.check,y,2,0)),d=0,l=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(p=i.length,p>a&&(p=a),p&&(i.head&&(C=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(s,s+p),C)),512&i.flags&&4&i.wrap&&(i.check=gw(i.check,n,p,s)),a-=p,s+=p,i.length-=p),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===a)break e;p=0;do{C=n[s+p++],i.head&&C&&i.length<65536&&(i.head.name+=String.fromCharCode(C))}while(C&&p<a);if(512&i.flags&&4&i.wrap&&(i.check=gw(i.check,n,p,s)),a-=p,s+=p,C)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===a)break e;p=0;do{C=n[s+p++],i.head&&C&&i.length<65536&&(i.head.comment+=String.fromCharCode(C))}while(C&&p<a);if(512&i.flags&&4&i.wrap&&(i.check=gw(i.check,n,p,s)),a-=p,s+=p,C)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(4&i.wrap&&d!==(65535&i.check)){e.msg=\"header crc mismatch\",i.mode=fN;break}d=0,l=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=hN;break;case 16189:for(;l<32;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}e.adler=i.check=gN(d),d=0,l=0,i.mode=lN;case lN:if(0===i.havedict)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,i.hold=d,i.bits=l,nN;e.adler=i.check=1,i.mode=hN;case hN:if(t===$O||t===eN)break e;case uN:if(i.last){d>>>=7&l,l-=7&l,i.mode=mN;break}for(;l<3;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}switch(i.last=1&d,d>>>=1,l-=1,3&d){case 0:i.mode=16193;break;case 1:if(wN(i),i.mode=_N,t===eN){d>>>=2,l-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg=\"invalid block type\",i.mode=fN}d>>>=2,l-=2;break;case 16193:for(d>>>=7&l,l-=7&l;l<32;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if((65535&d)!=(d>>>16^65535)){e.msg=\"invalid stored block lengths\",i.mode=fN;break}if(i.length=65535&d,d=0,l=0,i.mode=pN,t===eN)break e;case pN:i.mode=16195;case 16195:if(p=i.length,p){if(p>a&&(p=a),p>c&&(p=c),0===p)break e;r.set(n.subarray(s,s+p),o),a-=p,s+=p,c-=p,o+=p,i.length-=p;break}i.mode=hN;break;case 16196:for(;l<14;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(i.nlen=257+(31&d),d>>>=5,l-=5,i.ndist=1+(31&d),d>>>=5,l-=5,i.ncode=4+(15&d),d>>>=4,l-=4,i.nlen>286||i.ndist>30){e.msg=\"too many length or distance symbols\",i.mode=fN;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;l<3;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.lens[w[i.have++]]=7&d,d>>>=3,l-=3}for(;i.have<19;)i.lens[w[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,A={bits:i.lenbits},v=QO(0,i.lens,0,19,i.lencode,0,i.work,A),i.lenbits=A.bits,v){e.msg=\"invalid code lengths set\",i.mode=fN;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;I=i.lencode[d&(1<<i.lenbits)-1],m=I>>>24,f=I>>>16&255,g=65535&I,!(m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(g<16)d>>>=m,l-=m,i.lens[i.have++]=g;else{if(16===g){for(b=m+2;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(d>>>=m,l-=m,0===i.have){e.msg=\"invalid bit length repeat\",i.mode=fN;break}C=i.lens[i.have-1],p=3+(3&d),d>>>=2,l-=2}else if(17===g){for(b=m+3;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}d>>>=m,l-=m,C=0,p=3+(7&d),d>>>=3,l-=3}else{for(b=m+7;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}d>>>=m,l-=m,C=0,p=11+(127&d),d>>>=7,l-=7}if(i.have+p>i.nlen+i.ndist){e.msg=\"invalid bit length repeat\",i.mode=fN;break}for(;p--;)i.lens[i.have++]=C}}if(i.mode===fN)break;if(0===i.lens[256]){e.msg=\"invalid code -- missing end-of-block\",i.mode=fN;break}if(i.lenbits=9,A={bits:i.lenbits},v=QO(1,i.lens,0,i.nlen,i.lencode,0,i.work,A),i.lenbits=A.bits,v){e.msg=\"invalid literal/lengths set\",i.mode=fN;break}if(i.distbits=6,i.distcode=i.distdyn,A={bits:i.distbits},v=QO(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,A),i.distbits=A.bits,v){e.msg=\"invalid distances set\",i.mode=fN;break}if(i.mode=_N,t===eN)break e;case _N:i.mode=EN;case EN:if(a>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,i.hold=d,i.bits=l,KO(e,u),o=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,d=i.hold,l=i.bits,i.mode===hN&&(i.back=-1);break}for(i.back=0;I=i.lencode[d&(1<<i.lenbits)-1],m=I>>>24,f=I>>>16&255,g=65535&I,!(m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(f&&0==(240&f)){for(T=m,S=f,R=g;I=i.lencode[R+((d&(1<<T+S)-1)>>T)],m=I>>>24,f=I>>>16&255,g=65535&I,!(T+m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}d>>>=T,l-=T,i.back+=T}if(d>>>=m,l-=m,i.back+=m,i.length=g,0===f){i.mode=16205;break}if(32&f){i.back=-1,i.mode=hN;break}if(64&f){e.msg=\"invalid literal/length code\",i.mode=fN;break}i.extra=15&f,i.mode=16201;case 16201:if(i.extra){for(b=i.extra;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,l-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;I=i.distcode[d&(1<<i.distbits)-1],m=I>>>24,f=I>>>16&255,g=65535&I,!(m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(0==(240&f)){for(T=m,S=f,R=g;I=i.distcode[R+((d&(1<<T+S)-1)>>T)],m=I>>>24,f=I>>>16&255,g=65535&I,!(T+m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}d>>>=T,l-=T,i.back+=T}if(d>>>=m,l-=m,i.back+=m,64&f){e.msg=\"invalid distance code\",i.mode=fN;break}i.offset=g,i.extra=15&f,i.mode=16203;case 16203:if(i.extra){for(b=i.extra;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,l-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg=\"invalid distance too far back\",i.mode=fN;break}i.mode=16204;case 16204:if(0===c)break e;if(p=u-c,i.offset>p){if(p=i.offset-p,p>i.whave&&i.sane){e.msg=\"invalid distance too far back\",i.mode=fN;break}p>i.wnext?(p-=i.wnext,_=i.wsize-p):_=i.wnext-p,p>i.length&&(p=i.length),E=i.window}else E=r,_=o-i.offset,p=i.length;p>c&&(p=c),c-=p,i.length-=p;do{r[o++]=E[_++]}while(--p);0===i.length&&(i.mode=EN);break;case 16205:if(0===c)break e;r[o++]=i.length,c--,i.mode=EN;break;case mN:if(i.wrap){for(;l<32;){if(0===a)break e;a--,d|=n[s++]<<l,l+=8}if(u-=c,e.total_out+=u,i.total+=u,4&i.wrap&&u&&(e.adler=i.check=i.flags?gw(i.check,r,u,o-u):mw(i.check,r,u,o-u)),u=c,4&i.wrap&&(i.flags?d:gN(d))!==i.check){e.msg=\"incorrect data check\",i.mode=fN;break}d=0,l=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;l<32;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(4&i.wrap&&d!==(4294967295&i.total)){e.msg=\"incorrect length check\",i.mode=fN;break}d=0,l=0}i.mode=16208;case 16208:v=iN;break e;case fN:v=sN;break e;case 16210:return oN;default:return rN}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,i.hold=d,i.bits=l,(i.wsize||u!==e.avail_out&&i.mode<fN&&(i.mode<mN||t!==ZO))&&ON(e,e.output,e.next_out,u-e.avail_out),h-=e.avail_in,u-=e.avail_out,e.total_in+=h,e.total_out+=u,i.total+=u,4&i.wrap&&u&&(e.adler=i.check=i.flags?gw(i.check,r,u,e.next_out-u):mw(i.check,r,u,e.next_out-u)),e.data_type=i.bits+(i.last?64:0)+(i.mode===hN?128:0)+(i.mode===_N||i.mode===pN?256:0),(0===h&&0===u||t===ZO)&&v===tN&&(v=aN),v},DN={inflateReset:CN,inflateReset2:vN,inflateResetKeep:RN,inflateInit:e=>IN(e,15),inflateInit2:IN,inflate:NN,inflateEnd:e=>{if(SN(e))return rN;let t=e.state;return t.window&&(t.window=null),e.state=null,tN},inflateGetHeader:(e,t)=>{if(SN(e))return rN;const i=e.state;return 0==(2&i.wrap)?rN:(i.head=t,t.done=!1,tN)},inflateSetDictionary:(e,t)=>{const i=t.length;let n,r,s;return SN(e)?rN:(n=e.state,0!==n.wrap&&n.mode!==lN?rN:n.mode===lN&&(r=1,r=mw(r,t,i,0),r!==n.check)?sN:(s=ON(e,t,i,i),s?(n.mode=16210,oN):(n.havedict=1,tN)))},inflateInfo:\"pako inflate (from Nodeca project)\"};var PN=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1};const LN=Object.prototype.toString,{Z_NO_FLUSH:kN,Z_FINISH:MN,Z_OK:UN,Z_STREAM_END:xN,Z_NEED_DICT:VN,Z_STREAM_ERROR:FN,Z_DATA_ERROR:BN,Z_MEM_ERROR:jN}=Sw;function GN(e){this.options=AO.assign({chunkSize:65536,windowBits:15,to:\"\"},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new NO,this.strm.avail_out=0;let i=DN.inflateInit2(this.strm,t.windowBits);if(i!==UN)throw new Error(Tw[i]);if(this.header=new PN,DN.inflateGetHeader(this.strm,this.header),t.dictionary&&(\"string\"==typeof t.dictionary?t.dictionary=OO.string2buf(t.dictionary):\"[object ArrayBuffer]\"===LN.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=DN.inflateSetDictionary(this.strm,t.dictionary),i!==UN)))throw new Error(Tw[i])}function WN(e,t){const i=new GN(t);if(i.push(e),i.err)throw i.msg||Tw[i.err];return i.result}GN.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=t===~~t?t:!0===t?MN:kN,\"[object ArrayBuffer]\"===LN.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),s=DN.inflate(i,o),s===VN&&r&&(s=DN.inflateSetDictionary(i,r),s===UN?s=DN.inflate(i,o):s===BN&&(s=VN));i.avail_in>0&&s===xN&&i.state.wrap>0&&0!==e[i.next_in];)DN.inflateReset(i),s=DN.inflate(i,o);switch(s){case FN:case BN:case VN:case jN:return this.onEnd(s),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||s===xN))if(\"string\"===this.options.to){let e=OO.utf8border(i.output,i.next_out),t=i.next_out-e,r=OO.buf2string(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(r)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(s!==UN||0!==a){if(s===xN)return s=DN.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},GN.prototype.onData=function(e){this.chunks.push(e)},GN.prototype.onEnd=function(e){e===UN&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=AO.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var HN={Inflate:GN,inflate:WN,inflateRaw:function(e,t){return(t=t||{}).raw=!0,WN(e,t)},ungzip:WN,constants:Sw};const{Deflate:KN,deflate:YN,deflateRaw:qN,gzip:JN}=WO,{Inflate:zN,inflate:XN,inflateRaw:QN,ungzip:ZN}=HN;var $N,eD=YN,tD=XN;!function(e){e[e.ONE_BYTE=0]=\"ONE_BYTE\",e[e.TWO_BYTE=1]=\"TWO_BYTE\"}($N||($N={}));class iD{constructor(){nu(this,\"_sequence\",0),nu(this,\"_startTime\",Date.now()),nu(this,\"isUseOneByte\",!0)}get startTime(){const e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){const t={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){const i=new Uint8Array(4);i.set([1,0,0,0]);const n={id:0,length:4,data:i.buffer},r={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[n]};t.commonPacketHeader.extension=1,t.extension=r,t.payload=this.compress(e),t.commonPacketHeader.length=8+(t.extension.length+2)+t.payload.byteLength}else t.commonPacketHeader.length=8+t.payload.byteLength;const i=new ArrayBuffer(t.commonPacketHeader.length),n=new Uint8Array(i),r=new DataView(i);let s=0;if(r.setUint16(s,t.commonPacketHeader.extension<<15|t.commonPacketHeader.reserved<<14|t.commonPacketHeader.length,!0),s+=2,r.setUint32(s,t.commonPacketHeader.sequence,!0),s+=4,r.setUint16(s,t.commonStreamHeader,!0),s+=2,t.extension){const e=this.serializeExtension(t.extension);n.set(new Uint8Array(e),s),s+=e.byteLength}if(n.set(new Uint8Array(t.payload),s),s+=t.payload.byteLength,s!==t.commonPacketHeader.length)throw Error(\"serialize error!\");return i}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);const t=new DataView(e);let i=0;const n=t.getUint16(i,!0);i+=2;const r=(32768&n)>>15;t.getUint16(i+2,!0),t.getUint16(i,!0);let s,o;if(i+=4,t.getUint16(i,!0),i+=2,r){o=this.deserializeExtension(e.slice(i)),i+=2+o.length,s=e.slice(i);let t=!1;if(o.datas.length>0){const e=o.datas.find((e=>0===e.id));if(e){t=1==(1&new DataView(e.data).getUint32(0,!0))}}s=t?this.decompress(s):s}else s=e.slice(8);return s}serializeExtension(e){const{profile:t,length:i,datas:n}=e,r=new ArrayBuffer(i+2),s=new Uint8Array(r),o=new DataView(r);let a=0;if(o.setUint8(a++,t),o.setUint8(a++,i),n.forEach((e=>{t?(o.setUint8(a++,e.id),o.setUint8(a++,e.length),s.set(new Uint8Array(e.data),a),a+=e.data.byteLength):(o.setUint8(a++,e.id|e.length<<4),s.set(new Uint8Array(e.data),a),a+=e.data.byteLength)})),a!==i+2)throw Error(\"serialize extension error, is \".concat(a,\"!==\").concat(i+2));return r}deserializeExtension(e){const t=new DataView(e);let i=0;const n=t.getUint8(i);i++;const r=t.getUint8(i);i++;const s=n===$N.TWO_BYTE,o=[],a=new DataView(e,2);let c=0;for(;c<r;){let e=0,t=0,i=new ArrayBuffer(0);s?(e=a.getUint8(c),c++,t=a.getUint8(c),c++):(e=15&a.getUint8(c),t=a.getUint8(c)>>4,c++),t>0&&(i=a.buffer.slice(c+2,c+2+t),c+=i.byteLength),o.push({id:e,length:t,data:i})}if(c!==r)throw Error(\"parse error\");return{profile:n,length:r,datas:o}}decompress(e){return tD(new Uint8Array(e))}compress(e){return eD(new Uint8Array(e))}}class nD extends iT{constructor(e,t){super(),nu(this,\"_version\",1),nu(this,\"_type\",3),nu(this,\"_config\",void 0),nu(this,\"_originDataChannel\",void 0),nu(this,\"_dataStreamPacketHeader\",new ArrayBuffer(4)),nu(this,\"_dataStreamPacketHandler\",void 0),nu(this,\"_datachannelEventMap\",new Map),this._config=e,t&&(this._originDataChannel=t,this._bandDataChannelEvents(t)),this._initPacketHeader(),this._dataStreamPacketHandler=new iD}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return kC(\"DATASTREAM_MAX_RETRANSMITS\")}get metadata(){return this._config.metadata}get readyState(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.readyState)&&void 0!==e?e:\"connecting\"}get _originDataChannelId(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new tg(((e,t)=>{if(this._originDataChannel){\"open\"===this._originDataChannel.readyState&&e();const i=setTimeout((()=>{var e;t(new Vg(xg.DATACHANNEL_CONNECTION_TIMEOUT,\"Cannot create datachannel, id: \".concat(null===(e=this._originDataChannel)||void 0===e?void 0:e.id)))}),1e4);this._originDataChannel.onopen=()=>{clearTimeout(i),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e()},this._originDataChannel.onerror=()=>{throw clearTimeout(i),new Vg(xg.DATACHANNEL_CONNECTION_TIMEOUT)}}else t(new Vg(xg.DATACHANNEL_CONNECTION_TIMEOUT,\"cannot find dataChannel\"))}))}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e)}_initPacketHeader(){const e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id)}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[eA.OPEN,eA.CLOSE,eA.ERROR].forEach((t=>{const i=()=>{this.emit(t)};this._datachannelEventMap.set(t,i),e.addEventListener(t,i)}))}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach((t=>{let[i,n]=t;e.removeEventListener(i,n)})),this._datachannelEventMap.clear()}}class rD extends nD{constructor(e){super(e),nu(this,\"_messageListener\",void 0),this._messageListener=e=>{if(e.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error(\"invalid byteLength: the byte length must exceed \"+this._dataStreamPacketHeader.byteLength);const t=e.data.slice(0,this._dataStreamPacketHeader.byteLength);if(new DataView(t).getUint8(3)!==this.id)return;let i=e.data.slice(this._dataStreamPacketHeader.byteLength);i=this._dataStreamPacketHandler.deserialize(i),this.emit(eA.MESSAGE,i)}}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener(\"message\",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener(\"message\",this._messageListener)}}class sD extends nD{send(e){if(this._originDataChannel){let t=e;t=this._dataStreamPacketHandler.serialize(e);const i=new Uint8Array(this._dataStreamPacketHeader.byteLength+t.byteLength);i.set(new Uint8Array(this._dataStreamPacketHeader),0),i.set(new Uint8Array(t),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(i.buffer)}}}class oD extends iT{constructor(){super(...arguments),nu(this,\"resultStorage\",new Map)}setLocalAudioStats(e,t,i){this.record(\"AUDIO_INPUT_LEVEL_TOO_LOW\",e,this.checkAudioInputLevel(i,t)),this.record(\"SEND_AUDIO_BITRATE_TOO_LOW\",e,this.checkSendAudioBitrate(i,t))}setLocalVideoStats(e,t,i){this.record(\"SEND_VIDEO_BITRATE_TOO_LOW\",e,this.checkSendVideoBitrate(i,t)),this.record(\"FRAMERATE_INPUT_TOO_LOW\",e,this.checkFramerateInput(i,t)),this.record(\"FRAMERATE_SENT_TOO_LOW\",e,this.checkFramerateSent(i))}setRemoteAudioStats(e,t){const i=e.getUserId();this.record(\"AUDIO_OUTPUT_LEVEL_TOO_LOW\",i,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const i=e.getUserId();this.record(\"RECV_VIDEO_DECODE_FAILED\",i,this.checkVideoDecode(t))}record(e,t,i){if(kC(\"STATS_UPDATE_INTERVAL\")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const n=this.resultStorage.get(e);if(n&&(n.result.push(i),n.result.length>=5)){var r;const i=Pr(r=n.result).call(r,!0);n.isPrevNormal&&!i&&this.emit(\"exception\",aD[e],e,t),!n.isPrevNormal&&i&&this.emit(\"exception\",aD[e]+2e3,e+\"_RECOVER\",t),n.isPrevNormal=i,n.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof tb&&!t.isActive||(!!t.muted||0!==e.sendVolumeLevel)}checkFramerateInput(e,t){let i=null;t._encoderConfig&&t._encoderConfig.frameRate&&(i=mD(t._encoderConfig.frameRate));const n=e.captureFrameRate;return!i||!n||!(i>10&&n<5||i<10&&i>=5&&n<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof tb&&!t.isActive||(!!t.muted||0!==e.sendBitrate)}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const aD={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003};const cD=new class{markSubscribeStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t))}markPublishStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t))}measureFromSubscribeStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function dD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function lD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?dD(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):dD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class hD{constructor(e){nu(this,\"store\",void 0),nu(this,\"onStatsException\",void 0),nu(this,\"onUploadPublishDuration\",void 0),nu(this,\"onStatsChanged\",void 0),nu(this,\"localStats\",new Map),nu(this,\"remoteStats\",new Map),nu(this,\"updateStatsInterval\",void 0),nu(this,\"trafficStats\",void 0),nu(this,\"trafficStatsPeerList\",[]),nu(this,\"uplinkStats\",void 0),nu(this,\"exceptionMonitor\",void 0),nu(this,\"p2pChannel\",void 0),nu(this,\"scalabilityMode\",lv.L1T1),nu(this,\"updateStats\",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new oD,this.exceptionMonitor.on(\"exception\",((e,t,i)=>{this.onStatsException&&this.onStatsException(e,t,i)}))}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(_I.LocalAudioTrack)||lD({},Wy)}getLocalVideoTrackStats(){return this.localStats.get(_I.LocalVideoTrack)||lD({},Hy)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return i&&(t.publishDuration=i.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.audioStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{audioStats:r}]=e;r&&(i[n]=t(n,r))}));return i}getRemoteNetworkQualityStats(e){const t={};if(e){var i;const n=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.networkStats;n&&(t[e]=n)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[i,{networkStats:n}]=e;n&&(t[i]=n)}));return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return i&&(t.publishDuration=i.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.videoStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{videoStats:r}]=e;r&&(i[n]=t(n,r))}));return i}getRTCStats(){let e=0,t=0,i=0,n=0;const r=this.localStats.get(_I.LocalAudioTrack);r&&(e+=r.sendBytes,t+=r.sendBitrate);const s=this.localStats.get(_I.LocalVideoTrack);s&&(e+=s.sendBytes,t+=s.sendBitrate);const o=this.localStats.get(_I.LocalVideoLowTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:r}=e;t&&(i+=t.receiveBytes,n+=t.receiveBitrate),r&&(i+=r.receiveBytes,n+=r.receiveBitrate)}));let a=1;return this.trafficStats&&(a+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:a,SendBitrate:t,SendBytes:e,RecvBytes:i,RecvBitrate:n,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd));e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const i=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),n=null!=i&&i.videoSSRC?cD.measureFromSubscribeStart(this.store.clientId,i.videoSSRC):0,r=null!=i&&i.audioSSRC?cD.measureFromSubscribeStart(this.store.clientId,i.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,n>r?n:r),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&KC.debug(\"[\".concat(this.store.clientId,\"]: Period fir changes to \").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,i){if(!e)return!1;const n=!!i&&t.framesDecodeFreezeTime>i.framesDecodeFreezeTime,r=!i||t.framesDecodeCount>i.framesDecodeCount;return n||!r}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&(e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3)}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[i,n]=t;switch(i){case _I.LocalVideoTrack:case _I.LocalVideoLowTrack:{const t=n,s=lD({},Hy),o=e.getStats(),a=e.getLocalMedia(i);if(o){const i=o.videoSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(i){const n=e.getLocalVideoSize(),r=e.getEncoderConfig(_I.LocalVideoTrack);\"H264\"!==i.codec&&\"H265\"!==i.codec&&\"VP8\"!==i.codec&&\"VP9\"!==i.codec&&\"AV1X\"!==i.codec&&\"AV1\"!==i.codec||(s.codecType=i.codec),s.sendBytes=i.bytes,s.sendBitrate=t?8*Math.max(0,s.sendBytes-t.sendBytes):0,i.inputFrame?(s.captureFrameRate=i.inputFrame.frameRate,s.captureResolutionHeight=i.inputFrame.height,s.captureResolutionWidth=i.inputFrame.width):n&&(s.captureResolutionWidth=n.width,s.captureResolutionHeight=n.height),i.sentFrame?(s.sendFrameRate=i.sentFrame.frameRate,s.sendResolutionHeight=i.sentFrame.height,s.sendResolutionWidth=i.sentFrame.width):n&&(s.sendResolutionWidth=n.width,s.sendResolutionHeight=n.height),i.avgEncodeMs&&(s.encodeDelay=i.avgEncodeMs),r&&r.bitrateMax&&(s.targetSendBitrate=1e3*r.bitrateMax),s.sendPackets=i.packets,s.sendPacketsLost=i.packetsLost,s.sendJitterMs=i.jitterMs,s.sendRttMs=i.rttMs,s.totalDuration=t?t.totalDuration+1:1,s.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(i)&&(s.totalFreezeTime+=1),i.scalabilityMode&&this.scalabilityMode!==i.scalabilityMode&&(KC.debug(\"[\".concat(this.store.clientId,\"]: The scalabilityMode of the video sending stream is \").concat(i.scalabilityMode)),this.scalabilityMode=i.scalabilityMode)}this.trafficStats&&(s.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var r;if(this.localStats.set(i,s),(null==t?void 0:t.sendResolutionWidth)!==s.sendResolutionWidth||(null==t?void 0:t.sendResolutionHeight)!==s.sendResolutionHeight)null===(r=this.onStatsChanged)||void 0===r||r.call(this,\"resolution\",{width:s.sendResolutionWidth,height:s.sendResolutionHeight});s&&a&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,a.track,s);break}case _I.LocalAudioTrack:{const t=n,r=lD({},Wy),s=e.getStats(),o=e.getLocalMedia(i);if(s){const i=s.audioSend.find((e=>e.ssrc===(null==o?void 0:o.ssrcs[0].ssrcId)));if(i){if(\"opus\"!==i.codec&&\"aac\"!==i.codec&&\"PCMU\"!==i.codec&&\"PCMA\"!==i.codec&&\"G722\"!==i.codec||(r.codecType=i.codec),i.inputLevel)r.sendVolumeLevel=Math.round(32767*i.inputLevel);else{const t=e.getLocalAudioVolume();t&&(r.sendVolumeLevel=Math.round(32767*t))}r.sendBytes=i.bytes,r.sendPackets=i.packets,r.sendPacketsLost=i.packetsLost,r.sendJitterMs=i.jitterMs,r.sendRttMs=i.rttMs,r.sendBitrate=t?8*Math.max(0,r.sendBytes-t.sendBytes):0}}this.trafficStats&&(r.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(_I.LocalAudioTrack,r),r&&o&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,o.track,r);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{let[i,{videoStats:n,audioStats:r,videoPcStats:s}]=t;const o=r,a=n,c=s,d=lD({},Ky),l=lD({},qy),h=lD({},Yy),{audioTrack:u,videoTrack:p,audioSSRC:_,videoSSRC:E}=e.getRemoteMedia(i),m=e.getStats(),f=null==m?void 0:m.audioRecv.find((e=>e.ssrc===_)),g=null==m?void 0:m.videoRecv.find((e=>e.ssrc===E)),T=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===i));if(f&&(\"opus\"!==f.codec&&\"aac\"!==f.codec&&\"PCMU\"!==f.codec&&\"PCMA\"!==f.codec&&\"G722\"!==f.codec||(d.codecType=f.codec),f.outputLevel?d.receiveLevel=Math.round(32767*f.outputLevel):u&&(d.receiveLevel=Math.round(32767*u.getVolumeLevel())),d.receiveBytes=f.bytes,d.receivePackets=f.packets,d.receivePacketsLost=f.packetsLost,d.packetLossRate=d.receivePacketsLost/(d.receivePackets+d.receivePacketsLost),d.receiveBitrate=o?8*Math.max(0,d.receiveBytes-o.receiveBytes):0,d.totalDuration=o?o.totalDuration+1:1,d.totalFreezeTime=o?o.totalFreezeTime:0,d.freezeRate=d.totalFreezeTime/d.totalDuration,d.receiveDelay=f.jitterBufferMs,d.totalDuration>10&&hD.isRemoteAudioFreeze(u)&&(d.totalFreezeTime+=1)),g){\"H264\"!==g.codec&&\"H265\"!==g.codec&&\"VP8\"!==g.codec&&\"VP9\"!==g.codec&&\"AV1X\"!==g.codec&&\"AV1\"!==g.codec||(l.codecType=g.codec),l.receiveBytes=g.bytes,l.receiveBitrate=a?8*Math.max(0,l.receiveBytes-a.receiveBytes):0,l.decodeFrameRate=g.decodeFrameRate<0?0:g.decodeFrameRate,l.renderFrameRate=g.decodeFrameRate<0?0:g.decodeFrameRate,g.outputFrame&&(l.renderFrameRate=g.outputFrame.frameRate),g.receivedFrame?(l.receiveFrameRate=g.receivedFrame.frameRate,l.receiveResolutionHeight=g.receivedFrame.height,l.receiveResolutionWidth=g.receivedFrame.width):p&&(l.receiveResolutionHeight=p._videoHeight||0,l.receiveResolutionWidth=p._videoWidth||0),void 0!==g.framesRateFirefox&&(l.receiveFrameRate=Math.round(g.framesRateFirefox)),l.receivePackets=g.packets,l.receivePacketsLost=g.packetsLost,l.packetLossRate=l.receivePacketsLost/(l.receivePackets+l.receivePacketsLost),l.totalDuration=a?a.totalDuration+1:1,l.totalFreezeTime=a?a.totalFreezeTime:0,l.receiveDelay=g.jitterBufferMs||0;const t=!!E&&e.getRemoteVideoIsReady(E);p&&t&&hD.isRemoteVideoFreeze(p,g,c)&&(l.totalFreezeTime+=1),l.freezeRate=l.totalFreezeTime/l.totalDuration}T&&(d.end2EndDelay=T.B_ad,l.end2EndDelay=T.B_vd,d.transportDelay=T.B_ed,l.transportDelay=T.B_ed,d.currentPacketLossRate=T.B_ealr4/100,l.currentPacketLossRate=T.B_evlr4/100,h.uplinkNetworkQuality=T.B_punq?T.B_punq:0,h.downlinkNetworkQuality=T.B_pdnq?T.B_pdnq:0),this.remoteStats.set(i,{audioStats:d,videoStats:l,videoPcStats:g,networkStats:h}),u&&this.exceptionMonitor.setRemoteAudioStats(u,d),p&&this.exceptionMonitor.setRemoteVideoStats(p,l)}))}}function uD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function pD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?uD(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):uD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _D(e){return e.match(/^[\\.\\:\\d]+$/)?\"\".concat(e.replace(/[^\\d]/g,\"-\"),\".\").concat(kC(\"TURN_DOMAIN\")):(KC.info(\"Cannot recognized as IP address \".concat(e,\". Used As Host instead\")),e)}function ED(e,t){var i,n;const r=kC(\"GATEWAY_DOMAINS\");let s=r[1]&&-1!==t.indexOf(r[1])?1:0;e.addresses=e.addresses||[];const o=e.addresses.map((e=>e.domain_prefix?{address:\"\".concat(e.domain_prefix,\".\").concat(r[s++%r.length],\":\").concat(e.port)}:e.ip.match(/^[\\.\\:\\d]+$/)?{ip:e.ip,port:e.port,address:\"\".concat(e.ip.replace(/[^\\d]/g,\"-\"),\".\").concat(r[s++%r.length],\":\").concat(e.port)}:(KC.info(\"Cannot recognized as IP address \".concat(e.ip,\". Used As Host instead\")),{ip:e.ip,port:e.port,address:\"\".concat(e.ip,\":\").concat(e.port)})));if(null!==(i=e.detail)&&void 0!==i&&i[18]&&\"string\"==typeof(null===(n=e.detail)||void 0===n?void 0:n[18])){const t=e.detail[18],i=null==t?void 0:t.split(\";\");for(let e=0;e<i.length;e++){var a;const t=fy(a=i[e]).call(a);o[e]&&t&&(o[e].ip6=t)}}return{gatewayAddrs:o,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function mD(e){return\"number\"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function fD(e){const t=e._encoderConfig;if(!t)return{};const i={resolution:t.width&&t.height?\"\".concat(mD(t.width),\"x\").concat(mD(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return\"number\"==typeof t.frameRate?(i.maxFrameRate=t.frameRate,i.minFrameRate=t.frameRate):t.frameRate&&(i.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,i.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),i}function gD(e){const t={connectionType:0,googRtt:e.rtt};switch(e.selectedCandidatePair.localCandidate.candidateType){case\"relay\":{const i=e.selectedCandidatePair.localCandidate.relayProtocol;\"udp\"===i&&(t.connectionType=1),\"tcp\"===i&&(t.connectionType=3),\"tls\"===i&&(t.connectionType=4);break}case\"srflx\":t.connectionType=2}return t}function TD(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function SD(e,t){let i,n,r;switch(t){case hy.CHOOSE_SERVER:n=4096,r=\"choose server\";break;case hy.CLOUD_PROXY:n=1048576,r=\"proxy\";break;case hy.CLOUD_PROXY_5:n=4194304,r=\"proxy5\";break;case hy.CLOUD_PROXY_FALLBACK:n=4194310,r=\"proxy fallback\";break;default:throw new xv(xg.UNEXPECTED_ERROR,\"multi unlibs response transformer get unknown service id\",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===n&&(i={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>pD(pD({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:pD(pD({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})})),!i)throw new xv(xg.MULTI_UNILBS_RESPONSE_ERROR,\"cannot parse response \".concat(r,\" from multi unilbs response\"),{csIp:e.detail&&e.detail[502]});return i}async function RD(e,t){return await tg.all(e.addresses.map((async e=>({address:_D(e.ip),tcpport:e.port,udpport:e.port,username:t&&kC(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?t.toString():ov.username,password:t&&kC(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?await tT(t.toString()):ov.password}))))}function CD(e,t){const i=t._videoHeight||t.getMediaStreamTrack(!0).getSettings().height;return i?Math.max(i/mD(e.height),1):(KC.warning(\"can't get ori-track's height, default scale down 4 times for low stream\"),4)}function vD(e){let{candidateType:t,relayProtocol:i,type:n,address:r,port:s,protocol:o}=e;return\"local-candidate\"===n?{candidateType:t,relayProtocol:i,protocol:o}:{candidateType:t,relayProtocol:i,address:r,port:s,protocol:o}}function ID(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class yD extends iT{get url(){return this._url?this._url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Pr(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,\"reconnecting\"===this._state?this.emit(CI.RECONNECTING,this.reconnectReason):\"connected\"===this._state?this.emit(CI.CONNECTED):\"closed\"===this._state?this.emit(CI.CLOSED):\"failed\"===this._state&&this.emit(CI.FAILED))}constructor(e,t,i,n){super(),nu(this,\"connectionID\",0),nu(this,\"currentURLIndex\",0),nu(this,\"reconnectReason\",void 0),nu(this,\"_reconnectMode\",\"tryNext\"),nu(this,\"_name\",void 0),nu(this,\"_state\",\"closed\"),nu(this,\"_retryConfig\",void 0),nu(this,\"_reconnectCount\",0),nu(this,\"_forceCloseTimeout\",5e3),nu(this,\"_onlineReconnectListener\",void 0),nu(this,\"_closeEstablishingTransmitter\",(()=>{})),nu(this,\"_store\",void 0),nu(this,\"_joinChannelServiceRecordIndex\",void 0),nu(this,\"_useCompress\",void 0),nu(this,\"_inflateLength\",0),nu(this,\"_deflateLength\",0),this._store=n,this._name=e,this._retryConfig=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ID(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ID(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this._useCompress=i}resetReconnectCount(e){KC.debug(\"\".concat(this._name,\" reset reconnect count, reason: \").concat(e)),this._reconnectCount=0}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this._reconnectInterrupter&&this._reconnectInterrupter(),this._transmitter){this._transmitter.onclose=null,this._transmitter.onopen=null,this._transmitter.onmessage=null;const e=this._transmitter;t?setTimeout((()=>e.close()),500):e.close(),this._transmitter=void 0}this.state=e?\"failed\":\"closed\",this._closeEstablishingTransmitter&&this._closeEstablishingTransmitter()}reconnect(e,t){if(!this._transmitter)return void KC.warning(\"[\".concat(this._name,\"] can not reconnect, no websocket\"));var i;(void 0!==e&&(this.reconnectMode=e),KC.debug(\"[\".concat(this._name,\"] reconnect is triggered initiative\")),\"number\"==typeof this._joinChannelServiceRecordIndex)&&(null===(i=this._store)||void 0===i||i.recordJoinChannelService({status:\"error\",errors:[new Error(t)]},this._joinChannelServiceRecordIndex));const n=this._transmitter.onclose;this._transmitter.onclose=null,this._transmitter.close(),n&&n.bind(this._transmitter)({code:9999,reason:t})}getInflateData(){const e=this._inflateLength,t=this._deflateLength;return this.clearInflateData(),{inflateLength:e,deflateLength:t}}setInflateData(e){this._deflateLength=this._deflateLength+e.originLength,this._inflateLength=this._inflateLength+e.compressedLength}clearInflateData(){this._inflateLength=0,this._deflateLength=0}}var AD;!function(e){e[e.Default=0]=\"Default\",e[e.Ack=1]=\"Ack\"}(AD||(AD={}));class bD{constructor(e,t,i){nu(this,\"version\",1),nu(this,\"initialRTO\",void 0),nu(this,\"maxBatchAckCount\",void 0),nu(this,\"maxRTO\",void 0),nu(this,\"initialRTT\",void 0),nu(this,\"ID\",void 0),nu(this,\"rtt\",void 0),nu(this,\"packetNumber\",1),nu(this,\"rtoRatioMap\",new Map),nu(this,\"timeoutMap\",new Map),nu(this,\"unorderedPacketQueue\",[]),nu(this,\"batchAckPacketQueue\",[]),nu(this,\"lastOrderedPacketNumber\",0),nu(this,\"batchAckTimer\",void 0),nu(this,\"sendImpl\",void 0),nu(this,\"receiveImpl\",void 0),this.sendImpl=e,this.receiveImpl=t,this.ID=xT(7,\"transmitter-\"),this.initialRTO=void 0!==(null==i?void 0:i.initialRTO)?i.initialRTO:kC(\"TRANSMITTER_INITIAL_RTO\"),this.initialRTT=void 0!==(null==i?void 0:i.initialRTT)?i.initialRTT:kC(\"TRANSMITTER_INITIAL_RTT\"),this.rtt=void 0!==(null==i?void 0:i.initialRTT)?i.initialRTT:kC(\"TRANSMITTER_INITIAL_RTT\"),this.maxBatchAckCount=void 0!==(null==i?void 0:i.maxBatchAckCount)?i.maxBatchAckCount:kC(\"TRANSMITTER_MAX_BATCH_ACK_COUNT\"),this.maxRTO=void 0!==(null==i?void 0:i.maxRTO)?i.maxRTO:kC(\"TRANSMITTER_MAX_RTO\")}packetize(e,t){return{type:AD.Default,version:this.version,packetNumber:t,payload:e}}serialize(e){switch(e.type){case AD.Default:{let t;if(\"string\"==typeof e.payload){t=(new TextEncoder).encode(e.payload)}else t=e.payload;const i=new ArrayBuffer(t.length+15),n=new DataView(i);n.setUint16(0,e.version),n.setUint8(2,e.type),n.setUint32(3,e.packetNumber),Jg(n,7,BigInt(e.sendTs));return new Uint8Array(n.buffer).set(t,15),i}case AD.Ack:{const t=new ArrayBuffer(16),i=new DataView(t);return i.setUint16(0,e.version),i.setUint8(2,e.type),i.setUint32(3,e.maxAckPacketNumber),i.setUint8(7,e.shift),Jg(i,8,BigInt(e.ackSendTs)),t}}}deserialize(e){const t=new DataView(e),i=t.getUint16(0),n=t.getUint8(2);switch(n){case AD.Default:{const r=t.getUint32(3),s=qg(t,7),o=e.slice(15),a=(new TextDecoder).decode(o);return{version:i,type:n,packetNumber:r,sendTs:Number(s),payload:a}}case AD.Ack:{const e=t.getUint32(3),r=t.getUint8(7),s=qg(t,8);return{version:i,type:n,maxAckPacketNumber:e,shift:r,ackSendTs:Number(s)}}default:throw KC.error(\"[\".concat(this.ID,\"] Unrecognized packet type \").concat(n)),new Error(\"Unrecognized packet type \".concat(n))}}sendMessage(e){const t=this.packetize(e,this.packetNumber);this.packetNumber=4294967295===this.packetNumber?1:this.packetNumber+1;const i=this.calculateRTO(t),n=window.setTimeout((()=>{this.resendMessage(t)}),i);this.timeoutMap.set(t.packetNumber,n),this.sendPacket(t)}onData(e){const t=this.deserialize(e);t.type===AD.Default?this.ack(t):t.type===AD.Ack&&(this.updateRTT(t,Math.round(performance.now())),this.clearRTO(t))}close(){this.rtt=this.initialRTT,this.packetNumber=1,Array.from(this.timeoutMap.entries()).forEach((e=>{let[t,i]=e;window.clearTimeout(i)})),this.timeoutMap=new Map,this.rtoRatioMap=new Map,this.unorderedPacketQueue=[],this.batchAckPacketQueue=[],this.lastOrderedPacketNumber=0,void 0!==this.batchAckTimer&&window.clearTimeout(this.batchAckTimer)}resendMessage(e){const t=this.calculateRTO(e),i=window.setTimeout((()=>{this.resendMessage(e)}),t);this.timeoutMap.set(e.packetNumber,i),this.sendPacket(e)}calculateRTO(e){const t=this.rtoRatioMap.get(e.packetNumber);if(void 0===t)return this.rtoRatioMap.set(e.packetNumber,1),this.initialRTO;{const i=9*this.rtt/8*t;return this.rtoRatioMap.set(e.packetNumber,t+1),i>this.maxRTO?this.maxRTO:i}}updateRTT(e,t){const i=e.ackSendTs;this.rtt=this.rtt*(7/8)+(t-i-this.rtt)/8}ack(e){if(e.packetNumber===this.lastOrderedPacketNumber+1)for(this.batchAckPacketQueue.length>=this.maxBatchAckCount&&this.batchAck(),this.batchAckTimer?this.batchAckPacketQueue.push(e):(this.batchAckPacketQueue.push(e),this.batchAckTimer=window.setTimeout((()=>{this.batchAck()}),this.rtt/8)),this.lastOrderedPacketNumber+=1,this.receiveImpl(e.payload);;){const e=this.unorderedPacketQueue[0];if(!e){this.unorderedPacketQueue.shift();break}this.batchAckTimer&&this.batchAck(),this.receiveImpl(e.payload),this.unorderedPacketQueue.shift(),this.lastOrderedPacketNumber+=1}else if(e.packetNumber<=this.lastOrderedPacketNumber){const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:AD.Ack,version:this.version};this.sendPacket(t)}else if(e.packetNumber>this.lastOrderedPacketNumber){this.unorderedPacketQueue[e.packetNumber-this.lastOrderedPacketNumber-2]=e;const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:AD.Ack,version:this.version};this.sendPacket(t)}}batchAck(){window.clearTimeout(this.batchAckTimer),this.batchAckTimer=void 0;const e={ackSendTs:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].sendTs,maxAckPacketNumber:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].packetNumber,shift:this.batchAckPacketQueue.length-1,type:AD.Ack,version:this.version};this.sendPacket(e),this.batchAckPacketQueue=[]}sendPacket(e){e.type===AD.Default&&(e.sendTs=Math.round(performance.now()));const t=this.serialize(e);this.sendImpl(t)}clearRTO(e){for(let t=e.maxAckPacketNumber-e.shift;t<=e.maxAckPacketNumber;t++){const e=this.timeoutMap.get(t);void 0!==e&&window.clearTimeout(e),this.timeoutMap.delete(t),this.rtoRatioMap.delete(t)}}}class wD extends yD{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3?arguments[3]:void 0),nu(this,\"_initMutex\",void 0),nu(this,\"_reconnectInterrupter\",void 0),nu(this,\"_url\",void 0),nu(this,\"_transmitter\",void 0),nu(this,\"_addresses\",void 0),nu(this,\"_reliableTransmission\",void 0),this._initMutex=new YT(\"datachannel\");const{timeout:i,timeoutFactor:n}=t,r=Math.max(300,Math.floor(3*i/5)),s=Math.max(1.2,Math.floor(8*n)/10);hT.ONLINE&&(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=s),RT.on(uT.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount(\"network state change: \".concat(t,\" -> \").concat(e)),e===hT.ONLINE?(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=s):(this._retryConfig.timeout=i,this._retryConfig.timeoutFactor=n))}))}getConnection(){if(this._reliableTransmission)return this._reliableTransmission}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this._forceCloseTimeout=t;const i=(t,i)=>{this._addresses=e,this.currentURLIndex=this._addresses.findIndex((e=>e.fingerprint||kC(\"FINGERPRINT\")));const n=this._addresses[this.currentURLIndex];this.state=\"connecting\",this.createTransmitterConnection(n).then(t).catch(i),this.once(CI.CLOSED,(()=>i(new xv(xg.WS_DISCONNECT)))),this.once(CI.CONNECTED,(()=>t()))};return this._initMutex.lock().then((e=>new tg(((e,t)=>{i(e,t)})).then((()=>{e()})).catch((()=>{e()}))))}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._transmitter||!this._reliableTransmission)throw new xv(xg.WS_ABORT,\"datachannel is not ready\");try{t||(e=JSON.stringify(e)),this._reliableTransmission.sendMessage(e)}catch(e){throw new xv(xg.WS_ERR,\"send datachannel signal message error\"+e.toString())}}unbindDcCloseEventListener(){this._transmitter&&(this._transmitter.onclose=null)}sendMessageWithJSON(e){const t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}sendMessageWithUint8Array(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}createTransmitterConnection(e){return this.connectionID+=1,this._joinChannelServiceRecordIndex=void 0,this._url=\"dc://\".concat(e.ip,\":\").concat(e.port),new tg(((t,i)=>{var n;const r=()=>{KC.debug(\"[\".concat(this._name,\"] datachannel opened:\"),this._url),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),t()},s=async e=>{var n;if(null===(n=this._closeEstablishingTransmitter)||void 0===n||n.call(this),KC.debug(\"[\".concat(this._name,\"] datachannel close \").concat(this._url,\", code: \").concat(e.code,\", reason: \").concat(e.reason,\", current mode: \").concat(this.reconnectMode)),this._reconnectCount<this._retryConfig.maxRetryCount){\"connected\"===this.state&&(this.reconnectReason=e.reason,this.state=\"reconnecting\");const n=TT(this,CI.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,r=await this.reconnectWithAction(n);if(\"closed\"===this.state)return void KC.debug(\"[\".concat(this.connectionID,\"] dc is closed, no need to reconnect\"));if(!r)return i(new xv(xg.WS_DISCONNECT,\"datachannel reconnect failed: \".concat(e.code))),void this.close(!0);t()}else i(new xv(xg.WS_DISCONNECT,\"datachannel close: \".concat(e.code))),this.close()},o=e=>{var t;null===(t=this._reliableTransmission)||void 0===t||t.onData(e.data)};this._transmitter&&(this._transmitter.onclose=null,this._transmitter.close()),this._reliableTransmission&&(this._reliableTransmission.close(),this._reliableTransmission=void 0),KC.debug(\"[\".concat(this._name,\"] start connect, address: \").concat(JSON.stringify(e)));const a=null===(n=this._store)||void 0===n?void 0:n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"}),c=Date.now();fT(this,CI.TO_CONNECT_DATACHANNEL,e).then((e=>{var t,i;if(!e)throw new Error(\"transmissonInfo not exist yet\");const{transmitter:n,close:d}=e;this._transmitter=n,null===(t=this._store)||void 0===t||t.signalChannelOpen();const l=Date.now()-c;KC.debug(\"[choose dc] dc open cost \".concat(l,\"ms\"));this._reliableTransmission=new bD((e=>{var t;this._transmitter&&\"open\"===this._transmitter.readyState&&(null===(t=this._transmitter)||void 0===t||t.send(e))}),(e=>{\"string\"==typeof e&&this.emit(CI.ON_MESSAGE,e)})),this._closeEstablishingTransmitter=()=>{var e;null===(e=this._reliableTransmission)||void 0===e||e.close(),this._reliableTransmission=void 0,d()},r&&r(),n.onclose=s,n.onmessage=o,null===(i=this._store)||void 0===i||i.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),this._joinChannelServiceRecordIndex=a})).catch((e=>{var t;if(null===(t=this._store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof xv&&e.code===xg.WS_ABORT?\"aborted\":\"error\",errors:[e]},a),\"closed\"!==this.state){if(e instanceof xv&&e.code===xg.WS_ERR){const t=new xv(xg.WS_ERR,\"init datachannel failed! Error: \".concat(e.toString()));return KC.error(\"[\".concat(this._name,\"]\").concat(t)),void i(t)}s&&s(e)}else i(new xv(xg.WS_DISCONNECT,\"datachannel is closed: \".concat(e.toString())))}))}))}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._reconnectCount>=this._retryConfig.maxRetryCount)return!1;if(!this._addresses)return!1;if(\"closed\"===this.state)return!1;this._onlineReconnectListener||RT.networkState!==hT.OFFLINE||(this._onlineReconnectListener=RT.onlineWaiter&&RT.onlineWaiter.then((()=>{this._onlineReconnectListener=void 0})));let i=!0;if(this._reconnectInterrupter=()=>{i=!1},t){const t=zT(this._reconnectCount,this._retryConfig);KC.debug(\"[\".concat(this._name,\"] wait \").concat(t,\"ms to reconnect datachannel, mode: \").concat(e)),await tg.race([UT(t),this._onlineReconnectListener||new tg((()=>{}))])}if(\"closed\"===this.state||!i)return!1;this._reconnectCount+=1;const n=async(e,t)=>{this.emit(CI.RECONNECT_CREATE_CONNECTION,t),await this.createTransmitterConnection(e)};try{if(\"retry\"===e){const t=this._addresses[this.currentURLIndex];this.emit(CI.RECONNECT_WAITTING_FINISH,e),await n(t,e)}else if(\"tryNext\"===e){this.currentURLIndex+=1;for(let e=this.currentURLIndex;e<this._addresses.length;e++){if(this._addresses[e].fingerprint||kC(\"FINGERPRINT\")){this.currentURLIndex=e;break}this.currentURLIndex+=1}if(this.currentURLIndex>=this._addresses.length)return KC.debug(\"[\".concat(this._name,\"] the available addresses are exhausted, change to recover\")),await this.reconnectWithAction(\"recover\",!1);KC.debug(\"[\".concat(this._name,\"] datachannel url length: \").concat(this._addresses.length,\" current index: \").concat(this.currentURLIndex));const t=this._addresses[this.currentURLIndex];this.emit(CI.RECONNECT_WAITTING_FINISH,e),await n(t,e)}else\"recover\"===e&&(KC.debug(\"[\".concat(this._name,\"] start to failback to websocket\")),this.resetReconnectCount(\"recover mode\"),this.emit(CI.RECONNECT_WAITTING_FINISH,e),this.emit(CI.FAILBACK));return!0}catch(i){var r,s;return KC.error(\"[\".concat(this._name,\"] reconnect failed\"),i.toString()),null!=i&&null!==(r=i.data)&&void 0!==r&&r.desc&&Array.isArray(i.data.desc)&&i.data.desc.length&&Pr(s=i.data.desc).call(s,\"dynamic key expired\")?(this.emit(CI.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}}class OD extends iT{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===fv.CONNECTED?this.emit(gv.WS_CONNECTED):e===fv.RECONNECTING?this.emit(gv.WS_RECONNECTING,this._websocketReconnectReason):e===fv.CLOSED&&this.emit(gv.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),nu(this,\"_disconnectedReason\",void 0),nu(this,\"_websocketReconnectReason\",void 0),nu(this,\"_connectionState\",fv.CLOSED),nu(this,\"reconnectToken\",void 0),nu(this,\"websocket\",void 0),nu(this,\"openConnectionTime\",void 0),nu(this,\"clientId\",void 0),nu(this,\"lastMsgTime\",Date.now()),nu(this,\"uploadCache\",[]),nu(this,\"uploadCacheInterval\",void 0),nu(this,\"rttRolling\",new dS(5)),nu(this,\"pingpongTimer\",void 0),nu(this,\"inflateDataTimer\",void 0),nu(this,\"pingpongTimeoutCount\",0),nu(this,\"joinResponse\",void 0),nu(this,\"multiIpOption\",void 0),nu(this,\"initError\",void 0),nu(this,\"spec\",void 0),nu(this,\"store\",void 0),nu(this,\"onWebsocketMessage\",(e=>{if(e instanceof ArrayBuffer)return void this.emit(gv.ON_BINARY_DATA,e);const t=JSON.parse(e);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")&&(this.emit(t._type,t._message),t._type===Rv.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Rv.ON_USER_BANNED))switch(t._message.error_code){case 14:this.close(cT.UID_BANNED);break;case 15:this.close(cT.IP_BANNED);break;case 16:this.close(cT.CHANNEL_BANNED)}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new wD(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===fv.CONNECTED&&this.reconnect(\"retry\",RI.OFFLINE)}))}async request(e,t,i,n){const r=xT(6,\"\"),s={_id:r,_type:e,_message:t},o=this.websocket.connectionID,a=()=>new tg(((t,i)=>{if(this.connectionState===fv.CONNECTED)return t();const n=()=>{this.off(gv.WS_CLOSED,r),t()},r=()=>{this.off(gv.WS_CONNECTED,n),i(new xv(xg.WS_ABORT))};this.once(gv.WS_CONNECTED,n),this.once(gv.WS_CLOSED,r),e!==Tv.PUBLISH&&e!==Tv.SUBSCRIBE&&e!==Tv.UNSUBSCRIBE&&e!==Tv.UNPUBLISH&&e!==Tv.CONTROL&&e!==Tv.RESTART_ICE||this.once(gv.DISCONNECT_P2P,(()=>{i(new xv(xg.DISCONNECT_P2P))})),e!==Tv.PUBLISH&&e!==Tv.RESTART_ICE||this.once(gv.ABORT_P2P_EXECUTION,(()=>{i(new xv(xg.DISCONNECT_P2P))}))}));if(this.connectionState!==fv.CONNECTING&&this.connectionState!==fv.RECONNECTING||e===Tv.JOIN||e===Tv.REJOIN||await a(),e===Tv.LEAVE&&(this.websocket.unbindDcCloseEventListener(),n=!0),this.websocket.sendMessage(s,!0,!1),n)return;const c=new tg(((i,n)=>{let s=!1;const a=(n,r)=>{s=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(gv.WS_CLOSED,c),this.off(gv.WS_RECONNECTING,c),this.emit(gv.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new xv(xg.WS_ABORT,\"type: \".concat(e))),this.off(gv.WS_CLOSED,c),this.off(gv.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(gv.WS_CLOSED,c),this.once(gv.WS_RECONNECTING,c),UT(kC(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==o||s||(KC.warning(\"dc request timeout, type: \".concat(e)),this.emit(gv.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===fv.CLOSED||e===Tv.LEAVE)throw new xv(xg.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===Tv.JOIN||e===Tv.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),h=UI(l),u=new xv(xg.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(d.message.error_str),{code:l,data:d.message});return\"success\"===h.action?d.message:(KC.warning(\"[\".concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(h.desc,\", action: \").concat(h.action)),l===mv.ERR_TOO_MANY_BROADCASTERS?e===Tv.JOIN||e===Tv.REJOIN?(this.initError=u,this.close(),u.throw()):u.throw():\"failed\"===h.action?u.throw():\"quit\"===h.action?(this.initError=u,this.close(),u.throw()):(l===mv.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,KC.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",RI.MULTI_IP)):this.reconnect(h.action,RI.SERVER_ERROR),e===Tv.JOIN||e===Tv.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new tg((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=kC(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==fv.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),kC(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new tg(((i,n)=>{this.once(gv.WS_CONNECTED,(()=>i(this.joinResponse))),this.once(gv.WS_CLOSED,(()=>n(this.initError||new xv(xg.WS_ABORT)))),this.connectionState=fv.CONNECTING,this.websocket.init(e).catch(n),this.websocket.once(CI.FAILBACK,(()=>{void 0===this.openConnectionTime&&n(new xv(xg.INIT_DATACHANNEL_TIMEOUT))})),this.inflateDataTimer&&window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=window.setInterval((()=>{this.handleInflateData()}),2e4),setTimeout((()=>{t&&void 0===this.openConnectionTime&&(KC.debug(\"[\".concat(this.clientId,\"] init datachannel timeout while join with failback to websocket\")),n(new xv(xg.INIT_DATACHANNEL_TIMEOUT)))}),kC(\"DC_JOIN_WITH_FAILBACK\"))}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.inflateDataTimer&&(this.handleInflateData(),window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||cT.LEAVE,this.connectionState=fv.CLOSED,KC.debug(\"[\".concat(this.clientId,\"] \")+\"will close datachannel in signal\"),this.websocket.close(),e===cT.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new wD(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(gv.ABORT_P2P_EXECUTION);const e=await fT(this,gv.DATACHANNEL_CONNECTING),t=await this.request(Tv.JOIN,e);if(!t)return this.emit(gv.REPORT_JOIN_GATEWAY,xg.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(gv.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=fv.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new xv(xg.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=ST(this,gv.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(Tv.REJOIN,e);return!!t&&(this.connectionState=fv.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(Rv.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(Rv.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(Rv.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(Rv.MUTE_AUDIO,{uid:e.uid}):this.emit(Rv.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(Rv.MUTE_VIDEO,{uid:e.uid}):this.emit(Rv.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(Rv.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(Rv.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(Rv.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(Rv.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(Rv.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){KC.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=UI(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(cT.UID_BANNED),void this.close()):void this.reconnect(t.action,RI.SERVER_ERROR);KC.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=kC(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(KC.warning(\"PINGPONG Timeout. Last Socket Message: \".concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>kC(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",RI.TIMEOUT):this.request(Tv.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),kC(\"REPORT_STATS\")&&this.send(Tv.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleInflateData(){const{inflateLength:e,deflateLength:t}=this.websocket.getInflateData();0!==e&&0!==t&&this.upload(Sv.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(CI.RECONNECT_WAITTING_FINISH,(e=>{this.emit(gv.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(CI.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(gv.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(CI.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(CI.CLOSED,(()=>{this.connectionState=fv.CLOSED})),this.websocket.on(CI.FAILED,(()=>{this._disconnectedReason=cT.NETWORK_ERROR,this.connectionState=fv.CLOSED})),this.websocket.on(CI.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===fv.CONNECTED?this.connectionState=fv.RECONNECTING:this.connectionState=fv.CONNECTING})),this.websocket.on(CI.WILL_RECONNECT,((e,t)=>{if(ST(this,gv.IS_P2P_DISCONNECTED)&&\"retry\"===e)return KC.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),this.reconnectToken=void 0,this.emit(gv.NEED_RENEW_SESSION),this.emit(gv.DISCONNECT_P2P),t(\"tryNext\");\"retry\"!==e&&(KC.debug(\"\".concat(this.clientId,\" websockt will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0,this.emit(gv.NEED_RENEW_SESSION),this.emit(gv.DISCONNECT_P2P)),t(e)})),this.websocket.on(CI.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{KC.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",RI.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(gv.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||\"\"),e instanceof xv&&e.code===xg.UNEXPECTED_RESPONSE&&e.data.code===mv.ERR_NO_AUTHORIZED)return KC.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",RI.SERVER_ERROR);KC.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",RI.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(CI.REQUEST_NEW_URLS,((e,t)=>{fT(this,gv.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(CI.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(Rv.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(CI.TO_CONNECT_DATACHANNEL,(async(e,t,i)=>fT(this,gv.DATACHANNEL_PRECONNECT,e).then(t).catch(i))),this.websocket.on(CI.FAILBACK,(()=>{void 0!==this.openConnectionTime&&this.emit(gv.DATACHANNEL_FAILBACK)}))}}class ND extends iT{constructor(e){super(),nu(this,\"_signal\",void 0),nu(this,\"_sequence\",0),nu(this,\"_userMap\",new Map),nu(this,\"_encoder\",new TextEncoder),this._signal=e}async send(e,t,i,n,r){var s,o,a;\"string\"!=typeof t&&(t=JSON.stringify(t)),n=null!==(s=n)&&void 0!==s?s:xT(6,\"\"),r=null!==(o=r)&&void 0!==o?o:this._sequence++;const c={_id:n,_type:e,_seq:null!==(a=r)&&void 0!==a?a:this._sequence++,_message:t};if(kC(\"SHOW_P2P_LOG\")&&KC.debug(\"send message\",c),this.sendStreamMessage(JSON.stringify(c)),i)return;const d=new tg(((t,i)=>{const r=window.setTimeout((()=>{this.off(\"res-@\".concat(n),s),KC.warning(\"[external-signal] request timeout, type: \".concat(e)),0===this._userMap.size?i(new Vg(xg.INVALID_REMOTE_USER)):i(new Vg(xg.TIMEOUT))}),kC(\"EXTERNAL_SIGNAL_REQUEST_TIMEOUT\")),s=(e,n)=>{r&&window.clearTimeout(r),\"success\"===e?t({isSuccess:!0,message:n}):i(new Vg(xg.UNEXPECTED_ERROR,n))};this.once(\"res-@\".concat(n),s)}));let l;try{l=await d}catch(i){if(i.code===xg.TIMEOUT)return await this.send(e,t,!1,n,r);throw i}return l.isSuccess?l.message:void 0}sendStreamMessage(e){this._splitMessage(e).forEach((e=>{this._signal.request(Tv.DATA_STREAM,{payload:PT(this._encoder.encode(e))})}))}onMessage(e){const{_uid:t}=e;let i;const n=this._userMap.get(t);if(n?i=n.splitMessageMap:(i=new Map,this._userMap.set(t,{isStart:!1,splitMessageMap:i,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map})),\"id\"in e&&\"total\"in e){var r;const{id:n,total:s}=e,o=null!==(r=i.get(n))&&void 0!==r?r:[];if(o.push(e),i.has(n)||i.set(n,o),o.length!==s)return;{const r=Zu(o).call(o,((e,t)=>e.index-t.index)).map((e=>e.payload)).join(\"\");i.delete(n),(e=JSON.parse(r))._uid=t}}this.handleReceivedMessage(e)}setStart(e){this._userMap.has(e)?this._userMap.get(e).isStart=!0:this._userMap.set(e,{isStart:!0,splitMessageMap:new Map,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map}),this.handleReceivedMessage()}setEnd(e){return this._userMap.delete(e),0===this._userMap.size}ack(e,t,i){this.send(wI.ACK,JSON.stringify({success:!i,message:t}),!0,e)}handleReceivedMessage(e){const t=()=>{this._userMap.forEach((e=>{const{receivedMessagesMap:t,nextExpectedSequenceNumber:i}=e;for(;t.has(i);){const n=t.get(i);t.delete(i),this.receiveMessage(n),e.nextExpectedSequenceNumber++}}))};if(!e)return void t();const{_uid:i,_seq:n}=e,r=this._userMap.get(i),{receivedMessagesMap:s,isStart:o,nextExpectedSequenceNumber:a}=r;n<a?KC.debug(\"[external-signal] receive old message, seq: \".concat(n)):(s.set(n,e),o&&n===a&&(this.receiveMessage(e),s.delete(a),r.nextExpectedSequenceNumber++,t()))}receiveMessage(e){const{_id:t,_type:i,_message:n,_uid:r}=e;if(kC(\"SHOW_P2P_LOG\")&&KC.debug(\"收到消息\",e),t)switch(e._type){case wI.PUBLISH:const s=JSON.parse(n);this._signal.emit(i,s,r),this.ack(e._id);break;case wI.CONTROL:case wI.UNPUBLISH:case wI.DO_SUBSCRIBE:case wI.DO_UNSUBSCRIBE:{const t=JSON.parse(n);t.uid=r,fT(this._signal,i,t).then((t=>{this.ack(e._id,t)})).catch((t=>{this.ack(e._id,void 0,!0)}));break}case wI.ACK:{const{success:e,message:i}=JSON.parse(n);this.emit(\"res-@\".concat(t),e?\"success\":\"failed\",i);break}case wI.CALL:fT(this,i,n).then((e=>{this.ack(t,e)}));break;case wI.RESTART_ICE:case wI.EXCHANGE_SDP:case wI.SUBSCRIBE:case wI.UNSUBSCRIBE:fT(this._signal,i,n).then((e=>{this.ack(t,e)})).catch((t=>{this.ack(e._id,void 0,!0)}));break;case wI.CANDIDATE:this._signal.emit(i,n),this.ack(t);break;case wI.JOIN:this.emit(i,JSON.parse(n));break;default:this.emit(i,n),this.ack(t)}}_splitMessage(e){if(e.length<ND.MAX_MESSAGE_SIZE)return[e];const t=[],i=xT(6,\"\");let n=0;const r=Math.ceil(e.length/800);for(;e.length>0;){n++;const s=e.slice(0,800);t.push({id:i,index:n,total:r,payload:s}),e=e.slice(800)}return t.map((e=>JSON.stringify(e)))}clear(){this._sequence=0,this._userMap.clear()}}nu(ND,\"MAX_MESSAGE_SIZE\",1024);class DD extends iT{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===fv.CONNECTED?this.emit(gv.WS_CONNECTED):e===fv.RECONNECTING?this.emit(gv.WS_RECONNECTING,this._websocketReconnectReason):e===fv.CLOSED&&this.emit(gv.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),nu(this,\"_disconnectedReason\",void 0),nu(this,\"_websocketReconnectReason\",void 0),nu(this,\"_connectionState\",fv.CLOSED),nu(this,\"reconnectToken\",void 0),nu(this,\"_userInRoom\",!1),nu(this,\"_userOnlineTime\",void 0),nu(this,\"websocket\",void 0),nu(this,\"openConnectionTime\",void 0),nu(this,\"clientId\",void 0),nu(this,\"lastMsgTime\",Date.now()),nu(this,\"uploadCache\",[]),nu(this,\"uploadCacheInterval\",void 0),nu(this,\"rttRolling\",new dS(5)),nu(this,\"pingpongTimer\",void 0),nu(this,\"wsInflateDataTimer\",void 0),nu(this,\"pingpongTimeoutCount\",0),nu(this,\"joinResponse\",void 0),nu(this,\"multiIpOption\",void 0),nu(this,\"initError\",void 0),nu(this,\"spec\",void 0),nu(this,\"store\",void 0),nu(this,\"_external_signal\",void 0),nu(this,\"onWebsocketMessage\",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(gv.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")){switch(t._type){case Rv.ON_DATA_STREAM:return void this.handleDataStream(t._message);case Rv.MUTE_AUDIO:case Rv.MUTE_VIDEO:case Rv.ON_P2P_LOST:return;case Rv.ON_USER_ONLINE:this.emit(t._type,t._message);const{uid:e}=t._message;return this._external_signal.setStart(e),void this._external_signal.send(wI.JOIN,{onlineTime:this._userOnlineTime},!0)}if(this.emit(t._type,t._message),t._type===Rv.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Rv.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(cT.UID_BANNED);break;case 15:this.close(cT.IP_BANNED);break;case 16:this.close(cT.CHANNEL_BANNED)}if(t._type===Rv.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case mv.ERR_LICENSE_MISSING:this.close(cT.LICENSE_MISSING);break;case mv.ERR_LICENSE_EXPIRED:this.close(cT.LICENSE_EXPIRED);break;case mv.ERR_LICENSE_MINUTES_EXCEEDED:this.close(cT.LICENSE_MINUTES_EXCEEDED);break;case mv.ERR_LICENSE_PERIOD_INVALID:this.close(cT.LICENSE_PERIOD_INVALID);break;case mv.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(cT.LICENSE_MULTIPLE_SDK_SERVICE);break;case mv.ERR_LICENSE_ILLEGAL:this.close(cT.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new zI(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,kC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),kC(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===fv.CONNECTED&&this.reconnect(\"retry\",lT.OFFLINE)})),this._external_signal=new ND(this),this._handleSignalP2PEvents()}async request(e,t,i,n){const r=xT(6,\"\"),s={_id:r,_type:e,_message:t},o=this.websocket.connectionID,a=()=>new tg(((t,i)=>{if(this.connectionState===fv.CONNECTED)return t();const n=()=>{this.off(gv.WS_CLOSED,r),t()},r=()=>{this.off(gv.WS_CONNECTED,n),i(new Vg(xg.WS_ABORT))};this.once(gv.WS_CONNECTED,n),this.once(gv.WS_CLOSED,r),e!==Tv.PUBLISH&&e!==Tv.SUBSCRIBE&&e!==Tv.UNSUBSCRIBE&&e!==Tv.UNPUBLISH&&e!==Tv.CONTROL&&e!==Tv.RESTART_ICE||this.once(gv.DISCONNECT_P2P,(()=>{i(new Vg(xg.DISCONNECT_P2P))})),e!==Tv.PUBLISH&&e!==Tv.RESTART_ICE||this.once(gv.ABORT_P2P_EXECUTION,(()=>{i(new Vg(xg.DISCONNECT_P2P))}))}));if(this.connectionState!==fv.CONNECTING&&this.connectionState!==fv.RECONNECTING||e===Tv.JOIN||e===Tv.REJOIN||await a(),this.websocket.sendMessage(s,!0),n)return;const c=new tg(((i,n)=>{let s=!1;const a=(n,r)=>{s=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(gv.WS_CLOSED,c),this.off(gv.WS_RECONNECTING,c),this.emit(gv.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new Vg(xg.WS_ABORT,\"type: \".concat(e))),this.off(gv.WS_CLOSED,c),this.off(gv.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(gv.WS_CLOSED,c),this.once(gv.WS_RECONNECTING,c),UT(kC(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==o||s||(KC.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(gv.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===fv.CLOSED||e===Tv.LEAVE)throw new Vg(xg.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===Tv.JOIN||e===Tv.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),h=UI(l),u=new Vg(xg.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(d.message.error_str),{code:l,data:d.message});return\"success\"===h.action?d.message:(KC.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(h.desc,\", action: \").concat(h.action)),l===mv.ERR_TOO_MANY_BROADCASTERS?e===Tv.JOIN||e===Tv.REJOIN?(this.initError=u,this.close(),u.throw()):u.throw():\"failed\"===h.action?u.throw():\"quit\"===h.action?(this.initError=u,this.close(),u.throw()):(l===mv.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,KC.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",lT.MULTI_IP)):this.reconnect(h.action,lT.SERVER_ERROR),e===Tv.JOIN||e===Tv.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new tg((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=kC(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==fv.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),kC(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}async sendExtensionMessage(e,t,i){return await this.waitTillUserOnline(),await this._external_signal.send(e,t,i)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new tg(((t,i)=>{this.once(gv.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(gv.WS_CLOSED,(()=>i(this.initError||new Vg(xg.WS_ABORT)))),this.connectionState=fv.CONNECTING,this.websocket.init(e).catch(i),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||cT.LEAVE,this.connectionState=fv.CLOSED,KC.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close(),e===cT.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new zI(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,kC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),kC(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(gv.ABORT_P2P_EXECUTION);const e=await fT(this,gv.REQUEST_JOIN_INFO),t=await this.request(Tv.JOIN,e);if(!t)return this.emit(gv.REPORT_JOIN_GATEWAY,xg.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(gv.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=fv.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),this._userOnlineTime=(new Date).getTime(),this._external_signal.clear(),!0}async rejoin(){if(!this.reconnectToken)throw new Vg(xg.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=ST(this,gv.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;return!!await this.request(Tv.REJOIN,e)&&(this.connectionState=fv.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleDataStream(e){try{var t;const i=DT(e.payload),n=(new TextDecoder).decode(i),r=JSON.parse(n);\"total\"in r&&\"id\"in r||Pr(t=Object.values(wI)).call(t,r._type)?(e.seq&&delete e.seq,r._uid=e.uid,this._external_signal.onMessage(r)):this.emit(Rv.ON_DATA_STREAM,e)}catch(e){}}handleNotification(e){KC.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=UI(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(cT.UID_BANNED),void this.close()):void this.reconnect(t.action,lT.SERVER_ERROR);KC.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=kC(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(KC.warning(\"[\".concat(this.clientId,\"] PINGPONG Timeout. Last Socket Message: \").concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>kC(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",lT.TIMEOUT):this.request(Tv.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),kC(\"REPORT_STATS\")&&this.send(Tv.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(Sv.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(Iv.RECONNECT_WAITTING_FINISH,(e=>{this.emit(gv.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(Iv.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(gv.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(Iv.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Iv.CLOSED,(()=>{this.connectionState=fv.CLOSED})),this.websocket.on(Iv.FAILED,(()=>{this._disconnectedReason=cT.NETWORK_ERROR,this.connectionState=fv.CLOSED})),this.websocket.on(Iv.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===fv.CONNECTED?this.connectionState=fv.RECONNECTING:this.connectionState=fv.CONNECTING})),this.websocket.on(Iv.WILL_RECONNECT,((e,t,i)=>{if(ST(this,gv.IS_P2P_DISCONNECTED)&&\"retry\"===e)return KC.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),this.reconnectToken=void 0,this.emit(gv.NEED_RENEW_SESSION),this.emit(gv.DISCONNECT_P2P),i(\"tryNext\");\"retry\"!==e&&(KC.debug(\"\".concat(this.clientId,\" websocket will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0,this.emit(gv.NEED_RENEW_SESSION),this.emit(gv.DISCONNECT_P2P)),i(e)})),this.websocket.on(Iv.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{KC.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",lT.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(gv.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||\"\"),e instanceof Vg&&e.code===xg.UNEXPECTED_RESPONSE&&e.data.code===mv.ERR_NO_AUTHORIZED)return KC.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",lT.SERVER_ERROR);KC.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",lT.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(Iv.REQUEST_NEW_URLS,((e,t)=>{fT(this,gv.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(Iv.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(Rv.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}_handleSignalP2PEvents(){this._external_signal.on(wI.JOIN,(async e=>{if(this._userOnlineTime&&this._userOnlineTime<e.onlineTime){const e=await fT(this,gv.P2P_START,void 0),t=await this._external_signal.send(wI.CALL,e);this.emit(gv.P2P_CONNECTION,t,!0)}this._userInRoom=!0,this.emit(\"user-online\")})),this.on(Rv.ON_USER_OFFLINE,(async e=>{this._external_signal.clear(),this._userInRoom=!1})),this._external_signal.on(wI.CALL,(async(e,t,i)=>{this._userInRoom=!0,this.emit(\"user-online\");try{t(await fT(this,gv.P2P_START,e))}catch(e){i(e)}}))}async waitTillUserOnline(){return new tg((e=>{if(this._userInRoom)e();else{const t=()=>{this.off(\"user-online\",t),e()};this.on(\"user-online\",t)}}))}}function PD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function LD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):PD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const kD=new Map;class MD extends iT{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,\"DISCONNECTED\"===e&&this._disconnectedReason?this.emit(eI.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(eI.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){KC.debug(\"[\".concat(this.store.clientId,\"] set joinGatewayStartTime at \").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),nu(this,\"store\",void 0),nu(this,\"joinInfo\",void 0),nu(this,\"key\",void 0),nu(this,\"ntpOffset\",0),nu(this,\"signal\",void 0),nu(this,\"role\",void 0),nu(this,\"inChannelInfo\",{joinAt:null,duration:0}),nu(this,\"spec\",void 0),nu(this,\"_state\",\"DISCONNECTED\"),nu(this,\"_statsCollector\",void 0),nu(this,\"_disconnectedReason\",void 0),nu(this,\"isSignalRecover\",!1),nu(this,\"hasChangeBGPAddress\",!1),nu(this,\"trafficStatsInterval\",void 0),nu(this,\"networkQualityInterval\",void 0),nu(this,\"_joinGatewayStartTime\",0),nu(this,\"_signalTimeout\",!1),nu(this,\"_clientRoleOptions\",void 0),nu(this,\"_isProactiveJoin\",!1),this.store=e,this.spec=t,this.signal=this.store.useP2P?new DD(LD(LD({},t),{},{retryConfig:t.websocketRetryConfig}),e):this.store.useDataChannel?new OD(LD(LD({},t),{},{retryConfig:t.websocketRetryConfig}),e):new QI(LD(LD({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||\"audience\",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,i){if(this.signal instanceof OD){let t=!1;\"disabled\"!==e.cloudProxyServer?(KC.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because cloudProxyServer are not supported (\").concat(e.cloudProxyServer,\")\")),t=!0):\"\".concat(e.apResponse.cid,\"_\").concat(e.apResponse.cert).length>255||\"\".concat(e.apResponse.cid,\"_\").concat(e.apResponse.cert).length<22?(KC.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because ticket length is incorrect, it has to be between 22 and 255\")),t=!0):e.apResponse.addresses.some((e=>e.fingerprint))||kC(\"FINGERPRINT\")||(KC.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because fingerprint does not exist\")),t=!0),t&&this.resetSignal()}this.store.joinGatewayStart(),\"disabled\"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const n=Date.now();let r=kD.get(e.cname);if(r||(r=new Map,kD.set(e.cname,r)),this._isProactiveJoin=!0,r.has(e.uid)){const t=new xv(xg.UID_CONFLICT);throw rv.joinGateway(e.sid,{lts:n,succ:!1,ec:t.message,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:this.signal instanceof OD?\"1\":\"0\"}),this._isProactiveJoin=!1,t}r.set(e.uid,!0),this.joinInfo=e,this.key=t;let s=0;this.joinGatewayStartTime=n;const o=e.proxyServer;try{let t;if(KC.debug(\"[\".concat(this.store.clientId,\"] use \").concat(this.signal instanceof OD?\"datachannel\":\"websocket\",\" join uid \").concat(s)),this.signal instanceof OD)t=await this.signal.init(e.apResponse.addresses,i);else{const n=e.gatewayAddrs.map((t=>{let{address:i}=t;const[n,r]=i.split(\":\"),s={host:n,port:r};return e.proxyServer&&(s.proxy=e.proxyServer),s}));t=await this.signal.init(n,i)}s=t.uid,KC.debug(\"[\".concat(this.store.clientId,\"] \").concat(this.signal instanceof OD?\"datachannel\":\"websocket\",\" join uid \").concat(s,\" cost \").concat(Date.now()-this.joinGatewayStartTime))}catch(t){if(t&&t.code===xg.INIT_WEBSOCKET_TIMEOUT)throw KC.warning(\"[\".concat(this.store.clientId,\"] User join failed\"),t.toString()),t;if(t&&t.code===xg.INIT_DATACHANNEL_TIMEOUT)throw KC.warning(\"[\".concat(this.store.clientId,\"] User join datachannel failed\"),t.toString()),this.resetSignal(),t;throw KC.error(\"[\".concat(this.store.clientId,\"] User join failed\"),t.toString()),rv.joinGateway(e.sid,{lts:n,succ:!1,ec:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!o,signalChannel:this.signal instanceof OD?\"1\":\"0\"}),this._isProactiveJoin=!1,r.delete(e.uid),this.signal.close(),t}return this.state=\"CONNECTED\",this.inChannelInfo.joinAt=Date.now(),KC.debug(\"[\".concat(this.store.clientId,\"] Connected to gateway server\")),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{KC.warning(\"[\".concat(this.store.clientId,\"] get traffic stats error\"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(eI.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(eI.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):\"CONNECTED\"===this.state&&this._statsCollector.trafficStats?this.emit(eI.NETWORK_QUALITY,{uplinkNetworkQuality:TD(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:TD(this._statsCollector.trafficStats.B_dnq)}):this.emit(eI.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),s}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(\"DISCONNECTED\"!==this.state){t!==cT.FALLBACK&&(this.state=\"DISCONNECTING\");try{e||this.signal.connectionState!==fv.CONNECTED||await function(e,t){return t===1/0?e:tg.race([e,MT(t)])}(this.signal.request(Tv.LEAVE,void 0,!0),3e3)}catch(e){KC.warning(\"[\".concat(this.store.clientId,\"] leave request failed, ignore\"),e)}this.signal.close(t),t!==cT.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()}}async publish(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new xv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));const n={state:\"offer\",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:kC(\"PUB_EXTEND\"),twcc:!!kC(\"PUBLISH_TWCC\"),rtx:!!kC(\"USE_PUB_RTX\")};try{return(await this.signal.request(Tv.PUBLISH,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===mv.ERR_PUBLISH_REQUEST_INVALID)return KC.warning(\"[\".concat(this.store.clientId,\"] receive publish error code, retry\"),n.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw n}}async publishDataChannel(e,t,i){var n;if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new xv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));const r={stream_id:t.streamId,ordered:t.ordered?1:0,max_retrans_times:null!==(n=t.maxRetransmits)&&void 0!==n?n:10,channel_id:t.channelId,metadata:t.metadata};try{await this.signal.request(Tv.PUBLISH_DATASTREAM,r,!0)}catch(n){if(i&&n.data&&n.data.code===mv.ERR_PUBLISH_REQUEST_INVALID)return KC.warning(\"[\".concat(this.store.clientId,\"] receive publish datachannels error code, retry\"),n.toString()),await this.tryUnpubDataChannelBeforeRepub(e,t),this.publishDataChannel(e,t,!1);throw n}}async unpublish(e,t){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new xv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await this.signal.request(Tv.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){KC.warning(\"[\".concat(this.store.clientId,\"] unpublish warning: \"),e)}}async unpublishDataChannel(e){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new xv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await tg.all(e.map((e=>this.signal.request(Tv.UNPUBLISH_DATASTREAM,{channel_id:e},!0))))}catch(e){KC.warning(\"unpublish datachannels warning: \",e)}}async subscribe(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new xv(xg.INVALID_OPERATION,\"can not subscribe when connection state is \".concat(this.state));const n={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!kC(\"SUBSCRIBE_TWCC\"),rtx:!!kC(\"USE_SUB_RTX\"),extend:kC(\"SUB_EXTEND\"),ssrcId:t.ssrcId,svc:Array.isArray(kC(\"SVC\"))&&0!==kC(\"SVC\").length?kC(\"SVC\"):void 0};try{return(await this.signal.request(Tv.SUBSCRIBE,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===mv.ERR_SUBSCRIBE_REQUEST_INVALID)return KC.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe error code, retry\"),n.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw n}}async subscribeDataChannel(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new xv(xg.INVALID_OPERATION,\"can not subscribe datachannel when connection state is \".concat(this.state));const n={uid:e,stream_id:t.id,channel_id:t.datachannelId};try{return void await this.signal.request(Tv.SUBSCRIBE_DATASTREAM,n,!0)}catch(n){if(i&&n.data&&n.data.code===mv.ERR_SUBSCRIBE_REQUEST_INVALID)return KC.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe datachannel error code, retry\"),n.toString()),await this.tryUnsubDataChannelBeforeResub(e,t),await this.subscribeDataChannel(e,t,!1);throw n}}async subscribeAll(e,t){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new xv(xg.INVALID_OPERATION,\"can not massSubscribe when connection state is \".concat(this.state));const i={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!kC(\"USE_SUB_RTX\")};try{return await this.signal.request(Tv.SUBSCRIBE_STREAMS,i,!0)}catch(i){if(t&&i.data&&i.data.code===mv.ERR_SUBSCRIBE_REQUEST_INVALID)return KC.warning(\"[\".concat(this.store.clientId,\"] receiver massSubscribe error code, retry\"),i.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw i}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,i=e.width,n=e.height,r=!0;return\"number\"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(r=!1)),\"number\"!=typeof i&&(i=i.exact||i.ideal||i.max||i.min||0,i||(r=!1)),\"number\"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,t||(r=!1)),r?{stream_type:0,width:i,height:n,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(Tv.SET_VIDEO_PROFILE,t);KC.debug(\"[\".concat(this.store.clientId,\"] encoder config is not complete, do not report to gateway\"))}async unsubscribe(e,t){try{await this.signal.request(Tv.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){KC.warning(\"[\".concat(this.store.clientId,\"] unsubscribe warning: \"),e)}}async unsubscribeDataChannel(e,t){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new xv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await tg.all(e.map((e=>this.signal.request(Tv.UNSUBSCRIBE_DATASTREAM,{stream_id:e,uid:t},!0))))}catch(e){KC.warning(\"unsubscribeDataChannel warning: \",e)}}async massUnsubscribe(e){try{await this.signal.request(Tv.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){KC.warning(\"[\".concat(this.store.clientId,\"] massUnsubscribeAll warning: \"),e)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=e;return{gatewayEstablishParams:await this.signal.request(Tv.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(Tv.GATEWAY_INFO)}async renewToken(e){await this.signal.request(Tv.RENEW_TOKEN,e),this.key=e.token}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),\"CONNECTED\"!==this.state)return void(this.role=e);let i,n=0;\"audience\"===e?this._clientRoleOptions&&this._clientRoleOptions.delay?(i=this._clientRoleOptions.delay,n=1):n=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:n=0,await this.signal.request(Tv.SET_CLIENT_ROLE,{role:e,level:n,delay:i,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(Tv.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(Tv.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(Tv.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(Tv.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}async setRTM2Flag(e){await this.signal.request(Tv.SET_RTM2_FLAG,{rtm2_flag:e})}async sendExtensionMessage(e,t,i){if(this.signal instanceof DD)return this.signal.sendExtensionMessage(e,t,i)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),LD({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(Tv.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=kD.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith(\"dc\")?e.match(/(dc\\:\\/\\/)?([^:]+):(\\d+)/):e.match(/(wss\\:\\/\\/)?([^:]+):(\\d+)/),t?{username:ov.username,password:ov.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}((\"disabled\"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||\"\");this.joinInfo.turnServer.serversFromGateway=[],e&&\"off\"!==this.joinInfo.turnServer.mode&&\"disabled\"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(LD(LD({},ov),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(\"CONNECTED\"!==this.state)return;const e=await this.signal.request(Tv.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),null!=e.ntp_offset&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&AT((()=>{this.emit(eI.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new xv(xg.UNEXPECTED_ERROR,\"can not generate join message, no join info\");const t=Object.assign({},this.joinInfo.apResponse);let i=kC(\"REPORT_APP_SCENARIO\");if(\"string\"!=typeof i)try{i=JSON.stringify(i)}catch(e){i=void 0}i&&i.length>128&&(i=void 0);const n=LD({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:OC,browser:navigator.userAgent,process_id:kC(\"PROCESS_ID\"),mode:this.store.useP2P?\"p2p\":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:kC(\"JOIN_EXTEND\"),details:{6:this.joinInfo.stringUid,cservice_map:\"proxy3\"===this.joinInfo.cloudProxyServer?\"1\":\"proxy5\"===this.joinInfo.cloudProxyServer?\"2\":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:i,attributes:{userAttributes:{enablePublishedUserList:kC(\"ENABLE_PUBLISHED_USER_LIST\"),maxSubscription:kC(\"MAX_SUBSCRIPTION\"),subscribeAudioFilterTopN:\"number\"==typeof kC(\"SUBSCRIBE_AUDIO_FILTER_TOPN\")?kC(\"SUBSCRIBE_AUDIO_FILTER_TOPN\"):void 0,enablePublishAudioFilter:\"boolean\"==typeof kC(\"ENABLE_PUBLISH_AUDIO_FILTER\")?kC(\"ENABLE_PUBLISH_AUDIO_FILTER\"):void 0,enableUserLicenseCheck:\"boolean\"==typeof kC(\"ENABLE_USER_LICENSE_CHECK\")?kC(\"ENABLE_USER_LICENSE_CHECK\"):void 0,enableRTX:!0===kC(\"USE_PUB_RTX\")||!0===kC(\"USE_SUB_RTX\")||void 0,disableFEC:kC(\"DISABLE_FEC\"),enableNTPReport:!!kC(\"ENABLE_NTP_REPORT\")||void 0,enableInstantVideo:!!kC(\"ENABLE_INSTANT_VIDEO\")||void 0,enableDataStream2:\"boolean\"==typeof kC(\"ENABLE_DATASTREAM_2\")?kC(\"ENABLE_DATASTREAM_2\"):void 0,rtm2Flag:\"number\"==typeof kC(\"RTM2_FLAG\")?kC(\"RTM2_FLAG\"):void 0,enableUserAutoRebalanceCheck:!!kC(\"ENABLE_USER_AUTO_REBALANCE_CHECK\"),enableXR:\"boolean\"==typeof kC(\"USE_XR\")?kC(\"USE_XR\"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(n.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(n.aes_mode=this.joinInfo.aesmode,kC(\"ENCRYPT_AES\")?(n.aes_secret=this.joinInfo.aespassword,n.aes_encrypt=!0):n.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(n.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(n.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(n.default_video_stream=this.joinInfo.defaultVideoStream),n}getRejoinMessage(){if(!this.joinInfo)throw new xv(xg.UNEXPECTED_ERROR,\"can not generate rejoin message, no join info\");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(gv.WS_RECONNECT_WAITTING_FINISH,(e=>{var t;Pr(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.joinInfo&&rv.adjustSessionStartTime(this.joinInfo.sid)})),this.signal.on(gv.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(gv.WS_RECONNECTING,(e=>{this.joinInfo&&rv.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||lT.NETWORK_ERROR}),this.joinInfo&&(this.state=\"RECONNECTING\",rv.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(gv.WS_CLOSED,(e=>{let t;switch(e){case cT.LEAVE:t=lT.LEAVE;break;case cT.UID_BANNED:case cT.IP_BANNED:case cT.CHANNEL_BANNED:case cT.SERVER_ERROR:t=lT.SERVER_ERROR;break;case cT.FALLBACK:t=lT.FALLBACK;break;case cT.LICENSE_MISSING:case cT.LICENSE_EXPIRED:case cT.LICENSE_MINUTES_EXCEEDED:case cT.LICENSE_PERIOD_INVALID:case cT.LICENSE_MULTIPLE_SDK_SERVICE:case cT.LICENSE_ILLEGAL:case cT.TOKEN_EXPIRE:t=e;break;default:t=lT.NETWORK_ERROR}KC.debug(\"[\".concat(this.store.clientId,\"] [signal] websocket closed, reason: \").concat(t||\"undefined -> \"+lT.NETWORK_ERROR)),this.joinInfo&&rv.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===cT.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==cT.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()})),this.signal.on(gv.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state=\"CONNECTED\",this.joinInfo&&(\"audience\"===this.role&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(KC.debug(\"[\".concat(this.store.clientId,\"] patch to send set client role, role: \").concat(this.role,\", mode: \").concat(this.spec.mode,\", level: \").concat(this._clientRoleOptions.level,\", delay: \").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),rv.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof OD?\"1\":\"0\"}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion)){const e=this.signal.url&&this.signal.url.match(/wss\\:\\/\\/([^:]+):(\\d+)/);if(!e)return void KC.error(\"[\".concat(this.store.clientId,\"] set local access point after joined failed: \").concat(e));LC(\"EVENT_REPORT_DOMAIN\",e[1]),LC(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]),LC(\"LOG_UPLOAD_SERVER\",\"\".concat(e[1],\":6444\"))}})),this.signal.on(Rv.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(gv.REQUEST_RECOVER,((e,t,i)=>{if(!this.joinInfo)return i(new xv(xg.UNEXPECTED_ERROR,\"gateway: can not recover, no join info\"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,fT(this,eI.REQUEST_NEW_GATEWAY_LIST).then(t).catch(i)})),this.signal.on(gv.REQUEST_JOIN_INFO,(async e=>{var t;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));const{iceParameters:i,dtlsParameters:n,rtpCapabilities:r}=await fT(this,eI.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:i,dtlsParameters:n,rtpCapabilities:r,version:\"2\"}}))})),this.signal.on(gv.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(gv.REPORT_JOIN_GATEWAY,((e,t)=>{this.joinInfo&&(rv.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:e,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof OD?\"1\":\"0\"}),this._isProactiveJoin=!1)})),this.signal.on(gv.IS_P2P_DISCONNECTED,(e=>{e(ST(this,eI.IS_P2P_DISCONNECTED))})),this.signal.on(gv.DISCONNECT_P2P,(()=>{this.emit(eI.DISCONNECT_P2P)})),this.signal.on(gv.NEED_RENEW_SESSION,(()=>{this.emit(eI.NEED_RENEW_SESSION)})),this.signal.on(gv.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(gv.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(gv.JOIN_RESPONSE,(e=>{const t=this.getCurrentGatewayAddress();this.emit(eI.JOIN_RESPONSE,e,t)})),this.signal.on(gv.DATACHANNEL_PRECONNECT,(async(e,t,i)=>{this.updateTurnConfigFromSignal();const n=this.getCurrentGatewayAddress();return fT(this,eI.DATACHANNEL_PRECONNECT,e,n).then(t).catch(i)})),this.signal.on(gv.DATACHANNEL_CONNECTING,(async e=>{const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=await fT(this,eI.REQUEST_DC_CONNECTION_PARAMS);e(this.getJoinMessage({ortc:{iceParameters:t,dtlsParameters:i,rtpCapabilities:n,version:\"2\"}}))})),this.signal.on(gv.DATACHANNEL_FAILBACK,(()=>{KC.warning(\"[\".concat(this.store.clientId,\"] User join datachannel failed\")),this.reset(),this.resetSignal(),this.emit(eI.DATACHANNEL_FAILBACK)}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(Tv.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(e){throw KC.warning(\"[\".concat(this.store.clientId,\"] tryUnsubBeforeResub warning\"),e),e}}async tryUnsubDataChannelBeforeResub(e,t){try{await this.signal.request(Tv.UNSUBSCRIBE,{stream_id:t.id},!0)}catch(e){throw KC.warning(\"unsubscribe datachannel warning\",e),e}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(Tv.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(e){throw KC.warning(\"[\".concat(this.store.clientId,\"] tryUnpubBeforeRepub warning: \"),e),e}}async tryUnpubDataChannelBeforeRepub(e,t){try{await this.signal.request(Tv.UNPUBLISH_DATASTREAM,{channnel_id:t.channelId},!0)}catch(e){throw KC.warning(\"unpublish datastream warning: \",e),e}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(Tv.UNSUBSCRIBE_STREAMS,t,!0)}catch(e){throw KC.warning(\"[\".concat(this.store.clientId,\"] tryMassUnsubBeforeResub warning\"),e),e}}async muteLocal(e,t){const i={action:e.find((e=>e.stream_type===$v.Audio))?\"mute_local_audio\":\"mute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(Tv.CONTROL,i,!0,!0)}catch(e){throw KC.warning(\"[\".concat(this.store.clientId,\"] gateway muteLocal warning: \"),e),e}}async unmuteLocal(e,t){const i={action:e.find((e=>e.stream_type===$v.Audio))?\"unmute_local_audio\":\"unmute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(Tv.CONTROL,i,!0,!0)}catch(e){throw KC.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteLocal warning: \"),e),e}}async muteRemote(e,t){const i={action:e===hI.AUDIO?\"mute_remote_audio\":\"mute_remote_video\",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(Tv.CONTROL,i,!0,!0)}catch(e){throw KC.warning(\"[\".concat(this.store.clientId,\"] gateway muteRemote warning: \"),e),e}}async unmuteRemote(e,t){const i={action:e===hI.AUDIO?\"unmute_remote_audio\":\"unmute_remote_video\",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(Tv.CONTROL,i,!0,!0)}catch(e){throw KC.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteRemote warning: \"),e),e}}uploadStats(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(Tv.RESTART_ICE,t,!0)}catch(e){throw KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.restartICE warning: \"),e),e}}reconnect(){\"CONNECTED\"===this.state&&this.signal.reconnect(void 0,lT.P2P_FAILED)}getCurrentGatewayAddress(){var e;if(!kC(\"GATEWAY_WSS_ADDRESS\"))return null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(Tv.SET_PARAMETER,{enablePublishAudioFilter:e})}resetSignal(){this.signal&&(this.signal.removeAllListeners(),this.signal.close(cT.FALLBACK)),this.store.useDataChannel=!1,this.signal=new QI(LD(LD({},this.spec),{},{retryConfig:this.spec.websocketRetryConfig}),this.store),this.handleSignalEvents(),this.emit(eI.RESET_SIGNAL,nI.websocket)}}let UD=0,xD=0;function VD(e,t,i,n){return new tg(((r,s)=>{t.timeout=t.timeout||kC(\"HTTP_CONNECT_TIMEOUT\"),t.responseType=t.responseType||\"json\",t.data&&!i?(t.data=JSON.stringify(t.data),UD+=LT(t.data)):i&&(t.data.size?UD+=t.data.size:t.data instanceof FormData?UD+=kT(t.data):UD+=LT(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers[\"Content-Type\"]=t.headers[\"Content-Type\"]||\"application/json\",t.method=\"POST\",t.url=e,EC.request(t).then((e=>{\"string\"==typeof e.data?xD+=LT(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?xD+=e.data.byteLength:xD+=LT(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{EC.isCancel(e)?s(new xv(xg.OPERATION_ABORTED,\"cancel token canceled\")):\"ECONNABORTED\"===e.code?s(new xv(xg.NETWORK_TIMEOUT,e.message)):e.response?s(new xv(xg.NETWORK_RESPONSE_ERROR,e.response.status)):s(new xv(xg.NETWORK_ERROR,e.message))}))}))}\n/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */!function(){var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var i=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){return e==Array.prototype||e==Object.prototype||(e[t]=i.value),e};var n,r=function(e){e=[\"object\"==typeof globalThis&&globalThis,e,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof q&&q];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error(\"Cannot find global object\")}(this);function s(e,t){if(t)e:{var n=r;e=e.split(\".\");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in n))break e;n=n[o]}(t=t(s=n[e=e[e.length-1]]))!=s&&null!=t&&i(n,e,{configurable:!0,writable:!0,value:t})}}function o(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function a(e){var i=\"undefined\"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return i?i.call(e):{next:t(e)}}if(s(\"Symbol\",(function(e){function t(e,t){this.A=e,i(this,\"description\",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n=\"jscomp_symbol_\"+(1e9*Math.random()>>>0)+\"_\",r=0;return function e(i){if(this instanceof e)throw new TypeError(\"Symbol is not a constructor\");return new t(n+(i||\"\")+\"_\"+r++,i)}})),s(\"Symbol.iterator\",(function(e){if(e)return e;e=Symbol(\"Symbol.iterator\");for(var n=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),s=0;s<n.length;s++){var a=r[n[s]];\"function\"==typeof a&&\"function\"!=typeof a.prototype[e]&&i(a.prototype,e,{configurable:!0,writable:!0,value:function(){return o(t(this))}})}return e})),\"function\"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var c;e:{var d={};try{d.__proto__={a:!0},c=d.a;break e}catch(e){}c=!1}n=c?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+\" is not extensible\");return e}:null}var l=n;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function u(e){if(e.m)throw new TypeError(\"Generator is already running\");e.m=!0}function p(e,t){return e.h=3,{value:t}}function _(e){this.g=new h,this.G=e}function E(e,t,i,n){try{var r=t.call(e.g.j,i);if(!(r instanceof Object))throw new TypeError(\"Iterator result \"+r+\" is not an object\");if(!r.done)return e.g.m=!1,r;var s=r.value}catch(t){return e.g.j=null,e.g.s(t),m(e)}return e.g.j=null,n.call(e.g,s),m(e)}function m(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function f(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){u(e.g);var i=e.g.j;return i?E(e,\"return\"in i?i.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),m(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function g(e,t){return t=new f(new _(t)),l&&e.prototype&&l(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},_.prototype.o=function(e){return u(this.g),this.g.j?E(this,this.g.j.next,e,this.g.o):(this.g.o(e),m(this))},_.prototype.s=function(e){return u(this.g),this.g.j?E(this,this.g.j.throw,e,this.g.o):(this.g.s(e),m(this))},s(\"Array.prototype.entries\",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+=\"\");var i=0,n=!1,r={next:function(){if(!n&&i<e.length){var r=i++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return[e,t]}))}})),\"undefined\"!=typeof Blob&&(\"undefined\"==typeof FormData||!FormData.prototype.keys)){var T=function(e,t){for(var i=0;i<e.length;i++)t(e[i])},S=function(e){return e.replace(/\\r?\\n|\\r/g,\"\\r\\n\")},R=function(e,t,i){return t instanceof Blob?(i=void 0!==i?String(i+\"\"):\"string\"==typeof t.name?t.name:\"blob\",t.name===i&&\"[object Blob]\"!==Object.prototype.toString.call(t)||(t=new File([t],i)),[String(e),t]):[String(e),String(t)]},C=function(e,t){if(e.length<t)throw new TypeError(t+\" argument required, but only \"+e.length+\" present.\")},v=\"object\"==typeof globalThis?globalThis:\"object\"==typeof window?window:\"object\"==typeof self?self:this,I=v.FormData,y=v.XMLHttpRequest&&v.XMLHttpRequest.prototype.send,A=v.Request&&v.fetch,b=v.navigator&&v.navigator.sendBeacon,w=v.Element&&v.Element.prototype,O=v.Symbol&&Symbol.toStringTag;O&&(Blob.prototype[O]||(Blob.prototype[O]=\"Blob\"),\"File\"in v&&!File.prototype[O]&&(File.prototype[O]=\"File\"));try{new File([],\"\")}catch(e){v.File=function(e,t,i){return e=new Blob(e,i||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(i&&void 0!==i.lastModified?new Date(i.lastModified):new Date)},toString:{value:function(){return\"[object File]\"}}}),O&&Object.defineProperty(e,O,{value:\"File\"}),e}}var N=function(e){return e.replace(/\\n/g,\"%0A\").replace(/\\r/g,\"%0D\").replace(/\"/g,\"%22\")},D=function(e){this.i=[];var t=this;e&&T(e.elements,(function(e){if(e.name&&!e.disabled&&\"submit\"!==e.type&&\"button\"!==e.type&&!e.matches(\"form fieldset[disabled] *\"))if(\"file\"===e.type){var i=e.files&&e.files.length?e.files:[new File([],\"\",{type:\"application/octet-stream\"})];T(i,(function(i){t.append(e.name,i)}))}else\"select-multiple\"===e.type||\"select-one\"===e.type?T(e.options,(function(i){!i.disabled&&i.selected&&t.append(e.name,i.value)})):\"checkbox\"===e.type||\"radio\"===e.type?e.checked&&t.append(e.name,e.value):(i=\"textarea\"===e.type?S(e.value):e.value,t.append(e.name,i))}))};if((e=D.prototype).append=function(e,t,i){C(arguments,2),this.i.push(R(e,t,i))},e.delete=function(e){C(arguments,1);var t=[];e=String(e),T(this.i,(function(i){i[0]!==e&&t.push(i)})),this.i=t},e.entries=function e(){var t,i=this;return g(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<i.i.length?e=p(e,i.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},e.forEach=function(e,t){C(arguments,1);for(var i=a(this),n=i.next();!n.done;n=i.next()){var r=a(n.value);n=r.next().value,r=r.next().value,e.call(t,r,n,this)}},e.get=function(e){C(arguments,1);var t=this.i;e=String(e);for(var i=0;i<t.length;i++)if(t[i][0]===e)return t[i][1];return null},e.getAll=function(e){C(arguments,1);var t=[];return e=String(e),T(this.i,(function(i){i[0]===e&&t.push(i[1])})),t},e.has=function(e){C(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,i,n,r,s=this;return g(e,(function(e){if(1==e.h&&(t=a(s),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,r=a(n),p(e,r.next().value));i=t.next(),e.h=2}))},e.set=function(e,t,i){C(arguments,2),e=String(e);var n=[],r=R(e,t,i),s=!0;T(this.i,(function(t){t[0]===e?s&&(s=!n.push(r)):n.push(t)})),s&&n.push(r),this.i=n},e.values=function e(){var t,i,n,r,s=this;return g(e,(function(e){if(1==e.h&&(t=a(s),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,(r=a(n)).next(),p(e,r.next().value));i=t.next(),e.h=2}))},D.prototype._asNative=function(){for(var e=new I,t=a(this),i=t.next();!i.done;i=t.next()){var n=a(i.value);i=n.next().value,n=n.next().value,e.append(i,n)}return e},D.prototype._blob=function(){var e=\"----formdata-polyfill-\"+Math.random(),t=[],i=\"--\"+e+'\\r\\nContent-Disposition: form-data; name=\"';return this.forEach((function(e,n){return\"string\"==typeof e?t.push(i+N(S(n))+'\"\\r\\n\\r\\n'+S(e)+\"\\r\\n\"):t.push(i+N(S(n))+'\"; filename=\"'+N(e.name)+'\"\\r\\nContent-Type: '+(e.type||\"application/octet-stream\")+\"\\r\\n\\r\\n\",e,\"\\r\\n\")})),t.push(\"--\"+e+\"--\"),new Blob(t,{type:\"multipart/form-data; boundary=\"+e})},D.prototype[Symbol.iterator]=function(){return this.entries()},D.prototype.toString=function(){return\"[object FormData]\"},w&&!w.matches&&(w.matches=w.matchesSelector||w.mozMatchesSelector||w.msMatchesSelector||w.oMatchesSelector||w.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),O&&(D.prototype[O]=\"FormData\"),y){var P=v.XMLHttpRequest.prototype.setRequestHeader;v.XMLHttpRequest.prototype.setRequestHeader=function(e,t){P.call(this,e,t),\"content-type\"===e.toLowerCase()&&(this.B=!0)},v.XMLHttpRequest.prototype.send=function(e){e instanceof D?(e=e._blob(),this.B||this.setRequestHeader(\"Content-Type\",e.type),y.call(this,e)):y.call(this,e)}}A&&(v.fetch=function(e,t){return t&&t.body&&t.body instanceof D&&(t.body=t.body._blob()),A.call(this,e,t)}),b&&(v.navigator.sendBeacon=function(e,t){return t instanceof D&&(t=t._asNative()),b.call(this,e,t)}),v.FormData=D}}();const FD=()=>{const e=kC(\"AREAS\");0===e.length&&e.push(rI.GLOBAL);return cS(e).call(e,((e,t,i)=>{const n=BD(t);return n?0===i?n:\"\".concat(e,\",\").concat(n):e}),\"\")},BD=e=>e===rI.OVERSEA?\"\".concat(aI.ASIA,\",\").concat(aI.EUROPE,\",\").concat(aI.AFRICA,\",\").concat(aI.NORTH_AMERICA,\",\").concat(aI.SOUTH_AMERICA,\",\").concat(aI.OCEANIA):aI[e],jD=e=>{const t={CODE:\"\",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const i=cI[e],n=Object.keys(i);n&&n.map((e=>{\"CODE\"!==e&&(t[e]=t[e].concat(i[e]))}))})),t},GD={GLOBAL:{ASIA:[rI.CHINA,rI.JAPAN,rI.INDIA,rI.KOREA,rI.HKMC],EUROPE:[],NORTH_AMERICA:[rI.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},WD=Object.keys(GD[rI.GLOBAL]),HD=[rI.CHINA,rI.NORTH_AMERICA,rI.EUROPE,rI.ASIA,rI.JAPAN,rI.INDIA,rI.OCEANIA,rI.SOUTH_AMERICA,rI.AFRICA,rI.KOREA,rI.HKMC,rI.US],KD=function(e,t){let i=[];if(Pr(e).call(e,rI.GLOBAL)){const s=[rI.GLOBAL,rI.OVERSEA],o=Object.keys(cI);if(t===rI.GLOBAL)throw new xv(xg.INVALID_PARAMS,\"GLOBAL is an invalid excludedArea value\");if(t===rI.CHINA)i=[rI.OVERSEA];else if(r=t,Pr(WD).call(WD,r)){const e=(n=t,GD[rI.GLOBAL][n]||[]),r=[...s,t,...e];i=o.filter((e=>!Pr(r).call(r,e)))}else if(function(e){let t=!1;return WD.forEach((i=>{var n;Pr(n=GD[rI.GLOBAL][i]).call(n,e)&&(t=!0)})),t}(t)){const e=function(e){let t;return WD.forEach((i=>{var n;Pr(n=GD[rI.GLOBAL][i]).call(n,e)&&(t=i)})),t}(t),n=[...s,e,t];i=o.filter((e=>!Pr(n).call(n,e)))}else i=e;i=function(e){const t=[];return HD.forEach((i=>{Pr(e).call(e,i)&&t.push(i)})),t.concat(e.filter((e=>!Pr(HD).call(HD,e))))}(i)}else i=e;var n,r;return i};function YD(e){var t,i;if(!e&&Pr(t=kC(\"AREAS\")).call(t,rI.EXTENSIONS))return KC.debug(\"update area from ap : reset\"),void qD(sv,!0);if(!Pr(i=kC(\"AREAS\")).call(i,rI.GLOBAL)||!e)return;let n=cI.EXTENSIONS;n&&(n={CODE:BD(rI.EXTENSIONS),WEBCS_DOMAIN:[\"ap-web-1-\".concat(e,\".agora.io\")],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],PROXY_CS:[\"proxy-ap-web-\".concat(e,\".agora.io\")],CDS_AP:[\"cds-ap-web-1-\".concat(e,\".agora.io\"),\"cds-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],ACCOUNT_REGISTER:[\"sua-ap-web-1-\".concat(e,\".agora.io\"),\"sua-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],UAP_AP:[\"uap-ap-web-1-\".concat(e,\".agora.io\"),\"uap-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],EVENT_REPORT_DOMAIN:[\"statscollector-1-\".concat(e,\".agora.io\")],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-\".concat(e,\".agora.io\")],LOG_UPLOAD_SERVER:[\"logservice-\".concat(e,\".agora.io\")],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy-\".concat(e,\".agora.io\")]},KC.debug(\"update area from ap success: \".concat(e,\",config is \"),n),LC(\"AREAS\",[rI.EXTENSIONS],!0),Object.keys(n).map((e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){LC(e,n[e][0])}else LC(e,n[e])})))}function qD(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=rv.reportApiInvoke(null,{name:sT.SET_AREA,options:e,tag:oT.TRACER});try{let n=[];if(\"string\"==typeof e&&(n=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!Pr(oI).call(oI,e))throw new xv(xg.INVALID_PARAMS,\"invalid area code\")})),n=e),\"[object Object]\"===Object.prototype.toString.call(e)){const{areaCode:t,excludedArea:i}=e;if(!t)throw new xv(xg.INVALID_PARAMS,\"area code is needed\");let r=t;\"string\"==typeof t&&(r=[t]),n=i?KD(r,i):r}if(!t){if(MC.AREAS){const e=new xv(xg.PROHIBITED_OPERATION,\"setArea is prohibited because of config-distribute\");return i.onError(e),void KC.warning(\"setArea is prohibited because of config-distribute\")}if(Pr(n).call(n,rI.GLOBAL)&&kC(\"AREAS\")===rI.EXTENSIONS){const e=new xv(xg.PROHIBITED_OPERATION,\"setArea is prohibited because of ap extensions\");return i.onError(e),void KC.warning(\"setArea is prohibited because of ap extensions\")}}LC(\"AREAS\",n,t);const r=jD(n);Object.keys(r).map((e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){LC(e,r[e][0])}else LC(e,r[e])})),KC.debug(\"set area success:\",n.join(\",\"))}catch(e){throw i.onError(e),e}i.onSuccess()}function JD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function zD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?JD(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):JD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let XD=1;function QD(e,t,i,n,r){XD+=1;const s={sid:i.sid,command:\"convergeAllocateEdge\",uid:\"666\",appId:i.appId,ts:Math.floor(Date.now()/1e3),seq:XD,requestId:XD,version:OC,cname:i.cname},o={service_name:t,json_body:JSON.stringify(s)};let a,c,d=e[0];return XT((async()=>{a=Date.now();const e=await VD(d,{data:o,cancelToken:n,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"}});if(c=Date.now()-a,0!==e.code){const t=new xv(xg.UNEXPECTED_RESPONSE,\"live streaming ap error, code\"+e.code,{retry:!0,responseTime:c});throw KC.error(t.toString()),t}const i=JSON.parse(e.json_body);if(200!==i.code){const e=new xv(xg.UNEXPECTED_RESPONSE,\"live streaming app center error, code: \".concat(i.code,\", reason: \").concat(i.reason),{code:i.code,responseTime:c});throw KC.error(e.toString()),e}if(!i.servers||0===i.servers.length){const e=new xv(xg.UNEXPECTED_RESPONSE,\"live streaming app center empty server\",{code:i.code,responseTime:c});throw KC.error(e.toString()),e}const r=function(e,t){return{addressList:e.servers.map((e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(kC(\"WORKER_DOMAIN\"),\":\").concat(e.wss,\"?serviceName=\").concat(encodeURIComponent(t)))),workerToken:e.workerToken,vid:e.vid}}(i,t);return kC(\"LIVE_STREAMING_ADDRESS\")&&(r.addressList=kC(\"LIVE_STREAMING_ADDRESS\")instanceof Array?kC(\"LIVE_STREAMING_ADDRESS\"):[kC(\"LIVE_STREAMING_ADDRESS\")]),zD(zD({},r),{},{responseTime:c})}),((n,r)=>(rv.apworkerEvent(i.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(n.addressList),firstSuccess:0===r,responseTime:c,serverIp:e[r%e.length]}),!1)),((n,r)=>(rv.apworkerEvent(i.sid,{success:!1,sc:n.data&&n.data.code||200,serviceName:t,responseTime:c,serverIp:e[r%e.length]}),!!(n.code!==xg.OPERATION_ABORTED&&n.code!==xg.UNEXPECTED_RESPONSE||n.data&&n.data.retry)&&(d=e[(r+1)%e.length],!0))),r)}let ZD=1;function $D(e,t,i,n){let{url:r,areaCode:s}=e;const o=Date.now();let a;const[c,d]=rP(t,s,[hy.CHOOSE_SERVER]);let l=RT.networkState;return XT((async()=>{l&&RT.networkState===hT.OFFLINE&&RT.onlineWaiter&&await tg.race([RT.onlineWaiter,UT(n&&n.maxRetryTimeout||JT.maxRetryTimeout)]),l=RT.networkState;const{data:e,headers:s}=await VD(r,{data:c,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);a=\"1\"===s.http3?1:-1,rv.reportResourceTiming(r,t.sid),tP(e,r,t,o,[hy.CHOOSE_SERVER],a);const d=SD(e,hy.CHOOSE_SERVER);return iP(d),ED(d,r)}),(e=>(e&&rv.joinChooseServer(t.sid,{lts:o,succ:!0,csAddr:r,opid:d,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[hy.CHOOSE_SERVER].toString(),isHttp3:a}),!1)),(e=>e.code!==xg.OPERATION_ABORTED&&(e.code===xg.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(rv.joinChooseServer(t.sid,{lts:o,succ:!1,csAddr:r,serverList:null,opid:d,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[hy.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:l}),isHttp3:a}),KC.warning(\"[\".concat(t.clientId,\"] Choose server network error, retry\"),e),!0))),n)}function eP(e,t,i,n){let r,{url:s,areaCode:o,serviceIds:a}=e;const c=Date.now(),[d,l]=rP(t,o,a);let h;return XT((async()=>{h&&RT.networkState===hT.OFFLINE&&RT.onlineWaiter&&await tg.race([RT.onlineWaiter,UT(n&&n.maxRetryTimeout||JT.maxRetryTimeout)]),h=RT.networkState;const{data:e,headers:o}=await VD(s,{data:d,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);r=\"1\"===o.http3?1:-1,rv.reportResourceTiming(s,t.sid),tP(e,s,t,c,a,r);const l=SD(e,hy.CHOOSE_SERVER),u=SD(e,\"proxy5\"===t.cloudProxyServer?hy.CLOUD_PROXY_5:\"proxy3\"===t.cloudProxyServer||\"proxy4\"===t.cloudProxyServer?hy.CLOUD_PROXY:hy.CLOUD_PROXY_FALLBACK);return iP(l),{gatewayInfo:ED(l,s),proxyInfo:u,url:s}}),(e=>(e.gatewayInfo&&rv.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:s,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:l,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:a.toString(),isHttp3:r}),e.proxyInfo&&rv.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:s,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(\",\"),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:a.toString()}),!1)),(e=>e.code!==xg.OPERATION_ABORTED&&(e.code===xg.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(rv.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:s,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:a.toString(),extend:JSON.stringify({networkState:h})}),KC.warning(\"[\".concat(t.clientId,\"] multi unilbs network error, retry\"),e),!0))),n)}const tP=(e,t,i,n,r,s)=>{const o=[],a=o=>{4096===o.flag?rv.joinChooseServer(i.sid,{lts:n,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:o.error.message,csIp:o.error.data&&o.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:s}):1048576!==o.flag&&4194304!==o.flag&&4194310!==o.flag||rv.joinWebProxyAP(i.sid,{lts:n,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:o.error.code,eventType:i.cloudProxyServer,unilbsServerIds:r.toString()})};if(e.response_body.forEach((t=>{const i=t.buffer.code;if(23===t.uri&&0===i&&!t.buffer.edges_services)if(4194310===t.buffer.flag)KC.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\"),t.buffer.edges_services=[];else{const i={error:new xv(xg.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};o.push(i),a(i)}if(0!==i){const n=kI(i),r={error:new xv(xg.CAN_NOT_GET_GATEWAY_SERVER,n.desc,{desc:n.desc,retry:n.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?KC.warning(r.error.toString()):o.push(r),a(r)}})),o.length)throw KC.warning(\"[\".concat(i.clientId,\"] multi unilbs \").concat(t,\" failed, \").concat(o.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message,\", retry: \").concat(e.error.data.retry))).join(\" | \"))),new xv(xg.CAN_NOT_GET_GATEWAY_SERVER,o.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message))).join(\" | \"),{retry:!!o.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(o.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})},iP=e=>{var t,i,n,r;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new xv(xg.CAN_NOT_GET_GATEWAY_SERVER,\"void gateway address\",{retry:!0,csIp:e.detail&&e.detail[502]});kC(\"AP_AREA\")&&(null!==(n=e.detail)&&void 0!==n&&n[23]&&\"string\"==typeof(null===(r=e.detail)||void 0===r?void 0:r[23])?YD(e.detail[23].toLowerCase()):YD());if(null!==(t=e.detail)&&void 0!==t&&t[19]&&\"string\"==typeof(null===(i=e.detail)||void 0===i?void 0:i[19])){const t=e.detail[19],i=null==t?void 0:t.split(\";\");for(let t=0;t<i.length;t++){var s;const n=fy(s=i[t]).call(s);e.addresses[t]&&i&&(e.addresses[t].fingerprint=n)}}if(kC(\"GATEWAY_ADDRESS\")&&kC(\"GATEWAY_ADDRESS\").length>0){KC.debug(\"assign gateway address to\",kC(\"GATEWAY_ADDRESS\"));const t=kC(\"GATEWAY_ADDRESS\").map((t=>{var i,n;const r=null!==(i=null===(n=e.addresses.find((e=>e.ip===t.ip&&e.port===t.port)))||void 0===n?void 0:n.fingerprint)&&void 0!==i?i:\"\";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:r}}));e.addresses=t}},nP=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=kI(t.buffer.code);throw new xv(xg.UPDATE_TICKET_FAILED,\"[\".concat(t.buffer.code,\"]: \").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw KC.debug(\"update ticket request received ap response without response body:\",t),new xv(xg.UPDATE_TICKET_FAILED,\"cannot find response body from ap response\",{retry:!1})},rP=(e,t,i)=>{const n=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:zD({6:e.stringUid,11:t,12:kC(\"USE_NEW_TOKEN\")?\"1\":void 0,22:t},kC(\"AP_RTM\")?{26:\"RTM2\"}:{}),key:e.token,service_ids:i,uid:e.uid||0}}]};r.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const s=new FormData;return s.append(\"request\",JSON.stringify(r)),[s,n]},sP=(e,t)=>{const i=Math.floor(Math.random()*10**12),n={appid:e.appId,client_ts:Date.now(),opid:i,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:\"\",6:e.stringUid,12:\"1\"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},r=new FormData;return r.append(\"request\",JSON.stringify(n)),[r,i]};let oP=0;function aP(e){return tg.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}const cP=async e=>{let{fragementLength:t,referenceList:i,asyncMapHandler:n,allFailedhandler:r,promisesCollector:s}=e,o=0;const a=t;let c,d=0;const l=async()=>{const e=(()=>{const e=o*a,t=e+a;return i.slice(e,t).map(n)})();s&&s.push(...e);try{c=await aP(e)}catch(e){if(d+=a,o++,!(d>=i.length))return void await l();r(e)}e.forEach((e=>e.cancel()))};return await l(),c};async function dP(e,t,i,n){const r=async function(e,t,i,n){let r=null;const s=[],o=async()=>{const r=kC(\"WEBCS_DOMAIN\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map((t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:FD()}))),o=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),a=await cP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(KC.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),$D(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},o),e[0]},promisesCollector:s});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},o),a},a=async()=>{if(await UT(1e3),null!==r)return r;const o=kC(\"WEBCS_DOMAIN_BACKUP_LIST\").map((t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:FD()}))),a=n.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:o.map((e=>e.url))}),c=await cP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:o,asyncMapHandler:n=>(KC.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),$D(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},a),e[0]},promisesCollector:s});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),c};try{return r=await aP([o(),a()]),s.length&&s.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),r}catch(e){throw e[0]}}(e,t,i,n);return{gatewayInfo:await r}}async function lP(e,t,i,n,r){const s=e.cloudProxyServer;if(\"disabled\"===s){if(!n)return;if(e.useLocalAccessPoint)return await dP(e,t,i,r);if(kC(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")){const{gatewayInfo:n,proxyInfo:s}=await pP(e,t,i,r);return e.turnServer&&\"auto\"!==e.turnServer.mode||(e.turnServer={mode:\"manual\",servers:s.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||ov.tcpport,udpport:e.udpport||ov.udpport,username:e.username||ov.username,password:e.password||ov.password,forceturn:!1,security:!0})))}),{gatewayInfo:n}}return await dP(e,t,i,r)}const{proxyInfo:o,gatewayInfo:a}=await pP(e,t,i,r),c={gatewayInfo:a};return e.turnServer={mode:\"manual\",servers:o.map((e=>({turnServerURL:e.address,tcpport:\"proxy3\"===s?void 0:e.tcpport?e.tcpport:ov.tcpport,udpport:\"proxy4\"===s?void 0:e.udpport?e.udpport:ov.udpport,username:e.username||ov.username,password:e.password||ov.password,forceturn:\"proxy4\"!==s,security:\"proxy5\"===s})))},KC.debug(\"[\".concat(e.clientId,\"] set proxy server: \").concat(e.proxyServer,\", mode: \").concat(s)),c}async function hP(e,t,i,n,r){const s=kC(\"ACCOUNT_REGISTER\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\"));let o=[];o=t.proxyServer?s.map((e=>\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1\"))):s.map((e=>\"https://\".concat(e,\"/api/v1\")));const a=null==r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"stringUID\",urls:o});try{const s=await async function(e,t,i,n,r){const s=Date.now(),o={sid:i.sid,opid:10,appid:i.appId,string_uid:t};let a=e[0];const c=await XT((()=>VD(a+\"\".concat(-1===a.indexOf(\"?\")?\"?\":\"&\",\"action=stringuid\"),{data:o,cancelToken:n,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}})),((i,n)=>{if(0===i.code){if(i.uid<=0||i.uid>=Math.pow(2,32))throw KC.error(\"Invalid Uint Uid \".concat(t,\" => \").concat(i.uid),i),rv.reqUserAccount(o.sid,{lts:s,success:!1,serverAddr:a,stringUid:o.string_uid,uid:i.uid,errorCode:xg.INVALID_UINT_UID_FROM_STRING_UID,extend:o}),new xv(xg.INVALID_UINT_UID_FROM_STRING_UID);return rv.reqUserAccount(o.sid,{lts:s,success:!0,serverAddr:a,stringUid:o.string_uid,uid:i.uid,errorCode:null,extend:o}),!1}const r=kI(i.code);return r.retry&&(a=e[(n+1)%e.length]),rv.reqUserAccount(o.sid,{lts:s,success:!1,serverAddr:a,stringUid:o.string_uid,uid:i.uid,errorCode:r.desc,extend:o}),r.retry}),((t,i)=>t.code!==xg.OPERATION_ABORTED&&(rv.reqUserAccount(o.sid,{lts:s,success:!1,serverAddr:a,stringUid:o.string_uid,uid:null,errorCode:t.code,extend:o}),a=e[(i+1)%e.length],!0)),r);if(0!==c.code){const e=kI(c.code);throw new xv(xg.UNEXPECTED_RESPONSE,e.desc)}return c}(o,e,t,i,n);return null==r||r.recordJoinChannelService({status:\"success\",endTs:Date.now()},a),s.uid}catch(e){throw null==r||r.recordJoinChannelService({status:\"error\",endTs:Date.now(),errors:[e]},a),e}}async function uP(e,t,i){const n=kC(\"CDS_AP\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1\"):\"https://\".concat(t,\"/api/v1?action=config\"))).map((n=>function(e,t,i,n){const r=pg(),s={flag:64,cipher_method:0,features:{device:r.name,system:r.os,system_general:navigator.userAgent,vendor:t.appId,version:OC,cname:t.cname,sid:t.sid,session_id:t.sid,detail:\"\",proxyServer:t.proxyServer}};return XT((()=>VD(e,{data:s,timeout:1e3,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":54}})),void 0,(e=>e.code!==xg.OPERATION_ABORTED),n)}(n,e,t,i)));let r=null,s=null,o={};try{r=await aP(n)}catch(e){if(e.code===xg.OPERATION_ABORTED)throw e;s=e}n.forEach((e=>e.cancel()));if(rv.reportApiInvoke(e.sid,{name:sT.REQUEST_CONFIG_DISTRIBUTE,options:{error:s,res:r}}).onSuccess(),r&&r.test_tags)try{o=function(e){if(!e.test_tags)return{};const t=e.test_tags,i=Object.keys(t),n={};return i.forEach((e=>{var i;const r=fy(i=e.slice(4)).call(i),s=JSON.parse(t[e])[1];n[r]=s})),n}(r)}catch(e){}return o}async function pP(e,t,i,n){const r=kC(\"PROXY_SERVER_TYPE3\"),s=(e,t,i)=>{let n=i||r;return Array.isArray(n)&&(n=t%2==0?r[1]:r[0]),\"https://\".concat(n,\"/ap/?url=\").concat(e)};let o=null;const a=[],c=async()=>{const r=kC(\"WEBCS_DOMAIN\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map(((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?s(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):s(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:FD(),serviceIds:[hy.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?hy.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?hy.CLOUD_PROXY:hy.CLOUD_PROXY_FALLBACK]}})),o=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),c=await cP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(KC.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),eP(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},o),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},o),c},d=async()=>{if(await UT(1e3),null!==o)return o;const r=kC(\"WEBCS_DOMAIN_BACKUP_LIST\").map(((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?s(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):s(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:FD(),serviceIds:[hy.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?hy.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?hy.CLOUD_PROXY:hy.CLOUD_PROXY_FALLBACK]}})),c=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),d=await cP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(KC.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),eP(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},c),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},c),d};let l,h,u;try{({gatewayInfo:l,proxyInfo:h,url:u}=await aP([c(),d()]))}catch(e){throw e[0]}if(a.length&&a.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),!l||!h)throw new xv(xg.UNEXPECTED_ERROR,\"missing gateway or proxy response\").print();if(e.apUrl=u,\"disabled\"!==e.cloudProxyServer&&Array.isArray(r)&&u){const t=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(u)[1];Pr(r).call(r,t)&&(e.proxyServer=t,KC.setProxyServer(t),rv.setProxyServer(t))}return o={gatewayInfo:l,proxyInfo:await RD(h,l.uid)},o}async function _P(e,t,i,n){const r=kC(\"UAP_AP\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map((e=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1?action=uap\"):\"https://\".concat(e,\"/api/v1?action=uap\")));return await QD(r,e,t,i,n)}async function EP(e,t,i){const n=kC(\"UAP_AP\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1?action=uap\"):\"https://\".concat(t,\"/api/v1?action=uap\"))).map((n=>function(e,t,i,n){const r={command:\"convergeAllocateEdge\",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:OC,cname:t.cname,uid:t.uid.toString(),requestId:ZD,seq:ZD};ZD+=1;const s={service_name:\"tele_channel\",json_body:JSON.stringify(r)};return XT((async()=>{const t=await VD(e,{data:s,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":61}});if(0!==t.code){const e=new xv(xg.UNEXPECTED_RESPONSE,\"cross channel ap error, code\"+t.code,{retry:!0});throw KC.error(e.toString()),e}const n=JSON.parse(t.json_body);if(200!==n.code){const e=new xv(xg.UNEXPECTED_RESPONSE,\"cross channel app center error, code: \".concat(n.code,\", reason: \").concat(n.reason));throw KC.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new xv(xg.UNEXPECTED_RESPONSE,\"cross channel app center empty server\");throw KC.error(e.toString()),e}return{vid:n.vid,workerToken:n.workerToken,addressList:(kC(\"CHANNEL_MEDIA_RELAY_SERVERS\")||n.servers).map((e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(kC(\"WORKER_DOMAIN\"),\":\").concat(e.wss)))}}),void 0,(e=>!!(e.code!==xg.OPERATION_ABORTED&&e.code!==xg.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),n)}(n,e,t,i)));try{const e=await aP(n);return n.forEach((e=>e.cancel())),e}catch(e){throw e[0]}}async function mP(e,t,i){let n=null;const r=[],s=async s=>{const o=kC(s?\"WEBCS_DOMAIN_BACKUP_LIST\":\"WEBCS_DOMAIN\").map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\")));return s&&(await UT(1e3),null!==n)?n:await cP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:o,asyncMapHandler:n=>(KC.debug(\"[\".concat(e.clientId,\"] update ticket, Connect to \").concat(s?\"backup\":\"\",\" choose_server:\"),n),function(e,t,i,n){const[r]=sP(t,[hy.CHOOSE_SERVER]);let s=RT.networkState;return XT((async()=>{s&&RT.networkState===hT.OFFLINE&&RT.onlineWaiter&&await tg.race([RT.onlineWaiter,UT(n&&n.maxRetryTimeout||JT.maxRetryTimeout)]),s=RT.networkState;const t=await VD(e,{data:r,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0);return nP(t,e)}),(()=>!1),(e=>e.code!==xg.OPERATION_ABORTED&&(e.code===xg.UPDATE_TICKET_FAILED?e.data.retry:(KC.warning(\"[\".concat(t.clientId,\"] update ticket network error, retry\"),e),!0))),n)}(n,e,t,i)),allFailedhandler:e=>{throw e[0]},promisesCollector:r})};try{return n=await aP([s(!1),s(!0)]),r.length&&r.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),n}catch(e){throw e[0]}}function fP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function gP(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?fP(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):fP(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class TP extends iT{constructor(){super(),nu(this,\"configs\",void 0),nu(this,\"joinInfo\",void 0),nu(this,\"cancelToken\",void 0),nu(this,\"retryConfig\",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),nu(this,\"interval\",void 0),nu(this,\"mutex\",new YT(\"config-distribute\")),nu(this,\"mutableParamsRead\",!1)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),kC(\"ENABLE_CONFIG_DISTRIBUTE\")&&(this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),kC(\"CONFIG_DISTRIBUTE_INTERVAL\")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){if(!this.mutex.isLocked)return;(await this.mutex.lock())()}async updateConfigDistribute(){if(!this.mutableParamsRead){this.mutableParamsRead=!0;rv.reportApiInvoke(null,{options:void 0,name:sT.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:oT.TRACER}).onSuccess(JSON.stringify(MC))}if(!this.joinInfo||!this.cancelToken||!this.retryConfig)return void KC.debug(\"[config-distribute] get config distribute interrupted have no joininfo\");let e;const t=await this.mutex.lock();try{e=await uP(this.joinInfo,this.cancelToken,this.retryConfig),KC.debug(\"[config-distribute] get config distribute\",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(e){const t=new xv(xg.NETWORK_RESPONSE_ERROR,e);KC.warning(\"[config-distribute] \".concat(t.toString()))}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(dI.UPDATE_BITRATE_LIMIT,e):this.emit(dI.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&gP({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const i=Zu(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let t=0;t<i.length;t++)for(let n=i.length-1;n>t;n--){const t=i[n];if(\"number\"==typeof e[t].__priority){const r=e[t].__priority,s=i[n-1];if(\"number\"==typeof e[s].__priority){if(!(r>e[s].__priority))continue;{const e=t;i[n]=i[n-1],i[n-1]=e}}else{const e=t;i[n]=i[n-1],i[n-1]=e}}}const n={};i.forEach((t=>{const i=e[t],r=i.__expires;Object.keys(i).forEach((e=>{\"__priority\"===e||\"__expires\"===e||Object.prototype.hasOwnProperty.call(n,e)||(n[e]=gP({value:i[e]},r&&{expires:r}))}))}));try{!function(e){try{const t=Date.now();Object.keys(e).forEach((i=>{switch(i){case\"ENABLE_EVENT_REPORT\":case\"UPLOAD_LOG\":if(Object.prototype.hasOwnProperty.call(PC,i)){const{value:n,expires:r}=e[i];if(r&&r<=t)return;MC[i]=n,PC[i]=n,KC.debug(\"Update global parameters from config distribute\",i,n)}}}))}catch(t){KC.error(\"Error update config immediately: \".concat(e),t.message)}}(n);const e=JSON.stringify(n),t=window.btoa(e);window.localStorage.setItem(\"websdk_ng_global_parameter\",t),KC.debug(\"Caching global parameters \".concat(e))}catch(e){KC.error(\"Error caching global parameters:\",e.message)}}}function SP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function RP(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?SP(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):SP(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class CP extends iT{constructor(e,t,i,n){super(),nu(this,\"spec\",void 0),nu(this,\"token\",void 0),nu(this,\"websocket\",void 0),nu(this,\"pingpongTimer\",void 0),nu(this,\"reconnectMode\",\"retry\"),nu(this,\"serviceMode\",void 0),nu(this,\"reqId\",0),nu(this,\"commandReqId\",0),nu(this,\"handleWebSocketOpen\",(()=>{this.reconnectMode=\"retry\",this.startPingPong()})),nu(this,\"handleWebSocketMessage\",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit(\"@\".concat(t.requestId,\"-\").concat(t.sid),t):this.serviceMode===yv.INJECT?this.emit(Kv.INJECT_STREAM_STATUS,t):(rv.workerEvent(this.spec.sid,{actionType:\"status\",serverCode:t.code,workerType:this.serviceMode===yv.TRANSCODE?1:2}),this.emit(Kv.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=n,this.websocket=new XI(\"live-streaming\",i),this.websocket.on(Iv.CONNECTED,this.handleWebSocketOpen),this.websocket.on(Iv.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(Iv.REQUEST_NEW_URLS,((e,t)=>{fT(this,Kv.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(Iv.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,i,n){this.reqId+=1,\"request\"===e&&(this.commandReqId+=1);const r=this.commandReqId,s=this.reqId;if(!s||!this.websocket)throw new xv(xg.UNEXPECTED_ERROR);const o=RP({command:e,sdkVersion:\"4.19.3\"===OC?\"0.0.1\":OC,seq:s,requestId:s,allocate:i,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if(\"closed\"===this.websocket.state)throw new xv(xg.WS_DISCONNECT);const a=()=>new tg(((e,t)=>{this.websocket.once(Iv.CLOSED,(()=>t(new xv(xg.WS_ABORT)))),this.websocket.once(Iv.CONNECTED,e)}));\"connected\"!==this.websocket.state&&await a(),o.clientRequest&&(o.clientRequest.workerToken=this.token);const c=new tg(((e,t)=>{const i=()=>{t(new xv(xg.WS_ABORT))};this.websocket.once(Iv.RECONNECTING,i),this.websocket.once(Iv.CLOSED,i),this.once(\"@\".concat(s,\"-\").concat(this.spec.sid),(t=>{e(t)}))}));n&&rv.workerEvent(this.spec.sid,RP(RP({},n),{},{requestId:r,actionType:\"request\",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const d=Date.now();this.websocket.sendMessage(o);let l=null;try{l=await c}catch(n){if(\"closed\"===this.websocket.state)throw n;return await a(),await this.request(e,t,i)}return n&&rv.workerEvent(this.spec.sid,RP(RP({},n),{},{requestId:r,actionType:\"response\",payload:JSON.stringify(l.serverResponse),serverCode:l.code,success:200===l.code,responseTime:Date.now()-d})),200!==l.code&&this.handleResponseError(l),l}tryNextAddress(){this.reconnectMode=\"tryNext\",this.websocket.reconnect(\"tryNext\")}close(){const e=\"4.19.3\"===OC?\"0.0.1\":OC;this.reqId+=1,\"connected\"===this.websocket.state?(this.websocket.sendMessage({command:\"request\",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:\"DestroyWorker\"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case qv.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void KC.warning(\"live stream response already exists stream\");case qv.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case qv.LIVE_STREAM_RESPONSE_BAD_STREAM:case qv.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new xv(xg.LIVE_STREAMING_INVALID_ARGUMENT,\"\",{code:e.code}).throw();case qv.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(\"UnpublishStream\"===e.serverResponse.command||\"UninjectStream\"===e.serverResponse.command)return;throw new xv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case qv.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new xv(xg.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,\"\",{code:e.code}).throw();case qv.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new xv(xg.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(Kv.WARNING,t,e.serverResponse.url)}case qv.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new xv(xg.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(Kv.WARNING,t,e.serverResponse.url)}case qv.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new xv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case qv.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new xv(xg.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,\"\",{code:e.code}).throw();case qv.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new xv(xg.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(Kv.WARNING,t,e.serverResponse.url)}case qv.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new xv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code}).throw();case qv.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new xv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream resource limit\",{retry:!0,changeAddress:!0});case qv.LIVE_STREAM_RESPONSE_WORKER_LOST:case qv.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(\"UnpublishStream\"===e.serverResponse.command||\"UninjectStream\"===e.serverResponse.command)return;throw new xv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case qv.ERROR_FAIL_SEND_MESSAGE:if(\"UnpublishStream\"===e.serverResponse.command||\"UninjectStream\"===e.serverResponse.command)return;if(\"UpdateTranscoding\"===e.serverResponse.command||\"ControlStream\"===e.serverResponse.command)return new xv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{code:e.code}).throw();throw new xv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case qv.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case qv.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case qv.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case qv.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new xv(xg.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{\"connected\"===this.websocket.state&&this.request(\"ping\",{}).catch(FT)}),6e3)}}function vP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function IP(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?vP(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vP(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class yP extends iT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JT;super(),nu(this,\"onLiveStreamWarning\",void 0),nu(this,\"onLiveStreamError\",void 0),nu(this,\"onInjectStatusChange\",void 0),nu(this,\"spec\",void 0),nu(this,\"retryTimeout\",1e4),nu(this,\"connection\",void 0),nu(this,\"httpRetryConfig\",void 0),nu(this,\"wsRetryConfig\",void 0),nu(this,\"streamingTasks\",new Map),nu(this,\"isStartingStreamingTask\",!1),nu(this,\"taskMutex\",new YT(\"live-streaming\")),nu(this,\"cancelToken\",EC.CancelToken.source()),nu(this,\"transcodingConfig\",void 0),nu(this,\"injectConfig\",IP({},Hv)),nu(this,\"injectLoopTimes\",0),nu(this,\"uapResponse\",void 0),nu(this,\"lastTaskId\",1),nu(this,\"statusError\",new Map),this.spec=e,this.httpRetryConfig=i,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=IP(IP({},Wv),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(KC.debug(\"[\".concat(this.spec.clientId,\"] set transcoding config, fix video codec profile: \").concat(t.videoCodecProfile,\" -> 100\")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>IP(IP(IP({},Bv),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),function(e){Kg(e.width)||jg(e.width,\"config.width\",0,1e4),Kg(e.height)||jg(e.height,\"config.height\",0,1e4),Kg(e.videoBitrate)||jg(e.videoBitrate,\"config.videoBitrate\",1,1e6),Kg(e.videoFrameRate)||jg(e.videoFrameRate,\"config.videoFrameRate\"),Kg(e.lowLatency)||Fg(e.lowLatency,\"config.lowLatency\"),Kg(e.audioSampleRate)||Bg(e.audioSampleRate,\"config.audioSampleRate\",[32e3,44100,48e3]),Kg(e.audioBitrate)||jg(e.audioBitrate,\"config.audioBitrate\",1,128),Kg(e.audioChannels)||Bg(e.audioChannels,\"config.audioChannels\",[1,2,3,4,5]),Kg(e.videoGop)||jg(e.videoGop,\"config.videoGop\"),Kg(e.videoCodecProfile)||Bg(e.videoCodecProfile,\"config.videoCodecProfile\",[66,77,100]),Kg(e.userCount)||jg(e.userCount,\"config.userCount\",0,17),Kg(e.backgroundColor)||jg(e.backgroundColor,\"config.backgroundColor\",0,16777215),Kg(e.userConfigExtraInfo)||Wg(e.userConfigExtraInfo,\"config.userConfigExtraInfo\",0,4096,!1),e.transcodingUsers&&!Kg(e.transcodingUsers)&&(Hg(e.transcodingUsers,\"config.transcodingUsers\"),e.transcodingUsers.forEach(((e,t)=>{Fv(e.uid),Kg(e.x)||jg(e.x,\"transcodingUser[\".concat(t,\"].x\"),0,1e4),Kg(e.y)||jg(e.y,\"transcodingUser[\".concat(t,\"].y\"),0,1e4),Kg(e.width)||jg(e.width,\"transcodingUser[\".concat(t,\"].width\"),0,1e4),Kg(e.height)||jg(e.height,\"transcodingUser[\".concat(t,\"].height\"),0,1e4),Kg(e.zOrder)||jg(e.zOrder-1,\"transcodingUser[\".concat(t,\"].zOrder\"),0,100),Kg(e.alpha)||jg(e.alpha,\"transcodingUser[\".concat(t,\"].alpha\"),0,1,!1)}))),Kg(e.watermark)||Gv(e.watermark,\"watermark\"),Kg(e.backgroundImage)||Gv(e.backgroundImage,\"backgroundImage\"),e.images&&!Kg(e.images)&&(Hg(e.images,\"config.images\"),e.images.forEach(((e,t)=>{Gv(e,\"images[\".concat(t,\"]\"))})))}(t);const i=[];t.images&&i.push(...t.images.map((e=>IP(IP(IP({},jv),e),{},{zOrder:255})))),t.backgroundImage&&(i.push(IP(IP(IP({},jv),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(i.push(IP(IP(IP({},jv),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=i,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>IP({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const n=(t.userConfigs||[]).map((e=>\"number\"==typeof e.uid?tg.resolve(e.uid):hP(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await tg.all(n)).forEach(((e,i)=>{t.userConfigs&&t.userConfigs[i]&&(t.userConfigs[i].uid=e)})),this.transcodingConfig=t,this.connection)try{var r;const e=await this.connection.request(\"request\",{clientRequest:{command:\"UpdateTranscoding\",transcodingConfig:this.transcodingConfig}},!1,{command:\"UpdateTranscoding\",workerType:1,requestByUser:!0,tid:Array.from(kv(r=this.streamingTasks).call(r)).map((e=>e.taskId)).join(\"#\")});KC.debug(\"[\".concat(this.spec.clientId,\"] update live transcoding config success, code: \").concat(e.code,\", config:\"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t=>{KC.warning(\"[\".concat(this.spec.clientId,\"] live streaming receive error\"),e.toString(),\"try to republish\",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then((()=>{KC.debug(\"[\".concat(this.spec.clientId,\"] live streaming republish \").concat(t.url,\" success\"))})).catch((e=>{KC.error(\"[\".concat(this.spec.clientId,\"] live streaming republish failed\"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)}))}))}}setInjectStreamConfig(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t}async startLiveStreamingTask(e,t,i){var n;if(Array.from(kv(n=this.streamingTasks).call(n)).find((e=>e.mode===yv.INJECT))&&t===yv.INJECT)return new xv(xg.LIVE_STREAMING_TASK_CONFLICT,\"inject stream over limit\").throw();if(!this.transcodingConfig&&t===yv.TRANSCODE)throw new xv(xg.INVALID_OPERATION,\"[LiveStreaming] no transcoding config found, can not start transcoding streaming task\");let r={command:\"PublishStream\",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};KC.debug(\"[\".concat(this.spec.clientId,\"] start live streaming \").concat(e,\", mode: \").concat(t));const s=await this.taskMutex.lock();if(!this.connection&&i)return void s();if(this.streamingTasks.get(e)&&!i)return s(),new xv(xg.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw s(),e}switch(t){case yv.TRANSCODE:r.transcodingConfig=IP({},this.transcodingConfig);break;case yv.RAW:break;case yv.INJECT:r={cname:this.spec.cname,command:\"InjectStream\",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(r.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const o=this.lastTaskId++;try{const n=new tg(((t,n)=>{UT(this.retryTimeout).then((()=>{if(i)return n(i);const t=this.statusError.get(e);return t?(this.statusError.delete(e),n(t)):void 0}))})),a=await tg.race([this.connection.request(\"request\",{clientRequest:r},!0,{url:e,command:\"PublishStream\",workerType:t===yv.TRANSCODE?1:2,requestByUser:!i,tid:o.toString()}),n]);this.isStartingStreamingTask=!1,KC.debug(\"[\".concat(this.spec.clientId,\"] live streaming started, code: \").concat(a.code)),this.streamingTasks.set(e,{clientRequest:r,mode:t,url:e,taskId:o}),s()}catch(n){if(s(),this.isStartingStreamingTask=!1,!n.data||!n.data.retry||i)throw n;return n.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,n)):await this.startLiveStreamingTask(e,t,n)}}stopLiveStreamingTask(e){return new tg(((t,i)=>{const n=this.streamingTasks.get(e);if(!n||!this.connection)return new xv(xg.UNEXPECTED_ERROR,\"can not find streaming task to stop\").throw();const r=n.mode;n.abortTask=()=>{KC.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success(worker exception)\")),this.streamingTasks.delete(e),t()},this.connection.request(\"request\",{clientRequest:{command:r===yv.INJECT?\"UninjectStream\":\"UnpublishStream\",url:n.url}},!1,{url:e,command:\"UnPublishStream\",workerType:r===yv.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((i=>{KC.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success, code: \").concat(i.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&r!==yv.INJECT&&(this.connection&&this.connection.close(),this.connection=void 0),t(),r===yv.INJECT&&this.onInjectStatusChange&&this.onInjectStatusChange(Av.INJECT_STREAM_STATUS_STOP_SUCCESS,this.spec.uid,e)})).catch(i)}))}async controlInjectStream(e,t,i,n){const r=this.streamingTasks.get(e);if(!r||!this.connection||r.mode!==yv.INJECT)throw new xv(xg.INVALID_OPERATION,\"can not find inject stream task to control\");return(await this.connection.request(\"request\",{clientRequest:{command:\"ControlStream\",url:e,control:t,audioVolume:i,position:n}})).serverResponse}resetAllTask(){var e;const t=Array.from(kv(e=this.streamingTasks).call(e));this.terminate();for(const e of t)this.startLiveStreamingTask(e.url,e.mode).catch((t=>{this.onLiveStreamError&&this.onLiveStreamError(e.url,t)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=EC.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new xv(xg.UNEXPECTED_ERROR,\"live streaming connection has already connected\");const t=await fT(this,Yv.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new CP(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(Kv.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(Kv.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(Kv.INJECT_STREAM_STATUS,(e=>this.handleInjectStreamServerStatus(e))),this.connection.on(Kv.REQUEST_NEW_ADDRESS,((t,i)=>{if(!this.connection)return i(new xv(xg.UNEXPECTED_ERROR,\"can not get new live streaming address list\"));fT(this,Yv.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(i)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||\"empty_url\",i=this.streamingTasks.get(t),n=e.reason;switch(e.code){case qv.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case qv.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case qv.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case qv.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const n=new xv(xg.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code});if(i)return KC.error(n.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,n);if(!this.isStartingStreamingTask)return;this.statusError.set(t,n)}case qv.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new xv(xg.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,n);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case qv.LIVE_STREAM_RESPONSE_WORKER_LOST:case qv.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var r;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(kv(r=this.streamingTasks).call(r));for(const i of t)i.abortTask?i.abortTask():(KC.warning(\"[\".concat(this.spec.clientId,\"] publish stream status code\"),e.code,\"try to republish\",i.url),this.startLiveStreamingTask(i.url,i.mode,new xv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code})).then((()=>{KC.debug(\"[\".concat(this.spec.clientId,\"] republish live stream success\"),i.url)})).catch((e=>{KC.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(i.url,e)})));return}}}handleInjectStreamServerStatus(e){const t=Number(e.uid),i=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(Av.INJECT_STREAM_STATUS_START_SUCCESS,t,i));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(Av.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,t,i),void this.streamingTasks.delete(i);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(Av.INJECT_STREAM_STATUS_START_UNAUTHORIZED,t,i),void this.streamingTasks.delete(i);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(Av.INJECT_STREAM_STATUS_BROKEN,t,i),void this.streamingTasks.delete(i);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(Av.INJECT_STREAM_STATUS_START_TIMEOUT,t,i),void this.streamingTasks.delete(i);default:return void KC.debug(\"inject stream server status\",e)}}hasUrl(e){return this.streamingTasks.has(e)}}class AP{constructor(){nu(this,\"destChannelMediaInfos\",new Map),nu(this,\"srcChannelMediaInfo\",void 0)}setSrcChannelInfo(e){sI(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){sI(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){Vv(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function bP(e){if(!(e instanceof AP)){return new xv(xg.INVALID_PARAMS,\"Config should be instance of [ChannelMediaRelayConfiguration]\").throw()}const t=e.getSrcChannelMediaInfo(),i=e.getDestChannelMediaInfo();if(!t){return new xv(xg.INVALID_PARAMS,\"srcChannelMediaInfo should not be empty\").throw()}if(0===i.size){return new xv(xg.INVALID_PARAMS,\"destChannelMediaInfo should not be empty\").throw()}}class wP extends iT{constructor(e,t,i){super(),nu(this,\"ws\",void 0),nu(this,\"requestId\",1),nu(this,\"heartBeatTimer\",void 0),nu(this,\"joinInfo\",void 0),nu(this,\"clientId\",void 0),nu(this,\"onOpen\",(()=>{this.emit(\"open\"),this.startHeartBeatCheck()})),nu(this,\"onClose\",(e=>{this.emit(\"close\"),this.dispose()})),nu(this,\"onMessage\",(e=>{const t=JSON.parse(e.data);if(!t||\"serverResponse\"!==t.command||!t.requestId)return t&&\"serverStatus\"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit(\"status\",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit(\"req_\".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new XI(\"cross-channel-\".concat(this.clientId),i),this.ws.on(Iv.RECONNECTING,(()=>{this.ws.reconnectMode=\"retry\",this.emit(\"reconnecting\")})),this.ws.on(Iv.CONNECTED,this.onOpen),this.ws.on(Iv.ON_MESSAGE,this.onMessage),this.ws.on(Iv.CLOSED,this.onClose)}isConnect(){return\"connected\"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new tg(((t,i)=>{const n=window.setTimeout((()=>{i(new xv(xg.TIMEOUT,\"wait status timeout, status: \".concat(e)))}),5e3);this.once(e,(r=>{window.clearTimeout(n),r.state&&0!==r.state?i(new xv(xg.CROSS_CHANNEL_WAIT_STATUS_ERROR,\"wait status error, status: \".concat(e))):t(void 0)})),this.once(\"dispose\",(()=>{window.clearTimeout(n),i(new xv(xg.WS_ABORT))}))}))}async request(e){if(\"closed\"===this.ws.state)throw new xv(xg.WS_DISCONNECT);const t=()=>new tg(((e,t)=>{this.ws.once(Iv.CLOSED,(()=>t(new xv(xg.WS_ABORT)))),this.ws.once(Iv.CONNECTED,e)}));\"connected\"!==this.ws.state&&await t();const i=this.sendMessage(e),n=new tg(((e,t)=>{const n=()=>{t(new xv(xg.WS_ABORT))};this.ws.once(Iv.RECONNECTING,n),this.ws.once(Iv.CLOSED,n),this.once(\"req_\".concat(i),e),UT(3e3).then((()=>{this.removeAllListeners(\"req_\".concat(i)),this.ws.off(Iv.RECONNECTING,n),this.ws.off(Iv.CLOSED,n),t(new xv(xg.TIMEOUT,\"cross channel ws request timeout\"))}))})),r=await n;if(!r||200!==r.code)throw new xv(xg.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,\"response: \".concat(JSON.stringify(r)));return r}async connect(e){this.ws.removeAllListeners(Iv.REQUEST_NEW_URLS),this.ws.on(Iv.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit(\"dispose\"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:\"ping\",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class OP extends iT{set state(e){e!==this._state&&(e!==Qv.RELAY_STATE_FAILURE&&(this.errorCode=Zv.RELAY_OK),this.emit(\"state\",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,i,n,r){super(),nu(this,\"joinInfo\",void 0),nu(this,\"sid\",void 0),nu(this,\"clientId\",void 0),nu(this,\"cancelToken\",EC.CancelToken.source()),nu(this,\"workerToken\",void 0),nu(this,\"requestId\",0),nu(this,\"signal\",void 0),nu(this,\"prevChannelMediaConfig\",void 0),nu(this,\"httpRetryConfig\",void 0),nu(this,\"_resolution\",void 0),nu(this,\"_state\",Qv.RELAY_STATE_IDLE),nu(this,\"errorCode\",Zv.RELAY_OK),nu(this,\"onStatus\",(e=>{KC.debug(\"[\".concat(this.clientId,\"] ChannelMediaStatus: \").concat(JSON.stringify(e))),e&&e.command&&(\"onAudioPacketReceived\"===e.command&&this.emit(\"event\",Xv.PACKET_RECEIVED_AUDIO_FROM_SRC),\"onVideoPacketReceived\"===e.command&&this.emit(\"event\",Xv.PACKET_RECEIVED_VIDEO_FROM_SRC),\"onSrcTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=Zv.SRC_TOKEN_EXPIRED,this.state=Qv.RELAY_STATE_FAILURE),\"onDestTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=Zv.DEST_TOKEN_EXPIRED,this.state=Qv.RELAY_STATE_FAILURE))})),nu(this,\"onReconnect\",(async()=>{KC.debug(\"[\".concat(this.clientId,\"] ChannelMediaSocket disconnect, reconnecting\")),this.emit(\"event\",Xv.NETWORK_DISCONNECTED),this.state=Qv.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==Qv.RELAY_STATE_IDLE&&(KC.error(\"auto restart channel media relay failed\",e.toString()),this.errorCode=Zv.SERVER_CONNECTION_LOST,this.state=Qv.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.sid=VT(),this.signal=new wP(this.joinInfo,this.clientId,i),this.httpRetryConfig=n,this._resolution=r}async startChannelMediaRelay(e){if(this.state!==Qv.RELAY_STATE_IDLE)throw new xv(xg.INVALID_OPERATION);this.state=Qv.RELAY_STATE_CONNECTING,await this.connect(),KC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: connect success\"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&\"SetSourceChannel\"===e.data.serverResponse.command)throw new xv(xg.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&\"SetDestChannelStatus\"===e.serverResponse.command)throw new xv(xg.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&\"StartPacketTransfer\"===e.serverResponse.command)throw new xv(xg.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==Qv.RELAY_STATE_RUNNING)throw new xv(xg.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async setVideoProfile(e){if(this._resolution=e,this.state!==Qv.RELAY_STATE_RUNNING)throw new xv(xg.INVALID_OPERATION);const t=this.genMessage(zv.SetVideoProfile);await this.signal.request(t),KC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: setVideoProfile success\"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),KC.debug(\"[\".concat(this.clientId,\"] stopChannelMediaRelay: send stop message success\")),this.state=Qv.RELAY_STATE_IDLE,this.dispose()}dispose(){KC.debug(\"[\".concat(this.clientId,\"] disposeChannelMediaRelay\")),this.cancelToken.cancel(),this.cancelToken=EC.CancelToken.source(),this.state=Qv.RELAY_STATE_IDLE,this.emit(\"dispose\"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await EP(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit(\"event\",Xv.NETWORK_CONNECTED),this.signal.on(\"status\",this.onStatus),this.signal.on(\"reconnecting\",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(zv.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus(\"Normal Quit\"),KC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StopPacketTransfer success\"));const i=this.genMessage(zv.SetSdkProfile,e);await this.signal.request(i),KC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSdkProfile success\"));const n=this.genMessage(zv.SetSourceChannel,e);await this.signal.request(n),await this.signal.waitStatus(\"SetSourceChannelStatus\"),this.emit(\"event\",Xv.PACKET_JOINED_SRC_CHANNEL),KC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceChannel success\"));const r=this.genMessage(zv.SetSourceUserId,e);await this.signal.request(r),KC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceUserId success\"));const s=this.genMessage(zv.SetDestChannel,e);await this.signal.request(s),await this.signal.waitStatus(\"SetDestChannelStatus\"),this.emit(\"event\",Xv.PACKET_JOINED_DEST_CHANNEL),KC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetDestChannel success\"));const o=this.genMessage(zv.StartPacketTransfer,e);await this.signal.request(o),this.emit(\"event\",Xv.PACKET_SENT_TO_DEST_CHANNEL),this.state=Qv.RELAY_STATE_RUNNING,KC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StartPacketTransfer success\")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e){const t=this.genMessage(zv.UpdateDestChannel,e);await this.signal.request(t),this.emit(\"event\",Xv.PACKET_UPDATE_DEST_CHANNEL),KC.debug(\"[\".concat(this.clientId,\"] sendUpdateMessage: UpdateDestChannel success\"))}async sendStopRelayMessage(){const e=this.genMessage(zv.StopPacketTransfer);await this.signal.request(e),KC.debug(\"[\".concat(this.clientId,\"] sendStopRelayMessage: StopPacketTransfer success\"))}genMessage(e,t){const i=[],n=[],r=[];this.requestId+=1;const s={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:OC,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};\"4.19.3\"===s.sdkVersion&&(s.sdkVersion=\"0.0.1\");let o=null,a=null;switch(e){case zv.SetSdkProfile:return s.clientRequest={command:\"SetSdkProfile\",type:\"multi_channel\"},s;case zv.SetSourceChannel:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new xv(xg.UNEXPECTED_ERROR,\"can not find source config\");return s.clientRequest={command:\"SetSourceChannel\",uid:\"0\",channelName:a.channelName,token:a.token||this.joinInfo.appId},s;case zv.SetSourceUserId:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new xv(xg.UNEXPECTED_ERROR,\"can not find source config\");return s.clientRequest={command:\"SetSourceUserId\",uid:a.uid+\"\"},s;case zv.SetDestChannel:if(o=t&&t.getDestChannelMediaInfo(),!o)throw new xv(xg.UNEXPECTED_ERROR,\"can not find dest config\");return o.forEach((e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)})),s.clientRequest={command:\"SetDestChannel\",channelName:i,uid:n,token:r},s;case zv.StartPacketTransfer:return s.clientRequest={command:\"StartPacketTransfer\"},s;case zv.Reconnect:return s.clientRequest={command:\"Reconnect\"},s;case zv.StopPacketTransfer:return s.clientRequest={command:\"StopPacketTransfer\"},s;case zv.UpdateDestChannel:if(o=t&&t.getDestChannelMediaInfo(),!o)throw new xv(xg.UNEXPECTED_ERROR,\"can not find dest config\");return o.forEach((e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)})),s.clientRequest={command:\"UpdateDestChannel\",channelName:i,uid:n,token:r},s;case zv.SetVideoProfile:s.clientRequest={command:\"SetVideoProfile\",width:this._resolution.width,height:this._resolution.height}}return s}}class NP{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio)return this._audioTrack}get videoTrack(){if(this.hasVideo)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,t){nu(this,\"uid\",void 0),nu(this,\"_uintid\",void 0),nu(this,\"_trust_in_room_\",!0),nu(this,\"_trust_audio_enabled_state_\",!0),nu(this,\"_trust_video_enabled_state_\",!0),nu(this,\"_trust_audio_mute_state_\",!0),nu(this,\"_trust_video_mute_state_\",!0),nu(this,\"_audio_muted_\",!1),nu(this,\"_video_muted_\",!1),nu(this,\"_audio_enabled_\",!0),nu(this,\"_video_enabled_\",!0),nu(this,\"_audio_added_\",!1),nu(this,\"_video_added_\",!1),nu(this,\"_trust_video_stream_added_state_\",!0),nu(this,\"_trust_audio_stream_added_state_\",!0),nu(this,\"_audioTrack\",void 0),nu(this,\"_videoTrack\",void 0),nu(this,\"_dataChannels\",[]),nu(this,\"_audioSSRC\",void 0),nu(this,\"_videoSSRC\",void 0),nu(this,\"_audioOrtc\",void 0),nu(this,\"_videoOrtc\",void 0),nu(this,\"_cname\",void 0),nu(this,\"_rtxSsrcId\",void 0),this.uid=e,this._uintid=t}}var DP=eg,PP=rm;kn({target:\"Promise\",stat:!0,forced:!0},{withResolvers:function(){var e=PP.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var LP=rm,kP=FE;kn({target:\"Promise\",stat:!0,forced:!0},{try:function(e){var t=LP.f(this),i=kP(e);return(i.error?t.reject:t.resolve)(i.value),t.promise}});var MP=J(DP),UP=Fo.f(\"asyncIterator\"),xP=J(UP);function VP(e,t){this.v=e,this.k=t}function FP(e){var t,i;function n(t,i){try{var s=e[t](i),o=s.value,a=o instanceof VP;MP.resolve(a?o.v:o).then((function(i){if(a){var c=\"return\"===t?\"return\":\"next\";if(!o.k||i.done)return n(c,i);i=e[c](i).value}r(s.done?\"return\":\"normal\",i)}),(function(e){n(\"throw\",e)}))}catch(e){r(\"throw\",e)}}function r(e,r){switch(e){case\"return\":t.resolve({value:r,done:!0});break;case\"throw\":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):i=null}this._invoke=function(e,r){return new MP((function(s,o){var a={key:e,arg:r,resolve:s,reject:o,next:null};i?i=i.next=a:(t=i=a,n(e,r))}))},\"function\"!=typeof e.return&&(this.return=void 0)}function BP(e){return function(){return new FP(e.apply(this,arguments))}}function jP(e){return new VP(e,0)}function GP(e){var t={},i=!1;function n(t,n){return i=!0,{done:!1,value:new VP(n=new MP((function(i){i(e[t](n))})),1)}}return t[void 0!==Uh&&$h||\"@@iterator\"]=function(){return this},t.next=function(e){return i?(i=!1,e):n(\"next\",e)},\"function\"==typeof e.throw&&(t.throw=function(e){if(i)throw i=!1,e;return n(\"throw\",e)}),\"function\"==typeof e.return&&(t.return=function(e){return i?(i=!1,e):n(\"return\",e)}),t}FP.prototype[\"function\"==typeof Uh&&xP||\"@@asyncIterator\"]=function(){return this},FP.prototype.next=function(e){return this._invoke(\"next\",e)},FP.prototype.throw=function(e){return this._invoke(\"throw\",e)},FP.prototype.return=function(e){return this._invoke(\"return\",e)};var WP=J(UP),HP={exports:{}};!function(e,t){e.exports=(()=>{var e={8:(e,t,i)=>{i.r(t),i.d(t,{Parser:()=>C,Printer:()=>b,parse:()=>D,print:()=>P});const n=\"\\n\",r=\"\".concat(\"\\r\").concat(n),s=\" \";let o;function a(e){return e>=\"0\"&&e<=\"9\"}function c(e){return e>=\"!\"&&e<=\"~\"}function d(e){return c(e)||e>=\"\"&&e<=\"ÿ\"}function l(e){return\"!\"===e||e>=\"#\"&&e<=\"'\"||e>=\"*\"&&e<=\"+\"||e>=\"-\"&&e<=\".\"||e>=\"0\"&&e<=\"9\"||e>=\"A\"&&e<=\"Z\"||e>=\"^\"&&e<=\"~\"}function h(e){return e>=\"1\"&&e<=\"9\"}function u(e){return e>=\"A\"&&e<=\"Z\"||e>=\"a\"&&e<=\"z\"}function p(e){return\"d\"===e||\"h\"===e||\"m\"===e||\"s\"===e}function _(e){return e>\"\u0001\"&&e<\"\\t\"||e>\"\\v\"&&e<\"\\f\"||e>\"\u000e\"&&e<\"ÿ\"}function E(e){return u(e)||a(e)||\"+\"===e||\"/\"===e}function m(e){return a(e)||u(e)||\"+\"===e||\"/\"===e||\"-\"===e||\"_\"===e}function f(e){return u(e)||a(e)||\"+\"===e||\"/\"===e}function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(e){e.VERSION=\"v\",e.ORIGIN=\"o\",e.SESSION_NAME=\"s\",e.INFORMATION=\"i\",e.URI=\"u\",e.EMAIL=\"e\",e.PHONE=\"p\",e.CONNECTION=\"c\",e.BANDWIDTH=\"b\",e.TIME=\"t\",e.REPEAT=\"r\",e.ZONE_ADJUSTMENTS=\"z\",e.KEY=\"k\",e.ATTRIBUTE=\"a\",e.MEDIA=\"m\"}(o||(o={}));class R{consumeText(e,t){let i=t;for(;i<e.length;){const t=e[i];if(\"\\0\"===t||\"\\r\"===t||t===n)break;i+=1}if(i-t==0)throw new Error(\"Invalid text, at \".concat(e));return i}consumeUnicastAddress(e,t,i){return this.consumeTill(e,t,s)}consumeOneOrMore(e,t,i){let n=t;for(;i(e[n]);)n++;if(n-t==0)throw new Error(\"Invalid rule at \".concat(t,\".\"));return n}consumeSpace(e,t){if(e[t]===s)return t+1;throw new Error(\"Invalid space at \".concat(t,\".\"))}consumeIP4Address(e,t){let i=t;for(let t=0;t<4;t++)if(i=this.consumeDecimalUChar(e,i),3!==t){if(\".\"!==e[i])throw new Error(\"Invalid IP4 address.\");i++}return i}consumeDecimalUChar(e,t){let i=t;for(let t=0;t<3&&a(e[i]);t++,i++);if(i-t==0)throw new Error(\"Invalid decimal uchar.\");const n=parseInt(e.slice(t,i));if(n>=0&&n<=255)return i;throw new Error(\"Invalid decimal uchar\")}consumeIP6Address(e,t){let i=this.consumeHexpart(e,t);return\":\"===e[i]?(i+=1,i=this.consumeIP4Address(e,i),i):i}consumeHexpart(e,t){let i=t;if(\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}if(i=this.consumeHexseq(e,i),\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}return i}consumeHexseq(e,t){let i=t;for(;i=this.consumeHex4(e,i),\":\"===e[i]&&\":\"!==e[i+1];)i+=1;return i}consumeHex4(e,t){let i=0;for(;i<4;i++)if(!((n=e[t+i])>=\"0\"&&n<=\"9\"||n>=\"a\"&&n<=\"f\"||n>=\"A\"&&n<=\"F\")){if(0===i)throw new Error(\"Invalid hex 4\");break}var n;return t+i}consumeFQDN(e,t){let i=t;for(;a(e[i])||u(e[i])||\"-\"===e[i]||\".\"===e[i];)i+=1;if(i-t<4)throw new Error(\"Invalid FQDN\");return i}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,d)}consumeMulticastAddress(e,t,i){switch(i){case\"IP4\":case\"ip4\":return this.consumeIP4MulticastAddress(e,t);case\"IP6\":case\"ip6\":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(i){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const i=this.consumeHexpart(e,t);return\"/\"===e[i]?this.consumeInteger(e,i+1):i}consumeIP4MulticastAddress(e,t){let i=t+3;const n=e.slice(t,i),r=parseInt(n);if(r<224||r>239)throw new Error(\"Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.\");for(let t=0;t<3;t++){if(\".\"!==e[i])throw new Error(\"Invalid IP4 multicast address.\");i+=1,i=this.consumeDecimalUChar(e,i)}return\"/\"===e[i]&&(i+=1),i=this.consumeTTL(e,i),\"/\"===e[i]&&(i=this.consumeInteger(e,i)),i}consumeInteger(e,t){if(!h(e[t]))throw new Error(\"Invalid integer.\");for(t+=1;a(e[t]);)t+=1;return t}consumeTTL(e,t){if(\"0\"===e[t])return t+1;if(!h(e[t]))throw new Error(\"Invalid TTL.\");t+=1;for(let i=0;i<2&&a(e[t]);i++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,l)}consumeTime(e,t){let i=t;if(\"0\"===e[i])return i+1;for(h(e[i])&&(i+=1);a(e[i]);)i++;if(i-t<10)throw new Error(\"Invalid time\");return i}consumeAddress(e,t){return this.consumeTill(e,t,s)}consumeTypedTime(e,t){let i=t;return i=this.consumeOneOrMore(e,i,a),p(e[i])?i+1:i}consumeRepeatInterval(e,t){if(!h(e[t]))throw new Error(\"Invalid repeat interval\");for(t+=1;a(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,a)}consume(e,t,i){for(let n=0;n<i.length;n++){if(t+n>=e.length)throw new Error(\"consume exceeding value length\");if(e[t+n]!==i[n])throw new Error(\"consume \".concat(i,\" failed at \").concat(n))}return t+i.length}consumeTill(e,t,i){let n=t;for(;n<e.length&&(\"string\"!=typeof i||e[n]!==i)&&(\"function\"!=typeof i||!i(e[n]));)n++;return n}}class C extends R{constructor(){super(),S(this,\"records\",[]),S(this,\"currentLine\",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!e.trim())).map(this.parseLine),this.currentLine=0;const i=this.parseVersion(),n=this.parseOrigin(),r=this.parseSessionName(),s=this.parseInformation(),o=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),d=this.parseConnection(),l=this.parseBandWidth(),h=this.parseTimeFields(),u=this.parseKey(),p=this.parseSessionAttribute(),_=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error(\"parsing failed, non exhaustive sdp lines.\");return{version:i,origin:n,sessionName:r,information:s,uri:o,emails:a,phones:c,connection:d,bandwidths:l,timeFields:h,key:u,attributes:p,mediaDescriptions:_}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error(\"Record doesn't exit.\");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===n)return\"\\r\"===e[t-1]?r:n;throw new Error(\"Invalid newline character.\")}parseLine(e,t){if(e.length<2)throw new Error(\"Invalid sdp line, sdp line should be of form <type>=<value>.\");const i=e[0];if(\"=\"!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an \"=\" sign.');return{type:i,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new I;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==o.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(t,(e=>l(e)&&\":\"!==e)),_cur:0};\":\"===t.value[t.cur]&&(t.cur+=1,i.attValue=this.extractOneOrMore(t,_)),e.parse(i),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new y(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==o.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(e,(e=>l(e)&&\":\"!==e)),_cur:0};\":\"===e.value[e.cur]&&(e.cur+=1,i.attValue=this.extractOneOrMore(e,_)),t.parse(i),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===o.KEY){if(\"prompt\"===e.value||\"clear:\"===e.value||\"base64:\"===e.value||\"uri:\"===e.value)return e.value;throw this.currentLine++,new Error(\"Invalid key.\")}}parseZone(){const e=this.getCurrentRecord();if(e.type===o.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const i=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let n=!1;\"-\"===e.value[e.cur]&&(n=!0,e.cur+=1);const r=this.extract(e,this.consumeTypedTime);t.push({time:i,typedTime:r,back:n})}catch(e){break}if(0===t.length)throw new Error(\"Invalid zone adjustments\");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==o.REPEAT)break;{const i=this.extract(t,this.consumeRepeatInterval),n=this.parseTypedTime(t);e.push({repeatInterval:i,typedTimes:n}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error(\"Invalid typed time.\");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const i=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:i}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==o.BANDWIDTH)break;{const i=this.extractOneOrMore(t,l);if(\":\"!==t.value[t.cur])throw new Error(\"Invalid bandwidth field.\");t.cur++;const n=this.extractOneOrMore(t,a);e.push({bwtype:i,bandwidth:n}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==o.VERSION)throw new Error(\"first sdp record must be version\");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,a));if(t.length!==e.value.length)throw new Error('invalid proto version, \"v='.concat(e.value,'\"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==o.ORIGIN)throw new Error(\"second line of sdp must be origin\");const t=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const s=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:i,sessVersion:n,nettype:r,addrtype:s,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===o.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==o.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===o.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==o.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==o.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===o.CONNECTION){const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:i,address:n}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let i=this.extract(e,this.consumePort);\"/\"===e.value[e.cur]&&(e.cur+=1,i+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const n=[];for(n.push(this.extract(e,this.consumeToken));\"/\"===e.value[e.cur];)e.cur+=1,n.push(this.extract(e,this.consumeToken));if(0===n.length)throw new Error(\"Invalid proto\");const r=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:i,protos:n,fmts:r}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===o.TIME;){const t=this.parseTime(),i=this.parseRepeat(),n=this.parseZone();e.push({time:t,repeats:i,zones:n})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===o.MEDIA;){const t=this.parseMedia(),i=this.parseInformation(),n=this.parseConnections(),r=this.parseBandWidth(),s=this.parseKey(),o=this.parseMediaAttributes(t);e.push({media:t,information:i,connections:n,bandwidths:r,key:s,attributes:o})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===o.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error(\"Invalid fmts\");return t}extract(e,t,...i){const n=t.call(this,e.value,e.cur,...i),r=e.value.slice(e.cur,n);return e.cur=n,r}extractOneOrMore(e,t){const i=this.consumeOneOrMore(e.value,e.cur,t),n=e.value.slice(e.cur,i);return e.cur=i,n}consumeSpaceForRecord(e){if(e.value[e.cur]!==s)throw new Error(\"Invalid space at \".concat(e.cur,\".\"));e.cur+=1}}class v extends R{constructor(...e){super(...e),S(this,\"attributes\",void 0),S(this,\"digested\",!1)}extractOneOrMore(e,t,i){const n=this.consumeOneOrMore(e.attValue,e._cur,t),r=e.attValue.slice(e._cur,n),[s,o]=i||[];if(\"number\"==typeof s&&r.length<s)throw new Error(\"error in length, should be more or equal than \".concat(s,\" characters.\"));if(\"number\"==typeof o&&r.length>o)throw new Error(\"error in length, should be less or equal than \".concat(o,\" characters.\"));return e._cur=n,r}consumeAttributeSpace(e){if(e.attValue[e._cur]!==s)throw new Error(\"Invalid space at \".concat(e._cur,\".\"));e._cur+=1}extract(e,t,...i){if(!e.attValue)throw new Error(\"Nothing to extract from attValue.\");const n=t.call(this,e.attValue,e._cur,...i),r=e.attValue.slice(e._cur,n);return e._cur=n,r}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let i=0;i<t.length;i++)if(t[i]!==e.attValue[e._cur+i])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error(\"Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'\");this.attributes.iceUfrag=this.extractOneOrMore(e,E,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error(\"Invalid ice-pwd, should be only a single line if 'a=ice-pwd'\");this.attributes.icePwd=this.extractOneOrMore(e,E,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error(\"Invalid ice-options, should be only one 'ice-options' line\");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,E));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:i})}parseExtmap(e){const t=this.extractOneOrMore(e,a);let i;\"/\"===this.peekChar(e)&&(this.extract(e,this.consume,\"/\"),i=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,s),r=T(T({entry:parseInt(t,10)},i&&{direction:i}),{},{extensionName:n});this.peekChar(e)===s&&(this.consumeAttributeSpace(e),r.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(r)}parseSetup(e){if(this.attributes.setup)throw new Error(\"must only be one single 'a=setup' line.\");const t=this.extract(e,this.consumeTill);if(\"active\"!==t&&\"passive\"!==t&&\"actpass\"!==t&&\"holdconn\"!==t)throw new Error(\"role must be one of 'active', 'passive', 'actpass', 'holdconn'.\");this.attributes.setup=t}}class I extends v{constructor(...e){super(...e),S(this,\"attributes\",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"group\":this.parseGroup(e);break;case\"ice-lite\":this.parseIceLite();break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"fingerprint\":this.parseFingerprint(e);break;case\"setup\":this.parseSetup(e);break;case\"tls-id\":this.parseTlsId(e);break;case\"identity\":this.parseIdentity(e);break;case\"extmap\":this.parseExtmap(e);break;case\"msid-semantic\":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing session attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===s;)this.consumeAttributeSpace(e),i.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:i})}parseIceLite(){if(this.attributes.iceLite)throw new Error(\"Invalid ice-lite, should be only a single line of 'a=ice-lite'\");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error(\"must be only one tld-id line\");this.attributes.tlsId=this.extractOneOrMore(e,m)}parseIdentity(e){const t=this.extractOneOrMore(e,f),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===s;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,\"=\");const n=this.extractOneOrMore(e,(e=>e!==s&&_(e)));i.push({name:t,value:n})}this.attributes.identities.push({assertionValue:t,extensions:i})}parseMsidSemantic(e){this.peekChar(e)===s&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if(\"*\"===this.peekChar(e)){this.extract(e,this.consume,\"*\"),t.applyForAll=!0;break}{const i=this.extract(e,this.consumeTill,s);t.identifierList.push(i)}}this.attributes.msidSemantic=t}}class y extends v{constructor(e){super(),S(this,\"attributes\",void 0),-1!==e.protos.indexOf(\"RTP\")||e.protos.indexOf(\"rtp\"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"extmap\":this.parseExtmap(e);break;case\"setup\":this.parseSetup(e);break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"candidate\":this.parseCandidate(e);break;case\"remote-candidate\":this.parseRemoteCandidate(e);break;case\"end-of-candidates\":this.parseEndOfCandidates();break;case\"fingerprint\":this.parseFingerprint(e);break;case\"rtpmap\":this.parseRtpmap(e);break;case\"ptime\":this.parsePtime(e);break;case\"maxptime\":this.parseMaxPtime(e);break;case\"sendrecv\":case\"recvonly\":case\"sendonly\":case\"inactive\":this.parseDirection(e);break;case\"ssrc\":this.parseSSRC(e);break;case\"fmtp\":this.parseFmtp(e);break;case\"rtcp-fb\":this.parseRtcpFb(e);break;case\"rtcp-mux\":this.parseRTCPMux();break;case\"rtcp-mux-only\":this.parseRTCPMuxOnly();break;case\"rtcp-rsize\":this.parseRTCPRsize();break;case\"rtcp\":this.parseRTCP(e);break;case\"mid\":this.parseMid(e);break;case\"msid\":this.parseMsid(e);break;case\"imageattr\":this.parseImageAttr(e);break;case\"rid\":this.parseRid(e);break;case\"simulcast\":this.parseSimulcast(e);break;case\"sctp-port\":this.parseSctpPort(e);break;case\"max-message-size\":this.parseMaxMessageSize(e);break;case\"ssrc-group\":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing media attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}parseCandidate(e){const t=this.extractOneOrMore(e,E,[1,32]);this.consumeAttributeSpace(e);const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const r=this.extractOneOrMore(e,a,[1,10]);this.consumeAttributeSpace(e);const o=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const d=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,\"typ\"),this.consumeAttributeSpace(e);const l={foundation:t,componentId:i,transport:n,priority:r,connectionAddress:o,port:d,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e,\" raddr\")&&(this.extract(e,this.consume,\" raddr\"),this.consumeAttributeSpace(e),l.relAddr=this.extract(e,this.consumeAddress)),this.peek(e,\" rport\")&&(this.extract(e,this.consume,\" rport\"),this.consumeAttributeSpace(e),l.relPort=this.extract(e,this.consumePort));this.peekChar(e)===s;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),l.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(l)}parseRemoteCandidate(e){const t=[];for(;;){const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumePort);t.push({componentId:i,connectionAddress:n,port:r});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error(\"must be only one line of end-of-candidates\");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\"/\");this.extract(e,this.consume,\"/\");const n={encodingName:i,clockRate:this.extractOneOrMore(e,a)};this.atEnd(e)||\"/\"!==this.peekChar(e)||(this.extract(e,this.consume,\"/\"),n.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.rtpMap=n:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:n,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error(\"must be only one line of ptime\");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error(\"must be only one line of ptime\");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error(\"must be only one line of direction info\");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,a);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\":\");let n;\":\"===this.peekChar(e)&&(this.extract(e,this.consume,\":\"),n=this.extract(e,this.consumeTill));const r=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));r?r.attributes[i]=n:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[i]:n}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,s);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill),n={};i.split(\";\").forEach((e=>{let[t,i]=e.split(\"=\");t=t.trim();const r=\"string\"==typeof i?i.trim():null;\"string\"==typeof t&&t.length>0&&(n[t]=r)}));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.fmtp={parameters:n}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:n}})}parseFmtParameters(e){const t={},i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");for(t[i]=n;\";\"===e.attValue[e._cur];){const i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");t[i]=n}return t}parseRtcpFb(e){let t=\"\";t=\"*\"===this.peekChar(e)?this.extract(e,this.consume,\"*\"):this.extract(e,this.consumeTill,s),this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,s);let n;if(\"trr-int\"===i)n={type:i,interval:this.extract(e,this.consumeTill)};else{const t={type:i};this.peekChar(e)===s&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===s&&(t.additional=this.extract(e,this.consumeTill))),n=t}if(\"*\"===t)this.attributes.rtcpFeedbackWildcards.push(n);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[n]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error(\"must be single line of rtcp-mux\");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error(\"must be single line of rtcp-only\");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error(\"must be single line of rtcp-rsize\");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error(\"must be single line of rtcp\");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===s&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,l,[1,64])};this.peekChar(e)===s&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,l,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>u(e)||a(e)||\"_\"===e||\"-\"===e));this.consumeAttributeSpace(e);const i={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===s){if(this.consumeAttributeSpace(e),this.peek(e,\"pt=\")){this.extract(e,this.consume,\"pt=\");const t=[];for(;;){const i=this.extract(e,this.consumeToken);t.push(i);try{this.extract(e,this.consume,\",\")}catch(e){break}}i.payloads=t,this.peekChar(e)===s&&this.extract(e,this.consume,s)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case\"depend\":{const n={type:t,rids:this.extract(e,this.consume,\"=\").split(\",\")};i.params.push(n);break}default:{const n={type:t};\"=\"===this.peekChar(e)&&(this.extract(e,this.consume,\"=\"),n.val=this.extract(e,this.consumeTill,\";\")),i.params.push(n)}}try{this.extract(e,this.consume,\";\")}catch(e){break}}}this.attributes.rids.push(i)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error(\"must be single line of simulcast\");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,a,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);i.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:i})}}function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class b{constructor(){A(this,\"eol\",r)}print(e,t){let i=\"\";return t&&(this.eol=t),i+=this.printVersion(e.version),i+=this.printOrigin(e.origin),i+=this.printSessionName(e.sessionName),i+=this.printInformation(e.information),i+=this.printUri(e.uri),i+=this.printEmail(e.emails),i+=this.printPhone(e.phones),i+=this.printConnection(e.connection),i+=this.printBandwidth(e.bandwidths),i+=this.printTimeFields(e.timeFields),i+=this.printKey(e.key),i+=this.printSessionAttributes(e.attributes),i+=this.printMediaDescription(e.mediaDescriptions),i}printVersion(e){return\"v=\".concat(e).concat(this.eol)}printOrigin(e){return\"o=\".concat(e.username,\" \").concat(e.sessId,\" \").concat(e.sessVersion,\" \").concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?\"s=\".concat(e).concat(this.eol):\"\"}printInformation(e){return e?\"i=\".concat(e).concat(this.eol):\"\"}printUri(e){return e?\"u=\".concat(e).concat(this.eol):\"\"}printEmail(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printPhone(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printConnection(e){return e?\"c=\".concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.address).concat(this.eol):\"\"}printBandwidth(e){let t=\"\";for(const i of e)t+=\"b=\".concat(i.bwtype,\":\").concat(i.bandwidth).concat(this.eol);return t}printTimeFields(e){let t=\"\";for(const i of e){t+=\"t=\".concat(i.time.startTime,\" \").concat(i.time.startTime).concat(this.eol);for(const e of i.repeats)t+=\"r=\".concat(e.repeatInterval,\" \").concat(e.typedTimes.join(\" \")).concat(this.eol);i.zoneAdjustments&&(t+=\"z=\",t+=\"z=\".concat(i.zoneAdjustments.map((e=>\"\".concat(e.time,\" \").concat(e.back?\"-\":\"\",\" \").concat(e.typedTime))).join(\" \")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?\"k=\".concat(e).concat(this.eol):\"\"}printAttributes(e){let t=\"\";for(const i of e)t+=\"a=\".concat(i.attField).concat(i.attValue?\":\".concat(i.attValue):\"\").concat(this.eol);return t}printMediaDescription(e){let t=\"\";for(const i of e)t+=this.printMedia(i.media),t+=this.printInformation(i.information),t+=this.printConnections(i.connections),t+=this.printBandwidth(i.bandwidths),t+=this.printKey(i.key),t+=this.printMediaAttributes(i);return t}printConnections(e){let t=\"\";for(const i of e)t+=this.printConnection(i);return t}printMedia(e){return\"m=\".concat(e.mediaType,\" \").concat(e.port,\" \").concat(e.protos.join(\"/\"),\" \").concat(e.fmts.join(\" \")).concat(this.eol)}printSessionAttributes(e){return new O(this.eol).print(e)}printMediaAttributes(e){return new N(this.eol).print(e)}}class w{constructor(e){A(this,\"eol\",void 0),this.eol=e}printIceUfrag(e){return void 0===e?\"\":\"a=ice-ufrag:\".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?\"\":\"a=ice-pwd:\".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?\"\":\"a=ice-options:\".concat(e.join(s)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>\"a=fingerprint:\".concat(e.hashFunction).concat(s).concat(e.fingerprint))).join(this.eol)+this.eol:\"\"}printExtmap(e){return e.map((e=>\"a=extmap:\".concat(e.entry).concat(e.direction?\"/\".concat(e.direction):\"\").concat(s).concat(e.extensionName).concat(e.extensionAttributes?\"\".concat(s).concat(e.extensionAttributes):\"\").concat(this.eol))).join(\"\")}printSetup(e){return void 0===e?\"\":\"a=setup:\".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>\"a=\".concat(e.attField).concat(e.attValue?\":\".concat(e.attValue):\"\").concat(this.eol))).join(\"\")}}class O extends w{print(e){let t=\"\";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t=\"\";return e.length>0&&(t+=e.map((e=>\"a=group:\".concat(e.semantic).concat(e.identificationTag.map((e=>\"\".concat(s).concat(e))).join(\"\")).concat(this.eol))).join(\"\")),t}printIceLite(e){return void 0===e?\"\":\"a=ice-lite\"+this.eol}printTlsId(e){return e?\"a=tls-id:\".concat(e).concat(this.eol):\"\"}printIdentity(e){return 0===e.length?\"\":e.map((e=>\"a=identity:\".concat(e.assertionValue).concat(e.extensions.map((e=>\"\".concat(s).concat(e.name).concat(e.value?\"=\".concat(e.value):\"\")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return\"\";let t=\"a=msid-semantic:\".concat(e.semantic);return e.applyForAll?t+=\"\".concat(s,\"*\"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>\"\".concat(s).concat(e)))),t+this.eol}}class N extends w{print(e){const t=e.attributes;let i=\"\";return i+=this.printRTCP(t.rtcp),i+=this.printIceUfrag(t.iceUfrag),i+=this.printIcePwd(t.icePwd),i+=this.printIceOptions(t.iceOptions),i+=this.printCandidates(t.candidates),i+=this.printRemoteCandidatesList(t.remoteCandidatesList),i+=this.printEndOfCandidates(t.endOfCandidates),i+=this.printFingerprints(t.fingerprints),i+=this.printSetup(t.setup),i+=this.printMid(t.mid),i+=this.printExtmap(t.extmaps),i+=this.printRTPRelated(t),i+=this.printPtime(t.ptime),i+=this.printMaxPtime(t.maxPtime),i+=this.printDirection(t.direction),i+=this.printSSRCGroups(t.ssrcGroups),i+=this.printSSRC(t.ssrcs),i+=this.printRTCPMux(t.rtcpMux),i+=this.printRTCPMuxOnly(t.rtcpMuxOnly),i+=this.printRTCPRsize(t.rtcpRsize),i+=this.printMSId(t.msids),i+=this.printImageattr(t.imageattr),i+=this.printRid(t.rids),i+=this.printSimulcast(t.simulcast),i+=this.printSCTPPort(t.sctpPort),i+=this.printMaxMessageSize(t.maxMessageSize),i+=this.printUnrecognized(t.unrecognized),i}printCandidates(e){return e.map((e=>\"a=candidate:\".concat(e.foundation).concat(s).concat(e.componentId).concat(s).concat(e.transport).concat(s).concat(e.priority).concat(s).concat(e.connectionAddress).concat(s).concat(e.port).concat(s,\"typ\").concat(s).concat(e.type).concat(e.relAddr?\"\".concat(s,\"raddr\").concat(s).concat(e.relAddr):\"\").concat(e.relPort?\"\".concat(s,\"rport\").concat(s).concat(e.relPort):\"\").concat(Object.keys(e.extension).map((t=>\"\".concat(s).concat(t).concat(s).concat(e.extension[t]))).join(\"\")).concat(this.eol))).join(\"\")}printRemoteCandidatesList(e){return e.map((e=>\"a=remote-candidates:\".concat(e.join(s)).concat(this.eol))).join(\"\")}printEndOfCandidates(e){return void 0===e?\"\":\"a=end-of-candidates\"+this.eol}printRTPRelated(e){if(!e.payloads)return\"\";const t=e.payloads;let i=\"\";i+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback(\"*\",e))).join(\"\");for(const e of t)i+=this.printRtpMap(e.payloadType,e.rtpMap),i+=this.printFmtp(e.payloadType,e.fmtp),i+=e.rtcpFeedbacks.map((t=>this.printRTCPFeedback(e.payloadType,t))).join(\"\");return i}printFmtp(e,t){if(!t)return\"\";const i=Object.keys(t.parameters);return 1===i.length&&null===t.parameters[i[0]]?\"a=fmtp:\".concat(e).concat(s).concat(i[0]).concat(this.eol):\"a=fmtp:\".concat(e).concat(s).concat(Object.keys(t.parameters).map((e=>\"\".concat(e,\"=\").concat(t.parameters[e]))).join(\";\")).concat(this.eol)}printRtpMap(e,t){return t?\"a=rtpmap:\".concat(e).concat(s).concat(t.encodingName,\"/\").concat(t.clockRate).concat(t.encodingParameters?\"/\".concat(t.encodingParameters):\"\").concat(this.eol):\"\"}printRTCPFeedback(e,t){let i=\"a=rtcp-fb:\".concat(e).concat(s),n=t;return\"trr-int\"===n.type?i+=\"ttr-int\".concat(s).concat(n.interval):(i+=\"\".concat(n.type),n.parameter&&(i+=\"\".concat(s).concat(n.parameter),n.additional&&(i+=\"\".concat(s).concat(n.additional)))),i+this.eol}printPtime(e){return void 0===e?\"\":\"a=ptime:\".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?\"\":\"a=maxptime:\".concat(e).concat(this.eol)}printDirection(e){return void 0===e?\"\":\"a=\".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>\"a=ssrc:\".concat(e.ssrcId.toString(10)).concat(s).concat(t).concat(e.attributes[t]?\":\".concat(e.attributes[t]):\"\").concat(this.eol))).join(\"\"))).join(\"\")}printRTCPMux(e){return void 0===e?\"\":\"a=rtcp-mux\".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?\"\":\"a=rtcp-mux-only\".concat(this.eol)}printRTCPRsize(e){return void 0===e?\"\":\"a=rtcp-rsize\".concat(this.eol)}printRTCP(e){if(void 0===e)return\"\";let t=\"a=rtcp:\".concat(e.port);return e.netType&&(t+=\"\".concat(s).concat(e.netType)),e.addressType&&(t+=\"\".concat(s).concat(e.addressType)),e.address&&(t+=\"\".concat(s).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>\"a=msid:\".concat(e.id).concat(e.appdata?\"\".concat(s).concat(e.appdata):\"\").concat(this.eol))).join(\"\")}printImageattr(e){return e.map((e=>\"a=imageattr:\".concat(e).concat(this.eol))).join(\"\")}printRid(e){return e.map((e=>{let t=\"a=rid:\".concat(e.id).concat(s).concat(e.direction);return e.payloads&&(t+=\"\".concat(s,\"pt=\").concat(e.payloads.join(\",\"))),e.params.length>0&&(t+=\"\".concat(s).concat(e.params.map((e=>\"depend\"===e.type?\"depend=\".concat(e.rids.join(\",\")):\"\".concat(e.type,\"=\").concat(e.val))).join(\";\"))),t+this.eol})).join(\"\")}printSimulcast(e){return void 0===e?\"\":\"a=simulcast:\".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?\"\":\"a=sctp-port:\".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?\"\":\"a=max-message-size:\".concat(e).concat(this.eol)}printMid(e){return void 0===e?\"\":\"a=mid:\".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>\"a=ssrc-group:\".concat(e.semantic).concat(e.ssrcIds.map((e=>\"\".concat(s).concat(e.toString(10)))).join(\"\")).concat(this.eol))).join(\"\")}}function D(e){return(new C).parse(e)}function P(e,t){return(new b).print(e,t)}}},t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}return i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i(8)})()}(HP);var KP=HP.exports;function YP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function qP(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?YP(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):YP(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function JP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;const{filterRTX:r,filterVideoFec:s,filterAudioFec:o,filterAudioCodec:a,filterVideoCodec:c}=t,{useXR:d}=i;let l=[],h=[],u=[],p=[],_=!1,E=!1;if(KP.parse(e).mediaDescriptions.forEach((e=>{n&&n!==e.attributes.direction||(\"video\"!==e.media.mediaType||_||(h=e.attributes.payloads,p=e.attributes.extmaps,_=!0),\"audio\"!==e.media.mediaType||E||(l=e.attributes.payloads,u=e.attributes.extmaps,E=!0))})),!p||0===h.length)throw new Error(\"Cannot get video capabilities from SDP.\");if(!u||0===l.length)throw new Error(\"Cannot get audio capabilities from SDP.\");h.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),d&&e.rtcpFeedbacks.push({type:\"rrtr\"})})),l.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),d&&e.rtcpFeedbacks.push({type:\"rrtr\"})})),r&&(l=l.filter((e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),h=h.filter((e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),s&&(h=h.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")}))),o&&(l=l.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")}))),a&&(null==a?void 0:a.length)>0&&(l=l.filter((e=>{var t;return Pr(a).call(a,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")}))),c&&(null==c?void 0:c.length)>0&&(h=h.filter((e=>{var t;return Pr(c).call(c,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")})));const m=kC(\"UNSUPPORTED_VIDEO_CODEC\");return m&&m.length>0&&(h=h.filter((e=>!(e.rtpMap&&Pr(m).call(m,e.rtpMap.encodingName.toLowerCase()))))),{audioCodecs:l,videoCodecs:h,audioExtensions:u,videoExtensions:p}}function zP(e){const t=KP.parse(e);let i,n;for(const e of t.mediaDescriptions){if(!i){const t=e.attributes.iceUfrag,n=e.attributes.icePwd;if(!t||!n)throw new Error(\"Cannot get iceUfrag or icePwd from SDP.\");i={iceUfrag:t,icePwd:n}}if(!n){const t=e.attributes.fingerprints;t.length>0&&(n={fingerprints:t})}}if(!n&&t.attributes.fingerprints.length>0&&(n={fingerprints:t.attributes.fingerprints}),!n||!i)throw new Error(\"Cannot get iceParameters or dtlsParameters from SDP.\");return{iceParameters:i,dtlsParameters:n}}function XP(e,t){const i=[],n=e.attributes.ssrcGroups.filter((e=>\"FID\"===e.semantic)),r=e.attributes.ssrcGroups.find((e=>\"SIM\"===e.semantic)),s=e.attributes.ssrcs;if(r)r.ssrcIds.forEach((e=>{var r;const s=null===(r=n.find((t=>t.ssrcIds[0]===e)))||void 0===r?void 0:r.ssrcIds[1];i.push({ssrcId:e,rtx:t?s:void 0})}));else if(n.length>0){const e=n[0].ssrcIds[0],r=n[0].ssrcIds[1];i.push({ssrcId:e,rtx:t?r:void 0})}else{if(0===s.length)throw new Error(\"No ssrcs found on local media description.\");i.push({ssrcId:s[0].ssrcId})}return i}function QP(e,t){const{cname:i}=e;let n;t&&t.ip&&\"number\"==typeof t.port?(n=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip,port:t.port.toString(),type:\"host\",extension:{}}],KC.debug(\"Using remote candidate from AP \".concat(t.ip,\":\").concat(t.port)),t.ip6&&(n.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip6,port:t.port.toString(),type:\"host\",extension:{}}),KC.debug(\"Using IPV6 remote candidate from AP \".concat(t.ip6,\":\").concat(t.port)))):n=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:\"1\",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}})));const r={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},s={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let o;switch(e.dtlsParameters.role){case\"server\":o=\"passive\";break;case\"client\":o=\"active\";break;case\"auto\":o=\"actpass\"}return{dtlsParameters:r,iceParameters:s,candidates:n,rtpCapabilities:aL(e.rtpCapabilities),setup:o,cname:i}}function ZP(e,t,i){const n=[],r=[];return e.forEach((e=>{let{ssrcId:s,rtx:o}=e;const a=xT(8,\"track-\"),c={ssrcId:s,attributes:qP({label:a,mslabel:i=i||xT(10,\"\"),msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};if(n.push(c),void 0!==o){const e={ssrcId:o,attributes:qP({label:a,mslabel:i,msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};n.push(e),r.push({semantic:\"FID\",ssrcIds:[s,o]})}})),e.length>1&&r.push({semantic:\"SIM\",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:n,ssrcGroups:r}}function $P(e,t){t instanceof ZA&&e.attributes.payloads.forEach((e=>{var i;const n=null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase();if(!n||-1===[\"opus\",\"pcmu\",\"pcma\",\"g722\"].indexOf(n))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime=\"10\",e.fmtp.parameters.useinbandfec=\"1\";const r=t._encoderConfig;r&&\"pcmu\"!==n&&\"pcma\"!==n&&\"g722\"!==n&&(r.bitrate&&!Rg()&&(e.fmtp.parameters.maxaveragebitrate=\"\".concat(Math.floor(1e3*r.bitrate))),r.sampleRate&&(e.fmtp.parameters.maxplaybackrate=\"\".concat(r.sampleRate),e.fmtp.parameters[\"sprop-maxcapturerate\"]=\"\".concat(r.sampleRate)),r.stereo&&(e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\"))}))}function eL(e){const t=e.attributes.unrecognized.findIndex((e=>\"x-google-flag\"===e.attField&&\"conference\"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function tL(e,t){var i;if(!(t instanceof Sb&&t._encoderConfig&&-1===t._hints.indexOf(ky.SCREEN_TRACK)))return;const n=t._encoderConfig;_A().supportMinBitrate&&n.bitrateMin&&e.attributes.payloads.forEach((e=>{var t,i;Pr(t=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(t,(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-min-bitrate\"]=\"\".concat(n.bitrateMin))})),_A().supportMinBitrate&&!Pr(i=t._hints).call(i,ky.LOW_STREAM)&&n.bitrateMax&&e.attributes.payloads.forEach((e=>{var t,i;Pr(t=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(t,(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-start-bitrate\"]=\"\".concat(kC(\"X_GOOGLE_START_BITRATE\")||Math.floor(n.bitrateMax)))}))}function iL(e){if(\"video\"!==e.media.mediaType)return;const t=pg();if(t.name!==cg.SAFARI&&t.os!==ag.IOS)return;const i=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==i&&e.attributes.extmaps.splice(i,1)}function nL(e,t,i){if(!t)return;let n,r;if(\"video\"===e.media.mediaType?(n=i.videoExtensions,r=i.videoCodecs):(n=i.audioExtensions,r=i.audioCodecs),!0===t.twcc){const t=n.find((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName));if(t){e.attributes.extmaps.find((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"});const i=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>\"transport-cc\"===e.type))))))}(r,e.attributes.payloads);i.forEach((e=>{e.rtcpFeedbacks.find((e=>\"transport-cc\"===e.type))||e.rtcpFeedbacks.push({type:\"transport-cc\"})}))}}else if(!1===t.twcc){const t=e.attributes.extmaps.findIndex((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"transport-cc\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){const t=n.find((e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName));if(t){e.attributes.extmaps.find((e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"});const i=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>\"goog-remb\"===e.type))))))}(r,e.attributes.payloads);i.forEach((e=>{e.rtcpFeedbacks.find((e=>\"goog-remb\"===e.type))||e.rtcpFeedbacks.push({type:\"goog-remb\"})}))}}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"goog-remb\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function rL(e,t,i){if(Rg())return;if(\"video\"!==e.media.mediaType)return;if(!(t instanceof Sb))return;if(\"vp9\"!==i&&\"vp8\"!==i)return;if(\"vp8\"===i&&!kC(\"SIMULCAST\"))return;if(void 0===t._scalabilityMode||t._scalabilityMode.numSpatialLayers<=1)return;const n=\"vp8\"===i?2:t._scalabilityMode.numSpatialLayers,r=e.attributes.ssrcs[0],s=e.attributes.ssrcGroups.find((e=>\"FID\"===e.semantic&&e.ssrcIds[0]===r.ssrcId)),o={semantic:\"SIM\",ssrcIds:[r.ssrcId]};for(let t=1;t<n;t++)e.attributes.ssrcs.push({ssrcId:r.ssrcId+t,attributes:bT(r.attributes)}),o.ssrcIds.push(r.ssrcId+t),s&&(e.attributes.ssrcs.push({ssrcId:s.ssrcIds[1]+t,attributes:bT(r.attributes)}),e.attributes.ssrcGroups.push({semantic:\"FID\",ssrcIds:[r.ssrcId+t,s.ssrcIds[1]+t]}));e.attributes.ssrcGroups.unshift(o)}async function sL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{filterRTX:i,filterVideoFec:n,filterAudioFec:r,filterAudioCodec:s,filterVideoCodec:o}=e,{useXR:a}=t,c=new RTCPeerConnection;c.addTransceiver(\"video\",{direction:\"sendonly\"}),c.addTransceiver(\"audio\",{direction:\"sendonly\"}),c.addTransceiver(\"video\",{direction:\"recvonly\"}),c.addTransceiver(\"audio\",{direction:\"recvonly\"});const d=(await c.createOffer()).sdp,l=JP(d,{filterRTX:i,filterVideoFec:n,filterAudioFec:r,filterAudioCodec:s,filterVideoCodec:o},{useXR:a},\"sendonly\"),h=JP(d,{filterRTX:i,filterVideoFec:n,filterAudioFec:r,filterAudioCodec:s,filterVideoCodec:o},{useXR:a},\"recvonly\"),u={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},p={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},_={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(oL(l,h,\"videoExtensions\",u,p,_),oL(l,h,\"videoCodecs\",u,p,_),oL(l,h,\"audioExtensions\",u,p,_),oL(l,h,\"audioCodecs\",u,p,_),kC(\"RAISE_H264_BASELINE_PRIORITY\")){const e=_.videoCodecs.findIndex((e=>{var t,i;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"===(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"])}));if(-1!==e){const t=_.videoCodecs.findIndex((e=>{var t;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())}));if(t<e){KC.debug(\"raising H264 baseline profile priority\");const i=_.videoCodecs[e];_.videoCodecs.splice(e,1),_.videoCodecs.splice(t,0,i)}-1!==t&&(p.videoCodecs=p.videoCodecs.filter((e=>{var t,i;return!(\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"!==(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"]))}))),-1!==t&&kC(\"FILTER_SEND_H264_BASELINE\")&&(u.videoCodecs=u.videoCodecs.filter((e=>{var t,i;return!(\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"!==(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"]))})))}}try{c.close()}catch(e){}return{send:u,recv:p,sendrecv:_}}function oL(e,t,i,n,r,s){if(\"videoExtensions\"===i||\"audioExtensions\"===i){const o=[];return e[i].forEach((e=>{t[i].some(((t,i)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return o.push(i),!0}))?s[i].push(e):n[i].push(e)})),void t[i].forEach(((e,t)=>{-1===o.indexOf(t)&&r[i].push(e)}))}if(\"videoCodecs\"===i||\"audioCodecs\"===i){const o=[];return e[i].forEach((e=>{t[i].some(((t,i)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return o.push(i),!0}))?s[i].push(e):n[i].push(e)})),void t[i].forEach(((e,t)=>{-1===o.indexOf(t)&&r[i].push(e)}))}}function aL(e){const{send:t,recv:i,sendrecv:n}=e;if(!n){if(!t||!i)throw new Error(\"cannot merge rtp capabilities because one of send or recv is empty!\");return{send:t,recv:i}}let r,s;return t?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...t.audioCodecs,...n.audioCodecs],r.videoCodecs=[...t.videoCodecs,...n.videoCodecs],r.audioExtensions=[...t.audioExtensions,...n.audioExtensions],r.videoExtensions=[...t.videoExtensions,...n.videoExtensions]):r=n,i?(s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s.audioCodecs=[...i.audioCodecs,...n.audioCodecs],s.videoCodecs=[...i.videoCodecs,...n.videoCodecs],s.audioExtensions=[...i.audioExtensions,...n.audioExtensions],s.videoExtensions=[...i.videoExtensions,...n.videoExtensions]):s=n,{send:r,recv:s}}function cL(e){if(\"audio\"!==e.media.mediaType)return;e.attributes.payloads.filter((e=>{var t;return\"opus\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\"}))}function dL(e){e.mediaDescriptions.forEach((e=>{\"video\"!==e.media.mediaType&&\"audio\"!==e.media.mediaType||e.attributes.payloads.forEach((e=>{-1===e.rtcpFeedbacks.findIndex((e=>\"rrtr\"===e.type))&&e.rtcpFeedbacks.push({type:\"rrtr\"})}))}))}function lL(e,t,i,n){let r=[];if(e===hI.VIDEO){if(kC(\"H264_PROFILE_LEVEL_ID\")&&\"h264\"===n&&(r=t.videoCodecs.filter((e=>{var t;return Pr(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,n)&&e&&e.fmtp&&e.fmtp.parameters[\"profile-level-id\"]===kC(\"H264_PROFILE_LEVEL_ID\")}))),!Array.isArray(r)||0===r.length){const e=i.videoCodecs.filter((e=>{var t;return Pr(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,n)}));0!==e.length&&(r=t.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(kC(\"USE_PUB_RTX\")){const e=r.map((e=>e.payloadType.toString())),i=t.videoCodecs.filter((t=>t.rtpMap&&\"rtx\"===t.rtpMap.encodingName&&Pr(e).call(e,t.fmtp&&t.fmtp.parameters.apt||\"\")));r=[...r,...i]}0===r.length&&(KC.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to default payloads: \").concat(t.videoCodecs[0].rtpMap&&t.videoCodecs[0].rtpMap.encodingName)),r=t.videoCodecs)}else r=t.audioCodecs.filter((e=>{var t;return Pr(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,n)})),0===r.length&&(KC.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to opus\")),r=t.audioCodecs.filter((e=>{var t;return Pr(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,\"opus\")})));return r}function hL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function uL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?hL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):hL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function pL(e){if(Array.isArray(e))return e.map((e=>e));if(!_L(e))return e;const t={};for(const i in e){const n=e[i];_L(n)||Array.isArray(n)?t[i]=pL(n):t[i]=n}return t}function _L(e){return!(\"object\"!=typeof e||Array.isArray(e)||!e)}class EL{constructor(e){nu(this,\"input\",[]),nu(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const mL={address:\"unknown\",candidateType:\"unknown\",id:\"unknown\",port:0,priority:0,protocol:\"unknown\",type:\"unknown\"},fL={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:\"unknown\",localCandidate:mL,remoteCandidate:mL}},gL={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},TL={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},SL={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},RL={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function CL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?CL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class IL{constructor(e,t){nu(this,\"onFirstVideoReceived\",void 0),nu(this,\"onFirstVideoDecoded\",void 0),nu(this,\"onFirstAudioReceived\",void 0),nu(this,\"onFirstVideoDecodedTimeout\",void 0),nu(this,\"onFirstAudioDecoded\",void 0),nu(this,\"onSelectedLocalCandidateChanged\",void 0),nu(this,\"onSelectedRemoteCandidateChanged\",void 0),nu(this,\"videoIsReady\",!1),nu(this,\"videoIsReady2\",{}),nu(this,\"pc\",void 0),nu(this,\"options\",void 0),nu(this,\"intervalTimer\",void 0),nu(this,\"stats\",pL(fL)),nu(this,\"isFirstVideoReceived\",{}),nu(this,\"isFirstVideoDecoded\",{}),nu(this,\"isFirstAudioReceived\",{}),nu(this,\"isFirstAudioDecoded\",{}),nu(this,\"isFirstVideoDecodedTimeout\",{}),nu(this,\"lossRateWindowStats\",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval((async()=>{this.updateStats()}),this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new tg((e=>{e({local:vL({},mL),remote:vL({},mL)})}))}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,i=[\"videoSend\",\"audioSend\",\"videoRecv\",\"audioRecv\"];let n=0,r=0,s=0,o=0;for(const a of i)e[a].forEach(((e,i)=>{if(!this.lossRateWindowStats[t-1][a][i]||!this.lossRateWindowStats[0][a][i])return;const c=this.lossRateWindowStats[t-1][a][i].packets-this.lossRateWindowStats[0][a][i].packets,d=this.lossRateWindowStats[t-1][a][i].packetsLost-this.lossRateWindowStats[0][a][i].packetsLost;\"videoSend\"===a||\"audioSend\"===a?(n+=c,s+=d):(r+=c,o+=d),Number.isNaN(c)||Number.isNaN(c)?e.packetLostRate=0:e.packetLostRate=c<=0||d<=0?0:d/(c+d)}));e.sendPacketLossRate=n<=0||s<=0?0:s/(n+s),e.recvPacketLossRate=r<=0||o<=0?0:o/(r+o)}}function yL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function AL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class bL extends IL{constructor(){super(...arguments),nu(this,\"_stats\",fL),nu(this,\"lastDecodeVideoReceiverStats\",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=pL(fL);const i=t.filter((e=>\"ssrc\"===e.type));this.processSSRCStats(i);const n=t.find((e=>\"VideoBwe\"===e.type));n&&this.processBandwidthStats(n),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach((e=>{var t;const i=Pr(t=e.id).call(t,\"send\");switch(\"\".concat(e.mediaType,\"_\").concat(i?\"send\":\"recv\")){case\"video_send\":{const t=pL(TL);t.codec=e.googCodecName,t.adaptionChangeReason=\"none\",e.googCpuLimitedResolution&&(t.adaptionChangeReason=\"cpu\"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason=\"bandwidth\"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case\"video_recv\":{const t=pL(gL),i=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),i){const n=i.stats,r=Date.now()-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<i.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:AL({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case\"audio_recv\":{const t=pL(RL);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case\"audio_send\":{const t=pL(SL);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}}))}_getStats(){return new tg(((e,t)=>{this.pc.getStats(e,t)}))}statsResponsesToObjects(e){const t=[];return e.result().forEach((e=>{const i={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((t=>{i[t]=e.stat(t)})),t.push(i)})),t}}function wL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function OL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?wL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class NL extends IL{constructor(){super(...arguments),nu(this,\"_stats\",fL),nu(this,\"report\",void 0),nu(this,\"lastDecodeVideoReceiverStats\",new Map),nu(this,\"lastVideoFramesRecv\",new Map),nu(this,\"lastVideoFramesSent\",new Map),nu(this,\"lastVideoFramesDecode\",new Map),nu(this,\"lastVideoJBDelay\",new Map),nu(this,\"lastAudioJBDelay\",new Map),nu(this,\"mediaBytesSent\",new Map),nu(this,\"mediaBytesRetransmit\",new Map),nu(this,\"mediaBytesTargetEncode\",new Map),nu(this,\"lastEncoderMs\",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=pL(fL),this.report.forEach((e=>{switch(e.type){case hv.OUTBOUND:case hv.INBOUND:{const t=e.mediaType||e.kind,i=!t&&\"frameWidth\"in e,n=!t&&!(\"frameWidth\"in e);e.type===hv.OUTBOUND?\"audio\"===t||n?this.processAudioOutboundStats(e):(\"video\"===t||i)&&this.processVideoOutboundStats(e):e.type===hv.INBOUND&&(\"audio\"===t||n?this.processAudioInboundStats(e):(\"video\"===t||i)&&this.processVideoInboundStats(e));break}case hv.TRANSPORT:{const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case hv.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:OL({},mL),remote:OL({},mL)};return e.forEach((i=>{let n;if(i.type===hv.TRANSPORT&&(n=e.get(i.selectedCandidatePairId)),i.type===hv.CANDIDATE_PAIR&&i.selected&&(n=i),n){const i=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(n.localCandidateId){const r=e.get(n.localCandidateId);r&&i(t.local,r)}if(n.remoteCandidateId){const r=e.get(n.remoteCandidateId);r&&i(t.remote,r)}}})),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===hv.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===hv.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===hv.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(OL({},t),OL({},this.stats.selectedCandidatePair.localCandidate)),e.type===hv.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(OL({},t),OL({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find((t=>t.ssrc===e.ssrc));t||(t=pL(RL),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,this.processAudioTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),\"number\"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples)}processVideoInboundStats(e){let t=this._stats.videoRecv.find((t=>t.ssrc===e.ssrc));t||(t=pL(gL),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay;const i=this.lastDecodeVideoReceiverStats.get(t.ssrc),n=this.lastVideoFramesDecode.get(t.ssrc),r=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,i=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,i),this.isFirstVideoDecoded[t.ssrc]=!0}if(i){const n=i.stats,s=r-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&s>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=s,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(i.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-i.qpSum)/(e.framesDecoded-i.stats.framesDecodeCount))}n&&r-n.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-n.count)/((r-n.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:t.decodeFrameRate})):n?t.decodeFrameRate=n.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:OL({},t),lts:i?i.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find((t=>t.ssrc===e.ssrc));t||(t=pL(TL),this._stats.videoSend.push(t));const i=this.mediaBytesSent.get(e.ssrc);if(i)i.add(e.bytesSent);else{const t=new EL(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new EL(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new EL(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,e.totalEncodeTime&&e.framesEncoded){const i=this.lastEncoderMs.get(e.ssrc);if(!i||i.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const n=e.framesEncoded-i.lastFrameCount,r=e.totalEncodeTime-i.lastEncoderTime;t.avgEncodeMs=1e3*r/n}}if(e.framesEncoded&&e.qpSum){const i=this.lastEncoderMs.get(e.ssrc);!i||i.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-i.lastQpSum)/(e.framesEncoded-i.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,hv.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find((t=>t.ssrc===e.ssrc));if(t||(t=pL(SL),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,hv.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}findRemoteStatsId(e,t){var i;const n=Array.from(kv(i=this.report).call(i)).find((i=>i.type===t&&i.ssrc===e));return n?n.id:null}processVideoMediaSource(e,t){const i=this.report.get(e);i&&i.width&&i.height&&i.framesPerSecond&&(t.inputFrame={width:i.width,height:i.height,frameRate:i.framesPerSecond})}processAudioMediaSource(e,t){const i=this.report.get(e);i&&(t.inputLevel=i.audioLevel)}processVideoTrackSenderStats(e,t,i){var n,r,s,o;const a=t?this.report.get(t):void 0,c=null!==(n=null==a?void 0:a.framesSent)&&void 0!==n?n:e.framesSent;if(\"number\"!=typeof c)return;let d=null!==(r=null==a?void 0:a.frameWidth)&&void 0!==r?r:e.frameWidth,l=null!==(s=null==a?void 0:a.frameHeight)&&void 0!==s?s:e.frameHeight,h=null!==(o=null==a?void 0:a.framesPerSecond)&&void 0!==o?o:e.framesPerSecond;if(\"number\"==typeof d&&\"number\"==typeof l||(d=0,l=0),null==h){const e=Date.now(),t=this.lastVideoFramesSent.get(i.ssrc);t&&e-t.lts>=800?(h=Math.round((c-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesSent.set(i.ssrc,{count:c,lts:e,rate:h})):t?h=t.rate:this.lastVideoFramesSent.set(i.ssrc,{count:c,lts:e,rate:0})}i.sentFrame={width:d,height:l,frameRate:Math.max(0,h)}}processVideoTrackReceiverStats(e,t,i){var n,r,s,o,a;const c=t?this.report.get(t):void 0,d=null!==(n=null==c?void 0:c.framesReceived)&&void 0!==n?n:e.framesReceived,l=null!==(r=null==c?void 0:c.frameWidth)&&void 0!==r?r:e.frameWidth,h=null!==(s=null==c?void 0:c.frameHeight)&&void 0!==s?s:e.frameHeight,u=null!==(o=null==c?void 0:c.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,p=null!==(a=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount;if(\"number\"==typeof d){const e=this.lastVideoFramesRecv.get(i.ssrc),t=Date.now();i.framesReceivedCount=d;let n=0;e&&t-e.lts>=800?(n=Math.round((d-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:n})):e?n=e.rate:this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:0}),i.receivedFrame={width:l||0,height:h||0,frameRate:n||0},i.decodedFrame={width:l||0,height:h||0,frameRate:i.decodeFrameRate||0},i.outputFrame={width:l||0,height:h||0,frameRate:i.decodeFrameRate||0}}if(u&&p){const e=this.lastVideoJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=p-e.jitterBufferEmittedCount;n>0&&(t=1e3*(u-e.jitterBufferDelay)/n),i.jitterBufferMs=t,i.currentDelayMs=Math.round(t),this.lastVideoJBDelay.set(i.ssrc,{jitterBufferDelay:u,jitterBufferEmittedCount:p,jitterBufferMs:i.currentDelayMs})}}processAudioTrackSenderStats(e,t,i){var n,r,s,o;const a=t?this.report.get(t):void 0,c=null!==(n=null!==(r=null==a?void 0:a.echoReturnLoss)&&void 0!==r?r:e.echoReturnLoss)&&void 0!==n?n:0,d=null!==(s=null!==(o=null==a?void 0:a.echoReturnLossEnhancement)&&void 0!==o?o:e.echoReturnLossEnhancement)&&void 0!==s?s:0;i.aecReturnLoss=c,i.aecReturnLossEnhancement=d}processAudioTrackReceiverStats(e,t,i){var n,r,s,o,a,c,d;const l=t?this.report.get(t):void 0,h=null!==(n=null==l?void 0:l.removedSamplesForAcceleration)&&void 0!==n?n:e.removedSamplesForAcceleration,u=null!==(r=null==l?void 0:l.totalSamplesReceived)&&void 0!==r?r:e.totalSamplesReceived,p=null!==(s=null==l?void 0:l.jitterBufferDelay)&&void 0!==s?s:e.jitterBufferDelay,_=null!==(o=null==l?void 0:l.jitterBufferEmittedCount)&&void 0!==o?o:e.jitterBufferEmittedCount,E=null!==(a=null==l?void 0:l.audioLevel)&&void 0!==a?a:null==e?void 0:e.audioLevel,m=null!==(c=null==l?void 0:l.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,f=null!==(d=null==l?void 0:l.concealedSamples)&&void 0!==d?d:e.concealedSamples;if(h&&u&&(i.accelerateRate=h/u),p&&_){const e=this.lastAudioJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=_-e.jitterBufferEmittedCount;n>0&&(t=1e3*(p-e.jitterBufferDelay)/n),i.jitterBufferMs=Math.round(t),this.lastAudioJBDelay.set(i.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:_,jitterBufferMs:i.jitterBufferMs})}i.outputLevel=E;let g=1920;m&&u&&(g=u/m/50,i.receivedFrames=Math.round(u/g)),f&&(i.droppedFrames=Math.round(f/g))}processRemoteInboundStats(e,t){const i=this.report.get(e);i&&(t.packetsLost=i.packetsLost,i.roundTripTime&&(t.rttMs=1e3*i.roundTripTime),i.jitter&&(t.jitterMs=1e3*i.jitter),i.timestamp&&(t.timestamp=i.timestamp))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return\"\";const i=t.mimeType.match(/\\/(.*)$/);return i&&i[1]?i[1]:\"\"}updateSendBitrate(){let e=0,t=null,i=null;this.mediaBytesSent.forEach((t=>{e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((e=>{t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((e=>{i=null===i?e.diffMean():i+e.diffMean()}));const n=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*n/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==i&&(this._stats.bitrate.targetEncoded=8*i/(this.options.updateInterval/1e3))}}class DL extends IL{updateStats(){return tg.resolve()}}function PL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const s=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]*/i);return e&&e[0]?Number(e[0].split(\"/\")[1]):null}();return s?s<76?new bL(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new NL(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):function(e){return!!window.RTCStatsReport&&e.getStats()instanceof tg}(e)?new NL(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new DL(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r})}function LL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function kL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?LL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):LL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class ML extends PI{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}constructor(e,t){super(e,t),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"remoteSDP\",void 0),nu(this,\"initialOffer\",void 0),nu(this,\"statsFilter\",void 0),nu(this,\"useRTX\",!1),nu(this,\"localCapabilities\",void 0),nu(this,\"localCandidateCount\",0),nu(this,\"allCandidatesReceived\",!1),nu(this,\"establishPromise\",void 0),nu(this,\"mutex\",new YT(\"P2PConnection-mutex\")),this.store=t,this.peerConnection=new RTCPeerConnection(ML.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=PL(this.peerConnection,kC(\"STATS_UPDATE_INTERVAL\"),void 0,Rg()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=zP(e.sdp),i=JP(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:kC(\"FILTER_VIDEO_FEC\"),filterAudioFec:kC(\"FILTER_AUDIO_FEC\"),filterAudioCodec:[\"opus\"]});return this.localCapabilities=i,this.initialOffer=e,kL(kL({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:i},offerSDP:e.sdp})}catch(e){throw new Vg(xg.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,i,n,r,s){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new class{constructor(e){nu(this,\"sessionDesc\",void 0),nu(this,\"localCapabilities\",void 0),nu(this,\"rtpCapabilities\",void 0),nu(this,\"candidates\",void 0),nu(this,\"iceParameters\",void 0),nu(this,\"dtlsParameters\",void 0),nu(this,\"setup\",void 0),nu(this,\"currentMidIndex\",void 0),nu(this,\"cname\",void 0),e=bT(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,remoteSetup:s,localCapabilities:o,sdkCodec:a,cname:c}=e,d=KP.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE audio video\\na=msid-semantic: WMS\\na=ice-lite\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:audio\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:video\\n\");this.rtpCapabilities=r,this.candidates=n,this.iceParameters=t,this.dtlsParameters=i,this.setup=s,this.localCapabilities=o,this.cname=c;for(let e=0;e<d.mediaDescriptions.length;e++){const o=d.mediaDescriptions[e];if(o.attributes.iceUfrag=t.iceUfrag,o.attributes.icePwd=t.icePwd,o.attributes.fingerprints=i.fingerprints,o.attributes.candidates=n,o.attributes.setup=s,\"video\"===o.media.mediaType){o.media.fmts=r.videoCodecs.map((e=>e.payloadType.toString(10)));let e=r.videoCodecs.filter((e=>{var t,i;return null===(t=e.rtpMap)||void 0===t?void 0:Pr(i=t.encodingName.toLowerCase()).call(i,a)}));0===e.length&&(e=r.videoCodecs),o.attributes.payloads=e,o.attributes.extmaps=r.videoExtensions}\"audio\"===o.media.mediaType&&(o.media.fmts=r.audioCodecs.map((e=>e.payloadType.toString(10))),o.attributes.payloads=r.audioCodecs,o.attributes.extmaps=r.audioExtensions),d.mediaDescriptions[e]=this.mungMediaDesc(o)}this.sessionDesc=d,this.currentMidIndex=d.mediaDescriptions.length-1}toString(){return KP.print(this.sessionDesc)}send(e,t,i){const{ssrcs:n,ssrcGroups:r}=ZP(t,this.cname),s=this.sessionDesc.mediaDescriptions.find((t=>e===hI.VIDEO?\"video\"===t.media.mediaType:\"audio\"===t.media.mediaType)),o=n[0].attributes.label,a=n[0].attributes.mslabel;return s.attributes.ssrcs=s.attributes.ssrcs.concat(n),s.attributes.ssrcGroups=s.attributes.ssrcGroups.concat(r),{id:o,mslabel:a}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:i}=e;return this.send(t,i,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const i=[],n=[],r=[];t.attributes.ssrcs.forEach((t=>{Pr(e).call(e,t.attributes.label||\"\")?r.push(t):i.push(t)})),t.attributes.ssrcGroups.forEach((e=>{var t;Pr(t=r.map((e=>e.ssrcId))).call(t,e.ssrcIds[0])||n.push(e)})),t.attributes.ssrcs=i,t.attributes.ssrcGroups=n}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}receive(e,t,i){e.forEach(((e,t)=>{const i=e._mediaStreamTrack,n=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===i.kind)),r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=r}))}stopReceiving(e){}updateCandidates(e){e===uI.TCP?this.candidates.forEach((e=>{-1===this.candidates.findIndex((t=>\"tcp\"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port))&&this.candidates.push(uL(uL({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))})):this.candidates=this.candidates.filter((e=>\"tcp\"!==e.transport));for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=bT(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}mungRecvMediaDsec(e,t){const i=bT(e);return $P(i,t),tL(i,t),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,i){const n=this.sessionDesc.mediaDescriptions.find((t=>e===hI.VIDEO?\"video\"===t.attributes.mid:\"audio\"===t.attributes.mid));if(n){const e=n.attributes.ssrcs.find((e=>e.attributes.label===t));var r;e&&(e.attributes.label=i,null===(r=e.attributes.msid)||void 0===r||r.replace(t,i))}}mungMediaDesc(e){const t=bT(e);return eL(t),function(e){const t=e.attributes.extmaps.find((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"transport-cc\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const i of t.attributes.ssrcs)if(i.attributes.label===e)return[i]}}({remoteIceParameters:e,remoteDtlsParameters:t,candidates:i,remoteRTPCapabilities:n.send,remoteSetup:r,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:s});const o=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}async updateRemoteRTPCapabilities(e,t){throw new Vg(xg.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}send(e,t){var i=this;return BP((function*(){const n=yield jP(i.mutex.lock());try{if(!i.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const r=e.map((e=>i.peerConnection.addTrack(e._mediaStreamTrack))),s=yield jP(i.peerConnection.createOffer()),o=KP.parse(s.sdp),a=e.map((e=>{const t=e._mediaStreamTrack,n=o.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!n)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return function(e,t,i){const n=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),r=e.attributes.ssrcGroups;if(0===n.length)throw new Error(\"Cannot extract ssrc from plan-b SDP.\");if(r&&n.length>1){const e=r.find((e=>-1!==e.ssrcIds.indexOf(n[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:i?e.ssrcIds[1]:void 0}]:[{ssrcId:n[0].ssrcId}]}return[{ssrcId:n[0].ssrcId}]}(n,t.id,i.useRTX)}));let c;try{c=yield a}catch(e){throw r.forEach((e=>{Sg()&&e.replaceTrack(null),i.peerConnection.removeTrack(e)})),e}const d=i.mungSendOfferSDP(s.sdp,e);i.remoteSDP.receive(e,t,c);const l=i.remoteSDP.toString();return yield jP(i.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield jP(i.applySendEncodings(r,e)),yield jP(i.peerConnection.setRemoteDescription({type:\"answer\",sdp:l})),e.map(((e,t)=>{const i=e._mediaStreamTrack.id;return{localSSRC:a[t],id:i}}))}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{n()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map((e=>{Sg()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i),this.remoteSDP.stopReceiving(e);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{id:i,mslabel:r}=this.remoteSDP.send(e,t,n),s=new tg(((t,n)=>{const s=setTimeout((()=>{n(new Error(\"Cannot receive track, id: \".concat(i)))}),1e4),o=n=>{const a=pg();if((\"Safari\"===a.name&&11===Number(a.version)||Cg())&&n.track.id!==i&&n.streams[0].id===r){var c;const r=n.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,i,n.track.id),this.peerConnection.removeEventListener(\"track\",o),clearTimeout(s),void t(r)}if(n.track.id===i)return this.peerConnection.removeEventListener(\"track\",o),clearTimeout(s),void t(n.track)};this.peerConnection.addEventListener(\"track\",o)})),o=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:o});const a=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(a);return{track:await s,id:i}}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const i=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(i)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"sender' length doesn't match mids' length.\");t.map((e=>{if(Sg()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"Senders' length doesn't match mids' length.\");t.map((async e=>{if(Sg()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return BP((function*(){const i=yield jP(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(_A().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===uI.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(KC.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===uI.RELAY)return;e!==uI.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield jP(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=zP(n.sdp),{remoteIceParameters:s}=yield r.iceParameters;t.remoteSDP.restartICE(s);const o=t.remoteSDP.toString();yield jP(t.peerConnection.setLocalDescription(n)),yield jP(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:o}))}catch(e){KC.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const e=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const n=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getSenders().filter((t=>{var i;return(null===(i=t.track)||void 0===i?void 0:i.id)===e}));1===i.length&&await this.applySendEncodings(i,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getSenders().find((e=>{var i;return(null===(i=e.track)||void 0===i?void 0:i.id)===t}));i&&await i.replaceTrack(e._mediaStreamTrack)}createDataChannels(e,t){throw new Vg(xg.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}stopDataChannels(e){throw new Vg(xg.NOT_SUPPORTED,\"Planb mode does not support stopDataChannels.\")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,KC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,KC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),kC(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const t={iceServers:[],sdpSemantics:\"plan-b\"};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&\"off\"!==e.turnServer.mode&&(_T(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...ML.turnServerConfigToIceServers(e.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...ML.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy=\"relay\")})))),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>{var i;return(null===(i=t.track)||void 0===i?void 0:i.id)===e._mediaStreamTrack.id}))}if(!t)return KC.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(!_A().supportSetRtpSenderParameters)return KC.warn(\"Browser not support set rtp-sender parameters\");const n={},r={};if(e instanceof Sb)switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(kC(\"DSCP_TYPE\")&&kg()){var s;const e=kC(\"DSCP_TYPE\");Pr(s=[\"very-low\",\"low\",\"medium\",\"high\"]).call(s,e)&&(r.networkPriority=e)}const o=t.getParameters(),a=null===(i=o.encodings)||void 0===i?void 0:i[0];a&&Object.assign(a,r),Object.assign(o,n),KC.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(o.encodings))),await t.setParameters(o)}async applySendEncodings(e,t){try{if(!_A().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];n&&r&&await this.updateRtpSenderEncodings(r,n)}}catch(e){KC.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t){const i=KP.parse(e);return t.forEach(((e,t)=>{const n=e._mediaStreamTrack,r=i.mediaDescriptions.find((e=>e.attributes.mid===n.kind));r&&$P(r,e)})),KP.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const t=this.remoteSDP.batchSend(e).map(((t,i)=>{let{id:n,mslabel:r}=t;const{kind:s}=e[i];return new tg(((e,t)=>{const i=setTimeout((()=>{t(new Error(\"Cannot receive track, id: \".concat(n)))}),1e4),o=t=>{const a=pg();if(\"Safari\"===a.name&&11===Number(a.version)&&t.track.id!==n&&t.streams[0].id===r){var c;const r=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(s,n,t.track.id),this.peerConnection.removeEventListener(\"track\",o),clearTimeout(i),void e({track:r,id:n})}if(t.track.id===n)return this.peerConnection.removeEventListener(\"track\",o),clearTimeout(i),void e({track:t.track,id:n})};this.peerConnection.addEventListener(\"track\",o)}))})),i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:i});const n=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(n),await tg.all(t)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(e){if(_A().supportPCSetConfiguration){const t=ML.resolvePCConfiguration(e);this.peerConnection.setConfiguration(t)}}}function UL(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"Locking from P2PConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function xL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function VL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),Uv(\"design:returntype\",tg)],ML.prototype,\"connect\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],ML.prototype,\"stopSending\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,Array,String,Object]),Uv(\"design:returntype\",tg)],ML.prototype,\"receive\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],ML.prototype,\"stopReceiving\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],ML.prototype,\"muteRemote\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],ML.prototype,\"unmuteRemote\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],ML.prototype,\"muteLocal\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],ML.prototype,\"unmuteLocal\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],ML.prototype,\"close\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],ML.prototype,\"updateEncoderConfig\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],ML.prototype,\"updateSendParameters\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[iA,String]),Uv(\"design:returntype\",tg)],ML.prototype,\"replaceTrack\",null),Mv([UL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],ML.prototype,\"getRemoteSSRC\",null);const FL=\"9\",BL=4e4;function jL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function GL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?jL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let WL=class e extends PI{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}constructor(t,i){super(t,i),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"remoteSDP\",void 0),nu(this,\"initialOffer\",void 0),nu(this,\"transportEventReceiver\",void 0),nu(this,\"statsFilter\",void 0),nu(this,\"useXR\",kC(\"USE_XR\")),nu(this,\"localCapabilities\",void 0),nu(this,\"remoteCodecs\",void 0),nu(this,\"localCandidateCount\",0),nu(this,\"allCandidatesReceived\",!1),nu(this,\"dataStreamChannelMap\",new Map),nu(this,\"establishPromise\",void 0),nu(this,\"mutex\",new YT(\"P2PConnection-mutex\")),this.store=i,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=PL(this.peerConnection,kC(\"STATS_UPDATE_INTERVAL\"),void 0,Rg()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async updateRemoteRTPCapabilities(e,t){this.remoteCodecs=t;const i=[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Pr(t=Object.keys(UC)).call(t,e)})))];if(rv.updateRemoteRTPCapabilities(this.store.sessionId,{mids:e,localCodecs:i,remoteCodecs:this.remoteCodecs}),!this.remoteSDP)return void KC.debug(\"[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: \".concat(i,\", codecs: \").concat(t));if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(e);const i=this.remoteSDP.toString();null==t||t(i),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:i})}else KC.debug(\"[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.\")}async establish(){try{this.peerConnection.addTransceiver(\"video\",{direction:\"recvonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"recvonly\"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=zP(e.sdp),i=await sL({filterRTX:!kC(\"USE_PUB_RTX\")&&!kC(\"USE_SUB_RTX\"),filterVideoFec:kC(\"FILTER_VIDEO_FEC\"),filterAudioFec:kC(\"FILTER_AUDIO_FEC\"),filterVideoCodec:kC(\"FILTER_VIDEO_CODEC\")},{useXR:this.useXR});return this.localCapabilities=aL(i),this.initialOffer=e,GL(GL({},t),{},{rtpCapabilities:i,offerSDP:e.sdp})}catch(e){throw new Vg(xg.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,i,n,r,s){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new class{get localCapabilities(){return bT(this._localCapabilities)}get rtpCapabilities(){return bT(this._rtpCapabilities)}get candidates(){return bT(this._candidates)}get iceParameters(){return bT(this._iceParameters)}get dtlsParameters(){return bT(this._dtlsParameters)}constructor(e){nu(this,\"sessionDesc\",void 0),nu(this,\"_localCapabilities\",void 0),nu(this,\"_rtpCapabilities\",void 0),nu(this,\"_candidates\",void 0),nu(this,\"_iceParameters\",void 0),nu(this,\"_dtlsParameters\",void 0),nu(this,\"setup\",void 0),nu(this,\"currentMidIndex\",void 0),nu(this,\"cname\",void 0),nu(this,\"firefoxSsrcMidMap\",new Map),e=bT(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,remoteSetup:s,localCapabilities:o,cname:a}=e,c=KP.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=ice-lite\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\");this._rtpCapabilities=r,this._candidates=n,this._iceParameters=t,this._dtlsParameters=i,this._localCapabilities=o,this.setup=s,this.cname=a;const d=this.rtpCapabilities.send;for(const e of c.mediaDescriptions){if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=i.fingerprints,e.attributes.candidates=n,e.attributes.setup=s,\"video\"===e.media.mediaType&&(e.media.fmts=d.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=d.videoCodecs,e.attributes.extmaps=d.videoExtensions,kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=ZP([{ssrcId:BL,rtx:kC(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType&&(e.media.fmts=d.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=d.audioCodecs,e.attributes.extmaps=d.audioExtensions,cL(e),kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=ZP([{ssrcId:2e4}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}preloadRemoteMedia(){const e=kC(\"PRELOAD_MEDIA_COUNT\");this.rtpCapabilities;const t=this.candidates,i=this.dtlsParameters,n=this.iceParameters,r=this.rtpCapabilities.send;for(let s=1;s<e;s++){const e=2*s+2e4,o=2*s+BL,{ssrcs:a,ssrcGroups:c}=ZP([{ssrcId:e}],this.cname),{ssrcs:d,ssrcGroups:l}=ZP([{ssrcId:o,rtx:kC(\"USE_SUB_RTX\")?o+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"video\",port:FL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:d,ssrcGroups:l,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*s)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"audio\",port:FL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:a,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*s+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return KP.print(this.sessionDesc)}send(e,t,i,n){const{ssrcs:r,ssrcGroups:s}=ZP(t,this.cname,kC(\"SYNC_GROUP\")?i:void 0),o=this.findPreloadMediaDesc(r);if(o){if(Rg()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,o.attributes.mid),n&&(n.twcc||n.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(o);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(o,n),{mid:o.attributes.mid,needExchangeSDP:!0}}return{mid:o.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let i;return-1===t||1===t&&(Sg()||Ag())||0===t&&kC(\"USE_SUB_RTX\")||bg()?(i=this.createOrRecycleSendMedia(e,r,s,\"sendonly\",n),this.updateBundleMids()):(i=bT(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=r,i.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,n)),Rg()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,i.attributes.mid),{mid:i.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:e,needExchangeSDP:t}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:t}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:i,mslabel:n}=e;return this.send(t,i,n)})),i=[];let n=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:r}=e;r&&(n=!0),i.push(t)})),{mids:i,needExchangeSDP:n}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach((e=>{\"0\"===e.attributes.mid||Rg()||bg()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction=\"inactive\",e.media.port=\"0\")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Pr(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"inactive\"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Pr(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"recvonly\"}))}receive(e,t,i,n){e.forEach(((e,r)=>{this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i,n[r])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach((e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"})),this.updateBundleMids()}updateCandidates(e){const t=this._candidates.filter((e=>\"udp\"===e.transport));if(e===uI.TCP){if(0===t.length)return;if(kC(\"TCP_CANDIDATE_ONLY\")){const e=this._candidates.filter((e=>\"tcp\"===e.transport));t.forEach((t=>{-1===e.findIndex((e=>e.connectionAddress===t.connectionAddress))&&e.push(VL(VL({},t),{},{foundation:\"tcpcandidate\",priority:Number(t.priority)-1+\"\",transport:\"tcp\",port:Number(t.port)+90+\"\"}))})),this._candidates=e}else{const e=[];t.forEach((t=>{e.push(VL(VL({},t),{},{foundation:\"tcpcandidate\",priority:Number(t.priority)-1+\"\",transport:\"tcp\",port:Number(t.port)+90+\"\"}))})),this._candidates=[...t,...e]}}else if(e===uI.RELAY){if(0!==t.length)return;{const e=this._candidates.filter((e=>\"tcp\"===e.transport));e.forEach((e=>{t.push(VL(VL({},e),{},{foundation:\"udpcandidate\",priority:Number(e.priority)+1+\"\",transport:\"udp\",port:Number(e.port)-90+\"\"}))})),this._candidates=[...t,...e]}}else 0===t.length?(this._candidates.filter((e=>\"tcp\"===e.transport)).forEach((e=>{t.push(VL(VL({},e),{},{foundation:\"udpcandidate\",priority:Number(e.priority)+1+\"\",transport:\"udp\",port:Number(e.port)-90+\"\"}))})),this._candidates=t):this._candidates=this._candidates.filter((e=>\"tcp\"!==e.transport));for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=bT(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((i=>{const n=i.media.mediaType===e&&\"0\"!==i.media.port&&(\"sendonly\"===i.attributes.direction||\"sendrecv\"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(Rg()){if(n){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==i.attributes.mid&&\"1\"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return n}))}createOrRecycleDataChannel(){for(const e of this.sessionDesc.mediaDescriptions)if(\"application\"===e.media.mediaType)return{mediaDesc:e,needExchangeSDP:!1};this.currentMidIndex+=1;const e=\"\".concat(this.currentMidIndex),t={media:{mediaType:\"application\",port:FL,protos:[\"UDP\",\"DTLS\",\"SCTP\"],fmts:[\"webrtc-datachannel\"]},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,mid:\"\".concat(e),sctpPort:\"5000\"}};return this.sessionDesc.mediaDescriptions.push(t),{mediaDesc:t,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,t,i,n,r,s){const o=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,c=lL(o,a,this.localCapabilities.send,o===hI.VIDEO?n:r),d=o===hI.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const l=\"\".concat(this.currentMidIndex);let h={media:{mediaType:o,port:FL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:c.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:d,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(l)}};h=this.mungRecvMediaDsec(h,e,s);const u=this.findFirstClosedMedia(o);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=h}else this.sessionDesc.mediaDescriptions.push(h);return h}updateRemoteCodec(e,t,i){const n=[...new Set(this._rtpCapabilities.recv.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Pr(t=Object.keys(UC)).call(t,e)})))],r=new Set(t);if(n.every((e=>r.has(e))))return KC.debug(\"codecs has not changed, no need to updateRemoteCodec, codecs: \".concat(t)),!1;const s=this._rtpCapabilities.recv.videoCodecs.filter((e=>t.some((t=>{var i;return Pr(i=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(i,t)}))));if(0===s.length)return KC.debug(\"updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: \".concat(n,\" codecs: \").concat(t)),!1;const o=[...new Set(s.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")))];let a;if(KC.debug(\"updateRemoteCodec, from \".concat(n,\" to \").concat(o)),0===e.length)a=this.sessionDesc.mediaDescriptions.filter((e=>\"video\"===e.media.mediaType&&\"recvonly\"===e.attributes.direction));else if(a=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&Pr(e).call(e,t.attributes.mid)&&\"recvonly\"===t.attributes.direction)),a.length!==e.length)return KC.debug(\"updateRemoteCodec failed, because cannot find mids, mids: \".concat(e,\", codecs: \").concat(t)),!1;this._rtpCapabilities.recv.videoCodecs=s;const c=this.localCapabilities.send,d=this.rtpCapabilities.recv,l=lL(hI.VIDEO,d,c,i);return a.forEach((e=>{const t=l.map((e=>e.payloadType.toString(10)));KC.debug(\"updateRemoteCodec mid: \".concat(e.attributes.mid,\", from \").concat(e.attributes.payloads,\" to \").concat(l)),e.attributes.payloads=l,e.media.fmts=t})),!0}createOrRecycleSendMedia(e,t,i,n,r){const s=this.rtpCapabilities.send,o=e===hI.VIDEO?s.videoCodecs:s.audioCodecs,a=e===hI.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const c=\"\".concat(this.currentMidIndex);let d={media:{mediaType:e,port:FL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:o.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:o,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(c)}};d=this.mungSendMediaDesc(d,r);const l=this.findFirstClosedMedia(e);if(l){const e=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>\"0\"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,i){const n=bT(e);return eL(n),$P(n,t),tL(n,t),iL(n),nL(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=bT(e);return nL(i,t,this.localCapabilities.recv),cL(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>Rg()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var i;return(null===(i=t.attributes)||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}({remoteIceParameters:e,remoteDtlsParameters:t,candidates:i,remoteRTPCapabilities:n,remoteSetup:r,localCapabilities:this.localCapabilities,cname:s}),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const o=this.remoteSDP.toString(),a=KP.parse(this.initialOffer.sdp),c=a.mediaDescriptions.find((e=>\"audio\"===e.media.mediaType));c&&cL(c),this.useXR&&dL(a);const d=KP.print(a),l=this.logSDPExchange(d||\"\",\"offer\",\"local\",\"connect\");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:\"offer\",sdp:d}),null==l||l(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});const h=this.peerConnection.getTransceivers()[0];if(null!=h&&h.receiver&&this.tryBindTransportEvents(h.receiver),kC(\"PRELOAD_MEDIA_COUNT\")>0){this.remoteSDP.preloadRemoteMedia();const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}send(e,t,i){var n=this;return BP((function*(){const r=yield jP(n.mutex.lock(\"From P2PConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const s=[];e.forEach((e=>{const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});s.push(t),e._updateRtpTransceiver(t)})),Rg()&&!0===kC(\"SIMULCAST\")&&(yield jP(n.applySimulcastForFirefox(s,e)));const o=yield jP(n.peerConnection.createOffer()),a=n.remoteSDP.predictReceivingMids(e.length),c=n.mungSendOfferSDP(o.sdp,e,a),d=KP.parse(c),l=a.map((e=>{const t=d.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return XP(t,kC(\"USE_PUB_RTX\"))}));let h;try{h=yield l}catch(r){h=[],n.remoteSDP.receive(e,t,i,h);const s=n.remoteSDP.toString();throw yield jP(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield jP(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})),yield jP(n.stopSending(a,!0)),r}n.remoteSDP.receive(e,t,i,h);const u=n.remoteSDP.toString(),p=n.logSDPExchange(c,\"offer\",\"local\",\"send\");return yield jP(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield jP(n.applySimulcastEncodings(s,e)),yield jP(n.applySendEncodings(s,e)),null==p||p(u),yield jP(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:u})),s.map(((e,t)=>{const i=a[t];return{localSSRC:l[t],id:i,transceiver:e}}))}catch(e){throw e instanceof Vg?e:new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.createDataChannels before remote SDP created\");let i=this.dataStreamChannelMap.get(e);i&&\"open\"===i.readyState?KC.debug(\"[P2PConnection] Channels are already available and can be reused directly.\"):(i=this.peerConnection.createDataChannel(\"datastream-channel\",{ordered:!1,maxRetransmits:kC(\"DATASTREAM_MAX_RETRANSMITS\")}),i.binaryType=\"arraybuffer\",this.dataStreamChannelMap.set(e,i)),t.forEach((e=>{e._updateOriginDataChannel(i)}));const{needExchangeSDP:n}=this.remoteSDP.sendDataChannel();if(n){const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t),KC.debug(\"[P2PConnection] createDataChannels by exchanging SDP.\")}else KC.debug(\"[P2PConnection] createDataChannels no need to exchange SDP.\");return}catch(e){throw e instanceof Vg?e:new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.createDataChannels failed; \".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return null==t||t.close(),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof Vg?e:new Vg(xg.DATACHANNEL_FAILED,\"P2PConnection.stopDataChannels failed; \".concat(e.toString()))}}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const s=this.remoteSDP.toString();null==r||r(s),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:s}=this.remoteSDP.send(e,t,i,n);if(s){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),s=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(s||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:s}),KC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"))}else KC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"));const o=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!o)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:o.receiver.track,id:r,transceiver:o}}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const{mids:t,needExchangeSDP:i}=this.remoteSDP.batchSend(e);if(i){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const i=await this.peerConnection.createAnswer();null==t||t(i.sdp||\"\"),await this.peerConnection.setLocalDescription(i),KC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive by exchanging SDP.\"))}else KC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive no need to exchange SDP.\"));return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:t.receiver.track,id:e,transceiver:t}}))}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.muteRemote failed; \".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteRemote failed; \".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((e=>{e.direction=\"inactive\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((async(e,t)=>{e.direction=\"sendonly\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return BP((function*(){const i=yield jP(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(_A().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===uI.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(KC.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===uI.RELAY)return;t.remoteSDP.updateCandidates(e);const n=yield jP(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=zP(n.sdp),{remoteIceParameters:s}=yield r.iceParameters;t.remoteSDP.restartICE(s);const o=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"restartICE\");t.store.descriptionStart(),yield jP(t.peerConnection.setLocalDescription(n)),null==a||a(o),yield jP(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:o}))}catch(e){KC.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),s=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==s||s(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?Rg()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:GL(GL({},mL),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:GL(GL({},mL),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,KC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,KC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),kC(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[]};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(_T(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),kC(\"FORCE_TURN_TCP\")?i.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")})))),kC(\"ENABLE_ENCODED_TRANSFORM\")&&_A().supportWebRTCEncodedTransform&&(i.encodedInsertableStreams=!0),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(_D(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!kC(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const i=t.iceTransport;i&&(i.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var i;e&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,e))},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){const{local:e,remote:t}=i.getSelectedCandidatePair();KC.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),\", remote \").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol,address:t.address,port:t.port}),\" )\"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))}if(!t)return KC.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return KC.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!_A().supportSetRtpSenderParameters)return KC.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");const n={},r={};switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(e._encoderConfig){var s;const{bitrateMax:t,frameRate:i,scaleResolutionDownBy:n}=e._encoderConfig;t&&(r.maxBitrate=1e3*t),(Pr(s=e._hints).call(s,ky.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(i&&(r.maxFramerate=mD(i)),n&&n>=1&&(r.scaleResolutionDownBy=n))}if(kC(\"DSCP_TYPE\")&&kg()){var o;const e=kC(\"DSCP_TYPE\");Pr(o=[\"very-low\",\"low\",\"medium\",\"high\"]).call(o,e)&&(r.networkPriority=e)}const a=t.getParameters(),c=null===(i=a.encodings)||void 0===i?void 0:i[0];Rg()&&!c&&(n.encodings=[r]),c&&Object.assign(c,r),Object.assign(a,n),KC.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(a.encodings))),await t.setParameters(a)}async applySendEncodings(e,t){try{if(!_A().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];r instanceof Sb&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,n.sender)}}catch(e){KC.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=KP.parse(e);return t.forEach(((e,t)=>{const r=i[t],s=n.mediaDescriptions.find((e=>e.attributes.mid===r));s&&($P(s,e),rL(s,e,this.store.codec))})),KP.print(n)}mungReceiveAnswerSDP(e,t,i){const n=KP.parse(e),r=n.mediaDescriptions.find((e=>e.attributes.mid===t));return r&&(i===hI.AUDIO&&\"audio\"===r.media.mediaType&&cL(r),this.useXR&&dL(n)),KP.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,s,o;const c=e[a],d=t[a];if(d instanceof Sb&&!Pr(i=d._hints).call(i,ky.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(s=d._scalabilityMode)&&void 0!==s&&s.numSpatialLayers&&(null===(o=d._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Rg()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof Sb&&this.isVP8Simulcast(n)){const t=e[i],r={},s={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:s.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:s.medium,scaleResolutionDownBy:4}];const o=t.sender.getParameters();await t.sender.setParameters(Object.assign(o,r))}}}isVP8Simulcast(e){var t,i,n,r,s;return!!(e instanceof Sb&&kC(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Pr(t=e._hints).call(t,ky.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(s=e._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(kC(\"SDP_LOGGING\"))return KC.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(_A().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}}};function HL(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function KL(e,t){let i=document.createElement(\"video\"),n=document.createElement(\"canvas\");i.setAttribute(\"style\",\"display:none\"),n.setAttribute(\"style\",\"display:none\"),i.setAttribute(\"muted\",\"\"),i.muted=!0,i.setAttribute(\"autoplay\",\"\"),i.autoplay=!0,i.setAttribute(\"playsinline\",\"\"),n.width=mD(t.width),n.height=mD(t.height);const r=mD(t.framerate||15);document.body.append(i),document.body.append(n);let s=e._mediaStreamTrack;i.srcObject=new MediaStream([s]),i.play();const o=n.getContext(\"2d\");if(!o)throw new xv(xg.UNEXPECTED_ERROR,\"can not get canvas context\");const a=_A(),c=n.captureStream(a.supportRequestFrame?0:r).getVideoTracks()[0];c.canvas||(c.canvas=n),n.startCapture=()=>{if(!i)return n.stopCapture&&n.stopCapture();if(i.paused&&i.play(),i.videoHeight>2&&i.videoWidth>2){const e=i.videoWidth,t=i.videoHeight/e,r=n.width*t;Math.abs(r-n.height)>=2&&(KC.debug(\"adjust low stream resolution\",\"\".concat(n.width,\"x\").concat(n.height,\" -> \").concat(n.width,\"x\").concat(r)),n.height=r)}o.drawImage(i,0,0,n.width,n.height),c.requestFrame&&c.requestFrame(),s!==e._mediaStreamTrack&&(s=e._mediaStreamTrack,i.srcObject=new MediaStream([s]))},n.stopCapture=uA((()=>n.startCapture&&n.startCapture()),r);const d=c.stop;return c.stop=()=>{d.call(c),i&&(i.remove(),i.srcObject=null,i=null),n&&(n.width=0,n.remove(),n.stopCapture&&n.stopCapture(),n.startCapture=void 0,n.stopCapture=void 0,n=null),KC.debug(\"clean low stream renderer\")},c}function YL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function qL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?YL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):YL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array,Array]),Uv(\"design:returntype\",tg)],WL.prototype,\"updateRemoteRTPCapabilities\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),Uv(\"design:returntype\",tg)],WL.prototype,\"connect\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Array]),Uv(\"design:returntype\",tg)],WL.prototype,\"createDataChannels\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,Array,String,Object]),Uv(\"design:returntype\",tg)],WL.prototype,\"receive\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],WL.prototype,\"batchReceive\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],WL.prototype,\"stopReceiving\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],WL.prototype,\"muteRemote\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],WL.prototype,\"unmuteRemote\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],WL.prototype,\"muteLocal\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],WL.prototype,\"unmuteLocal\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],WL.prototype,\"close\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],WL.prototype,\"updateEncoderConfig\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],WL.prototype,\"updateSendParameters\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[iA,String]),Uv(\"design:returntype\",tg)],WL.prototype,\"replaceTrack\",null),Mv([HL,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],WL.prototype,\"getRemoteSSRC\",null);const JL=\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0\\na=msid-semantic: WMS\\na=ice-lite\\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\\nc=IN IP4 127.0.0.1\\na=mid:0\\n\",zL=\"9\",XL=2e4,QL=4e4;class ZL{get localCapabilities(){return bT(this._localCapabilities)}get rtpCapabilities(){return bT(this._rtpCapabilities)}get candidates(){return bT(this._candidates)}get iceParameters(){return bT(this._iceParameters)}get dtlsParameters(){return bT(this._dtlsParameters)}constructor(e){nu(this,\"sessionDesc\",void 0),nu(this,\"_localCapabilities\",void 0),nu(this,\"_rtpCapabilities\",void 0),nu(this,\"_candidates\",void 0),nu(this,\"_iceParameters\",void 0),nu(this,\"_dtlsParameters\",void 0),nu(this,\"setup\",void 0),nu(this,\"currentMidIndex\",void 0),nu(this,\"cname\",void 0),nu(this,\"firefoxSsrcMidMap\",new Map),e=bT(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,remoteSetup:s,localCapabilities:o,cname:a}=e,c=KP.parse(JL);this._rtpCapabilities=r,this._candidates=n,this._iceParameters=t,this._dtlsParameters=i,this._localCapabilities=o,this.setup=s,this.cname=a;const d=this.rtpCapabilities.send;for(const e of c.mediaDescriptions){if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=i.fingerprints,e.attributes.candidates=n,e.attributes.setup=s,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType&&(e.media.fmts=d.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=d.videoCodecs,e.attributes.extmaps=d.videoExtensions,kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=ZP([{ssrcId:QL,rtx:kC(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType&&(e.media.fmts=d.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=d.audioCodecs,e.attributes.extmaps=d.audioExtensions,cL(e),kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=ZP([{ssrcId:XL}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}updateRemoteRTPCapabilities(e){const t=KP.parse(JL);this._rtpCapabilities=e;const i=this.rtpCapabilities.send;for(const e of t.mediaDescriptions){if(e.attributes.iceUfrag=this._iceParameters.iceUfrag,e.attributes.icePwd=this._iceParameters.icePwd,e.attributes.fingerprints=this._dtlsParameters.fingerprints,e.attributes.candidates=this._candidates,e.attributes.setup=this.setup,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType&&(e.media.fmts=i.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=i.videoCodecs,e.attributes.extmaps=i.videoExtensions,kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=ZP([{ssrcId:QL,rtx:kC(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType&&(e.media.fmts=i.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=i.audioCodecs,e.attributes.extmaps=i.audioExtensions,kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=ZP([{ssrcId:XL}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1}preloadRemoteMedia(e){this.rtpCapabilities;const t=this.candidates,i=this.dtlsParameters,n=this.iceParameters,r=this.rtpCapabilities.send;for(let s=1;s<e;s++){const e=2*s+XL,o=2*s+QL,{ssrcs:a,ssrcGroups:c}=ZP([{ssrcId:e}],this.cname),{ssrcs:d,ssrcGroups:l}=ZP([{ssrcId:o,rtx:kC(\"USE_SUB_RTX\")?o+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"video\",port:zL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:d,ssrcGroups:l,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*s-1)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"audio\",port:zL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:a,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*s)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return KP.print(this.sessionDesc)}send(e,t,i,n){const{ssrcs:r,ssrcGroups:s}=ZP(t,this.cname,kC(\"SYNC_GROUP\")?i:void 0),o=this.findPreloadMediaDesc(r);if(o){if(Rg()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,o.attributes.mid),n&&(n.twcc||n.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(o);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(o,n),{mid:o.attributes.mid,needExchangeSDP:!0}}return{mid:o.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let i;return-1===t||Sg()||Cg()||Ag()||0===t&&kC(\"USE_SUB_RTX\")?(i=this.createOrRecycleSendMedia(e,r,s,\"sendonly\",n),this.updateBundleMids()):(i=bT(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=r,i.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,n)),Rg()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,i.attributes.mid),{mid:i.attributes.mid,needExchangeSDP:!0}}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:i,mslabel:n}=e;return this.send(t,i,n)})),i=[];let n=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:r}=e;r&&(n=!0),i.push(t)})),{mids:i,needExchangeSDP:n}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach((e=>{\"0\"===e.attributes.mid||Rg()||Sg()||Cg()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction=\"inactive\",e.media.port=\"0\")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Pr(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"inactive\"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Pr(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"recvonly\"}))}receive(e,t,i,n){e.forEach(((e,r)=>{this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i,n[r])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach((e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"})),this.updateBundleMids()}updateCandidates(e){e===uI.TCP?this._candidates.forEach((e=>{-1===this._candidates.findIndex((t=>\"tcp\"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port))&&this._candidates.push(qL(qL({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))})):this._candidates=this._candidates.filter((e=>\"tcp\"!==e.transport));for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=bT(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((i=>{const n=i.media.mediaType===e&&\"0\"!==i.media.port&&(\"sendonly\"===i.attributes.direction||\"sendrecv\"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(Rg()){if(n){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==i.attributes.mid&&\"1\"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return n}))}createOrRecycleRecvMedia(e,t,i,n,r,s){const o=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,c=lL(o,a,this.localCapabilities.send,o===hI.VIDEO?n:r),d=o===hI.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const l=\"\".concat(this.currentMidIndex);let h={media:{mediaType:o,port:zL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:c.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:d,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(l)}};h=this.mungRecvMediaDsec(h,e,s);const u=this.findFirstClosedMedia(o);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=h}else this.sessionDesc.mediaDescriptions.push(h);return h}updateRemoteCodec(e,t,i){const n=[...new Set(this._rtpCapabilities.recv.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Pr(t=Object.keys(UC)).call(t,e)})))],r=new Set(t);if(n.every((e=>r.has(e))))return KC.debug(\"codecs has not changed, no need to updateRemoteCodec, codecs: \".concat(t)),!1;const s=this._rtpCapabilities.recv.videoCodecs.filter((e=>t.some((t=>{var i;return Pr(i=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(i,t)}))));if(0===s.length)return KC.debug(\"updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: \".concat(n,\" codecs: \").concat(t)),!1;const o=[...new Set(s.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")))];let a;if(KC.debug(\"updateRemoteCodec, from \".concat(n,\" to \").concat(o)),0===e.length)a=this.sessionDesc.mediaDescriptions.filter((e=>\"video\"===e.media.mediaType&&\"recvonly\"===e.attributes.direction));else if(a=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&Pr(e).call(e,t.attributes.mid)&&\"recvonly\"===t.attributes.direction)),a.length!==e.length)return KC.debug(\"updateRemoteCodec failed, because cannot find mids, mids: \".concat(e,\", codecs: \").concat(t)),!1;this._rtpCapabilities.recv.videoCodecs=s;const c=this.localCapabilities.send,d=this.rtpCapabilities.recv,l=lL(hI.VIDEO,d,c,i);return a.forEach((e=>{const t=l.map((e=>e.payloadType.toString(10)));KC.debug(\"updateRemoteCodec mid: \".concat(e.attributes.mid,\", from \").concat(e.attributes.payloads,\" to \").concat(l)),e.attributes.payloads=l,e.media.fmts=t})),!0}createOrRecycleSendMedia(e,t,i,n,r){const s=this.rtpCapabilities.send,o=e===hI.VIDEO?s.videoCodecs:s.audioCodecs,a=e===hI.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const c=\"\".concat(this.currentMidIndex);let d={media:{mediaType:e,port:zL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:o.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:o,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(c)}};d=this.mungSendMediaDesc(d,r);const l=this.findFirstClosedMedia(e);if(l){const e=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>\"0\"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,i){const n=bT(e);return eL(n),$P(n,t),tL(n,t),iL(n),nL(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=bT(e);return nL(i,t,this.localCapabilities.recv),cL(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>Rg()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var i;return(null===(i=t.attributes)||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}function $L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ek(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$L(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class tk extends PI{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(e,t,i){super(e,t),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"remoteSDP\",void 0),nu(this,\"initialOffer\",void 0),nu(this,\"transportEventReceiver\",void 0),nu(this,\"statsFilter\",void 0),nu(this,\"useXR\",kC(\"USE_XR\")),nu(this,\"localCapabilities\",void 0),nu(this,\"localCandidateCount\",0),nu(this,\"allCandidatesReceived\",!1),nu(this,\"remoteCodecs\",void 0),nu(this,\"dataStreamChannelMap\",new Map),nu(this,\"establishPromise\",void 0),nu(this,\"mutex\",new YT(\"NVExtentionsConnection-mutex\")),nu(this,\"rtcMedia\",void 0),this.store=t,this.peerConnection=i,this.statsFilter=PL(this.peerConnection,kC(\"STATS_UPDATE_INTERVAL\"),void 0,Rg()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(e){try{const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=zP(e.sdp),i=await sL({filterRTX:!kC(\"USE_PUB_RTX\")&&!kC(\"USE_SUB_RTX\"),filterVideoFec:kC(\"FILTER_VIDEO_FEC\"),filterAudioFec:kC(\"FILTER_AUDIO_FEC\"),filterVideoCodec:kC(\"FILTER_VIDEO_CODEC\")},{useXR:this.useXR});return this.localCapabilities=i,this.initialOffer=e,ek(ek({},t),{},{rtpCapabilities:i,offerSDP:e.sdp})}catch(e){throw new xv(xg.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,i,n,r,s){try{if(!this.initialOffer)throw new Error(\"Cannot establish NVConnection without initial offer.\");this.remoteSDP=new ZL({remoteIceParameters:e,remoteDtlsParameters:t,candidates:i,remoteRTPCapabilities:n,remoteSetup:r,localCapabilities:aL(this.localCapabilities),cname:s});const o=this.remoteSDP.toString(),a=KP.parse(this.initialOffer.sdp),c=a.mediaDescriptions.find((e=>\"audio\"===e.media.mediaType));c&&cL(c),this.useXR&&dL(a);const d=KP.print(a),l=this.logSDPExchange(d||\"\",\"offer\",\"local\",\"connect\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:d}),null==l||l(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,\"NV.connect failed; \".concat(e.toString()))}}async updateRemoteRTPCapabilities(e,t){let i;this.remoteCodecs=t,this.localCapabilities&&(i=aL(this.localCapabilities));const n=[...new Set(i&&i.send.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Pr(t=Object.keys(UC)).call(t,e)})))];if(rv.updateRemoteRTPCapabilities(this.store.sessionId,{mids:e,localCodecs:n,remoteCodecs:this.remoteCodecs}),!this.remoteSDP)return void KC.debug(\"[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: \".concat(n,\", codecs: \").concat(t));if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(e);const i=this.remoteSDP.toString();null==t||t(i),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:i})}else KC.debug(\"[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.\")}async updateRemoteConnect(e){var t,i,n,r;(null===(t=this.remoteSDP)||void 0===t||t.updateRemoteRTPCapabilities(e),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0)&&(null===(r=this.remoteSDP)||void 0===r||r.updateRemoteCodec([],this.remoteCodecs,this.store.codec));null===(i=this.remoteSDP)||void 0===i||i.preloadRemoteMedia(2);const s=null===(n=this.remoteSDP)||void 0===n?void 0:n.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:s});const o=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(o),KC.debug(\"[NVExtentionsConnection] updateRemoteRTPCapabilities by exchanging SDP.\")}send(e,t,i){var n=this;return BP((function*(){const r=yield jP(n.mutex.lock(\"From NVExtentionsConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.send before remote SDP created\");const s=[];e.forEach((e=>{const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});s.push(t)})),Rg()&&!0===kC(\"SIMULCAST\")&&(yield jP(n.applySimulcastForFirefox(s,e)));const o=yield jP(n.peerConnection.createOffer()),a=n.remoteSDP.predictReceivingMids(e.length),c=n.mungSendOfferSDP(o.sdp,e,a),d=KP.parse(c),l=a.map((e=>{const t=d.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return XP(t,kC(\"USE_PUB_RTX\"))}));let h;try{h=yield l}catch(r){h=[],n.remoteSDP.receive(e,t,i,h);const s=n.remoteSDP.toString();throw yield jP(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield jP(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})),yield jP(n.stopSending(a,!0)),r}n.remoteSDP.receive(e,t,i,h);const u=n.remoteSDP.toString(),p=n.logSDPExchange(c,\"offer\",\"local\",\"send\");return yield jP(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield jP(n.applySimulcastEncodings(s,e)),yield jP(n.applySendEncodings(s,e)),null==p||p(u),yield jP(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:u})),s.map(((e,t)=>{const i=a[t];return{localSSRC:l[t],id:i,transceiver:e}}))}catch(e){throw e instanceof xv?e:new xv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From NVExtentionsConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call NVExtentionsConnection.stopSending.\");t.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const s=this.remoteSDP.toString();null==r||r(s),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.createDataChannels before remote SDP created\");let i=this.dataStreamChannelMap.get(e);return i&&\"open\"===i.readyState?KC.debug(\"[P2PConnection] Channels are already available and can be reused directly.\"):(i=this.peerConnection.createDataChannel(\"datastream-channel\",{ordered:!1,maxRetransmits:kC(\"DATASTREAM_MAX_RETRANSMITS\")}),i.binaryType=\"arraybuffer\",this.dataStreamChannelMap.set(e,i)),void t.forEach((e=>{e._updateOriginDataChannel(i)}))}catch(e){throw e instanceof xv?e:new xv(xg.DATACHANNEL_FAILED,\"NVExtentionsConnection.createDataChannels failed; \".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return null==t||t.close(),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof xv?e:new xv(xg.DATACHANNEL_FAILED,\"NVExtentionsConnection.stopDataChannels failed; \".concat(e.toString()))}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:s}=this.remoteSDP.send(e,t,i,n);if(s){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),s=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(s||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:s}),KC.debug(\"[NVExtentionsConnection] receive \".concat(e,\" by exchanging SDP.\"))}else KC.debug(\"[NVExtentionsConnection] receive \".concat(e,\" no need to exchange SDP.\"));const o=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!o)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:o.receiver.track,id:r}}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.receive failed; \".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.batchReceive before remoteSDP created.\");const{mids:t,needExchangeSDP:i}=this.remoteSDP.batchSend(e);if(i){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const i=await this.peerConnection.createAnswer();null==t||t(i.sdp||\"\"),await this.peerConnection.setLocalDescription(i),KC.debug(\"[NVExtentionsConnection] batchReceive by exchanging SDP.\")}else KC.debug(\"[NVExtentionsConnection] batchReceive no need to exchange SDP.\");return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:t.receiver.track,id:e}}))}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.muteRemote failed; \".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.unmuteRemote failed; \".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((e=>{e.direction=\"inactive\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((async(e,t)=>{e.direction=\"sendonly\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return BP((function*(){const i=yield jP(t.mutex.lock(\"From NVExtentionsConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(_A().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===uI.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(KC.debug(\"restartICE change iceTransportPolicy from [\".concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===uI.RELAY)return;e!==uI.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield jP(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=zP(n.sdp),{remoteIceParameters:s}=yield r.iceParameters;t.remoteSDP.restartICE(s);const o=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"restartICE\");yield jP(t.peerConnection.setLocalDescription(n)),null==a||a(o),yield jP(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:o}))}catch(e){KC.warning(\"restart ICE failed, abort operation\",e)}finally{i()}}))()}close(){var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),s=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==s||s(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new xv(xg.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?Rg()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}getP2PConnectionParams(){var e;if(null===(e=this.peerConnection.currentLocalDescription)||void 0===e||!e.sdp||!this.localCapabilities)throw new Error;return ek(ek({},zP(this.peerConnection.currentLocalDescription.sdp)),{},{rtpCapabilities:this.localCapabilities})}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,KC.debug(\"[pc-\".concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,KC.debug(\"[pc-\".concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),kC(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const t={iceServers:[]};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&\"off\"!==e.turnServer.mode&&(_T(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...tk.turnServerConfigToIceServers(e.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...tk.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),kC(\"FORCE_TURN_TCP\")?t.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy=\"relay\")})))),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(_D(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!kC(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}async applySendEncodings(e,t){try{if(!_A().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let l=0;l<e.length;l++){const h=e[l],u=t[l];if(u&&u instanceof Sb){var i,n,r;if(this.isVP8Simulcast(u))continue;const e={},t={};switch(u._optimizationMode){case\"motion\":e.degradationPreference=\"maintain-framerate\";break;case\"detail\":e.degradationPreference=\"maintain-resolution\";break;default:e.degradationPreference=\"balanced\"}var s,o,a,c;if(null!==(i=u._encoderConfig)&&void 0!==i&&i.bitrateMax)t.maxBitrate=1e3*(null===(s=u._encoderConfig)||void 0===s?void 0:s.bitrateMax);if(Pr(n=u._hints).call(n,ky.LOW_STREAM))null!==(o=u._encoderConfig)&&void 0!==o&&o.frameRate&&(t.maxFramerate=mD(u._encoderConfig.frameRate)),null!==(a=u._encoderConfig)&&void 0!==a&&a.scaleResolutionDownBy&&(null===(c=u._encoderConfig)||void 0===c?void 0:c.scaleResolutionDownBy)>1&&(t.scaleResolutionDownBy=u._encoderConfig.scaleResolutionDownBy);if(kC(\"DSCP_TYPE\")&&kg()){var d;const e=kC(\"DSCP_TYPE\");Pr(d=[\"very-low\",\"low\",\"medium\",\"high\"]).call(d,e)&&(t.networkPriority=e)}const l=h.sender.getParameters(),p=null===(r=l.encodings)||void 0===r?void 0:r[0];Rg()&&!p&&(e.encodings=[t]),p&&Object.assign(p,t),Object.assign(l,e),await h.sender.setParameters(l)}}}catch(e){KC.debug(\"Apply RTPSendEncodings failed.\")}}mungSendOfferSDP(e,t,i){const n=KP.parse(e);return t.forEach(((e,t)=>{const r=i[t],s=n.mediaDescriptions.find((e=>e.attributes.mid===r));s&&($P(s,e),rL(s,e,this.store.codec))})),KP.print(n)}mungReceiveAnswerSDP(e,t,i){const n=KP.parse(e),r=n.mediaDescriptions.find((e=>e.attributes.mid===t));return r&&i===hI.AUDIO&&\"audio\"===r.media.mediaType&&cL(r),this.useXR&&dL(n),KP.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,s,o;const c=e[a],d=t[a];if(d instanceof Sb&&!Pr(i=d._hints).call(i,ky.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(s=d._scalabilityMode)&&void 0!==s&&s.numSpatialLayers&&(null===(o=d._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Rg()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof Sb&&this.isVP8Simulcast(n)){const t=e[i],r={},s={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:s.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:s.medium,scaleResolutionDownBy:4}];const o=t.sender.getParameters();await t.sender.setParameters(Object.assign(o,r))}}}isVP8Simulcast(e){var t,i,n,r,s;return!!(e instanceof Sb&&kC(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Pr(t=e._hints).call(t,ky.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(s=e._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(kC(\"SDP_LOGGING\"))return KC.upload(\"exchanging \".concat(i,\" \").concat(t,\" SDP during NVExtentionsConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(e){if(_A().supportPCSetConfiguration){const t=tk.resolvePCConfiguration(e);this.peerConnection.setConfiguration(t)}}}function ik(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From NVExtentionsConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function nk(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=WP,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new rk(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function rk(e){function t(e){if(Object(e)!==e)return tg.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return tg.resolve(e.value).then((function(e){return{value:e,done:t}}))}return rk=function(e){this.s=e,this.n=e.next},rk.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?tg.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?tg.reject(e):t(i.apply(this.s,arguments))}},new rk(e)}Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),Uv(\"design:returntype\",tg)],tk.prototype,\"connect\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array,Array]),Uv(\"design:returntype\",tg)],tk.prototype,\"updateRemoteRTPCapabilities\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",tg)],tk.prototype,\"updateRemoteConnect\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Array]),Uv(\"design:returntype\",tg)],tk.prototype,\"createDataChannels\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,Array,String,Object]),Uv(\"design:returntype\",tg)],tk.prototype,\"receive\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],tk.prototype,\"batchReceive\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],tk.prototype,\"stopReceiving\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],tk.prototype,\"muteRemote\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],tk.prototype,\"unmuteRemote\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],tk.prototype,\"muteLocal\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],tk.prototype,\"unmuteLocal\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],tk.prototype,\"close\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],tk.prototype,\"updateEncoderConfig\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],tk.prototype,\"updateSendParameters\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[iA,String]),Uv(\"design:returntype\",tg)],tk.prototype,\"replaceTrack\",null),Mv([ik,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],tk.prototype,\"getRemoteSSRC\",null);class sk extends PI{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(e,t){super(e,t),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"cname\",void 0),nu(this,\"mutex\",new YT(\"DataChannelConnection-mutex\")),nu(this,\"dataChannel\",void 0),nu(this,\"_p2pConnection\",void 0),nu(this,\"establishPromise\",void 0),nu(this,\"_nvMedia\",void 0),this.store=t,this.store.dcId=this.store.dcId+1,this.peerConnection=new RTCPeerConnection(sk.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.dataChannel=this.peerConnection.createDataChannel(\"agora-signal\",{ordered:!1,maxPacketLifeTime:50}),this.dataChannel.binaryType=\"arraybuffer\",this._p2pConnection=new tk(e,t,this.peerConnection),this.bindPCEvents(),this.establishPromise=this._p2pConnection.establishPromise}async establish(){var e;const t=null===(e=this._nvMedia)||void 0===e?void 0:e.getLocalRtpCapabilities();return await this._p2pConnection.establish(t)}getP2PConnectionParams(){return this._p2pConnection.getP2PConnectionParams()}async connect(e,t,i,n,r,s){return this.cname=s,await this._p2pConnection.connect(e,t,i,n,r,s),await new tg(((e,t)=>{const n=setTimeout((()=>{this.closeSignal(),t(new xv(xg.DATACHANNEL_CONNECTION_TIMEOUT,\"Datachannel connection timed out, candidates: \".concat(JSON.stringify(i))))}),2e3);this.dataChannel.onopen=()=>{if(\"open\"===this.dataChannel.readyState)return clearTimeout(n),void e()},this.dataChannel.onerror=e=>{this.closeSignal(),t(e)}})),{transmitter:this.dataChannel,close:this.closeSignal.bind(this)}}async updateRemoteRTPCapabilities(e,t){return this._p2pConnection.updateRemoteRTPCapabilities(e,t)}send(e,t,i){var n=this;return BP((function*(){const r=yield jP(n.mutex.lock(\"From DataChannelConnection.send\"));try{return yield*GP(nk(n._p2pConnection.send(e,t,i)))}finally{r()}}))()}async stopSending(e,t){return this._p2pConnection.stopSending(e,t)}async createDataChannels(e,t){return this._p2pConnection.createDataChannels(e,t)}async stopDataChannels(e){return this._p2pConnection.stopDataChannels(e)}async receive(e,t,i,n){return this._nvMedia?(KC.debug(\"[DataChannelConnection] receive \".concat(e,\" by DataChannel.\")),await this._nvMedia.reveiveByRTCMedia(e,t,this.cname)):(KC.debug(\"[DataChannelConnection] receive \".concat(e,\" by WebRTC.\")),await this._p2pConnection.receive(e,t,i,n))}async batchReceive(e){return[...await this._p2pConnection.batchReceive(e)]}async stopReceiving(e){return await this._p2pConnection.stopReceiving(e)}async muteRemote(e){return await this._p2pConnection.muteRemote(e)}async unmuteRemote(e){return await this._p2pConnection.unmuteRemote(e)}async muteLocal(e){return await this._p2pConnection.muteLocal(e)}async unmuteLocal(e){return await this._p2pConnection.unmuteLocal(e)}restartICE(e){var t=this;return BP((function*(){return yield*GP(nk(t._p2pConnection.restartICE(e)))}))()}close(){var e;null===(e=this._nvMedia)||void 0===e||e.close(),this._p2pConnection.close(),this.unbindConnectionEvents(this._p2pConnection)}getStats(){return this._p2pConnection.getStats()}getRemoteVideoIsReady(e){return this._p2pConnection.getRemoteVideoIsReady(e)}updateRemoteConnect(e){var t;null===(t=this._nvMedia)||void 0===t||t.setRemoteRtpCapabilities(e),this._p2pConnection.updateRemoteConnect(e)}async updateEncoderConfig(e,t){return await this._p2pConnection.updateEncoderConfig(e,t)}async updateSendParameters(e,t){return await this._p2pConnection.updateSendParameters(e,t)}setStatsRemoteVideoIsReady(e,t){this._p2pConnection.setStatsRemoteVideoIsReady(e,t)}async replaceTrack(e,t){return await this._p2pConnection.replaceTrack(e,t)}async getRemoteSSRC(e){return this._p2pConnection.getRemoteSSRC(e)}logSDPExchange(e,t,i,n){if(kC(\"SDP_LOGGING\"))return KC.upload(\"exchanging \".concat(i,\" \").concat(t,\" SDP during DataChannelConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}static resolvePCConfiguration(e){const t={iceServers:[]};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&\"off\"!==e.turnServer.mode&&(_T(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...sk.turnServerConfigToIceServers(e.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...sk.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),kC(\"FORCE_TURN_TCP\")?t.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy=\"relay\")})))),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(_D(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!kC(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}bindPCEvents(){this._p2pConnection.onICEConnectionStateChange=e=>{var t;return null===(t=this.onICEConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onConnectionStateChange=e=>{var t;return null===(t=this.onConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportStateChange=e=>{var t;return null===(t=this.onDTLSTransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportError=e=>{var t;return null===(t=this.onDTLSTransportError)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onICETransportStateChange=e=>{var t;return null===(t=this.onICETransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioReceived=e=>{var t;return null===(t=this.onFirstAudioReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoReceived=e=>{var t;return null===(t=this.onFirstVideoReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioDecoded=e=>{var t;return null===(t=this.onFirstAudioDecoded)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoDecoded=(e,t,i)=>{var n;return null===(n=this.onFirstVideoDecoded)||void 0===n?void 0:n.call(this,e,t,i)},this._p2pConnection.onFirstVideoDecodedTimeout=e=>{var t;return null===(t=this.onFirstVideoDecodedTimeout)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onSelectedLocalCandidateChanged=(e,t)=>{var i;return null===(i=this.onSelectedLocalCandidateChanged)||void 0===i?void 0:i.call(this,e,t)},this._p2pConnection.onSelectedRemoteCandidateChanged=(e,t)=>{var i;return null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i?void 0:i.call(this,e,t)}}closeSignal(){this.dataChannel.close(),this.peerConnection.close()}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}setConfiguration(e){this._p2pConnection.setConfiguration(e)}}function ok(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From DataChannelConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function ak(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ck(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ak(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ak(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),Uv(\"design:returntype\",tg)],sk.prototype,\"connect\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array,Array]),Uv(\"design:returntype\",tg)],sk.prototype,\"updateRemoteRTPCapabilities\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Array]),Uv(\"design:returntype\",tg)],sk.prototype,\"createDataChannels\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,Array,String,Object]),Uv(\"design:returntype\",tg)],sk.prototype,\"receive\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],sk.prototype,\"stopReceiving\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],sk.prototype,\"muteRemote\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],sk.prototype,\"unmuteRemote\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],sk.prototype,\"muteLocal\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],sk.prototype,\"unmuteLocal\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],sk.prototype,\"close\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],sk.prototype,\"updateEncoderConfig\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],sk.prototype,\"updateSendParameters\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[iA,String]),Uv(\"design:returntype\",tg)],sk.prototype,\"replaceTrack\",null),Mv([ok,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],sk.prototype,\"getRemoteSSRC\",null);class dk extends iT{constructor(){super(),nu(this,\"uplinkStatsUploadInterval\",void 0),nu(this,\"uplinkRelatedStatsUploadInterval\",void 0),nu(this,\"uplinkDenoiserStatsUploadInterval\",void 0),nu(this,\"transportStatsUploadInterval\",void 0),nu(this,\"uplinkExtensionStatsUploadInterval\",void 0),nu(this,\"downlinkExtensionStatsUploadInterval\",void 0),nu(this,\"extensionUsageStatsUploadInterval\",void 0),nu(this,\"downlinkStatsUploadInterval\",void 0),nu(this,\"downlinkRelatedStatsUploadInterval\",void 0),nu(this,\"lastStats\",void 0),nu(this,\"uploadUnplinkStarted\",!1),nu(this,\"uploadDownlinkStarted\",!1),nu(this,\"uploadTransportStarted\",!1),nu(this,\"uploadExtensionUsageStarted\",!1),nu(this,\"requestStats\",void 0),nu(this,\"requestTransportStats\",void 0),nu(this,\"requestLocalMedia\",void 0),nu(this,\"requestRemoteMedia\",void 0),nu(this,\"requestAllTracks\",void 0),nu(this,\"requestVideoIsReady\",void 0),nu(this,\"requestUpload\",void 0)}startUploadTransportStats(e){this.uploadTransportStarted||(this.uploadTransportStarted=!0,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=window.setInterval((()=>{var t;const i=null===(t=this.requestStats)||void 0===t?void 0:t.call(this);if(i){const t=gD(i);if(e){var n;const e=null===(n=this.requestStats)||void 0===n?void 0:n.call(this,!0);if(e){const i=gD(e);t.connectionType+=i.connectionType<<3}t.connectionType+=110}else t.connectionType+=100;AT((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,Sv.TRANSPORT_STATS,t)}))}}),1e3))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.extensionUsageStatsUploadInterval&&window.clearInterval(this.extensionUsageStatsUploadInterval);const e=new Map;this.extensionUsageStatsUploadInterval=window.setInterval((async()=>{var t,i,n;const r=Date.now(),s={connectionInterval:kC(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3,details:[],lts:r};let o=[];const a=(null===(t=this.requestAllTracks)||void 0===t?void 0:t.call(this))||[];for(const e of a)!e.muted&&e.enabled&&(o=o.concat(await e.getProcessorUsage()));const c=(null===(i=this.requestRemoteMedia)||void 0===i?void 0:i.call(this))||[];for(const[e,t]of c)t.has(hI.VIDEO)&&e.videoTrack&&(o=o.concat(await e.videoTrack.getProcessorUsage())),t.has(hI.AUDIO)&&e.audioTrack&&(o=o.concat(await e.audioTrack.getProcessorUsage()));if(0===o.length)return;s.details=function(e,t){const i={};for(const{id:o,value:a,level:c,direction:d}of e){var n;const e=null!==(n=t.get(o))&&void 0!==n?n:0,l=2===a?e+kC(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3:e;var r,s;t.set(o,l),i[o]?(2===a&&(i[o].value=a),c>i[o].level&&(i[o].level=c),\"remote\"===d&&(i[o].remoteUidCount+=1),i[o].totalTs=null!==(r=t.get(o))&&void 0!==r?r:0):i[o]={value:a,level:c,remoteUidCount:\"local\"===d?0:1,totalTs:null!==(s=t.get(o))&&void 0!==s?s:0}}return Object.keys(i).map((e=>{const{level:t,value:n,totalTs:r}=i[e];return{id:e,level:t,value:n,totalTs:r}}))}(o,e);const d=Date.now(),l=d>r?d:r+1;null===(n=this.requestUpload)||void 0===n||n.call(this,Sv.EXTENSION_USAGE_STATS,{usageStats:s,sendTs:l})}),kC(\"EXTENSION_USAGE_UPLOAD_INTERVAL\"))}startUploadUplinkStats(){this.uploadUnplinkStarted||(this.uploadUnplinkStarted=!0,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadUplinkStats(t),this.lastStats=t)}),3e3),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadRelatedUplinkStats(t,this.lastStats),this.lastStats=t}),1e3),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadDenoiserStats(t)}),2e3),this.uplinkExtensionStatsUploadInterval&&window.clearInterval(this.uplinkExtensionStatsUploadInterval),this.uplinkExtensionStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadExtensionStats(t)}),2e3))}uploadUplinkStats(e){var t;((null===(t=this.requestLocalMedia)||void 0===t?void 0:t.call(this))||[]).forEach((t=>{let[i,{track:n,ssrcs:r}]=t;switch(i){case _I.LocalVideoLowTrack:case _I.LocalVideoTrack:{const t=function(e,t,i){var n;const r=t.videoSend.find((t=>t.ssrc===e));if(!r)return null;const s={id:xT(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"video\",type:\"ssrc\",ssrc:r.ssrc.toString()};switch(s.A_vstd=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?\"1\":\"0\",r.sentFrame&&(s.A_fhs=r.sentFrame.height.toString(),s.A_frs=r.sentFrame.frameRate.toString(),s.A_fws=r.sentFrame.width.toString()),r.adaptionChangeReason){case\"none\":s.A_ac=\"0\";break;case\"cpu\":s.A_ac=\"1\";break;case\"bandwidth\":s.A_ac=\"2\";break;case\"other\":s.A_ac=\"3\"}return s.A_lvps=$y[i._player?i._player.videoElementStatus:\"uninit\"].toString(),s.A_nr=null===(n=r.nacksCount)||void 0===n?void 0:n.toString(),r.avgEncodeMs&&(s.A_aem=r.avgEncodeMs.toFixed(0).toString()),kC(\"P2P\")&&(r.bytes&&(s.bytesSent=r.bytes.toString()),\"number\"==typeof r.packetsLost&&(s.packetsLost=r.packetsLost.toString()),r.packets&&(s.packetsSent=r.packets.toString())),s}(r[0].ssrcId,e,n),s=i===_I.LocalVideoTrack?function(e,t,i){var n,r,s,o,a,c,d,l;const h=t.videoSend.find((t=>t.ssrc===e));if(!h)return null;const u={id:xT(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"video\",type:\"ssrc\",ssrc:h.ssrc.toString()},p=null!==(n=null!==(r=null===(s=h.inputFrame)||void 0===s?void 0:s.height)&&void 0!==r?r:null==i?void 0:i._videoHeight)&&void 0!==n?n:0,_=null!==(o=null!==(a=null===(c=h.inputFrame)||void 0===c?void 0:c.width)&&void 0!==a?a:null==i?void 0:i._videoWidth)&&void 0!==o?o:0,E=null!==(d=null===(l=h.inputFrame)||void 0===l?void 0:l.frameRate)&&void 0!==d?d:0;return p&&(u.A_fhi=p+\"\"),_&&(u.A_fwi=_+\"\"),E&&(u.A_fri=E+\"\"),u}(r[0].ssrcId,e,n):null;t&&AT((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,Sv.PUBLISH_STATS,{stream_type:i===_I.LocalVideoLowTrack?\"low\":\"high\",stats:ck(ck({},t),s)})}));const o=function(e){const t={id:\"bweforvideo\",timestamp:new Date(e.timestamp).toISOString(),type:\"VideoBwe\"};return e.bitrate.retransmit&&(t.A_rb=e.bitrate.retransmit.toString()),e.bitrate.targetEncoded&&(t.A_teb=e.bitrate.targetEncoded.toString()),t.A_aeb=e.bitrate.actualEncoded.toString(),t.A_tb=e.bitrate.transmit.toString(),void 0!==e.sendBandwidth&&(t.A_asb=e.sendBandwidth.toString()),t}(e);o&&setTimeout((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,Sv.PUBLISH_STATS,{stream_type:i===_I.LocalVideoLowTrack?\"low\":\"high\",stats:o})}),1e3);break}case _I.LocalAudioTrack:{const t=function(e,t,i){const n=t.audioSend.find((t=>t.ssrc===e));if(!n)return null;const r={id:xT(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"audio\",type:\"ssrc\",ssrc:n.ssrc.toString()};return r.A_astd=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?\"1\":\"0\",n.inputLevel?r.A_ail=Math.round(100*n.inputLevel).toString():r.A_ail=Math.round(100*i._source.getAccurateVolumeLevel()).toString(),r.A_apil=Math.round(100*i._source.getAccurateVolumeLevel()).toString(),n.aecReturnLoss&&(r.A_ecrl=Math.round(n.aecReturnLoss).toString()),n.aecReturnLossEnhancement&&(r.A_ecrle=Math.round(n.aecReturnLossEnhancement).toString()),kC(\"P2P\")&&(n.bytes&&(r.bytesSent=n.bytes.toString()),\"number\"==typeof n.packetsLost&&(r.packetsLost=n.packetsLost.toString()),n.packets&&(r.packetsSent=n.packets.toString())),r}(r[0].ssrcId,e,n);t&&AT((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,Sv.PUBLISH_STATS,{stream_type:\"high\",stats:t})}));break}}}))}uploadRelatedUplinkStats(e,t){var i;((null===(i=this.requestLocalMedia)||void 0===i?void 0:i.call(this))||[]).filter((e=>{let[t]=e;return t===_I.LocalVideoLowTrack||t===_I.LocalVideoTrack})).forEach((t=>{let[i,{ssrcs:n}]=t;const r=function(e,t){const i=t.videoSend.find((t=>t.ssrc===e));return i?{mediaType:\"video\",isVideoMute:!1,frameRateInput:i.inputFrame&&i.inputFrame.frameRate.toString(),frameRateSent:i.sentFrame&&i.sentFrame.frameRate.toString(),googRtt:i.rttMs.toString(),qpSumPerFrame:Math.floor(i.qpSumPerFrame).toString()}:null}(n[0].ssrcId,e);r&&AT((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,Sv.PUBLISH_RELATED_STATS,{stream_type:i===_I.LocalVideoLowTrack?\"low\":\"high\",stats:r})}))}))}uploadDenoiserStats(e){for(let r=0;r<e.length;r++){const s=e[r];if(s instanceof $A){var t,i,n;const e=null===(t=(i=s._external).getDenoiserStats)||void 0===t?void 0:t.call(i);return void(e&&(null===(n=this.requestUpload)||void 0===n||n.call(this,Sv.DENOISER_STATS,e)))}}}uploadExtensionStats(e){for(let t=0;t<e.length;t++){e[t].getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}}stopUploadUplinkStats(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkStatsUploadInterval=void 0,this.uplinkRelatedStatsUploadInterval=void 0,this.uplinkDenoiserStatsUploadInterval=void 0)}startUploadDownlinkStats(){if(this.uploadDownlinkStarted)return;let e;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);let t=!1;this.downlinkStatsUploadInterval=window.setInterval((()=>{var i;const n=null===(i=this.requestStats)||void 0===i?void 0:i.call(this,!0);n&&(this.uploadDownlinkStats(n,t,e),e=n),t=!t}),3e3),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this,!0);t&&(this.uploadRelatedDownlinkStats(t,this.lastStats),this.lastStats=t)}),1e3),this.downlinkExtensionStatsUploadInterval&&window.clearInterval(this.downlinkExtensionStatsUploadInterval),this.downlinkExtensionStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestRemoteMedia)||void 0===e?void 0:e.call(this);t&&this.uploadDownlinkExtensionStats(t)}),2e3)}uploadDownlinkStats(e,t,i){var n;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach((n=>{let[r,s]=n;if(s.has(hI.VIDEO)&&r.videoTrack){const n=r.videoTrack?function(e,t,i,n,r){const s=t.videoRecv.find((t=>t.ssrc===e));if(!s)return null;const o={id:xT(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"video\",type:\"ssrc\",ssrc:s.ssrc.toString()};var a,c;if(o.bytesReceived=s.bytes.toString(),o.packetsLost=s.packetsLost.toString(),o.packetsReceived=s.packets.toString(),s.framesRateFirefox&&(o.A_frr=s.framesRateFirefox.toString()),s.receivedFrame?(o.A_frr=s.receivedFrame.frameRate.toString(),o.A_fhr=s.receivedFrame.height.toString(),o.A_fwr=s.receivedFrame.width.toString()):(o.A_fhr=null===(a=n._videoHeight)||void 0===a?void 0:a.toString(),o.A_fwr=null===(c=n._videoWidth)||void 0===c?void 0:c.toString()),o.A_frd=s.decodeFrameRate.toString(),s.outputFrame&&(o.A_fro=s.outputFrame.frameRate.toString()),void 0!==s.jitterBufferMs&&(o.A_jbm=Math.floor(s.jitterBufferMs).toString()),void 0!==s.currentDelayMs&&(o.A_cdm=Math.floor(s.currentDelayMs).toString()),o.A_fs=s.firsCount.toString(),o.A_ns=s.nacksCount.toString(),o.A_ps=s.plisCount.toString(),n&&(o.A_vrtd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?\"0\":\"1\"),n._player&&n._player.freezeTimeCounterList.length>0&&(o.A_vrft=Math.round(n._player.freezeTimeCounterList.splice(0,1)[0]).toString()),r&&n._player&&\"visible\"===db.visibility){const e=Math.min(6e3,n._player.renderFreezeAccTime);o.A_vrrft=Math.round(e).toString(),n._player.renderFreezeAccTime=Math.max(0,n._player.renderFreezeAccTime-e)}if(o.A_rvps=$y[n._player?n._player.videoElementStatus:\"uninit\"].toString(),i){const t=i.videoRecv.find((t=>t.ssrc===e));if(t&&void 0!==s.totalInterFrameDelay&&void 0!==s.totalSquaredInterFrameDelay&&void 0!==t.totalInterFrameDelay&&void 0!==t.totalSquaredInterFrameDelay){const e=s.totalInterFrameDelay-t.totalInterFrameDelay,i=s.totalSquaredInterFrameDelay-t.totalSquaredInterFrameDelay,n=s.framesDecodeCount-t.framesDecodeCount,r=e/n*1e3,a=Math.round(1e3*Math.sqrt((i-Math.pow(e,2)/n)/n));!isNaN(a)&&r+a>Math.max(3*r,r+150)&&(o.A_ifdsd=a.toString())}}return o}(r._videoSSRC,e,i,r.videoTrack,t):void 0;n&&AT((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,Sv.SUBSCRIBE_STATS,{stream_id:r.uid,stats:n})}))}if(s.has(hI.AUDIO)&&r.audioTrack){const t=r.audioTrack?function(e,t,i,n){const r=t.audioRecv.find((t=>t.ssrc===e));if(!r)return null;const s={id:xT(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"audio\",type:\"ssrc\",ssrc:r.ssrc.toString()};if(s.bytesReceived=r.bytes.toString(),s.packetsLost=r.packetsLost.toString(),s.packetsReceived=r.packets.toString(),r.outputLevel?s.A_aol=Math.round(100*r.outputLevel).toString():s.A_aol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),s.A_apol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),n&&(s.A_artd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?\"0\":\"1\"),s.A_jr=r.jitterMs.toString(),s.A_jbm=Math.floor(r.jitterBufferMs).toString(),s.A_cdm=Math.floor(r.jitterBufferMs).toString(),s.A_raps=$y[xA.getPlayerState(n.getTrackId())].toString(),i){const t=i.audioRecv.find((t=>t.ssrc===e));if(t){const e=r.concealedSamples-t.concealedSamples;e>0&&(s.A_cs=Math.round(e).toString())}}return s}(r._audioSSRC,e,i,r.audioTrack):void 0;t&&AT((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,Sv.SUBSCRIBE_STATS,{stream_id:r.uid,stats:t})}))}}))}uploadRelatedDownlinkStats(e,t){var i;((null===(i=this.requestRemoteMedia)||void 0===i?void 0:i.call(this))||[]).forEach((i=>{let[n,r]=i;if(r.has(hI.VIDEO)&&n.videoTrack){var s;const i=!0===(n._videoSSRC&&(null===(s=this.requestVideoIsReady)||void 0===s?void 0:s.call(this,n._videoSSRC))||!1),r=function(e,t,i,n,r,s){const o=i.videoRecv.find((t=>t.ssrc===e)),a=r?r.videoRecv.find((t=>t.ssrc===e)):void 0;if(!o)return null;const c=hD.isRemoteVideoFreeze(s,o,a)&&t,d={mediaType:\"video\",isVideoMute:!1,peerId:n,frameRateReceived:o.receivedFrame&&o.receivedFrame.frameRate.toString(),frameRateDecoded:o.decodedFrame&&o.decodedFrame.frameRate.toString(),isFreeze:c,bytesReceived:o.bytes.toString(),packetsReceived:o.packets.toString(),packetsLost:o.packetsLost.toString(),qpSumPerFrame:Math.floor(o.qpSumPerFrame).toString()};return o.framesRateFirefox&&(d.frameRateDecoded=o.framesRateFirefox.toString(),d.frameRateReceived=o.framesRateFirefox.toString()),d}(n._videoSSRC,i,e,n.uid,t,n.videoTrack);r&&AT((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,Sv.SUBSCRIBE_RELATED_STATS,{stream_id:n.uid,stats:r})}))}if(r.has(hI.AUDIO)&&n.audioTrack){const t=function(e,t,i,n){const r=t.audioRecv.find((t=>t.ssrc===e));if(!r)return null;const s=hD.isRemoteAudioFreeze(n);return{mediaType:\"audio\",isAudioMute:!1,peerId:i,googJitterReceived:r.jitterMs.toString(),isFreeze:s,bytesReceived:r.bytes.toString(),packetsReceived:r.packets.toString(),packetsLost:r.packetsLost.toString(),frameReceived:r.receivedFrames.toString(),frameDropped:r.droppedFrames.toString()}}(n._audioSSRC,e,n.uid,n.audioTrack);t&&AT((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,Sv.SUBSCRIBE_RELATED_STATS,{stream_id:n.uid,stats:t})}))}}))}stopUploadDownlinkStats(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkStatsUploadInterval=void 0,this.downlinkRelatedStatsUploadInterval=void 0)}stopUploadTransportStats(){this.uploadTransportStarted&&(this.uploadTransportStarted=!1,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=void 0)}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.extensionUsageStatsUploadInterval&&window.clearInterval(this.extensionUsageStatsUploadInterval),this.extensionUsageStatsUploadInterval=void 0)}uploadDownlinkExtensionStats(e){e.forEach((e=>{let[t,i]=e;if(i.has(hI.VIDEO)&&t.videoTrack){t.videoTrack.getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}if(i.has(hI.AUDIO)&&t.audioTrack){t.audioTrack.getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}}))}}function lk(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function hk(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?lk(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):lk(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function uk(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=WP,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new pk(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function pk(e){function t(e){if(Object(e)!==e)return tg.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return tg.resolve(e.value).then((function(e){return{value:e,done:t}}))}return pk=function(e){this.s=e,this.n=e.next},pk.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?tg.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?tg.reject(e):t(i.apply(this.s,arguments))}},new pk(e)}class _k extends iT{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(mI.StateChange,t,this._state)}constructor(e,t){super(),nu(this,\"store\",void 0),nu(this,\"statsUploader\",void 0),nu(this,\"connection\",void 0),nu(this,\"localTrackMap\",new Map),nu(this,\"remoteUserMap\",new Map),nu(this,\"localDataChannels\",[]),nu(this,\"remoteDataChannelMap\",new Map),nu(this,\"pendingLocalTracks\",[]),nu(this,\"pendingRemoteTracks\",[]),nu(this,\"pendingLocalDataChannels\",[]),nu(this,\"pendingRemoteDataChannels\",[]),nu(this,\"statsCollector\",void 0),nu(this,\"isPlanB\",!1),nu(this,\"shouldForwardP2PCreation\",void 0),nu(this,\"iceFailedCount\",0),nu(this,\"dtlsFailedCount\",0),nu(this,\"mutex\",new YT(\"P2PChannel-mutex\")),nu(this,\"_state\",EI.Disconnected),nu(this,\"_pcStatsUploadType\",kC(\"NEW_ICE_RESTART\")?pI.FIRST_CONNECTION:pI.OLD_FIRST_CONNECTION),nu(this,\"_isInRestartIce\",!1),nu(this,\"_isStartRestartIce\",!1),nu(this,\"_restartStates\",[\"disconnected\",\"failed\"]),nu(this,\"_restartTimer\",void 0),nu(this,\"_isFirstConnected\",!0),nu(this,\"handleMuteLocalTrack\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleMuteLocalTrack\");try{if(!this.connection||this.state!==EI.Connected)return void i(new Vg(xg.INVALID_OPERATION,\"Cannot call P2PChannel.handleMuteLocalTrack before connection established.\"));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const s=r.find((e=>\"videoLowTrack\"===e[0]));if(s){s[1].track._originMediaStreamTrack.stop()}await this.connection.muteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createMuteMessage(r);await gT(this,mI.RequestMuteLocal,o),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleUnmuteLocalTrack\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleUnmuteLocalTrack\");try{if(!this.connection||this.state!==EI.Connected)return void i(new Vg(xg.INVALID_OPERATION,\"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.\"));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const s=r.find((e=>\"videoLowTrack\"===e[0]));if(s){const t=s[1];if(t.track._originMediaStreamTrack.stop(),!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&_A().supportDualStreamEncoding){const i=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}else{const i=KL(e,ST(this,mI.RequestLowStreamParameter));t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}await new tg(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}await this.connection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnmuteMessage(r);await gT(this,mI.RequestUnmuteLocal,o),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleUpdateVideoEncoder\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleSetVideoEncoder\");try{const i=this.localTrackMap.get(_I.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==EI.Connected)return void t();const{id:r,track:s}=i;await this.connection.updateSendParameters(r,s),await this.connection.updateEncoderConfig(r,s),this.emit(mI.UpdateVideoEncoder,s),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleSetOptimizationMode\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleSetOptimizationMode\");try{const i=this.localTrackMap.get(_I.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==EI.Connected)return;const{id:r,track:s}=i;await this.connection.updateSendParameters(r,s),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleReplaceTrack\",(async(e,t,i,n)=>{let r;KC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel handleReplaceTrack for [track-id-\").concat(e.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(r=await this.mutex.lock(\"From P2PChannel.handleReplaceTrack\"));try{var s;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!this.connection||!i||this.state!==EI.Connected)return void t();if(await(null===(s=this.connection)||void 0===s?void 0:s.replaceTrack(e,i[1].id)),this.isPlanB){const t=i[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(i[0],t)}if(i[0]===_I.LocalVideoTrack&&!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&_A().supportDualStreamEncoding){const t=this.localTrackMap.get(_I.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new tg(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}t()}catch(e){i(e)}finally{var o;null===(o=r)||void 0===o||o()}})),nu(this,\"handleGetRTCStats\",(e=>{e(this.statsCollector.getRTCStats())})),nu(this,\"handleGetLocalVideoStats\",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),nu(this,\"handleGetLocalAudioStats\",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),nu(this,\"handleGetRemoteVideoStats\",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),nu(this,\"handleGetRemoteAudioStats\",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new dk,this.bindStatsUploaderEvents(),this.isPlanB=!_A().supportUnifiedPlan||kC(\"CHROME_FORCE_PLAN_B\")&&kg(),this.shouldForwardP2PCreation=kC(\"FORWARD_P2P_CREATION\")&&_A().supportPCSetConfiguration&&function(){const e=_g();return e===ag.ANDROID||e===ag.IOS||e===ag.HARMONY_OS}(),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new sk({},this.store):this.isPlanB?new ML({},this.store):new WL({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(e,t){var i;this.state=EI.New;const n=this.shouldForwardP2PCreation&&\"closed\"===(null===(i=this.connection)||void 0===i?void 0:i.peerConnectionState);if(this.shouldForwardP2PCreation&&!n||(n&&this.connection&&(KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2PConnection ForwardP2P closed.\")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.store.useDataChannel?new sk(e,this.store):this.isPlanB?new ML(e,this.store):new WL(e,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel.startConnection before P2PConnection initialization .\");return this._pcStatsUploadType=kC(\"NEW_ICE_RESTART\")?pI.FIRST_CONNECTION:pI.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e,t,i,n,r,s){if(!this.connection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");this.connection instanceof sk?this.connection.updateRemoteConnect(n):(this.store.peerConnectionStart(),await this.connection.connect(e,t,i,n,r,s),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=EI.Connected)}updateRemoteRTPCapabilities(e){const t=Array.from(this.localTrackMap.entries()).filter((e=>{var t;let[i]=e;return Pr(t=[_I.LocalVideoLowTrack,_I.LocalVideoTrack]).call(t,i)})).map((e=>{let[,{id:t}]=e;return t}));if(this.connection instanceof WL){if(!Pr(e).call(e,this.store.codec)){const t=[\"vp8\",\"h264\"].find((t=>Pr(e).call(e,t)));t&&(this.store.codec=t,KC.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\" updateRemoteRTPCapabilities] default codec is not available, hence the fallback to \").concat(t,\".\")))}this.connection.updateRemoteRTPCapabilities(t,e)}}async preConnect(e,t,i,n,r,s){if(!this.connection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");this.store.peerConnectionStart();const o=await this.connection.connect(e,t,i,n,r,s);return this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=EI.Connected,o}getEstablishParams(){if(this.connection instanceof sk)return this.connection.getP2PConnectionParams();throw new Error(\"Only DataChannelConnection needs to obtain establishParams\")}async publishDataChannel(e){if(!this.connection){if(this.state===EI.Disconnected)throw new Vg(xg.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");const t=e.filter((e=>-1!==this.pendingLocalDataChannels.findIndex((t=>t.id===e.id))));return void(this.pendingLocalDataChannels=this.pendingLocalDataChannels.concat(t))}const t=this.filterTobePublishedDataChannels(e);0!==t.length&&(t.forEach((e=>{const t=Date.now();this.store.publish(e.id.toString(),\"datachannel\",t)})),await this.connection.createDataChannels(this.store.uid,t),t.forEach((e=>{this.localDataChannels.push(e);const t=Date.now();this.store.publish(e.id+\"\",\"datachannel\",void 0,t)})))}publish(e,t,i){var n=this;return BP((function*(){const r=yield jP(n.mutex.lock(\"From P2PChannel.publish\"));try{if(!n.connection||n.state!==EI.Connected){if(n.state===EI.Disconnected)throw new Vg(xg.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");n.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===n.pendingLocalTracks.indexOf(e)));return void(n.pendingLocalTracks=n.pendingLocalTracks.concat(t))}n.store.pubId=n.store.pubId+1,cD.markPublishStart(n.store.clientId,n.store.pubId);const s=n.filterTobePublishedTracks(e,t,i);if(0===s.length)return void(yield jP(n.tryToUnmuteAudio(e)));yield*GP(uk(n.doPublish(n.connection,s)))}finally{r()}}))()}doPublish(e,t){var i=this;return BP((function*(){t.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===_I.LocalAudioTrack?\"audio\":\"video\",r)})),i.bindLocalTrackEvents(t);const n=yield jP(e.send(t.map((e=>{let{track:t}=e;return t})),i.store.codec,i.store.audioCodec)),r=(yield jP(n.next())).value,s=i.createGatewayPublishMessage(t,r);let o;try{o=yield s}catch(e){throw n.throw(e),(null==e?void 0:e.code)===xg.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===i.pendingLocalTracks.indexOf(t)&&i.pendingLocalTracks.push(t)})),i.unbindLocalTrackEvents(t),e}const a=i.mapPubResToRemoteConfig(s,o),c=(yield jP(n.next(a))).value;t.forEach((e=>{let{type:t}=e;i.statsCollector.addLocalStats(t)})),i.assignLocalTracks(t,c),i.statsUploader.startUploadUplinkStats(),t.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===_I.LocalAudioTrack?\"audio\":\"video\",void 0,r)}))}))()}async updateVideoStreamParameter(e,t){const i=this.localTrackMap.get(t);if(!i)return;if(!(i.track instanceof Sb))return KC.warn(\"[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack\");if(!(this.connection instanceof WL||this.connection instanceof ML))return KC.warn(\"[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB\");const{track:n}=i,r=function(e,t){const i={};return e.height&&e.width&&(i.scaleResolutionDownBy=CD(e,t)),i.maxFramerate=e.framerate?mD(e.framerate):void 0,i.maxBitrate=e.bitrate?1e3*e.bitrate:void 0,i}(e,n);if(n._encoderConfig||(n._encoderConfig={}),t!==_I.LocalVideoLowTrack||!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&_A().supportDualStreamEncoding)null!=r.scaleResolutionDownBy&&(n._encoderConfig.scaleResolutionDownBy=r.scaleResolutionDownBy);else{const t=n._originMediaStreamTrack;if(!t.canvas)return KC.warn(\"[\".concat(n.getTrackId(),\"] no canvas on track\"));!function(e,t){const i=e.canvas;t.width&&(i.width=mD(t.width)),t.height&&(i.height=mD(t.height)),t.framerate&&(i.stopCapture&&i.stopCapture(),i.stopCapture=uA((()=>{!i.startCapture&&i.stopCapture&&i.stopCapture(),i.startCapture&&i.startCapture()}),mD(t.framerate)))}(t,e)}null!=r.maxBitrate&&(n._encoderConfig.bitrateMax=r.maxBitrate/1e3),null!=r.maxFramerate&&(n._encoderConfig.frameRate&&\"object\"==typeof n._encoderConfig.frameRate?n._encoderConfig.frameRate.max=r.maxFramerate:n._encoderConfig.frameRate={max:r.maxFramerate}),KC.debug(\"[\".concat(n.getTrackId(),\"] LowStreamEncoderConfig: , \").concat(JSON.stringify(n._encoderConfig))),await this.connection.updateRtpSenderEncodings(n)}publishLowStream(e){var t=this;return BP((function*(){if(!t.connection||t.state!==EI.Connected)return;const i=yield jP(t.mutex.lock(\"Locking from P2PChannel.publishLowStream\"));try{const r=t.localTrackMap.get(_I.LocalVideoTrack);if(!r)throw new Vg(xg.UNEXPECTED_ERROR,\"Could not find high stream\");if(t.localTrackMap.has(_I.LocalVideoLowTrack))throw new Vg(xg.UNEXPECTED_ERROR,\"[\".concat(t.store.clientId,\"] Can't publish low stream when stream already publish\"));const s=[{track:t.getLowVideoTrack(r.track,e),type:_I.LocalVideoLowTrack}];if(yield*GP(uk(t.doPublish(t.connection,s))),r.track.muted||!r.track.enabled){var n;const e=null===(n=t.localTrackMap.get(_I.LocalVideoLowTrack))||void 0===n?void 0:n.id;void 0!==e&&(yield jP(t.connection.muteLocal([e])))}}finally{i()}}))()}async republish(){this.pendingLocalTracks.length>0&&(KC.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await fT(this,mI.RequestRePublish,this.pendingLocalTracks),this.emit(mI.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(KC.debug(\"Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels.\"),await fT(this,mI.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(e){for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){const{user:t,kind:i}=this.pendingRemoteTracks[e];(i!==hI.AUDIO||t._audio_added_&&t._audioSSRC)&&(i!==hI.VIDEO||t._video_added_&&t._videoSSRC)||this.pendingRemoteTracks.splice(e,1)}if(e)await fT(this,mI.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:e,kind:t}of this.pendingRemoteTracks)await this.subscribe(e,t,t===hI.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(mI.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==EI.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const i=t.find((e=>\"videoLowTrack\"===e[0]));if(i){i[1].track.close()}return this.doUnpublish(this.connection,t)}async unpublishDataChannel(e){if(!this.connection||this.state!==EI.Connected)return void e.forEach((e=>{const t=this.pendingLocalDataChannels.indexOf(e);-1!==t&&this.pendingLocalDataChannels.splice(t,1)}));const t=this.filterTobeUnpublishedDataChannels(e);return 0!==t.length?(t.forEach((e=>{const t=this.localDataChannels.indexOf(e);-1!==t&&this.localDataChannels.splice(t,1)})),0===this.localDataChannels.length&&await this.connection.stopDataChannels(this.store.uid),t.map((e=>e.id))):void 0}async unpublishLowStream(){if(!this.connection||this.state!==EI.Connected)return;const e=this.localTrackMap.get(_I.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[_I.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const i=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadUplinkStats(),i}async subscribeDataChannel(e,t){if(!this.connection||this.state!==EI.Connected)throw new Vg(xg.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");const i=t.filter((t=>{var i;return!(null!==(i=this.remoteDataChannelMap.get(e))&&void 0!==i&&i.get(t.id))}));if(0!==i.length)return await this.connection.createDataChannels(e.uid,i),i.forEach((t=>{var i;this.remoteDataChannelMap.has(e)?null===(i=this.remoteDataChannelMap.get(e))||void 0===i||i.set(t.id,t):this.remoteDataChannelMap.set(e,new Map([[t.id,t]]));const n=this.pendingRemoteDataChannels.findIndex((i=>{let{user:n,id:r}=i;return n.uid===e.uid&&r===t.id}));-1!==n&&this.pendingRemoteDataChannels.splice(n,1)})),i.map((e=>e.id))}async subscribe(e,t,i,n,r){var s;if(!this.connection||this.state!==EI.Connected)throw new Vg(xg.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");if(null!==(s=this.remoteUserMap.get(e))&&void 0!==s&&s.has(t))return;let o,a,c;if(r){const i=r.find((e=>{let{stream_type:i}=e;return i===t}));if(!i)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot subscribe to remote \".concat(t,\" for user: \").concat(e.uid,\" because subscribe answer from gateway does not contain stream_type: \").concat(t,\".\"));const n=await this.connection.receive(t,i.ssrcs,String(e._uintid),i.attributes);this.connection instanceof WL&&(c=n.transceiver),o=n.track,a=n.id}else{const r=await this.connection.receive(t,[{ssrcId:i,rtx:n}],String(e._uintid),void 0);this.connection instanceof WL&&(c=r.transceiver),o=r.track,a=r.id}t===hI.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(o):(e._audioTrack=new Ob(o,e.uid,e._uintid,this.store),KC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(e._audioTrack.getTrackId()))),c&&e._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(o):(e._videoTrack=new wb(o,e.uid,e._uintid,this.store),KC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(e._videoTrack.getTrackId()))),c&&e._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._videoTrack));const d=this.remoteUserMap.get(e);d?d.set(t,a):this.remoteUserMap.set(e,new Map([[t,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadDownlinkStats();const l=this.pendingRemoteTracks.findIndex((i=>{let{user:n,kind:r}=i;return n.uid===e.uid&&t===r}));-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(mI.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==EI.Connected)throw new Vg(xg.INVALID_OPERATION,\"Cannot subscribeAll remote users when peerConnection disconnected.\");e=e.filter((e=>{var t;let{user:i,mediaType:n}=e;return!(null!==(t=this.remoteUserMap.get(i))&&void 0!==t&&t.has(n))}));const t=await this.connection.batchReceive(e.map((e=>{let{user:t,mediaType:i,ssrcId:n,rtxSsrcId:r}=e;return{kind:i,ssrcMsg:[{ssrcId:n,rtx:r}],mslabel:String(t._uintid)}})));e.forEach(((e,i)=>{let{user:n,mediaType:r}=e;const{track:s,id:o,transceiver:a}=t[i];r===hI.AUDIO?(n._audioTrack?n._audioTrack._updateOriginMediaStreamTrack(s):(n._audioTrack=new Ob(s,n.uid,n._uintid,this.store),KC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(n._audioTrack.getTrackId()))),a&&n._audioTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(n,n._audioTrack)):(n._videoTrack?n._videoTrack._updateOriginMediaStreamTrack(s):(n._videoTrack=new wb(s,n.uid,n._uintid,this.store),KC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(n._videoTrack.getTrackId()))),a&&n._videoTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(n,n._videoTrack));const c=this.remoteUserMap.get(n);c?c.set(r,o):this.remoteUserMap.set(n,new Map([[r,o]])),this.statsCollector.addRemoteStats(n.uid),this.statsUploader.startUploadDownlinkStats();const d=this.pendingRemoteTracks.findIndex((e=>{let{user:t,kind:i}=e;return t.uid===n.uid&&r===i}));-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(mI.MediaReconnectEnd,n.uid))}))}async unsubscribe(e,t,i){const n=this.pendingRemoteTracks.filter((i=>{let{user:n,kind:r}=i;return void 0!==t?n.uid===e.uid&&t===r:n.uid===e.uid}));if(n.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection&&this.state===EI.Connected||i||n.forEach((t=>{let{kind:i}=t;var n;if(i===hI.AUDIO)null===(n=e._audioTrack)||void 0===n||n._destroy(),e._audioTrack=void 0;else if(i===hI.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.connection||this.state!==EI.Connected)return;const r=this.filterTobeUnSubscribedTracks(e,t);if(0===r.length)return;await this.connection.stopReceiving(r.map((e=>{let[,{id:t}]=e;return t})));const s=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),r.forEach((e=>{let[t,{kind:n}]=e;var r,s;n===hI.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(n===hI.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),i||(null===(s=t._videoTrack)||void 0===s||s._destroy(),t._videoTrack=void 0);else if(n===hI.AUDIO){var o;if(this.unbindRemoteTrackEvents(t._audioTrack),!i)null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),s}async unsubscribeDataChannel(e,t){if(t.forEach((e=>{const t=this.pendingRemoteDataChannels.findIndex((t=>t.id===e.id));-1!==t&&this.pendingRemoteDataChannels.splice(t,1)})),!this.connection)return;const i=this.filterTobeUnSubscribedDataChannels(e,t);if(0===i.length)return;t.forEach((e=>{e._close()}));const n=this.remoteDataChannelMap.get(e);return i.forEach((e=>{n&&n.delete(e.id)})),n&&0===n.size&&(this.remoteDataChannelMap.delete(e),await this.connection.stopDataChannels(e.uid)),i.map((e=>e.id))}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:i,mediaType:n}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:r}=e;return void 0!==n?t.uid===i.uid&&n===r:t.uid===i.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection||this.state!==EI.Connected)return void t.forEach((e=>{let{user:t,kind:i}=e;var n;if(i===hI.AUDIO)null===(n=t._audioTrack)||void 0===n||n._destroy(),t._audioTrack=void 0;else if(i===hI.VIDEO){var r;null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0}}));const i=cS(e).call(e,((e,t)=>{let{user:i,mediaType:n}=t;const r=this.filterTobeUnSubscribedTracks(i,n);return e.concat(r)}),[]);if(0===i.length)return;await this.connection.stopReceiving(i.map((e=>{let[,{id:t}]=e;return t})));const n=this.createUnsubscribeAllMessage(i);return this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),i.forEach((e=>{let[t,{kind:i}]=e;var n,r;i===hI.VIDEO&&t._videoSSRC&&(null===(n=this.connection)||void 0===n||n.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(i===hI.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0;else if(i===hI.AUDIO){var s;this.unbindRemoteTrackEvents(t._audioTrack),null===(s=t._audioTrack)||void 0===s||s._destroy(),t._audioTrack=void 0}})),n}async muteRemote(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\".\"));if(!i.get(t))return void KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"));const n=t===hI.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==n&&this.connection.setStatsRemoteVideoIsReady(n,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\".\"));i.get(t)||KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"))}getAllTracks(e){const t=this.localTrackMap.get(_I.LocalAudioTrack);if((null==t?void 0:t.track)instanceof tb){const i=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==_I.LocalAudioTrack})).filter((t=>{let[i]=t;return!(e&&i===_I.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(i.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[i]=t;return!(e&&i===_I.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e,t,i,n,r){if(e){const i=this.localTrackMap.get(_I.LocalAudioTrack),s=n?this.localTrackMap.get(_I.LocalVideoLowTrack):this.localTrackMap.get(_I.LocalVideoTrack);rv.publish(this.store.sessionId,{eventElapse:cD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==s?void 0:s.track.getTrackLabel(),screenshare:-1!==(null==s?void 0:s.track._hints.indexOf(ky.SCREEN_TRACK)),audio:!!i,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var s;i||(i=[]);const o=i.find((e=>e instanceof ZA)),a=n?null===(s=this.localTrackMap.get(_I.LocalVideoTrack))||void 0===s?void 0:s.track:i.find((e=>e instanceof Sb));rv.publish(this.store.sessionId,{eventElapse:cD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==o?void 0:o.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(ky.SCREEN_TRACK)),audio:!!o,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,i,n){const r=n===hI.VIDEO?i._videoSSRC:i._audioSSRC;r&&rv.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===hI.VIDEO,audio:n===hI.AUDIO,peerid:i.uid,subscribeRequestid:n===hI.VIDEO?i._videoSSRC:i._audioSSRC,p2pid:this.store.p2pId,eventElapse:cD.measureFromSubscribeStart(this.store.clientId,r)})}reset(){KC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.reset\")),this.mutex=new YT(\"P2PChannel-mutex\"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new sk({},this.store):this.isPlanB?new ML({},this.store):new WL({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(_I.LocalAudioTrack);if((null==e?void 0:e.track)instanceof tb){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=EI.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(_I.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(_I.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof Sb||t&&t.track instanceof ZA?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}getRemoteMedia(e){var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return i?{audioTrack:i.audioTrack,audioSSRC:i._audioSSRC,videoTrack:i.videoTrack,videoSSRC:i._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(_I.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Zu(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(KC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.disconnectForReconnect closing P2PConnection\")),this.state=EI.Reconnecting,kC(\"KEEP_LAST_FRAME\")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var i;t._videoTrack&&t._videoTrack._player&&(null===(i=t._videoTrack._player.getVideoElement())||void 0===i||i.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new sk({},this.store):this.isPlanB?new ML({},this.store):new WL({},this.store),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[i,{track:n}]=e;switch(i){case _I.LocalVideoTrack:Pr(t=n._hints).call(t,ky.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case _I.LocalAudioTrack:n instanceof tb?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case _I.LocalVideoLowTrack:}})),this.emit(mI.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;Array.from(hu(i).call(i)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(mI.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach((e=>{this.pendingLocalDataChannels.push(e)})),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach((e=>{let[t,i]=e;Array.from(hu(i).call(i)).forEach((e=>{this.setPendingRemoteDataChannel(t,e)}))})),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),KC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel disconnected, waiting to reconnect.\")))}hasPendingRemoteDataChannel(e,t){for(const i of this.pendingRemoteDataChannels){const{user:n,id:r}=i;if((e instanceof NP?e.uid:e)===n.uid&&r===t)return!0}return!1}setPendingRemoteDataChannel(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}hasPendingRemoteMedia(e,t){for(const i of this.pendingRemoteTracks){const{user:n,kind:r}=i;if((e instanceof NP?e.uid:e)===n.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return BP((function*(){if(!t.connection||t.state!==EI.Connected||t.connection instanceof sk)return;const i=yield jP(t.mutex.lock(\"From P2PChannel.restartICE\"));let n;try{n=yield jP(t.connection.restartICE(e));const r=yield jP(n.next());if(r.done)return;const s=r.value,o=yield s;switch(t.reportPCDisconnectedOrFailed(e),e){case uI.TCP:t._pcStatsUploadType=pI.TCP_RESTART;break;case uI.RELAY:t._pcStatsUploadType=pI.RELAY_RESTART;break;default:t._pcStatsUploadType=pI.OLD_RESTART}t._isInRestartIce=!0,n.next(o)}catch(e){var r;null===(r=n)||void 0===r||r.throw(e)}finally{i()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(_I.LocalVideoTrack),i=this.localTrackMap.get(_I.LocalAudioTrack),n=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),r=e.audioSend.find((e=>e.ssrc===(null==i?void 0:i.ssrcs[0].ssrcId)));if(!n||!r)return 1;const s=TT(this,mI.NeedSignalRTT),o=n?n.rttMs:void 0,a=r?r.rttMs:void 0,c=o&&a?(o+a)/2:o||a,d=(c&&s?(c+s)/2:c||s)||0,l=100*e.sendPacketLossRate*.7/50+.3*d/1500,h=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,u=null==t?void 0:t.track;if(u&&u._encoderConfig&&-1===u._hints.indexOf(ky.SCREEN_TRACK)){const t=u._encoderConfig.bitrateMax,i=e.bitrate.actualEncoded;if(t&&i){const e=(1e3*t-i)/(1e3*t);return av[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][h]}}return h}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((i=>{let[n]=i;const r=n._audioSSRC,s=n._videoSSRC,o=e.audioRecv.find((e=>e.ssrc===r)),a=e.videoRecv.find((e=>e.ssrc===s));if(!o&&!a)return void(t+=1);const c=TT(this,mI.NeedSignalRTT),d=e.rtt,l=(d&&c?(d+c)/2:d||c)||0,h=o?o.jitterMs:void 0,u=e.recvPacketLossRate;let p=.7*u*100/50+.3*l/1500;h&&(p=.6*u*100/50+.2*l/1500+.2*h/400);t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new tg(((t,i)=>{this.handleMuteLocalTrack(e,t,i)}))}filterTobePublishedTracks(e,t,i){const n=[],r=_A(),s=this.getAllTracks();e=yT(e=e.filter((e=>-1===s.indexOf(e))));let o=!1,a=!1;for(const s of e){if(s instanceof Sb&&(this.localTrackMap.has(_I.LocalVideoTrack)||o?new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:s,type:_I.LocalVideoTrack}),o=!0),t)){const e=this.getLowVideoTrack(s,i);n.push({track:e,type:_I.LocalVideoLowTrack})}if(s instanceof ZA){const e=this.localTrackMap.get(_I.LocalAudioTrack);if(e){if(!(e.track instanceof tb))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(s._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(s),this.bindLocalAudioTrackEvents(s,!0)}else if(a){const e=n.find((e=>{let{type:t}=e;return t===_I.LocalAudioTrack}));if(!(e.track instanceof tb))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(s._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(s)}else{if(!r.webAudioMediaStreamDest||s instanceof tb||s._bypassWebAudio)n.push({track:s,type:_I.LocalAudioTrack});else{const e=new tb;e.addAudioTrack(s),n.push({track:e,type:_I.LocalAudioTrack})}a=!0}}}return n}filterTobeUnpublishedTracks(e){const t=[],i=this.getAllTracks();e=yT(e=e.filter((e=>-1!==i.indexOf(e))));for(const i of e){if(i instanceof ZA){const e=this.localTrackMap.get(_I.LocalAudioTrack);if(!e)continue;e.track instanceof tb?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([_I.LocalAudioTrack,e]),e.track.close())):t.push([_I.LocalAudioTrack,e])}if(i instanceof Sb){const e=this.localTrackMap.get(_I.LocalVideoTrack);if(!e)continue;t.push([_I.LocalVideoTrack,e]);const i=this.localTrackMap.get(_I.LocalVideoLowTrack);i&&t.push([_I.LocalVideoLowTrack,i])}}return t}filterTobePublishedDataChannels(e){return e=(e=yT(e)).filter((e=>-1===this.localDataChannels.findIndex((t=>t.id===e.id))))}filterTobeUnpublishedDataChannels(e){return e=(e=(e=yT(e)).filter((e=>-1!==this.localDataChannels.indexOf(e)))).filter((e=>e._originDataChannel))}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:i}=e;switch(i){case _I.LocalVideoTrack:t.addListener(Ly.GET_STATS,this.handleGetLocalVideoStats),t.addListener(Ly.GET_RTC_STATS,this.handleGetRTCStats),t.addListener(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(Ly.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(Ly.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(Ly.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case _I.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case _I.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof tb?e.trackList.forEach((e=>{e.addListener(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Ly.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(Ly.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(Ly.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:i}]=e;return{track:i,type:t}}))),e.forEach((e=>{let{track:t,type:i}=e;switch(i){case _I.LocalVideoTrack:t.off(Ly.GET_STATS,this.handleGetLocalVideoStats),t.off(Ly.GET_RTC_STATS,this.handleGetRTCStats),t.off(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(Ly.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(Ly.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(Ly.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case _I.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case _I.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof tb?e.trackList.forEach((e=>{e.off(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Ly.GET_STATS,this.handleGetLocalAudioStats),e.off(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(Ly.GET_STATS,this.handleGetLocalAudioStats),e.off(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Ly.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof wb&&t.addListener(Ly.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof Ob&&t.addListener(Ly.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(Ly.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;i.has(hI.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),i.has(hI.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,i)=>{var n;let r,s,{track:o,type:a}=e;switch(a){case _I.LocalAudioTrack:r=$v.Audio,s={dtx:o instanceof $A&&o._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case _I.LocalVideoTrack:r=Pr(n=o._hints).call(n,ky.SCREEN_TRACK)?$v.Screen:$v.High,s=hk(hk({},fD(o)),{},{codec:this.store.codec});break;case _I.LocalVideoLowTrack:r=$v.Low,s=hk(hk({},fD(o)),{},{codec:this.store.codec})}return{stream_type:r,attributes:s,ssrcs:t[i]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case _I.LocalVideoTrack:i=Pr(t=r._hints).call(t,ky.SCREEN_TRACK)?$v.Screen:$v.High;break;case _I.LocalAudioTrack:i=$v.Audio;break;case _I.LocalVideoLowTrack:i=$v.Low}return{stream_type:i,ssrcs:s,mid:o}}))}assignLocalTracks(e,t){e.forEach(((e,i)=>{let{track:n,type:r}=e;this.localTrackMap.set(r,{track:n,id:t[i].id,ssrcs:t[i].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onConnectionStateChange(\").concat(t,\")\")),this.emit(mI.PeerConnectionStateChange,t),\"connected\"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),\"connected\"===t&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),kC(\"NEW_ICE_RESTART\")){var i;if(Pr(i=this._restartStates).call(i,t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const t=t=>{if(\"disconnected\"===e.iceConnectionState||\"checking\"===e.iceConnectionState||\"failed\"===e.iceConnectionState){KC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] start use restartICE, type is \").concat(t));\"CONNECTED\"===TT(this,mI.QueryClientConnectionState)&&this.emit(mI.RequestRestartICE,t)}},i=()=>{\"disconnected\"!==e.iceConnectionState&&\"checking\"!==e.iceConnectionState&&\"failed\"!==e.iceConnectionState||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),KC.debug(\"[\".concat(this.store.clientId,\"] P2PConnection disconnected timeout, force reconnect\")),setTimeout((()=>this.emit(mI.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())},n=kC(\"ICE_RESTART_INTERVAL\");return void(this._restartTimer=window.setTimeout((()=>{if(kC(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&_A().supportPCSetConfiguration)t(uI.RELAY),this._restartTimer=window.setTimeout(i,n);else if(Rg())t(uI.UDP),this._restartTimer=window.setTimeout(i,4e3);else{if(t(uI.TCP),_A().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout((()=>{t(uI.RELAY),this._restartTimer=window.setTimeout(i,n)}),n));this._restartTimer=window.setTimeout(i,n)}}),800))}}else{if(\"disconnected\"===t&&\"disconnected\"===e.iceConnectionState)return setTimeout((()=>{if(\"disconnected\"===e.iceConnectionState&&kC(\"ICE_RESTART\")){\"CONNECTED\"===TT(this,mI.QueryClientConnectionState)&&this.emit(mI.RequestRestartICE)}}),800),void setTimeout((()=>{\"disconnected\"===e.peerConnectionState&&(KC.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection disconnected timeout 4000ms, force reconnect\")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout((()=>this.emit(mI.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())}),4e3);\"failed\"===t&&(KC.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection state failed, force reconnect\")),this.reportPCDisconnectedOrFailed(),setTimeout((()=>this.emit(mI.P2PLost)),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=e=>{\"connected\"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),rv.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:oT.TRACER}).onSuccess(),this.emit(mI.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportStateChange=e=>{KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportError=e=>{KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"))},e.onFirstAudioDecoded=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var n;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),null===(n=i.audioTrack)||void 0===n||n.emit(By.FIRST_FRAME_DECODED),rv.firstRemoteFrame(this.store.sessionId,XC.FIRST_AUDIO_DECODE,QC.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:cD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));i&&rv.firstRemoteFrame(this.store.sessionId,XC.FIRST_AUDIO_RECEIVED,QC.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:cD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,i)=>{this.reportVideoFirstFrameDecoded(e,t,i)},e.onFirstVideoReceived=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&rv.firstRemoteFrame(this.store.sessionId,XC.FIRST_VIDEO_RECEIVED,QC.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:cD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const i=\"relay\"===e.candidateType,n=\"relay\"===t.candidateType;\"unknown\"!==t.candidateType&&i===n||this.emit(mI.ConnectionTypeChange,i),KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(vD(t)),\" -> \").concat(JSON.stringify(vD(e)),\")\"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(vD(t)),\" -> \").concat(JSON.stringify(vD(e)),\")\"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const i=this.localTrackMap.get(_I.LocalAudioTrack);if(e instanceof ZA&&(null==i?void 0:i.track)instanceof tb)return i.track.isActive||t.push([_I.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n&&(t.push(n),n[0]===_I.LocalVideoTrack)){const e=this.localTrackMap.get(_I.LocalVideoLowTrack);e&&t.push([_I.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],i=this.localTrackMap.get(_I.LocalAudioTrack);if(e instanceof ZA&&(null==i?void 0:i.track)instanceof tb)return i.track.isActive&&t.push([_I.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n)if(n[0]===_I.LocalVideoTrack){t.push(n);const e=this.localTrackMap.get(_I.LocalVideoLowTrack);e&&t.push([_I.LocalVideoLowTrack,e])}else t.push(n);return t}createMuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case _I.LocalAudioTrack:i=$v.Audio;break;case _I.LocalVideoTrack:i=Pr(t=r._hints).call(t,ky.SCREEN_TRACK)?$v.Screen:$v.High;break;case _I.LocalVideoLowTrack:i=$v.Low}return{stream_type:i,ssrcs:s,mid:o}}))}createUnmuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case _I.LocalAudioTrack:i=$v.Audio;break;case _I.LocalVideoTrack:i=Pr(t=r._hints).call(t,ky.SCREEN_TRACK)?$v.Screen:$v.High;break;case _I.LocalVideoLowTrack:i=$v.Low}return{stream_type:i,ssrcs:s,mid:o}}))}filterTobeUnSubscribedTracks(e,t){const i=[],n=this.remoteUserMap.get(e);if(!n)return i;if(t){const r=n.get(t);if(!r)return i;i.push([e,{kind:t,id:r}])}else Array.from(n.entries()).forEach((t=>{let[n,r]=t;i.push([e,{kind:n,id:r}])}));return i}filterTobeUnSubscribedDataChannels(e,t){const i=[];return t.forEach((t=>{var n;null!==(n=this.remoteDataChannelMap.get(e))&&void 0!==n&&n.has(t.id)&&i.push(t)})),i}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[i,{kind:n,id:r}]=e;switch(n){case hI.VIDEO:return void(i._videoSSRC&&t.push({stream_type:hI.VIDEO,ssrcId:i._videoSSRC}));case hI.AUDIO:return void(i._audioSSRC&&t.push({stream_type:hI.AUDIO,ssrcId:i._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[i,{kind:n}]=e;if(t.has(i)){let e=t.get(i);n===hI.VIDEO?e|=iI.Video:e|=iI.Audio,t.set(i,e)}else n===hI.VIDEO?t.set(i,iI.Video):t.set(i,iI.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,i]=e;return{stream_id:t.uid,stream_type:i}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:i}]=e;const n=this.remoteUserMap.get(t);n&&(n.delete(i),0===Array.from(n.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(_I.LocalVideoTrack),i=this.localTrackMap.get(_I.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),i&&e.low_stream_uplink&&await i.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.connection){return\"connected\"!==this.connection.peerConnectionState}return!0}mapPubResToRemoteConfig(e,t){return e.map(((e,i)=>{var n;let{stream_type:r}=e;return null===(n=t.find((e=>{let{stream_type:t}=e;return r===t})))||void 0===n?void 0:n.attributes}))}async tryToUnmuteAudio(e){for(let i=0;i<e.length;i++)if(e[i]instanceof ZA){var t;const n=this.filterTobeUnmutedTracks(e[i]);if(0===n.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(n.map((e=>{let[,{id:t}]=e;return t}))));const r=this.createUnmuteMessage(n);return void await gT(this,mI.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(mI.RequestUploadStats,e,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await UT(zT(this.dtlsFailedCount,JT)),this.emit(mI.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await fT(this,mI.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(mI.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(_I.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof Sb))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof Sb)).length>1)throw new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof ZA)).length>1&&(e.some((e=>e instanceof ZA&&e._bypassWebAudio))||!_A().webAudioMediaStreamDest))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(const t of e){if(t instanceof Sb&&this.pendingLocalTracks.some((e=>e instanceof Sb)))throw new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof ZA&&this.pendingLocalTracks.some((e=>e instanceof ZA))&&(!_A().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof ZA&&e._bypassWebAudio))))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(e,t){const i=!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&_A().supportDualStreamEncoding,n=hk(hk({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=i?e._mediaStreamTrack.clone():KL(e,n);const s=xT(8,\"track-low-\"),o=new Sb(r,hk(hk({},i&&{scaleResolutionDownBy:CD(n,e)}),{},{frameRate:n.framerate,bitrateMax:n.bitrate,bitrateMin:n.bitrate}),void 0,void 0,s);return o.on(Vy.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,My.LOW_STREAM)})),o._hints.push(ky.LOW_STREAM),e.addListener(Ly.NEED_CLOSE,(()=>{o.close()})),o}async globalLock(){return this.mutex.lock(\"From P2PChannel.globalLock\")}async reportPCStats(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof WL){var r,s,o,a;const c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:d,dtlsTransportState:l,peerConnectionState:h}=this.connection,{local:u,remote:p}=await this.connection.getSelectedCandidatePair();rv.pcStats(this.store.sessionId,{startTime:c,eventElapse:e-c||0,iceconnectionsate:d,dtlsstate:l,connectionstate:h,intSucc:t?1:2,error:n,selectedLocalCandidateProtocol:null!==(r=null==u?void 0:u.protocol)&&void 0!==r?r:\"\",selectedLocalCandidateType:null!==(s=u.candidateType)&&void 0!==s?s:\"\",selectedLocalCandidateAddress:\"\".concat(u.address,\":\").concat(u.port),selectedRemoteCandidateProtocol:null!==(o=p.protocol)&&void 0!==o?o:\"\",selectedRemoteCandidateType:null!==(a=p.candidateType)&&void 0!==a?a:\"\",selectedRemoteCandidateAddress:\"\".concat(p.address,\":\").concat(p.port),restartCnt:i})}}reportVideoFirstFrameDecoded(e,t,i,n){var r;const s=Array.from(hu(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(s){n||this.store.subscribe(s.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,o=r.subscribe.find((e=>e.userId===s.uid&&\"video\"===e.type));rv.firstRemoteVideoDecode(this.store.sessionId,XC.FIRST_VIDEO_DECODE,QC.FIRST_VIDEO_DECODE,{peer:s._uintid,videowidth:t,videoheight:i,subscribeElapse:cD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==o?void 0:o.subscribeEnd)||0,subscriberStart:(null==o?void 0:o.subscribeStart)||0,videoAddNotify:(null==o?void 0:o.streamAdded)||0,state:n?1:0})}}async remoteMediaSsrcChanged(e,t,i){if(!this.connection)return!1;const n=this.remoteUserMap.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const s=await this.connection.getRemoteSSRC(r);return void 0!==s&&s!==i}resetConnection(e){KC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] reset connection to \").concat(e)),this.state===EI.Connected?(KC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] fallback to websocket but P2PChannel state still connected, disconnect first\")),this.disconnectForReconnect()):(this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=e===nI.datachannel?new sk({},this.store):this.isPlanB?new ML({},this.store):new WL({},this.store),this.bindConnectionEvents(this.connection)))}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:i}]=e;t===_I.LocalVideoLowTrack?i._updateRtpTransceiver(void 0,My.LOW_STREAM):i._updateRtpTransceiver(void 0)}))}reportPCDisconnectedOrFailed(e){this.connection&&this.connection instanceof WL&&(\"disconnected\"!==this.connection.iceConnectionState&&\"checking\"!==this.connection.iceConnectionState&&\"failed\"!==this.connection.iceConnectionState||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===pI.TCP_RESTART&&e===uI.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,pI.DISCONNECTED_OR_FAILED)))}}function Ek(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PChannel.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function mk(e){let t=bk();return function(e,t){let i=e.appId;void 0!==i&&(jk(t,10),kk(t,i));let n=e.cid;void 0!==n&&(jk(t,16),jk(t,n));let r=e.cname;void 0!==r&&(jk(t,26),kk(t,r));let s=e.deviceId;void 0!==s&&(jk(t,34),kk(t,s));let o=e.elapse;void 0!==o&&(jk(t,40),Gk(t,o));let a=e.fileSize;void 0!==a&&(jk(t,48),Gk(t,yk(a)));let c=e.height;void 0!==c&&(jk(t,56),Gk(t,yk(c)));let d=e.jpg;void 0!==d&&(jk(t,66),jk(t,d.length),function(e,t){let i=Dk(e,t.length);e.bytes.set(t,i)}(t,d));let l=e.networkType;void 0!==l&&(jk(t,72),Gk(t,yk(l)));let h=e.osType;void 0!==h&&(jk(t,80),Gk(t,yk(h)));let u=e.requestId;void 0!==u&&(jk(t,90),kk(t,u));let p=e.sdkVersion;void 0!==p&&(jk(t,98),kk(t,p));let _=e.sequence;void 0!==_&&(jk(t,104),Gk(t,yk(_)));let E=e.sid;void 0!==E&&(jk(t,114),kk(t,E));let m=e.timestamp;void 0!==m&&(jk(t,120),Gk(t,m));let f=e.uid;void 0!==f&&(jk(t,128),jk(t,f));let g=e.vid;void 0!==g&&(jk(t,136),jk(t,g));let T=e.width;void 0!==T&&(jk(t,144),Gk(t,yk(T)));let S=e.service;void 0!==S&&(jk(t,152),jk(t,S));let R=e.callbackData;void 0!==R&&(jk(t,162),kk(t,R));let C=e.jpgEncryption;void 0!==C&&(jk(t,168),jk(t,C));let v=e.requestType;void 0!==v&&(jk(t,176),jk(t,v));let I=e.scorePorn;void 0!==I&&(jk(t,185),Fk(t,I));let y=e.scoreSexy;void 0!==y&&(jk(t,193),Fk(t,y));let A=e.scoreNeutral;void 0!==A&&(jk(t,201),Fk(t,A));let b=e.scene;void 0!==b&&(jk(t,208),jk(t,b));let w=e.ossFilePrefix;void 0!==w&&(jk(t,218),kk(t,w));let O=e.serviceVendor;if(void 0!==O)for(let e of O){jk(t,226);let i=bk();Tk(e,i),jk(t,i.limit),Mk(t,i),wk(i)}}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function fk(e){return function(e){let t={};e:for(;!Nk(e);){let i=Bk(e);switch(i>>>3){case 0:break e;case 1:t.code=Bk(e);break;case 2:t.msg=Lk(e,Bk(e));break;case 3:{let i=Sk(e);t.data=gk(e),e.limit=i;break}default:Rk(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function gk(e){let t={};e:for(;!Nk(e);){let i=Bk(e);switch(i>>>3){case 0:break e;case 1:t.requestId=Lk(e,Bk(e));break;case 2:t.requestType=Bk(e)>>>0;break;case 3:t.scorePorn=Vk(e);break;case 4:t.scoreSexy=Vk(e);break;case 5:t.scoreNeutral=Vk(e);break;case 6:t.requestScene=Bk(e)>>>0;break;case 7:t.scene=Bk(e)>>>0;break;default:Rk(e,7&i)}}return t}function Tk(e,t){let i=e.service;void 0!==i&&(jk(t,8),jk(t,i));let n=e.vendor;void 0!==n&&(jk(t,16),jk(t,n));let r=e.token;void 0!==r&&(jk(t,26),kk(t,r));let s=e.callbackUrl;void 0!==s&&(jk(t,34),kk(t,s))}function Sk(e){let t=Bk(e),i=e.limit;return e.limit=e.offset+t,i}function Rk(e,t){switch(t){case 0:for(;128&Uk(e););break;case 2:Ok(e,Bk(e));break;case 5:Ok(e,4);break;case 1:Ok(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Boolean]),Uv(\"design:returntype\",tg)],_k.prototype,\"startP2PConnection\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),Uv(\"design:returntype\",tg)],_k.prototype,\"connect\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",void 0)],_k.prototype,\"updateRemoteRTPCapabilities\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),Uv(\"design:returntype\",tg)],_k.prototype,\"preConnect\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],_k.prototype,\"publishDataChannel\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],_k.prototype,\"unpublish\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],_k.prototype,\"unpublishDataChannel\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],_k.prototype,\"unpublishLowStream\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,Array]),Uv(\"design:returntype\",tg)],_k.prototype,\"subscribeDataChannel\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String,Number,Number,Array]),Uv(\"design:returntype\",tg)],_k.prototype,\"subscribe\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],_k.prototype,\"massSubscribe\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String,Boolean]),Uv(\"design:returntype\",tg)],_k.prototype,\"unsubscribe\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,Array]),Uv(\"design:returntype\",tg)],_k.prototype,\"unsubscribeDataChannel\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],_k.prototype,\"massUnsubscribe\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String]),Uv(\"design:returntype\",tg)],_k.prototype,\"muteRemote\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String]),Uv(\"design:returntype\",tg)],_k.prototype,\"unmuteRemote\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String]),Uv(\"design:returntype\",tg)],_k.prototype,\"hasRemoteMediaWithLock\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],_k.prototype,\"disconnectForReconnect\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",tg)],_k.prototype,\"updateBitrateLimit\",null),Mv([Ek,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String,Number]),Uv(\"design:returntype\",tg)],_k.prototype,\"remoteMediaSsrcChanged\",null);let Ck=new Float32Array(1);new Uint8Array(Ck.buffer);let vk=new Float64Array(1),Ik=new Uint8Array(vk.buffer);function yk(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let Ak=[];function bk(){const e=Ak.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function wk(e){Ak.push(e)}function Ok(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function Nk(e){return e.offset>=e.limit}function Dk(e,t){let i=e.bytes,n=e.offset,r=e.limit,s=n+t;if(s>i.length){let t=new Uint8Array(2*s);t.set(i),e.bytes=t}return e.offset=s,s>r&&(e.limit=s),n}function Pk(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function Lk(e,t){let i=Pk(e,t),n=String.fromCharCode,r=e.bytes,s=\"�\",o=\"\";for(let e=0;e<t;e++){let a,c,d,l,h=r[e+i];0==(128&h)?o+=n(h):192==(224&h)?e+1>=t?o+=s:(a=r[e+i+1],128!=(192&a)?o+=s:(l=(31&h)<<6|63&a,l<128?o+=s:(o+=n(l),e++))):224==(240&h)?e+2>=t?o+=s:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?o+=s:(l=(15&h)<<12|(63&a)<<6|63&c,l<2048||l>=55296&&l<=57343?o+=s:(o+=n(l),e+=2))):240==(248&h)?e+3>=t?o+=s:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?o+=s:(l=(7&h)<<18|(63&a)<<12|(63&c)<<6|63&d,l<65536||l>1114111?o+=s:(l-=65536,o+=n(55296+(l>>10),56320+(1023&l)),e+=3))):o+=s}return o}function kk(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}jk(e,n);let r=Dk(e,n),s=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?s[r++]=n:(n<2048?s[r++]=n>>6&31|192:(n<65536?s[r++]=n>>12&15|224:(s[r++]=n>>18&7|240,s[r++]=n>>12&63|128),s[r++]=n>>6&63|128),s[r++]=63&n|128)}}function Mk(e,t){let i=Dk(e,t.limit),n=e.bytes,r=t.bytes;for(let e=0,s=t.limit;e<s;e++)n[e+i]=r[e]}function Uk(e){return e.bytes[Pk(e,1)]}function xk(e,t){let i=Dk(e,1);e.bytes[i]=t}function Vk(e){let t=Pk(e,8),i=e.bytes;return Ik[0]=i[t++],Ik[1]=i[t++],Ik[2]=i[t++],Ik[3]=i[t++],Ik[4]=i[t++],Ik[5]=i[t++],Ik[6]=i[t++],Ik[7]=i[t++],vk[0]}function Fk(e,t){let i=Dk(e,8),n=e.bytes;vk[0]=t,n[i++]=Ik[0],n[i++]=Ik[1],n[i++]=Ik[2],n[i++]=Ik[3],n[i++]=Ik[4],n[i++]=Ik[5],n[i++]=Ik[6],n[i++]=Ik[7]}function Bk(e){let t,i=0,n=0;do{t=Uk(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function jk(e,t){for(t>>>=0;t>=128;)xk(e,127&t|128),t>>>=7;xk(e,t)}function Gk(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,s=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,o=Dk(e,s),a=e.bytes;switch(s){case 10:a[o+9]=r>>>7&1;case 9:a[o+8]=9!==s?128|r:127&r;case 8:a[o+7]=8!==s?n>>>21|128:n>>>21&127;case 7:a[o+6]=7!==s?n>>>14|128:n>>>14&127;case 6:a[o+5]=6!==s?n>>>7|128:n>>>7&127;case 5:a[o+4]=5!==s?128|n:127&n;case 4:a[o+3]=4!==s?i>>>21|128:i>>>21&127;case 3:a[o+2]=3!==s?i>>>14|128:i>>>14&127;case 2:a[o+1]=2!==s?i>>>7|128:i>>>7&127;case 1:a[o]=1!==s?128|i:127&i}}function Wk(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const Hk=new Map([[\"moderation\",1],[\"supervise\",2]]);class Kk extends iT{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(SI.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=cS(t=e.map((e=>Hk.get(e)||0))).call(t,((e,t)=>e+t)),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),nu(this,\"name\",\"AgoraRTCVideoContentInspect\"),nu(this,\"_connectionState\",gI.CONNECTING),nu(this,\"_innerConnectionState\",void 0),nu(this,\"sequence\",0),nu(this,\"inspectStartTime\",void 0),nu(this,\"workerManagerConnection\",void 0),nu(this,\"workerConnection\",void 0),nu(this,\"workerMessageLengthLimit\",void 0),nu(this,\"inspectIntervalMinimum\",void 0),nu(this,\"qualityRatio\",void 0),nu(this,\"_connectInfo\",void 0),nu(this,\"_cancelTokenSource\",EC.CancelToken.source()),nu(this,\"_retryConfig\",void 0),nu(this,\"wmSequence\",0),nu(this,\"inspectInterval\",void 0),nu(this,\"inspectTimer\",null),nu(this,\"ossFilePrefix\",void 0),nu(this,\"extraInfo\",void 0),nu(this,\"_inspectType\",void 0),nu(this,\"_inspectMode\",void 0),nu(this,\"_quality\",1),nu(this,\"qualityTimer\",null),nu(this,\"_inspectId\",void 0),nu(this,\"_needWorkUrlOnly\",!1),nu(this,\"inspectImage\",(()=>{if(this.connectionState!==gI.CONNECTED)throw new xv(xg.OPERATION_ABORTED,\"content inspect service connection status is \".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{this.connectionState===gI.CONNECTED?this.requestToInspectImage():KC.debug(\"[\".concat(this._inspectId,\"] Inspect State is not connected , \"),this.connectionState)}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=xT(5,\"inspect-\"),this.workerMessageLengthLimit=kC(\"VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT\"),this.inspectIntervalMinimum=kC(\"VIDEO_INSPECT_INTERVAL_MINIMUM\"),this.qualityRatio=kC(\"VIDEO_INSPECT_QUALITY_RATIO\"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new XI(\"worker-manager-\"+this._inspectId,JT),this.on(SI.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,KC.debug(\"[\".concat(this._inspectId,\"] Inspect operation :\").concat(TI[e],\" \").concat(t||\"\"))})),this.handleWorkerManagerEvents(),this.workerConnection=new XI(\"worker-\"+this._inspectId,JT),this.handleWorkerEvents()}async init(e,t){this.emit(SI.STATE_CHANGE,TI.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new tg(((n,r)=>{this.on(SI.CONNECTION_STATE_CHANGE,((e,t)=>{t===gI.CONNECTED&&n()})),this.requestAP(e,i,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{r(e)}))}))}async requestAP(e,t,i){const n=kC(\"WEBCS_DOMAIN\").map((e=>\"https://\".concat(e,\"/api/v1\"))),r=await function(e,t,i,n){let{appId:r,areaCode:s,cname:o,sid:a,token:c,uid:d}=t;oP++;const l=\"image_moderation_api\",h={service_name:l,json_body:JSON.stringify({appId:r,areaCode:s,cname:o,command:\"allocateEdge\",requestId:oP,seq:oP,sid:a,token:c,ts:Date.now(),uid:d+\"\"})};let u,p,_=e[0];return XT((async()=>{u=Date.now();const e=await VD(_,{data:h,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-u,0!==e.code){const t=new xv(xg.UNEXPECTED_RESPONSE,\"image inspect ap error, code\"+e.code,{retry:!0,responseTime:p});throw KC.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new xv(xg.UNEXPECTED_RESPONSE,\"image inspect ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw KC.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new xv(xg.UNEXPECTED_RESPONSE,\"image inspect ap empty server\",{code:t.code,responseTime:p});throw KC.error(e.toString()),e}const n=kC(\"VIDEO_INSPECT_WORKER_MANAGER_HOST\"),r=kC(\"VIDEO_INSPECT_WORKER_MANAGER_PORT\");return{addressList:t.servers.map((e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(n,\":\").concat(r||i)})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,responseTime:p}}),((t,i)=>(rv.apworkerEvent(a,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1)),((t,i)=>(rv.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==xg.OPERATION_ABORTED&&t.code!==xg.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0))),n)}(n,e,t,i);this.emit(SI.STATE_CHANGE,TI.AP_CONNECTED);const{addressList:s}=r;return this.wmSequence++,s}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(SI.STATE_CHANGE,TI.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(Iv.CONNECTED,(async()=>{this.emit(SI.STATE_CHANGE,TI.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+\"\",sdkVersion:\"4.19.3\",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:\"join\"}},!0)})),this.workerManagerConnection.on(Iv.CLOSED,(()=>{this._innerConnectionState<TI.GET_WORKER_MANAGER_RESPONSE&&KC.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is closed before connecting worker\"))})),this.workerManagerConnection.on(Iv.FAILED,(()=>{this._innerConnectionState<TI.GET_WORKER_MANAGER_RESPONSE&&KC.debug(\"[\".concat(this._inspectId,\"] Connecting inspect worker manager is failed before connecting worker\"))})),this.workerManagerConnection.on(Iv.RECONNECTING,(()=>{this._innerConnectionState<TI.GET_WORKER_MANAGER_RESPONSE&&KC.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is reconnecting before connecting worker\"))})),this.workerManagerConnection.on(Iv.ON_MESSAGE,(async e=>{this.emit(SI.STATE_CHANGE,TI.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const i=JSON.parse(e.data);if(200!==i.code)throw KC.error(\"[\".concat(this._inspectId,\"] Unexpected code \").concat(i.code,\" from worker manager\")),new xv(xg.UNEXPECTED_RESPONSE,\"response code of worker is unexpected\",i);if(!(i.serverResponse&&i.serverResponse.portWss&&t))throw KC.error(\"[\".concat(this._inspectId,\"] Unexpected content from worker manager : \").concat(JSON.stringify(i))),new xv(xg.UNEXPECTED_RESPONSE,\"response content of worker is unexpected\",i);{const e=kC(\"VIDEO_INSPECT_WORKER_PORT\")||i.serverResponse.portWss,n=t.replace(/:\\d+\\/?$/,\":\".concat(e));this.emit(SI.STATE_CHANGE,TI.CONNECT_WORKER,n),this._needWorkUrlOnly?this.emit(SI.REQUEST_NEW_WORKER_URL,n):await this.connectWorker(n)}})),this.workerManagerConnection.on(Iv.WILL_RECONNECT,((e,t,i)=>{i(e)})),this.workerManagerConnection.on(Iv.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(Iv.CONNECTED,(async()=>{this.emit(SI.STATE_CHANGE,TI.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=gI.CONNECTED})),this.workerConnection.on(Iv.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const i=fk(new Uint8Array(e.data));if(kC(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")&&KC.debug(\"[\".concat(this._inspectId,\"] Response message for worker of inspect content \"),JSON.stringify(i)),200===i.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&\"supervise\"===this.inspectType[0])return void this.emit(SI.INSPECT_RESULT,void 0,void 0);if(i.data&&i.data.scorePorn&&i.data.scoreSexy&&i.data.scoreNeutral){var t;const e={porn:i.data.scorePorn,sexy:i.data.scoreSexy,neutral:i.data.scoreNeutral},n=cS(t=Object.keys(e)).call(t,((t,i)=>e[t]>e[i]?t:i),\"porn\"),r=Object.keys(e).find((e=>e===n));this.emit(SI.INSPECT_RESULT,r)}else this.emit(SI.INSPECT_RESULT,void 0,new xv(xg.UNEXPECTED_RESPONSE,i.code+\"\",\"There is an unexpected data on message\"))}else this.emit(SI.INSPECT_RESULT,void 0,new xv(xg.UNEXPECTED_RESPONSE,i.code+\"\",i.msg))}else KC.error(\"[\".concat(this._inspectId,\"] Unexpected message type from worker\")),this.emit(SI.INSPECT_RESULT,void 0,new xv(xg.UNEXPECTED_RESPONSE,\"invalid worker message type\"))})),this.workerConnection.on(Iv.CLOSED,(()=>{this.connectionState=gI.CLOSED})),this.workerConnection.on(Iv.FAILED,(()=>{this.connectionState=gI.CLOSED})),this.workerConnection.on(Iv.RECONNECTING,(()=>{this.connectionState=this.connectionState===gI.CONNECTED?gI.RECONNECTING:gI.CONNECTING})),this.workerConnection.on(Iv.WILL_RECONNECT,((e,t,i)=>{\"recover\"===e&&i(e),i(\"tryNext\")})),this.workerConnection.on(Iv.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(SI.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){this.sequence++;const e=TT(this,SI.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(SI.INSPECT_RESULT,void 0,new xv(xg.INVALID_OPERATION,\"Only the track being played can be inspected\"));const i=await this.generateRequestData(e,t);this.workerConnection.sendMessage(i,!0,!0)}else this.emit(SI.INSPECT_RESULT,void 0,new xv(xg.INVALID_OPERATION,\"Only the track being published can be inspected\"))}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:s,sid:o,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),l=await fb(d,i,n),h=this.sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+xT(12,\"\"),u={appId:i,cid:r,cname:n,deviceId:\"\",elapse:Kk.intToLong(Number(c-this.inspectStartTime)),fileSize:l.byteLength,jpgEncryption:2,height:d.height,width:d.width,jpg:l,networkType:6,osType:7,requestId:h,sdkVersion:\"4.19.3\",sequence:this.sequence,sid:o,timestamp:Kk.intToLong(c),uid:a,vid:s,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete u.callbackData,void 0===this.ossFilePrefix&&delete u.ossFilePrefix;const p=mk(u);if(p.byteLength<this.workerMessageLengthLimit){if(kC(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Wk(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Wk(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},u);delete e.jpg,KC.debug(\"[\".concat(this._inspectId,\"] Request message for worker of inspect content \"),JSON.stringify(e))}return p}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:s,sid:o,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=EC.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=gI.CLOSED,this.emit(SI.STATE_CHANGE,TI.CLOSED)}}function Yk(e){let t=function(){const e=Xk.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e,t){let i=e.appId;void 0!==i&&(aM(t,10),nM(t,i));let n=e.cid;void 0!==n&&(aM(t,16),aM(t,n));let r=e.cname;void 0!==r&&(aM(t,26),nM(t,r));let s=e.deviceId;void 0!==s&&(aM(t,34),nM(t,s));let o=e.elapse;void 0!==o&&(aM(t,40),dM(t,o));let a=e.fileSize;void 0!==a&&(aM(t,48),dM(t,zk(a)));let c=e.height;void 0!==c&&(aM(t,56),dM(t,zk(c)));let d=e.jpg;void 0!==d&&(aM(t,66),aM(t,d.length),tM(t,d));let l=e.networkType;void 0!==l&&(aM(t,72),dM(t,zk(l)));let h=e.osType;void 0!==h&&(aM(t,80),dM(t,zk(h)));let u=e.requestId;void 0!==u&&(aM(t,90),nM(t,u));let p=e.sdkVersion;void 0!==p&&(aM(t,98),nM(t,p));let _=e.sequence;void 0!==_&&(aM(t,104),dM(t,zk(_)));let E=e.sid;void 0!==E&&(aM(t,114),nM(t,E));let m=e.timestamp;void 0!==m&&(aM(t,120),dM(t,m));let f=e.uid;void 0!==f&&(aM(t,128),aM(t,f));let g=e.vid;void 0!==g&&(aM(t,136),aM(t,g));let T=e.width;void 0!==T&&(aM(t,144),dM(t,zk(T)));let S=e.service;void 0!==S&&(aM(t,152),aM(t,S));let R=e.callbackData;void 0!==R&&(aM(t,162),aM(t,R.length),tM(t,R));let C=e.ticket;void 0!==C&&(aM(t,170),nM(t,C))}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function qk(e){return function(e){let t={};e:for(;!Zk(e);){let i=oM(e);switch(i>>>3){case 0:break e;case 1:t.code=oM(e);break;case 2:t.msg=iM(e,oM(e));break;case 3:t.requestId=iM(e,oM(e));break;case 4:t.timestamp=cM(e,!1);break;default:Jk(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function Jk(e,t){switch(t){case 0:for(;128&rM(e););break;case 2:Qk(e,oM(e));break;case 5:Qk(e,4);break;case 1:Qk(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}function zk(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let Xk=[];function Qk(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function Zk(e){return e.offset>=e.limit}function $k(e,t){let i=e.bytes,n=e.offset,r=e.limit,s=n+t;if(s>i.length){let t=new Uint8Array(2*s);t.set(i),e.bytes=t}return e.offset=s,s>r&&(e.limit=s),n}function eM(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function tM(e,t){let i=$k(e,t.length);e.bytes.set(t,i)}function iM(e,t){let i=eM(e,t),n=String.fromCharCode,r=e.bytes,s=\"�\",o=\"\";for(let e=0;e<t;e++){let a,c,d,l,h=r[e+i];0==(128&h)?o+=n(h):192==(224&h)?e+1>=t?o+=s:(a=r[e+i+1],128!=(192&a)?o+=s:(l=(31&h)<<6|63&a,l<128?o+=s:(o+=n(l),e++))):224==(240&h)?e+2>=t?o+=s:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?o+=s:(l=(15&h)<<12|(63&a)<<6|63&c,l<2048||l>=55296&&l<=57343?o+=s:(o+=n(l),e+=2))):240==(248&h)?e+3>=t?o+=s:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?o+=s:(l=(7&h)<<18|(63&a)<<12|(63&c)<<6|63&d,l<65536||l>1114111?o+=s:(l-=65536,o+=n(55296+(l>>10),56320+(1023&l)),e+=3))):o+=s}return o}function nM(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}aM(e,n);let r=$k(e,n),s=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?s[r++]=n:(n<2048?s[r++]=n>>6&31|192:(n<65536?s[r++]=n>>12&15|224:(s[r++]=n>>18&7|240,s[r++]=n>>12&63|128),s[r++]=n>>6&63|128),s[r++]=63&n|128)}}function rM(e){return e.bytes[eM(e,1)]}function sM(e,t){let i=$k(e,1);e.bytes[i]=t}function oM(e){let t,i=0,n=0;do{t=rM(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function aM(e,t){for(t>>>=0;t>=128;)sM(e,127&t|128),t>>>=7;sM(e,t)}function cM(e,t){let i,n=0,r=0,s=0;return i=rM(e),n=127&i,128&i&&(i=rM(e),n|=(127&i)<<7,128&i&&(i=rM(e),n|=(127&i)<<14,128&i&&(i=rM(e),n|=(127&i)<<21,128&i&&(i=rM(e),r=127&i,128&i&&(i=rM(e),r|=(127&i)<<7,128&i&&(i=rM(e),r|=(127&i)<<14,128&i&&(i=rM(e),r|=(127&i)<<21,128&i&&(i=rM(e),s=127&i,128&i&&(i=rM(e),s|=(127&i)<<7))))))))),{low:n|r<<28,high:r>>>4|s<<24,unsigned:t}}function dM(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,s=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,o=$k(e,s),a=e.bytes;switch(s){case 10:a[o+9]=r>>>7&1;case 9:a[o+8]=9!==s?128|r:127&r;case 8:a[o+7]=8!==s?n>>>21|128:n>>>21&127;case 7:a[o+6]=7!==s?n>>>14|128:n>>>14&127;case 6:a[o+5]=6!==s?n>>>7|128:n>>>7&127;case 5:a[o+4]=5!==s?128|n:127&n;case 4:a[o+3]=4!==s?i>>>21|128:i>>>21&127;case 3:a[o+2]=3!==s?i>>>14|128:i>>>14&127;case 2:a[o+1]=2!==s?i>>>7|128:i>>>7&127;case 1:a[o]=1!==s?128|i:127&i}}const lM={},hM={},uM=4294967296,pM=uM*uM,_M=pM/2,EM=SM(0,!0),mM=SM(0),fM=RM(0,-2147483648,!1),gM=RM(-1,2147483647,!1),TM=RM(-1,-1,!0);function SM(e,t){let i,n,r;return t?(r=0<=(e>>>=0)&&e<256)&&(n=hM[e],n)?n:(i=RM(e,0,!0),r&&(hM[e]=i),i):(r=-128<=(e|=0)&&e<128)&&(n=lM[e],n)?n:(i=RM(e,e<0?-1:0,!1),r&&(lM[e]=i),i)}function RM(e,t,i){return{low:0|e,high:0|t,unsigned:!!i}}function CM(e,t){if(isNaN(e))return t?EM:mM;if(t){if(e<0)return EM;if(e>=pM)return TM}else{if(e<=-_M)return fM;if(e+1>=_M)return gM}return e<0?t?EM:mM:RM(e%uM|0,e/uM|0,t)}function vM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class IM extends iT{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(AI.CONNECTION_STATE_CHANGE,e,t)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this._qualityRatio}),6e4))}constructor(e){var t;super(),nu(this,\"name\",\"AgoraRTCImageModeration\"),nu(this,\"_connectionState\",yI.CONNECTING),nu(this,\"_sequence\",0),nu(this,\"_moderationStartTime\",void 0),nu(this,\"_workerConnection\",void 0),nu(this,\"_workerMessageLengthLimit\",void 0),nu(this,\"_qualityRatio\",void 0),nu(this,\"_connectInfo\",void 0),nu(this,\"_cancelTokenSource\",EC.CancelToken.source()),nu(this,\"_retryConfig\",void 0),nu(this,\"_moderationInterval\",void 0),nu(this,\"_moderationTimer\",null),nu(this,\"_moderationMode\",1),nu(this,\"_quality\",1),nu(this,\"_qualityTimer\",null),nu(this,\"_ticket\",void 0),nu(this,\"_moderationIntervalMinimum\",void 0),nu(this,\"_uploadFailedNum\",0),nu(this,\"_uploadNum\",0),nu(this,\"_uploadTimer\",null),nu(this,\"_moderationId\",void 0),nu(this,\"inspectImage\",(()=>{if(this.connectionState!==yI.CONNECTED)throw new xv(xg.OPERATION_ABORTED,\"image moderation service connection status is \".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval((()=>{this.connectionState===yI.CONNECTED?this.requestToInspectImage():KC.debug(\"[\".concat(this._moderationId,\"] Moderation State is not connected , \"),this.connectionState)}),this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()})),this._moderationId=xT(5,\"image-moderation-\"),this._workerMessageLengthLimit=kC(\"IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT\"),this._moderationIntervalMinimum=kC(\"IMAGE_MODERATION_INTERVAL_MINIMUM\"),this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,this._qualityRatio=kC(\"IMAGE_MODERATION_QUALITY_RATIO\"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new XI(\"worker-\"+this._moderationId,JT),this.on(AI.STATE_CHANGE,((e,t)=>{KC.debug(\"[\".concat(this._moderationId,\"] Moderation operation :\").concat(bI[e],\" \").concat(t||\"\"))})),this.handleWorkerEvents()}async init(e,t){this.emit(AI.STATE_CHANGE,bI.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new tg(((n,r)=>{this.on(AI.CONNECTION_STATE_CHANGE,((e,t)=>{e===yI.CONNECTED&&n()})),this.requestAP(e,i,t).then((e=>{this.connectWorker(e)})).catch((e=>{r(e)}))}))}updateConfig(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,KC.debug(\"[\".concat(this._moderationId,\"] updateConfig: \").concat(JSON.stringify(e))),this.connectionState===yI.CONNECTED&&this.inspectImage()}async requestAP(e,t,i){const n=kC(\"WEBCS_DOMAIN\").map((e=>\"https://\".concat(e,\"/api/v1\"))),r=await function(e,t,i,n){let{appId:r,areaCode:s,cname:o,sid:a,token:c,uid:d}=t;oP++;const l=\"moderation_plugin\",h={service_name:l,json_body:JSON.stringify({appId:r,areaCode:s,cname:o,command:\"allocateEdge\",requestId:oP,seq:oP,sid:a,appToken:c,ts:Date.now(),uid:d+\"\"})};let u,p,_=e[0];return XT((async()=>{u=Date.now();const e=await VD(_,{data:h,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-u,0!==e.code){const t=new xv(xg.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code\"+e.code,{retry:!0,responseTime:p});throw KC.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new xv(xg.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw KC.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new xv(xg.UNEXPECTED_RESPONSE,\"moderation plugin ap empty server\",{code:t.code,responseTime:p});throw KC.error(e.toString()),e}if(!t.servers.some((e=>!!e.wss))){const e=new xv(xg.UNEXPECTED_RESPONSE,\"moderation plugin ap empty port\",{code:t.code,responseTime:p});throw KC.error(e.toString()),e}const n=kC(\"IMAGE_MODERATION_WORKER_HOST\");return{addressList:t.servers.map((e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(n,\":\").concat(i,\"/moderation\")})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,ticket:t.appTicket,responseTime:p}}),((t,i)=>(rv.apworkerEvent(a,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1)),((t,i)=>(rv.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==xg.OPERATION_ABORTED&&t.code!==xg.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0))),n)}(n,e,t,i);this.emit(AI.STATE_CHANGE,bI.AP_CONNECTED);const{addressList:s,ticket:o}=r;return this._ticket=o,s}async connectWorker(e){this.emit(AI.STATE_CHANGE,bI.CONNECT_WORKER),await this._workerConnection.init(e,1e4)}handleWorkerEvents(){this._workerConnection.on(Iv.CONNECTED,(async()=>{this.emit(AI.STATE_CHANGE,bI.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=yI.CONNECTED})),this._workerConnection.on(Iv.CLOSED,(()=>{this.connectionState=yI.CLOSED})),this._workerConnection.on(Iv.FAILED,(()=>{this.connectionState=yI.CLOSED})),this._workerConnection.on(Iv.RECONNECTING,(()=>{this.connectionState=this.connectionState===yI.CONNECTED?yI.RECONNECTING:yI.CONNECTING})),this._workerConnection.on(Iv.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const t=qk(new Uint8Array(e.data));kC(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&KC.debug(\"[\".concat(this._moderationId,\"] Response message for worker of image moderation \"),JSON.stringify(t)),this._uploadNum++,void 0===t.code||0===t.code||(this._uploadFailedNum++,KC.error(\"[\".concat(this._moderationId,\"] Error response from worke, code is \").concat(t.code,\", msg is \").concat(t.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout((()=>{rv.reportApiInvoke(this._connectInfo.sid||null,{name:sT.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t.code],tag:oT.TRACER}).onError(new xv(xg.IMAGE_MODERATION_UPLOAD_FAILED,t.msg)),this._uploadTimer=null}),kC(\"IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL\"))))}else KC.error(\"[\".concat(this._moderationId,\"] Unexpected message type from worker\"))})),this._workerConnection.on(Iv.WILL_RECONNECT,((e,t,i)=>{\"recover\"===e&&i(e),i(\"tryNext\")})),this._workerConnection.on(Iv.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){const e=TT(this,AI.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(kC(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&KC.debug(\"Only the track being played can be inspected\"));this._sequence++;const i=await this.generateRequestData(e,t);this._workerConnection.sendMessage(i,!0,!0)}else kC(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&KC.debug(\"Only the track being published can be inspected\")}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:s,sid:o,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),l=await fb(d,i,n),h=this._sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+xT(12,\"\"),u={appId:i,cid:r,cname:n,deviceId:\"\",elapse:IM.intToLong(Number(c-this._moderationStartTime)),fileSize:d.buffer.byteLength,height:d.height,width:d.width,jpg:l,networkType:6,osType:7,requestId:h,sdkVersion:\"4.19.3\",sequence:this._sequence,sid:o,timestamp:CM(c),uid:a,vid:s,service:this._moderationMode,ticket:this._ticket},p=Yk(u);if(p.byteLength<this._workerMessageLengthLimit){if(kC(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?vM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},u);delete e.jpg,KC.debug(\"[\".concat(this._moderationId,\"] Request message for worker of image moderation service: \"),JSON.stringify(e))}return p}{const t=this.quality*this._qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:s,sid:o,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=EC.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=yI.CLOSED,this.emit(AI.STATE_CHANGE,bI.CLOSED)}}function yM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function AM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class bM extends DI{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}constructor(e,t,i){super(e,t),nu(this,\"direction\",void 0),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"transportEventReceiver\",void 0),nu(this,\"statsFilter\",void 0),nu(this,\"localCandidateCount\",0),nu(this,\"allCandidatesReceived\",!1),nu(this,\"mutex\",new YT(\"P2PConnection-mutex\")),nu(this,\"dataChannel\",void 0),nu(this,\"onLocalCandidate\",void 0),this.store=t,this.peerConnection=new RTCPeerConnection(bM.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.direction=null!=i?i:vv.SEND_ONLY,this.dataChannel=this.peerConnection.createDataChannel(\"agora-p2p-signal\",{ordered:!0}),this.statsFilter=PL(this.peerConnection,kC(\"STATS_UPDATE_INTERVAL\"),void 0,Rg()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e){try{if(e){await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();if(await this.peerConnection.setLocalDescription(t),!t.sdp)throw new Error(\"Cannot get answer sdp when trying to establish PeerConnection.\");return t.sdp}{const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");return await this.peerConnection.setLocalDescription(e),e.sdp}}catch(e){throw new Vg(xg.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:e})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}async addRemoteCandidate(e){try{await this.peerConnection.addIceCandidate(e)}catch(e){throw new Vg(xg.ADD_CANDIDATE_FAILED,\"P2PConnection.addRemoteCandidate failed; \".concat(e.toString()))}}async send(e){try{const t=[];e.forEach((e=>{const i=this.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});t.push(i)})),Rg()&&!0===kC(\"SIMULCAST\")&&await this.applySimulcastForFirefox(t,e),await this.applySimulcastEncodings(t,e),await this.applySendEncodings(t,e);const i=await this.peerConnection.createOffer();if(await this.peerConnection.setLocalDescription(i),!i.sdp)throw new Error(\"Cannot get offer.sdp when trying to send PeerConnection.\");const n=t.map((e=>{const t=this.getLocalSSRC(e.mid,i.sdp);if(!t)throw new Error(\"Cannot get ssrc when trying to send PeerConnection.\");return{mid:e.mid,localSSRC:[{ssrcId:t}]}}));return{sdp:i.sdp,trackMessage:n}}catch(e){throw e instanceof Vg?e:new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length (\".concat(t.length,\") doesn't match mids' length (\").concat(e.length,\") when trying to call P2PConnection.stopSending.\"));t.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e),this.peerConnection.removeTrack(e.sender)}));const n=await this.peerConnection.createOffer();if(await this.peerConnection.setLocalDescription(n),!n.sdp)throw new Error(\"Cannot get offer.sdp when trying to send PeerConnection.\");return n.sdp}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i){try{await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();if(!n.sdp)throw new Error(\"Cannot get answer sdp when trying to receive track.\");await this.peerConnection.setLocalDescription(n),KC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"));const r=this.getRemoteMid(i,t);if(void 0===r)throw new Error(\"Cannot get transceiver mid when trying to receive track.\");const s=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!s||null===s.mid)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:s.receiver.track,mid:s.mid,sdp:n.sdp}}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async setDescription(e,t){try{if(\"remote\"===e){await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const i=await this.peerConnection.createAnswer();if(!i.sdp)throw new Error(\"Cannot get answer sdp when trying to receive track.\");return await this.peerConnection.setLocalDescription(i),KC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] exchanging SDP, type is \").concat(e)),i.sdp}await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:t})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.setDescription failed; \".concat(e.toString()))}}async stopReceiving(e,t){try{const i=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(i.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");i.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)})),await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();if(await this.peerConnection.setLocalDescription(n),!n.sdp)throw new Error(\"Cannot get answer sdp when trying to receive track.\");return n.sdp}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async restartICE(){try{const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");return this.store.descriptionStart(),await this.peerConnection.setLocalDescription(e),e.sdp}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transportEventReceiver=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?Rg()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:AM(AM({},mL),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:AM(AM({},mL),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{var t;e.candidate&&(null===(t=this.onLocalCandidate)||void 0===t||t.call(this,e.candidate));e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,KC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,KC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),kC(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const t={iceServers:[]};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&\"off\"!==e.turnServer.mode&&(_T(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...bM.turnServerConfigToIceServers(e.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...bM.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),kC(\"FORCE_TURN_TCP\")?t.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy=\"relay\")})))),kC(\"ENABLE_ENCODED_TRANSFORM\")&&_A().supportWebRTCEncodedTransform&&(t.encodedInsertableStreams=!0),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.tcpport&&(t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(_D(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}),t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=udp\")}),t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"stun:\".concat(e.turnServerURL,\":\").concat(e.tcpport)}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const i=t.iceTransport;i&&(i.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var i;e&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,e))},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){const{local:e,remote:t}=i.getSelectedCandidatePair();KC.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),\", remote \").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol,address:t.address,port:t.port}),\" )\"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))}if(!t)return KC.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return KC.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!_A().supportSetRtpSenderParameters)return KC.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");const n={},r={};switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(e._encoderConfig){var s;const{bitrateMax:t,frameRate:i,scaleResolutionDownBy:n}=e._encoderConfig;t&&(r.maxBitrate=1e3*t),Pr(s=e._hints).call(s,ky.LOW_STREAM)&&(i&&(r.maxFramerate=mD(i)),n&&n>=1&&(r.scaleResolutionDownBy=n))}if(kC(\"DSCP_TYPE\")&&kg()){var o;const e=kC(\"DSCP_TYPE\");Pr(o=[\"very-low\",\"low\",\"medium\",\"high\"]).call(o,e)&&(r.networkPriority=e)}const a=t.getParameters(),c=null===(i=a.encodings)||void 0===i?void 0:i[0];Rg()&&!c&&(n.encodings=[r]),c&&Object.assign(c,r),Object.assign(a,n),KC.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(a.encodings))),await t.setParameters(a)}async applySendEncodings(e,t){try{if(!_A().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];r instanceof Sb&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,n.sender)}}catch(e){KC.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=KP.parse(e);return t.forEach(((e,t)=>{const r=i[t],s=n.mediaDescriptions.find((e=>e.attributes.mid===r));s&&($P(s,e),rL(s,e,this.store.codec))})),KP.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,s,o;const c=e[a],d=t[a];if(d instanceof Sb&&!Pr(i=d._hints).call(i,ky.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(s=d._scalabilityMode)&&void 0!==s&&s.numSpatialLayers&&(null===(o=d._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Rg()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof Sb&&this.isVP8Simulcast(n)){const t=e[i],r={},s={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:s.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:s.medium,scaleResolutionDownBy:4}];const o=t.sender.getParameters();await t.sender.setParameters(Object.assign(o,r))}}}isVP8Simulcast(e){var t,i,n,r,s;return!!(e instanceof Sb&&kC(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Pr(t=e._hints).call(t,ky.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(s=e._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(kC(\"SDP_LOGGING\"))return KC.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}getLocalSSRC(e,t){var i,n;if(t=null!==(i=t)&&void 0!==i?i:null===(n=this.currentLocalDescription)||void 0===n?void 0:n.sdp){var r;const i=null===(r=KP.parse(t).mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===r?void 0:r.attributes.ssrcs;return null==i?void 0:i[0].ssrcId}}getRemoteMid(e,t){var i,n;if(t=null!==(i=t)&&void 0!==i?i:null===(n=this.currentRemoteDescription)||void 0===n?void 0:n.sdp){var r;return null===(r=KP.parse(t).mediaDescriptions.find((t=>t.attributes.ssrcs.some((t=>t.ssrcId===e)))))||void 0===r?void 0:r.attributes.mid}}async getRemoteSSRC(e,t){var i,n;if(t=null!==(i=t)&&void 0!==i?i:null===(n=this.currentRemoteDescription)||void 0===n?void 0:n.sdp){var r;const i=null===(r=KP.parse(t).mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===r?void 0:r.attributes.ssrcs;return null==i?void 0:i[0].ssrcId}}}function wM(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}var OM;function NM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function DM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?NM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):NM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],bM.prototype,\"establish\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],bM.prototype,\"connect\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[RTCIceCandidate]),Uv(\"design:returntype\",tg)],bM.prototype,\"addRemoteCandidate\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],bM.prototype,\"send\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,String,Number]),Uv(\"design:returntype\",tg)],bM.prototype,\"receive\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,String]),Uv(\"design:returntype\",tg)],bM.prototype,\"setDescription\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array,String]),Uv(\"design:returntype\",tg)],bM.prototype,\"stopReceiving\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],bM.prototype,\"restartICE\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],bM.prototype,\"close\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],bM.prototype,\"updateEncoderConfig\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,iA]),Uv(\"design:returntype\",tg)],bM.prototype,\"updateSendParameters\",null),Mv([wM,Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[iA,String]),Uv(\"design:returntype\",tg)],bM.prototype,\"replaceTrack\",null),function(e){e.SEND_ONLY=\"SEND_ONLY\",e.RECEIVE_ONLY=\"RECEIVE_ONLY\"}(OM||(OM={}));class PM extends iT{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(mI.StateChange,t,this._state)}constructor(e,t){super(),nu(this,\"store\",void 0),nu(this,\"statsUploader\",void 0),nu(this,\"sendConnection\",void 0),nu(this,\"recvConnection\",void 0),nu(this,\"localTrackMap\",new Map),nu(this,\"remoteUserMap\",new Map),nu(this,\"localDataChannels\",[]),nu(this,\"pendingLocalTracks\",[]),nu(this,\"pendingRemoteTracks\",[]),nu(this,\"statsCollector\",void 0),nu(this,\"dtlsFailedCount\",0),nu(this,\"sendMutex\",new YT(\"P2PChannel2-send-mutex\")),nu(this,\"recvMutex\",new YT(\"P2PChannel2-recv-mutex\")),nu(this,\"_state\",EI.Disconnected),nu(this,\"_restartStates\",[\"disconnected\",\"failed\"]),nu(this,\"_restartTimer\",void 0),nu(this,\"handleMuteLocalTrack\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleMuteLocalTrack\");try{if(!this.sendConnection||this.state!==EI.Connected)return void i(new Vg(xg.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\"));const o=this.filterTobeMutedTracks(e);if(0===o.length)return void t();const a=o.find((e=>\"videoLowTrack\"===e[0]));if(a){a[1].track._originMediaStreamTrack.stop()}let c=!1;var r,s;if(\"video\"===e.trackMediaType)c=!(null===(r=this.localTrackMap.get(_I.LocalAudioTrack))||void 0===r||!r.track._muted);else c=void 0===(null===(s=this.localTrackMap.get(_I.LocalVideoTrack))||void 0===s?void 0:s.id);const d=o.filter((e=>{let[t,i]=e;return(t!==_I.LocalAudioTrack||c)&&void 0!==i.id})).map((e=>{let[,t]=e;return t}));let l;d.length>0&&(l=await this.sendConnection.stopSending(d.map((e=>e.id))),d.forEach((e=>{e.id=void 0,e.ssrcs=void 0})));const h=this.createMuteMessage(o),u=\"video\"===e.trackMediaType?OI.MUTE_LOCAL_VIDEO:OI.MUTE_LOCAL_AUDIO,p=await fT(this,mI.RequestP2PMuteLocal,{action:u,sdp:l,message:h,isMuteAll:c});p&&await this.sendConnection.setDescription(\"local\",p),(l||\"audio\"===e.trackMediaType)&&await gT(this,mI.RequestMuteLocal,h),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleUnmuteLocalTrack\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUnmuteLocalTrack\");try{if(!this.sendConnection||this.state!==EI.Connected)return void i(new Vg(xg.INVALID_OPERATION,\"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established.\"));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const s=this.createUnmuteMessage(r),o=\"video\"===e.trackMediaType?OI.UNMUTE_LOCAL_VIDEO:OI.UNMUTE_LOCAL_AUDIO;await gT(this,mI.RequestP2PMuteLocal,{action:o,message:s}),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleUpdateVideoEncoder\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleSetVideoEncoder\");try{const i=this.localTrackMap.get(_I.LocalVideoTrack);if(!this.sendConnection||!i||i.track!==e||this.state!==EI.Connected)return void t();const{id:r,track:s}=i;r&&(await this.sendConnection.updateSendParameters(r,s),await this.sendConnection.updateEncoderConfig(r,s),this.emit(mI.UpdateVideoEncoder,s)),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleSetOptimizationMode\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleSetOptimizationMode\");try{const i=this.localTrackMap.get(_I.LocalVideoTrack);if(!this.sendConnection||!i||i.track!==e||this.state!==EI.Connected)return;const{id:r,track:s}=i;r&&await this.sendConnection.updateSendParameters(r,s),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleReplaceTrack\",(async(e,t,i,n)=>{let r;KC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 handleReplaceTrack for [track-id-\").concat(e.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(r=await this.sendMutex.lock(\"From P2PChannel2.handleReplaceTrack\"));try{var s;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!this.sendConnection||!i||void 0===i[1].id||this.state!==EI.Connected)return void t();if(await(null===(s=this.sendConnection)||void 0===s?void 0:s.replaceTrack(e,i[1].id)),i[0]===_I.LocalVideoTrack&&_A().supportDualStreamEncoding){const t=this.localTrackMap.get(_I.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new tg(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}t()}catch(e){i(e)}finally{var o;null===(o=r)||void 0===o||o()}})),nu(this,\"handleGetLocalVideoStats\",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),nu(this,\"handleGetLocalAudioStats\",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),nu(this,\"handleGetRemoteVideoStats\",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),nu(this,\"handleGetRemoteAudioStats\",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new dk,this.bindStatsUploaderEvents()}async startP2PConnection(e,t){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support startP2PConnection.\")}async connect(e,t,i,n,r,s){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support connect.\")}async startP2P(e,t){if(this.state=EI.New,this.sendConnection&&(KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset P2PConnection.\")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),this.recvConnection&&(KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset P2PConnection.\")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),this.sendConnection=new bM(e,this.store),this.bindConnectionEvents(this.sendConnection),this.recvConnection=new bM(e,this.store,vv.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection),t){this.store.peerConnectionStart(),await this.recvConnection.establish(t);const e=await this.sendConnection.establish(t);return this.statsUploader.startUploadTransportStats(!0),this.statsUploader.startUploadExtensionUsageStats(),this.state=EI.Connected,e}return await this.recvConnection.establish(t),this.sendConnection.establish(t)}async p2pConnect(e){if(!this.sendConnection||!this.recvConnection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.startP2PConnection .\");this.store.peerConnectionStart(),await this.recvConnection.connect(e),await this.sendConnection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=EI.Connected}async addRemoteCandidate(e){if(!this.sendConnection||!this.recvConnection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.recvConnection.addRemoteCandidate(e),await this.sendConnection.addRemoteCandidate(e)}async publish(e,t,i){if(!this.sendConnection||this.state!==EI.Connected){this.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===this.pendingLocalTracks.indexOf(e)));return void(this.pendingLocalTracks=this.pendingLocalTracks.concat(t))}this.store.pubId=this.store.pubId+1,cD.markPublishStart(this.store.clientId,this.store.pubId);const n=this.filterTobePublishedTracks(e,t,i);if(0===n.length)return void await this.tryToUnmuteAudio(e);n.forEach((e=>{let{track:t,type:i}=e;const n=Date.now();this.store.publish(t.getTrackId(),i===_I.LocalAudioTrack?\"audio\":\"video\",n)})),this.bindLocalTrackEvents(n);const r=this.createGatewayPublishMessage(n);return this.assignLocalTracks(n),n.forEach((e=>{let{track:t,type:i}=e;const n=Date.now();this.store.publish(t.getTrackId(),i===_I.LocalAudioTrack?\"audio\":\"video\",void 0,n)})),r}async dopublish(e){if(!this.sendConnection||this.state!==EI.Connected)return;const t=this.localTrackMap.get(e);if(t){const{sdp:i,trackMessage:n}=await this.sendConnection.send([t.track]),{mid:r,localSSRC:s}=n[0];t.id=r,t.ssrcs=s,this.statsCollector.addLocalStats(e),this.statsUploader.startUploadUplinkStats();const o=await fT(this,mI.RequestP2PPublish,{kind:e===_I.LocalAudioTrack?hI.AUDIO:hI.VIDEO,sdp:i,ssrcId:s[0].ssrcId});await this.sendConnection.setDescription(\"local\",o);const a=this.createUnmuteMessage([[e,t]]);await gT(this,mI.RequestUnmuteLocal,a)}else;}async setDescription(e,t){let i,n;\"local\"===e?(i=await this.sendMutex.lock(\"From P2PChannel.restartICE\"),n=this.sendConnection):(i=await this.recvMutex.lock(\"From P2PChannel.restartICE\"),n=this.recvConnection);try{if(!n||this.state!==EI.Connected)return;return await n.setDescription(e,t)}finally{i()}}publishLowStream(e){return BP((function*(){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support publishLowStream.\")}))()}async republish(){this.pendingLocalTracks.length>0&&(KC.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await fT(this,mI.RequestRePublish,this.pendingLocalTracks),this.emit(mI.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublish(e){if(!this.sendConnection||this.state!==EI.Connected)return void(0===e.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter((t=>!Pr(e).call(e,t))));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}})));const i=t.filter((e=>{let[,{id:t}]=e;return void 0!==t}));if(!this.sendConnection||this.state!==EI.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const n=t.find((e=>\"videoLowTrack\"===e[0]));if(n){n[1].track.close()}let r;const s=this.createGatewayUnpublishMessage(t);i.length>0&&(r=await this.sendConnection.stopSending(i.map((e=>{let[,{id:t}]=e;return t})))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadUplinkStats();const o=this.createMuteMessage(t);return await tg.all(o.map((async e=>{await gT(this,mI.RequestMuteLocal,[e])}))),{sdp:r,unpubMsg:s}}async unpublishLowStream(){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support unpublishLowStream.\")}async doUnpublish(e){if(!this.sendConnection||this.state!==EI.Connected)return;const t=[];if(e!==hI.AUDIO){const e=this.localTrackMap.get(_I.LocalVideoTrack);void 0!==(null==e?void 0:e.id)&&t.push([_I.LocalVideoTrack,e]);const i=this.localTrackMap.get(_I.LocalVideoLowTrack);void 0!==(null==i?void 0:i.id)&&t.push([_I.LocalVideoLowTrack,i]),this.statsCollector.removeLocalStats(_I.LocalVideoTrack),this.statsCollector.removeLocalStats(_I.LocalVideoLowTrack)}if(e!==hI.VIDEO){const e=this.localTrackMap.get(_I.LocalAudioTrack);void 0!==(null==e?void 0:e.id)&&t.push([_I.LocalAudioTrack,e]),this.statsCollector.removeLocalStats(_I.LocalAudioTrack)}if(t.length>0){const i=await this.sendConnection.stopSending(t.map((e=>{let[,t]=e;return t.id})));t.forEach((e=>{let[,t]=e;t.id=void 0,t.ssrcs=void 0}));const n=await fT(this,mI.RequestP2PUnPublish,{sdp:i,kind:e});await this.sendConnection.setDescription(\"local\",n);const r=this.createMuteMessage(t);await tg.all(r.map((async e=>{await gT(this,mI.RequestMuteLocal,[e])})))}else;}async subscribe(e,t,i,n){var r;if(!this.recvConnection||this.state!==EI.Connected)throw new Vg(xg.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");if(null!==(r=this.remoteUserMap.get(e))&&void 0!==r&&r.has(t))return;const{track:s,mid:o,sdp:a}=await this.recvConnection.receive(t,i,n);t===hI.AUDIO?(e._audioSSRC=n,e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(s):(e._audioTrack=new Ob(s,e.uid,e._uintid,this.store),KC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(e._audioTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoSSRC=n,e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(s):(e._videoTrack=new wb(s,e.uid,e._uintid,this.store),KC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(e._videoTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,o):this.remoteUserMap.set(e,new Map([[t,o]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadDownlinkStats(),await gT(this,mI.RequestP2PUnmuteRemote,t);const d=this.pendingRemoteTracks.findIndex((i=>{let{user:n,kind:r}=i;return n.uid===e.uid&&t===r}));return-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(mI.MediaReconnectEnd,e.uid)),a}async unsubscribe(e,t,i,n){const r=this.pendingRemoteTracks.filter((t=>{let{user:n,kind:r}=t;return void 0!==i?n.uid===e.uid&&i===r:n.uid===e.uid}));if(r.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.recvConnection&&this.state===EI.Connected||n||r.forEach((t=>{let{kind:i}=t;var n;if(i===hI.AUDIO)null===(n=e._audioTrack)||void 0===n||n._destroy(),e._audioTrack=void 0;else if(i===hI.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.recvConnection||this.state!==EI.Connected)return;const s=this.filterTobeUnSubscribedTracks(e,i);if(0===s.length)return void(i!==hI.VIDEO&&gT(this,mI.RequestP2PMuteRemote,hI.AUDIO));const o=await this.recvConnection.stopReceiving(s.map((e=>{let[,{id:t}]=e;return t})),t);return this.withdrawRemoteTracks(s),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),s.forEach((e=>{let[t,{kind:i}]=e;var r,s;i===hI.VIDEO&&t._videoSSRC&&(null===(r=this.recvConnection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(i===hI.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(s=t._videoTrack)||void 0===s||s._destroy(),t._videoTrack=void 0);else if(i===hI.AUDIO){var o;if(this.unbindRemoteTrackEvents(t._audioTrack),!n)null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),s.filter((e=>{let[,{kind:t}]=e;return t!==hI.AUDIO})).forEach((e=>{let[,{kind:t}]=e;gT(this,mI.RequestP2PMuteRemote,t)})),i!==hI.VIDEO&&gT(this,mI.RequestP2PMuteRemote,hI.AUDIO),o}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support massSubscribe.\")}async massSubscribeNoLock(e){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support massSubscribeNoLock.\")}async massUnsubscribe(e){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribe.\")}async massUnsubscribeNoLock(e){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribeNoLock.\")}async muteRemote(e,t){if(!this.recvConnection)return;const i=this.remoteUserMap.get(e);if(!i)return void KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(e.uid,\".\"));if(!i.get(t))return void KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"));const n=t===hI.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==n&&this.recvConnection.setStatsRemoteVideoIsReady(n,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.recvConnection)return;const i=this.remoteUserMap.get(e);if(!i)return void KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(e.uid,\".\"));i.get(t)||KC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"))}getAllTracks(e){const t=this.localTrackMap.get(_I.LocalAudioTrack);if((null==t?void 0:t.track)instanceof tb){const i=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==_I.LocalAudioTrack})).filter((t=>{let[i]=t;return!(e&&i===_I.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(i.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[i]=t;return!(e&&i===_I.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,i,n,r){if(e){const i=this.localTrackMap.get(_I.LocalAudioTrack),s=n?this.localTrackMap.get(_I.LocalVideoLowTrack):this.localTrackMap.get(_I.LocalVideoTrack);rv.publish(this.store.sessionId,{eventElapse:cD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==s?void 0:s.track.getTrackLabel(),screenshare:-1!==(null==s?void 0:s.track._hints.indexOf(ky.SCREEN_TRACK)),audio:!!i,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var s;i||(i=[]);const o=i.find((e=>e instanceof ZA)),a=n?null===(s=this.localTrackMap.get(_I.LocalVideoTrack))||void 0===s?void 0:s.track:i.find((e=>e instanceof Sb));rv.publish(this.store.sessionId,{eventElapse:cD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==o?void 0:o.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(ky.SCREEN_TRACK)),audio:!!o,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,i,n){const r=n===hI.VIDEO?i._videoSSRC:i._audioSSRC;r&&rv.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===hI.VIDEO,audio:n===hI.AUDIO,peerid:i.uid,subscribeRequestid:n===hI.VIDEO?i._videoSSRC:i._audioSSRC,p2pid:this.store.p2pId,eventElapse:cD.measureFromSubscribeStart(this.store.clientId,r)})}reset(){KC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.reset\")),this.sendMutex=new YT(\"P2PChannel2-send-mutex\"),this.sendMutex=new YT(\"P2PChannel2-recv-mutex\"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(_I.LocalAudioTrack);if((null==e?void 0:e.track)instanceof tb){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.state=EI.Disconnected}getStats(e){var t,i;return e?null===(i=this.recvConnection)||void 0===i?void 0:i.getStats():null===(t=this.sendConnection)||void 0===t?void 0:t.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.recvConnection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(_I.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(_I.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof Sb||t&&t.track instanceof ZA?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}getRemoteMedia(e){var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return i?{audioTrack:i.audioTrack,audioSSRC:i._audioSSRC,videoTrack:i.videoTrack,videoSSRC:i._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(_I.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Zu(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(KC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.disconnectForReconnect closing P2PConnection\")),this.state=EI.Reconnecting,kC(\"KEEP_LAST_FRAME\")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var i;t._videoTrack&&t._videoTrack._player&&(null===(i=t._videoTrack._player.getVideoElement())||void 0===i||i.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[i,{track:n}]=e;switch(i){case _I.LocalVideoTrack:Pr(t=n._hints).call(t,ky.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case _I.LocalAudioTrack:n instanceof tb?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case _I.LocalVideoLowTrack:}})),this.emit(mI.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;Array.from(hu(i).call(i)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(mI.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),KC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 disconnected, waiting to reconnect.\")))}hasPendingRemoteMedia(e,t){for(const i of this.pendingRemoteTracks){const{user:n,kind:r}=i;if((e instanceof NP?e.uid:e)===n.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async restartICE(e){let t;t=e.direction===vv.SEND_ONLY?await this.sendMutex.lock(\"From P2PChannel.restartICE\"):await this.recvMutex.lock(\"From P2PChannel.restartICE\");try{const i=await e.restartICE(),n=await fT(this,mI.RequestP2PRestartICE,i);e.setDescription(\"local\",n)}finally{t()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const e=this.sendConnection.getStats(),t=this.localTrackMap.get(_I.LocalVideoTrack),i=this.localTrackMap.get(_I.LocalAudioTrack),n=e.videoSend.find((e=>{var i;return e.ssrc===(null==t||null===(i=t.ssrcs)||void 0===i?void 0:i[0].ssrcId)})),r=e.audioSend.find((e=>{var t;return e.ssrc===(null==i||null===(t=i.ssrcs)||void 0===t?void 0:t[0].ssrcId)}));if(!n||!r)return 1;const s=TT(this,mI.NeedSignalRTT),o=n?n.rttMs:void 0,a=r?r.rttMs:void 0,c=o&&a?(o+a)/2:o||a,d=(c&&s?(c+s)/2:c||s)||0,l=100*e.sendPacketLossRate*.7/50+.3*d/1500,h=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,u=null==t?void 0:t.track;if(u&&u._encoderConfig&&-1===u._hints.indexOf(ky.SCREEN_TRACK)){const t=u._encoderConfig.bitrateMax,i=e.bitrate.actualEncoded;if(t&&i){const e=(1e3*t-i)/(1e3*t);return av[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][h]}}return h}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const e=this.recvConnection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((i=>{let[n]=i;const r=n._audioSSRC,s=n._videoSSRC,o=e.audioRecv.find((e=>e.ssrc===r)),a=e.videoRecv.find((e=>e.ssrc===s));if(!o&&!a)return void(t+=1);const c=TT(this,mI.NeedSignalRTT),d=e.rtt,l=(d&&c?(d+c)/2:d||c)||0,h=o?o.jitterMs:void 0,u=e.recvPacketLossRate;let p=.7*u*100/50+.3*l/1500;h&&(p=.6*u*100/50+.2*l/1500+.2*h/400);t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new tg(((t,i)=>{this.handleMuteLocalTrack(e,t,i)}))}filterTobePublishedTracks(e,t,i){const n=[],r=_A(),s=this.getAllTracks();e=yT(e=e.filter((e=>-1===s.indexOf(e))));let o=!1,a=!1;for(const s of e){if(s instanceof Sb&&(this.localTrackMap.has(_I.LocalVideoTrack)||o?new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:s,type:_I.LocalVideoTrack}),o=!0),t)){const e=this.getLowVideoTrack(s,i);n.push({track:e,type:_I.LocalVideoLowTrack})}if(s instanceof ZA){const e=this.localTrackMap.get(_I.LocalAudioTrack);if(e){if(!(e.track instanceof tb))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(s._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(s),this.bindLocalAudioTrackEvents(s,!0)}else if(a){const e=n.find((e=>{let{type:t}=e;return t===_I.LocalAudioTrack}));if(!(e.track instanceof tb))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(s._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(s)}else{if(!r.webAudioMediaStreamDest||s instanceof tb||s._bypassWebAudio)n.push({track:s,type:_I.LocalAudioTrack});else{const e=new tb;e.addAudioTrack(s),n.push({track:e,type:_I.LocalAudioTrack})}a=!0}}}return n}filterTobeUnpublishedTracks(e){const t=[],i=this.getAllTracks();e=yT(e=e.filter((e=>-1!==i.indexOf(e))));for(const i of e){if(i instanceof ZA){const e=this.localTrackMap.get(_I.LocalAudioTrack);if(!e)continue;e.track instanceof tb?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([_I.LocalAudioTrack,e]),e.track.close())):t.push([_I.LocalAudioTrack,e])}if(i instanceof Sb){const e=this.localTrackMap.get(_I.LocalVideoTrack);if(!e)continue;t.push([_I.LocalVideoTrack,e]);const i=this.localTrackMap.get(_I.LocalVideoLowTrack);i&&t.push([_I.LocalVideoLowTrack,i])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:i}=e;switch(i){case _I.LocalVideoTrack:t.addListener(Ly.GET_STATS,this.handleGetLocalVideoStats),t.addListener(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(Ly.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(Ly.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(Ly.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case _I.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case _I.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof tb?e.trackList.forEach((e=>{e.addListener(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Ly.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(Ly.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(Ly.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:i}]=e;return{track:i,type:t}}))),e.forEach((e=>{let{track:t,type:i}=e;switch(i){case _I.LocalVideoTrack:t.off(Ly.GET_STATS,this.handleGetLocalVideoStats),t.off(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(Ly.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(Ly.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(Ly.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case _I.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case _I.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof tb?e.trackList.forEach((e=>{e.off(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Ly.GET_STATS,this.handleGetLocalAudioStats),e.off(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(Ly.GET_STATS,this.handleGetLocalAudioStats),e.off(Ly.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Ly.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Ly.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(Ly.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Ly.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof wb&&t.addListener(Ly.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof Ob&&t.addListener(Ly.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(Ly.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;i.has(hI.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),i.has(hI.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e){return e.map((e=>{var t;let i,n,{track:r,type:s}=e;switch(s){case _I.LocalAudioTrack:i=$v.Audio,n={dtx:r instanceof $A&&r._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case _I.LocalVideoTrack:i=Pr(t=r._hints).call(t,ky.SCREEN_TRACK)?$v.Screen:$v.High,n=DM(DM({},fD(r)),{},{codec:this.store.codec});break;case _I.LocalVideoLowTrack:i=$v.Low,n=DM(DM({},fD(r)),{},{codec:this.store.codec})}return{kind:s===_I.LocalAudioTrack?hI.AUDIO:hI.VIDEO,stream_type:i,attributes:n,isMuted:r.muted||!r.enabled}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case _I.LocalVideoTrack:i=Pr(t=r._hints).call(t,ky.SCREEN_TRACK)?$v.Screen:$v.High;break;case _I.LocalAudioTrack:i=$v.Audio;break;case _I.LocalVideoLowTrack:i=$v.Low}return{stream_type:i,ssrcs:s,mid:o}}))}assignLocalTracks(e){e.forEach((e=>{let{track:t,type:i}=e;this.localTrackMap.set(i,{track:t})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{var i;if(KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onConnectionStateChange(\").concat(t,\")\")),this.emit(mI.PeerConnectionStateChange,t),\"connected\"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),Pr(i=this._restartStates).call(i,t)||e.direction===vv.SEND_ONLY){if(this._restartTimer)return;const t=()=>{if(\"disconnected\"===e.iceConnectionState||\"checking\"===e.iceConnectionState||\"failed\"===e.iceConnectionState){KC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] start use restartICE\"));\"CONNECTED\"===TT(this,mI.QueryClientConnectionState)&&this.restartICE(e)}};this._restartTimer=window.setTimeout((()=>{t(),this._restartTimer=void 0}),800)}else;},e.onICEConnectionStateChange=e=>{\"connected\"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),rv.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:oT.TRACER}).onSuccess(),this.emit(mI.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportStateChange=e=>{KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportError=e=>{KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"))},e.onFirstAudioDecoded=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var n;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),null===(n=i.audioTrack)||void 0===n||n.emit(By.FIRST_FRAME_DECODED),rv.firstRemoteFrame(this.store.sessionId,XC.FIRST_AUDIO_DECODE,QC.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:cD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));i&&rv.firstRemoteFrame(this.store.sessionId,XC.FIRST_AUDIO_RECEIVED,QC.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:cD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,i)=>{this.reportVideoFirstFrameDecoded(e,t,i)},e.onFirstVideoReceived=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&rv.firstRemoteFrame(this.store.sessionId,XC.FIRST_VIDEO_RECEIVED,QC.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:cD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const i=\"relay\"===e.candidateType,n=\"relay\"===t.candidateType;\"unknown\"!==t.candidateType&&i===n||this.emit(mI.ConnectionTypeChange,i),KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(vD(t)),\" -> \").concat(JSON.stringify(vD(e)),\")\"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{KC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(vD(t)),\" -> \").concat(JSON.stringify(vD(e)),\")\"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.onLocalCandidate=e=>{this.emit(mI.LocalCandidate,e)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const i=this.localTrackMap.get(_I.LocalAudioTrack);if(e instanceof ZA&&(null==i?void 0:i.track)instanceof tb)return i.track.isActive||t.push([_I.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n&&(t.push(n),n[0]===_I.LocalVideoTrack)){const e=this.localTrackMap.get(_I.LocalVideoLowTrack);e&&t.push([_I.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],i=this.localTrackMap.get(_I.LocalAudioTrack);if(e instanceof ZA&&(null==i?void 0:i.track)instanceof tb)return i.track.isActive&&t.push([_I.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n)if(n[0]===_I.LocalVideoTrack){t.push(n);const e=this.localTrackMap.get(_I.LocalVideoLowTrack);e&&t.push([_I.LocalVideoLowTrack,e])}else t.push(n);return t}createMuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case _I.LocalAudioTrack:i=$v.Audio;break;case _I.LocalVideoTrack:i=Pr(t=r._hints).call(t,ky.SCREEN_TRACK)?$v.Screen:$v.High;break;case _I.LocalVideoLowTrack:i=$v.Low}return{stream_type:i,ssrcs:s,mid:o}}))}createUnmuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case _I.LocalAudioTrack:i=$v.Audio;break;case _I.LocalVideoTrack:i=Pr(t=r._hints).call(t,ky.SCREEN_TRACK)?$v.Screen:$v.High;break;case _I.LocalVideoLowTrack:i=$v.Low}return{stream_type:i,ssrcs:s,mid:o}}))}filterTobeUnSubscribedTracks(e,t){const i=[],n=this.remoteUserMap.get(e);if(!n)return i;if(t){const r=n.get(t);if(!r)return i;i.push([e,{kind:t,id:r}])}else Array.from(n.entries()).forEach((t=>{let[n,r]=t;i.push([e,{kind:n,id:r}])}));return i}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[i,{kind:n,id:r}]=e;switch(n){case hI.VIDEO:return void(i._videoSSRC&&t.push({stream_type:hI.VIDEO,ssrcId:i._videoSSRC}));case hI.AUDIO:return void(i._audioSSRC&&t.push({stream_type:hI.AUDIO,ssrcId:i._audioSSRC}))}})),t}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:i}]=e;const n=this.remoteUserMap.get(t);n&&(n.delete(i),0===Array.from(n.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(_I.LocalVideoTrack),i=this.localTrackMap.get(_I.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),i&&e.low_stream_uplink&&await i.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const e=this.sendConnection.peerConnectionState,t=this.recvConnection.peerConnectionState;return\"connected\"!==e&&\"connected\"!==t}return!0}async tryToUnmuteAudio(e){for(let t=0;t<e.length;t++)if(e[t]instanceof ZA){const i=this.filterTobeUnmutedTracks(e[t]);if(0===i.length)continue;const n=this.createUnmuteMessage(i);return void await gT(this,mI.RequestUnmuteLocal,n)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e=>this.getStats(e),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter((e=>{let[,{ssrcs:t}]=e;return!!t})),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.recvConnection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(mI.RequestUploadStats,e,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await UT(zT(this.dtlsFailedCount,JT)),this.emit(mI.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(_I.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof Sb))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof Sb)).length>1)throw new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof ZA)).length>1&&(e.some((e=>e instanceof ZA&&e._bypassWebAudio))||!_A().webAudioMediaStreamDest))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(const t of e){if(t instanceof Sb&&this.pendingLocalTracks.some((e=>e instanceof Sb)))throw new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof ZA&&this.pendingLocalTracks.some((e=>e instanceof ZA))&&(!_A().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof ZA&&e._bypassWebAudio))))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(e,t){const i=!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&_A().supportDualStreamEncoding,n=DM(DM({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=i?e._mediaStreamTrack.clone():KL(e,n);const s=xT(8,\"track-low-\"),o=new Sb(r,DM(DM({},i&&{scaleResolutionDownBy:CD(n,e)}),{},{frameRate:n.framerate,bitrateMax:n.bitrate,bitrateMin:n.bitrate}),void 0,void 0,s);return o.on(Vy.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,My.LOW_STREAM)})),o._hints.push(ky.LOW_STREAM),e.addListener(Ly.NEED_CLOSE,(()=>{o.close()})),o}async globalLock(){return this.recvMutex.lock(\"From P2PChannel2.globalLock\")}reportVideoFirstFrameDecoded(e,t,i,n){var r;const s=Array.from(hu(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(s){n||this.store.subscribe(s.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,o=r.subscribe.find((e=>e.userId===s.uid&&\"video\"===e.type));rv.firstRemoteVideoDecode(this.store.sessionId,XC.FIRST_VIDEO_DECODE,QC.FIRST_VIDEO_DECODE,{peer:s._uintid,videowidth:t,videoheight:i,subscribeElapse:cD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==o?void 0:o.subscribeEnd)||0,subscriberStart:(null==o?void 0:o.subscribeStart)||0,videoAddNotify:(null==o?void 0:o.streamAdded)||0,state:n?1:0})}}async remoteMediaSsrcChanged(e,t,i){if(!this.recvConnection)return!1;const n=this.remoteUserMap.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const s=await this.recvConnection.getRemoteSSRC(r);return void 0!==s&&s!==i}resetConnection(e){KC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel2] reset connection to \").concat(e)),this.state===EI.Connected?(KC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel2] fallback to websocket but P2PChannel2 state still connected, disconnect first\")),this.disconnectForReconnect()):(this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0))}async publishDataChannel(e){throw new Vg(xg.NOT_SUPPORTED)}async unpublishDataChannel(e){throw new Vg(xg.NOT_SUPPORTED)}async subscribeDataChannel(e,t){throw new Vg(xg.NOT_SUPPORTED)}async unsubscribeDataChannel(e,t){throw new Vg(xg.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e,t){throw new Vg(xg.NOT_SUPPORTED)}setPendingRemoteDataChannel(e,t){throw new Vg(xg.NOT_SUPPORTED)}async preConnect(e,t,i,n,r,s){throw new Vg(xg.NOT_SUPPORTED)}getEstablishParams(){throw new Vg(xg.NOT_SUPPORTED)}async reSubscribe(e){throw new Vg(xg.NOT_SUPPORTED)}async updateVideoStreamParameter(e,t){throw new Vg(xg.NOT_SUPPORTED)}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:i}]=e;t===_I.LocalVideoLowTrack?i._updateRtpTransceiver(void 0,My.LOW_STREAM):i._updateRtpTransceiver(void 0)}))}}function LM(e){return function(t,i,n){const r=t[i];if(\"function\"!=typeof r)throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];switch(e){case OM.SEND_ONLY:{const e=await this.sendMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e()}}case OM.RECEIVE_ONLY:{const e=await this.recvMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e()}}default:{const e=await this.sendMutex.lock(\"From P2PChannel2.\".concat(i)),t=await this.recvMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e(),t()}}}},n}}function kM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function MM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?kM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):kM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Mv([LM(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,String]),Uv(\"design:returntype\",tg)],PM.prototype,\"startP2P\",null),Mv([LM(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],PM.prototype,\"p2pConnect\",null),Mv([LM(OM.SEND_ONLY),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],PM.prototype,\"dopublish\",null),Mv([LM(OM.SEND_ONLY),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],PM.prototype,\"unpublish\",null),Mv([LM(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],PM.prototype,\"unpublishLowStream\",null),Mv([LM(OM.SEND_ONLY),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],PM.prototype,\"doUnpublish\",null),Mv([LM(OM.RECEIVE_ONLY),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String,String,Number]),Uv(\"design:returntype\",tg)],PM.prototype,\"subscribe\",null),Mv([LM(OM.RECEIVE_ONLY),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String,String,Boolean]),Uv(\"design:returntype\",tg)],PM.prototype,\"unsubscribe\",null),Mv([LM(OM.RECEIVE_ONLY),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String]),Uv(\"design:returntype\",tg)],PM.prototype,\"muteRemote\",null),Mv([LM(OM.RECEIVE_ONLY),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String]),Uv(\"design:returntype\",tg)],PM.prototype,\"unmuteRemote\",null),Mv([LM(OM.RECEIVE_ONLY),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String]),Uv(\"design:returntype\",tg)],PM.prototype,\"hasRemoteMediaWithLock\",null),Mv([LM(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],PM.prototype,\"disconnectForReconnect\",null),Mv([LM(OM.RECEIVE_ONLY),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String,Number]),Uv(\"design:returntype\",tg)],PM.prototype,\"remoteMediaSsrcChanged\",null);const UM=Date.now(),xM=20,VM=new Map,FM=new Map;async function BM(e){const t=VM.get(e),i=Array.isArray(t)&&t[t.length-1],n=FM.get(e);if(!i)return void(n.isSyncing=!1);const r={uid:i.uid,payload:DT(i.payload)};0===n.firstRecvTs&&(n.firstRecvTs=i.recvTs,n.firstSendTs=i.sendTs);const s=i.sendTs-n.firstSendTs,o=s-(Date.now()-n.firstRecvTs);o>0&&(n.firstRecvTs=Date.now()-s);let a=i.mediaDelay+o;a<=0?(t.pop(),jM(i.context,r),a=0):a=Math.min(a,xM),setTimeout((()=>t.length&&BM(e)),a)}function jM(e,t){e.safeEmit(dT.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function GM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(!e.syncWithAudio)return jM(i,{uid:e.uid,payload:DT(e.payload)});const n=\"\".concat(i.id,\"-\").concat(e.uid),r=VM.get(n)||[],s=r.findIndex((t=>e.sendTs>=t.sendTs)),o=MM(MM({},e),{},{context:i,mediaDelay:t,recvTs:Date.now()});-1===s?r.push(o):r.splice(s,0,o),VM.set(n,r);let a=!1;var c;FM.has(n)?a=!(null===(c=FM.get(n))||void 0===c||!c.isSyncing):FM.set(n,{isSyncing:a,firstRecvTs:0,firstSendTs:0});a||BM(n)}const WM=pg().name;function HM(){return!function(e,t,i){const n=pg();if(n.os!==ag.IOS||!n.osVersion)return!1;const r=n.osVersion.split(\".\");return i?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}(16,0,!0)&&!function(e,t,i){const n=pg();if(n.name!==cg.SAFARI||!n.osVersion)return!1;const r=n.version.split(\".\");return i?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}(16,0,!0)}function KM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function YM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?KM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):KM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}YT.setLogger(KC);class qM extends iT{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||\"audience\"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||\"opus\"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return\"Client\"}constructor(e){let t;if(super(),nu(this,\"store\",void 0),nu(this,\"_uid\",void 0),nu(this,\"_channelName\",void 0),nu(this,\"_uintUid\",void 0),nu(this,\"_users\",[]),nu(this,\"_config\",void 0),nu(this,\"_clientId\",void 0),nu(this,\"_appId\",void 0),nu(this,\"_sessionId\",null),nu(this,\"_key\",void 0),nu(this,\"_joinInfo\",void 0),nu(this,\"_gateway\",void 0),nu(this,\"_statsCollector\",void 0),nu(this,\"_configDistribute\",void 0),nu(this,\"_leaveMutex\",new YT(\"client-leave\")),nu(this,\"_publishMutex\",new YT(\"client-publish\")),nu(this,\"_renewTokenMutex\",new YT(\"client-renewtoken\")),nu(this,\"_subscribeMutex\",new YT(\"client-subscribe\")),nu(this,\"_encryptionMode\",\"none\"),nu(this,\"_encryptionSecret\",null),nu(this,\"_encryptionSalt\",null),nu(this,\"_proxyServer\",void 0),nu(this,\"_turnServer\",{servers:[],mode:\"auto\"}),nu(this,\"_cloudProxyServerMode\",\"disabled\"),nu(this,\"_isDualStreamEnabled\",!1),nu(this,\"_defaultStreamFallbackType\",void 0),nu(this,\"_lowStreamParameter\",void 0),nu(this,\"_streamFallbackTypeCacheMap\",new Map),nu(this,\"_remoteStreamTypeCacheMap\",new Map),nu(this,\"_axiosCancelSource\",EC.CancelToken.source()),nu(this,\"_audioVolumeIndicationInterval\",void 0),nu(this,\"_networkQualityInterval\",void 0),nu(this,\"_userOfflineTimeout\",void 0),nu(this,\"_streamRemovedTimeout\",void 0),nu(this,\"_injectStreamingClient\",void 0),nu(this,\"_liveTranscodeStreamingClient\",void 0),nu(this,\"_liveRawStreamingClient\",void 0),nu(this,\"_channelMediaRelayClient\",void 0),nu(this,\"_networkQualitySensitivity\",\"normal\"),nu(this,\"_p2pChannel\",void 0),nu(this,\"_useLocalAccessPoint\",!1),nu(this,\"_setLocalAPVersion\",void 0),nu(this,\"_joinAndNotLeaveYet\",!1),nu(this,\"_numberOfJoinCount\",0),nu(this,\"_remoteDefaultVideoStreamType\",void 0),nu(this,\"_inspect\",void 0),nu(this,\"_moderation\",void 0),nu(this,\"_license\",void 0),nu(this,\"_pendingPublishedUsers\",[]),nu(this,\"ntpAlignErrorCount\",0),nu(this,\"remoteInboundOffset\",0),nu(this,\"_handleLocalTrackEnable\",((e,t,i)=>{this.publish(e,!1).then(t).catch(i)})),nu(this,\"_handleLocalTrackDisable\",((e,t,i)=>{this.unpublish(e).then(t).catch(i)})),nu(this,\"_handleUserOnline\",(e=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&dv(e.uid,this.channelName))return void KC.debug(\"[\".concat(e.uid,\"] will be ignored in local\"));this.isStringUID&&\"string\"!=typeof e.uid&&KC.error(\"[\".concat(this._clientId,\"] StringUID is Mixed with UintUID\"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0;else{const t=new NP(e.uid,e.uint_id||e.uid);this._users.push(t),KC.debug(\"[\".concat(this._clientId,\"] user online\"),e.uid),this.safeEmit(dT.USER_JOINED,t)}})),nu(this,\"_handleUserOffline\",(e=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&dv(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),this._handleRemoveDataChannels(e),IT(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),KC.debug(\"[\".concat(this._clientId,\"] user offline\"),e.uid,\"reason:\",e.reason),this.safeEmit(dT.USER_LEAVED,t,e.reason))})),nu(this,\"_handleAddAudioOrVideoStream\",((e,t,i,n,r,s,o)=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&dv(t,this.channelName))return;const a=this._users.find((e=>e.uid===t));if(!a)return void KC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));KC.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(t,\", type \").concat(e)),this.store.subscribe(a.uid,e,void 0,void 0,void 0,Date.now());const c=\"audio\"===e?a.hasAudio:a.hasVideo;a._uintid||(a._uintid=r||t),\"audio\"===e?a._trust_audio_stream_added_state_=!0:a._trust_video_stream_added_state_=!0,\"audio\"===e?(a._audio_added_=!0,void 0!==i&&(a._audioSSRC=i),void 0!==n&&(a._cname=n),s&&(a._audioOrtc=s)):(a._video_added_=!0,void 0!==i&&(a._videoSSRC=i),void 0!==n&&(a._cname=n),void 0!==o&&(a._rtxSsrcId=o),s&&(a._videoOrtc=s)),(\"audio\"===e?a.hasAudio:a.hasVideo)&&!c&&(KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(a.uid,\" published \").concat(e)),this.safeEmit(dT.USER_PUBLISHED,a,e)),\"video\"===e?rv.onGatewayStream(this._sessionId,XC.ON_ADD_VIDEO_STREAM,QC.ON_ADD_VIDEO_STREAM,{peer:r||t,ssrc:a._videoSSRC}):rv.onGatewayStream(this._sessionId,XC.ON_ADD_AUDIO_STREAM,QC.ON_ADD_AUDIO_STREAM,{peer:r||t,ssrc:a._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(a,e,i).then((t=>{if(t&&(KC.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(a.uid,\" after rejoin because SSRC id changed.\")),this._p2pChannel instanceof _k))return this._p2pChannel.unsubscribe(a,e,!0).then((()=>this._subscribe(a,e,!0).catch((e=>{KC.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())}))))})),this._p2pChannel.hasPendingRemoteMedia(a,e)&&(KC.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(a.uid,\" after reconnect.\")),this._subscribe(a,e,!0).catch((e=>{KC.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())})))})),nu(this,\"_handleRemoveStream\",((e,t,i)=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&dv(e.uid,this.channelName))return;const n=this._users.find((t=>t.uid===e.uid));if(!n)return void KC.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_stream)\"));KC.debug(\"[\".concat(this._clientId,\"] stream removed with uid \").concat(e.uid));let r=()=>{};if(n.hasAudio&&n.hasVideo?r=()=>{KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(n.uid,\" unpublished audio track\")),this.safeEmit(dT.USER_UNPUBLISHED,n,\"audio\"),KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(n.uid,\" unpublished video track\")),this.safeEmit(dT.USER_UNPUBLISHED,n,\"video\")}:n.hasVideo?r=()=>{KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(n.uid,\" unpublished video track\")),this.safeEmit(dT.USER_UNPUBLISHED,n,\"video\")}:n.hasAudio&&(r=()=>{KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(n.uid,\" unpublished audio track\")),this.safeEmit(dT.USER_UNPUBLISHED,n,\"audio\")}),n._trust_audio_stream_added_state_=!0,n._trust_video_stream_added_state_=!0,n._audio_added_=!1,n._video_added_=!1,this._p2pChannel instanceof _k)this._p2pChannel.unsubscribe(n).then((e=>{if(e)return this._gateway.unsubscribe(e,n.uid)}));else if(t&&i)if(e.sdp){const{sdp:r}=e;this._p2pChannel.unsubscribe(n,r).then((e=>{e&&t(e)})).catch(i)}else t&&t();n._audioSSRC=void 0,n._videoSSRC=void 0,n._audioOrtc=void 0,n._videoOrtc=void 0,n._rtxSsrcId=void 0,rv.onGatewayStream(this._sessionId,XC.ON_REMOVE_STREAM,QC.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),r()})),nu(this,\"_handleSetStreamLocalEnable\",((e,t,i)=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&dv(t,this.channelName))return;const n=this._users.find((e=>e.uid===t));if(!n)return void KC.error(\"[\".concat(this._clientId,\"] can not find target user!(disable_local)\"));KC.debug(\"[\".concat(this._clientId,\"] local \").concat(e,\" \").concat(i?\"enabled\":\"disabled\",\" with uid \").concat(t));const r=\"audio\"===e?n.hasAudio:n.hasVideo;if(\"audio\"===e){n._trust_audio_enabled_state_=!0;const e=n._audio_enabled_;if(n._audio_enabled_=i,n._audio_enabled_===e)return;{const e=n._audio_enabled_?\"enable-local-audio\":\"disable-local-audio\";KC.debug(\"[\".concat(this._clientId,\"] user-info-updated, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(dT.USER_INFO_UPDATED,t,e)}}else{n._trust_video_enabled_state_=!0;const e=n._video_enabled_;if(n._video_enabled_=i,n._video_enabled_===e)return;{const e=n._video_enabled_?\"enable-local-video\":\"disable-local-video\";KC.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(dT.USER_INFO_UPDATED,t,e)}}const s=\"audio\"===e?n.hasAudio:n.hasVideo;return r!==s?!r&&s?(KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" published \").concat(e)),void this.safeEmit(dT.USER_PUBLISHED,n,e)):(\"video\"===e&&n._videoTrack&&n._videoTrack._destroy(),\"audio\"===e&&n._audioTrack,this._p2pChannel.muteRemote(n,e),KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" unpublished \").concat(e)),void this.safeEmit(dT.USER_UNPUBLISHED,n,e)):void 0})),nu(this,\"_handleMuteStream\",((e,t,i,n,r,s)=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&dv(e,this.channelName))return;KC.debug(\"[\".concat(this._clientId,\"] receive mute message\"),e,t,i);const o=this._users.find((t=>t.uid===e));if(!o)return void KC.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(e));const a=\"audio\"===t?o.hasAudio:o.hasVideo;if(\"audio\"===t){o._trust_audio_mute_state_=!0;const t=o._audio_muted_;if(o._audio_muted_=i,o._audio_muted_===t)return;{const t=o._audio_muted_?\"mute-audio\":\"unmute-audio\";KC.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(dT.USER_INFO_UPDATED,e,t)}}else{o._trust_video_mute_state_=!0;const t=o._video_muted_;if(o._video_muted_=i,o._video_muted_===t)return;{const t=o._video_muted_?\"mute-video\":\"unmute-video\";KC.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(dT.USER_INFO_UPDATED,e,t)}}const c=\"audio\"===t?o.hasAudio:o.hasVideo;if(a!==c){if(!a&&c){if(!this.store.useP2P){if(!(\"audio\"===t?o._audioSSRC:o._videoSSRC))return void KC.warning(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" receive \").concat(t,\" unmute message  before add stream message, \").concat(t,\" SSRC doesn't exist yet.\"))}return KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" published \").concat(t)),void this.safeEmit(dT.USER_PUBLISHED,o,t)}\"video\"===t&&o._videoTrack&&o._videoTrack._destroy(),\"audio\"===t&&o._audioTrack,r&&s&&this._p2pChannel instanceof PM&&(n?this._p2pChannel.unsubscribe(o,n,t).then((e=>{r(e)})).catch(s):r()),this._p2pChannel.muteRemote(o,t),KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" unpublished \").concat(t)),this.safeEmit(dT.USER_UNPUBLISHED,o,t)}})),nu(this,\"_handleP2PLost\",(async e=>{KC.debug(\"[\".concat(this._clientId,\"] receive p2p lost\"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():KC.warning(\"[\".concat(this._clientId,\"] P2PLost stream not found\"),e)})),nu(this,\"_handleTokenWillExpire\",(()=>{KC.debug(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeWillExpire\")),this.safeEmit(dT.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),nu(this,\"_handleBeforeUnload\",(e=>{\"beforeunload\"===e.type&&void 0!==e.returnValue&&\"\"!==e.returnValue||(this.leave(),KC.info(\"[\".concat(this._clientId,\"] auto leave onbeforeunload or pagehide\")))})),nu(this,\"_handleUpdateNetworkQuality\",(()=>{if(\"normal\"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(dT.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(dT.NETWORK_QUALITY,e)})),nu(this,\"_handleP2PAddAudioOrVideoStream\",((e,t)=>{const i=this._users.find((e=>e.uid===t));if(!i)return void KC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));KC.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(t,\", type \").concat(e)),this.store.subscribe(i.uid,e,void 0,void 0,void 0,Date.now());const n=\"audio\"===e?i.hasAudio:i.hasVideo;\"audio\"===e?i._trust_audio_stream_added_state_=!0:i._trust_video_stream_added_state_=!0,\"audio\"===e?i._audio_added_=!0:i._video_added_=!0,(\"audio\"===e?i.hasAudio:i.hasVideo)&&!n&&(KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" published \").concat(e)),this.safeEmit(dT.USER_PUBLISHED,i,e)),this._p2pChannel.hasPendingRemoteMedia(i,e)&&(KC.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(i.uid,\" after reconnect.\")),this._subscribe(i,e,!0).catch((e=>{KC.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())})))})),this._config=e,this._clientId=xT(5,\"client-\"),this.store=new wC(e.codec,e.audioCodec,e.mode,this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),KC.info(\"[\".concat(this._clientId,\"] Initializing AgoraRTC client v\").concat(OC,\" build: \").concat(DC,\", mode: \").concat(this.mode,\", codec: \").concat(this.codec)),e.clientRoleOptions)try{mT(e.clientRoleOptions),t=Object.assign({},e.clientRoleOptions)}catch(e){KC.warning(\"[\".concat(this._clientId,\"] \").concat(e.toString()))}this._statsCollector=new hD(this.store),this._statsCollector.onStatsException=(e,t,i)=>{KC.debug(\"[\".concat(this._clientId,\"] receive exception msg, code: \").concat(e,\", msg: \").concat(t,\", uid: \").concat(i)),this.safeEmit(dT.EXCEPTION,{code:e,msg:t,uid:i})},this._statsCollector.onUploadPublishDuration=(e,t,i,n)=>{const r=this._users.find((t=>t.uid===e));r&&rv.peerPublishStatus(this._sessionId,{subscribeElapse:n,audioPublishDuration:t,videoPublishDuration:i,peer:r._uintid})},this.store.useDataChannel=_A().supportDataChannel&&kC(\"SIGNAL_CHANNEL\"),this.store.useP2P=kC(\"P2P\"),this._gateway=new MD(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||JT,httpRetryConfig:e.httpRetryConfig||JT,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:t}),this._configDistribute=new TP,this.store.useP2P?(this._p2pChannel=new PM(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new _k(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e,t,i,n,r){let s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];LC(\"JOIN_GATEWAY_USE_443PORT_ONLY\",s),LC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\",o);const a=this._gateway.signal.websocket;return a instanceof zI&&(a.use443PortOnly=s,a.tryDoubleDomain=o),async function(e,t,i){rg.get(e)||rg.set(e,[]),sg.get(e)||sg.set(e,t),og.get(e)||og.set(e,0);const n=rg.get(e),r=sg.get(e);if(!n||!r)throw new Error(\"concurrent: deferQueue or maxConcurrency is null\");if(og.get(e)===r){const e=ng();n.push(e),await e.promise}og.set(e,og.get(e)+1);for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];const c=await i(...o);return og.set(e,og.get(e)-1),og.get(e)===r-1&&n.length>0&&(n[0].resolve(),n.shift()),0===og.get(e)&&(rg.set(e,[]),sg.set(e,0),og.set(e,0)),c}(\"client.join\",kC(\"JOIN_MAX_CONCURRENCY\"),this.join.bind(this),e,t,i,n,r)}async join(e,t,i,n,r){const s=++this._numberOfJoinCount;this.store.joinStart(),n&&(this.store.uid=n);const o=vC(),a=IC()?window.isSecureContext:\"Browser Not Support\";if(!IC()&&!o||!window.isSecureContext){const e=\"The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser\";KC.warning(e)}const c=VT();\"DISCONNECTED\"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),KC.debug(\"[\".concat(this._clientId,\"] set avoidJoinStart to \").concat(this.store.avoidJoinStart)));const d=rv.reportApiInvoke(c,{name:sT.JOIN,options:[e,t,i,n],states:{isHttps:o,isSecureContext:a},tag:oT.TRACER});rv.setAppId(e);try{if(!i&&null!==i)throw new xv(xg.INVALID_PARAMS,\"Invalid token: \".concat(i,\". If you don not use token, set it to null\"));i&&Wg(i,\"token\",1,2047),Wg(e,\"appid\",1,2047),Vv(t),n&&Fv(n),r&&Wg(r,\"optionalInfo\",1,2047)}catch(e){throw d.onError(e),e}if(KC.info(\"[\".concat(this._clientId,\"] start join channel \").concat(t,\", join number: \").concat(s)),this._leaveMutex.isLocked){KC.debug(\"[\".concat(this._clientId,\"] join: waiting leave operation\"));(await this._leaveMutex.lock())(),KC.debug(\"[\".concat(this._clientId,\"] join: continue\"))}if(this._joinAndNotLeaveYet=!0,\"DISCONNECTED\"!==this.connectionState){const e=new xv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already in connecting/connected state\"));throw d.onError(e),e}this._sessionId||(this._sessionId=c,this.store.sessionId=this._sessionId),this._gateway.state=\"CONNECTING\";const l=YM({clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:\"string\"!=typeof n?n:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:i||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:r,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(l.setLocalAPVersion=this._setLocalAPVersion),\"string\"==typeof n&&(l.stringUid=n,this._uintUid?(l.uid=this._uintUid,this._uintUid=void 0):l.uid=0),\"none\"!==this._encryptionMode&&this._encryptionSecret){if(l.aesmode=this._encryptionMode,l.aespassword=await eT(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new xv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this._encryptionSalt&&(l.aessalt=this._encryptionSalt)}this._startSession(this._sessionId,{channel:t,appId:e});const h=this._sessionId;setTimeout((()=>{\"CONNECTING\"===this.connectionState&&h===this._sessionId&&rv.joinChannelTimeout(this._sessionId,5)}),5e3);try{var u;let n;const r=l.cloudProxyServer;if(Pr(u=[\"proxy3\",\"proxy4\",\"proxy5\"]).call(u,r)){const e=kC(\"PROXY_SERVER_TYPE3\");Array.isArray(e)?l.proxyServer=e[0]:l.proxyServer=e}if(rv.setProxyServer(l.proxyServer),KC.setProxyServer(l.proxyServer),this.store.requestAPStart(),l.stringUid&&!l.uid){const e=await hP(l.stringUid,l,this._axiosCancelSource.token,this._config.httpRetryConfig||JT,this.store);KC.debug(\"[\".concat(this._clientId,\"] getUserAccount Success \").concat(l.stringUid,\" => \").concat(e)),l.uid=e,n=await lP(l,this._axiosCancelSource.token,this._config.httpRetryConfig||JT,!0,this.store)}else n=await lP(l,this._axiosCancelSource.token,this._config.httpRetryConfig||JT,!0,this.store);if(!this._joinAndNotLeaveYet)throw new xv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this.store.requestAPEnd(),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(l,this._axiosCancelSource.token),this._configDistribute.on(dI.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=i||e;const s=n.gatewayInfo;this._joinInfo=YM(YM({},l),{},{cid:s.cid,uid:l.uid?l.uid:s.uid,vid:s.vid,apResponse:s.res,uni_lbs_ip:s.uni_lbs_ip,gatewayAddrs:s.gatewayAddrs});const o=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new xv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));d.onSuccess(o),this._appId=e,this._channelName=l.cname,this._uid=o,this.store.uid=o,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(Sg()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload)}),0);const a=l.stringUid?\"string uid: \".concat(l.stringUid,\",uid: \").concat(l.uid):\"uid: \".concat(this._uid);return KC.info(\"[\".concat(this._clientId,\"] Joining channel success: channel: \").concat(t,\",\").concat(a)),setTimeout((()=>{KC.startUpload()}),5e3),this.store.joinEnd(),p=this,Pr(cv).call(cv,p)||cv.push(p),o}catch(e){const t=Array.isArray(e)?e[0]:e;throw t&&t.code===xg.OPERATION_ABORTED?KC.warning(\"[\".concat(this._clientId,\"] join number: \").concat(s,\", Joining channel failed, rollback\"),t):KC.error(\"[\".concat(this._clientId,\"] join number: \").concat(s,\", Joining channel failed, rollback\"),t),t.code!==xg.OPERATION_ABORTED&&this._numberOfJoinCount===s&&(this._gateway.state=\"DISCONNECTED\",this._reset()),d.onError(t),t}var p}_joinGateway(){if(!this._joinInfo||!this._key)throw new xv(xg.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(\"disabled\"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!kC(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\"))).then((e=>e)).catch((e=>{if(e.code===xg.INIT_WEBSOCKET_TIMEOUT)return this._gateway.leave(!0,cT.FALLBACK),e;if(e.code===xg.INIT_DATACHANNEL_TIMEOUT)return this._gateway.leave(!0,cT.FALLBACK),e;throw e})).then((e=>{if(e instanceof xv){if(e.code===xg.INIT_WEBSOCKET_TIMEOUT){if(KC.info(\"[\".concat(this._clientId,\"] join timeout, fallback to proxy\")),!this._joinInfo||!this._key)throw new xv(xg.INVALID_OPERATION);this._joinInfo.cloudProxyServer=\"fallback\",this._cloudProxyServerMode=\"fallback\",this.store.cloudProxyServerMode=\"fallback\";const e=kC(\"PROXY_SERVER_TYPE3\");if(Array.isArray(e))if(this._joinInfo.apUrl){const t=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(this._joinInfo.apUrl)[1].split(\".\"),i=t.slice(t.length-2).join(\".\");e.forEach((e=>{this._joinInfo&&Pr(e).call(e,i)&&(this._joinInfo.proxyServer=e)})),this._joinInfo.proxyServer||(this._joinInfo.proxyServer=e[0])}else this._joinInfo.proxyServer=e[0];else this._joinInfo.proxyServer=e;const t=kC(\"LOG_UPLOAD_SERVER\").match(/.+:(\\d{1,5})$/);t&&t[1]&&\"443\"!==t[1]&&KC.setProxyServer(this._joinInfo.proxyServer),\"443\"!==kC(\"STATS_COLLECTOR_PORT\").toString()&&rv.setProxyServer(this._joinInfo.proxyServer);return rv.reportApiInvoke(this._sessionId,{name:sT.JOIN_FALLBACK_TO_PROXY,options:[this._joinInfo.proxyServer],tag:oT.TRACER}).onSuccess(),this.safeEmit(dT.JOIN_FALLBACK_TO_PROXY,this._joinInfo.proxyServer),kC(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&this._joinInfo.turnServer.servers.forEach((e=>{\"forceturn\"in e&&(e.forceturn=!0)})),this._gateway.join(this._joinInfo,this._key)}if(KC.info(\"[\".concat(this._clientId,\"] join by datachannel timeout, fallback to websocket\")),!this._joinInfo||!this._key)throw new xv(xg.INVALID_OPERATION);return rv.reportApiInvoke(this._sessionId,{name:sT.DATACHANNEL_FAILBACK,options:[this.store.clientId],tag:oT.TRACER}).onSuccess(),this._joinGateway()}return e})).then((e=>e))}async leave(){KC.info(\"[\".concat(this._clientId,\"] Leaving channel\")),window.removeEventListener(Sg()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._reset(),function(e){const t=cv.indexOf(e);-1!==t&&cv.splice(t,1)}(this);const e=await this._leaveMutex.lock();if(\"DISCONNECTED\"===this.connectionState)return KC.info(\"[\".concat(this._clientId,\"] Leaving channel repeated, success\")),void e();await this._gateway.leave(\"CONNECTED\"!==this.connectionState),KC.info(\"[\".concat(this._clientId,\"] Leaving channel success\")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(e)){if(!(e instanceof iA))return this._publishDataChannel(e);e=[e]}if(0===e.length)throw new xv(xg.INVALID_PARAMS,\"param list is empty\");const i=e;if(\"audience\"===this._gateway.role)throw new xv(xg.INVALID_OPERATION,\"audience can not publish stream\");for(const e of i){if(!(e instanceof iA))throw new xv(xg.INVALID_PARAMS,\"parameter is not local track\");if(!e._enabled&&t)throw new xv(xg.TRACK_IS_DISABLED,\"can not publish a disabled track: \".concat(e.getTrackId()))}KC.info(\"[\".concat(this._clientId,\"] Publishing tracks, id \").concat(i.map((e=>\"\".concat(e.getTrackId(),\" \")))));const n=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&i.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof Sb&&t&&e.setBitrateLimit(t.uplink)}));try{await this._publishHighStream(i),KC.info(\"[\".concat(this._clientId,\"] Publish success, id \").concat(i.map((e=>\"\".concat(e.getTrackId(),\" \")))))}catch(e){throw KC.error(\"[\".concat(this._clientId,\"] publish error\"),e.toString()),e}finally{n()}}async _publishDataChannel(e){jg(e.id,\"id\",0,65535,!0),Fg(e.ordered,\"ordered\"),Wg(e.metadata,\"metadata\",0,512),KC.info(\"[\".concat(this._clientId,\"] Publishing datachannels, id \").concat(e.id));const t=await this._publishMutex.lock();try{if(-1!==this._p2pChannel.getAllDataChannels().findIndex((t=>t.id===e.id)))throw new xv(xg.INVALID_PARAMS,\"Invalid id: \".concat(e.id,\". If you want to republish the datachannel, unpublish first\"));if(!this._joinInfo||void 0===this._uid)throw new xv(xg.INVALID_OPERATION,\"Can't publish datachannel, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"can not publish datachannel in \".concat(this.connectionState,\" state\"));if(\"auto\"===this._turnServer.mode&&kC(\"FORCE_TURN\")&&!kC(\"TURN_ENABLE_TCP\")&&!kC(\"TURN_ENABLE_UDP\"))throw new xv(xg.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");const i=new sD(e);await this._p2pChannel.publishDataChannel([i]);try{const t={streamId:e.id,ordered:e.ordered,maxRetransmits:kC(\"DATASTREAM_MAX_RETRANSMITS\"),metadata:e.metadata,channelId:i._originDataChannelId};await this._gateway.publishDataChannel(this._uid,t,!0)}catch(e){if(e.code!==xg.DISCONNECT_P2P)throw e}return await i._waitTillOpen(),KC.info(\"[\".concat(this._clientId,\"] Publish dataChannels success, id \").concat(i.id)),i}catch(e){throw KC.error(\"[\".concat(this._clientId,\"] publish datachannels error\"),e.toString()),e}finally{t()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new xv(xg.INVALID_OPERATION,\"Can't unpublish stream, haven't joined yet!\");let t=[];if(e)if(Array.isArray(e))t=e;else{if(!(e instanceof iA))return this._unpublishDataChannel([e]);t=[e]}else this.store.useP2P||await this._unpublishDataChannel(),t=this._p2pChannel.getAllTracks(!0);KC.info(\"[\".concat(this._clientId,\"] Unpublish tracks, tracks \").concat(t.map((e=>\"\".concat(e.getTrackId(),\" \"))),\" \"));const i=await this._publishMutex.lock();try{if(this._p2pChannel instanceof PM){const e=await this._p2pChannel.unpublish(t);if(e){const t=await this._gateway.sendExtensionMessage(wI.UNPUBLISH,e);t&&await this._p2pChannel.setDescription(\"local\",t)}}else{const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.unpublish(e,this._uid),KC.info(\"[\".concat(this._clientId,\"] Unpublish success,tracks \").concat(t.map((e=>\"\".concat(e.getTrackId())))))}}catch(e){throw KC.error(\"[\".concat(this._clientId,\"] unpublish error\"),e.toString()),e}finally{i&&i()}}async _unpublishDataChannel(e){void 0!==e&&0!==e.length||(e=this._p2pChannel.getAllDataChannels()),KC.info(\"[\".concat(this._clientId,\"] Unpublish datachannels, datachannels \").concat(e.map((e=>\"\".concat(e.id,\" \"))),\" \"));const t=await this._publishMutex.lock();try{const i=await this._p2pChannel.unpublishDataChannel(e);i&&await this._gateway.unpublishDataChannel(i),KC.info(\"[\".concat(this._clientId,\"] Unpublish dataChannel success,dataChannel \").concat(e.map((e=>\"\".concat(e.id)))))}catch(e){throw KC.error(\"[\".concat(this._clientId,\"] unpublish dataChannel error\"),e.toString()),e}finally{t&&t()}}async subscribe(e,t,i){return\"datachannel\"===t?this._subscribeDataChannel(e,i):this._subscribe(e,t)}async _subscribeDataChannel(e,t){var i;if(jg(t,\"channelId\",0,65535,!0),!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"Can't subscribe datachannel, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"Can't subscribe datachannel in \".concat(this.connectionState,\" state\"));if(!this._users.find((t=>t===e)))throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),new xv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");if(!e.hasAudio&&!e.hasVideo&&0===e._dataChannels.length)throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),new xv(xg.INVALID_REMOTE_USER,\"user is not published\");const n=null===(i=e._dataChannels)||void 0===i?void 0:i.find((e=>e.id===t));if(!n)throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType datachannel, remote datachannel is not published\")),new xv(xg.REMOTE_USER_IS_NOT_PUBLISHED);const r=await this._subscribeMutex.lock();KC.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: datachannel\"));try{const t=await this._p2pChannel.subscribeDataChannel(e,[n]);if(t&&Pr(t).call(t,n.id))try{var s;if(!n._originDataChannelId)throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType datachannel, cannot get RTCDatachannel\")),new xv(xg.REMOTE_USER_IS_NOT_PUBLISHED);const t={id:n.id,datachannelId:n._originDataChannelId,ordered:n.ordered,maxRetransmits:n.maxRetransmits,metadata:null!==(s=n.metadata)&&void 0!==s?s:\"\"};await this._gateway.subscribeDataChannel(e.uid,t,!0)}catch(t){if((null==t?void 0:t.code)!==xg.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e,[n]),t;await this._p2pChannel.unsubscribeDataChannel(e,[n]),this._p2pChannel.setPendingRemoteDataChannel(e,n.id)}return await n._waitTillOpen(),KC.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: datachannel\")),n}finally{r()}}async _p2pSubscribe(e,t,i){if(Bg(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));if(!this._users.find((t=>t===e))){const t=new xv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),t}if(!e.hasAudio&&!e.hasVideo){const t=new xv(xg.INVALID_REMOTE_USER,\"user is not published\");throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),t}if(!i&&(\"audio\"===t&&!e.hasAudio||\"video\"===t&&!e.hasVideo)){const i=new xv(xg.REMOTE_USER_IS_NOT_PUBLISHED);throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType \").concat(t,\", remote track is not published\")),i}const n=await this._subscribeMutex.lock();KC.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: \").concat(t));const r=\"audio\"===t?_I.LocalAudioTrack:this._joinInfo.defaultVideoStream===Uy.LOW_STREAM?_I.LocalVideoLowTrack:_I.LocalVideoTrack;try{await this._p2pChannel.hasRemoteMediaWithLock(e,t)?await this._p2pChannel.unmuteRemote(e,t):(this.store.subscribe(e.uid,t,Date.now()),this._p2pChannel instanceof PM&&await this._gateway.sendExtensionMessage(wI.SUBSCRIBE,{trackType:r})),KC.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: \").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{KC.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),e)}));const i=\"audio\"===t?e._audioTrack:e._videoTrack;if(!i)throw new xv(xg.UNEXPECTED_ERROR,\"can not find remote track in user object\");return i}catch(t){throw KC.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\" error\"),t),t}finally{n()}}async _subscribe(e,t,i){if(this._p2pChannel instanceof PM)return this._p2pSubscribe(e,t);if(Bg(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));if(!this._users.find((t=>t===e))){const t=new xv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),t}if(!e.hasAudio&&!e.hasVideo){const t=new xv(xg.INVALID_REMOTE_USER,\"user is not published\");throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),t}if(!(i||(\"audio\"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&(\"video\"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const i=new xv(xg.REMOTE_USER_IS_NOT_PUBLISHED);throw KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType \").concat(t,\", remote track is not published\")),i}let n=\"audio\"===t?e._audioSSRC:e._videoSSRC,r=\"audio\"===t?e._audioOrtc:e._videoOrtc,s=\"video\"===t?e._rtxSsrcId:void 0,o={stream_type:\"audio\"===t?hI.AUDIO:hI.VIDEO,ssrcId:n};const a=await this._subscribeMutex.lock();KC.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: \").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const i=\"audio\"===t?e._audioSSRC:e._videoSSRC;void 0!==i&&i!==n&&(n=i,r=\"audio\"===t?e._audioOrtc:e._videoOrtc,s=\"video\"===t?e._rtxSsrcId:void 0,o={stream_type:\"audio\"===t?hI.AUDIO:hI.VIDEO,ssrcId:n}),cD.markSubscribeStart(this.store.clientId,n),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,n,s,r);try{await this._gateway.subscribe(e.uid,o,!0)}catch(i){if((null==i?void 0:i.code)!==xg.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),i;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(i){throw this._p2pChannel.reportSubscribeEvent(!1,null==i?void 0:i.code,e,t),i}KC.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: \").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{KC.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),e)}));const i=\"audio\"===t?e._audioTrack:e._videoTrack;if(!i)throw new xv(xg.UNEXPECTED_ERROR,\"can not find remote track in user object\");return i}catch(t){throw KC.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\" error\"),t),t}finally{a()}}async massSubscribe(e){if(Hg(e,\"subscribeList\"),!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));const t=Date.now(),i=new Map,n=await this._subscribeMutex.lock();KC.info(\"[\".concat(this._clientId,\"]start massSubscribe user \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)})).join(\"; \")));const r=(e=[...e]).map((e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i}})),s=await this._p2pChannel.globalLock();try{var o;for(let t=e.length-1;t>=0;t--){const n=e[t],{user:s,mediaType:o}=n;if(Bg(o,\"mediaType\",[\"audio\",\"video\"]),!s){const e=new xv(xg.INVALID_PARAMS,\"user property does not exist in subscribeList item\");throw KC.error(\"[\".concat(this._clientId,\"] user property does not exist in subscribeList item\")),e}if(!this._users.find((e=>e===s))){const i=new xv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");KC.error(\"[\".concat(this._clientId,\"] can not massSubscribe \").concat(s.uid,\", this user is not in the channel\")),r[t].error=i,e.splice(t,1);continue}if(\"audio\"===o&&(!s.hasAudio||void 0===s._audioSSRC)||\"video\"===o&&(!s.hasVideo||void 0===s._videoSSRC)){const i=new xv(xg.REMOTE_USER_IS_NOT_PUBLISHED);KC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(s.uid,\" with mediaType \").concat(o,\", remote user is not published\")),r[t].error=i,e.splice(t,1);continue}const a=iI.Video|iI.LwoVideo,c=i.get(s);if(c){if(\"video\"===o?c&a:c&iI.Audio){e.splice(t,1),KC.warning(\"[\".concat(this._clientId,\"] repeat massSubscribe user:\").concat(s.uid,\", mediaType:\").concat(o,\" twice\"));continue}i.set(s,c|(\"video\"===o?a:iI.Audio))}else i.set(s,\"video\"===o?a:iI.Audio)}for(let t=e.length-1;t>=0;t--){const n=e[t],{user:r,mediaType:s}=n,o=iI.Video|iI.LwoVideo;if(this._p2pChannel.hasRemoteMedia(r,s)){await this._p2pChannel.unmuteRemoteNoLock(r,s);const n=i.get(r);i.set(r,\"video\"===s?n^o:n^iI.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),t);const a=cS(o=Array.from(i.entries())).call(o,((e,t)=>{let[i,n]=t;if(0===n)return e;const r={stream_id:i.uid,stream_type:n};return n&iI.Audio&&(r.audio_ssrc=i._audioSSRC),n&iI.Video&&(r.video_ssrc=i._videoSSRC),e.push(r),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i,ssrcId:i===hI.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:i===hI.VIDEO?t._rtxSsrcId:void 0}})));const i=new Map;if(a.length>0){const e=await this._gateway.subscribeAll(a,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:n,audio_error_code:r,error_code:s}=e;(n||r||s)&&i.set(t,{video_error_code:n,audio_error_code:r,error_code:s})}))}if(Array.from(i.entries()).length>0){const e=Array.from(i.entries()).map((e=>{let t,[i,n]=e;n.error_code||n.video_error_code&&n.audio_error_code?t=void 0:n.video_error_code?t=hI.VIDEO:n.audio_error_code&&(t=hI.AUDIO);return{user:this.remoteUsers.find((e=>e.uid===i)),mediaType:t}}));await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of r){const t=i.get(e.user.uid);if(t){const i=t.error_code||\"audio\"===e.mediaType&&t.audio_error_code||\"video\"===e.mediaType&&t.video_error_code;if(i){const t=UI(i);KC.error(\"user:\".concat(e.user.uid,\" mediaType:\").concat(e.mediaType,\" has massSubscribe error \").concat(t.desc)),e.error=new xv(xg.SUBSCRIBE_FAILED,\"code \".concat(i,\": \").concat(t.desc))}}e.error||(\"video\"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(r.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),r.forEach((e=>{var i;rv.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(i=e.error)||void 0===i?void 0:i.code)||null,video:e.mediaType===hI.VIDEO,audio:e.mediaType===hI.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===hI.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t)},!0)})),KC.info(\"[\".concat(this._clientId,\"] massSubscribe success \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)})).join(\"; \"))),r}catch(t){throw await this._p2pChannel.massUnsubscribeNoLock(e),t}}finally{s(),n()}}async unsubscribe(e,t,i){if(t||this.store.useP2P){if(\"datachannel\"===t)return this._unsubscribeDataChannel(e,i)}else await this._unsubscribeDataChannel(e,i);if(t&&Bg(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"Can't unsubscribe stream, haven't joined yet!\");if(!this._users.find((t=>t===e))){const t=new xv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");throw KC.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\", user is not in the channel\")),t}KC.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(e.uid,\", mediaType: \").concat(t));const n=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof PM)await this._gateway.sendExtensionMessage(wI.UNSUBSCRIBE,{mediaType:t});else{const i=await this._p2pChannel.unsubscribe(e,t);i&&await this._gateway.unsubscribe(i,e.uid),KC.info(\"[\".concat(this._clientId,\"] unsubscribe success uid: \").concat(e.uid,\", mediaType: \").concat(t))}}catch(t){if(t.code===xg.DISCONNECT_P2P)return void KC.warning(\"disconnecting p2p, abort unsubscribe request.\");throw KC.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(e.uid,\" error\"),t.toString()),t}finally{n()}}async _unsubscribeDataChannel(e,t){if(t&&jg(t,\"id\",0,65535,!0),!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"Can't unsubscribe datachannel, haven't joined yet!\");if(!this._users.find((t=>t===e))){const t=new xv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");throw KC.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\", user is not in the channel\")),t}let i;if(\"number\"==typeof t){const n=e._dataChannels.find((e=>e.id===t));n&&(i=[n])}else i=e._dataChannels;if(void 0===i){const i=new xv(xg.REMOTE_USER_IS_NOT_PUBLISHED);throw KC.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\" with channelId \").concat(t,\", remote datachannel is not published\")),i}KC.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(e.uid,\", mediaType: datachannel, ids: \").concat(i.map((e=>e.id))));try{const t=await this._p2pChannel.unsubscribeDataChannel(e,i);t&&await this._gateway.unsubscribeDataChannel(t,e.uid),KC.info(\"[\".concat(this._clientId,\"] unsubscribe datachannel success uid: \").concat(e.uid,\", mediaType: datachannel, ids: \").concat(t))}catch(t){if(t.code===xg.DISCONNECT_P2P)return void KC.warning(\"disconnecting p2p, abort unsubscribe request.\");throw KC.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(e.uid,\" error\"),t.toString()),t}}async massUnsubscribe(e){if(Hg(e,\"unsubscribeList\"),!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"Can't unsubscribeAll stream, haven't joined yet!\");KC.info(\"[\".concat(this._clientId,\"] start massUnsubscribe \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")})).join())),e=[...e];const t=new Map;for(let i=e.length-1;i>=0;i--){const{user:n,mediaType:r}=e[i];if(!n){const e=new xv(xg.INVALID_PARAMS,\"user property does not exist in unsubscribeList item\");throw KC.error(\"[\".concat(this._clientId,\"] user property does not exist in unsubscribeList item\")),e}Bg(r,\"mediaType\",[\"video\",\"audio\",void 0]);if(!this._users.find((e=>e===n))){KC.warning(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(n.uid,\", user is not in the channel\")),e.splice(i,1);continue}const s=iI.Video|iI.LwoVideo;if(t.has(n)){const o=t.get(n);let a;switch(r){case\"video\":a=o&s;break;case\"audio\":a=o&iI.Audio;break;default:a=o&(iI.Audio|s)}if(a){KC.warning(\"[\".concat(this._clientId,\"] repeat massUnsubscribe user:\").concat(n.uid,\",mediaType:\").concat(r,\" twice.\")),e.splice(i,1);continue}r?\"audio\"===r?t.set(n,o|iI.Audio):\"video\"===r&&t.set(n,o|s):t.set(n,o|iI.Audio|s)}else r?\"audio\"===r?t.set(n,iI.Audio):\"video\"===r&&t.set(n,s):t.set(n,iI.Audio|s)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),KC.info(\"[\".concat(this._clientId,\"] massUnsubscribe success \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")})).join()))}catch(e){if(e.code===xg.DISCONNECT_P2P)return void KC.warning(\"[\".concat(this._clientId,\"] disconnecting p2p, abort unsubscribe request.\"));throw KC.error(\"[\".concat(this._clientId,\"] massUnsubscribe error\"),e.toString()),e}}async setLowStreamParameter(e){!function(e){if(!e)throw new Vg(xg.INVALID_PARAMS);Kg(e.width)||Gg(e.width,\"streamParameter.width\"),Kg(e.height)||Gg(e.height,\"streamParameter.height\"),Kg(e.framerate)||Gg(e.framerate,\"streamParameter.framerate\"),Kg(e.bitrate)||jg(e.bitrate,\"streamParameter.bitrate\")}(e),(!e.width&&e.height||e.width&&!e.height)&&KC.warning(\"[\".concat(this._clientId,\"] The width and height parameters take effect only when both are set\")),KC.info(\"[\".concat(this._clientId,\"] set low stream parameter to\"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();if(t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e,_I.LocalVideoLowTrack)}async enableDualStream(){if(!_A().supportDualStream)throw rv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new xv(xg.NOT_SUPPORTED,\"Your browser is not support dual stream\");if(this._isDualStreamEnabled)throw new xv(xg.INVALID_OPERATION,\"Dual stream is already enabled\");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw rv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,rv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),KC.info(\"[\".concat(this._clientId,\"] enable dual stream\"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this._p2pChannel.getLocalMedia(_I.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw rv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,rv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),KC.info(\"[\".concat(this._clientId,\"] disable dual stream\"))}}async setClientRole(e,t){if(function(e){Bg(e,\"role\",[\"audience\",\"host\"])}(e),t&&mT(t),\"rtc\"===this.mode)throw KC.warning(\"[\".concat(this._clientId,\"]rtc mode can not use setClientRole\")),new xv(xg.INVALID_OPERATION,\"rtc mode can not use setClientRole\");if(t&&t.level&&\"host\"===e)throw new xv(xg.INVALID_OPERATION,\"host mode can not set audience latency level\");if(\"audience\"===e&&this._p2pChannel.hasLocalMedia())throw new xv(xg.INVALID_OPERATION,\"can not set client role to audience when publishing stream\");await this._gateway.setClientRole(e,t),this._config.role=e,KC.info(\"[\".concat(this._clientId,\"] set client role to \").concat(e,\", level: \").concat(t&&t.level))}getRemoteInboundOffset(){var e;const t=null===(e=this._p2pChannel.getStats())||void 0===e?void 0:e.audioSend[0];if(!t||!t.timestamp)return 0;const i=t.timestamp-Date.now();return Math.abs(i)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?i:0}getNtpWallTimeInMs(){return\"visible\"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e,t){if(Wg(e,\"proxyServer\"),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"Set proxy server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new xv(xg.INVALID_OPERATION,\"You have already set the proxy\")}this._proxyServer=e,rv.setProxyServer(this._proxyServer),KC.setProxyServer(this._proxyServer),KC.info(\"[\".concat(this._clientId,\"] Set proxy server \").concat(t?\"by initialize call\":\"\",\" success.\"))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"Set turn server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new xv(xg.INVALID_OPERATION,\"You have already set the proxy\")}if(_T(e))return this._turnServer={servers:e,mode:\"original-manual\"},void KC.info(\"[\".concat(this._clientId,\"] Set original turnserver \").concat(t?\"by initialize call\":\"\",\" success: \").concat(e.map((e=>e.urls)).join(\",\"),\".\"));e.forEach((e=>ET(e))),this._turnServer={servers:e,mode:\"manual\"},KC.info(\"[\".concat(this._clientId,\"] Set turnserver \").concat(t?\"by initialize call\":\"\",\" success.\"))}setLicense(e){if(\"DISCONNECTED\"!==this.connectionState){throw new xv(xg.INVALID_OPERATION,\"you should set license before join channel\")}if(Wg(e,\"license\",32,32),!/^[A-Za-z\\d]+$/.test(e))throw new xv(xg.INVALID_PARAMS,\"license should only contains characters from A-Z a-z 0-9\");this._license=e,KC.info(\"[\".concat(this._clientId,\"] set license success\"),e)}startProxyServer(e){if(\"DISCONNECTED\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"Start proxy server before join channel\");if(this._proxyServer||\"manual\"===this._turnServer.mode||this._useLocalAccessPoint)throw new xv(xg.INVALID_OPERATION,\"You have already set the proxy\");const t=[3,4,5];let i;switch(void 0===e&&(e=3),e){case 1:case 2:throw new xv(xg.NOT_SUPPORTED,\"proxy mode 1/2 has been deprecated and not supported.\");case 3:i=\"proxy3\";break;case 4:i=\"proxy4\";break;case 5:i=\"proxy5\";break;default:throw new xv(xg.INVALID_PARAMS,\"proxy server mode must be \".concat(t.join(\"|\")))}this._cloudProxyServerMode=i,this.store.cloudProxyServerMode=i,KC.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode)}stopProxyServer(){if(\"DISCONNECTED\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"Stop proxy server after leave channel\");rv.setProxyServer(),KC.setProxyServer(),this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\",KC.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:\"auto\",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new xv(xg.INVALID_PARAMS,\"accessPoints is required.\");Hg(e.accessPoints.serverList,\"accessPoints.serverList\"),Wg(e.accessPoints.domain,\"accessPoints.domain\");const t=(e,t)=>{jg(e,t,0,65535,!0)};let i=443;if(e.accessPoints.port&&(t(e.accessPoints.port,\"accessPoints.port\"),i=e.accessPoints.port),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new xv(xg.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");kC(\"CLOSE_AFB_FOR_LOCAL_AP\")&&(LC(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\",!1),LC(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\",!1));const n=/^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/,r=e.accessPoints.domain,s=e.accessPoints.serverList.map((e=>n.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(r):e)),o=s.map((e=>\"\".concat(e,\":\").concat(i)));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,LC(\"WEBCS_DOMAIN\",o),LC(\"WEBCS_DOMAIN_BACKUP_LIST\",o),LC(\"GATEWAY_DOMAINS\",[r]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(Hg(e.report.hostname,\"report.hostname\"),LC(\"EVENT_REPORT_DOMAIN\",e.report.hostname[0]),LC(\"EVENT_REPORT_BACKUP_DOMAIN\",e.report.hostname[1]||e.report.hostname[0])):(LC(\"EVENT_REPORT_DOMAIN\",s[0]),LC(\"EVENT_REPORT_BACKUP_DOMAIN\",s[1]||s[0]));let a=6443;e.report&&e.report.port&&(t(e.report.port,\"report.port\"),a=e.report.port),LC(\"STATS_COLLECTOR_PORT\",a),e.report?LC(\"ENABLE_EVENT_REPORT\",!0):LC(\"ENABLE_EVENT_REPORT\",!1);let c=\"\";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(Hg(e.log.hostname,\"log.hostname\"),c=e.log.hostname[0]):c=s[0];let d=6444;e.log&&e.log.port&&(t(e.log.port,\"log.port\"),d=e.log.port),LC(\"LOG_UPLOAD_SERVER\",\"\".concat(c,\":\").concat(d));let l=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(Hg(e.cds.hostname,\"cds.hostname\"),l=e.cds.hostname):l=s;let h=443;e.cds&&e.cds.port&&(t(e.cds.port,\"cds.port\"),h=e.cds.port),LC(\"CDS_AP\",l.map((e=>\"\".concat(e,\":\").concat(h)))),e.cds?LC(\"ENABLE_CONFIG_DISTRIBUTE\",!0):LC(\"ENABLE_CONFIG_DISTRIBUTE\",!1),KC.info(\"set local access point v2 success\")}setLocalAccessPoints(e,t){if(Hg(e,\"serverList\"),Wg(t,\"domain\"),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new xv(xg.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");const i=/^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;e=e.map((e=>i.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(t):e)),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,LC(\"WEBCS_DOMAIN\",e),LC(\"WEBCS_DOMAIN_BACKUP_LIST\",e),LC(\"GATEWAY_DOMAINS\",[t]),LC(\"EVENT_REPORT_DOMAIN\",e[0]),LC(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]||e[0]),LC(\"LOG_UPLOAD_SERVER\",\"\".concat(e[0],\":6444\")),KC.info(\"[\".concat(this._clientId,\"] set local access point success\"))}async setRemoteDefaultVideoStreamType(e){if(Bg(e,\"streamType\",[0,1]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw KC.error(\"[\".concat(this._clientId,\"] set default remote video stream type error\"),e.toString()),e}else KC.debug(\"[\".concat(this._clientId,\"] haven't joined yet, cache remoteDefaultVideoStreamType \").concat(e))}async setRemoteVideoStreamType(e,t){Bg(t,\"streamType\",[0,1]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e){throw KC.error(\"[\".concat(this._clientId,\"] set remote video stream type error\"),e.toString()),e}KC.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" video stream type to \").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){Bg(t,\"fallbackType\",[0,1,2]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw KC.error(\"[\".concat(this._clientId,\"] set stream fallback option\"),e.toString()),e}KC.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" stream fallback type to \").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,i){!function(e){Bg(e,\"encryptionMode\",[\"aes-128-xts\",\"aes-256-xts\",\"aes-128-ecb\",\"sm4-128-ecb\",\"aes-128-gcm\",\"aes-256-gcm\",\"aes-128-gcm2\",\"aes-256-gcm2\",\"none\"])}(e),Wg(t,\"secret\");const n=[\"aes-128-gcm2\",\"aes-256-gcm2\"];if(Pr(n).call(n,e)){if(!i||!(i instanceof Uint8Array&&32===i.length))throw new xv(xg.INVALID_PARAMS,\"salt must be an Uint8Array and exactly equal to 32 bytes\")}else if(i)throw new xv(xg.INVALID_PARAMS,\"current encrypt mode does not need salt\");new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\\\"|{}\\\\[\\\\]])(?=.{8,})\").test(t)||KC.warning(\"The secret is not strong:\\n      The secret must contain at least 1 lowercase alphabetical character,\\n      The secret must contain at least 1 uppercase alphabetical character,\\n      The secret must contain at least 1 numeric character,\\n      The secret must contain at least one special character,\\n      The secret must be eight characters or longer.\\n      \"),this._encryptionMode=e,this._encryptionSecret=t,i&&(this._encryptionSalt=PT(i))}async renewToken(e){if(Wg(e,\"token\",1,2047),!this._key||!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"renewToken should not be called before user join\");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const i=await this._renewTokenMutex.lock();try{if(kC(\"USE_NEW_TOKEN\")){KC.debug(\"[\".concat(this._clientId,\"] start renew token with ticket from unilbs\"));const t=await mP(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||JT);KC.debug(\"[\".concat(this._clientId,\"] get ticket from unilbs success\")),await this._gateway.renewToken({token:e,ticket:t})}else KC.debug(\"[\".concat(this._clientId,\"] start renew token without ticket\")),await this._gateway.renewToken({token:e});KC.debug(\"[\".concat(this._clientId,\"] renewToken success\"))}catch(e){throw this._key=t,this._joinInfo.token=t,KC.error(\"[\".concat(this._clientId,\"] renewToken failed\"),e.toString()),e}finally{i()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?KC.warning(\"you have already enabled audio volume indicator!\"):this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit(dT.VOLUME_INDICATOR,e)}),kC(\"AUDIO_VOLUME_INDICATION_INTERVAL\")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if(\"h264\"!==this.codec)throw new xv(xg.LIVE_STREAMING_INVALID_RAW_STREAM,\"raw streaming is only support h264\");if(!this._p2pChannel.hasLocalMedia())throw new xv(xg.LIVE_STREAMING_INVALID_RAW_STREAM,\"can not find stream to raw streaming\")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new xv(xg.LIVE_STREAMING_TASK_CONFLICT);const i=t?yv.TRANSCODE:yv.RAW;return this._createLiveStreamingClient(i).startLiveStreamingTask(e,i)}setLiveTranscoding(e){return this._createLiveStreamingClient(yv.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!t.length)throw new xv(xg.INVALID_PARAMS,\"can not find live streaming url to stop\");await tg.all(t.map((t=>t&&t.stopLiveStreamingTask(e))))}async addInjectStreamUrl(e,t){if(!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"can not addInjectStreamUrl, no joininfo\");const i=this._createLiveStreamingClient(yv.INJECT);i.setInjectStreamConfig(t,0),await i.startLiveStreamingTask(e,yv.INJECT)}async removeInjectStreamUrl(){var e;const t=this._createLiveStreamingClient(yv.INJECT),i=Array.from(kv(e=t.streamingTasks).call(e)).find((e=>e.mode===yv.INJECT));if(!this._joinInfo||!i)throw new xv(xg.INVALID_OPERATION,\"can remove addInjectStreamUrl, no joininfo or inject task\");await t.stopLiveStreamingTask(i.url)}async startChannelMediaRelay(e){bP(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){bP(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}sendStreamMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"can not send data stream, not joined\");if((\"string\"==typeof e||e instanceof Uint8Array)&&(e={payload:e}),\"string\"==typeof e.payload){const t=new TextEncoder;e.payload=t.encode(e.payload)}if(new Blob([e.payload]).size>1024)throw new xv(xg.INVALID_PARAMS,\"stream message out of range.\");return this._gateway.signal.request(Tv.DATA_STREAM,{payload:PT(e.payload),syncWithAudio:e.syncWithAudio,sendTs:Date.now()-UM},!t)}sendMetadata(e){if(!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"can not send metadata, not joined\");if(new Blob([e]).size>1024)throw new xv(xg.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(Tv.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:PT(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(JC),!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"can not send custom report, not joined\");await rv.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){Bg(t.spatialLayer,\"spatialLayer\",[0,1,2,3]),Bg(t.temporalLayer,\"temporalLayer\",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw KC.error(\"[\".concat(this._clientId,\"] pick SVC layer failed\"),e.toString()),e}}setRTM2Flag(e){if(Bg(e,\"flag\",[0,1]),!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"Can't setRtm2Flag, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"Can't setRtm2Flag in \".concat(this.connectionState,\" state\"));return this._gateway.setRTM2Flag(e)}_reset(){if(KC.debug(\"[\".concat(this._clientId,\"] reset client\")),this._axiosCancelSource.cancel(),this._axiosCancelSource=EC.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode=\"none\",this._encryptionSecret=null,this._encryptionSalt=null,this._pendingPublishedUsers=[],this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach((e=>e._close())),e._dataChannels.length=0)})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),\"fallback\"===this._cloudProxyServerMode&&(this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\"),this._p2pChannel.reset(),this._publishMutex=new YT(\"client-publish\"),this._subscribeMutex=new YT(\"client-subscribe\"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}if(this._moderation)try{this.setImageModeration(!1)}catch(e){}}_startSession(e,t){const i=e||VT();e?KC.debug(\"[\".concat(this._clientId,\"] new Session \").concat(i)):KC.debug(\"[\".concat(this._clientId,\"] renewSession \").concat(this._sessionId,\" => \").concat(i)),this._sessionId=i,this.store.sessionId=i,t?rv.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:t.channel,appid:t.appId,mode:this.mode}):this._joinInfo?rv.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._joinInfo.cname,appid:this._joinInfo.appId,mode:this.mode}):this._gateway.joinInfo&&rv.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId,mode:this.mode}),this._joinInfo&&(this._joinInfo.sid=i),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=i)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new xv(xg.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));if(\"auto\"===this._turnServer.mode&&kC(\"FORCE_TURN\")&&!kC(\"TURN_ENABLE_TCP\")&&!kC(\"TURN_ENABLE_UDP\"))throw new xv(xg.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");KC.debug(\"[\".concat(this._clientId,\"] publish high stream\"));try{if(this._p2pChannel instanceof PM){const t=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter);if(t)try{await this._gateway.sendExtensionMessage(wI.PUBLISH,t)}catch(t){throw this._p2pChannel.unpublish(e),t}}else{const i=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter),n=(await i.next()).value;if(n){var t;let e;try{e=await this._gateway.publish(this._uid,n,!0)}catch(e){if(e.code!==xg.DISCONNECT_P2P)throw i.throw(e),e}await i.next((null===(t=e)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof Sb&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===xg.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new xv(xg.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new xv(xg.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));KC.debug(\"[\".concat(this._clientId,\"] publish low stream\"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),i=(await e.next()).value;if(i){var t;let n;try{n=await this._gateway.publish(this._uid,i,!0)}catch(t){if(t.code!==xg.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=n)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===xg.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){if(!this._joinInfo||!this._appId){return new xv(xg.INVALID_OPERATION,\"can not create live streaming client, please join channel first\").throw()}const t=()=>new yP(this._joinInfo,this._config.websocketRetryConfig||JT,this._config.httpRetryConfig||JT),i=e=>{e.onLiveStreamError=(e,t)=>{rv.reportApiInvoke(this._sessionId,{name:sT.ON_LIVE_STREAM_ERROR,options:[e,t],tag:oT.TRACER}).onSuccess(),this.safeEmit(dT.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{rv.reportApiInvoke(this._sessionId,{name:sT.ON_LIVE_STREAM_WARNING,options:[e,t],tag:oT.TRACER}).onSuccess(),this.safeEmit(dT.LIVE_STREAMING_WARNING,e,t)},e.on(Yv.REQUEST_WORKER_MANAGER_LIST,((e,t,i)=>{if(!this._joinInfo)return i(new xv(xg.INVALID_OPERATION,\"can not find join info to get worker manager\"));_P(e,this._joinInfo,this._axiosCancelSource.token,JT).then(t).catch(i)}))};switch(e){case yv.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=t(),i(this._liveRawStreamingClient)),this._liveRawStreamingClient;case yv.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=t(),i(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case yv.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=t(),this._injectStreamingClient.on(Yv.REQUEST_WORKER_MANAGER_LIST,((e,t,i)=>{if(!this._joinInfo)return i(new xv(xg.INVALID_OPERATION,\"can not find join info to get worker manager\"));_P(e,this._joinInfo,this._axiosCancelSource.token,JT).then(t).catch(i)})),this._injectStreamingClient.onInjectStatusChange=(e,t,i)=>{this.safeEmit(dT.INJECT_STREAM_STATUS,e,t,i)}),this._injectStreamingClient}}_createChannelMediaRelayClient(){if(!this._joinInfo){return new xv(xg.INVALID_OPERATION,\"can not create channel media relay client, please join channel first\").throw()}if(!this._channelMediaRelayClient){const{sendResolutionWidth:e,sendResolutionHeight:t}=this.getLocalVideoStats(),i={width:e,height:t};this._channelMediaRelayClient=new OP(this._joinInfo,this._clientId,this._config.websocketRetryConfig||JT,this._config.httpRetryConfig||JT,i),this._channelMediaRelayClient.on(\"state\",(e=>{e===Qv.RELAY_STATE_FAILURE&&this._channelMediaRelayClient&&this._channelMediaRelayClient.dispose(),this.safeEmit(dT.CHANNEL_MEDIA_RELAY_STATE,e)})),this._channelMediaRelayClient.on(\"event\",(e=>{this.safeEmit(dT.CHANNEL_MEDIA_RELAY_EVENT,e)})),this._statsCollector.onStatsChanged=(e,t)=>{var i;\"resolution\"===e&&(null===(i=this._channelMediaRelayClient)||void 0===i||i.setVideoProfile(t))}}return this._channelMediaRelayClient}_handleUpdateDataChannel(e,t){const{added:i,deleted:n}=e,r=[];Array.isArray(i)&&i.length>0&&i.forEach((e=>{const{uid:i,stream_id:n,ordered:s,max_retrans_times:o,metadata:a}=e,c=this._users.find((e=>e._uintid===i));if(!c)return void KC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_data_channel)\"));KC.debug(\"[\".concat(this._clientId,\"] data_channel added with uid \").concat(i)),Pr(r).call(r,c)||r.push(c),c._uintid||(c._uintid=i);if(!(-1!==c._dataChannels.findIndex((t=>t.id===e.stream_id)))){const e={id:n,ordered:!!s,maxRetransmits:o,metadata:a},i=new rD(e);c._dataChannels.push(i),KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(c.uid,\" published datachannel\")),t||this.safeEmit(dT.USER_PUBLISHED,c,\"datachannel\",e)}this._p2pChannel.hasPendingRemoteDataChannel(c,e.stream_id)&&(KC.debug(\"[\".concat(this._clientId,\"] resubscribe datachannel for user \").concat(c.uid,\" after reconnect.\")),this._subscribeDataChannel(c,e.stream_id).catch((e=>{KC.error(\"[\".concat(this._clientId,\"] resubscribe datachannel error\"),e.toString())})))})),t&&(this.safeEmit(dT.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(n)&&n.length>0&&n.forEach((e=>{const{uid:t,stream_id:i}=e,n=this._users.find((e=>e._uintid===t));if(!n)return void KC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_delete_data_channel)\"));const r=n._dataChannels.find((t=>t.id===e.stream_id));r&&(KC.debug(\"[\".concat(this._clientId,\"] data_stream delete with uid \").concat(t)),this._p2pChannel.unsubscribeDataChannel(n,[r]).then((e=>{if(e)return n._dataChannels=n._dataChannels.filter((e=>e!==r)),this._gateway.unsubscribeDataChannel(e,n.uid)})),KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" unpublished datachannel ,id:\").concat(r.id)),this.safeEmit(dT.USER_UNPUBLISHED,n,\"datachannel\",r._config))}))}_handleRemoveDataChannels(e){const t=this._users.find((t=>t.uid===e.uid));if(t){if(void 0!==t._dataChannels&&t._dataChannels.length>0){KC.debug(\"[\".concat(this._clientId,\"] datachannel removed with uid \").concat(e.uid));const i=()=>{KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished datachannel\")),t._dataChannels.forEach((e=>{this.safeEmit(dT.USER_UNPUBLISHED,t,\"datachannel\",e._config)}))};this._p2pChannel.unsubscribeDataChannel(t,t._dataChannels).then((e=>{if(e)return this._gateway.unsubscribeDataChannel(e,t.uid)})),i()}}else KC.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_datachannel)\"))}_handleGatewayEvents(){this._gateway.on(eI.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(eI.CONNECTION_STATE_CHANGE,((e,t,i)=>{var n;if(i===cT.FALLBACK)return;const r=()=>{this.safeEmit(dT.CONNECTION_STATE_CHANGE,e,t,i)};if(rv.reportApiInvoke(this._sessionId||(null===(n=this._gateway.joinInfo)||void 0===n?void 0:n.sid)||null,{name:sT.CONNECTION_STATE_CHANGE,options:[e,t,i],tag:oT.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:i})),KC.info(\"[\".concat(this._clientId,\"] connection state change: \").concat(t,\" -> \").concat(e)),\"DISCONNECTED\"===e)return this._reset(),void r();if(\"RECONNECTING\"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._audioSSRC=void 0,e._videoSSRC=void 0,e._videoOrtc=void 0,e._audioOrtc=void 0,e._cname=void 0,e._rtxSsrcId=void 0})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(\"CONNECTED\"===e){var s;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{KC.warning(\"[\".concat(this._clientId,\"] auto set stream fallback option failed\"),e)}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{KC.warning(\"[\".concat(this._clientId,\"] auto set remote stream type failed\"),e)}))})),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(s=this._joinInfo)||void 0===s?void 0:s.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{KC.debug(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway connected\"))})).catch((e=>{KC.error(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway failed, \").concat(e))})),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{if(\"CONNECTED\"!==this.connectionState)return;this._userOfflineTimeout=void 0;this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{KC.debug(\"[\".concat(this._clientId,\"] user offline timeout, emit user offline \").concat(e.uid)),this._handleUserOffline({uid:e.uid})}))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{\"CONNECTED\"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(KC.debug(\"[\".concat(this._clientId,\"] auto dispatch audio unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,hI.AUDIO,!1)),e._trust_video_mute_state_||(KC.debug(\"[\".concat(this._clientId,\"] auto dispatch video unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,hI.VIDEO,!1)),e._trust_audio_enabled_state_||(KC.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local audio \").concat(e.uid)),this._handleSetStreamLocalEnable(\"audio\",e.uid,!0)),e._trust_video_enabled_state_||(KC.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local video \").concat(e.uid)),this._handleSetStreamLocalEnable(\"video\",e.uid,!0)),e._trust_video_stream_added_state_||(KC.debug(\"[\".concat(this._clientId,\"] auto dispatch reset video stream added \").concat(e.uid)),this._handleResetAddStream(e,\"video\")),e._trust_audio_stream_added_state_||(KC.debug(\"[\".concat(this._clientId,\"] auto dispatch reset audio stream added \").concat(e.uid)),this._handleResetAddStream(e,\"audio\")),e._video_added_||e._audio_added_||(KC.debug(\"[\".concat(this._clientId,\"] auto dispatch stream remove \").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3))}r()})),this._gateway.on(eI.REQUEST_NEW_GATEWAY_LIST,((e,t)=>{if(!this._joinInfo)return t(new xv(xg.UNEXPECTED_ERROR,\"can not recover, no join info\"));dP(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||JT,this.store).then((t=>{this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip);const i=[];t.gatewayInfo.gatewayAddrs.forEach((e=>{let{address:t}=e;const[n,r]=t.split(\":\");this._joinInfo&&this._joinInfo.proxyServer?i.push({proxy:this._joinInfo.proxyServer,host:n,port:r}):i.push({host:n,port:r})})),e(i)})).catch(t)})),this._gateway.on(eI.NETWORK_QUALITY,(e=>{\"normal\"===this._networkQualitySensitivity&&this.safeEmit(dT.NETWORK_QUALITY,e)})),this._gateway.on(eI.STREAM_TYPE_CHANGE,((e,t)=>{this.safeEmit(dT.STREAM_TYPE_CHANGED,e,t);rv.reportApiInvoke(this._sessionId,{name:sT.STREAM_TYPE_CHANGE,options:[e,t],tag:oT.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.on(eI.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(eI.NEED_RENEW_SESSION,(()=>{this._startSession()})),this._gateway.on(eI.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,i)=>{try{t(await this._p2pChannel.startP2PConnection(e))}catch(e){i(e)}})),this._gateway.on(eI.JOIN_RESPONSE,((e,t)=>{if(this.store.useP2P)return;const{dtlsParameters:i,iceParameters:n,candidates:r,rtpCapabilities:s,setup:o,cname:a}=QP(e.ortc,t);this._p2pChannel.connect(n,i,r,s,o,a)})),this._gateway.on(eI.REQUEST_DC_CONNECTION_PARAMS,(e=>{e(this._p2pChannel.getEstablishParams())})),this._gateway.on(eI.RESET_SIGNAL,(e=>{this._p2pChannel.resetConnection(e),this._handleGatewaySignalEvents()})),this._gateway.on(eI.DATACHANNEL_FAILBACK,(()=>{this._joinGateway()})),this._gateway.on(eI.DATACHANNEL_PRECONNECT,(async(e,t,i,n)=>{var r,s,o,a,c,d;await this._p2pChannel.startP2PConnection({turnServer:null===(r=this._joinInfo)||void 0===r?void 0:r.turnServer},!0);const l=function(e,t){let i;return t&&t.ip&&\"number\"==typeof t.port?(i=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip,port:t.port.toString(),type:\"host\",extension:{}}],KC.debug(\"Using remote candidate from AP \".concat(t.ip,\":\").concat(t.port)),t.ip6&&(i.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip6,port:t.port.toString(),type:\"host\",extension:{}}),KC.debug(\"Using IPV6 remote candidate from AP \".concat(t.ip6,\":\").concat(t.port)))):i=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:e.ip,port:e.port.toString(),type:\"host\",extension:{}}],i}(e,t);return this._p2pChannel.preConnect({iceUfrag:\"\".concat(null===(s=this._joinInfo)||void 0===s?void 0:s.apResponse.cid,\"_\").concat(null===(o=this._joinInfo)||void 0===o?void 0:o.apResponse.cert),icePwd:\"\".concat(null===(a=this._joinInfo)||void 0===a?void 0:a.apResponse.cid,\"_\").concat(null===(c=this._joinInfo)||void 0===c?void 0:c.apResponse.cert)},{fingerprints:[{hashFunction:\"sha-256\",fingerprint:null!==(d=kC(\"FINGERPRINT\"))&&void 0!==d?d:e.fingerprint}]},l,{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},\"active\",\"o/i14u9pJrxRKAsu\").then(i).catch(n)}))}_handleGatewaySignalEvents(){this._gateway.signal.on(Rv.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(Rv.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(Rv.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream(\"audio\",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc))),this._gateway.signal.on(Rv.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream(\"video\",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(Rv.ON_REMOTE_DATASTREAM_UPDATE,(e=>{this._handleUpdateDataChannel(e)})),this._gateway.signal.on(Rv.ON_REMOTE_FULL_DATASTREAM_INFO,(e=>{this._handleUpdateDataChannel({added:e.datastreams,deleted:[]},!0)})),this._gateway.signal.on(Rv.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(Rv.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(Rv.MUTE_AUDIO,(e=>this._handleMuteStream(e.uid,hI.AUDIO,!0))),this._gateway.signal.on(Rv.UNMUTE_AUDIO,(e=>this._handleMuteStream(e.uid,hI.AUDIO,!1))),this._gateway.signal.on(Rv.MUTE_VIDEO,(e=>this._handleMuteStream(e.uid,hI.VIDEO,!0))),this._gateway.signal.on(Rv.UNMUTE_VIDEO,(e=>this._handleMuteStream(e.uid,hI.VIDEO,!1))),this._gateway.signal.on(Rv.RECEIVE_METADATA,(e=>{const t=DT(e.metadata);this.safeEmit(dT.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(Rv.ON_DATA_STREAM,(async e=>{if(!e)return;let t=0;if(e.ordered||e.syncWithAudio){const i=this._p2pChannel.getStats(),n=this.remoteUsers.find((t=>t.uid===e.uid)),r=null==i?void 0:i.audioRecv.find((e=>e.ssrc===(null==n?void 0:n._audioSSRC)));t=null==r?void 0:r.jitterBufferMs}null==t&&(t=0),GM(e,t,{id:this._clientId,onStreamMessage:\"function\"==typeof this.onStreamMessage?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})})),this._gateway.signal.on(Rv.ON_CRYPT_ERROR,(()=>{NT((()=>{KC.warning(\"[\".concat(this._clientId,\"] on crypt error\")),this.safeEmit(dT.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(Rv.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(Rv.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{KC.warning(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeDidExpire, please get new token and join again\")),this._gateway.leave(!0,cT.TOKEN_EXPIRE),this.safeEmit(dT.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(Rv.ON_STREAM_FALLBACK_UPDATE,(e=>{KC.debug(\"[\".concat(this._clientId,\"] stream fallback peerId: \").concat(e.stream_id,\", attr: \").concat(e.stream_type)),this.safeEmit(dT.STREAM_FALLBACK,e.stream_id,1===e.stream_type?\"fallback\":\"recover\")})),this._gateway.signal.on(Rv.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),KC.info(\"[\".concat(this._clientId,\"] on publish stream, \").concat(JSON.stringify(e))))})),this._gateway.signal.on(Rv.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!0)})),this._gateway.signal.on(Rv.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!1)})),this._gateway.signal.on(gv.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case Tv.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var i,n;const r=e.some((e=>{let{stream_type:t}=e;return t===$v.Audio})),s=e.some((e=>{let{stream_type:t}=e;return t!==$v.Audio})),o=e.some((e=>{let{stream_type:t}=e;return t===$v.Screen||t===$v.ScreenLow}));\"offer\"===t.state&&rv.publish(this._joinInfo.sid,{eventElapse:cD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:xg.TIMEOUT,audio:r,video:s,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:o,audioName:r?null===(i=e.find((e=>{let{stream_type:t}=e;return t===$v.Audio})))||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId.toString():void 0,videoName:s?null===(n=e.find((e=>{let{stream_type:t}=e;return t!==$v.Audio})))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0})}break}case Tv.SUBSCRIBE:t&&rv.subscribe(this._joinInfo.sid,{succ:!1,ec:xg.TIMEOUT,audio:t.stream_type===hI.AUDIO,video:t.stream_type===hI.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:cD.measureFromSubscribeStart(this.store.clientId,t.ssrcId)})}})),this._gateway.signal.on(Rv.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(Rv.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;kC(\"BLOCK_LOCAL_CLIENT\")&&(e.users=e.users.filter((e=>!dv(e.string_id||e.stream_id,this.channelName))));const t=[],i=[];for(const n of e.users){let e=this._users.find((e=>e._uintid===n.stream_id));e?e._trust_in_room_=!0:(e=new NP(n.string_id||n.stream_id,n.stream_id),this._users.push(e),0===this.getListeners(dT.PUBLISHED_USER_LIST).length&&(KC.debug(\"[\".concat(this._clientId,\"] user online\"),n.stream_id),this.safeEmit(dT.USER_JOINED,e)));const r=iI.Audio&n.stream_type,s=(iI.Video|iI.LwoVideo)&n.stream_type,o=0!=(65280&n.stream_type),a=r&&e.hasAudio,c=s&&e.hasVideo;s&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=n.video_ssrc,e._rtxSsrcId=n.video_rtx),r&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=n.audio_ssrc),r&&!a&&0===this.getListeners(dT.PUBLISHED_USER_LIST).length&&(KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published audio\")),this.safeEmit(dT.USER_PUBLISHED,e,\"audio\")),s&&!c&&0===this.getListeners(dT.PUBLISHED_USER_LIST).length&&(KC.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published video\")),this.safeEmit(dT.USER_PUBLISHED,e,\"video\")),(r&&!a||s&&!c||o)&&t.push(e),s&&this._p2pChannel.hasPendingRemoteMedia(e,\"video\")&&i.push({user:e,mediaType:\"video\"}),r&&this._p2pChannel.hasPendingRemoteMedia(e,\"audio\")&&i.push({user:e,mediaType:\"audio\"})}i.length>0&&(KC.debug(\"[\".concat(this._clientId,\"] RE massSubscribe after reconnect \").concat(i.map((e=>\"user: \".concat(e.user.uid,\", mediaType: \").concat(e.mediaType))).join(\"; \"),\" \")),this.massSubscribe(i).catch((e=>{KC.error(\"[\".concat(this._clientId,\"] mass resubscribe error\"),e.toString())}))),this.getListeners(dT.PUBLISHED_USER_LIST).length>0?kC(\"ENABLE_DATASTREAM_2\")?this._pendingPublishedUsers=t:(KC.info(\"[\".concat(this._clientId,\"] client emit user-list event, users: \").concat(t.map((e=>e.uid)).join(\", \"))),this.safeEmit(dT.PUBLISHED_USER_LIST,t)):KC.info(\"[\".concat(this._clientId,\"] client not emit user-list event case there is no user-list listener, users: \").concat(t.map((e=>e.uid)).join(\", \")))})),this._gateway.signal.on(Rv.ON_RTP_CAPABILITY_CHANGE,(e=>{const{video_codec:t}=e;this._p2pChannel instanceof _k&&this._p2pChannel.updateRemoteRTPCapabilities(t.map((e=>e.toLowerCase())).filter((e=>{var t;return Pr(t=Object.keys(UC)).call(t,e)})))}))}_handleP2PEvents(){this._gateway.signal.on(Rv.ON_USER_OFFLINE,(()=>{this._p2pChannel.disconnectForReconnect()})),this._gateway.signal.on(wI.PUBLISH,(async(e,t)=>{e.forEach((e=>e.kind===hI.VIDEO?(this._handleP2PAddAudioOrVideoStream(\"video\",t),e.isMuted?this._handleMuteStream(t,hI.VIDEO,!0):this._handleMuteStream(t,hI.VIDEO,!1)):(this._handleP2PAddAudioOrVideoStream(\"audio\",t),e.isMuted?this._handleMuteStream(t,hI.AUDIO,!0):this._handleMuteStream(t,hI.AUDIO,!1))))})),this._gateway.signal.on(gv.P2P_START,(async(e,t)=>{if(this._p2pChannel instanceof PM){var i;t(await this._p2pChannel.startP2P({turnServer:null===(i=this._joinInfo)||void 0===i?void 0:i.turnServer},e))}})),this._gateway.signal.on(gv.P2P_CONNECTION,(async e=>{this._p2pChannel instanceof PM&&await this._p2pChannel.p2pConnect(e)})),this._gateway.signal.on(gv.P2P_REMOTE_CANDIDATE_UPDATE,(e=>{this._p2pChannel instanceof PM&&this._p2pChannel.addRemoteCandidate(JSON.parse(e))})),this._gateway.signal.on(wI.SUBSCRIBE,(async(e,t,i)=>{if(this._p2pChannel instanceof PM){const{trackType:n}=JSON.parse(e);try{await this._p2pChannel.dopublish(n),t()}catch(e){i(e)}}})),this._gateway.signal.on(wI.UNSUBSCRIBE,(async(e,t,i)=>{if(this._p2pChannel instanceof PM){const{mediaType:n}=JSON.parse(e);try{await this._p2pChannel.doUnpublish(n),t()}catch(e){i(e)}}})),this._gateway.signal.on(wI.EXCHANGE_SDP,(async(e,t,i)=>{if(this._p2pChannel instanceof PM){const{type:n,sdp:r}=JSON.parse(e);try{t(await this._p2pChannel.setDescription(n,r))}catch(e){i(e)}}})),this._gateway.signal.on(wI.UNPUBLISH,(async(e,t,i)=>{if(this._p2pChannel instanceof PM){const{unpubMsg:n,uid:r}=e;if(1===n.length){const s=n[0].stream_type===$v.Audio?hI.AUDIO:hI.VIDEO;this._handleMuteStream(r,s,!0);const{sdp:o}=e;if(this._p2pChannel instanceof PM&&o){const e=this._users.find((e=>e.uid===r));if(!e)return KC.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(r)),void t();this._p2pChannel.unsubscribe(e,o,s).then((e=>{e&&t(e)})).catch(i)}else t()}else this._handleRemoveStream(e,t,i)}})),this._gateway.signal.on(wI.CONTROL,(async(e,t,i)=>{const{action:n,sdp:r,isMuteAll:s,uid:o}=e;switch(n){case OI.MUTE_LOCAL_VIDEO:this._handleMuteStream(o,hI.VIDEO,!0,r,t,i);break;case OI.MUTE_LOCAL_AUDIO:t(),this._handleMuteStream(o,hI.AUDIO,!0);break;case OI.UNMUTE_LOCAL_VIDEO:t(),this._handleP2PAddAudioOrVideoStream(\"video\",o),this._handleMuteStream(o,hI.VIDEO,!1);break;case OI.UNMUTE_LOCAL_AUDIO:t(),this._handleP2PAddAudioOrVideoStream(\"audio\",o),this._handleMuteStream(o,hI.AUDIO,!1)}s&&this._handleRemoveStream(e,t,i)})),this._gateway.signal.on(wI.DO_SUBSCRIBE,(async(e,t,i)=>{if(this._p2pChannel instanceof PM){const{kind:n,sdp:r,ssrcId:s,uid:o}=e,a=this._users.find((e=>e.uid===o));if(!a)return KC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\")),void t();try{t(await this._p2pChannel.subscribe(a,n,r,s))}catch(e){i(e)}}})),this._gateway.signal.on(wI.DO_UNSUBSCRIBE,(async(e,t,i)=>{if(this._p2pChannel instanceof PM){const{uid:n,kind:r,sdp:s}=e,o=this._users.find((e=>e.uid===n));if(!o)return KC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\")),void t();try{t(await this._p2pChannel.unsubscribe(o,s,r))}catch(e){i(e)}}})),this._gateway.signal.on(wI.RESTART_ICE,(async(e,t,i)=>{if(this._p2pChannel instanceof PM)try{t(await this._p2pChannel.setDescription(\"remote\",e))}catch(e){i(e)}})),this._p2pChannel.on(mI.RequestP2PRestartICE,(async(e,t,i)=>{try{t(await this._gateway.sendExtensionMessage(wI.RESTART_ICE,e))}catch(e){i(e)}})),this._p2pChannel.on(mI.LocalCandidate,(e=>{this._gateway.sendExtensionMessage(wI.CANDIDATE,JSON.stringify(e))})),this._p2pChannel.on(mI.RequestP2PMuteLocal,(async(e,t,i)=>{try{t(await this._gateway.sendExtensionMessage(wI.CONTROL,e))}catch(e){i(e)}})),this._p2pChannel.on(mI.RequestP2PPublish,(async(e,t,i)=>{try{t(await this._gateway.sendExtensionMessage(wI.DO_SUBSCRIBE,e))}catch(e){i(e)}})),this._p2pChannel.on(mI.RequestP2PUnPublish,(async(e,t,i)=>{try{t(await this._gateway.sendExtensionMessage(wI.DO_UNSUBSCRIBE,e))}catch(e){i(e)}})),this._p2pChannel.on(mI.RequestP2PUnmuteRemote,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===xg.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(mI.RequestP2PMuteRemote,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===xg.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(mI.StateChange,((e,t)=>{t===EI.Connected&&this._p2pChannel.republish()}))}_handleP2PChannelEvents(){this._p2pChannel.on(mI.RequestMuteLocal,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===xg.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(mI.RequestUnmuteLocal,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===xg.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(mI.RequestRePublish,((e,t,i)=>{this.publish(e,!1).then(t).catch(i)})),this._p2pChannel.on(mI.RequestRePublishDataChannel,((e,t,i)=>{tg.all(e.map((async e=>{await this._p2pChannel.publishDataChannel([e]);const t={streamId:e.id,ordered:e.ordered,maxRetransmits:e.maxRetransmits,metadata:e.metadata,channelId:e._originDataChannelId};try{await this._gateway.publishDataChannel(this._uid,t,!0)}catch(e){if(e.code!==xg.DISCONNECT_P2P)throw e}}))).then(t).catch(i)})),this._p2pChannel.on(mI.RequestReSubscribe,(async(e,t,i)=>{try{for(const{user:t,kind:i}of e)i===hI.VIDEO?await this.subscribe(t,\"video\"):await this.subscribe(t,\"audio\");t()}catch(e){i(e)}})),this._p2pChannel.on(mI.RequestUploadStats,((e,t)=>{this._gateway.uploadStats(e,t)})),this._p2pChannel.on(mI.MediaReconnectStart,(e=>{this.safeEmit(dT.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(mI.MediaReconnectEnd,(e=>{this.safeEmit(dT.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(mI.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(mI.RequestRestartICE,(async e=>{if(this._p2pChannel instanceof PM)return;const t=await this._p2pChannel.restartICE(e),i=await t.next();if(i.done)return;const n=i.value;let r;try{r=await this._gateway.restartICE({iceParameters:n})}catch(e){return void t.throw(e)}const{iceParameters:s}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(r);await t.next({remoteIceParameters:s})})),this._p2pChannel.on(mI.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(mI.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:r,gatewayAddress:s}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:i,rtpCapabilities:n}),{dtlsParameters:o,iceParameters:a,candidates:c,rtpCapabilities:d,setup:l,cname:h}=QP(r,s);await this._p2pChannel.connect(a,o,c,d,l,h),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(mI.RequestUnpublishForReconnectPC,(async(e,t,i)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):i()})),this._p2pChannel.on(mI.P2PLost,(()=>{this.safeEmit(dT.P2P_LOST,this.store.uid)})),this._p2pChannel.on(mI.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(mI.ConnectionTypeChange,(e=>{this.safeEmit(dT.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on(mI.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on(mI.QueryClientConnectionState,(e=>{e(this.connectionState)}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if(\"CONNECTED\"!==this.connectionState||!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client did not join channel\"));if(this._inspect)throw new xv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Inspect content service already in connecting/connected state\"));if(!e)throw new xv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] inspectConfig is necessary\"));if(!e.inspectType||!Array.isArray(e.inspectType))throw new xv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] inspectConfig.inspectType is necessary and is an instance of Array.\"));{const t=[...new Set(e.inspectType)];t.forEach((e=>{var t;if(!Pr(t=[\"supervise\",\"moderation\"]).call(t,e))throw new xv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] \").concat(e,\" is not a valid inspect type.\"))})),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new xv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] inspectConfig.extraInfo length cannot exceed 1024 bytes\"));try{const t=new Kk(e);this._inspect=t,this.handleVideoInspectEvents(this._inspect),await t.init({appId:this._joinInfo.appId,areaCode:\"\",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},JT)}catch(e){throw Array.isArray(e)?e[0]:e}}async disableContentInspect(){if(!this._inspect)throw new xv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] inspectVideoContent not started\"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}async setImageModeration(e,t){if(Fg(e,\"enabled\"),e){if(!t)throw new xv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] config is necessary\"));if(jg(t.interval,\"interval\",1e3,1/0),\"CONNECTED\"!==this.connectionState||!this._joinInfo)throw new xv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,'] can not enable image moderation, not joined\"'));try{if(this._moderation)return void this._moderation.updateConfig(t);const e=new IM(t);this._moderation=e,this.handleImageModerationEvents(this._moderation),await e.init({appId:this._joinInfo.appId,areaCode:\"\",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},JT)}catch(e){throw Array.isArray(e)?e[0]:e}}else{if(!this._moderation)throw new xv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] image moderation not started\"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}}handleImageModerationEvents(e){e.on(AI.CONNECTION_STATE_CHANGE,((t,i)=>{if(this.safeEmit(dT.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,i),t===yI.CONNECTED){if(\"CONNECTED\"!==this.connectionState)throw this.setImageModeration(!1),new xv(xg.OPERATION_ABORTED,\"Image moderation was cancelled because it left the channel\");e.inspectImage()}})),e.on(AI.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>\"video\"===e.trackMediaType))[0])}))}handleVideoInspectEvents(e){e.on(SI.CONNECTION_STATE_CHANGE,((t,i)=>{if(this.safeEmit(dT.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,i),i===gI.CONNECTED){if(\"CONNECTED\"!==this.connectionState)return void this.safeEmit(dT.CONTENT_INSPECT_ERROR,new xv(xg.OPERATION_ABORTED,\"Content inspect was cancelled because it left the channel\"));e.inspectImage()}})),e.on(SI.INSPECT_RESULT,((e,t)=>{var i;if((null==t?void 0:t.code)===xg.INVALID_OPERATION&&\"DISCONNECTED\"===this.connectionState)return KC.debug(\"Stop inspect content because that has left channel\"),null==this||null===(i=this._inspect)||void 0===i||i.close(),void(this._inspect=void 0);this.safeEmit(dT.CONTENT_INSPECT_RESULT,e,t)})),e.on(SI.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>\"video\"===e.trackMediaType))[0])}))}getJoinChannelServiceRecords(){return KC.debug(\"getJoinChannelServiceRecords\"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){Fg(e,\"enabled\"),LC(\"ENABLE_PUBLISH_AUDIO_FILTER\",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case\"audio\":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case\"video\":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}}Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],qM.prototype,\"leave\",null),Mv([nv({argsMap:(e,t)=>{if(!Array.isArray(t)){if(!(t instanceof iA))return[t];t=[t]}return t.map((e=>e?Object(e).toString():\"null\"))}}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Boolean]),Uv(\"design:returntype\",tg)],qM.prototype,\"publish\",null),Mv([nv({argsMap:(e,t)=>(t||(t=[]),t instanceof sD?[t.getChannelId()]:(Array.isArray(t)||(t=[t]),t.map((e=>e.getTrackId()))))}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",tg)],qM.prototype,\"unpublish\",null),Mv([nv({argsMap:(e,t,i,n)=>[t.uid,i,n]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String,Number]),Uv(\"design:returntype\",tg)],qM.prototype,\"subscribe\",null),Mv([nv({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:i}=e;return[null==t?void 0:t.uid,i]}))}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],qM.prototype,\"massSubscribe\",null),Mv([nv({argsMap:(e,t,i,n)=>[t.uid,i,n]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[NP,String,Number]),Uv(\"design:returntype\",tg)],qM.prototype,\"unsubscribe\",null),Mv([nv({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:i}=e;return{uid:null==t?void 0:t.uid,mediaType:i}}))}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array]),Uv(\"design:returntype\",tg)],qM.prototype,\"massUnsubscribe\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",tg)],qM.prototype,\"setLowStreamParameter\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],qM.prototype,\"enableDualStream\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],qM.prototype,\"disableDualStream\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,Object]),Uv(\"design:returntype\",tg)],qM.prototype,\"setClientRole\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,Boolean]),Uv(\"design:returntype\",void 0)],qM.prototype,\"setProxyServer\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Boolean]),Uv(\"design:returntype\",void 0)],qM.prototype,\"setTurnServer\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",void 0)],qM.prototype,\"setLicense\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Number]),Uv(\"design:returntype\",void 0)],qM.prototype,\"startProxyServer\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],qM.prototype,\"stopProxyServer\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",void 0)],qM.prototype,\"setLocalAccessPointsV2\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Array,String]),Uv(\"design:returntype\",void 0)],qM.prototype,\"setLocalAccessPoints\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Number]),Uv(\"design:returntype\",tg)],qM.prototype,\"setRemoteDefaultVideoStreamType\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Number]),Uv(\"design:returntype\",tg)],qM.prototype,\"setRemoteVideoStreamType\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Number]),Uv(\"design:returntype\",tg)],qM.prototype,\"setStreamFallbackOption\",null),Mv([nv({argsMap:(e,t)=>[t]}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,String,Uint8Array]),Uv(\"design:returntype\",void 0)],qM.prototype,\"setEncryptionConfig\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],qM.prototype,\"renewToken\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",void 0)],qM.prototype,\"enableAudioVolumeIndicator\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,Boolean]),Uv(\"design:returntype\",tg)],qM.prototype,\"startLiveStreaming\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",tg)],qM.prototype,\"setLiveTranscoding\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String]),Uv(\"design:returntype\",tg)],qM.prototype,\"stopLiveStreaming\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[String,Object]),Uv(\"design:returntype\",tg)],qM.prototype,\"addInjectStreamUrl\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],qM.prototype,\"removeInjectStreamUrl\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[AP]),Uv(\"design:returntype\",tg)],qM.prototype,\"startChannelMediaRelay\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[AP]),Uv(\"design:returntype\",tg)],qM.prototype,\"updateChannelMediaRelay\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],qM.prototype,\"stopChannelMediaRelay\",null),Mv([nv({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",tg)],qM.prototype,\"sendCustomReportMessage\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object,Object]),Uv(\"design:returntype\",tg)],qM.prototype,\"pickSVCLayer\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Number]),Uv(\"design:returntype\",tg)],qM.prototype,\"setRTM2Flag\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Object]),Uv(\"design:returntype\",tg)],qM.prototype,\"enableContentInspect\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",tg)],qM.prototype,\"disableContentInspect\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Boolean,Object]),Uv(\"design:returntype\",tg)],qM.prototype,\"setImageModeration\",null),Mv([nv({reportResult:!0}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[]),Uv(\"design:returntype\",Array)],qM.prototype,\"getJoinChannelServiceRecords\",null),Mv([nv(),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[Boolean]),Uv(\"design:returntype\",tg)],qM.prototype,\"setPublishAudioFilterEnabled\",null);class JM{constructor(e,t){nu(this,\"id\",0),nu(this,\"element\",void 0),nu(this,\"peerPair\",void 0),nu(this,\"context\",void 0),nu(this,\"audioPlayerElement\",void 0),nu(this,\"audioTrack\",void 0),JM.count+=1,this.id=JM.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement(\"audio\");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const i=\"offer\"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(i),\"complete\"===e.iceGatheringState?e.localDescription:new tg((t=>{e.onicegatheringstatechange=()=>{\"complete\"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const i=await e(this.peerPair[0],\"offer\");await t(this.peerPair[1],i);const n=await e(this.peerPair[1],\"answer\");await t(this.peerPair[0],n)}catch(e){throw new xv(xg.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination();this.context.createMediaElementSource(e).connect(t)}catch(e){throw new xv(xg.LOCAL_AEC_ERROR,e.toString()).print()}if(!t){throw new xv(xg.LOCAL_AEC_ERROR,\"no dest node when local aec\").print()}const i=t.stream.getAudioTracks()[0];return this.audioTrack=i,i}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){KC.debug(\"close echo cancellation unit, id is\",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}nu(JM,\"count\",0);const zM=window.AudioContext||window.webkitAudioContext;class XM{constructor(){nu(this,\"units\",[]),nu(this,\"context\",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return KC.debug(\"the system does not need to process local aec\"),-1;this.context||(this.context=new zM);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new JM(e,this.context),this.units.push(t)),t.startEchoCancellation(),KC.debug(\"start processing local audio echo cancellation, id is\",t.id),t.id}_doesEnvironmentNeedAEC(){return pg().name!==cg.SAFARI}}Mv([nv({report:rv}),Uv(\"design:type\",Function),Uv(\"design:paramtypes\",[HTMLAudioElement]),Uv(\"design:returntype\",Number)],XM.prototype,\"processExternalMediaAEC\",null);const QM=new XM;function ZM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function $M(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ZM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ZM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const eU=window||document;function tU(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!eU)return;const i=iU._cspEventHandlerPointer;if(i&&t)return void console.error(i,t);const n=e=>{if(!(e&&e.blockedURI&&(iU.onSecurityPolicyViolation||iU.getListeners(vI.SECURITY_POLICY_VIOLATION).length>0)))return;const t=e.blockedURI;kC(\"CSP_DETECTED_HOSTNAME_LIST\").some((e=>Pr(t).call(t,e)))&&(iU.onSecurityPolicyViolation&&\"function\"==typeof iU.onSecurityPolicyViolation&&iU.onSecurityPolicyViolation(e),iU.getListeners(vI.SECURITY_POLICY_VIOLATION).length>0&&iU.safeEmit(vI.SECURITY_POLICY_VIOLATION,e))};i&&eU.removeEventListener(\"securitypolicyviolation\",i),(t||e&&\"function\"==typeof e||iU.getListeners(vI.SECURITY_POLICY_VIOLATION).length>0)&&eU.addEventListener(\"securitypolicyviolation\",n),iU._cspEventHandlerPointer=n}LC(\"PROCESS_ID\",\"process-\".concat(xT(8,\"\"),\"-\").concat(xT(4,\"\"),\"-\").concat(xT(4,\"\"),\"-\").concat(xT(4,\"\"),\"-\").concat(xT(12,\"\"))),function(){const e=pg();pA.getDisplayMedia=function(e){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;return!1}(),pA.getStreamFromExtension=e.name===cg.CHROME&&Number(e.version)>34,pA.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!(\"currentDirection\"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver(\"audio\"),t=!0}catch(e){}return e.close(),t}(),pA.supportMinBitrate=e.name===cg.CHROME||e.name===cg.EDGE,pA.supportSetRtpSenderParameters=function(){const e=pg();if(!window.RTCRtpSender||!window.RTCRtpSender.prototype.setParameters||!window.RTCRtpSender.prototype.getParameters)return!1;return!!kg()||(!(!Sg()&&!mg())||e.name===cg.FIREFOX&&Number(e.version)>=64)}(),e.name===cg.SAFARI&&(Number(e.version)>=14?pA.supportDualStream=!0:pA.supportDualStream=!1),pA.webAudioMediaStreamDest=function(){const e=pg();if(e.name===cg.SAFARI&&Number(e.version)<12)return!1;return!0}(),pA.supportReplaceTrack=function(){if(!window.RTCRtpSender)return!1;if(\"function\"==typeof RTCRtpSender.prototype.replaceTrack)return!0;return!1}(),pA.supportWebGL=\"undefined\"!=typeof WebGLRenderingContext,pA.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,kg()||(pA.webAudioWithAEC=!0),pA.supportShareAudio=function(){const e=pg();if((e.os===ag.WIN_10||e.os===ag.WIN_81||e.os===ag.WIN_7||e.os===ag.LINUX||e.os===ag.MAC_OS)&&e.name===cg.CHROME&&Number(e.version)>=74)return!0;return!1}(),pA.supportDataChannel=function(){if(vg(76)||function(e){const t=pg();return!(t.name!==cg.FIREFOX||!t.osVersion)&&Number(t.version)>=e}(68)||function(e){const t=pg();return!(t.name!==cg.SAFARI||!t.osVersion)&&Number(t.version)>=e}(14))return!0;return!1}(),pA.supportPCSetConfiguration=function(){const e=window.RTCPeerConnection;return!Rg()&&!!e&&e.prototype.setConfiguration instanceof Function}(),pA.supportWebRTCEncodedTransform=function(){const e=pg();return\"Chrome\"===e.name&&Number(e.version)>=86}(),pA.supportWebRTCInsertableStream=function(){const e=pg();return(e.name===cg.CHROME||e.name===cg.EDGE)&&Number(e.version)>=94&&\"MediaStreamTrackGenerator\"in window&&\"MediaStreamTrackProcessor\"in window}(),AT((()=>{pA.supportDualStreamEncoding=function(){const e=pg();if(kC(\"DISABLE_WEBAUDIO\"))return!0;return\"Safari\"===e.name&&Number(e.version)>=14||!!(\"Chrome\"===e.name&&/Windows/i.test(e.os||\"\")&&Number(e.version)>=100&&kC(\"CHROME_DUAL_STREAM_USE_ENCODING\"))}(),KC.info(\"browser compatibility\",JSON.stringify(pA),JSON.stringify(e))}))}(),function(){let e;try{e=window.localStorage.getItem(\"websdk_ng_global_parameter\")}catch(e){return void KC.error(\"Error loading sdk config\",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),i=Date.now();KC.debug(\"Loading global parameters from cache\",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(PC,e)){const{value:n,expires:r}=t[e];if(r&&r<=i)return;MC[e]=n,PC[e]=n}}))}catch(t){KC.error(\"Error loading mutableParamsCache: \".concat(e),t.message)}}(),Array.isArray(MC.AREAS)&&MC.AREAS.length>0&&qD(MC.AREAS,!0);const iU=function(e){const t=new iT,i=e,n={getListeners:t.getListeners.bind(t),on:(e,i)=>(function(e,t){e===vI.SECURITY_POLICY_VIOLATION&&tU(t,!0)}(e,i),t.on.bind(t)(e,i)),addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return $M($M({},i),n)}({__TRACK_LIST__:Dy,VERSION:OC,BUILD:DC,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:(e,t,i)=>{KC.debug(\"setParameter key:\".concat(e,\", value:\").concat(JSON.stringify(t))),LC(e,t,i)},getParameter:kC,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;t.addTransceiver(\"video\",{direction:\"recvonly\"}),t.addTransceiver(\"audio\",{direction:\"recvonly\"});const i=(await t.createOffer()).sdp;if(!i)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push(\"VP8\"),e.match(/ VP9/i)&&t.video.push(\"VP9\"),e.match(/ AV1/i)&&t.video.push(\"AV1\"),e.match(/ H264/i)&&t.video.push(\"H264\"),e.match(/ H265/i)&&t.video.push(\"H265\"),e.match(/ opus/i)&&t.audio.push(\"OPUS\"),e.match(/ PCMU/i)&&t.audio.push(\"PCMU\"),e.match(/ PCMA/i)&&t.audio.push(\"PCMA\"),e.match(/ G722/i)&&t.audio.push(\"G722\"),t}(i)}catch(e){throw new xv(xg.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=rv.reportApiInvoke(null,{name:sT.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:oT.TRACER});let t=!1;try{const e=window.RTCPeerConnection,i=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=window.WebSocket;t=!!(e&&i&&n)}catch(e){return KC.error(\"check system requirement failed: \",e),!1}let i=!1;const n=pg();n.name===cg.CHROME&&Number(n.version)>=58&&(!gg()||fg())&&(i=!0),n.name===cg.FIREFOX&&Number(n.version)>=56&&(i=!0),n.name===cg.OPERA&&Number(n.version)>=45&&(i=!0),n.name===cg.SAFARI&&Number(n.version)>=11&&(i=!0),(Pg()||pg().name===cg.QQ)&&(i=!0),KC.debug(\"checkSystemRequirements, api:\",t,\"browser\",i);const r=t&&i;return e.onSuccess(r),r},getDevices:function(e){return OA.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return OA.getRecordingDevices(e)},getCameras:function(e){return OA.getCamerasDevices(e)},getElectronScreenSources:SA,getPlaybackDevices:function(e){return OA.getSpeakers(e)},createClient:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:\"vp8\",audioCodec:\"opus\",mode:\"rtc\"};const t=rv.reportApiInvoke(null,{name:sT.CREATE_CLIENT,options:[e],tag:oT.TRACER});try{!function(e){Bg(e.codec,\"config.codec\",[\"vp8\",\"vp9\",\"av1\",\"h264\",\"h265\"]),Bg(e.mode,\"config.mode\",[\"rtc\",\"live\"]),void 0!==e.audioCodec&&Bg(e.audioCodec,\"config.audioCodec\",[\"opus\",\"pcmu\",\"pcma\",\"g722\"]),void 0!==e.proxyServer&&Wg(e.proxyServer,\"config.proxyServer\",1,1e4),void 0!==e.turnServer&&ET(e.turnServer),void 0!==e.httpRetryConfig&&pT(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&pT(e.websocketRetryConfig)}(e)}catch(e){throw t.onError(e),e}return HM()||(\"vp9\"===e.codec&&(e.codec=\"vp8\",KC.debug(\"browser not support vp9, force use vp8\")),LC(\"UNSUPPORTED_VIDEO_CODEC\",[\"vp9\"])),void 0===e.audioCodec&&(e.audioCodec=\"opus\"),t.onSuccess(),new qM(YM(YM({forceWaitGatewayResponse:!0},e),{},{role:\"rtc\"===e.mode?\"host\":e.role||\"audience\"}))},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.CREATE_CAM_VIDEO_TRACK,options:[vb({},e)]}),i=ib(e),n=xT(8,\"track-cam-\");let r=null;const s=\"720p_auto\"===e.encoderConfig;KC.info(\"start create camera video track with config\",JSON.stringify(e),\"trackId\",n);try{r=(await yA({video:i},n)).getVideoTracks()[0]||null}catch(e){throw t.onError(e),e}if(!r){const e=new Vg(xg.UNEXPECTED_ERROR,\"can not find track in media stream\");return t.onError(e),e.throw(KC)}e.optimizationMode&&Ib(n,r,e,Ay(e.encoderConfig));const o=new Rb(r,e,i,e.scalabiltyMode?wy(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,n);return s&&o.startMonitorStats(),t.onSuccess(o.getTrackId()),KC.info(\"create camera video success, trackId:\",n),o},createCustomVideoTrack:function(e){const t=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),i=new Sb(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?wy(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,xT(8,\"track-cus-\"),[ky.CUSTOM_TRACK]);return t.onSuccess(i.getTrackId()),KC.info(\"create custom video track success with config\",e,\"trackId\",i.getTrackId()),i},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"disable\";const i=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.CREATE_SCREEN_VIDEO_TRACK,options:[vb({},e),t]}),n=\"720p_auto\"===e.encoderConfig;e.encoderConfig?\"string\"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig=\"1080p_2\";const r=function(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&Tg()&&(t.extensionId=e.extensionId);const{displaySurface:i,selfBrowserSurface:n,surfaceSwitching:r,systemAudio:s}=e;(vg(107)||Ig(107)||yg(93))&&(i&&(Bg(i,\"displaySurface\",[\"browser\",\"window\",\"monitor\"]),t.displaySurface=i),n?(Bg(n,\"selfBrowserSurface\",[\"exclude\",\"include\"]),t.selfBrowserSurface=n):t.selfBrowserSurface=\"include\",r&&(Bg(r,\"surfaceSwitching\",[\"exclude\",\"include\"]),t.surfaceSwitching=r)),(vg(105)||Ig(105)||yg(91))&&s&&(Bg(s,\"systemAudio\",[\"exclude\",\"include\"]),t.systemAudio=s),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const o=e.encoderConfig?by(e.encoderConfig):null;return t.mandatory={chromeMediaSource:\"desktop\",maxWidth:o?o.width:void 0,maxHeight:o?o.height:void 0},o&&(o.frameRate&&(\"number\"==typeof o.frameRate?(t.mandatory.maxFrameRate=o.frameRate,t.mandatory.minFrameRate=o.frameRate):(t.mandatory.maxFrameRate=o.frameRate.max||o.frameRate.ideal||o.frameRate.exact||void 0,t.mandatory.minFrameRate=o.frameRate.min||o.frameRate.ideal||o.frameRate.exact||void 0),t.frameRate=o.frameRate),o.width&&(t.width=o.width),o.height&&(t.height=o.height)),t}(e),s=xT(8,\"track-scr-v-\");let o=null,a=null;const c=_A();if(!c.supportShareAudio&&\"enable\"===t){const e=new Vg(xg.NOT_SUPPORTED,\"your browser or platform is not support share-screen with audio\");return i.onError(e),e.throw(KC)}KC.info(\"start create screen video track with config\",e,\"withAudio\",t,\"trackId\",s);try{const e=await yA({screen:r,screenAudio:\"auto\"===t?c.supportShareAudio:\"enable\"===t},s);o=e.getVideoTracks()[0]||null,a=e.getAudioTracks()[0]||null}catch(e){throw i.onError(e),e}if(!o){const e=new Vg(xg.UNEXPECTED_ERROR,\"can not find track in media stream\");return i.onError(e),e.throw(KC)}if(!a&&\"enable\"===t){o&&o.stop();const e=new Vg(xg.SHARE_AUDIO_NOT_ALLOWED);return i.onError(e),e.throw(KC)}if(e.optimizationMode||(e.optimizationMode=\"detail\"),e.optimizationMode){Ib(s,o,e,e.encoderConfig&&by(e.encoderConfig)||void 0),e.encoderConfig&&\"string\"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax)}const d=new Sb(o,e.encoderConfig?by(e.encoderConfig):{},e.scalabiltyMode?wy(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,s,[ky.SCREEN_TRACK]);if(n&&d.startMonitorStats(),!a)return i.onSuccess(d.getTrackId()),KC.info(\"create screen video track success\",\"video:\",d.getTrackId()),d;const l=new ZA(a,void 0,xT(8,\"track-scr-a-\"),!1,!0);return i.onSuccess([d.getTrackId(),l.getTrackId()]),KC.info(\"create screen video track success\",\"video:\",d.getTrackId(),\"audio:\",l.getTrackId()),[d,l]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.CREATE_MIC_AND_CAM_TRACKS,options:[e,t]}),n=\"720p_auto\"===t.encoderConfig,r=ib(t),s=nb(e),o=xT(8,\"track-mic-\"),a=xT(8,\"track-cam-\");let c=null,d=null;KC.info(\"start create camera video track(\".concat(a,\") and microphone audio track(\").concat(o,\") with config, audio: \").concat(JSON.stringify(e),\", video: \").concat(JSON.stringify(t)));try{const e=await yA({audio:s,video:r},\"\".concat(o,\"-\").concat(a));c=e.getAudioTracks()[0],d=e.getVideoTracks()[0]}catch(e){throw i.onError(e),e}if(!c||!d){const e=new Vg(xg.UNEXPECTED_ERROR,\"can not find tracks in media stream\");return i.onError(e),e.throw(KC)}t.optimizationMode&&Ib(a,d,t,Ay(t.encoderConfig));const l=new $A(c,e,s,o),h=new Rb(d,t,r,t.scalabiltyMode?wy(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,a);return n&&h.startMonitorStats(),i.onSuccess([l.getTrackId(),h.getTrackId()]),KC.info(\"create camera video track(\".concat(a,\") and microphone audio track(\").concat(o,\") success\")),[l,h]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.CREATE_MIC_AUDIO_TRACK,options:[e]}),i=nb(e),n=xT(8,\"track-mic-\");let r=null;KC.info(\"start create microphone audio track with config\",JSON.stringify(e),\"trackId\",n);try{r=(await yA({audio:i},n)).getAudioTracks()[0]||null}catch(e){throw t.onError(e),e}if(!r){const e=new Vg(xg.UNEXPECTED_ERROR,\"can not find track in media stream\");return t.onError(e),e.throw(KC)}const s=new $A(r,e,i,n);return t.onSuccess(s.getTrackId()),KC.info(\"create microphone audio track success, trackId:\",n),s},createCustomAudioTrack:function(e){const t=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),i=new ZA(e.mediaStreamTrack,e.encoderConfig?Ny(e.encoderConfig):{},xT(8,\"track-cus-\"),!1,!0);return KC.info(\"create custom audio track success with config\",e,\"trackId\",i.getTrackId()),t.onSuccess(i.getTrackId()),i},createBufferSourceAudioTrack:async function(e){var t;const{cacheOnlineFile:i,encoderConfig:n}=e;let{source:r}=e;const s={source:r instanceof AudioBuffer?\"AudioBuffer\":r instanceof File?null!==(t=File.name)&&void 0!==t?t:\"File\":r,cacheOnlineFile:i,encoderConfig:n},o=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.CREATE_BUFFER_AUDIO_TRACK,options:[s]});if(kC(\"DISABLE_WEBAUDIO\"))throw new Vg(xg.NOT_SUPPORTED,\"can not create BufferSourceAudioTrack when WebAudio disabled\");const a=xT(8,\"track-buf-\");KC.info(\"start create buffer source audio track with config\",JSON.stringify(s),\"trackId\",a);const c=r;if(!(r instanceof AudioBuffer))try{r=await ob(r,i)}catch(e){return o.onError(e),e.throw(KC)}const d=new rb(r),l=new eb(c,d,n?Ny(n):{},a);return KC.info(\"create buffer source audio track success, trackId:\",a),o.onSuccess(l.getTrackId()),l},setAppType:function(e){if(KC.debug(\"setAppType: \".concat(e)),!(Number.isInteger(e)&&e>=0))throw KC.debug(\"Invalid appType\"),new xv(xg.INVALID_PARAMS,\"invalid app type\",e);LC(\"APP_TYPE\",Math.floor(e))},setLogLevel:function(e){KC.setLogLevel(e)},enableLogUpload:function(){kC(\"USE_NEW_LOG\")?LC(\"UPLOAD_LOG\",!0):KC.enableLogUpload()},disableLogUpload:function(){kC(\"USE_NEW_LOG\")?LC(\"UPLOAD_LOG\",!1):KC.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new AP},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof ZA||e instanceof Ob)){const e=new xv(xg.INVALID_TRACK,\"the parameter is not a audio track\");return i.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const n=e instanceof ZA?e.getTrackLabel():\"remote_track\",r=e.getVolumeLevel();let s=r,o=r;const a=Date.now();return new tg((r=>{const c=setInterval((()=>{const d=e.getVolumeLevel();s=d>s?d:s,o=d<o?d:o;const l=s-o>1e-4,h=Date.now()-a;if(l||h>t){clearInterval(c);const t=l,o={duration:h,deviceLabel:n,maxVolumeLevel:s,result:t};KC.info(\"[track-\".concat(e.getTrackId(),\"] check audio track active completed. \").concat(JSON.stringify(o))),i.onSuccess(o),r(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=rv.reportApiInvoke(null,{tag:oT.TRACER,name:sT.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof Sb||e instanceof wb)){const e=new xv(xg.INVALID_TRACK,\"the parameter is not a video track\");return i.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const n=e instanceof Sb?e.getTrackLabel():\"remote_track\",r=e.getMediaStreamTrack(!0),s=document.createElement(\"video\");s.style.width=\"1px\",s.style.height=\"1px\",s.setAttribute(\"muted\",\"\"),s.muted=!0,s.setAttribute(\"playsinline\",\"\"),s.controls=!1,(Sg()||mg())&&(s.style.opacity=\"0.01\",s.style.position=\"fixed\",s.style.left=\"0\",s.style.top=\"0\",document.body.appendChild(s)),s.srcObject=new MediaStream([r]),s.play();const o=document.createElement(\"canvas\");o.width=160,o.height=120;let a=0,c=0;try{const e=Date.now();a=await function(e,t,i,n){let r,s=0,o=null;return new tg(((a,c)=>{function d(){s>n&&r&&(r(),a(s));const t=i.getContext(\"2d\");if(!t){const e=new xv(xg.UNEXPECTED_ERROR,\"can not get canvas 2d context.\");return KC.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const d=t.getImageData(0,0,i.width,i.height),l=Math.floor(d.data.length/3);if(o){for(let e=0;e<l;e+=3)if(d.data[e]!==o[e])return s+=1,void(o=d.data);o=d.data}else o=d.data}setTimeout((()=>{r&&(r(),a(s))}),t),r=uA((()=>{d()}),30)}))}(s,t,o,4),c=Date.now()-e}catch(e){throw i.onError(e),e}WM===cg.SAFARI&&(s.pause(),s.remove()),s.srcObject=null;const d=a>4,l={duration:c,changedPicNum:a,deviceLabel:n,result:d};return KC.info(\"[track-\".concat(e.getTrackId(),\"] check video track active completed. \").concat(JSON.stringify(l))),i.onSuccess(l),d},setArea:qD,audioElementPlayCenter:xA,processExternalMediaAEC:function(e){QM.processExternalMediaAEC(e)},registerExtensions:function(e){e.forEach((e=>{const t=e;t.__registered__=!0,t.logger.hookLog=KC.extLog,t.reporter.hookApiInvoke=rv.extApiInvoke,t.parameters&&Object.keys(t.parameters).forEach((e=>{t.parameters[e]=kC(e)}))}))},ChannelMediaRelayError:Zv,ChannelMediaRelayEvent:Xv,ChannelMediaRelayState:Qv,RemoteStreamFallbackType:xy,RemoteStreamType:Uy,ConnectionDisconnectedReason:cT,AudienceLatencyLevelType:aT,AREAS:rI});return Object.defineProperties(iU,{onAudioAutoplayFailed:{get:()=>DA.onAudioAutoplayFailed,set:e=>{DA.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>DA.onAutoplayFailed,set:e=>{DA.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>iU._onSecurityPolicyViolation,set(e){iU._onSecurityPolicyViolation=e,tU(e)}},__CLIENT_LIST__:{get:()=>kC(\"SHOW_GLOBAL_CLIENT_LIST\")?cv:[]}}),OA.on(Qy.CAMERA_DEVICE_CHANGED,(e=>{KC.info(\"camera device changed\",JSON.stringify(e)),iU.onCameraChanged&&iU.onCameraChanged(e),iU.safeEmit(vI.CAMERA_CHANGED,e)})),OA.on(Qy.RECORDING_DEVICE_CHANGED,(e=>{KC.info(\"microphone device changed\",JSON.stringify(e)),iU.onMicrophoneChanged&&iU.onMicrophoneChanged(e),iU.safeEmit(vI.MICROPHONE_CHANGED,e)})),OA.on(Qy.PLAYOUT_DEVICE_CHANGED,(e=>{KC.debug(\"playout device changed\",JSON.stringify(e)),iU.onPlaybackDeviceChanged&&iU.onPlaybackDeviceChanged(e),iU.safeEmit(vI.PLAYBACK_DEVICE_CHANGED,e)})),xA.onAutoplayFailed=()=>{KC.info(\"detect audio element autoplay failed\"),DA.onAudioAutoplayFailed&&DA.onAudioAutoplayFailed()},oA.on(\"autoplay-failed\",(()=>{KC.info(\"detect webaudio autoplay failed\"),DA.onAudioAutoplayFailed&&DA.onAudioAutoplayFailed(),iU.safeEmit(vI.AUTOPLAY_FAILED)})),RT.on(uT.NETWORK_STATE_CHANGE,((e,t)=>{KC.info(\"[network-indicator] network state changed, \".concat(t,\" => \").concat(e))})),window&&(window.__ARTC__=iU),iU}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYWdvcmEtcnRjLXNkay1uZy9BZ29yYVJUQ19OLXByb2R1Y3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxLQUFvRCxvQkFBb0IsQ0FBa0gsQ0FBQyxrQkFBa0IsYUFBYSxnQkFBZ0IsOEJBQThCLDhFQUE4RSw2QkFBNkIsMkNBQTJDLG1DQUFtQyw2QkFBNkIsYUFBYSxHQUFHLEdBQUcsb0JBQW9CLGNBQWMsa0JBQWtCLG1CQUFtQix5Q0FBeUMsa0JBQWtCLCtCQUErQiwyREFBMkQsaUNBQWlDLHdDQUF3QyxZQUFZLGFBQWEsMENBQTBDLHdDQUF3QyxnR0FBZ0csOEJBQThCLG9DQUFvQyw2RUFBNkUsNERBQTRELGlDQUFpQywwS0FBMEssaUNBQWlDLE1BQU0scUJBQXFCLFFBQVEsNEhBQTRILCtCQUErQixFQUFFLGNBQWMsNkpBQTZKLGNBQWMsNkpBQTZKLGFBQWEsNEJBQTRCLFlBQVksbUdBQW1HLGdCQUFnQiwrREFBK0QsY0FBYyw0REFBNEQsY0FBYyxpREFBaUQsNkRBQTZELHdDQUF3QyxNQUFNLEVBQUUsSUFBSSxJQUFJLGtCQUFrQiw0REFBNEQseUVBQXlFLGdCQUFnQixHQUFHLElBQUksa0JBQWtCLGlEQUFpRCxxQkFBcUIsV0FBVyxzQkFBc0Isc0RBQXNELGtCQUFrQixlQUFlLHVDQUF1QyxHQUFHLEtBQUssVUFBVSxnQkFBZ0IsdUJBQXVCLDBCQUEwQixvQkFBb0Isd0RBQXdELFdBQVcsbUNBQW1DLDJEQUEyRCxvQ0FBb0MsWUFBWSxrRUFBa0Usc0JBQXNCLDZFQUE2RSxxQkFBcUIsMEJBQTBCLFNBQVMsdUVBQXVFLG1GQUFtRix1RUFBdUUsMERBQTBELDJDQUEyQywyQkFBMkIsR0FBRyxrRUFBa0UsaUJBQWlCLDZCQUE2QixnRUFBZ0Usd0JBQXdCLDRDQUE0QywySkFBMkosZ0NBQWdDLHlCQUF5Qiw0QkFBNEIsUUFBUSxFQUFFLHFCQUFxQixrTUFBa00sTUFBTSx1TUFBdU0seUdBQXlH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QiwyQkFBMkIsb0JBQW9CLGdDQUFnQyxXQUFXLGlCQUFpQixhQUFhLG9EQUFvRCxrSUFBa0ksT0FBTyxHQUFHLDJDQUEyQyxpRUFBaUUsaUNBQWlDLDhEQUE4RCxFQUFFLHdDQUF3QyxzRUFBc0UsOEJBQThCLGtCQUFrQix1SEFBdUgsc1NBQXNTLHlDQUF5Qyx5QkFBeUIsWUFBWSxJQUFJLG1CQUFtQiwwQkFBMEIsaUJBQWlCLHVCQUF1QixhQUFhLG1CQUFtQiwyQkFBMkIsT0FBTyxxRUFBcUUsd0NBQXdDLDJCQUEyQiwyRUFBMkUsTUFBTSxZQUFZLElBQUksb0RBQW9ELFNBQVMsY0FBYyxpQkFBaUIsY0FBYyxnQkFBZ0IsSUFBSSxNQUFNLEdBQUcseUJBQXlCLFNBQVMscUJBQXFCLHdEQUF3RCxlQUFlLG1EQUFtRCxxSUFBcUksMEVBQTBFLDhCQUE4QixnQ0FBZ0MsZUFBZSxVQUFVLDZJQUE2SSxzQkFBc0IsR0FBRyxHQUFHLG9NQUFvTSxFQUFFLG1DQUFtQyx1QkFBdUIseUNBQXlDLDRCQUE0QixtQkFBbUIsb0NBQW9DLHVCQUF1Qiw2QkFBNkIseUJBQXlCLDBCQUEwQix5QkFBeUIsNEJBQTRCLDZDQUE2Qyx1Q0FBdUMsa0JBQWtCLDZDQUE2QyxzQ0FBc0MsOEhBQThILDBDQUEwQyw4SUFBOEksd0NBQXdDLHlKQUF5Siw0QkFBNEIscUdBQXFHLCtCQUErQixnSUFBZ0ksMENBQTBDLGtGQUFrRixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2Fnb3JhLXJ0Yy1zZGstbmcvQWdvcmFSVENfTi1wcm9kdWN0aW9uLmpzPzdhOTciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBZ29yYVdlYlNES19OLXY0LjE5LjMtMC1nYjJjYThjYTcgQ29weXJpZ2h0IEFnb3JhSW5jLlxuICovXG5cbiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHQpOihlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZikuQWdvcmFSVEM9dCgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXt0JiZcInN0cmluZ1wiIT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCkmJk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGkpe2lmKFwiZGVmYXVsdFwiIT09aSYmIShpIGluIGUpKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsaSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxuLmdldD9uOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W2ldfX0pfX0pKX0pKSxPYmplY3QuZnJlZXplKGUpfWxldCB0PSEwLGk9ITA7ZnVuY3Rpb24gbihlLHQsaSl7Y29uc3Qgbj1lLm1hdGNoKHQpO3JldHVybiBuJiZuLmxlbmd0aD49aSYmcGFyc2VJbnQobltpXSwxMCl9ZnVuY3Rpb24gcihlLHQsaSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUscj1uLmFkZEV2ZW50TGlzdGVuZXI7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsbil7aWYoZSE9PXQpcmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IHM9ZT0+e2NvbnN0IHQ9aShlKTt0JiYobi5oYW5kbGVFdmVudD9uLmhhbmRsZUV2ZW50KHQpOm4odCkpfTtyZXR1cm4gdGhpcy5fZXZlbnRNYXA9dGhpcy5fZXZlbnRNYXB8fHt9LHRoaXMuX2V2ZW50TWFwW3RdfHwodGhpcy5fZXZlbnRNYXBbdF09bmV3IE1hcCksdGhpcy5fZXZlbnRNYXBbdF0uc2V0KG4scyksci5hcHBseSh0aGlzLFtlLHNdKX07Y29uc3Qgcz1uLnJlbW92ZUV2ZW50TGlzdGVuZXI7bi5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsaSl7aWYoZSE9PXR8fCF0aGlzLl9ldmVudE1hcHx8IXRoaXMuX2V2ZW50TWFwW3RdKXJldHVybiBzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5fZXZlbnRNYXBbdF0uaGFzKGkpKXJldHVybiBzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjb25zdCBuPXRoaXMuX2V2ZW50TWFwW3RdLmdldChpKTtyZXR1cm4gdGhpcy5fZXZlbnRNYXBbdF0uZGVsZXRlKGkpLDA9PT10aGlzLl9ldmVudE1hcFt0XS5zaXplJiZkZWxldGUgdGhpcy5fZXZlbnRNYXBbdF0sMD09PU9iamVjdC5rZXlzKHRoaXMuX2V2ZW50TWFwKS5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9ldmVudE1hcCxzLmFwcGx5KHRoaXMsW2Usbl0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIm9uXCIrdCx7Z2V0KCl7cmV0dXJuIHRoaXNbXCJfb25cIit0XX0sc2V0KGUpe3RoaXNbXCJfb25cIit0XSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHRoaXNbXCJfb25cIit0XSksZGVsZXRlIHRoaXNbXCJfb25cIit0XSksZSYmdGhpcy5hZGRFdmVudExpc3RlbmVyKHQsdGhpc1tcIl9vblwiK3RdPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWZ1bmN0aW9uIHMoZSl7cmV0dXJuXCJib29sZWFuXCIhPXR5cGVvZiBlP25ldyBFcnJvcihcIkFyZ3VtZW50IHR5cGU6IFwiK3R5cGVvZiBlK1wiLiBQbGVhc2UgdXNlIGEgYm9vbGVhbi5cIik6KHQ9ZSxlP1wiYWRhcHRlci5qcyBsb2dnaW5nIGRpc2FibGVkXCI6XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZW5hYmxlZFwiKX1mdW5jdGlvbiBvKGUpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgZT9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIit0eXBlb2YgZStcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOihpPSFlLFwiYWRhcHRlci5qcyBkZXByZWNhdGlvbiB3YXJuaW5ncyBcIisoZT9cImRpc2FibGVkXCI6XCJlbmFibGVkXCIpKX1mdW5jdGlvbiBhKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyl7aWYodClyZXR1cm47XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUubG9nJiZjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGMoZSx0KXtpJiZjb25zb2xlLndhcm4oZStcIiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFwiK3QrXCIgaW5zdGVhZC5cIil9ZnVuY3Rpb24gZChlKXtyZXR1cm5cIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGQoZSk/T2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbih0LGkpe2NvbnN0IG49ZChlW2ldKSxyPW4/bChlW2ldKTplW2ldLHM9biYmIU9iamVjdC5rZXlzKHIpLmxlbmd0aDtyZXR1cm4gdm9pZCAwPT09cnx8cz90Ok9iamVjdC5hc3NpZ24odCx7W2ldOnJ9KX0pLHt9KTplfWZ1bmN0aW9uIGgoZSx0LGkpe3QmJiFpLmhhcyh0LmlkKSYmKGkuc2V0KHQuaWQsdCksT2JqZWN0LmtleXModCkuZm9yRWFjaCgobj0+e24uZW5kc1dpdGgoXCJJZFwiKT9oKGUsZS5nZXQodFtuXSksaSk6bi5lbmRzV2l0aChcIklkc1wiKSYmdFtuXS5mb3JFYWNoKCh0PT57aChlLGUuZ2V0KHQpLGkpfSkpfSkpKX1mdW5jdGlvbiB1KGUsdCxpKXtjb25zdCBuPWk/XCJvdXRib3VuZC1ydHBcIjpcImluYm91bmQtcnRwXCIscj1uZXcgTWFwO2lmKG51bGw9PT10KXJldHVybiByO2NvbnN0IHM9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e1widHJhY2tcIj09PWUudHlwZSYmZS50cmFja0lkZW50aWZpZXI9PT10LmlkJiZzLnB1c2goZSl9KSkscy5mb3JFYWNoKCh0PT57ZS5mb3JFYWNoKChpPT57aS50eXBlPT09biYmaS50cmFja0lkPT09dC5pZCYmaChlLGkscil9KSl9KSkscn1jb25zdCBwPWE7ZnVuY3Rpb24gXyhlLHQpe2NvbnN0IGk9ZSYmZS5uYXZpZ2F0b3I7aWYoIWkubWVkaWFEZXZpY2VzKXJldHVybjtjb25zdCBuPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxlLm1hbmRhdG9yeXx8ZS5vcHRpb25hbClyZXR1cm4gZTtjb25zdCB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57aWYoXCJyZXF1aXJlXCI9PT1pfHxcImFkdmFuY2VkXCI9PT1pfHxcIm1lZGlhU291cmNlXCI9PT1pKXJldHVybjtjb25zdCBuPVwib2JqZWN0XCI9PXR5cGVvZiBlW2ldP2VbaV06e2lkZWFsOmVbaV19O3ZvaWQgMCE9PW4uZXhhY3QmJlwibnVtYmVyXCI9PXR5cGVvZiBuLmV4YWN0JiYobi5taW49bi5tYXg9bi5leGFjdCk7Y29uc3Qgcj1mdW5jdGlvbihlLHQpe3JldHVybiBlP2UrdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpOlwiZGV2aWNlSWRcIj09PXQ/XCJzb3VyY2VJZFwiOnR9O2lmKHZvaWQgMCE9PW4uaWRlYWwpe3Qub3B0aW9uYWw9dC5vcHRpb25hbHx8W107bGV0IGU9e307XCJudW1iZXJcIj09dHlwZW9mIG4uaWRlYWw/KGVbcihcIm1pblwiLGkpXT1uLmlkZWFsLHQub3B0aW9uYWwucHVzaChlKSxlPXt9LGVbcihcIm1heFwiLGkpXT1uLmlkZWFsLHQub3B0aW9uYWwucHVzaChlKSk6KGVbcihcIlwiLGkpXT1uLmlkZWFsLHQub3B0aW9uYWwucHVzaChlKSl9dm9pZCAwIT09bi5leGFjdCYmXCJudW1iZXJcIiE9dHlwZW9mIG4uZXhhY3Q/KHQubWFuZGF0b3J5PXQubWFuZGF0b3J5fHx7fSx0Lm1hbmRhdG9yeVtyKFwiXCIsaSldPW4uZXhhY3QpOltcIm1pblwiLFwibWF4XCJdLmZvckVhY2goKGU9Pnt2b2lkIDAhPT1uW2VdJiYodC5tYW5kYXRvcnk9dC5tYW5kYXRvcnl8fHt9LHQubWFuZGF0b3J5W3IoZSxpKV09bltlXSl9KSl9KSksZS5hZHZhbmNlZCYmKHQub3B0aW9uYWw9KHQub3B0aW9uYWx8fFtdKS5jb25jYXQoZS5hZHZhbmNlZCkpLHR9LHI9ZnVuY3Rpb24oZSxyKXtpZih0LnZlcnNpb24+PTYxKXJldHVybiByKGUpO2lmKChlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKSYmXCJvYmplY3RcIj09dHlwZW9mIGUuYXVkaW8pe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0LGkpe3QgaW4gZSYmIShpIGluIGUpJiYoZVtpXT1lW3RdLGRlbGV0ZSBlW3RdKX07dCgoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcImdvb2dBdXRvR2FpbkNvbnRyb2xcIiksdChlLmF1ZGlvLFwibm9pc2VTdXBwcmVzc2lvblwiLFwiZ29vZ05vaXNlU3VwcHJlc3Npb25cIiksZS5hdWRpbz1uKGUuYXVkaW8pfWlmKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnZpZGVvKXtsZXQgcz1lLnZpZGVvLmZhY2luZ01vZGU7cz1zJiYoXCJvYmplY3RcIj09dHlwZW9mIHM/czp7aWRlYWw6c30pO2NvbnN0IG89dC52ZXJzaW9uPDY2O2lmKHMmJihcInVzZXJcIj09PXMuZXhhY3R8fFwiZW52aXJvbm1lbnRcIj09PXMuZXhhY3R8fFwidXNlclwiPT09cy5pZGVhbHx8XCJlbnZpcm9ubWVudFwiPT09cy5pZGVhbCkmJighaS5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHN8fCFpLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpLmZhY2luZ01vZGV8fG8pKXtsZXQgdDtpZihkZWxldGUgZS52aWRlby5mYWNpbmdNb2RlLFwiZW52aXJvbm1lbnRcIj09PXMuZXhhY3R8fFwiZW52aXJvbm1lbnRcIj09PXMuaWRlYWw/dD1bXCJiYWNrXCIsXCJyZWFyXCJdOlwidXNlclwiIT09cy5leGFjdCYmXCJ1c2VyXCIhPT1zLmlkZWFsfHwodD1bXCJmcm9udFwiXSksdClyZXR1cm4gaS5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGk9PntsZXQgbz0oaT1pLmZpbHRlcigoZT0+XCJ2aWRlb2lucHV0XCI9PT1lLmtpbmQpKSkuZmluZCgoZT0+dC5zb21lKCh0PT5lLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModCkpKSkpO3JldHVybiFvJiZpLmxlbmd0aCYmdC5pbmNsdWRlcyhcImJhY2tcIikmJihvPWlbaS5sZW5ndGgtMV0pLG8mJihlLnZpZGVvLmRldmljZUlkPXMuZXhhY3Q/e2V4YWN0Om8uZGV2aWNlSWR9OntpZGVhbDpvLmRldmljZUlkfSksZS52aWRlbz1uKGUudmlkZW8pLHAoXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxyKGUpfSkpfWUudmlkZW89bihlLnZpZGVvKX1yZXR1cm4gcChcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLHIoZSl9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQudmVyc2lvbj49NjQ/ZTp7bmFtZTp7UGVybWlzc2lvbkRlbmllZEVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsUGVybWlzc2lvbkRpc21pc3NlZEVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsSW52YWxpZFN0YXRlRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixEZXZpY2VzTm90Rm91bmRFcnJvcjpcIk5vdEZvdW5kRXJyb3JcIixDb25zdHJhaW50Tm90U2F0aXNmaWVkRXJyb3I6XCJPdmVyY29uc3RyYWluZWRFcnJvclwiLFRyYWNrU3RhcnRFcnJvcjpcIk5vdFJlYWRhYmxlRXJyb3JcIixNZWRpYURldmljZUZhaWxlZER1ZVRvU2h1dGRvd246XCJOb3RBbGxvd2VkRXJyb3JcIixNZWRpYURldmljZUtpbGxTd2l0Y2hPbjpcIk5vdEFsbG93ZWRFcnJvclwiLFRhYkNhcHR1cmVFcnJvcjpcIkFib3J0RXJyb3JcIixTY3JlZW5DYXB0dXJlRXJyb3I6XCJBYm9ydEVycm9yXCIsRGV2aWNlQ2FwdHVyZUVycm9yOlwiQWJvcnRFcnJvclwifVtlLm5hbWVdfHxlLm5hbWUsbWVzc2FnZTplLm1lc3NhZ2UsY29uc3RyYWludDplLmNvbnN0cmFpbnR8fGUuY29uc3RyYWludE5hbWUsdG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lKyh0aGlzLm1lc3NhZ2UmJlwiOiBcIikrdGhpcy5tZXNzYWdlfX19O2lmKGkuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsdCxuKXtyKGUsKGU9PntpLndlYmtpdEdldFVzZXJNZWRpYShlLHQsKGU9PntuJiZuKHMoZSkpfSkpfSkpfS5iaW5kKGkpLGkubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl7Y29uc3QgZT1pLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChpLm1lZGlhRGV2aWNlcyk7aS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKHQpe3JldHVybiByKHQsKHQ9PmUodCkudGhlbigoZT0+e2lmKHQuYXVkaW8mJiFlLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHx0LnZpZGVvJiYhZS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyBlLmdldFRyYWNrcygpLmZvckVhY2goKGU9PntlLnN0b3AoKX0pKSxuZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJOb3RGb3VuZEVycm9yXCIpO3JldHVybiBlfSksKGU9PlByb21pc2UucmVqZWN0KHMoZSkpKSkpKX19fWZ1bmN0aW9uIEUoZSl7ZS5NZWRpYVN0cmVhbT1lLk1lZGlhU3RyZWFtfHxlLndlYmtpdE1lZGlhU3RyZWFtfWZ1bmN0aW9uIG0oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24mJiEoXCJvbnRyYWNrXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9udHJhY2tcIix7Z2V0KCl7cmV0dXJuIHRoaXMuX29udHJhY2t9LHNldChlKXt0aGlzLl9vbnRyYWNrJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29udHJhY2spLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb250cmFjaz1lKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KTtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29udHJhY2twb2x5fHwodGhpcy5fb250cmFja3BvbHk9dD0+e3Quc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLChpPT57bGV0IG47bj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM/dGhpcy5nZXRSZWNlaXZlcnMoKS5maW5kKChlPT5lLnRyYWNrJiZlLnRyYWNrLmlkPT09aS50cmFjay5pZCkpOnt0cmFjazppLnRyYWNrfTtjb25zdCByPW5ldyBFdmVudChcInRyYWNrXCIpO3IudHJhY2s9aS50cmFjayxyLnJlY2VpdmVyPW4sci50cmFuc2NlaXZlcj17cmVjZWl2ZXI6bn0sci5zdHJlYW1zPVt0LnN0cmVhbV0sdGhpcy5kaXNwYXRjaEV2ZW50KHIpfSkpLHQuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKGk9PntsZXQgbjtuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz90aGlzLmdldFJlY2VpdmVycygpLmZpbmQoKGU9PmUudHJhY2smJmUudHJhY2suaWQ9PT1pLmlkKSk6e3RyYWNrOml9O2NvbnN0IHI9bmV3IEV2ZW50KFwidHJhY2tcIik7ci50cmFjaz1pLHIucmVjZWl2ZXI9bixyLnRyYW5zY2VpdmVyPXtyZWNlaXZlcjpufSxyLnN0cmVhbXM9W3Quc3RyZWFtXSx0aGlzLmRpc3BhdGNoRXZlbnQocil9KSl9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMuX29udHJhY2twb2x5KSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWVsc2UgcihlLFwidHJhY2tcIiwoZT0+KGUudHJhbnNjZWl2ZXJ8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwidHJhbnNjZWl2ZXJcIix7dmFsdWU6e3JlY2VpdmVyOmUucmVjZWl2ZXJ9fSksZSkpKX1mdW5jdGlvbiBmKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZlLlJUQ1BlZXJDb25uZWN0aW9uJiYhKFwiZ2V0U2VuZGVyc1wiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpJiZcImNyZWF0ZURUTUZTZW5kZXJcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCl7cmV0dXJue3RyYWNrOnQsZ2V0IGR0bWYoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fZHRtZiYmKFwiYXVkaW9cIj09PXQua2luZD90aGlzLl9kdG1mPWUuY3JlYXRlRFRNRlNlbmRlcih0KTp0aGlzLl9kdG1mPW51bGwpLHRoaXMuX2R0bWZ9LF9wYzplfX07aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnMpe2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSx0aGlzLl9zZW5kZXJzLnNsaWNlKCl9O2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSxuKXtsZXQgcj1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gcnx8KHI9dCh0aGlzLGUpLHRoaXMuX3NlbmRlcnMucHVzaChyKSkscn07Y29uc3Qgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaz1mdW5jdGlvbihlKXtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjb25zdCB0PXRoaXMuX3NlbmRlcnMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX3NlbmRlcnMuc3BsaWNlKHQsMSl9fWNvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLGkuYXBwbHkodGhpcyxbZV0pLGUuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+e3RoaXMuX3NlbmRlcnMucHVzaCh0KHRoaXMsZSkpfSkpfTtjb25zdCBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSxuLmFwcGx5KHRoaXMsW2VdKSxlLmdldFRyYWNrcygpLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMuX3NlbmRlcnMuZmluZCgodD0+dC50cmFjaz09PWUpKTt0JiZ0aGlzLl9zZW5kZXJzLnNwbGljZSh0aGlzLl9zZW5kZXJzLmluZGV4T2YodCksMSl9KSl9fWVsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24mJlwiZ2V0U2VuZGVyc1wiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUmJmUuUlRDUnRwU2VuZGVyJiYhKFwiZHRtZlwiaW4gZS5SVENSdHBTZW5kZXIucHJvdG90eXBlKSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtjb25zdCBlPXQuYXBwbHkodGhpcyxbXSk7cmV0dXJuIGUuZm9yRWFjaCgoZT0+ZS5fcGM9dGhpcykpLGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsXCJkdG1mXCIse2dldCgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYoXCJhdWRpb1wiPT09dGhpcy50cmFjay5raW5kP3RoaXMuX2R0bWY9dGhpcy5fcGMuY3JlYXRlRFRNRlNlbmRlcih0aGlzLnRyYWNrKTp0aGlzLl9kdG1mPW51bGwpLHRoaXMuX2R0bWZ9fSl9fWZ1bmN0aW9uIGcoZSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtjb25zdFtlLGksbl09YXJndW1lbnRzO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoMD09PXQubGVuZ3RoJiYoMD09PWFyZ3VtZW50cy5sZW5ndGh8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpKXJldHVybiB0LmFwcGx5KHRoaXMsW10pO2NvbnN0IHI9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fTtyZXR1cm4gZS5yZXN1bHQoKS5mb3JFYWNoKChlPT57Y29uc3QgaT17aWQ6ZS5pZCx0aW1lc3RhbXA6ZS50aW1lc3RhbXAsdHlwZTp7bG9jYWxjYW5kaWRhdGU6XCJsb2NhbC1jYW5kaWRhdGVcIixyZW1vdGVjYW5kaWRhdGU6XCJyZW1vdGUtY2FuZGlkYXRlXCJ9W2UudHlwZV18fGUudHlwZX07ZS5uYW1lcygpLmZvckVhY2goKHQ9PntpW3RdPWUuc3RhdCh0KX0pKSx0W2kuaWRdPWl9KSksdH0scz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE1hcChPYmplY3Qua2V5cyhlKS5tYXAoKHQ9Plt0LGVbdF1dKSkpfTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXtjb25zdCBuPWZ1bmN0aW9uKGUpe2kocyhyKGUpKSl9O3JldHVybiB0LmFwcGx5KHRoaXMsW24sZV0pfXJldHVybiBuZXcgUHJvbWlzZSgoKGUsaSk9Pnt0LmFwcGx5KHRoaXMsW2Z1bmN0aW9uKHQpe2UocyhyKHQpKSl9LGldKX0pKS50aGVuKGksbil9fWZ1bmN0aW9uIFQoZSl7aWYoIShcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmZS5SVENSdHBTZW5kZXImJmUuUlRDUnRwUmVjZWl2ZXIpKXJldHVybjtpZighKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpe2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVyczt0JiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLFtdKTtyZXR1cm4gZS5mb3JFYWNoKChlPT5lLl9wYz10aGlzKSksZX0pO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7aSYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKCl7Y29uc3QgZT1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5fcGM9dGhpcyxlfSksZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzO3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cygpLnRoZW4oKHQ9PnUodCxlLnRyYWNrLCEwKSkpfX1pZighKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLFtdKTtyZXR1cm4gZS5mb3JFYWNoKChlPT5lLl9wYz10aGlzKSksZX0pLHIoZSxcInRyYWNrXCIsKGU9PihlLnJlY2VpdmVyLl9wYz1lLnNyY0VsZW1lbnQsZSkpKSxlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcztyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoKS50aGVuKCh0PT51KHQsZS50cmFjaywhMSkpKX19aWYoIShcImdldFN0YXRzXCJpbiBlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpfHwhKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBlLk1lZGlhU3RyZWFtVHJhY2spe2NvbnN0IGU9YXJndW1lbnRzWzBdO2xldCB0LGksbjtyZXR1cm4gdGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaCgoaT0+e2kudHJhY2s9PT1lJiYodD9uPSEwOnQ9aSl9KSksdGhpcy5nZXRSZWNlaXZlcnMoKS5mb3JFYWNoKCh0PT4odC50cmFjaz09PWUmJihpP249ITA6aT10KSx0LnRyYWNrPT09ZSkpKSxufHx0JiZpP1Byb21pc2UucmVqZWN0KG5ldyBET01FeGNlcHRpb24oXCJUaGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKSk6dD90LmdldFN0YXRzKCk6aT9pLmdldFN0YXRzKCk6UHJvbWlzZS5yZWplY3QobmV3IERPTUV4Y2VwdGlvbihcIlRoZXJlIGlzIG5vIHNlbmRlciBvciByZWNlaXZlciBmb3IgdGhlIHRyYWNrLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIFMoZSl7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sT2JqZWN0LmtleXModGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcykubWFwKChlPT50aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2VdWzBdKSl9O2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSxpKXtpZighaSlyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fTtjb25zdCBuPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2kuaWRdPy0xPT09dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tpLmlkXS5pbmRleE9mKG4pJiZ0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2kuaWRdLnB1c2gobik6dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tpLmlkXT1baSxuXSxufTtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fSxlLmdldFRyYWNrcygpLmZvckVhY2goKGU9PntpZih0aGlzLmdldFNlbmRlcnMoKS5maW5kKCh0PT50LnRyYWNrPT09ZSkpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKX0pKTtjb25zdCB0PXRoaXMuZ2V0U2VuZGVycygpO2kuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IG49dGhpcy5nZXRTZW5kZXJzKCkuZmlsdGVyKChlPT4tMT09PXQuaW5kZXhPZihlKSkpO3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbZS5pZF09W2VdLmNvbmNhdChuKX07Y29uc3Qgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGRlbGV0ZSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2UuaWRdLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtjb25zdCByPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGUmJk9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpLmZvckVhY2goKHQ9Pntjb25zdCBpPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF0uaW5kZXhPZihlKTstMSE9PWkmJnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF0uc3BsaWNlKGksMSksMT09PXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF0ubGVuZ3RoJiZkZWxldGUgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1t0XX0pKSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gUihlLHQpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtpZihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayYmdC52ZXJzaW9uPj02NSlyZXR1cm4gUyhlKTtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM9ZnVuY3Rpb24oKXtjb25zdCBlPWkuYXBwbHkodGhpcyk7cmV0dXJuIHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSxlLm1hcCgoZT0+dGhpcy5fcmV2ZXJzZVN0cmVhbXNbZS5pZF0pKX07Y29uc3Qgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3N0cmVhbXM9dGhpcy5fc3RyZWFtc3x8e30sdGhpcy5fcmV2ZXJzZVN0cmVhbXM9dGhpcy5fcmV2ZXJzZVN0cmVhbXN8fHt9LHQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+e2lmKHRoaXMuZ2V0U2VuZGVycygpLmZpbmQoKHQ9PnQudHJhY2s9PT1lKSkpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpfSkpLCF0aGlzLl9yZXZlcnNlU3RyZWFtc1t0LmlkXSl7Y29uc3QgaT1uZXcgZS5NZWRpYVN0cmVhbSh0LmdldFRyYWNrcygpKTt0aGlzLl9zdHJlYW1zW3QuaWRdPWksdGhpcy5fcmV2ZXJzZVN0cmVhbXNbaS5pZF09dCx0PWl9bi5hcHBseSh0aGlzLFt0XSl9O2NvbnN0IHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtO2Z1bmN0aW9uIHMoZSx0KXtsZXQgaT10LnNkcDtyZXR1cm4gT2JqZWN0LmtleXMoZS5fcmV2ZXJzZVN0cmVhbXN8fFtdKS5mb3JFYWNoKCh0PT57Y29uc3Qgbj1lLl9yZXZlcnNlU3RyZWFtc1t0XSxyPWUuX3N0cmVhbXNbbi5pZF07aT1pLnJlcGxhY2UobmV3IFJlZ0V4cChyLmlkLFwiZ1wiKSxuLmlkKX0pKSxuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOnQudHlwZSxzZHA6aX0pfWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSxyLmFwcGx5KHRoaXMsW3RoaXMuX3N0cmVhbXNbZS5pZF18fGVdKSxkZWxldGUgdGhpcy5fcmV2ZXJzZVN0cmVhbXNbdGhpcy5fc3RyZWFtc1tlLmlkXT90aGlzLl9zdHJlYW1zW2UuaWRdLmlkOmUuaWRdLGRlbGV0ZSB0aGlzLl9zdHJlYW1zW2UuaWRdfSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbih0LGkpe2lmKFwiY2xvc2VkXCI9PT10aGlzLnNpZ25hbGluZ1N0YXRlKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24ncyBzaWduYWxpbmdTdGF0ZSBpcyAnY2xvc2VkJy5cIixcIkludmFsaWRTdGF0ZUVycm9yXCIpO2NvbnN0IG49W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7aWYoMSE9PW4ubGVuZ3RofHwhblswXS5nZXRUcmFja3MoKS5maW5kKChlPT5lPT09dCkpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgYWRhcHRlci5qcyBhZGRUcmFjayBwb2x5ZmlsbCBvbmx5IHN1cHBvcnRzIGEgc2luZ2xlICBzdHJlYW0gd2hpY2ggaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdHJhY2suXCIsXCJOb3RTdXBwb3J0ZWRFcnJvclwiKTtpZih0aGlzLmdldFNlbmRlcnMoKS5maW5kKChlPT5lLnRyYWNrPT09dCkpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fTtjb25zdCByPXRoaXMuX3N0cmVhbXNbaS5pZF07aWYocilyLmFkZFRyYWNrKHQpLFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCgpPT57dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpKX0pKTtlbHNle2NvbnN0IG49bmV3IGUuTWVkaWFTdHJlYW0oW3RdKTt0aGlzLl9zdHJlYW1zW2kuaWRdPW4sdGhpcy5fcmV2ZXJzZVN0cmVhbXNbbi5pZF09aSx0aGlzLmFkZFN0cmVhbShuKX1yZXR1cm4gdGhpcy5nZXRTZW5kZXJzKCkuZmluZCgoZT0+ZS50cmFjaz09PXQpKX0sW1wiY3JlYXRlT2ZmZXJcIixcImNyZWF0ZUFuc3dlclwiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdLG49e1t0XSgpe2NvbnN0IGU9YXJndW1lbnRzO3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0/aS5hcHBseSh0aGlzLFt0PT57Y29uc3QgaT1zKHRoaXMsdCk7ZVswXS5hcHBseShudWxsLFtpXSl9LHQ9PntlWzFdJiZlWzFdLmFwcGx5KG51bGwsdCl9LGFyZ3VtZW50c1syXV0pOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpLnRoZW4oKGU9PnModGhpcyxlKSkpfX07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF09blt0XX0pKTtjb25zdCBvPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF0udHlwZT8oYXJndW1lbnRzWzBdPWZ1bmN0aW9uKGUsdCl7bGV0IGk9dC5zZHA7cmV0dXJuIE9iamVjdC5rZXlzKGUuX3JldmVyc2VTdHJlYW1zfHxbXSkuZm9yRWFjaCgodD0+e2NvbnN0IG49ZS5fcmV2ZXJzZVN0cmVhbXNbdF0scj1lLl9zdHJlYW1zW24uaWRdO2k9aS5yZXBsYWNlKG5ldyBSZWdFeHAobi5pZCxcImdcIiksci5pZCl9KSksbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTp0LnR5cGUsc2RwOml9KX0odGhpcyxhcmd1bWVudHNbMF0pLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpKTpvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Y29uc3QgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwibG9jYWxEZXNjcmlwdGlvblwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJsb2NhbERlc2NyaXB0aW9uXCIse2dldCgpe2NvbnN0IGU9YS5nZXQuYXBwbHkodGhpcyk7cmV0dXJuXCJcIj09PWUudHlwZT9lOnModGhpcyxlKX19KSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaz1mdW5jdGlvbihlKXtpZihcImNsb3NlZFwiPT09dGhpcy5zaWduYWxpbmdTdGF0ZSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIFJUQ1BlZXJDb25uZWN0aW9uJ3Mgc2lnbmFsaW5nU3RhdGUgaXMgJ2Nsb3NlZCcuXCIsXCJJbnZhbGlkU3RhdGVFcnJvclwiKTtpZighZS5fcGMpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIkFyZ3VtZW50IDEgb2YgUlRDUGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2sgZG9lcyBub3QgaW1wbGVtZW50IGludGVyZmFjZSBSVENSdHBTZW5kZXIuXCIsXCJUeXBlRXJyb3JcIik7aWYoIShlLl9wYz09PXRoaXMpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJTZW5kZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHRoaXMgY29ubmVjdGlvbi5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTtsZXQgdDt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LE9iamVjdC5rZXlzKHRoaXMuX3N0cmVhbXMpLmZvckVhY2goKGk9Pnt0aGlzLl9zdHJlYW1zW2ldLmdldFRyYWNrcygpLmZpbmQoKHQ9PmUudHJhY2s9PT10KSkmJih0PXRoaXMuX3N0cmVhbXNbaV0pfSkpLHQmJigxPT09dC5nZXRUcmFja3MoKS5sZW5ndGg/dGhpcy5yZW1vdmVTdHJlYW0odGhpcy5fcmV2ZXJzZVN0cmVhbXNbdC5pZF0pOnQucmVtb3ZlVHJhY2soZS50cmFjayksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpKSl9fWZ1bmN0aW9uIEMoZSx0KXshZS5SVENQZWVyQ29ubmVjdGlvbiYmZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiYmKGUuUlRDUGVlckNvbm5lY3Rpb249ZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiksZS5SVENQZWVyQ29ubmVjdGlvbiYmdC52ZXJzaW9uPDUzJiZbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF0sbj17W3RdKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcoXCJhZGRJY2VDYW5kaWRhdGVcIj09PXQ/ZS5SVENJY2VDYW5kaWRhdGU6ZS5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1uW3RdfSkpfWZ1bmN0aW9uIHYoZSx0KXtyKGUsXCJuZWdvdGlhdGlvbm5lZWRlZFwiLChlPT57Y29uc3QgaT1lLnRhcmdldDtpZighKHQudmVyc2lvbjw3Mnx8aS5nZXRDb25maWd1cmF0aW9uJiZcInBsYW4tYlwiPT09aS5nZXRDb25maWd1cmF0aW9uKCkuc2RwU2VtYW50aWNzKXx8XCJzdGFibGVcIj09PWkuc2lnbmFsaW5nU3RhdGUpcmV0dXJuIGV9KSl9dmFyIEk9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZml4TmVnb3RpYXRpb25OZWVkZWQ6dixzaGltQWRkVHJhY2tSZW1vdmVUcmFjazpSLHNoaW1BZGRUcmFja1JlbW92ZVRyYWNrV2l0aE5hdGl2ZTpTLHNoaW1HZXREaXNwbGF5TWVkaWE6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJlwiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvci5tZWRpYURldmljZXN8fGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYT1mdW5jdGlvbihpKXtyZXR1cm4gdChpKS50aGVuKCh0PT57Y29uc3Qgbj1pLnZpZGVvJiZpLnZpZGVvLndpZHRoLHI9aS52aWRlbyYmaS52aWRlby5oZWlnaHQscz1pLnZpZGVvJiZpLnZpZGVvLmZyYW1lUmF0ZTtyZXR1cm4gaS52aWRlbz17bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixjaHJvbWVNZWRpYVNvdXJjZUlkOnQsbWF4RnJhbWVSYXRlOnN8fDN9fSxuJiYoaS52aWRlby5tYW5kYXRvcnkubWF4V2lkdGg9biksciYmKGkudmlkZW8ubWFuZGF0b3J5Lm1heEhlaWdodD1yKSxlLm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGkpfSkpfTpjb25zb2xlLmVycm9yKFwic2hpbUdldERpc3BsYXlNZWRpYTogZ2V0U291cmNlSWQgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb25cIikpfSxzaGltR2V0U2VuZGVyc1dpdGhEdG1mOmYsc2hpbUdldFN0YXRzOmcsc2hpbUdldFVzZXJNZWRpYTpfLHNoaW1NZWRpYVN0cmVhbTpFLHNoaW1PblRyYWNrOm0sc2hpbVBlZXJDb25uZWN0aW9uOkMsc2hpbVNlbmRlclJlY2VpdmVyR2V0U3RhdHM6VH0pO2Z1bmN0aW9uIHkoZSx0KXtjb25zdCBpPWUmJmUubmF2aWdhdG9yLG49ZSYmZS5NZWRpYVN0cmVhbVRyYWNrO2lmKGkuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsdCxuKXtjKFwibmF2aWdhdG9yLmdldFVzZXJNZWRpYVwiLFwibmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWFcIiksaS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGUpLnRoZW4odCxuKX0sISh0LnZlcnNpb24+NTUmJlwiYXV0b0dhaW5Db250cm9sXCJpbiBpLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpKSl7Y29uc3QgZT1mdW5jdGlvbihlLHQsaSl7dCBpbiBlJiYhKGkgaW4gZSkmJihlW2ldPWVbdF0sZGVsZXRlIGVbdF0pfSx0PWkubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKGkubWVkaWFEZXZpY2VzKTtpZihpLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oaSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGkmJlwib2JqZWN0XCI9PXR5cGVvZiBpLmF1ZGlvJiYoaT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGkpKSxlKGkuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcIm1vekF1dG9HYWluQ29udHJvbFwiKSxlKGkuYXVkaW8sXCJub2lzZVN1cHByZXNzaW9uXCIsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIpKSx0KGkpfSxuJiZuLnByb3RvdHlwZS5nZXRTZXR0aW5ncyl7Y29uc3QgdD1uLnByb3RvdHlwZS5nZXRTZXR0aW5ncztuLnByb3RvdHlwZS5nZXRTZXR0aW5ncz1mdW5jdGlvbigpe2NvbnN0IGk9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUoaSxcIm1vekF1dG9HYWluQ29udHJvbFwiLFwiYXV0b0dhaW5Db250cm9sXCIpLGUoaSxcIm1vek5vaXNlU3VwcHJlc3Npb25cIixcIm5vaXNlU3VwcHJlc3Npb25cIiksaX19aWYobiYmbi5wcm90b3R5cGUuYXBwbHlDb25zdHJhaW50cyl7Y29uc3QgdD1uLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzO24ucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHM9ZnVuY3Rpb24oaSl7cmV0dXJuXCJhdWRpb1wiPT09dGhpcy5raW5kJiZcIm9iamVjdFwiPT10eXBlb2YgaSYmKGk9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpKSksZShpLFwiYXV0b0dhaW5Db250cm9sXCIsXCJtb3pBdXRvR2FpbkNvbnRyb2xcIiksZShpLFwibm9pc2VTdXBwcmVzc2lvblwiLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiKSksdC5hcHBseSh0aGlzLFtpXSl9fX19ZnVuY3Rpb24gQShlKXtcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENUcmFja0V2ZW50JiZcInJlY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlJiYhKFwidHJhbnNjZWl2ZXJcImluIGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSxcInRyYW5zY2VpdmVyXCIse2dldCgpe3JldHVybntyZWNlaXZlcjp0aGlzLnJlY2VpdmVyfX19KX1mdW5jdGlvbiBiKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9uJiYhZS5tb3pSVENQZWVyQ29ubmVjdGlvbilyZXR1cm47IWUuUlRDUGVlckNvbm5lY3Rpb24mJmUubW96UlRDUGVlckNvbm5lY3Rpb24mJihlLlJUQ1BlZXJDb25uZWN0aW9uPWUubW96UlRDUGVlckNvbm5lY3Rpb24pLHQudmVyc2lvbjw1MyYmW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdLG49e1t0XSgpe3JldHVybiBhcmd1bWVudHNbMF09bmV3KFwiYWRkSWNlQ2FuZGlkYXRlXCI9PT10P2UuUlRDSWNlQ2FuZGlkYXRlOmUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF09blt0XX0pKTtjb25zdCBpPXtpbmJvdW5kcnRwOlwiaW5ib3VuZC1ydHBcIixvdXRib3VuZHJ0cDpcIm91dGJvdW5kLXJ0cFwiLGNhbmRpZGF0ZXBhaXI6XCJjYW5kaWRhdGUtcGFpclwiLGxvY2FsY2FuZGlkYXRlOlwibG9jYWwtY2FuZGlkYXRlXCIscmVtb3RlY2FuZGlkYXRlOlwicmVtb3RlLWNhbmRpZGF0ZVwifSxuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7Y29uc3RbZSxyLHNdPWFyZ3VtZW50cztyZXR1cm4gbi5hcHBseSh0aGlzLFtlfHxudWxsXSkudGhlbigoZT0+e2lmKHQudmVyc2lvbjw1MyYmIXIpdHJ5e2UuZm9yRWFjaCgoZT0+e2UudHlwZT1pW2UudHlwZV18fGUudHlwZX0pKX1jYXRjaCh0KXtpZihcIlR5cGVFcnJvclwiIT09dC5uYW1lKXRocm93IHQ7ZS5mb3JFYWNoKCgodCxuKT0+e2Uuc2V0KG4sT2JqZWN0LmFzc2lnbih7fSx0LHt0eXBlOmlbdC50eXBlXXx8dC50eXBlfSkpfSkpfXJldHVybiBlfSkpLnRoZW4ocixzKX19ZnVuY3Rpb24gdyhlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb258fCFlLlJUQ1J0cFNlbmRlcilyZXR1cm47aWYoZS5SVENSdHBTZW5kZXImJlwiZ2V0U3RhdHNcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO3QmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT10LmFwcGx5KHRoaXMsW10pO3JldHVybiBlLmZvckVhY2goKGU9PmUuX3BjPXRoaXMpKSxlfSk7Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztpJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oKXtjb25zdCBlPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlLl9wYz10aGlzLGV9KSxlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFjaz90aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKTpQcm9taXNlLnJlc29sdmUobmV3IE1hcCl9fWZ1bmN0aW9uIE8oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhZS5SVENSdHBTZW5kZXIpcmV0dXJuO2lmKGUuUlRDUnRwU2VuZGVyJiZcImdldFN0YXRzXCJpbiBlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLFtdKTtyZXR1cm4gZS5mb3JFYWNoKChlPT5lLl9wYz10aGlzKSksZX0pLHIoZSxcInRyYWNrXCIsKGU9PihlLnJlY2VpdmVyLl9wYz1lLnNyY0VsZW1lbnQsZSkpKSxlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKX19ZnVuY3Rpb24gTihlKXtlLlJUQ1BlZXJDb25uZWN0aW9uJiYhKFwicmVtb3ZlU3RyZWFtXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7YyhcInJlbW92ZVN0cmVhbVwiLFwicmVtb3ZlVHJhY2tcIiksdGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaCgodD0+e3QudHJhY2smJmUuZ2V0VHJhY2tzKCkuaW5jbHVkZXModC50cmFjaykmJnRoaXMucmVtb3ZlVHJhY2sodCl9KSl9KX1mdW5jdGlvbiBEKGUpe2UuRGF0YUNoYW5uZWwmJiFlLlJUQ0RhdGFDaGFubmVsJiYoZS5SVENEYXRhQ2hhbm5lbD1lLkRhdGFDaGFubmVsKX1mdW5jdGlvbiBQKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFuc2NlaXZlcjt0JiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXI9ZnVuY3Rpb24oKXt0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXTtsZXQgZT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5zZW5kRW5jb2RpbmdzO3ZvaWQgMD09PWUmJihlPVtdKSxlPVsuLi5lXTtjb25zdCBpPWUubGVuZ3RoPjA7aSYmZS5mb3JFYWNoKChlPT57aWYoXCJyaWRcImluIGUpe2lmKCEvXlthLXowLTldezAsMTZ9JC9pLnRlc3QoZS5yaWQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIFJJRCB2YWx1ZSBwcm92aWRlZC5cIil9aWYoXCJzY2FsZVJlc29sdXRpb25Eb3duQnlcImluIGUmJiEocGFyc2VGbG9hdChlLnNjYWxlUmVzb2x1dGlvbkRvd25CeSk+PTEpKXRocm93IG5ldyBSYW5nZUVycm9yKFwic2NhbGVfcmVzb2x1dGlvbl9kb3duX2J5IG11c3QgYmUgPj0gMS4wXCIpO2lmKFwibWF4RnJhbWVyYXRlXCJpbiBlJiYhKHBhcnNlRmxvYXQoZS5tYXhGcmFtZXJhdGUpPj0wKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm1heF9mcmFtZXJhdGUgbXVzdCBiZSA+PSAwLjBcIil9KSk7Y29uc3Qgbj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihpKXtjb25zdHtzZW5kZXI6dH09bixpPXQuZ2V0UGFyYW1ldGVycygpOyghKFwiZW5jb2RpbmdzXCJpbiBpKXx8MT09PWkuZW5jb2RpbmdzLmxlbmd0aCYmMD09PU9iamVjdC5rZXlzKGkuZW5jb2RpbmdzWzBdKS5sZW5ndGgpJiYoaS5lbmNvZGluZ3M9ZSx0LnNlbmRFbmNvZGluZ3M9ZSx0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5wdXNoKHQuc2V0UGFyYW1ldGVycyhpKS50aGVuKCgoKT0+e2RlbGV0ZSB0LnNlbmRFbmNvZGluZ3N9KSkuY2F0Y2goKCgpPT57ZGVsZXRlIHQuc2VuZEVuY29kaW5nc30pKSkpfXJldHVybiBufSl9ZnVuY3Rpb24gTChlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUnRwU2VuZGVyKXJldHVybjtjb25zdCB0PWUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzO3QmJihlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuXCJlbmNvZGluZ3NcImluIGV8fChlLmVuY29kaW5ncz1bXS5jb25jYXQodGhpcy5zZW5kRW5jb2RpbmdzfHxbe31dKSksZX0pfWZ1bmN0aW9uIGsoZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzJiZ0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5sZW5ndGg/UHJvbWlzZS5hbGwodGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMpLnRoZW4oKCgpPT50LmFwcGx5KHRoaXMsYXJndW1lbnRzKSkpLmZpbmFsbHkoKCgpPT57dGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXM9W119KSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIE0oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMmJnRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzLmxlbmd0aD9Qcm9taXNlLmFsbCh0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcykudGhlbigoKCk9PnQuYXBwbHkodGhpcyxhcmd1bWVudHMpKSkuZmluYWxseSgoKCk9Pnt0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXX0pKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIFU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hpbUFkZFRyYW5zY2VpdmVyOlAsc2hpbUNyZWF0ZUFuc3dlcjpNLHNoaW1DcmVhdGVPZmZlcjprLHNoaW1HZXREaXNwbGF5TWVkaWE6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJlwiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvci5tZWRpYURldmljZXN8fGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWE9ZnVuY3Rpb24oaSl7aWYoIWl8fCFpLnZpZGVvKXtjb25zdCBlPW5ldyBET01FeGNlcHRpb24oXCJnZXREaXNwbGF5TWVkaWEgd2l0aG91dCB2aWRlbyBjb25zdHJhaW50cyBpcyB1bmRlZmluZWRcIik7cmV0dXJuIGUubmFtZT1cIk5vdEZvdW5kRXJyb3JcIixlLmNvZGU9OCxQcm9taXNlLnJlamVjdChlKX1yZXR1cm4hMD09PWkudmlkZW8/aS52aWRlbz17bWVkaWFTb3VyY2U6dH06aS52aWRlby5tZWRpYVNvdXJjZT10LGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaSl9KX0sc2hpbUdldFBhcmFtZXRlcnM6TCxzaGltR2V0VXNlck1lZGlhOnksc2hpbU9uVHJhY2s6QSxzaGltUGVlckNvbm5lY3Rpb246YixzaGltUlRDRGF0YUNoYW5uZWw6RCxzaGltUmVjZWl2ZXJHZXRTdGF0czpPLHNoaW1SZW1vdmVTdHJlYW06TixzaGltU2VuZGVyR2V0U3RhdHM6d30pO2Z1bmN0aW9uIHgoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24pe2lmKFwiZ2V0TG9jYWxTdHJlYW1zXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pLHRoaXMuX2xvY2FsU3RyZWFtc30pLCEoXCJhZGRTdHJlYW1cImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5fbG9jYWxTdHJlYW1zfHwodGhpcy5fbG9jYWxTdHJlYW1zPVtdKSx0aGlzLl9sb2NhbFN0cmVhbXMuaW5jbHVkZXMoZSl8fHRoaXMuX2xvY2FsU3RyZWFtcy5wdXNoKGUpLGUuZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKChpPT50LmNhbGwodGhpcyxpLGUpKSksZS5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goKGk9PnQuY2FsbCh0aGlzLGksZSkpKX0sZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSwuLi5pKXtyZXR1cm4gaSYmaS5mb3JFYWNoKChlPT57dGhpcy5fbG9jYWxTdHJlYW1zP3RoaXMuX2xvY2FsU3RyZWFtcy5pbmNsdWRlcyhlKXx8dGhpcy5fbG9jYWxTdHJlYW1zLnB1c2goZSk6dGhpcy5fbG9jYWxTdHJlYW1zPVtlXX0pKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19XCJyZW1vdmVTdHJlYW1cImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHwoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSk7Y29uc3QgdD10aGlzLl9sb2NhbFN0cmVhbXMuaW5kZXhPZihlKTtpZigtMT09PXQpcmV0dXJuO3RoaXMuX2xvY2FsU3RyZWFtcy5zcGxpY2UodCwxKTtjb25zdCBpPWUuZ2V0VHJhY2tzKCk7dGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaCgoZT0+e2kuaW5jbHVkZXMoZS50cmFjaykmJnRoaXMucmVtb3ZlVHJhY2soZSl9KSl9KX19ZnVuY3Rpb24gVihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmKFwiZ2V0UmVtb3RlU3RyZWFtc1wiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fChlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZW1vdGVTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbXM/dGhpcy5fcmVtb3RlU3RyZWFtczpbXX0pLCEoXCJvbmFkZHN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib25hZGRzdHJlYW1cIix7Z2V0KCl7cmV0dXJuIHRoaXMuX29uYWRkc3RyZWFtfSxzZXQoZSl7dGhpcy5fb25hZGRzdHJlYW0mJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHkpKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbT1lKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seT1lPT57ZS5zdHJlYW1zLmZvckVhY2goKGU9PntpZih0aGlzLl9yZW1vdGVTdHJlYW1zfHwodGhpcy5fcmVtb3RlU3RyZWFtcz1bXSksdGhpcy5fcmVtb3RlU3RyZWFtcy5pbmNsdWRlcyhlKSlyZXR1cm47dGhpcy5fcmVtb3RlU3RyZWFtcy5wdXNoKGUpO2NvbnN0IHQ9bmV3IEV2ZW50KFwiYWRkc3RyZWFtXCIpO3Quc3RyZWFtPWUsdGhpcy5kaXNwYXRjaEV2ZW50KHQpfSkpfSl9fSk7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcztyZXR1cm4gdGhpcy5fb25hZGRzdHJlYW1wb2x5fHx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seT1mdW5jdGlvbih0KXt0LnN0cmVhbXMuZm9yRWFjaCgodD0+e2lmKGUuX3JlbW90ZVN0cmVhbXN8fChlLl9yZW1vdGVTdHJlYW1zPVtdKSxlLl9yZW1vdGVTdHJlYW1zLmluZGV4T2YodCk+PTApcmV0dXJuO2UuX3JlbW90ZVN0cmVhbXMucHVzaCh0KTtjb25zdCBpPW5ldyBFdmVudChcImFkZHN0cmVhbVwiKTtpLnN0cmVhbT10LGUuZGlzcGF0Y2hFdmVudChpKX0pKX0pLHQuYXBwbHkoZSxhcmd1bWVudHMpfX19ZnVuY3Rpb24gRihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsaT10LmNyZWF0ZU9mZmVyLG49dC5jcmVhdGVBbnN3ZXIscj10LnNldExvY2FsRGVzY3JpcHRpb24scz10LnNldFJlbW90ZURlc2NyaXB0aW9uLG89dC5hZGRJY2VDYW5kaWRhdGU7dC5jcmVhdGVPZmZlcj1mdW5jdGlvbihlLHQpe2NvbnN0IG49YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMl06YXJndW1lbnRzWzBdLHI9aS5hcHBseSh0aGlzLFtuXSk7cmV0dXJuIHQ/KHIudGhlbihlLHQpLFByb21pc2UucmVzb2x2ZSgpKTpyfSx0LmNyZWF0ZUFuc3dlcj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMl06YXJndW1lbnRzWzBdLHI9bi5hcHBseSh0aGlzLFtpXSk7cmV0dXJuIHQ/KHIudGhlbihlLHQpLFByb21pc2UucmVzb2x2ZSgpKTpyfTtsZXQgYT1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1yLmFwcGx5KHRoaXMsW2VdKTtyZXR1cm4gaT8obi50aGVuKHQsaSksUHJvbWlzZS5yZXNvbHZlKCkpOm59O3Quc2V0TG9jYWxEZXNjcmlwdGlvbj1hLGE9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49cy5hcHBseSh0aGlzLFtlXSk7cmV0dXJuIGk/KG4udGhlbih0LGkpLFByb21pc2UucmVzb2x2ZSgpKTpufSx0LnNldFJlbW90ZURlc2NyaXB0aW9uPWEsYT1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1vLmFwcGx5KHRoaXMsW2VdKTtyZXR1cm4gaT8obi50aGVuKHQsaSksUHJvbWlzZS5yZXNvbHZlKCkpOm59LHQuYWRkSWNlQ2FuZGlkYXRlPWF9ZnVuY3Rpb24gQihlKXtjb25zdCB0PWUmJmUubmF2aWdhdG9yO2lmKHQubWVkaWFEZXZpY2VzJiZ0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe2NvbnN0IGU9dC5tZWRpYURldmljZXMsaT1lLmdldFVzZXJNZWRpYS5iaW5kKGUpO3QubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1lPT5pKGooZSkpfSF0LmdldFVzZXJNZWRpYSYmdC5tZWRpYURldmljZXMmJnQubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmKHQuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsaSxuKXt0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZSkudGhlbihpLG4pfS5iaW5kKHQpKX1mdW5jdGlvbiBqKGUpe3JldHVybiBlJiZ2b2lkIDAhPT1lLnZpZGVvP09iamVjdC5hc3NpZ24oe30sZSx7dmlkZW86bChlLnZpZGVvKX0pOmV9ZnVuY3Rpb24gRyhlKXtpZighZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24oZSxpKXtpZihlJiZlLmljZVNlcnZlcnMpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlLmljZVNlcnZlcnMubGVuZ3RoO2krKyl7bGV0IG49ZS5pY2VTZXJ2ZXJzW2ldOyFuLmhhc093blByb3BlcnR5KFwidXJsc1wiKSYmbi5oYXNPd25Qcm9wZXJ0eShcInVybFwiKT8oYyhcIlJUQ0ljZVNlcnZlci51cmxcIixcIlJUQ0ljZVNlcnZlci51cmxzXCIpLG49SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSksbi51cmxzPW4udXJsLGRlbGV0ZSBuLnVybCx0LnB1c2gobikpOnQucHVzaChlLmljZVNlcnZlcnNbaV0pfWUuaWNlU2VydmVycz10fXJldHVybiBuZXcgdChlLGkpfSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZT10LnByb3RvdHlwZSxcImdlbmVyYXRlQ2VydGlmaWNhdGVcImluIHQmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLFwiZ2VuZXJhdGVDZXJ0aWZpY2F0ZVwiLHtnZXQ6KCk9PnQuZ2VuZXJhdGVDZXJ0aWZpY2F0ZX0pfWZ1bmN0aW9uIFcoZSl7XCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDVHJhY2tFdmVudCYmXCJyZWNlaXZlclwiaW4gZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSYmIShcInRyYW5zY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUsXCJ0cmFuc2NlaXZlclwiLHtnZXQoKXtyZXR1cm57cmVjZWl2ZXI6dGhpcy5yZWNlaXZlcn19fSl9ZnVuY3Rpb24gSChlKXtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKGUpe2lmKGUpe3ZvaWQgMCE9PWUub2ZmZXJUb1JlY2VpdmVBdWRpbyYmKGUub2ZmZXJUb1JlY2VpdmVBdWRpbz0hIWUub2ZmZXJUb1JlY2VpdmVBdWRpbyk7Y29uc3QgdD10aGlzLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PlwiYXVkaW9cIj09PWUucmVjZWl2ZXIudHJhY2sua2luZCkpOyExPT09ZS5vZmZlclRvUmVjZWl2ZUF1ZGlvJiZ0P1wic2VuZHJlY3ZcIj09PXQuZGlyZWN0aW9uP3Quc2V0RGlyZWN0aW9uP3Quc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6dC5kaXJlY3Rpb249XCJzZW5kb25seVwiOlwicmVjdm9ubHlcIj09PXQuZGlyZWN0aW9uJiYodC5zZXREaXJlY3Rpb24/dC5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTp0LmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOiEwIT09ZS5vZmZlclRvUmVjZWl2ZUF1ZGlvfHx0fHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLHZvaWQgMCE9PWUub2ZmZXJUb1JlY2VpdmVWaWRlbyYmKGUub2ZmZXJUb1JlY2VpdmVWaWRlbz0hIWUub2ZmZXJUb1JlY2VpdmVWaWRlbyk7Y29uc3QgaT10aGlzLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PlwidmlkZW9cIj09PWUucmVjZWl2ZXIudHJhY2sua2luZCkpOyExPT09ZS5vZmZlclRvUmVjZWl2ZVZpZGVvJiZpP1wic2VuZHJlY3ZcIj09PWkuZGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6aS5kaXJlY3Rpb249XCJzZW5kb25seVwiOlwicmVjdm9ubHlcIj09PWkuZGlyZWN0aW9uJiYoaS5zZXREaXJlY3Rpb24/aS5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTppLmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOiEwIT09ZS5vZmZlclRvUmVjZWl2ZVZpZGVvfHxpfHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gSyhlKXtcIm9iamVjdFwiIT10eXBlb2YgZXx8ZS5BdWRpb0NvbnRleHR8fChlLkF1ZGlvQ29udGV4dD1lLndlYmtpdEF1ZGlvQ29udGV4dCl9dmFyIFk9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hpbUF1ZGlvQ29udGV4dDpLLHNoaW1DYWxsYmFja3NBUEk6RixzaGltQ29uc3RyYWludHM6aixzaGltQ3JlYXRlT2ZmZXJMZWdhY3k6SCxzaGltR2V0VXNlck1lZGlhOkIsc2hpbUxvY2FsU3RyZWFtc0FQSTp4LHNoaW1SVENJY2VTZXJ2ZXJVcmxzOkcsc2hpbVJlbW90ZVN0cmVhbXNBUEk6VixzaGltVHJhY2tFdmVudFRyYW5zY2VpdmVyOld9KSxxPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBKKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFwiKT9lLmRlZmF1bHQ6ZX12YXIgej17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e2dlbmVyYXRlSWRlbnRpZmllcjpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMil9fTt0LmxvY2FsQ05hbWU9dC5nZW5lcmF0ZUlkZW50aWZpZXIoKSx0LnNwbGl0TGluZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpLnNwbGl0KFwiXFxuXCIpLm1hcCgoZT0+ZS50cmltKCkpKX0sdC5zcGxpdFNlY3Rpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KFwiXFxubT1cIikubWFwKCgoZSx0KT0+KHQ+MD9cIm09XCIrZTplKS50cmltKCkrXCJcXHJcXG5cIikpfSx0LmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiBpJiZpWzBdfSx0LmdldE1lZGlhU2VjdGlvbnM9ZnVuY3Rpb24oZSl7Y29uc3QgaT10LnNwbGl0U2VjdGlvbnMoZSk7cmV0dXJuIGkuc2hpZnQoKSxpfSx0Lm1hdGNoUHJlZml4PWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuc3BsaXRMaW5lcyhlKS5maWx0ZXIoKGU9PjA9PT1lLmluZGV4T2YoaSkpKX0sdC5wYXJzZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtsZXQgdDt0PTA9PT1lLmluZGV4T2YoXCJhPWNhbmRpZGF0ZTpcIik/ZS5zdWJzdHJpbmcoMTIpLnNwbGl0KFwiIFwiKTplLnN1YnN0cmluZygxMCkuc3BsaXQoXCIgXCIpO2NvbnN0IGk9e2ZvdW5kYXRpb246dFswXSxjb21wb25lbnQ6ezE6XCJydHBcIiwyOlwicnRjcFwifVt0WzFdXXx8dFsxXSxwcm90b2NvbDp0WzJdLnRvTG93ZXJDYXNlKCkscHJpb3JpdHk6cGFyc2VJbnQodFszXSwxMCksaXA6dFs0XSxhZGRyZXNzOnRbNF0scG9ydDpwYXJzZUludCh0WzVdLDEwKSx0eXBlOnRbN119O2ZvcihsZXQgZT04O2U8dC5sZW5ndGg7ZSs9Milzd2l0Y2godFtlXSl7Y2FzZVwicmFkZHJcIjppLnJlbGF0ZWRBZGRyZXNzPXRbZSsxXTticmVhaztjYXNlXCJycG9ydFwiOmkucmVsYXRlZFBvcnQ9cGFyc2VJbnQodFtlKzFdLDEwKTticmVhaztjYXNlXCJ0Y3B0eXBlXCI6aS50Y3BUeXBlPXRbZSsxXTticmVhaztjYXNlXCJ1ZnJhZ1wiOmkudWZyYWc9dFtlKzFdLGkudXNlcm5hbWVGcmFnbWVudD10W2UrMV07YnJlYWs7ZGVmYXVsdDp2b2lkIDA9PT1pW3RbZV1dJiYoaVt0W2VdXT10W2UrMV0pfXJldHVybiBpfSx0LndyaXRlQ2FuZGlkYXRlPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107dC5wdXNoKGUuZm91bmRhdGlvbik7Y29uc3QgaT1lLmNvbXBvbmVudDtcInJ0cFwiPT09aT90LnB1c2goMSk6XCJydGNwXCI9PT1pP3QucHVzaCgyKTp0LnB1c2goaSksdC5wdXNoKGUucHJvdG9jb2wudG9VcHBlckNhc2UoKSksdC5wdXNoKGUucHJpb3JpdHkpLHQucHVzaChlLmFkZHJlc3N8fGUuaXApLHQucHVzaChlLnBvcnQpO2NvbnN0IG49ZS50eXBlO3JldHVybiB0LnB1c2goXCJ0eXBcIiksdC5wdXNoKG4pLFwiaG9zdFwiIT09biYmZS5yZWxhdGVkQWRkcmVzcyYmZS5yZWxhdGVkUG9ydCYmKHQucHVzaChcInJhZGRyXCIpLHQucHVzaChlLnJlbGF0ZWRBZGRyZXNzKSx0LnB1c2goXCJycG9ydFwiKSx0LnB1c2goZS5yZWxhdGVkUG9ydCkpLGUudGNwVHlwZSYmXCJ0Y3BcIj09PWUucHJvdG9jb2wudG9Mb3dlckNhc2UoKSYmKHQucHVzaChcInRjcHR5cGVcIiksdC5wdXNoKGUudGNwVHlwZSkpLChlLnVzZXJuYW1lRnJhZ21lbnR8fGUudWZyYWcpJiYodC5wdXNoKFwidWZyYWdcIiksdC5wdXNoKGUudXNlcm5hbWVGcmFnbWVudHx8ZS51ZnJhZykpLFwiY2FuZGlkYXRlOlwiK3Quam9pbihcIiBcIil9LHQucGFyc2VJY2VPcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cmluZygxNCkuc3BsaXQoXCIgXCIpfSx0LnBhcnNlUnRwTWFwPWZ1bmN0aW9uKGUpe2xldCB0PWUuc3Vic3RyaW5nKDkpLnNwbGl0KFwiIFwiKTtjb25zdCBpPXtwYXlsb2FkVHlwZTpwYXJzZUludCh0LnNoaWZ0KCksMTApfTtyZXR1cm4gdD10WzBdLnNwbGl0KFwiL1wiKSxpLm5hbWU9dFswXSxpLmNsb2NrUmF0ZT1wYXJzZUludCh0WzFdLDEwKSxpLmNoYW5uZWxzPTM9PT10Lmxlbmd0aD9wYXJzZUludCh0WzJdLDEwKToxLGkubnVtQ2hhbm5lbHM9aS5jaGFubmVscyxpfSx0LndyaXRlUnRwTWFwPWZ1bmN0aW9uKGUpe2xldCB0PWUucGF5bG9hZFR5cGU7dm9pZCAwIT09ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZSYmKHQ9ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZSk7Y29uc3QgaT1lLmNoYW5uZWxzfHxlLm51bUNoYW5uZWxzfHwxO3JldHVyblwiYT1ydHBtYXA6XCIrdCtcIiBcIitlLm5hbWUrXCIvXCIrZS5jbG9ja1JhdGUrKDEhPT1pP1wiL1wiK2k6XCJcIikrXCJcXHJcXG5cIn0sdC5wYXJzZUV4dG1hcD1mdW5jdGlvbihlKXtjb25zdCB0PWUuc3Vic3RyaW5nKDkpLnNwbGl0KFwiIFwiKTtyZXR1cm57aWQ6cGFyc2VJbnQodFswXSwxMCksZGlyZWN0aW9uOnRbMF0uaW5kZXhPZihcIi9cIik+MD90WzBdLnNwbGl0KFwiL1wiKVsxXTpcInNlbmRyZWN2XCIsdXJpOnRbMV0sYXR0cmlidXRlczp0LnNsaWNlKDIpLmpvaW4oXCIgXCIpfX0sdC53cml0ZUV4dG1hcD1mdW5jdGlvbihlKXtyZXR1cm5cImE9ZXh0bWFwOlwiKyhlLmlkfHxlLnByZWZlcnJlZElkKSsoZS5kaXJlY3Rpb24mJlwic2VuZHJlY3ZcIiE9PWUuZGlyZWN0aW9uP1wiL1wiK2UuZGlyZWN0aW9uOlwiXCIpK1wiIFwiK2UudXJpKyhlLmF0dHJpYnV0ZXM/XCIgXCIrZS5hdHRyaWJ1dGVzOlwiXCIpK1wiXFxyXFxuXCJ9LHQucGFyc2VGbXRwPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e307bGV0IGk7Y29uc3Qgbj1lLnN1YnN0cmluZyhlLmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiO1wiKTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKylpPW5bZV0udHJpbSgpLnNwbGl0KFwiPVwiKSx0W2lbMF0udHJpbSgpXT1pWzFdO3JldHVybiB0fSx0LndyaXRlRm10cD1mdW5jdGlvbihlKXtsZXQgdD1cIlwiLGk9ZS5wYXlsb2FkVHlwZTtpZih2b2lkIDAhPT1lLnByZWZlcnJlZFBheWxvYWRUeXBlJiYoaT1lLnByZWZlcnJlZFBheWxvYWRUeXBlKSxlLnBhcmFtZXRlcnMmJk9iamVjdC5rZXlzKGUucGFyYW1ldGVycykubGVuZ3RoKXtjb25zdCBuPVtdO09iamVjdC5rZXlzKGUucGFyYW1ldGVycykuZm9yRWFjaCgodD0+e3ZvaWQgMCE9PWUucGFyYW1ldGVyc1t0XT9uLnB1c2godCtcIj1cIitlLnBhcmFtZXRlcnNbdF0pOm4ucHVzaCh0KX0pKSx0Kz1cImE9Zm10cDpcIitpK1wiIFwiK24uam9pbihcIjtcIikrXCJcXHJcXG5cIn1yZXR1cm4gdH0sdC5wYXJzZVJ0Y3BGYj1mdW5jdGlvbihlKXtjb25zdCB0PWUuc3Vic3RyaW5nKGUuaW5kZXhPZihcIiBcIikrMSkuc3BsaXQoXCIgXCIpO3JldHVybnt0eXBlOnQuc2hpZnQoKSxwYXJhbWV0ZXI6dC5qb2luKFwiIFwiKX19LHQud3JpdGVSdGNwRmI9ZnVuY3Rpb24oZSl7bGV0IHQ9XCJcIixpPWUucGF5bG9hZFR5cGU7cmV0dXJuIHZvaWQgMCE9PWUucHJlZmVycmVkUGF5bG9hZFR5cGUmJihpPWUucHJlZmVycmVkUGF5bG9hZFR5cGUpLGUucnRjcEZlZWRiYWNrJiZlLnJ0Y3BGZWVkYmFjay5sZW5ndGgmJmUucnRjcEZlZWRiYWNrLmZvckVhY2goKGU9Pnt0Kz1cImE9cnRjcC1mYjpcIitpK1wiIFwiK2UudHlwZSsoZS5wYXJhbWV0ZXImJmUucGFyYW1ldGVyLmxlbmd0aD9cIiBcIitlLnBhcmFtZXRlcjpcIlwiKStcIlxcclxcblwifSkpLHR9LHQucGFyc2VTc3JjTWVkaWE9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmluZGV4T2YoXCIgXCIpLGk9e3NzcmM6cGFyc2VJbnQoZS5zdWJzdHJpbmcoNyx0KSwxMCl9LG49ZS5pbmRleE9mKFwiOlwiLHQpO3JldHVybiBuPi0xPyhpLmF0dHJpYnV0ZT1lLnN1YnN0cmluZyh0KzEsbiksaS52YWx1ZT1lLnN1YnN0cmluZyhuKzEpKTppLmF0dHJpYnV0ZT1lLnN1YnN0cmluZyh0KzEpLGl9LHQucGFyc2VTc3JjR3JvdXA9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZygxMykuc3BsaXQoXCIgXCIpO3JldHVybntzZW1hbnRpY3M6dC5zaGlmdCgpLHNzcmNzOnQubWFwKChlPT5wYXJzZUludChlLDEwKSkpfX0sdC5nZXRNaWQ9ZnVuY3Rpb24oZSl7Y29uc3QgaT10Lm1hdGNoUHJlZml4KGUsXCJhPW1pZDpcIilbMF07aWYoaSlyZXR1cm4gaS5zdWJzdHJpbmcoNil9LHQucGFyc2VGaW5nZXJwcmludD1mdW5jdGlvbihlKXtjb25zdCB0PWUuc3Vic3RyaW5nKDE0KS5zcGxpdChcIiBcIik7cmV0dXJue2FsZ29yaXRobTp0WzBdLnRvTG93ZXJDYXNlKCksdmFsdWU6dFsxXS50b1VwcGVyQ2FzZSgpfX0sdC5nZXREdGxzUGFyYW1ldGVycz1mdW5jdGlvbihlLGkpe3JldHVybntyb2xlOlwiYXV0b1wiLGZpbmdlcnByaW50czp0Lm1hdGNoUHJlZml4KGUraSxcImE9ZmluZ2VycHJpbnQ6XCIpLm1hcCh0LnBhcnNlRmluZ2VycHJpbnQpfX0sdC53cml0ZUR0bHNQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCl7bGV0IGk9XCJhPXNldHVwOlwiK3QrXCJcXHJcXG5cIjtyZXR1cm4gZS5maW5nZXJwcmludHMuZm9yRWFjaCgoZT0+e2krPVwiYT1maW5nZXJwcmludDpcIitlLmFsZ29yaXRobStcIiBcIitlLnZhbHVlK1wiXFxyXFxuXCJ9KSksaX0sdC5wYXJzZUNyeXB0b0xpbmU9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZyg5KS5zcGxpdChcIiBcIik7cmV0dXJue3RhZzpwYXJzZUludCh0WzBdLDEwKSxjcnlwdG9TdWl0ZTp0WzFdLGtleVBhcmFtczp0WzJdLHNlc3Npb25QYXJhbXM6dC5zbGljZSgzKX19LHQud3JpdGVDcnlwdG9MaW5lPWZ1bmN0aW9uKGUpe3JldHVyblwiYT1jcnlwdG86XCIrZS50YWcrXCIgXCIrZS5jcnlwdG9TdWl0ZStcIiBcIisoXCJvYmplY3RcIj09dHlwZW9mIGUua2V5UGFyYW1zP3Qud3JpdGVDcnlwdG9LZXlQYXJhbXMoZS5rZXlQYXJhbXMpOmUua2V5UGFyYW1zKSsoZS5zZXNzaW9uUGFyYW1zP1wiIFwiK2Uuc2Vzc2lvblBhcmFtcy5qb2luKFwiIFwiKTpcIlwiKStcIlxcclxcblwifSx0LnBhcnNlQ3J5cHRvS2V5UGFyYW1zPWZ1bmN0aW9uKGUpe2lmKDAhPT1lLmluZGV4T2YoXCJpbmxpbmU6XCIpKXJldHVybiBudWxsO2NvbnN0IHQ9ZS5zdWJzdHJpbmcoNykuc3BsaXQoXCJ8XCIpO3JldHVybntrZXlNZXRob2Q6XCJpbmxpbmVcIixrZXlTYWx0OnRbMF0sbGlmZVRpbWU6dFsxXSxta2lWYWx1ZTp0WzJdP3RbMl0uc3BsaXQoXCI6XCIpWzBdOnZvaWQgMCxta2lMZW5ndGg6dFsyXT90WzJdLnNwbGl0KFwiOlwiKVsxXTp2b2lkIDB9fSx0LndyaXRlQ3J5cHRvS2V5UGFyYW1zPWZ1bmN0aW9uKGUpe3JldHVybiBlLmtleU1ldGhvZCtcIjpcIitlLmtleVNhbHQrKGUubGlmZVRpbWU/XCJ8XCIrZS5saWZlVGltZTpcIlwiKSsoZS5ta2lWYWx1ZSYmZS5ta2lMZW5ndGg/XCJ8XCIrZS5ta2lWYWx1ZStcIjpcIitlLm1raUxlbmd0aDpcIlwiKX0sdC5nZXRDcnlwdG9QYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQubWF0Y2hQcmVmaXgoZStpLFwiYT1jcnlwdG86XCIpLm1hcCh0LnBhcnNlQ3J5cHRvTGluZSl9LHQuZ2V0SWNlUGFyYW1ldGVycz1mdW5jdGlvbihlLGkpe2NvbnN0IG49dC5tYXRjaFByZWZpeChlK2ksXCJhPWljZS11ZnJhZzpcIilbMF0scj10Lm1hdGNoUHJlZml4KGUraSxcImE9aWNlLXB3ZDpcIilbMF07cmV0dXJuIG4mJnI/e3VzZXJuYW1lRnJhZ21lbnQ6bi5zdWJzdHJpbmcoMTIpLHBhc3N3b3JkOnIuc3Vic3RyaW5nKDEwKX06bnVsbH0sdC53cml0ZUljZVBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7bGV0IHQ9XCJhPWljZS11ZnJhZzpcIitlLnVzZXJuYW1lRnJhZ21lbnQrXCJcXHJcXG5hPWljZS1wd2Q6XCIrZS5wYXNzd29yZCtcIlxcclxcblwiO3JldHVybiBlLmljZUxpdGUmJih0Kz1cImE9aWNlLWxpdGVcXHJcXG5cIiksdH0sdC5wYXJzZVJ0cFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7Y29uc3QgaT17Y29kZWNzOltdLGhlYWRlckV4dGVuc2lvbnM6W10sZmVjTWVjaGFuaXNtczpbXSxydGNwOltdfSxuPXQuc3BsaXRMaW5lcyhlKVswXS5zcGxpdChcIiBcIik7aS5wcm9maWxlPW5bMl07Zm9yKGxldCByPTM7cjxuLmxlbmd0aDtyKyspe2NvbnN0IHM9bltyXSxvPXQubWF0Y2hQcmVmaXgoZSxcImE9cnRwbWFwOlwiK3MrXCIgXCIpWzBdO2lmKG8pe2NvbnN0IG49dC5wYXJzZVJ0cE1hcChvKSxyPXQubWF0Y2hQcmVmaXgoZSxcImE9Zm10cDpcIitzK1wiIFwiKTtzd2l0Y2gobi5wYXJhbWV0ZXJzPXIubGVuZ3RoP3QucGFyc2VGbXRwKHJbMF0pOnt9LG4ucnRjcEZlZWRiYWNrPXQubWF0Y2hQcmVmaXgoZSxcImE9cnRjcC1mYjpcIitzK1wiIFwiKS5tYXAodC5wYXJzZVJ0Y3BGYiksaS5jb2RlY3MucHVzaChuKSxuLm5hbWUudG9VcHBlckNhc2UoKSl7Y2FzZVwiUkVEXCI6Y2FzZVwiVUxQRkVDXCI6aS5mZWNNZWNoYW5pc21zLnB1c2gobi5uYW1lLnRvVXBwZXJDYXNlKCkpfX19dC5tYXRjaFByZWZpeChlLFwiYT1leHRtYXA6XCIpLmZvckVhY2goKGU9PntpLmhlYWRlckV4dGVuc2lvbnMucHVzaCh0LnBhcnNlRXh0bWFwKGUpKX0pKTtjb25zdCByPXQubWF0Y2hQcmVmaXgoZSxcImE9cnRjcC1mYjoqIFwiKS5tYXAodC5wYXJzZVJ0Y3BGYik7cmV0dXJuIGkuY29kZWNzLmZvckVhY2goKGU9PntyLmZvckVhY2goKHQ9PntlLnJ0Y3BGZWVkYmFjay5maW5kKChlPT5lLnR5cGU9PT10LnR5cGUmJmUucGFyYW1ldGVyPT09dC5wYXJhbWV0ZXIpKXx8ZS5ydGNwRmVlZGJhY2sucHVzaCh0KX0pKX0pKSxpfSx0LndyaXRlUnRwRGVzY3JpcHRpb249ZnVuY3Rpb24oZSxpKXtsZXQgbj1cIlwiO24rPVwibT1cIitlK1wiIFwiLG4rPWkuY29kZWNzLmxlbmd0aD4wP1wiOVwiOlwiMFwiLG4rPVwiIFwiKyhpLnByb2ZpbGV8fFwiVURQL1RMUy9SVFAvU0FWUEZcIikrXCIgXCIsbis9aS5jb2RlY3MubWFwKChlPT52b2lkIDAhPT1lLnByZWZlcnJlZFBheWxvYWRUeXBlP2UucHJlZmVycmVkUGF5bG9hZFR5cGU6ZS5wYXlsb2FkVHlwZSkpLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIsbis9XCJjPUlOIElQNCAwLjAuMC4wXFxyXFxuXCIsbis9XCJhPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcclxcblwiLGkuY29kZWNzLmZvckVhY2goKGU9PntuKz10LndyaXRlUnRwTWFwKGUpLG4rPXQud3JpdGVGbXRwKGUpLG4rPXQud3JpdGVSdGNwRmIoZSl9KSk7bGV0IHI9MDtyZXR1cm4gaS5jb2RlY3MuZm9yRWFjaCgoZT0+e2UubWF4cHRpbWU+ciYmKHI9ZS5tYXhwdGltZSl9KSkscj4wJiYobis9XCJhPW1heHB0aW1lOlwiK3IrXCJcXHJcXG5cIiksaS5oZWFkZXJFeHRlbnNpb25zJiZpLmhlYWRlckV4dGVuc2lvbnMuZm9yRWFjaCgoZT0+e24rPXQud3JpdGVFeHRtYXAoZSl9KSksbn0sdC5wYXJzZVJ0cEVuY29kaW5nUGFyYW1ldGVycz1mdW5jdGlvbihlKXtjb25zdCBpPVtdLG49dC5wYXJzZVJ0cFBhcmFtZXRlcnMoZSkscj0tMSE9PW4uZmVjTWVjaGFuaXNtcy5pbmRleE9mKFwiUkVEXCIpLHM9LTEhPT1uLmZlY01lY2hhbmlzbXMuaW5kZXhPZihcIlVMUEZFQ1wiKSxvPXQubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKChlPT50LnBhcnNlU3NyY01lZGlhKGUpKSkuZmlsdGVyKChlPT5cImNuYW1lXCI9PT1lLmF0dHJpYnV0ZSkpLGE9by5sZW5ndGg+MCYmb1swXS5zc3JjO2xldCBjO2NvbnN0IGQ9dC5tYXRjaFByZWZpeChlLFwiYT1zc3JjLWdyb3VwOkZJRFwiKS5tYXAoKGU9PmUuc3Vic3RyaW5nKDE3KS5zcGxpdChcIiBcIikubWFwKChlPT5wYXJzZUludChlLDEwKSkpKSk7ZC5sZW5ndGg+MCYmZFswXS5sZW5ndGg+MSYmZFswXVswXT09PWEmJihjPWRbMF1bMV0pLG4uY29kZWNzLmZvckVhY2goKGU9PntpZihcIlJUWFwiPT09ZS5uYW1lLnRvVXBwZXJDYXNlKCkmJmUucGFyYW1ldGVycy5hcHQpe2xldCB0PXtzc3JjOmEsY29kZWNQYXlsb2FkVHlwZTpwYXJzZUludChlLnBhcmFtZXRlcnMuYXB0LDEwKX07YSYmYyYmKHQucnR4PXtzc3JjOmN9KSxpLnB1c2godCksciYmKHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSksdC5mZWM9e3NzcmM6YSxtZWNoYW5pc206cz9cInJlZCt1bHBmZWNcIjpcInJlZFwifSxpLnB1c2godCkpfX0pKSwwPT09aS5sZW5ndGgmJmEmJmkucHVzaCh7c3NyYzphfSk7bGV0IGw9dC5tYXRjaFByZWZpeChlLFwiYj1cIik7cmV0dXJuIGwubGVuZ3RoJiYobD0wPT09bFswXS5pbmRleE9mKFwiYj1USUFTOlwiKT9wYXJzZUludChsWzBdLnN1YnN0cmluZyg3KSwxMCk6MD09PWxbMF0uaW5kZXhPZihcImI9QVM6XCIpPzFlMypwYXJzZUludChsWzBdLnN1YnN0cmluZyg1KSwxMCkqLjk1LTE2ZTM6dm9pZCAwLGkuZm9yRWFjaCgoZT0+e2UubWF4Qml0cmF0ZT1sfSkpKSxpfSx0LnBhcnNlUnRjcFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7Y29uc3QgaT17fSxuPXQubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKChlPT50LnBhcnNlU3NyY01lZGlhKGUpKSkuZmlsdGVyKChlPT5cImNuYW1lXCI9PT1lLmF0dHJpYnV0ZSkpWzBdO24mJihpLmNuYW1lPW4udmFsdWUsaS5zc3JjPW4uc3NyYyk7Y29uc3Qgcj10Lm1hdGNoUHJlZml4KGUsXCJhPXJ0Y3AtcnNpemVcIik7aS5yZWR1Y2VkU2l6ZT1yLmxlbmd0aD4wLGkuY29tcG91bmQ9MD09PXIubGVuZ3RoO2NvbnN0IHM9dC5tYXRjaFByZWZpeChlLFwiYT1ydGNwLW11eFwiKTtyZXR1cm4gaS5tdXg9cy5sZW5ndGg+MCxpfSx0LndyaXRlUnRjcFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7bGV0IHQ9XCJcIjtyZXR1cm4gZS5yZWR1Y2VkU2l6ZSYmKHQrPVwiYT1ydGNwLXJzaXplXFxyXFxuXCIpLGUubXV4JiYodCs9XCJhPXJ0Y3AtbXV4XFxyXFxuXCIpLHZvaWQgMCE9PWUuc3NyYyYmZS5jbmFtZSYmKHQrPVwiYT1zc3JjOlwiK2Uuc3NyYytcIiBjbmFtZTpcIitlLmNuYW1lK1wiXFxyXFxuXCIpLHR9LHQucGFyc2VNc2lkPWZ1bmN0aW9uKGUpe2xldCBpO2NvbnN0IG49dC5tYXRjaFByZWZpeChlLFwiYT1tc2lkOlwiKTtpZigxPT09bi5sZW5ndGgpcmV0dXJuIGk9blswXS5zdWJzdHJpbmcoNykuc3BsaXQoXCIgXCIpLHtzdHJlYW06aVswXSx0cmFjazppWzFdfTtjb25zdCByPXQubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKChlPT50LnBhcnNlU3NyY01lZGlhKGUpKSkuZmlsdGVyKChlPT5cIm1zaWRcIj09PWUuYXR0cmlidXRlKSk7cmV0dXJuIHIubGVuZ3RoPjA/KGk9clswXS52YWx1ZS5zcGxpdChcIiBcIikse3N0cmVhbTppWzBdLHRyYWNrOmlbMV19KTp2b2lkIDB9LHQucGFyc2VTY3RwRGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7Y29uc3QgaT10LnBhcnNlTUxpbmUoZSksbj10Lm1hdGNoUHJlZml4KGUsXCJhPW1heC1tZXNzYWdlLXNpemU6XCIpO2xldCByO24ubGVuZ3RoPjAmJihyPXBhcnNlSW50KG5bMF0uc3Vic3RyaW5nKDE5KSwxMCkpLGlzTmFOKHIpJiYocj02NTUzNik7Y29uc3Qgcz10Lm1hdGNoUHJlZml4KGUsXCJhPXNjdHAtcG9ydDpcIik7aWYocy5sZW5ndGg+MClyZXR1cm57cG9ydDpwYXJzZUludChzWzBdLnN1YnN0cmluZygxMiksMTApLHByb3RvY29sOmkuZm10LG1heE1lc3NhZ2VTaXplOnJ9O2NvbnN0IG89dC5tYXRjaFByZWZpeChlLFwiYT1zY3RwbWFwOlwiKTtpZihvLmxlbmd0aD4wKXtjb25zdCBlPW9bMF0uc3Vic3RyaW5nKDEwKS5zcGxpdChcIiBcIik7cmV0dXJue3BvcnQ6cGFyc2VJbnQoZVswXSwxMCkscHJvdG9jb2w6ZVsxXSxtYXhNZXNzYWdlU2l6ZTpyfX19LHQud3JpdGVTY3RwRGVzY3JpcHRpb249ZnVuY3Rpb24oZSx0KXtsZXQgaT1bXTtyZXR1cm4gaT1cIkRUTFMvU0NUUFwiIT09ZS5wcm90b2NvbD9bXCJtPVwiK2Uua2luZCtcIiA5IFwiK2UucHJvdG9jb2wrXCIgXCIrdC5wcm90b2NvbCtcIlxcclxcblwiLFwiYz1JTiBJUDQgMC4wLjAuMFxcclxcblwiLFwiYT1zY3RwLXBvcnQ6XCIrdC5wb3J0K1wiXFxyXFxuXCJdOltcIm09XCIrZS5raW5kK1wiIDkgXCIrZS5wcm90b2NvbCtcIiBcIit0LnBvcnQrXCJcXHJcXG5cIixcImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5cIixcImE9c2N0cG1hcDpcIit0LnBvcnQrXCIgXCIrdC5wcm90b2NvbCtcIiA2NTUzNVxcclxcblwiXSx2b2lkIDAhPT10Lm1heE1lc3NhZ2VTaXplJiZpLnB1c2goXCJhPW1heC1tZXNzYWdlLXNpemU6XCIrdC5tYXhNZXNzYWdlU2l6ZStcIlxcclxcblwiKSxpLmpvaW4oXCJcIil9LHQuZ2VuZXJhdGVTZXNzaW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnN1YnN0cigyLDIyKX0sdC53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZT1mdW5jdGlvbihlLGksbil7bGV0IHI7Y29uc3Qgcz12b2lkIDAhPT1pP2k6MjtyPWV8fHQuZ2VuZXJhdGVTZXNzaW9uSWQoKTtyZXR1cm5cInY9MFxcclxcbm89XCIrKG58fFwidGhpc2lzYWRhcHRlcm9ydGNcIikrXCIgXCIrcitcIiBcIitzK1wiIElOIElQNCAxMjcuMC4wLjFcXHJcXG5zPS1cXHJcXG50PTAgMFxcclxcblwifSx0LmdldERpcmVjdGlvbj1mdW5jdGlvbihlLGkpe2NvbnN0IG49dC5zcGxpdExpbmVzKGUpO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKXN3aXRjaChuW2VdKXtjYXNlXCJhPXNlbmRyZWN2XCI6Y2FzZVwiYT1zZW5kb25seVwiOmNhc2VcImE9cmVjdm9ubHlcIjpjYXNlXCJhPWluYWN0aXZlXCI6cmV0dXJuIG5bZV0uc3Vic3RyaW5nKDIpfXJldHVybiBpP3QuZ2V0RGlyZWN0aW9uKGkpOlwic2VuZHJlY3ZcIn0sdC5nZXRLaW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0LnNwbGl0TGluZXMoZSlbMF0uc3BsaXQoXCIgXCIpWzBdLnN1YnN0cmluZygyKX0sdC5pc1JlamVjdGVkPWZ1bmN0aW9uKGUpe3JldHVyblwiMFwiPT09ZS5zcGxpdChcIiBcIiwyKVsxXX0sdC5wYXJzZU1MaW5lPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5zcGxpdExpbmVzKGUpWzBdLnN1YnN0cmluZygyKS5zcGxpdChcIiBcIik7cmV0dXJue2tpbmQ6aVswXSxwb3J0OnBhcnNlSW50KGlbMV0sMTApLHByb3RvY29sOmlbMl0sZm10Omkuc2xpY2UoMykuam9pbihcIiBcIil9fSx0LnBhcnNlT0xpbmU9ZnVuY3Rpb24oZSl7Y29uc3QgaT10Lm1hdGNoUHJlZml4KGUsXCJvPVwiKVswXS5zdWJzdHJpbmcoMikuc3BsaXQoXCIgXCIpO3JldHVybnt1c2VybmFtZTppWzBdLHNlc3Npb25JZDppWzFdLHNlc3Npb25WZXJzaW9uOnBhcnNlSW50KGlbMl0sMTApLG5ldFR5cGU6aVszXSxhZGRyZXNzVHlwZTppWzRdLGFkZHJlc3M6aVs1XX19LHQuaXNWYWxpZFNEUD1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZXx8MD09PWUubGVuZ3RoKXJldHVybiExO2NvbnN0IGk9dC5zcGxpdExpbmVzKGUpO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKWlmKGlbZV0ubGVuZ3RoPDJ8fFwiPVwiIT09aVtlXS5jaGFyQXQoMSkpcmV0dXJuITE7cmV0dXJuITB9LGUuZXhwb3J0cz10fSh6KTt2YXIgWD16LmV4cG9ydHMsUT1KKFgpLFo9ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDpRfSxbWF0pO2Z1bmN0aW9uICQoZSl7aWYoIWUuUlRDSWNlQ2FuZGlkYXRlfHxlLlJUQ0ljZUNhbmRpZGF0ZSYmXCJmb3VuZGF0aW9uXCJpbiBlLlJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGUpcmV0dXJuO2NvbnN0IHQ9ZS5SVENJY2VDYW5kaWRhdGU7ZS5SVENJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuY2FuZGlkYXRlJiYwPT09ZS5jYW5kaWRhdGUuaW5kZXhPZihcImE9XCIpJiYoKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpLmNhbmRpZGF0ZT1lLmNhbmRpZGF0ZS5zdWJzdHIoMikpLGUuY2FuZGlkYXRlJiZlLmNhbmRpZGF0ZS5sZW5ndGgpe2NvbnN0IGk9bmV3IHQoZSksbj1RLnBhcnNlQ2FuZGlkYXRlKGUuY2FuZGlkYXRlKSxyPU9iamVjdC5hc3NpZ24oaSxuKTtyZXR1cm4gci50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57Y2FuZGlkYXRlOnIuY2FuZGlkYXRlLHNkcE1pZDpyLnNkcE1pZCxzZHBNTGluZUluZGV4OnIuc2RwTUxpbmVJbmRleCx1c2VybmFtZUZyYWdtZW50OnIudXNlcm5hbWVGcmFnbWVudH19LHJ9cmV0dXJuIG5ldyB0KGUpfSxlLlJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGU9dC5wcm90b3R5cGUscihlLFwiaWNlY2FuZGlkYXRlXCIsKHQ9Pih0LmNhbmRpZGF0ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjYW5kaWRhdGVcIix7dmFsdWU6bmV3IGUuUlRDSWNlQ2FuZGlkYXRlKHQuY2FuZGlkYXRlKSx3cml0YWJsZTpcImZhbHNlXCJ9KSx0KSkpfWZ1bmN0aW9uIGVlKGUpeyFlLlJUQ0ljZUNhbmRpZGF0ZXx8ZS5SVENJY2VDYW5kaWRhdGUmJlwicmVsYXlQcm90b2NvbFwiaW4gZS5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlfHxyKGUsXCJpY2VjYW5kaWRhdGVcIiwoZT0+e2lmKGUuY2FuZGlkYXRlKXtjb25zdCB0PVEucGFyc2VDYW5kaWRhdGUoZS5jYW5kaWRhdGUuY2FuZGlkYXRlKTtcInJlbGF5XCI9PT10LnR5cGUmJihlLmNhbmRpZGF0ZS5yZWxheVByb3RvY29sPXswOlwidGxzXCIsMTpcInRjcFwiLDI6XCJ1ZHBcIn1bdC5wcmlvcml0eT4+MjRdKX1yZXR1cm4gZX0pKX1mdW5jdGlvbiB0ZShlLHQpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtcInNjdHBcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJzY3RwXCIse2dldCgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9zY3RwP251bGw6dGhpcy5fc2N0cH19KTtjb25zdCBpPWZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5zZHApcmV0dXJuITE7Y29uc3QgdD1RLnNwbGl0U2VjdGlvbnMoZS5zZHApO3JldHVybiB0LnNoaWZ0KCksdC5zb21lKChlPT57Y29uc3QgdD1RLnBhcnNlTUxpbmUoZSk7cmV0dXJuIHQmJlwiYXBwbGljYXRpb25cIj09PXQua2luZCYmLTEhPT10LnByb3RvY29sLmluZGV4T2YoXCJTQ1RQXCIpfSkpfSxuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5zZHAubWF0Y2goL21vemlsbGEuLi5USElTX0lTX1NEUEFSVEEtKFxcZCspLyk7aWYobnVsbD09PXR8fHQubGVuZ3RoPDIpcmV0dXJuLTE7Y29uc3QgaT1wYXJzZUludCh0WzFdLDEwKTtyZXR1cm4gaSE9aT8tMTppfSxyPWZ1bmN0aW9uKGUpe2xldCBpPTY1NTM2O3JldHVyblwiZmlyZWZveFwiPT09dC5icm93c2VyJiYoaT10LnZlcnNpb248NTc/LTE9PT1lPzE2Mzg0OjIxNDc0ODM2Mzc6dC52ZXJzaW9uPDYwPzU3PT09dC52ZXJzaW9uPzY1NTM1OjY1NTM2OjIxNDc0ODM2MzcpLGl9LHM9ZnVuY3Rpb24oZSxpKXtsZXQgbj02NTUzNjtcImZpcmVmb3hcIj09PXQuYnJvd3NlciYmNTc9PT10LnZlcnNpb24mJihuPTY1NTM1KTtjb25zdCByPVEubWF0Y2hQcmVmaXgoZS5zZHAsXCJhPW1heC1tZXNzYWdlLXNpemU6XCIpO3JldHVybiByLmxlbmd0aD4wP249cGFyc2VJbnQoclswXS5zdWJzdHIoMTkpLDEwKTpcImZpcmVmb3hcIj09PXQuYnJvd3NlciYmLTEhPT1pJiYobj0yMTQ3NDgzNjM3KSxufSxvPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2N0cD1udWxsLFwiY2hyb21lXCI9PT10LmJyb3dzZXImJnQudmVyc2lvbj49NzYpe2NvbnN0e3NkcFNlbWFudGljczplfT10aGlzLmdldENvbmZpZ3VyYXRpb24oKTtcInBsYW4tYlwiPT09ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzY3RwXCIse2dldCgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9zY3RwP251bGw6dGhpcy5fc2N0cH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX1pZihpKGFyZ3VtZW50c1swXSkpe2NvbnN0IGU9bihhcmd1bWVudHNbMF0pLHQ9cihlKSxpPXMoYXJndW1lbnRzWzBdLGUpO2xldCBvO289MD09PXQmJjA9PT1pP051bWJlci5QT1NJVElWRV9JTkZJTklUWTowPT09dHx8MD09PWk/TWF0aC5tYXgodCxpKTpNYXRoLm1pbih0LGkpO2NvbnN0IGE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJtYXhNZXNzYWdlU2l6ZVwiLHtnZXQ6KCk9Pm99KSx0aGlzLl9zY3RwPWF9cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBpZShlKXtpZighZS5SVENQZWVyQ29ubmVjdGlvbnx8IShcImNyZWF0ZURhdGFDaGFubmVsXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpcmV0dXJuO2Z1bmN0aW9uIHQoZSx0KXtjb25zdCBpPWUuc2VuZDtlLnNlbmQ9ZnVuY3Rpb24oKXtjb25zdCBuPWFyZ3VtZW50c1swXSxyPW4ubGVuZ3RofHxuLnNpemV8fG4uYnl0ZUxlbmd0aDtpZihcIm9wZW5cIj09PWUucmVhZHlTdGF0ZSYmdC5zY3RwJiZyPnQuc2N0cC5tYXhNZXNzYWdlU2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWVzc2FnZSB0b28gbGFyZ2UgKGNhbiBzZW5kIGEgbWF4aW11bSBvZiBcIit0LnNjdHAubWF4TWVzc2FnZVNpemUrXCIgYnl0ZXMpXCIpO3JldHVybiBpLmFwcGx5KGUsYXJndW1lbnRzKX19Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbDtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbD1mdW5jdGlvbigpe2NvbnN0IGU9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQoZSx0aGlzKSxlfSxyKGUsXCJkYXRhY2hhbm5lbFwiLChlPT4odChlLmNoYW5uZWwsZS50YXJnZXQpLGUpKSl9ZnVuY3Rpb24gbmUoZSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb258fFwiY29ubmVjdGlvblN0YXRlXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNvbm5lY3Rpb25TdGF0ZVwiLHtnZXQoKXtyZXR1cm57Y29tcGxldGVkOlwiY29ubmVjdGVkXCIsY2hlY2tpbmc6XCJjb25uZWN0aW5nXCJ9W3RoaXMuaWNlQ29ubmVjdGlvblN0YXRlXXx8dGhpcy5pY2VDb25uZWN0aW9uU3RhdGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHtnZXQoKXtyZXR1cm4gdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2V8fG51bGx9LHNldChlKXt0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKSxkZWxldGUgdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UpLGUmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCJdLmZvckVhY2goKGU9Pntjb25zdCBpPXRbZV07dFtlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5fHwodGhpcy5fY29ubmVjdGlvbnN0YXRlY2hhbmdlcG9seT1lPT57Y29uc3QgdD1lLnRhcmdldDtpZih0Ll9sYXN0Q29ubmVjdGlvblN0YXRlIT09dC5jb25uZWN0aW9uU3RhdGUpe3QuX2xhc3RDb25uZWN0aW9uU3RhdGU9dC5jb25uZWN0aW9uU3RhdGU7Y29uc3QgaT1uZXcgRXZlbnQoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixlKTt0LmRpc3BhdGNoRXZlbnQoaSl9cmV0dXJuIGV9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHkpKSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSl9ZnVuY3Rpb24gcmUoZSx0KXtpZighZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47aWYoXCJjaHJvbWVcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj03MSlyZXR1cm47aWYoXCJzYWZhcmlcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj02MDUpcmV0dXJuO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24odCl7aWYodCYmdC5zZHAmJi0xIT09dC5zZHAuaW5kZXhPZihcIlxcbmE9ZXh0bWFwLWFsbG93LW1peGVkXCIpKXtjb25zdCBpPXQuc2RwLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigoZT0+XCJhPWV4dG1hcC1hbGxvdy1taXhlZFwiIT09ZS50cmltKCkpKS5qb2luKFwiXFxuXCIpO2UuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uJiZ0IGluc3RhbmNlb2YgZS5SVENTZXNzaW9uRGVzY3JpcHRpb24/YXJndW1lbnRzWzBdPW5ldyBlLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTp0LnR5cGUsc2RwOml9KTp0LnNkcD1pfXJldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gc2UoZSx0KXtpZighZS5SVENQZWVyQ29ubmVjdGlvbnx8IWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXJldHVybjtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZTtpJiYwIT09aS5sZW5ndGgmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPyhcImNocm9tZVwiPT09dC5icm93c2VyJiZ0LnZlcnNpb248Nzh8fFwiZmlyZWZveFwiPT09dC5icm93c2VyJiZ0LnZlcnNpb248Njh8fFwic2FmYXJpXCI9PT10LmJyb3dzZXIpJiZhcmd1bWVudHNbMF0mJlwiXCI9PT1hcmd1bWVudHNbMF0uY2FuZGlkYXRlP1Byb21pc2UucmVzb2x2ZSgpOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpOihhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5hcHBseShudWxsKSxQcm9taXNlLnJlc29sdmUoKSl9KX1mdW5jdGlvbiBvZShlLHQpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpcmV0dXJuO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbjtpJiYwIT09aS5sZW5ndGgmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzWzBdfHx7fTtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8ZS50eXBlJiZlLnNkcClyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoZT17dHlwZTplLnR5cGUsc2RwOmUuc2RwfSwhZS50eXBlKXN3aXRjaCh0aGlzLnNpZ25hbGluZ1N0YXRlKXtjYXNlXCJzdGFibGVcIjpjYXNlXCJoYXZlLWxvY2FsLW9mZmVyXCI6Y2FzZVwiaGF2ZS1yZW1vdGUtcHJhbnN3ZXJcIjplLnR5cGU9XCJvZmZlclwiO2JyZWFrO2RlZmF1bHQ6ZS50eXBlPVwiYW5zd2VyXCJ9aWYoZS5zZHB8fFwib2ZmZXJcIiE9PWUudHlwZSYmXCJhbnN3ZXJcIiE9PWUudHlwZSlyZXR1cm4gaS5hcHBseSh0aGlzLFtlXSk7cmV0dXJuKFwib2ZmZXJcIj09PWUudHlwZT90aGlzLmNyZWF0ZU9mZmVyOnRoaXMuY3JlYXRlQW5zd2VyKS5hcHBseSh0aGlzKS50aGVuKChlPT5pLmFwcGx5KHRoaXMsW2VdKSkpfSl9dmFyIGFlPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHJlbW92ZUV4dG1hcEFsbG93TWl4ZWQ6cmUsc2hpbUFkZEljZUNhbmRpZGF0ZU51bGxPckVtcHR5OnNlLHNoaW1Db25uZWN0aW9uU3RhdGU6bmUsc2hpbU1heE1lc3NhZ2VTaXplOnRlLHNoaW1QYXJhbWV0ZXJsZXNzU2V0TG9jYWxEZXNjcmlwdGlvbjpvZSxzaGltUlRDSWNlQ2FuZGlkYXRlOiQsc2hpbVJUQ0ljZUNhbmRpZGF0ZVJlbGF5UHJvdG9jb2w6ZWUsc2hpbVNlbmRUaHJvd1R5cGVFcnJvcjppZX0pOyFmdW5jdGlvbih7d2luZG93OmV9PXt9LHQ9e3NoaW1DaHJvbWU6ITAsc2hpbUZpcmVmb3g6ITAsc2hpbVNhZmFyaTohMH0pe2NvbnN0IGk9YSxyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e2Jyb3dzZXI6bnVsbCx2ZXJzaW9uOm51bGx9O2lmKHZvaWQgMD09PWV8fCFlLm5hdmlnYXRvcilyZXR1cm4gdC5icm93c2VyPVwiTm90IGEgYnJvd3Nlci5cIix0O2NvbnN0e25hdmlnYXRvcjppfT1lO2lmKGkubW96R2V0VXNlck1lZGlhKXQuYnJvd3Nlcj1cImZpcmVmb3hcIix0LnZlcnNpb249bihpLnVzZXJBZ2VudCwvRmlyZWZveFxcLyhcXGQrKVxcLi8sMSk7ZWxzZSBpZihpLndlYmtpdEdldFVzZXJNZWRpYXx8ITE9PT1lLmlzU2VjdXJlQ29udGV4dCYmZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbil0LmJyb3dzZXI9XCJjaHJvbWVcIix0LnZlcnNpb249bihpLnVzZXJBZ2VudCwvQ2hyb20oZXxpdW0pXFwvKFxcZCspXFwuLywyKTtlbHNle2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhaS51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLykpcmV0dXJuIHQuYnJvd3Nlcj1cIk5vdCBhIHN1cHBvcnRlZCBicm93c2VyLlwiLHQ7dC5icm93c2VyPVwic2FmYXJpXCIsdC52ZXJzaW9uPW4oaS51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKSx0LnN1cHBvcnRzVW5pZmllZFBsYW49ZS5SVENSdHBUcmFuc2NlaXZlciYmXCJjdXJyZW50RGlyZWN0aW9uXCJpbiBlLlJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZX1yZXR1cm4gdH0oZSksYz17YnJvd3NlckRldGFpbHM6cixjb21tb25TaGltOmFlLGV4dHJhY3RWZXJzaW9uOm4sZGlzYWJsZUxvZzpzLGRpc2FibGVXYXJuaW5nczpvLHNkcDpafTtzd2l0Y2goci5icm93c2VyKXtjYXNlXCJjaHJvbWVcIjppZighSXx8IUN8fCF0LnNoaW1DaHJvbWUpcmV0dXJuIGkoXCJDaHJvbWUgc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLGM7aWYobnVsbD09PXIudmVyc2lvbilyZXR1cm4gaShcIkNocm9tZSBzaGltIGNhbiBub3QgZGV0ZXJtaW5lIHZlcnNpb24sIG5vdCBzaGltbWluZy5cIiksYztpKFwiYWRhcHRlci5qcyBzaGltbWluZyBjaHJvbWUuXCIpLGMuYnJvd3NlclNoaW09SSxzZShlLHIpLG9lKGUpLF8oZSxyKSxFKGUpLEMoZSxyKSxtKGUpLFIoZSxyKSxmKGUpLGcoZSksVChlKSx2KGUsciksJChlKSxlZShlKSxuZShlKSx0ZShlLHIpLGllKGUpLHJlKGUscik7YnJlYWs7Y2FzZVwiZmlyZWZveFwiOmlmKCFVfHwhYnx8IXQuc2hpbUZpcmVmb3gpcmV0dXJuIGkoXCJGaXJlZm94IHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxjO2koXCJhZGFwdGVyLmpzIHNoaW1taW5nIGZpcmVmb3guXCIpLGMuYnJvd3NlclNoaW09VSxzZShlLHIpLG9lKGUpLHkoZSxyKSxiKGUsciksQShlKSxOKGUpLHcoZSksTyhlKSxEKGUpLFAoZSksTChlKSxrKGUpLE0oZSksJChlKSxuZShlKSx0ZShlLHIpLGllKGUpO2JyZWFrO2Nhc2VcInNhZmFyaVwiOmlmKCFZfHwhdC5zaGltU2FmYXJpKXJldHVybiBpKFwiU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxjO2koXCJhZGFwdGVyLmpzIHNoaW1taW5nIHNhZmFyaS5cIiksYy5icm93c2VyU2hpbT1ZLHNlKGUsciksb2UoZSksRyhlKSxIKGUpLEYoZSkseChlKSxWKGUpLFcoZSksQihlKSxLKGUpLCQoZSksZWUoZSksdGUoZSxyKSxpZShlKSxyZShlLHIpO2JyZWFrO2RlZmF1bHQ6aShcIlVuc3VwcG9ydGVkIGJyb3dzZXIhXCIpfX0oe3dpbmRvdzpcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P3ZvaWQgMDp3aW5kb3d9KTt2YXIgY2U9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX0sZGU9IWNlKChmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7fS5iaW5kKCk7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgZXx8ZS5oYXNPd25Qcm9wZXJ0eShcInByb3RvdHlwZVwiKX0pKSxsZT1kZSxoZT1GdW5jdGlvbi5wcm90b3R5cGUsdWU9aGUuY2FsbCxwZT1sZSYmaGUuYmluZC5iaW5kKHVlLHVlKSxfZT1sZT9wZTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdWUuYXBwbHkoZSxhcmd1bWVudHMpfX0sRWU9X2Uoe30uaXNQcm90b3R5cGVPZiksbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX0sZmU9bWUoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxtZShcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHxtZShcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZil8fG1lKFwib2JqZWN0XCI9PXR5cGVvZiBxJiZxKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8cXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGdlPWRlLFRlPUZ1bmN0aW9uLnByb3RvdHlwZSxTZT1UZS5hcHBseSxSZT1UZS5jYWxsLENlPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmFwcGx5fHwoZ2U/UmUuYmluZChTZSk6ZnVuY3Rpb24oKXtyZXR1cm4gUmUuYXBwbHkoU2UsYXJndW1lbnRzKX0pLHZlPV9lLEllPXZlKHt9LnRvU3RyaW5nKSx5ZT12ZShcIlwiLnNsaWNlKSxBZT1mdW5jdGlvbihlKXtyZXR1cm4geWUoSWUoZSksOCwtMSl9LGJlPUFlLHdlPV9lLE9lPWZ1bmN0aW9uKGUpe2lmKFwiRnVuY3Rpb25cIj09PWJlKGUpKXJldHVybiB3ZShlKX0sTmU9XCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5hbGwsRGU9e2FsbDpOZSxJU19IVE1MRERBOnZvaWQgMD09PU5lJiZ2b2lkIDAhPT1OZX0sUGU9RGUuYWxsLExlPURlLklTX0hUTUxEREE/ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZXx8ZT09PVBlfTpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfSxrZT17fSxNZT0hY2UoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKSxVZT1kZSx4ZT1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxWZT1VZT94ZS5iaW5kKHhlKTpmdW5jdGlvbigpe3JldHVybiB4ZS5hcHBseSh4ZSxhcmd1bWVudHMpfSxGZT17fSxCZT17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxqZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLEdlPWplJiYhQmUuY2FsbCh7MToyfSwxKTtGZS5mPUdlP2Z1bmN0aW9uKGUpe3ZhciB0PWplKHRoaXMsZSk7cmV0dXJuISF0JiZ0LmVudW1lcmFibGV9OkJlO3ZhciBXZSxIZSxLZT1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX0sWWU9Y2UscWU9QWUsSmU9T2JqZWN0LHplPV9lKFwiXCIuc3BsaXQpLFhlPVllKChmdW5jdGlvbigpe3JldHVybiFKZShcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24oZSl7cmV0dXJuXCJTdHJpbmdcIj09cWUoZSk/emUoZSxcIlwiKTpKZShlKX06SmUsUWU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9LFplPVFlLCRlPVR5cGVFcnJvcixldD1mdW5jdGlvbihlKXtpZihaZShlKSl0aHJvdyAkZShcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK2UpO3JldHVybiBlfSx0dD1YZSxpdD1ldCxudD1mdW5jdGlvbihlKXtyZXR1cm4gdHQoaXQoZSkpfSxydD1MZSxzdD1EZS5hbGwsb3Q9RGUuSVNfSFRNTEREQT9mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT9udWxsIT09ZTpydChlKXx8ZT09PXN0fTpmdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT9udWxsIT09ZTpydChlKX0sYXQ9e30sY3Q9YXQsZHQ9ZmUsbHQ9TGUsaHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGx0KGUpP2U6dm9pZCAwfSx1dD1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/aHQoY3RbZV0pfHxodChkdFtlXSk6Y3RbZV0mJmN0W2VdW3RdfHxkdFtlXSYmZHRbZV1bdF19LHB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlN0cmluZyhuYXZpZ2F0b3IudXNlckFnZW50KXx8XCJcIixfdD1mZSxFdD1wdCxtdD1fdC5wcm9jZXNzLGZ0PV90LkRlbm8sZ3Q9bXQmJm10LnZlcnNpb25zfHxmdCYmZnQudmVyc2lvbixUdD1ndCYmZ3Qudjg7VHQmJihIZT0oV2U9VHQuc3BsaXQoXCIuXCIpKVswXT4wJiZXZVswXTw0PzE6KyhXZVswXStXZVsxXSkpLCFIZSYmRXQmJighKFdlPUV0Lm1hdGNoKC9FZGdlXFwvKFxcZCspLykpfHxXZVsxXT49NzQpJiYoV2U9RXQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pKSYmKEhlPStXZVsxXSk7dmFyIFN0PUhlLFJ0PVN0LEN0PWNlLHZ0PWZlLlN0cmluZyxJdD0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFDdCgoZnVuY3Rpb24oKXt2YXIgZT1TeW1ib2woKTtyZXR1cm4hdnQoZSl8fCEoT2JqZWN0KGUpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJlJ0JiZSdDw0MX0pKSx5dD1JdCYmIVN5bWJvbC5zaGFtJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yLEF0PXV0LGJ0PUxlLHd0PUVlLE90PU9iamVjdCxOdD15dD9mdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7dmFyIHQ9QXQoXCJTeW1ib2xcIik7cmV0dXJuIGJ0KHQpJiZ3dCh0LnByb3RvdHlwZSxPdChlKSl9LER0PVN0cmluZyxQdD1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIER0KGUpfWNhdGNoKGUpe3JldHVyblwiT2JqZWN0XCJ9fSxMdD1MZSxrdD1QdCxNdD1UeXBlRXJyb3IsVXQ9ZnVuY3Rpb24oZSl7aWYoTHQoZSkpcmV0dXJuIGU7dGhyb3cgTXQoa3QoZSkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIil9LHh0PVV0LFZ0PVFlLEZ0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVt0XTtyZXR1cm4gVnQoaSk/dm9pZCAwOnh0KGkpfSxCdD1WZSxqdD1MZSxHdD1vdCxXdD1UeXBlRXJyb3IsSHQ9e2V4cG9ydHM6e319LEt0PWZlLFl0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxxdD1mdW5jdGlvbihlLHQpe3RyeXtZdChLdCxlLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pfWNhdGNoKGkpe0t0W2VdPXR9cmV0dXJuIHR9LEp0PVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsenQ9ZmVbSnRdfHxxdChKdCx7fSksWHQ9enQ7KEh0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWHRbZV18fChYdFtlXT12b2lkIDAhPT10P3Q6e30pfSkoXCJ2ZXJzaW9uc1wiLFtdKS5wdXNoKHt2ZXJzaW9uOlwiMy4zMS4xXCIsbW9kZTpcInB1cmVcIixjb3B5cmlnaHQ6XCLCqSAyMDE0LTIwMjMgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSlcIixsaWNlbnNlOlwiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi92My4zMS4xL0xJQ0VOU0VcIixzb3VyY2U6XCJodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qc1wifSk7dmFyIFF0PUh0LmV4cG9ydHMsWnQ9ZXQsJHQ9T2JqZWN0LGVpPWZ1bmN0aW9uKGUpe3JldHVybiAkdChadChlKSl9LHRpPWVpLGlpPV9lKHt9Lmhhc093blByb3BlcnR5KSxuaT1PYmplY3QuaGFzT3dufHxmdW5jdGlvbihlLHQpe3JldHVybiBpaSh0aShlKSx0KX0scmk9X2Usc2k9MCxvaT1NYXRoLnJhbmRvbSgpLGFpPXJpKDEuLnRvU3RyaW5nKSxjaT1mdW5jdGlvbihlKXtyZXR1cm5cIlN5bWJvbChcIisodm9pZCAwPT09ZT9cIlwiOmUpK1wiKV9cIithaSgrK3NpK29pLDM2KX0sZGk9UXQsbGk9bmksaGk9Y2ksdWk9SXQscGk9eXQsX2k9ZmUuU3ltYm9sLEVpPWRpKFwid2tzXCIpLG1pPXBpP19pLmZvcnx8X2k6X2kmJl9pLndpdGhvdXRTZXR0ZXJ8fGhpLGZpPWZ1bmN0aW9uKGUpe3JldHVybiBsaShFaSxlKXx8KEVpW2VdPXVpJiZsaShfaSxlKT9faVtlXTptaShcIlN5bWJvbC5cIitlKSksRWlbZV19LGdpPVZlLFRpPW90LFNpPU50LFJpPUZ0LENpPWZ1bmN0aW9uKGUsdCl7dmFyIGksbjtpZihcInN0cmluZ1wiPT09dCYmanQoaT1lLnRvU3RyaW5nKSYmIUd0KG49QnQoaSxlKSkpcmV0dXJuIG47aWYoanQoaT1lLnZhbHVlT2YpJiYhR3Qobj1CdChpLGUpKSlyZXR1cm4gbjtpZihcInN0cmluZ1wiIT09dCYmanQoaT1lLnRvU3RyaW5nKSYmIUd0KG49QnQoaSxlKSkpcmV0dXJuIG47dGhyb3cgV3QoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9LHZpPVR5cGVFcnJvcixJaT1maShcInRvUHJpbWl0aXZlXCIpLHlpPWZ1bmN0aW9uKGUsdCl7aWYoIVRpKGUpfHxTaShlKSlyZXR1cm4gZTt2YXIgaSxuPVJpKGUsSWkpO2lmKG4pe2lmKHZvaWQgMD09PXQmJih0PVwiZGVmYXVsdFwiKSxpPWdpKG4sZSx0KSwhVGkoaSl8fFNpKGkpKXJldHVybiBpO3Rocm93IHZpKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfXJldHVybiB2b2lkIDA9PT10JiYodD1cIm51bWJlclwiKSxDaShlLHQpfSxBaT1OdCxiaT1mdW5jdGlvbihlKXt2YXIgdD15aShlLFwic3RyaW5nXCIpO3JldHVybiBBaSh0KT90OnQrXCJcIn0sd2k9b3QsT2k9ZmUuZG9jdW1lbnQsTmk9d2koT2kpJiZ3aShPaS5jcmVhdGVFbGVtZW50KSxEaT1mdW5jdGlvbihlKXtyZXR1cm4gTmk/T2kuY3JlYXRlRWxlbWVudChlKTp7fX0sUGk9RGksTGk9IU1lJiYhY2UoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKSxraT1NZSxNaT1WZSxVaT1GZSx4aT1LZSxWaT1udCxGaT1iaSxCaT1uaSxqaT1MaSxHaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2tlLmY9a2k/R2k6ZnVuY3Rpb24oZSx0KXtpZihlPVZpKGUpLHQ9RmkodCksamkpdHJ5e3JldHVybiBHaShlLHQpfWNhdGNoKGUpe31pZihCaShlLHQpKXJldHVybiB4aSghTWkoVWkuZixlLHQpLGVbdF0pfTt2YXIgV2k9Y2UsSGk9TGUsS2k9LyN8XFwucHJvdG90eXBlXFwuLyxZaT1mdW5jdGlvbihlLHQpe3ZhciBpPUppW3FpKGUpXTtyZXR1cm4gaT09WGl8fGkhPXppJiYoSGkodCk/V2kodCk6ISF0KX0scWk9WWkubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZShLaSxcIi5cIikudG9Mb3dlckNhc2UoKX0sSmk9WWkuZGF0YT17fSx6aT1ZaS5OQVRJVkU9XCJOXCIsWGk9WWkuUE9MWUZJTEw9XCJQXCIsUWk9WWksWmk9VXQsJGk9ZGUsZW49T2UoT2UuYmluZCksdG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWmkoZSksdm9pZCAwPT09dD9lOiRpP2VuKGUsdCk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fSxubj17fSxybj1NZSYmY2UoKGZ1bmN0aW9uKCl7cmV0dXJuIDQyIT1PYmplY3QuZGVmaW5lUHJvcGVydHkoKGZ1bmN0aW9uKCl7fSksXCJwcm90b3R5cGVcIix7dmFsdWU6NDIsd3JpdGFibGU6ITF9KS5wcm90b3R5cGV9KSksc249b3Qsb249U3RyaW5nLGFuPVR5cGVFcnJvcixjbj1mdW5jdGlvbihlKXtpZihzbihlKSlyZXR1cm4gZTt0aHJvdyBhbihvbihlKStcIiBpcyBub3QgYW4gb2JqZWN0XCIpfSxkbj1NZSxsbj1MaSxobj1ybix1bj1jbixwbj1iaSxfbj1UeXBlRXJyb3IsRW49T2JqZWN0LmRlZmluZVByb3BlcnR5LG1uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsZm49XCJlbnVtZXJhYmxlXCIsZ249XCJjb25maWd1cmFibGVcIixUbj1cIndyaXRhYmxlXCI7bm4uZj1kbj9obj9mdW5jdGlvbihlLHQsaSl7aWYodW4oZSksdD1wbih0KSx1bihpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZcInByb3RvdHlwZVwiPT09dCYmXCJ2YWx1ZVwiaW4gaSYmVG4gaW4gaSYmIWlbVG5dKXt2YXIgbj1tbihlLHQpO24mJm5bVG5dJiYoZVt0XT1pLnZhbHVlLGk9e2NvbmZpZ3VyYWJsZTpnbiBpbiBpP2lbZ25dOm5bZ25dLGVudW1lcmFibGU6Zm4gaW4gaT9pW2ZuXTpuW2ZuXSx3cml0YWJsZTohMX0pfXJldHVybiBFbihlLHQsaSl9OkVuOmZ1bmN0aW9uKGUsdCxpKXtpZih1bihlKSx0PXBuKHQpLHVuKGkpLGxuKXRyeXtyZXR1cm4gRW4oZSx0LGkpfWNhdGNoKGUpe31pZihcImdldFwiaW4gaXx8XCJzZXRcImluIGkpdGhyb3cgX24oXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm5cInZhbHVlXCJpbiBpJiYoZVt0XT1pLnZhbHVlKSxlfTt2YXIgU249bm4sUm49S2UsQ249TWU/ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBTbi5mKGUsdCxSbigxLGkpKX06ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlW3RdPWksZX0sdm49ZmUsSW49Q2UseW49T2UsQW49TGUsYm49a2UuZix3bj1RaSxPbj1hdCxObj10bixEbj1DbixQbj1uaSxMbj1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihpLG4scil7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUoaSk7Y2FzZSAyOnJldHVybiBuZXcgZShpLG4pfXJldHVybiBuZXcgZShpLG4scil9cmV0dXJuIEluKGUsdGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdC5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdH0sa249ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLHIscyxvLGEsYyxkLGwsaD1lLnRhcmdldCx1PWUuZ2xvYmFsLHA9ZS5zdGF0LF89ZS5wcm90byxFPXU/dm46cD92bltoXToodm5baF18fHt9KS5wcm90b3R5cGUsbT11P09uOk9uW2hdfHxEbihPbixoLHt9KVtoXSxmPW0ucHJvdG90eXBlO2ZvcihzIGluIHQpbj0hKGk9d24odT9zOmgrKHA/XCIuXCI6XCIjXCIpK3MsZS5mb3JjZWQpKSYmRSYmUG4oRSxzKSxhPW1bc10sbiYmKGM9ZS5kb250Q2FsbEdldFNldD8obD1ibihFLHMpKSYmbC52YWx1ZTpFW3NdKSxvPW4mJmM/Yzp0W3NdLG4mJnR5cGVvZiBhPT10eXBlb2Ygb3x8KGQ9ZS5iaW5kJiZuP05uKG8sdm4pOmUud3JhcCYmbj9MbihvKTpfJiZBbihvKT95bihvKTpvLChlLnNoYW18fG8mJm8uc2hhbXx8YSYmYS5zaGFtKSYmRG4oZCxcInNoYW1cIiwhMCksRG4obSxzLGQpLF8mJihQbihPbixyPWgrXCJQcm90b3R5cGVcIil8fERuKE9uLHIse30pLERuKE9uW3JdLHMsbyksZS5yZWFsJiZmJiYoaXx8IWZbc10pJiZEbihmLHMsbykpKX0sTW49TWF0aC5jZWlsLFVuPU1hdGguZmxvb3IseG49TWF0aC50cnVuY3x8ZnVuY3Rpb24oZSl7dmFyIHQ9K2U7cmV0dXJuKHQ+MD9VbjpNbikodCl9LFZuPWZ1bmN0aW9uKGUpe3ZhciB0PStlO3JldHVybiB0IT10fHwwPT09dD8wOnhuKHQpfSxGbj1WbixCbj1NYXRoLm1heCxqbj1NYXRoLm1pbixHbj1mdW5jdGlvbihlLHQpe3ZhciBpPUZuKGUpO3JldHVybiBpPDA/Qm4oaSt0LDApOmpuKGksdCl9LFduPVZuLEhuPU1hdGgubWluLEtuPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/SG4oV24oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH0sWW49ZnVuY3Rpb24oZSl7cmV0dXJuIEtuKGUubGVuZ3RoKX0scW49bnQsSm49R24sem49WW4sWG49ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXt2YXIgcixzPXFuKHQpLG89em4ocyksYT1KbihuLG8pO2lmKGUmJmkhPWkpe2Zvcig7bz5hOylpZigocj1zW2ErK10pIT1yKXJldHVybiEwfWVsc2UgZm9yKDtvPmE7YSsrKWlmKChlfHxhIGluIHMpJiZzW2FdPT09aSlyZXR1cm4gZXx8YXx8MDtyZXR1cm4hZSYmLTF9fSxRbj17aW5jbHVkZXM6WG4oITApLGluZGV4T2Y6WG4oITEpfSxabj1Rbi5pbmNsdWRlcztrbih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6Y2UoKGZ1bmN0aW9uKCl7cmV0dXJuIUFycmF5KDEpLmluY2x1ZGVzKCl9KSl9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gWm4odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgJG49YXQsZXI9ZnVuY3Rpb24oZSl7cmV0dXJuICRuW2UrXCJQcm90b3R5cGVcIl19LHRyPWVyKFwiQXJyYXlcIikuaW5jbHVkZXMsaXI9b3QsbnI9QWUscnI9ZmkoXCJtYXRjaFwiKSxzcj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gaXIoZSkmJih2b2lkIDAhPT0odD1lW3JyXSk/ISF0OlwiUmVnRXhwXCI9PW5yKGUpKX0sb3I9VHlwZUVycm9yLGFyPXt9O2FyW2ZpKFwidG9TdHJpbmdUYWdcIildPVwielwiO3ZhciBjcj1cIltvYmplY3Qgel1cIj09PVN0cmluZyhhciksZHI9Y3IsbHI9TGUsaHI9QWUsdXI9ZmkoXCJ0b1N0cmluZ1RhZ1wiKSxwcj1PYmplY3QsX3I9XCJBcmd1bWVudHNcIj09aHIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxFcj1kcj9ocjpmdW5jdGlvbihlKXt2YXIgdCxpLG47cmV0dXJuIHZvaWQgMD09PWU/XCJVbmRlZmluZWRcIjpudWxsPT09ZT9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2YoaT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PXByKGUpLHVyKSk/aTpfcj9ocih0KTpcIk9iamVjdFwiPT0obj1ocih0KSkmJmxyKHQuY2FsbGVlKT9cIkFyZ3VtZW50c1wiOm59LG1yPUVyLGZyPVN0cmluZyxncj1mdW5jdGlvbihlKXtpZihcIlN5bWJvbFwiPT09bXIoZSkpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmdcIik7cmV0dXJuIGZyKGUpfSxUcj1maShcIm1hdGNoXCIpLFNyPWtuLFJyPWZ1bmN0aW9uKGUpe2lmKHNyKGUpKXRocm93IG9yKFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO3JldHVybiBlfSxDcj1ldCx2cj1ncixJcj1mdW5jdGlvbihlKXt2YXIgdD0vLi87dHJ5e1wiLy4vXCJbZV0odCl9Y2F0Y2goaSl7dHJ5e3JldHVybiB0W1RyXT0hMSxcIi8uL1wiW2VdKHQpfWNhdGNoKGUpe319cmV0dXJuITF9LHlyPV9lKFwiXCIuaW5kZXhPZik7U3Ioe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDohSXIoXCJpbmNsdWRlc1wiKX0se2luY2x1ZGVzOmZ1bmN0aW9uKGUpe3JldHVybiEhfnlyKHZyKENyKHRoaXMpKSx2cihScihlKSksYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBBcj1lcihcIlN0cmluZ1wiKS5pbmNsdWRlcyxicj1FZSx3cj10cixPcj1BcixOcj1BcnJheS5wcm90b3R5cGUsRHI9U3RyaW5nLnByb3RvdHlwZSxQcj1KKChmdW5jdGlvbihlKXt2YXIgdD1lLmluY2x1ZGVzO3JldHVybiBlPT09TnJ8fGJyKE5yLGUpJiZ0PT09TnIuaW5jbHVkZXM/d3I6XCJzdHJpbmdcIj09dHlwZW9mIGV8fGU9PT1Ecnx8YnIoRHIsZSkmJnQ9PT1Eci5pbmNsdWRlcz9Pcjp0fSkpLExyPXtleHBvcnRzOnt9fSxrcj1rbixNcj1NZSxVcj1ubi5mO2tyKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpPYmplY3QuZGVmaW5lUHJvcGVydHkhPT1VcixzaGFtOiFNcn0se2RlZmluZVByb3BlcnR5OlVyfSk7dmFyIHhyPWF0Lk9iamVjdCxWcj1Mci5leHBvcnRzPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4geHIuZGVmaW5lUHJvcGVydHkoZSx0LGkpfTt4ci5kZWZpbmVQcm9wZXJ0eS5zaGFtJiYoVnIuc2hhbT0hMCk7dmFyIEZyPUooTHIuZXhwb3J0cyksQnI9QWUsanI9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJBcnJheVwiPT1CcihlKX0sR3I9VHlwZUVycm9yLFdyPWJpLEhyPW5uLEtyPUtlLFlyPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1Xcih0KTtuIGluIGU/SHIuZihlLG4sS3IoMCxpKSk6ZVtuXT1pfSxxcj1MZSxKcj16dCx6cj1fZShGdW5jdGlvbi50b1N0cmluZyk7cXIoSnIuaW5zcGVjdFNvdXJjZSl8fChKci5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiB6cihlKX0pO3ZhciBYcj1Kci5pbnNwZWN0U291cmNlLFFyPV9lLFpyPWNlLCRyPUxlLGVzPUVyLHRzPVhyLGlzPWZ1bmN0aW9uKCl7fSxucz1bXSxycz11dChcIlJlZmxlY3RcIixcImNvbnN0cnVjdFwiKSxzcz0vXlxccyooPzpjbGFzc3xmdW5jdGlvbilcXGIvLG9zPVFyKHNzLmV4ZWMpLGFzPSFzcy5leGVjKGlzKSxjcz1mdW5jdGlvbihlKXtpZighJHIoZSkpcmV0dXJuITE7dHJ5e3JldHVybiBycyhpcyxucyxlKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19LGRzPWZ1bmN0aW9uKGUpe2lmKCEkcihlKSlyZXR1cm4hMTtzd2l0Y2goZXMoZSkpe2Nhc2VcIkFzeW5jRnVuY3Rpb25cIjpjYXNlXCJHZW5lcmF0b3JGdW5jdGlvblwiOmNhc2VcIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb25cIjpyZXR1cm4hMX10cnl7cmV0dXJuIGFzfHwhIW9zKHNzLHRzKGUpKX1jYXRjaChlKXtyZXR1cm4hMH19O2RzLnNoYW09ITA7dmFyIGxzPSFyc3x8WnIoKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGNzKGNzLmNhbGwpfHwhY3MoT2JqZWN0KXx8IWNzKChmdW5jdGlvbigpe2U9ITB9KSl8fGV9KSk/ZHM6Y3MsaHM9anIsdXM9bHMscHM9b3QsX3M9ZmkoXCJzcGVjaWVzXCIpLEVzPUFycmF5LG1zPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBocyhlKSYmKHQ9ZS5jb25zdHJ1Y3RvciwodXModCkmJih0PT09RXN8fGhzKHQucHJvdG90eXBlKSl8fHBzKHQpJiZudWxsPT09KHQ9dFtfc10pKSYmKHQ9dm9pZCAwKSksdm9pZCAwPT09dD9Fczp0fSxmcz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcobXMoZSkpKDA9PT10PzA6dCl9LGdzPWNlLFRzPVN0LFNzPWZpKFwic3BlY2llc1wiKSxScz1rbixDcz1jZSx2cz1qcixJcz1vdCx5cz1laSxBcz1Zbixicz1mdW5jdGlvbihlKXtpZihlPjkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgR3IoXCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIik7cmV0dXJuIGV9LHdzPVlyLE9zPWZzLE5zPWZ1bmN0aW9uKGUpe3JldHVybiBUcz49NTF8fCFncygoZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4odC5jb25zdHJ1Y3Rvcj17fSlbU3NdPWZ1bmN0aW9uKCl7cmV0dXJue2ZvbzoxfX0sMSE9PXRbZV0oQm9vbGVhbikuZm9vfSkpfSxEcz1TdCxQcz1maShcImlzQ29uY2F0U3ByZWFkYWJsZVwiKSxMcz1Ecz49NTF8fCFDcygoZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZVtQc109ITEsZS5jb25jYXQoKVswXSE9PWV9KSksa3M9ZnVuY3Rpb24oZSl7aWYoIUlzKGUpKXJldHVybiExO3ZhciB0PWVbUHNdO3JldHVybiB2b2lkIDAhPT10PyEhdDp2cyhlKX07UnMoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsYXJpdHk6MSxmb3JjZWQ6IUxzfHwhTnMoXCJjb25jYXRcIil9LHtjb25jYXQ6ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHIscyxvPXlzKHRoaXMpLGE9T3MobywwKSxjPTA7Zm9yKHQ9LTEsbj1hcmd1bWVudHMubGVuZ3RoO3Q8bjt0KyspaWYoa3Mocz0tMT09PXQ/bzphcmd1bWVudHNbdF0pKWZvcihyPUFzKHMpLGJzKGMrciksaT0wO2k8cjtpKyssYysrKWkgaW4gcyYmd3MoYSxjLHNbaV0pO2Vsc2UgYnMoYysxKSx3cyhhLGMrKyxzKTtyZXR1cm4gYS5sZW5ndGg9YyxhfX0pO3ZhciBNcz17fSxVcz17fSx4cz1uaSxWcz1udCxGcz1Rbi5pbmRleE9mLEJzPVVzLGpzPV9lKFtdLnB1c2gpLEdzPWZ1bmN0aW9uKGUsdCl7dmFyIGksbj1WcyhlKSxyPTAscz1bXTtmb3IoaSBpbiBuKSF4cyhCcyxpKSYmeHMobixpKSYmanMocyxpKTtmb3IoO3QubGVuZ3RoPnI7KXhzKG4saT10W3IrK10pJiYofkZzKHMsaSl8fGpzKHMsaSkpO3JldHVybiBzfSxXcz1bXCJjb25zdHJ1Y3RvclwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidG9TdHJpbmdcIixcInZhbHVlT2ZcIl0sSHM9R3MsS3M9V3MsWXM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBIcyhlLEtzKX0scXM9TWUsSnM9cm4senM9bm4sWHM9Y24sUXM9bnQsWnM9WXM7TXMuZj1xcyYmIUpzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7WHMoZSk7Zm9yKHZhciBpLG49UXModCkscj1acyh0KSxzPXIubGVuZ3RoLG89MDtzPm87KXpzLmYoZSxpPXJbbysrXSxuW2ldKTtyZXR1cm4gZX07dmFyICRzLGVvPXV0KFwiZG9jdW1lbnRcIixcImRvY3VtZW50RWxlbWVudFwiKSx0bz1jaSxpbz1RdChcImtleXNcIiksbm89ZnVuY3Rpb24oZSl7cmV0dXJuIGlvW2VdfHwoaW9bZV09dG8oZSkpfSxybz1jbixzbz1Ncyxvbz1Xcyxhbz1Vcyxjbz1lbyxsbz1EaSxobz1cInByb3RvdHlwZVwiLHVvPVwic2NyaXB0XCIscG89bm8oXCJJRV9QUk9UT1wiKSxfbz1mdW5jdGlvbigpe30sRW89ZnVuY3Rpb24oZSl7cmV0dXJuXCI8XCIrdW8rXCI+XCIrZStcIjwvXCIrdW8rXCI+XCJ9LG1vPWZ1bmN0aW9uKGUpe2Uud3JpdGUoRW8oXCJcIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fSxmbz1mdW5jdGlvbigpe3RyeXskcz1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpfWNhdGNoKGUpe312YXIgZSx0LGk7Zm89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LmRvbWFpbiYmJHM/bW8oJHMpOih0PWxvKFwiaWZyYW1lXCIpLGk9XCJqYXZhXCIrdW8rXCI6XCIsdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGNvLmFwcGVuZENoaWxkKHQpLHQuc3JjPVN0cmluZyhpKSwoZT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSxlLndyaXRlKEVvKFwiZG9jdW1lbnQuRj1PYmplY3RcIikpLGUuY2xvc2UoKSxlLkYpOm1vKCRzKTtmb3IodmFyIG49b28ubGVuZ3RoO24tLTspZGVsZXRlIGZvW2hvXVtvb1tuXV07cmV0dXJuIGZvKCl9O2FvW3BvXT0hMDt2YXIgZ289T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgaTtyZXR1cm4gbnVsbCE9PWU/KF9vW2hvXT1ybyhlKSxpPW5ldyBfbyxfb1tob109bnVsbCxpW3BvXT1lKTppPWZvKCksdm9pZCAwPT09dD9pOnNvLmYoaSx0KX0sVG89e30sU289R3MsUm89V3MuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7VG8uZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIFNvKGUsUm8pfTt2YXIgQ289e30sdm89R24sSW89WW4seW89WXIsQW89QXJyYXksYm89TWF0aC5tYXgsd289ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj1JbyhlKSxyPXZvKHQsbikscz12byh2b2lkIDA9PT1pP246aSxuKSxvPUFvKGJvKHMtciwwKSksYT0wO3I8cztyKyssYSsrKXlvKG8sYSxlW3JdKTtyZXR1cm4gby5sZW5ndGg9YSxvfSxPbz1BZSxObz1udCxEbz1Uby5mLFBvPXdvLExvPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXTtDby5mPWZ1bmN0aW9uKGUpe3JldHVybiBMbyYmXCJXaW5kb3dcIj09T28oZSk/ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBEbyhlKX1jYXRjaChlKXtyZXR1cm4gUG8oTG8pfX0oZSk6RG8oTm8oZSkpfTt2YXIga289e307a28uZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO3ZhciBNbz1DbixVbz1mdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gbiYmbi5lbnVtZXJhYmxlP2VbdF09aTpNbyhlLHQsaSksZX0seG89bm4sVm89ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB4by5mKGUsdCxpKX0sRm89e30sQm89Zmk7Rm8uZj1Cbzt2YXIgam8sR28sV28sSG89YXQsS289bmksWW89Rm8scW89bm4uZixKbz1mdW5jdGlvbihlKXt2YXIgdD1Iby5TeW1ib2x8fChIby5TeW1ib2w9e30pO0tvKHQsZSl8fHFvKHQsZSx7dmFsdWU6WW8uZihlKX0pfSx6bz1WZSxYbz11dCxRbz1maSxabz1Vbywkbz1mdW5jdGlvbigpe3ZhciBlPVhvKFwiU3ltYm9sXCIpLHQ9ZSYmZS5wcm90b3R5cGUsaT10JiZ0LnZhbHVlT2Ysbj1RbyhcInRvUHJpbWl0aXZlXCIpO3QmJiF0W25dJiZabyh0LG4sKGZ1bmN0aW9uKGUpe3JldHVybiB6byhpLHRoaXMpfSkse2FyaXR5OjF9KX0sZWE9RXIsdGE9Y3I/e30udG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgXCIrZWEodGhpcykrXCJdXCJ9LGlhPWNyLG5hPW5uLmYscmE9Q24sc2E9bmksb2E9dGEsYWE9ZmkoXCJ0b1N0cmluZ1RhZ1wiKSxjYT1mdW5jdGlvbihlLHQsaSxuKXtpZihlKXt2YXIgcj1pP2U6ZS5wcm90b3R5cGU7c2EocixhYSl8fG5hKHIsYWEse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSksbiYmIWlhJiZyYShyLFwidG9TdHJpbmdcIixvYSl9fSxkYT1MZSxsYT1mZS5XZWFrTWFwLGhhPWRhKGxhKSYmL25hdGl2ZSBjb2RlLy50ZXN0KFN0cmluZyhsYSkpLHVhPWZlLHBhPW90LF9hPUNuLEVhPW5pLG1hPXp0LGZhPW5vLGdhPVVzLFRhPVwiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWRcIixTYT11YS5UeXBlRXJyb3IsUmE9dWEuV2Vha01hcDtpZihoYXx8bWEuc3RhdGUpe3ZhciBDYT1tYS5zdGF0ZXx8KG1hLnN0YXRlPW5ldyBSYSk7Q2EuZ2V0PUNhLmdldCxDYS5oYXM9Q2EuaGFzLENhLnNldD1DYS5zZXQsam89ZnVuY3Rpb24oZSx0KXtpZihDYS5oYXMoZSkpdGhyb3cgU2EoVGEpO3JldHVybiB0LmZhY2FkZT1lLENhLnNldChlLHQpLHR9LEdvPWZ1bmN0aW9uKGUpe3JldHVybiBDYS5nZXQoZSl8fHt9fSxXbz1mdW5jdGlvbihlKXtyZXR1cm4gQ2EuaGFzKGUpfX1lbHNle3ZhciB2YT1mYShcInN0YXRlXCIpO2dhW3ZhXT0hMCxqbz1mdW5jdGlvbihlLHQpe2lmKEVhKGUsdmEpKXRocm93IFNhKFRhKTtyZXR1cm4gdC5mYWNhZGU9ZSxfYShlLHZhLHQpLHR9LEdvPWZ1bmN0aW9uKGUpe3JldHVybiBFYShlLHZhKT9lW3ZhXTp7fX0sV289ZnVuY3Rpb24oZSl7cmV0dXJuIEVhKGUsdmEpfX12YXIgSWE9e3NldDpqbyxnZXQ6R28saGFzOldvLGVuZm9yY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIFdvKGUpP0dvKGUpOmpvKGUse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpO2lmKCFwYSh0KXx8KGk9R28odCkpLnR5cGUhPT1lKXRocm93IFNhKFwiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCBcIitlK1wiIHJlcXVpcmVkXCIpO3JldHVybiBpfX19LHlhPXRuLEFhPVhlLGJhPWVpLHdhPVluLE9hPWZzLE5hPV9lKFtdLnB1c2gpLERhPWZ1bmN0aW9uKGUpe3ZhciB0PTE9PWUsaT0yPT1lLG49Mz09ZSxyPTQ9PWUscz02PT1lLG89Nz09ZSxhPTU9PWV8fHM7cmV0dXJuIGZ1bmN0aW9uKGMsZCxsLGgpe2Zvcih2YXIgdSxwLF89YmEoYyksRT1BYShfKSxtPXlhKGQsbCksZj13YShFKSxnPTAsVD1ofHxPYSxTPXQ/VChjLGYpOml8fG8/VChjLDApOnZvaWQgMDtmPmc7ZysrKWlmKChhfHxnIGluIEUpJiYocD1tKHU9RVtnXSxnLF8pLGUpKWlmKHQpU1tnXT1wO2Vsc2UgaWYocClzd2l0Y2goZSl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gdTtjYXNlIDY6cmV0dXJuIGc7Y2FzZSAyOk5hKFMsdSl9ZWxzZSBzd2l0Y2goZSl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzpOYShTLHUpfXJldHVybiBzPy0xOm58fHI/cjpTfX0sUGE9e2ZvckVhY2g6RGEoMCksbWFwOkRhKDEpLGZpbHRlcjpEYSgyKSxzb21lOkRhKDMpLGV2ZXJ5OkRhKDQpLGZpbmQ6RGEoNSksZmluZEluZGV4OkRhKDYpLGZpbHRlclJlamVjdDpEYSg3KX0sTGE9a24sa2E9ZmUsTWE9VmUsVWE9X2UseGE9TWUsVmE9SXQsRmE9Y2UsQmE9bmksamE9RWUsR2E9Y24sV2E9bnQsSGE9YmksS2E9Z3IsWWE9S2UscWE9Z28sSmE9WXMsemE9VG8sWGE9Q28sUWE9a28sWmE9a2UsJGE9bm4sZWM9TXMsdGM9RmUsaWM9VW8sbmM9Vm8scmM9UXQsc2M9VXMsb2M9Y2ksYWM9ZmksY2M9Rm8sZGM9Sm8sbGM9JG8saGM9Y2EsdWM9SWEscGM9UGEuZm9yRWFjaCxfYz1ubyhcImhpZGRlblwiKSxFYz1cIlN5bWJvbFwiLG1jPVwicHJvdG90eXBlXCIsZmM9dWMuc2V0LGdjPXVjLmdldHRlckZvcihFYyksVGM9T2JqZWN0W21jXSxTYz1rYS5TeW1ib2wsUmM9U2MmJlNjW21jXSxDYz1rYS5UeXBlRXJyb3IsdmM9a2EuUU9iamVjdCxJYz1aYS5mLHljPSRhLmYsQWM9WGEuZixiYz10Yy5mLHdjPVVhKFtdLnB1c2gpLE9jPXJjKFwic3ltYm9sc1wiKSxOYz1yYyhcIm9wLXN5bWJvbHNcIiksRGM9cmMoXCJ3a3NcIiksUGM9IXZjfHwhdmNbbWNdfHwhdmNbbWNdLmZpbmRDaGlsZCxMYz14YSYmRmEoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPXFhKHljKHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geWModGhpcyxcImFcIix7dmFsdWU6N30pLmF9fSkpLmF9KSk/ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPUljKFRjLHQpO24mJmRlbGV0ZSBUY1t0XSx5YyhlLHQsaSksbiYmZSE9PVRjJiZ5YyhUYyx0LG4pfTp5YyxrYz1mdW5jdGlvbihlLHQpe3ZhciBpPU9jW2VdPXFhKFJjKTtyZXR1cm4gZmMoaSx7dHlwZTpFYyx0YWc6ZSxkZXNjcmlwdGlvbjp0fSkseGF8fChpLmRlc2NyaXB0aW9uPXQpLGl9LE1jPWZ1bmN0aW9uKGUsdCxpKXtlPT09VGMmJk1jKE5jLHQsaSksR2EoZSk7dmFyIG49SGEodCk7cmV0dXJuIEdhKGkpLEJhKE9jLG4pPyhpLmVudW1lcmFibGU/KEJhKGUsX2MpJiZlW19jXVtuXSYmKGVbX2NdW25dPSExKSxpPXFhKGkse2VudW1lcmFibGU6WWEoMCwhMSl9KSk6KEJhKGUsX2MpfHx5YyhlLF9jLFlhKDEse30pKSxlW19jXVtuXT0hMCksTGMoZSxuLGkpKTp5YyhlLG4saSl9LFVjPWZ1bmN0aW9uKGUsdCl7R2EoZSk7dmFyIGk9V2EodCksbj1KYShpKS5jb25jYXQoQmMoaSkpO3JldHVybiBwYyhuLChmdW5jdGlvbih0KXt4YSYmIU1hKHhjLGksdCl8fE1jKGUsdCxpW3RdKX0pKSxlfSx4Yz1mdW5jdGlvbihlKXt2YXIgdD1IYShlKSxpPU1hKGJjLHRoaXMsdCk7cmV0dXJuISh0aGlzPT09VGMmJkJhKE9jLHQpJiYhQmEoTmMsdCkpJiYoIShpfHwhQmEodGhpcyx0KXx8IUJhKE9jLHQpfHxCYSh0aGlzLF9jKSYmdGhpc1tfY11bdF0pfHxpKX0sVmM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1XYShlKSxuPUhhKHQpO2lmKGkhPT1UY3x8IUJhKE9jLG4pfHxCYShOYyxuKSl7dmFyIHI9SWMoaSxuKTtyZXR1cm4hcnx8IUJhKE9jLG4pfHxCYShpLF9jKSYmaVtfY11bbl18fChyLmVudW1lcmFibGU9ITApLHJ9fSxGYz1mdW5jdGlvbihlKXt2YXIgdD1BYyhXYShlKSksaT1bXTtyZXR1cm4gcGModCwoZnVuY3Rpb24oZSl7QmEoT2MsZSl8fEJhKHNjLGUpfHx3YyhpLGUpfSkpLGl9LEJjPWZ1bmN0aW9uKGUpe3ZhciB0PWU9PT1UYyxpPUFjKHQ/TmM6V2EoZSkpLG49W107cmV0dXJuIHBjKGksKGZ1bmN0aW9uKGUpeyFCYShPYyxlKXx8dCYmIUJhKFRjLGUpfHx3YyhuLE9jW2VdKX0pKSxufTtWYXx8KFNjPWZ1bmN0aW9uKCl7aWYoamEoUmMsdGhpcykpdGhyb3cgQ2MoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP0thKGFyZ3VtZW50c1swXSk6dm9pZCAwLHQ9b2MoZSksaT1mdW5jdGlvbihlKXt0aGlzPT09VGMmJk1hKGksTmMsZSksQmEodGhpcyxfYykmJkJhKHRoaXNbX2NdLHQpJiYodGhpc1tfY11bdF09ITEpLExjKHRoaXMsdCxZYSgxLGUpKX07cmV0dXJuIHhhJiZQYyYmTGMoVGMsdCx7Y29uZmlndXJhYmxlOiEwLHNldDppfSksa2ModCxlKX0saWMoUmM9U2NbbWNdLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ2ModGhpcykudGFnfSkpLGljKFNjLFwid2l0aG91dFNldHRlclwiLChmdW5jdGlvbihlKXtyZXR1cm4ga2Mob2MoZSksZSl9KSksdGMuZj14YywkYS5mPU1jLGVjLmY9VWMsWmEuZj1WYyx6YS5mPVhhLmY9RmMsUWEuZj1CYyxjYy5mPWZ1bmN0aW9uKGUpe3JldHVybiBrYyhhYyhlKSxlKX0seGEmJm5jKFJjLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnYyh0aGlzKS5kZXNjcmlwdGlvbn19KSksTGEoe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCx3cmFwOiEwLGZvcmNlZDohVmEsc2hhbTohVmF9LHtTeW1ib2w6U2N9KSxwYyhKYShEYyksKGZ1bmN0aW9uKGUpe2RjKGUpfSkpLExhKHt0YXJnZXQ6RWMsc3RhdDohMCxmb3JjZWQ6IVZhfSx7dXNlU2V0dGVyOmZ1bmN0aW9uKCl7UGM9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe1BjPSExfX0pLExhKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohVmEsc2hhbToheGF9LHtjcmVhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9xYShlKTpVYyhxYShlKSx0KX0sZGVmaW5lUHJvcGVydHk6TWMsZGVmaW5lUHJvcGVydGllczpVYyxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6VmN9KSxMYSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IVZhfSx7Z2V0T3duUHJvcGVydHlOYW1lczpGY30pLGxjKCksaGMoU2MsRWMpLHNjW19jXT0hMDt2YXIgamM9SXQmJiEhU3ltYm9sLmZvciYmISFTeW1ib2wua2V5Rm9yLEdjPWtuLFdjPXV0LEhjPW5pLEtjPWdyLFljPVF0LHFjPWpjLEpjPVljKFwic3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeVwiKSx6Yz1ZYyhcInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnlcIik7R2Moe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiFxY30se2ZvcjpmdW5jdGlvbihlKXt2YXIgdD1LYyhlKTtpZihIYyhKYyx0KSlyZXR1cm4gSmNbdF07dmFyIGk9V2MoXCJTeW1ib2xcIikodCk7cmV0dXJuIEpjW3RdPWksemNbaV09dCxpfX0pO3ZhciBYYz1rbixRYz1uaSxaYz1OdCwkYz1QdCxlZD1qYyx0ZD1RdChcInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnlcIik7WGMoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiFlZH0se2tleUZvcjpmdW5jdGlvbihlKXtpZighWmMoZSkpdGhyb3cgVHlwZUVycm9yKCRjKGUpK1wiIGlzIG5vdCBhIHN5bWJvbFwiKTtpZihRYyh0ZCxlKSlyZXR1cm4gdGRbZV19fSk7dmFyIGlkPV9lKFtdLnNsaWNlKSxuZD1qcixyZD1MZSxzZD1BZSxvZD1ncixhZD1fZShbXS5wdXNoKSxjZD1rbixkZD11dCxsZD1DZSxoZD1WZSx1ZD1fZSxwZD1jZSxfZD1MZSxFZD1OdCxtZD1pZCxmZD1mdW5jdGlvbihlKXtpZihyZChlKSlyZXR1cm4gZTtpZihuZChlKSl7Zm9yKHZhciB0PWUubGVuZ3RoLGk9W10sbj0wO248dDtuKyspe3ZhciByPWVbbl07XCJzdHJpbmdcIj09dHlwZW9mIHI/YWQoaSxyKTpcIm51bWJlclwiIT10eXBlb2YgciYmXCJOdW1iZXJcIiE9c2QocikmJlwiU3RyaW5nXCIhPXNkKHIpfHxhZChpLG9kKHIpKX12YXIgcz1pLmxlbmd0aCxvPSEwO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKG8pcmV0dXJuIG89ITEsdDtpZihuZCh0aGlzKSlyZXR1cm4gdDtmb3IodmFyIG49MDtuPHM7bisrKWlmKGlbbl09PT1lKXJldHVybiB0fX19LGdkPUl0LFRkPVN0cmluZyxTZD1kZChcIkpTT05cIixcInN0cmluZ2lmeVwiKSxSZD11ZCgvLi8uZXhlYyksQ2Q9dWQoXCJcIi5jaGFyQXQpLHZkPXVkKFwiXCIuY2hhckNvZGVBdCksSWQ9dWQoXCJcIi5yZXBsYWNlKSx5ZD11ZCgxLi50b1N0cmluZyksQWQ9L1tcXHVEODAwLVxcdURGRkZdL2csYmQ9L15bXFx1RDgwMC1cXHVEQkZGXSQvLHdkPS9eW1xcdURDMDAtXFx1REZGRl0kLyxPZD0hZ2R8fHBkKChmdW5jdGlvbigpe3ZhciBlPWRkKFwiU3ltYm9sXCIpKCk7cmV0dXJuXCJbbnVsbF1cIiE9U2QoW2VdKXx8XCJ7fVwiIT1TZCh7YTplfSl8fFwie31cIiE9U2QoT2JqZWN0KGUpKX0pKSxOZD1wZCgoZnVuY3Rpb24oKXtyZXR1cm4nXCJcXFxcdWRmMDZcXFxcdWQ4MzRcIichPT1TZChcIlxcdWRmMDZcXHVkODM0XCIpfHwnXCJcXFxcdWRlYWRcIichPT1TZChcIlxcdWRlYWRcIil9KSksRGQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1tZChhcmd1bWVudHMpLG49ZmQodCk7aWYoX2Qobil8fHZvaWQgMCE9PWUmJiFFZChlKSlyZXR1cm4gaVsxXT1mdW5jdGlvbihlLHQpe2lmKF9kKG4pJiYodD1oZChuLHRoaXMsVGQoZSksdCkpLCFFZCh0KSlyZXR1cm4gdH0sbGQoU2QsbnVsbCxpKX0sUGQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPUNkKGksdC0xKSxyPUNkKGksdCsxKTtyZXR1cm4gUmQoYmQsZSkmJiFSZCh3ZCxyKXx8UmQod2QsZSkmJiFSZChiZCxuKT9cIlxcXFx1XCIreWQodmQoZSwwKSwxNik6ZX07U2QmJmNkKHt0YXJnZXQ6XCJKU09OXCIsc3RhdDohMCxhcml0eTozLGZvcmNlZDpPZHx8TmR9LHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPW1kKGFyZ3VtZW50cykscj1sZChPZD9EZDpTZCxudWxsLG4pO3JldHVybiBOZCYmXCJzdHJpbmdcIj09dHlwZW9mIHI/SWQocixBZCxQZCk6cn19KTt2YXIgTGQ9a28sa2Q9ZWk7a24oe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiFJdHx8Y2UoKGZ1bmN0aW9uKCl7TGQuZigxKX0pKX0se2dldE93blByb3BlcnR5U3ltYm9sczpmdW5jdGlvbihlKXt2YXIgdD1MZC5mO3JldHVybiB0P3Qoa2QoZSkpOltdfX0pLEpvKFwiYXN5bmNJdGVyYXRvclwiKSxKbyhcImhhc0luc3RhbmNlXCIpLEpvKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpLEpvKFwiaXRlcmF0b3JcIiksSm8oXCJtYXRjaFwiKSxKbyhcIm1hdGNoQWxsXCIpLEpvKFwicmVwbGFjZVwiKSxKbyhcInNlYXJjaFwiKSxKbyhcInNwZWNpZXNcIiksSm8oXCJzcGxpdFwiKTt2YXIgTWQ9JG87Sm8oXCJ0b1ByaW1pdGl2ZVwiKSxNZCgpO3ZhciBVZD11dCx4ZD1jYTtKbyhcInRvU3RyaW5nVGFnXCIpLHhkKFVkKFwiU3ltYm9sXCIpLFwiU3ltYm9sXCIpLEpvKFwidW5zY29wYWJsZXNcIiksY2EoZmUuSlNPTixcIkpTT05cIiwhMCk7dmFyIFZkLEZkLEJkLGpkPWF0LlN5bWJvbCxHZD17fSxXZD1NZSxIZD1uaSxLZD1GdW5jdGlvbi5wcm90b3R5cGUsWWQ9V2QmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscWQ9SGQoS2QsXCJuYW1lXCIpLEpkPXtFWElTVFM6cWQsUFJPUEVSOnFkJiZcInNvbWV0aGluZ1wiPT09ZnVuY3Rpb24oKXt9Lm5hbWUsQ09ORklHVVJBQkxFOnFkJiYoIVdkfHxXZCYmWWQoS2QsXCJuYW1lXCIpLmNvbmZpZ3VyYWJsZSl9LHpkPSFjZSgoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgZSkhPT1lLnByb3RvdHlwZX0pKSxYZD1uaSxRZD1MZSxaZD1laSwkZD16ZCxlbD1ubyhcIklFX1BST1RPXCIpLHRsPU9iamVjdCxpbD10bC5wcm90b3R5cGUsbmw9JGQ/dGwuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9WmQoZSk7aWYoWGQodCxlbCkpcmV0dXJuIHRbZWxdO3ZhciBpPXQuY29uc3RydWN0b3I7cmV0dXJuIFFkKGkpJiZ0IGluc3RhbmNlb2YgaT9pLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgdGw/aWw6bnVsbH0scmw9Y2Usc2w9TGUsb2w9b3QsYWw9Z28sY2w9bmwsZGw9VW8sbGw9ZmkoXCJpdGVyYXRvclwiKSxobD0hMTtbXS5rZXlzJiYoXCJuZXh0XCJpbihCZD1bXS5rZXlzKCkpPyhGZD1jbChjbChCZCkpKSE9PU9iamVjdC5wcm90b3R5cGUmJihWZD1GZCk6aGw9ITApO3ZhciB1bD0hb2woVmQpfHxybCgoZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gVmRbbGxdLmNhbGwoZSkhPT1lfSkpO3NsKChWZD11bD97fTphbChWZCkpW2xsXSl8fGRsKFZkLGxsLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBwbD17SXRlcmF0b3JQcm90b3R5cGU6VmQsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpobH0sX2w9cGwuSXRlcmF0b3JQcm90b3R5cGUsRWw9Z28sbWw9S2UsZmw9Y2EsZ2w9R2QsVGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sU2w9X2UsUmw9VXQsQ2w9TGUsdmw9U3RyaW5nLElsPVR5cGVFcnJvcix5bD1mdW5jdGlvbihlLHQsaSl7dHJ5e3JldHVybiBTbChSbChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdClbaV0pKX1jYXRjaChlKXt9fSxBbD1jbixibD1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXx8Q2woZSkpcmV0dXJuIGU7dGhyb3cgSWwoXCJDYW4ndCBzZXQgXCIrdmwoZSkrXCIgYXMgYSBwcm90b3R5cGVcIil9LHdsPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKCl7dmFyIGUsdD0hMSxpPXt9O3RyeXsoZT15bChPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIsXCJzZXRcIikpKGksW10pLHQ9aSBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKGUpe31yZXR1cm4gZnVuY3Rpb24oaSxuKXtyZXR1cm4gQWwoaSksYmwobiksdD9lKGksbik6aS5fX3Byb3RvX189bixpfX0oKTp2b2lkIDApLE9sPWtuLE5sPVZlLERsPUpkLFBsPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciByPXQrXCIgSXRlcmF0b3JcIjtyZXR1cm4gZS5wcm90b3R5cGU9RWwoX2wse25leHQ6bWwoKyFuLGkpfSksZmwoZSxyLCExLCEwKSxnbFtyXT1UbCxlfSxMbD1ubCxrbD1jYSxNbD1VbyxVbD1HZCx4bD1wbCxWbD1EbC5QUk9QRVIsRmw9eGwuQlVHR1lfU0FGQVJJX0lURVJBVE9SUyxCbD1maShcIml0ZXJhdG9yXCIpLGpsPVwia2V5c1wiLEdsPVwidmFsdWVzXCIsV2w9XCJlbnRyaWVzXCIsSGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sS2w9ZnVuY3Rpb24oZSx0LGksbixyLHMsbyl7UGwoaSx0LG4pO3ZhciBhLGMsZCxsPWZ1bmN0aW9uKGUpe2lmKGU9PT1yJiZFKXJldHVybiBFO2lmKCFGbCYmZSBpbiBwKXJldHVybiBwW2VdO3N3aXRjaChlKXtjYXNlIGpsOmNhc2UgR2w6Y2FzZSBXbDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMpfX0saD10K1wiIEl0ZXJhdG9yXCIsdT0hMSxwPWUucHJvdG90eXBlLF89cFtCbF18fHBbXCJAQGl0ZXJhdG9yXCJdfHxyJiZwW3JdLEU9IUZsJiZffHxsKHIpLG09XCJBcnJheVwiPT10JiZwLmVudHJpZXN8fF87aWYobSYmKGE9TGwobS5jYWxsKG5ldyBlKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmYS5uZXh0JiYoa2woYSxoLCEwLCEwKSxVbFtoXT1IbCksVmwmJnI9PUdsJiZfJiZfLm5hbWUhPT1HbCYmKHU9ITAsRT1mdW5jdGlvbigpe3JldHVybiBObChfLHRoaXMpfSkscilpZihjPXt2YWx1ZXM6bChHbCksa2V5czpzP0U6bChqbCksZW50cmllczpsKFdsKX0sbylmb3IoZCBpbiBjKShGbHx8dXx8IShkIGluIHApKSYmTWwocCxkLGNbZF0pO2Vsc2UgT2woe3RhcmdldDp0LHByb3RvOiEwLGZvcmNlZDpGbHx8dX0sYyk7cmV0dXJuIG8mJnBbQmxdIT09RSYmTWwocCxCbCxFLHtuYW1lOnJ9KSxVbFt0XT1FLGN9LFlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOmUsZG9uZTp0fX0scWw9bnQsSmw9R2Qsemw9SWE7bm4uZjt2YXIgWGw9S2wsUWw9WWwsWmw9XCJBcnJheSBJdGVyYXRvclwiLCRsPXpsLnNldCxlaD16bC5nZXR0ZXJGb3IoWmwpO1hsKEFycmF5LFwiQXJyYXlcIiwoZnVuY3Rpb24oZSx0KXskbCh0aGlzLHt0eXBlOlpsLHRhcmdldDpxbChlKSxpbmRleDowLGtpbmQ6dH0pfSksKGZ1bmN0aW9uKCl7dmFyIGU9ZWgodGhpcyksdD1lLnRhcmdldCxpPWUua2luZCxuPWUuaW5kZXgrKztyZXR1cm4hdHx8bj49dC5sZW5ndGg/KGUudGFyZ2V0PXZvaWQgMCxRbCh2b2lkIDAsITApKTpRbChcImtleXNcIj09aT9uOlwidmFsdWVzXCI9PWk/dFtuXTpbbix0W25dXSwhMSl9KSxcInZhbHVlc1wiKSxKbC5Bcmd1bWVudHM9SmwuQXJyYXk7dmFyIHRoPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfSxpaD1mZSxuaD1FcixyaD1DbixzaD1HZCxvaD1maShcInRvU3RyaW5nVGFnXCIpO2Zvcih2YXIgYWggaW4gdGgpe3ZhciBjaD1paFthaF0sZGg9Y2gmJmNoLnByb3RvdHlwZTtkaCYmbmgoZGgpIT09b2gmJnJoKGRoLG9oLGFoKSxzaFthaF09c2guQXJyYXl9dmFyIGxoPWpkLGhoPWZpLHVoPW5uLmYscGg9aGgoXCJtZXRhZGF0YVwiKSxfaD1GdW5jdGlvbi5wcm90b3R5cGU7dm9pZCAwPT09X2hbcGhdJiZ1aChfaCxwaCx7dmFsdWU6bnVsbH0pLEpvKFwiZGlzcG9zZVwiKSxKbyhcIm1ldGFkYXRhXCIpO3ZhciBFaD1saDtKbyhcImFzeW5jRGlzcG9zZVwiKTt2YXIgbWg9X2UsZmg9dXQoXCJTeW1ib2xcIiksZ2g9Zmgua2V5Rm9yLFRoPW1oKGZoLnByb3RvdHlwZS52YWx1ZU9mKSxTaD1maC5pc1JlZ2lzdGVyZWRTeW1ib2x8fGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gdm9pZCAwIT09Z2goVGgoZSkpfWNhdGNoKGUpe3JldHVybiExfX07a24oe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITB9LHtpc1JlZ2lzdGVyZWRTeW1ib2w6U2h9KTtmb3IodmFyIFJoPVF0LENoPXV0LHZoPV9lLEloPU50LHloPWZpLEFoPUNoKFwiU3ltYm9sXCIpLGJoPUFoLmlzV2VsbEtub3duU3ltYm9sLHdoPUNoKFwiT2JqZWN0XCIsXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCIpLE9oPXZoKEFoLnByb3RvdHlwZS52YWx1ZU9mKSxOaD1SaChcIndrc1wiKSxEaD0wLFBoPXdoKEFoKSxMaD1QaC5sZW5ndGg7RGg8TGg7RGgrKyl0cnl7dmFyIGtoPVBoW0RoXTtJaChBaFtraF0pJiZ5aChraCl9Y2F0Y2goZSl7fXZhciBNaD1mdW5jdGlvbihlKXtpZihiaCYmYmgoZSkpcmV0dXJuITA7dHJ5e2Zvcih2YXIgdD1PaChlKSxpPTAsbj13aChOaCkscj1uLmxlbmd0aDtpPHI7aSsrKWlmKE5oW25baV1dPT10KXJldHVybiEwfWNhdGNoKGUpe31yZXR1cm4hMX07a24oe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiEwfSx7aXNXZWxsS25vd25TeW1ib2w6TWh9KSxKbyhcIm1hdGNoZXJcIiksSm8oXCJvYnNlcnZhYmxlXCIpLGtuKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLG5hbWU6XCJpc1JlZ2lzdGVyZWRTeW1ib2xcIn0se2lzUmVnaXN0ZXJlZDpTaH0pLGtuKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLG5hbWU6XCJpc1dlbGxLbm93blN5bWJvbFwiLGZvcmNlZDohMH0se2lzV2VsbEtub3duOk1ofSksSm8oXCJtZXRhZGF0YUtleVwiKSxKbyhcInBhdHRlcm5NYXRjaFwiKSxKbyhcInJlcGxhY2VBbGxcIik7dmFyIFVoPUooRWgpLHhoPV9lLFZoPVZuLEZoPWdyLEJoPWV0LGpoPXhoKFwiXCIuY2hhckF0KSxHaD14aChcIlwiLmNoYXJDb2RlQXQpLFdoPXhoKFwiXCIuc2xpY2UpLEhoPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LGkpe3ZhciBuLHIscz1GaChCaCh0KSksbz1WaChpKSxhPXMubGVuZ3RoO3JldHVybiBvPDB8fG8+PWE/ZT9cIlwiOnZvaWQgMDoobj1HaChzLG8pKTw1NTI5Nnx8bj41NjMxOXx8bysxPT09YXx8KHI9R2gocyxvKzEpKTw1NjMyMHx8cj41NzM0Mz9lP2poKHMsbyk6bjplP1doKHMsbyxvKzIpOnItNTYzMjArKG4tNTUyOTY8PDEwKSs2NTUzNn19LEtoPXtjb2RlQXQ6SGgoITEpLGNoYXJBdDpIaCghMCl9LmNoYXJBdCxZaD1ncixxaD1JYSxKaD1LbCx6aD1ZbCxYaD1cIlN0cmluZyBJdGVyYXRvclwiLFFoPXFoLnNldCxaaD1xaC5nZXR0ZXJGb3IoWGgpO0poKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbihlKXtRaCh0aGlzLHt0eXBlOlhoLHN0cmluZzpZaChlKSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgZSx0PVpoKHRoaXMpLGk9dC5zdHJpbmcsbj10LmluZGV4O3JldHVybiBuPj1pLmxlbmd0aD96aCh2b2lkIDAsITApOihlPUtoKGksbiksdC5pbmRleCs9ZS5sZW5ndGgsemgoZSwhMSkpfSkpO3ZhciAkaD1KKEZvLmYoXCJpdGVyYXRvclwiKSk7ZnVuY3Rpb24gZXUoZSl7cmV0dXJuIGV1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFVoJiZcInN5bWJvbFwiPT10eXBlb2YgJGg/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWgmJmUuY29uc3RydWN0b3I9PT1VaCYmZSE9PVVoLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxldShlKX12YXIgdHU9SihGby5mKFwidG9QcmltaXRpdmVcIikpO2Z1bmN0aW9uIGl1KGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9PWV1KGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgaT1lW3R1XTtpZih2b2lkIDAhPT1pKXt2YXIgbj1pLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9PWV1KG4pKXJldHVybiBuO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09PWV1KHQpP3Q6U3RyaW5nKHQpfWZ1bmN0aW9uIG51KGUsdCxpKXtyZXR1cm4odD1pdSh0KSlpbiBlP0ZyKGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfXZhciBydT1lcihcIkFycmF5XCIpLmtleXMsc3U9RXIsb3U9bmksYXU9RWUsY3U9cnUsZHU9QXJyYXkucHJvdG90eXBlLGx1PXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9LGh1PUooKGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5cztyZXR1cm4gZT09PWR1fHxhdShkdSxlKSYmdD09PWR1LmtleXN8fG91KGx1LHN1KGUpKT9jdTp0fSkpLHV1PVB0LHB1PVR5cGVFcnJvcixfdT13byxFdT1NYXRoLmZsb29yLG11PWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5sZW5ndGgsbj1FdShpLzIpO3JldHVybiBpPDg/ZnUoZSx0KTpndShlLG11KF91KGUsMCxuKSx0KSxtdShfdShlLG4pLHQpLHQpfSxmdT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSxuLHI9ZS5sZW5ndGgscz0xO3M8cjspe2ZvcihuPXMsaT1lW3NdO24mJnQoZVtuLTFdLGkpPjA7KWVbbl09ZVstLW5dO24hPT1zKysmJihlW25dPWkpfXJldHVybiBlfSxndT1mdW5jdGlvbihlLHQsaSxuKXtmb3IodmFyIHI9dC5sZW5ndGgscz1pLmxlbmd0aCxvPTAsYT0wO288cnx8YTxzOyllW28rYV09bzxyJiZhPHM/bih0W29dLGlbYV0pPD0wP3RbbysrXTppW2ErK106bzxyP3RbbysrXTppW2ErK107cmV0dXJuIGV9LFR1PW11LFN1PWNlLFJ1PWZ1bmN0aW9uKGUsdCl7dmFyIGk9W11bZV07cmV0dXJuISFpJiZTdSgoZnVuY3Rpb24oKXtpLmNhbGwobnVsbCx0fHxmdW5jdGlvbigpe3JldHVybiAxfSwxKX0pKX0sQ3U9cHQubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvaSksdnU9ISFDdSYmK0N1WzFdLEl1PS9NU0lFfFRyaWRlbnQvLnRlc3QocHQpLHl1PXB0Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pLEF1PSEheXUmJit5dVsxXSxidT1rbix3dT1fZSxPdT1VdCxOdT1laSxEdT1ZbixQdT1mdW5jdGlvbihlLHQpe2lmKCFkZWxldGUgZVt0XSl0aHJvdyBwdShcIkNhbm5vdCBkZWxldGUgcHJvcGVydHkgXCIrdXUodCkrXCIgb2YgXCIrdXUoZSkpfSxMdT1ncixrdT1jZSxNdT1UdSxVdT1SdSx4dT12dSxWdT1JdSxGdT1TdCxCdT1BdSxqdT1bXSxHdT13dShqdS5zb3J0KSxXdT13dShqdS5wdXNoKSxIdT1rdSgoZnVuY3Rpb24oKXtqdS5zb3J0KHZvaWQgMCl9KSksS3U9a3UoKGZ1bmN0aW9uKCl7anUuc29ydChudWxsKX0pKSxZdT1VdShcInNvcnRcIikscXU9IWt1KChmdW5jdGlvbigpe2lmKEZ1KXJldHVybiBGdTw3MDtpZighKHh1JiZ4dT4zKSl7aWYoVnUpcmV0dXJuITA7aWYoQnUpcmV0dXJuIEJ1PDYwMzt2YXIgZSx0LGksbixyPVwiXCI7Zm9yKGU9NjU7ZTw3NjtlKyspe3N3aXRjaCh0PVN0cmluZy5mcm9tQ2hhckNvZGUoZSksZSl7Y2FzZSA2NjpjYXNlIDY5OmNhc2UgNzA6Y2FzZSA3MjppPTM7YnJlYWs7Y2FzZSA2ODpjYXNlIDcxOmk9NDticmVhaztkZWZhdWx0Omk9Mn1mb3Iobj0wO248NDc7bisrKWp1LnB1c2goe2s6dCtuLHY6aX0pfWZvcihqdS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LnYtZS52fSkpLG49MDtuPGp1Lmxlbmd0aDtuKyspdD1qdVtuXS5rLmNoYXJBdCgwKSxyLmNoYXJBdChyLmxlbmd0aC0xKSE9PXQmJihyKz10KTtyZXR1cm5cIkRHQkVGSEFDSUpLXCIhPT1yfX0pKTtidSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6SHV8fCFLdXx8IVl1fHwhcXV9LHtzb3J0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUmJk91KGUpO3ZhciB0PU51KHRoaXMpO2lmKHF1KXJldHVybiB2b2lkIDA9PT1lP0d1KHQpOkd1KHQsZSk7dmFyIGksbixyPVtdLHM9RHUodCk7Zm9yKG49MDtuPHM7bisrKW4gaW4gdCYmV3Uocix0W25dKTtmb3IoTXUocixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtyZXR1cm4gdm9pZCAwPT09aT8tMTp2b2lkIDA9PT10PzE6dm9pZCAwIT09ZT8rZSh0LGkpfHwwOkx1KHQpPkx1KGkpPzE6LTF9fShlKSksaT1EdShyKSxuPTA7bjxpOyl0W25dPXJbbisrXTtmb3IoO248czspUHUodCxuKyspO3JldHVybiB0fX0pO3ZhciBKdT1lcihcIkFycmF5XCIpLnNvcnQsenU9RWUsWHU9SnUsUXU9QXJyYXkucHJvdG90eXBlLFp1PUooKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc29ydDtyZXR1cm4gZT09PVF1fHx6dShRdSxlKSYmdD09PVF1LnNvcnQ/WHU6dH0pKSwkdT11dCxlcD1Ubyx0cD1rbyxpcD1jbixucD1fZShbXS5jb25jYXQpLHJwPSR1KFwiUmVmbGVjdFwiLFwib3duS2V5c1wiKXx8ZnVuY3Rpb24oZSl7dmFyIHQ9ZXAuZihpcChlKSksaT10cC5mO3JldHVybiBpP25wKHQsaShlKSk6dH0sc3A9bmksb3A9cnAsYXA9a2UsY3A9bm4sZHA9b3QsbHA9Q24saHA9RXJyb3IsdXA9X2UoXCJcIi5yZXBsYWNlKSxwcD1TdHJpbmcoaHAoXCJ6eGNhc2RcIikuc3RhY2spLF9wPS9cXG5cXHMqYXQgW146XSo6W15cXG5dKi8sRXA9X3AudGVzdChwcCksbXA9S2UsZnA9IWNlKChmdW5jdGlvbigpe3ZhciBlPUVycm9yKFwiYVwiKTtyZXR1cm4hKFwic3RhY2tcImluIGUpfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzdGFja1wiLG1wKDEsNykpLDchPT1lLnN0YWNrKX0pKSxncD1DbixUcD1mdW5jdGlvbihlLHQpe2lmKEVwJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmIWhwLnByZXBhcmVTdGFja1RyYWNlKWZvcig7dC0tOyllPXVwKGUsX3AsXCJcIik7cmV0dXJuIGV9LFNwPWZwLFJwPUVycm9yLmNhcHR1cmVTdGFja1RyYWNlLENwPUdkLHZwPWZpKFwiaXRlcmF0b3JcIiksSXA9QXJyYXkucHJvdG90eXBlLHlwPUVyLEFwPUZ0LGJwPVFlLHdwPUdkLE9wPWZpKFwiaXRlcmF0b3JcIiksTnA9ZnVuY3Rpb24oZSl7aWYoIWJwKGUpKXJldHVybiBBcChlLE9wKXx8QXAoZSxcIkBAaXRlcmF0b3JcIil8fHdwW3lwKGUpXX0sRHA9VmUsUHA9VXQsTHA9Y24sa3A9UHQsTXA9TnAsVXA9VHlwZUVycm9yLHhwPVZlLFZwPWNuLEZwPUZ0LEJwPXRuLGpwPVZlLEdwPWNuLFdwPVB0LEhwPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYoQ3AuQXJyYXk9PT1lfHxJcFt2cF09PT1lKX0sS3A9WW4sWXA9RWUscXA9ZnVuY3Rpb24oZSx0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPDI/TXAoZSk6dDtpZihQcChpKSlyZXR1cm4gTHAoRHAoaSxlKSk7dGhyb3cgVXAoa3AoZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfSxKcD1OcCx6cD1mdW5jdGlvbihlLHQsaSl7dmFyIG4scjtWcChlKTt0cnl7aWYoIShuPUZwKGUsXCJyZXR1cm5cIikpKXtpZihcInRocm93XCI9PT10KXRocm93IGk7cmV0dXJuIGl9bj14cChuLGUpfWNhdGNoKGUpe3I9ITAsbj1lfWlmKFwidGhyb3dcIj09PXQpdGhyb3cgaTtpZihyKXRocm93IG47cmV0dXJuIFZwKG4pLGl9LFhwPVR5cGVFcnJvcixRcD1mdW5jdGlvbihlLHQpe3RoaXMuc3RvcHBlZD1lLHRoaXMucmVzdWx0PXR9LFpwPVFwLnByb3RvdHlwZSwkcD1mdW5jdGlvbihlLHQsaSl7dmFyIG4scixzLG8sYSxjLGQsbD1pJiZpLnRoYXQsaD0hKCFpfHwhaS5BU19FTlRSSUVTKSx1PSEoIWl8fCFpLklTX1JFQ09SRCkscD0hKCFpfHwhaS5JU19JVEVSQVRPUiksXz0hKCFpfHwhaS5JTlRFUlJVUFRFRCksRT1CcCh0LGwpLG09ZnVuY3Rpb24oZSl7cmV0dXJuIG4mJnpwKG4sXCJub3JtYWxcIixlKSxuZXcgUXAoITAsZSl9LGY9ZnVuY3Rpb24oZSl7cmV0dXJuIGg/KEdwKGUpLF8/RShlWzBdLGVbMV0sbSk6RShlWzBdLGVbMV0pKTpfP0UoZSxtKTpFKGUpfTtpZih1KW49ZS5pdGVyYXRvcjtlbHNlIGlmKHApbj1lO2Vsc2V7aWYoIShyPUpwKGUpKSl0aHJvdyBYcChXcChlKStcIiBpcyBub3QgaXRlcmFibGVcIik7aWYoSHAocikpe2ZvcihzPTAsbz1LcChlKTtvPnM7cysrKWlmKChhPWYoZVtzXSkpJiZZcChacCxhKSlyZXR1cm4gYTtyZXR1cm4gbmV3IFFwKCExKX1uPXFwKGUscil9Zm9yKGM9dT9lLm5leHQ6bi5uZXh0OyEoZD1qcChjLG4pKS5kb25lOyl7dHJ5e2E9ZihkLnZhbHVlKX1jYXRjaChlKXt6cChuLFwidGhyb3dcIixlKX1pZihcIm9iamVjdFwiPT10eXBlb2YgYSYmYSYmWXAoWnAsYSkpcmV0dXJuIGF9cmV0dXJuIG5ldyBRcCghMSl9LGVfPWdyLHRfPWtuLGlfPUVlLG5fPW5sLHJfPXdsLHNfPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49b3AodCkscj1jcC5mLHM9YXAuZixvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107c3AoZSxhKXx8aSYmc3AoaSxhKXx8cihlLGEscyh0LGEpKX19LG9fPWdvLGFfPUNuLGNfPUtlLGRfPWZ1bmN0aW9uKGUsdCl7ZHAodCkmJlwiY2F1c2VcImluIHQmJmxwKGUsXCJjYXVzZVwiLHQuY2F1c2UpfSxsXz1mdW5jdGlvbihlLHQsaSxuKXtTcCYmKFJwP1JwKGUsdCk6Z3AoZSxcInN0YWNrXCIsVHAoaSxuKSkpfSxoXz0kcCx1Xz1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lP2FyZ3VtZW50cy5sZW5ndGg8Mj9cIlwiOnQ6ZV8oZSl9LHBfPWZpKFwidG9TdHJpbmdUYWdcIiksX189RXJyb3IsRV89W10ucHVzaCxtXz1mdW5jdGlvbihlLHQpe3ZhciBpLG49aV8oZl8sdGhpcyk7cl8/aT1yXyhfXygpLG4/bl8odGhpcyk6Zl8pOihpPW4/dGhpczpvXyhmXyksYV8oaSxwXyxcIkVycm9yXCIpKSx2b2lkIDAhPT10JiZhXyhpLFwibWVzc2FnZVwiLHVfKHQpKSxsXyhpLG1fLGkuc3RhY2ssMSksYXJndW1lbnRzLmxlbmd0aD4yJiZkXyhpLGFyZ3VtZW50c1syXSk7dmFyIHI9W107cmV0dXJuIGhfKGUsRV8se3RoYXQ6cn0pLGFfKGksXCJlcnJvcnNcIixyKSxpfTtyXz9yXyhtXyxfXyk6c18obV8sX18se25hbWU6ITB9KTt2YXIgZl89bV8ucHJvdG90eXBlPW9fKF9fLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6Y18oMSxtXyksbWVzc2FnZTpjXygxLFwiXCIpLG5hbWU6Y18oMSxcIkFnZ3JlZ2F0ZUVycm9yXCIpfSk7dF8oe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCxhcml0eToyfSx7QWdncmVnYXRlRXJyb3I6bV99KTt2YXIgZ18sVF8sU18sUl8sQ189XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJlwicHJvY2Vzc1wiPT1BZShwcm9jZXNzKSx2Xz11dCxJXz1Wbyx5Xz1NZSxBXz1maShcInNwZWNpZXNcIiksYl89RWUsd189VHlwZUVycm9yLE9fPWxzLE5fPVB0LERfPVR5cGVFcnJvcixQXz1jbixMXz1mdW5jdGlvbihlKXtpZihPXyhlKSlyZXR1cm4gZTt0aHJvdyBEXyhOXyhlKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKX0sa189UWUsTV89ZmkoXCJzcGVjaWVzXCIpLFVfPWZ1bmN0aW9uKGUsdCl7dmFyIGksbj1QXyhlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09bnx8a18oaT1QXyhuKVtNX10pP3Q6TF8oaSl9LHhfPVR5cGVFcnJvcixWXz0vKD86aXBhZHxpcGhvbmV8aXBvZCkuKmFwcGxld2Via2l0L2kudGVzdChwdCksRl89ZmUsQl89Q2Usal89dG4sR189TGUsV189bmksSF89Y2UsS189ZW8sWV89aWQscV89RGksSl89ZnVuY3Rpb24oZSx0KXtpZihlPHQpdGhyb3cgeF8oXCJOb3QgZW5vdWdoIGFyZ3VtZW50c1wiKTtyZXR1cm4gZX0sel89Vl8sWF89Q18sUV89Rl8uc2V0SW1tZWRpYXRlLFpfPUZfLmNsZWFySW1tZWRpYXRlLCRfPUZfLnByb2Nlc3MsZUU9Rl8uRGlzcGF0Y2gsdEU9Rl8uRnVuY3Rpb24saUU9Rl8uTWVzc2FnZUNoYW5uZWwsbkU9Rl8uU3RyaW5nLHJFPTAsc0U9e30sb0U9XCJvbnJlYWR5c3RhdGVjaGFuZ2VcIjtIXygoZnVuY3Rpb24oKXtnXz1GXy5sb2NhdGlvbn0pKTt2YXIgYUU9ZnVuY3Rpb24oZSl7aWYoV18oc0UsZSkpe3ZhciB0PXNFW2VdO2RlbGV0ZSBzRVtlXSx0KCl9fSxjRT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXthRShlKX19LGRFPWZ1bmN0aW9uKGUpe2FFKGUuZGF0YSl9LGxFPWZ1bmN0aW9uKGUpe0ZfLnBvc3RNZXNzYWdlKG5FKGUpLGdfLnByb3RvY29sK1wiLy9cIitnXy5ob3N0KX07UV8mJlpffHwoUV89ZnVuY3Rpb24oZSl7Sl8oYXJndW1lbnRzLmxlbmd0aCwxKTt2YXIgdD1HXyhlKT9lOnRFKGUpLGk9WV8oYXJndW1lbnRzLDEpO3JldHVybiBzRVsrK3JFXT1mdW5jdGlvbigpe0JfKHQsdm9pZCAwLGkpfSxUXyhyRSksckV9LFpfPWZ1bmN0aW9uKGUpe2RlbGV0ZSBzRVtlXX0sWF8/VF89ZnVuY3Rpb24oZSl7JF8ubmV4dFRpY2soY0UoZSkpfTplRSYmZUUubm93P1RfPWZ1bmN0aW9uKGUpe2VFLm5vdyhjRShlKSl9OmlFJiYhel8/KFJfPShTXz1uZXcgaUUpLnBvcnQyLFNfLnBvcnQxLm9ubWVzc2FnZT1kRSxUXz1qXyhSXy5wb3N0TWVzc2FnZSxSXykpOkZfLmFkZEV2ZW50TGlzdGVuZXImJkdfKEZfLnBvc3RNZXNzYWdlKSYmIUZfLmltcG9ydFNjcmlwdHMmJmdfJiZcImZpbGU6XCIhPT1nXy5wcm90b2NvbCYmIUhfKGxFKT8oVF89bEUsRl8uYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixkRSwhMSkpOlRfPW9FIGluIHFfKFwic2NyaXB0XCIpP2Z1bmN0aW9uKGUpe0tfLmFwcGVuZENoaWxkKHFfKFwic2NyaXB0XCIpKVtvRV09ZnVuY3Rpb24oKXtLXy5yZW1vdmVDaGlsZCh0aGlzKSxhRShlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoY0UoZSksMCl9KTt2YXIgaEU9e3NldDpRXyxjbGVhcjpaX30sdUU9ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbH07dUUucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oZSl7dmFyIHQ9e2l0ZW06ZSxuZXh0Om51bGx9LGk9dGhpcy50YWlsO2k/aS5uZXh0PXQ6dGhpcy5oZWFkPXQsdGhpcy50YWlsPXR9LGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaGVhZDtpZihlKXJldHVybiBudWxsPT09KHRoaXMuaGVhZD1lLm5leHQpJiYodGhpcy50YWlsPW51bGwpLGUuaXRlbX19O3ZhciBwRSxfRSxFRSxtRSxmRSxnRT11RSxURT0vaXBhZHxpcGhvbmV8aXBvZC9pLnRlc3QocHQpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgUGViYmxlLFNFPS93ZWIwcyg/IS4qY2hyb21lKS9pLnRlc3QocHQpLFJFPWZlLENFPXRuLHZFPWtlLmYsSUU9aEUuc2V0LHlFPWdFLEFFPVZfLGJFPVRFLHdFPVNFLE9FPUNfLE5FPVJFLk11dGF0aW9uT2JzZXJ2ZXJ8fFJFLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsREU9UkUuZG9jdW1lbnQsUEU9UkUucHJvY2VzcyxMRT1SRS5Qcm9taXNlLGtFPXZFKFJFLFwicXVldWVNaWNyb3Rhc2tcIiksTUU9a0UmJmtFLnZhbHVlO2lmKCFNRSl7dmFyIFVFPW5ldyB5RSx4RT1mdW5jdGlvbigpe3ZhciBlLHQ7Zm9yKE9FJiYoZT1QRS5kb21haW4pJiZlLmV4aXQoKTt0PVVFLmdldCgpOyl0cnl7dCgpfWNhdGNoKGUpe3Rocm93IFVFLmhlYWQmJnBFKCksZX1lJiZlLmVudGVyKCl9O0FFfHxPRXx8d0V8fCFORXx8IURFPyFiRSYmTEUmJkxFLnJlc29sdmU/KChtRT1MRS5yZXNvbHZlKHZvaWQgMCkpLmNvbnN0cnVjdG9yPUxFLGZFPUNFKG1FLnRoZW4sbUUpLHBFPWZ1bmN0aW9uKCl7ZkUoeEUpfSk6T0U/cEU9ZnVuY3Rpb24oKXtQRS5uZXh0VGljayh4RSl9OihJRT1DRShJRSxSRSkscEU9ZnVuY3Rpb24oKXtJRSh4RSl9KTooX0U9ITAsRUU9REUuY3JlYXRlVGV4dE5vZGUoXCJcIiksbmV3IE5FKHhFKS5vYnNlcnZlKEVFLHtjaGFyYWN0ZXJEYXRhOiEwfSkscEU9ZnVuY3Rpb24oKXtFRS5kYXRhPV9FPSFfRX0pLE1FPWZ1bmN0aW9uKGUpe1VFLmhlYWR8fHBFKCksVUUuYWRkKGUpfX12YXIgVkU9TUUsRkU9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlcnJvcjohMSx2YWx1ZTplKCl9fWNhdGNoKGUpe3JldHVybntlcnJvcjohMCx2YWx1ZTplfX19LEJFPWZlLlByb21pc2UsakU9XCJvYmplY3RcIj09dHlwZW9mIERlbm8mJkRlbm8mJlwib2JqZWN0XCI9PXR5cGVvZiBEZW5vLnZlcnNpb24sR0U9IWpFJiYhQ18mJlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCxXRT1mZSxIRT1CRSxLRT1MZSxZRT1RaSxxRT1YcixKRT1maSx6RT1HRSxYRT1qRSxRRT1TdCxaRT1IRSYmSEUucHJvdG90eXBlLCRFPUpFKFwic3BlY2llc1wiKSxlbT0hMSx0bT1LRShXRS5Qcm9taXNlUmVqZWN0aW9uRXZlbnQpLGltPVlFKFwiUHJvbWlzZVwiLChmdW5jdGlvbigpe3ZhciBlPXFFKEhFKSx0PWUhPT1TdHJpbmcoSEUpO2lmKCF0JiY2Nj09PVFFKXJldHVybiEwO2lmKCFaRS5jYXRjaHx8IVpFLmZpbmFsbHkpcmV0dXJuITA7aWYoIVFFfHxRRTw1MXx8IS9uYXRpdmUgY29kZS8udGVzdChlKSl7dmFyIGk9bmV3IEhFKChmdW5jdGlvbihlKXtlKDEpfSkpLG49ZnVuY3Rpb24oZSl7ZSgoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSl9O2lmKChpLmNvbnN0cnVjdG9yPXt9KVskRV09biwhKGVtPWkudGhlbigoZnVuY3Rpb24oKXt9KSlpbnN0YW5jZW9mIG4pKXJldHVybiEwfXJldHVybiF0JiYoekV8fFhFKSYmIXRtfSkpLG5tPXtDT05TVFJVQ1RPUjppbSxSRUpFQ1RJT05fRVZFTlQ6dG0sU1VCQ0xBU1NJTkc6ZW19LHJtPXt9LHNtPVV0LG9tPVR5cGVFcnJvcixhbT1mdW5jdGlvbihlKXt2YXIgdCxpO3RoaXMucHJvbWlzZT1uZXcgZSgoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1pKXRocm93IG9tKFwiQmFkIFByb21pc2UgY29uc3RydWN0b3JcIik7dD1lLGk9bn0pKSx0aGlzLnJlc29sdmU9c20odCksdGhpcy5yZWplY3Q9c20oaSl9O3JtLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBhbShlKX07dmFyIGNtLGRtLGxtPWtuLGhtPUNfLHVtPWZlLHBtPVZlLF9tPVVvLEVtPWNhLG1tPWZ1bmN0aW9uKGUpe3ZhciB0PXZfKGUpO3lfJiZ0JiYhdFtBX10mJklfKHQsQV8se2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX0sZm09VXQsZ209TGUsVG09b3QsU209ZnVuY3Rpb24oZSx0KXtpZihiXyh0LGUpKXJldHVybiBlO3Rocm93IHdfKFwiSW5jb3JyZWN0IGludm9jYXRpb25cIil9LFJtPVVfLENtPWhFLnNldCx2bT1WRSxJbT1mdW5jdGlvbihlLHQpe3RyeXsxPT1hcmd1bWVudHMubGVuZ3RoP2NvbnNvbGUuZXJyb3IoZSk6Y29uc29sZS5lcnJvcihlLHQpfWNhdGNoKGUpe319LHltPUZFLEFtPWdFLGJtPUlhLHdtPUJFLE9tPW5tLE5tPXJtLERtPVwiUHJvbWlzZVwiLFBtPU9tLkNPTlNUUlVDVE9SLExtPU9tLlJFSkVDVElPTl9FVkVOVCxrbT1ibS5nZXR0ZXJGb3IoRG0pLE1tPWJtLnNldCxVbT13bSYmd20ucHJvdG90eXBlLHhtPXdtLFZtPVVtLEZtPXVtLlR5cGVFcnJvcixCbT11bS5kb2N1bWVudCxqbT11bS5wcm9jZXNzLEdtPU5tLmYsV209R20sSG09ISEoQm0mJkJtLmNyZWF0ZUV2ZW50JiZ1bS5kaXNwYXRjaEV2ZW50KSxLbT1cInVuaGFuZGxlZHJlamVjdGlvblwiLFltPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIVRtKGUpfHwhZ20odD1lLnRoZW4pKSYmdH0scW09ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLHIscz10LnZhbHVlLG89MT09dC5zdGF0ZSxhPW8/ZS5vazplLmZhaWwsYz1lLnJlc29sdmUsZD1lLnJlamVjdCxsPWUuZG9tYWluO3RyeXthPyhvfHwoMj09PXQucmVqZWN0aW9uJiZabSh0KSx0LnJlamVjdGlvbj0xKSwhMD09PWE/aT1zOihsJiZsLmVudGVyKCksaT1hKHMpLGwmJihsLmV4aXQoKSxyPSEwKSksaT09PWUucHJvbWlzZT9kKEZtKFwiUHJvbWlzZS1jaGFpbiBjeWNsZVwiKSk6KG49WW0oaSkpP3BtKG4saSxjLGQpOmMoaSkpOmQocyl9Y2F0Y2goZSl7bCYmIXImJmwuZXhpdCgpLGQoZSl9fSxKbT1mdW5jdGlvbihlLHQpe2Uubm90aWZpZWR8fChlLm5vdGlmaWVkPSEwLHZtKChmdW5jdGlvbigpe2Zvcih2YXIgaSxuPWUucmVhY3Rpb25zO2k9bi5nZXQoKTspcW0oaSxlKTtlLm5vdGlmaWVkPSExLHQmJiFlLnJlamVjdGlvbiYmWG0oZSl9KSkpfSx6bT1mdW5jdGlvbihlLHQsaSl7dmFyIG4scjtIbT8oKG49Qm0uY3JlYXRlRXZlbnQoXCJFdmVudFwiKSkucHJvbWlzZT10LG4ucmVhc29uPWksbi5pbml0RXZlbnQoZSwhMSwhMCksdW0uZGlzcGF0Y2hFdmVudChuKSk6bj17cHJvbWlzZTp0LHJlYXNvbjppfSwhTG0mJihyPXVtW1wib25cIitlXSk/cihuKTplPT09S20mJkltKFwiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uXCIsaSl9LFhtPWZ1bmN0aW9uKGUpe3BtKENtLHVtLChmdW5jdGlvbigpe3ZhciB0LGk9ZS5mYWNhZGUsbj1lLnZhbHVlO2lmKFFtKGUpJiYodD15bSgoZnVuY3Rpb24oKXtobT9qbS5lbWl0KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsbixpKTp6bShLbSxpLG4pfSkpLGUucmVqZWN0aW9uPWhtfHxRbShlKT8yOjEsdC5lcnJvcikpdGhyb3cgdC52YWx1ZX0pKX0sUW09ZnVuY3Rpb24oZSl7cmV0dXJuIDEhPT1lLnJlamVjdGlvbiYmIWUucGFyZW50fSxabT1mdW5jdGlvbihlKXtwbShDbSx1bSwoZnVuY3Rpb24oKXt2YXIgdD1lLmZhY2FkZTtobT9qbS5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLHQpOnptKFwicmVqZWN0aW9uaGFuZGxlZFwiLHQsZS52YWx1ZSl9KSl9LCRtPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24obil7ZSh0LG4saSl9fSxlZj1mdW5jdGlvbihlLHQsaSl7ZS5kb25lfHwoZS5kb25lPSEwLGkmJihlPWkpLGUudmFsdWU9dCxlLnN0YXRlPTIsSm0oZSwhMCkpfSx0Zj1mdW5jdGlvbihlLHQsaSl7aWYoIWUuZG9uZSl7ZS5kb25lPSEwLGkmJihlPWkpO3RyeXtpZihlLmZhY2FkZT09PXQpdGhyb3cgRm0oXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTt2YXIgbj1ZbSh0KTtuP3ZtKChmdW5jdGlvbigpe3ZhciBpPXtkb25lOiExfTt0cnl7cG0obix0LCRtKHRmLGksZSksJG0oZWYsaSxlKSl9Y2F0Y2godCl7ZWYoaSx0LGUpfX0pKTooZS52YWx1ZT10LGUuc3RhdGU9MSxKbShlLCExKSl9Y2F0Y2godCl7ZWYoe2RvbmU6ITF9LHQsZSl9fX07UG0mJihWbT0oeG09ZnVuY3Rpb24oZSl7U20odGhpcyxWbSksZm0oZSkscG0oY20sdGhpcyk7dmFyIHQ9a20odGhpcyk7dHJ5e2UoJG0odGYsdCksJG0oZWYsdCkpfWNhdGNoKGUpe2VmKHQsZSl9fSkucHJvdG90eXBlLChjbT1mdW5jdGlvbihlKXtNbSh0aGlzLHt0eXBlOkRtLGRvbmU6ITEsbm90aWZpZWQ6ITEscGFyZW50OiExLHJlYWN0aW9uczpuZXcgQW0scmVqZWN0aW9uOiExLHN0YXRlOjAsdmFsdWU6dm9pZCAwfSl9KS5wcm90b3R5cGU9X20oVm0sXCJ0aGVuXCIsKGZ1bmN0aW9uKGUsdCl7dmFyIGk9a20odGhpcyksbj1HbShSbSh0aGlzLHhtKSk7cmV0dXJuIGkucGFyZW50PSEwLG4ub2s9IWdtKGUpfHxlLG4uZmFpbD1nbSh0KSYmdCxuLmRvbWFpbj1obT9qbS5kb21haW46dm9pZCAwLDA9PWkuc3RhdGU/aS5yZWFjdGlvbnMuYWRkKG4pOnZtKChmdW5jdGlvbigpe3FtKG4saSl9KSksbi5wcm9taXNlfSkpLGRtPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGNtLHQ9a20oZSk7dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPSRtKHRmLHQpLHRoaXMucmVqZWN0PSRtKGVmLHQpfSxObS5mPUdtPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09eG18fHVuZGVmaW5lZD09PWU/bmV3IGRtKGUpOldtKGUpfSksbG0oe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCx3cmFwOiEwLGZvcmNlZDpQbX0se1Byb21pc2U6eG19KSxFbSh4bSxEbSwhMSwhMCksbW0oRG0pO3ZhciBuZj1maShcIml0ZXJhdG9yXCIpLHJmPSExO3RyeXt2YXIgc2Y9MCxvZj17bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOiEhc2YrK319LHJldHVybjpmdW5jdGlvbigpe3JmPSEwfX07b2ZbbmZdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20ob2YsKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKX1jYXRjaChlKXt9dmFyIGFmPUJFLGNmPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFyZilyZXR1cm4hMTt2YXIgaT0hMTt0cnl7dmFyIG49e307bltuZl09ZnVuY3Rpb24oKXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOmk9ITB9fX19LGUobil9Y2F0Y2goZSl7fXJldHVybiBpfSxkZj1ubS5DT05TVFJVQ1RPUnx8IWNmKChmdW5jdGlvbihlKXthZi5hbGwoZSkudGhlbih2b2lkIDAsKGZ1bmN0aW9uKCl7fSkpfSkpLGxmPVZlLGhmPVV0LHVmPXJtLHBmPUZFLF9mPSRwO2tuKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6ZGZ9LHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPXVmLmYodCksbj1pLnJlc29sdmUscj1pLnJlamVjdCxzPXBmKChmdW5jdGlvbigpe3ZhciBpPWhmKHQucmVzb2x2ZSkscz1bXSxvPTAsYT0xO19mKGUsKGZ1bmN0aW9uKGUpe3ZhciBjPW8rKyxkPSExO2ErKyxsZihpLHQsZSkudGhlbigoZnVuY3Rpb24oZSl7ZHx8KGQ9ITAsc1tjXT1lLC0tYXx8bihzKSl9KSxyKX0pKSwtLWF8fG4ocyl9KSk7cmV0dXJuIHMuZXJyb3ImJnIocy52YWx1ZSksaS5wcm9taXNlfX0pO3ZhciBFZj1rbixtZj1ubS5DT05TVFJVQ1RPUjtCRSYmQkUucHJvdG90eXBlLEVmKHt0YXJnZXQ6XCJQcm9taXNlXCIscHJvdG86ITAsZm9yY2VkOm1mLHJlYWw6ITB9LHtjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KTt2YXIgZmY9VmUsZ2Y9VXQsVGY9cm0sU2Y9RkUsUmY9JHA7a24oe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpkZn0se3JhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPVRmLmYodCksbj1pLnJlamVjdCxyPVNmKChmdW5jdGlvbigpe3ZhciByPWdmKHQucmVzb2x2ZSk7UmYoZSwoZnVuY3Rpb24oZSl7ZmYocix0LGUpLnRoZW4oaS5yZXNvbHZlLG4pfSkpfSkpO3JldHVybiByLmVycm9yJiZuKHIudmFsdWUpLGkucHJvbWlzZX19KTt2YXIgQ2Y9VmUsdmY9cm07a24oe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpubS5DT05TVFJVQ1RPUn0se3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD12Zi5mKHRoaXMpO3JldHVybiBDZih0LnJlamVjdCx2b2lkIDAsZSksdC5wcm9taXNlfX0pO3ZhciBJZj1jbix5Zj1vdCxBZj1ybSxiZj1mdW5jdGlvbihlLHQpe2lmKElmKGUpLHlmKHQpJiZ0LmNvbnN0cnVjdG9yPT09ZSlyZXR1cm4gdDt2YXIgaT1BZi5mKGUpO3JldHVybigwLGkucmVzb2x2ZSkodCksaS5wcm9taXNlfSx3Zj1rbixPZj1CRSxOZj1ubS5DT05TVFJVQ1RPUixEZj1iZixQZj11dChcIlByb21pc2VcIiksTGY9IU5mO3dmKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6dHJ1ZX0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIERmKExmJiZ0aGlzPT09UGY/T2Y6dGhpcyxlKX19KTt2YXIga2Y9VmUsTWY9VXQsVWY9cm0seGY9RkUsVmY9JHA7a24oe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpkZn0se2FsbFNldHRsZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPVVmLmYodCksbj1pLnJlc29sdmUscj1pLnJlamVjdCxzPXhmKChmdW5jdGlvbigpe3ZhciBpPU1mKHQucmVzb2x2ZSkscj1bXSxzPTAsbz0xO1ZmKGUsKGZ1bmN0aW9uKGUpe3ZhciBhPXMrKyxjPSExO28rKyxrZihpLHQsZSkudGhlbigoZnVuY3Rpb24oZSl7Y3x8KGM9ITAsclthXT17c3RhdHVzOlwiZnVsZmlsbGVkXCIsdmFsdWU6ZX0sLS1vfHxuKHIpKX0pLChmdW5jdGlvbihlKXtjfHwoYz0hMCxyW2FdPXtzdGF0dXM6XCJyZWplY3RlZFwiLHJlYXNvbjplfSwtLW98fG4ocikpfSkpfSkpLC0tb3x8bihyKX0pKTtyZXR1cm4gcy5lcnJvciYmcihzLnZhbHVlKSxpLnByb21pc2V9fSk7dmFyIEZmPVZlLEJmPVV0LGpmPXV0LEdmPXJtLFdmPUZFLEhmPSRwLEtmPVwiTm8gb25lIHByb21pc2UgcmVzb2x2ZWRcIjtrbih7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOmRmfSx7YW55OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsaT1qZihcIkFnZ3JlZ2F0ZUVycm9yXCIpLG49R2YuZih0KSxyPW4ucmVzb2x2ZSxzPW4ucmVqZWN0LG89V2YoKGZ1bmN0aW9uKCl7dmFyIG49QmYodC5yZXNvbHZlKSxvPVtdLGE9MCxjPTEsZD0hMTtIZihlLChmdW5jdGlvbihlKXt2YXIgbD1hKyssaD0hMTtjKyssRmYobix0LGUpLnRoZW4oKGZ1bmN0aW9uKGUpe2h8fGR8fChkPSEwLHIoZSkpfSksKGZ1bmN0aW9uKGUpe2h8fGR8fChoPSEwLG9bbF09ZSwtLWN8fHMobmV3IGkobyxLZikpKX0pKX0pKSwtLWN8fHMobmV3IGkobyxLZikpfSkpO3JldHVybiBvLmVycm9yJiZzKG8udmFsdWUpLG4ucHJvbWlzZX19KTt2YXIgWWY9a24scWY9QkUsSmY9Y2UsemY9dXQsWGY9TGUsUWY9VV8sWmY9YmYsJGY9cWYmJnFmLnByb3RvdHlwZTtZZih7dGFyZ2V0OlwiUHJvbWlzZVwiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOiEhcWYmJkpmKChmdW5jdGlvbigpeyRmLmZpbmFsbHkuY2FsbCh7dGhlbjpmdW5jdGlvbigpe319LChmdW5jdGlvbigpe30pKX0pKX0se2ZpbmFsbHk6ZnVuY3Rpb24oZSl7dmFyIHQ9UWYodGhpcyx6ZihcIlByb21pc2VcIikpLGk9WGYoZSk7cmV0dXJuIHRoaXMudGhlbihpP2Z1bmN0aW9uKGkpe3JldHVybiBaZih0LGUoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX06ZSxpP2Z1bmN0aW9uKGkpe3JldHVybiBaZih0LGUoKSkudGhlbigoZnVuY3Rpb24oKXt0aHJvdyBpfSkpfTplKX19KTt2YXIgZWc9YXQuUHJvbWlzZSx0Zz1KKGVnKTtjb25zdCBpZz0oKT0+e307ZnVuY3Rpb24gbmcoKXtjb25zdCBlPXtwcm9taXNlOnZvaWQgMCxpc1Jlc29sdmVkOiExLGlzUmVqZWN0ZWQ6ITEsaXNGaW5pc2hlZDohMSxyZXNvbHZlOnZvaWQgMCxyZWplY3Q6dm9pZCAwLGNhbmNlbDppZ307cmV0dXJuIGUucHJvbWlzZT1uZXcgdGcoKCh0LGkpPT57ZS5yZXNvbHZlPWk9PntlLmlzRmluaXNoZWR8fChlLmlzUmVzb2x2ZWQ9ITAsZS5pc0ZpbmlzaGVkPSEwLHQoaSksZS52YWx1ZT1pKX0sZS5yZWplY3Q9dD0+e2UuaXNGaW5pc2hlZHx8KGUuaXNSZWplY3RlZD0hMCxlLmlzRmluaXNoZWQ9ITAsaSh0KSl9fSkpLGV9Y29uc3Qgcmc9bmV3IE1hcCxzZz1uZXcgTWFwLG9nPW5ldyBNYXA7dmFyIGFnLGNnOyFmdW5jdGlvbihlKXtlLldJTl8xMD1cIldpbmRvd3MgMTBcIixlLldJTl84MT1cIldpbmRvd3MgOC4xXCIsZS5XSU5fOD1cIldpbmRvd3MgOFwiLGUuV0lOXzc9XCJXaW5kb3dzIDdcIixlLldJTl9WSVNUQT1cIldpbmRvd3MgVmlzdGFcIixlLldJTl9TRVJWRVJfMjAwMz1cIldpbmRvd3MgU2VydmVyIDIwMDNcIixlLldJTl9YUD1cIldpbmRvd3MgWFBcIixlLldJTl8yMDAwPVwiV2luZG93cyAyMDAwXCIsZS5BTkRST0lEPVwiQW5kcm9pZFwiLGUuSEFSTU9OWV9PUz1cIkhhcm1vbnlPU1wiLGUuT1BFTl9CU0Q9XCJPcGVuIEJTRFwiLGUuU1VOX09TPVwiU3VuIE9TXCIsZS5MSU5VWD1cIkxpbnV4XCIsZS5JT1M9XCJpT1NcIixlLk1BQ19PUz1cIk1hYyBPU1wiLGUuUU5YPVwiUU5YXCIsZS5VTklYPVwiVU5JWFwiLGUuQkVPUz1cIkJlT1NcIixlLk9TXzI9XCJPUy8yXCIsZS5TRUFSQ0hfQk9UPVwiU2VhcmNoIEJvdFwifShhZ3x8KGFnPXt9KSksZnVuY3Rpb24oZSl7ZS5DSFJPTUU9XCJDaHJvbWVcIixlLlNBRkFSST1cIlNhZmFyaVwiLGUuRURHRT1cIkVkZ2VcIixlLkZJUkVGT1g9XCJGaXJlZm94XCIsZS5PUEVSQT1cIk9QUlwiLGUuUVE9XCJRUUJyb3dzZXJcIixlLldFQ0hBVD1cIk1pY3JvTWVzc2VuZ2VyXCJ9KGNnfHwoY2c9e30pKTt2YXIgZGc9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihpLG4pe3ZhciByPVwiZnVuY3Rpb25cIixzPVwidW5kZWZpbmVkXCIsbz1cIm9iamVjdFwiLGE9XCJzdHJpbmdcIixjPVwibWFqb3JcIixkPVwibW9kZWxcIixsPVwibmFtZVwiLGg9XCJ0eXBlXCIsdT1cInZlbmRvclwiLHA9XCJ2ZXJzaW9uXCIsXz1cImFyY2hpdGVjdHVyZVwiLEU9XCJjb25zb2xlXCIsbT1cIm1vYmlsZVwiLGY9XCJ0YWJsZXRcIixnPVwic21hcnR0dlwiLFQ9XCJ3ZWFyYWJsZVwiLFM9XCJlbWJlZGRlZFwiLFI9XCJBbWF6b25cIixDPVwiQXBwbGVcIix2PVwiQVNVU1wiLEk9XCJCbGFja0JlcnJ5XCIseT1cIkJyb3dzZXJcIixBPVwiQ2hyb21lXCIsYj1cIkZpcmVmb3hcIix3PVwiR29vZ2xlXCIsTz1cIkh1YXdlaVwiLE49XCJMR1wiLEQ9XCJNaWNyb3NvZnRcIixQPVwiTW90b3JvbGFcIixMPVwiT3BlcmFcIixrPVwiU2Ftc3VuZ1wiLE09XCJTaGFycFwiLFU9XCJTb255XCIseD1cIlhpYW9taVwiLFY9XCJaZWJyYVwiLEY9XCJGYWNlYm9va1wiLEI9XCJDaHJvbWl1bSBPU1wiLGo9XCJNYWMgT1NcIixHPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxpPTA7aTxlLmxlbmd0aDtpKyspdFtlW2ldLnRvVXBwZXJDYXNlKCldPWVbaV07cmV0dXJuIHR9LFc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHlwZW9mIGU9PT1hJiYtMSE9PUgodCkuaW5kZXhPZihIKGUpKX0sSD1mdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSxLPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIGU9PT1hKXJldHVybiBlPWUucmVwbGFjZSgvXlxcc1xccyovLFwiXCIpLHR5cGVvZiB0PT09cz9lOmUuc3Vic3RyaW5nKDAsMzUwKX0sWT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSxzLGEsYyxkLGwsaD0wO2g8dC5sZW5ndGgmJiFkOyl7dmFyIHU9dFtoXSxwPXRbaCsxXTtmb3IoaT1zPTA7aTx1Lmxlbmd0aCYmIWQmJnVbaV07KWlmKGQ9dVtpKytdLmV4ZWMoZSkpZm9yKGE9MDthPHAubGVuZ3RoO2ErKylsPWRbKytzXSx0eXBlb2YoYz1wW2FdKT09PW8mJmMubGVuZ3RoPjA/Mj09PWMubGVuZ3RoP3R5cGVvZiBjWzFdPT1yP3RoaXNbY1swXV09Y1sxXS5jYWxsKHRoaXMsbCk6dGhpc1tjWzBdXT1jWzFdOjM9PT1jLmxlbmd0aD90eXBlb2YgY1sxXSE9PXJ8fGNbMV0uZXhlYyYmY1sxXS50ZXN0P3RoaXNbY1swXV09bD9sLnJlcGxhY2UoY1sxXSxjWzJdKTpuOnRoaXNbY1swXV09bD9jWzFdLmNhbGwodGhpcyxsLGNbMl0pOm46ND09PWMubGVuZ3RoJiYodGhpc1tjWzBdXT1sP2NbM10uY2FsbCh0aGlzLGwucmVwbGFjZShjWzFdLGNbMl0pKTpuKTp0aGlzW2NdPWx8fG47aCs9Mn19LHE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkgaW4gdClpZih0eXBlb2YgdFtpXT09PW8mJnRbaV0ubGVuZ3RoPjApe2Zvcih2YXIgcj0wO3I8dFtpXS5sZW5ndGg7cisrKWlmKFcodFtpXVtyXSxlKSlyZXR1cm5cIj9cIj09PWk/bjppfWVsc2UgaWYoVyh0W2ldLGUpKXJldHVyblwiP1wiPT09aT9uOmk7cmV0dXJuIGV9LEo9e01FOlwiNC45MFwiLFwiTlQgMy4xMVwiOlwiTlQzLjUxXCIsXCJOVCA0LjBcIjpcIk5UNC4wXCIsMmUzOlwiTlQgNS4wXCIsWFA6W1wiTlQgNS4xXCIsXCJOVCA1LjJcIl0sVmlzdGE6XCJOVCA2LjBcIiw3OlwiTlQgNi4xXCIsODpcIk5UIDYuMlwiLDguMTpcIk5UIDYuM1wiLDEwOltcIk5UIDYuNFwiLFwiTlQgMTAuMFwiXSxSVDpcIkFSTVwifSx6PXticm93c2VyOltbL1xcYig/OmNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJDaHJvbWVcIl1dLFsvZWRnKD86ZXxpb3N8YSk/XFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJFZGdlXCJdXSxbLyhvcGVyYSBtaW5pKVxcLyhbLVxcd1xcLl0rKS9pLC8ob3BlcmEgW21vYmlsZXRhYl17Myw2fSlcXGIuK3ZlcnNpb25cXC8oWy1cXHdcXC5dKykvaSwvKG9wZXJhKSg/Oi4rdmVyc2lvblxcL3xbXFwvIF0rKShbXFx3XFwuXSspL2ldLFtsLHBdLFsvb3Bpb3NbXFwvIF0rKFtcXHdcXC5dKykvaV0sW3AsW2wsTCtcIiBNaW5pXCJdXSxbL1xcYm9wclxcLyhbXFx3XFwuXSspL2ldLFtwLFtsLExdXSxbLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSwvKGx1bmFzY2FwZXxtYXh0aG9ufG5ldGZyb250fGphc21pbmV8YmxhemVyKVtcXC8gXT8oW1xcd1xcLl0qKS9pLC8oYXZhbnQgfGllbW9iaWxlfHNsaW0pKD86YnJvd3Nlcik/W1xcLyBdPyhbXFx3XFwuXSopL2ksLyhiYT9pZHVicm93c2VyKVtcXC8gXT8oW1xcd1xcLl0rKS9pLC8oPzptc3xcXCgpKGllKSAoW1xcd1xcLl0rKS9pLC8oZmxvY2t8cm9ja21lbHR8bWlkb3JpfGVwaXBoYW55fHNpbGt8c2t5ZmlyZXxvdmlicm93c2VyfGJvbHR8aXJvbnx2aXZhbGRpfGlyaWRpdW18cGhhbnRvbWpzfGJvd3NlcnxxdWFya3xxdXB6aWxsYXxmYWxrb258cmVrb25xfHB1ZmZpbnxicmF2ZXx3aGFsZSg/IS4rbmF2ZXIpfHFxYnJvd3NlcmxpdGV8cXF8ZHVja2R1Y2tnbylcXC8oWy1cXHdcXC5dKykvaSwvKHdlaWJvKV9fKFtcXGRcXC5dKykvaV0sW2wscF0sWy8oPzpcXGJ1Yz8gP2Jyb3dzZXJ8KD86anVjLispdWN3ZWIpW1xcLyBdPyhbXFx3XFwuXSspL2ldLFtwLFtsLFwiVUNcIit5XV0sWy9taWNyb20uK1xcYnFiY29yZVxcLyhbXFx3XFwuXSspL2ksL1xcYnFiY29yZVxcLyhbXFx3XFwuXSspLittaWNyb20vaV0sW3AsW2wsXCJXZUNoYXQoV2luKSBEZXNrdG9wXCJdXSxbL21pY3JvbWVzc2VuZ2VyXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJXZUNoYXRcIl1dLFsva29ucXVlcm9yXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJLb25xdWVyb3JcIl1dLFsvdHJpZGVudC4rcnZbOiBdKFtcXHdcXC5dezEsOX0pXFxiLitsaWtlIGdlY2tvL2ldLFtwLFtsLFwiSUVcIl1dLFsveWFicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJZYW5kZXhcIl1dLFsvKGF2YXN0fGF2ZylcXC8oW1xcd1xcLl0rKS9pXSxbW2wsLyguKykvLFwiJDEgU2VjdXJlIFwiK3ldLHBdLFsvXFxiZm9jdXNcXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxiK1wiIEZvY3VzXCJdXSxbL1xcYm9wdFxcLyhbXFx3XFwuXSspL2ldLFtwLFtsLEwrXCIgVG91Y2hcIl1dLFsvY29jX2NvY1xcdytcXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIkNvYyBDb2NcIl1dLFsvZG9sZmluXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJEb2xwaGluXCJdXSxbL2NvYXN0XFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsTCtcIiBDb2FzdFwiXV0sWy9taXVpYnJvd3NlclxcLyhbXFx3XFwuXSspL2ldLFtwLFtsLFwiTUlVSSBcIit5XV0sWy9meGlvc1xcLyhbLVxcd1xcLl0rKS9pXSxbcCxbbCxiXV0sWy9cXGJxaWh1fChxaT9obz9vP3wzNjApYnJvd3Nlci9pXSxbW2wsXCIzNjAgXCIreV1dLFsvKG9jdWx1c3xzYW1zdW5nfHNhaWxmaXNofGh1YXdlaSlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW1tsLC8oLispLyxcIiQxIFwiK3ldLHBdLFsvKGNvbW9kb19kcmFnb24pXFwvKFtcXHdcXC5dKykvaV0sW1tsLC9fL2csXCIgXCJdLHBdLFsvKGVsZWN0cm9uKVxcLyhbXFx3XFwuXSspIHNhZmFyaS9pLC8odGVzbGEpKD86IHF0Y2FyYnJvd3NlcnxcXC8oMjBcXGRcXGRcXC5bLVxcd1xcLl0rKSkvaSwvbT8ocXFicm93c2VyfGJhaWR1Ym94YXBwfDIzNDVFeHBsb3JlcilbXFwvIF0/KFtcXHdcXC5dKykvaV0sW2wscF0sWy8obWV0YXNyKVtcXC8gXT8oW1xcd1xcLl0rKS9pLC8obGJicm93c2VyKS9pLC9cXFsobGlua2VkaW4pYXBwXFxdL2ldLFtsXSxbLygoPzpmYmFuXFwvZmJpb3N8ZmJfaWFiXFwvZmI0YSkoPyEuK2ZiYXYpfDtmYmF2XFwvKFtcXHdcXC5dKyk7KS9pXSxbW2wsRl0scF0sWy8oa2FrYW8oPzp0YWxrfHN0b3J5KSlbXFwvIF0oW1xcd1xcLl0rKS9pLC8obmF2ZXIpXFwoLio/KFxcZCtcXC5bXFx3XFwuXSspLipcXCkvaSwvc2FmYXJpIChsaW5lKVxcLyhbXFx3XFwuXSspL2ksL1xcYihsaW5lKVxcLyhbXFx3XFwuXSspXFwvaWFiL2ksLyhjaHJvbWl1bXxpbnN0YWdyYW0pW1xcLyBdKFstXFx3XFwuXSspL2ldLFtsLHBdLFsvXFxiZ3NhXFwvKFtcXHdcXC5dKykgLipzYWZhcmlcXC8vaV0sW3AsW2wsXCJHU0FcIl1dLFsvaGVhZGxlc3NjaHJvbWUoPzpcXC8oW1xcd1xcLl0rKXwgKS9pXSxbcCxbbCxBK1wiIEhlYWRsZXNzXCJdXSxbLyB3dlxcKS4rKGNocm9tZSlcXC8oW1xcd1xcLl0rKS9pXSxbW2wsQStcIiBXZWJWaWV3XCJdLHBdLFsvZHJvaWQuKyB2ZXJzaW9uXFwvKFtcXHdcXC5dKylcXGIuKyg/Om1vYmlsZSBzYWZhcml8c2FmYXJpKS9pXSxbcCxbbCxcIkFuZHJvaWQgXCIreV1dLFsvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX0gP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pXSxbbCxwXSxbL3ZlcnNpb25cXC8oW1xcd1xcLlxcLF0rKSAuKm1vYmlsZVxcL1xcdysgKHNhZmFyaSkvaV0sW3AsW2wsXCJNb2JpbGUgU2FmYXJpXCJdXSxbL3ZlcnNpb25cXC8oW1xcdyhcXC58XFwsKV0rKSAuKihtb2JpbGUgP3NhZmFyaXxzYWZhcmkpL2ldLFtwLGxdLFsvd2Via2l0Lis/KG1vYmlsZSA/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pXSxbbCxbcCxxLHtcIjEuMFwiOlwiLzhcIiwxLjI6XCIvMVwiLDEuMzpcIi8zXCIsXCIyLjBcIjpcIi80MTJcIixcIjIuMC4yXCI6XCIvNDE2XCIsXCIyLjAuM1wiOlwiLzQxN1wiLFwiMi4wLjRcIjpcIi80MTlcIixcIj9cIjpcIi9cIn1dXSxbLyh3ZWJraXR8a2h0bWwpXFwvKFtcXHdcXC5dKykvaV0sW2wscF0sWy8obmF2aWdhdG9yfG5ldHNjYXBlXFxkPylcXC8oWy1cXHdcXC5dKykvaV0sW1tsLFwiTmV0c2NhcGVcIl0scF0sWy9tb2JpbGUgdnI7IHJ2OihbXFx3XFwuXSspXFwpLitmaXJlZm94L2ldLFtwLFtsLGIrXCIgUmVhbGl0eVwiXV0sWy9la2lvaGYuKyhmbG93KVxcLyhbXFx3XFwuXSspL2ksLyhzd2lmdGZveCkvaSwvKGljZWRyYWdvbnxpY2V3ZWFzZWx8Y2FtaW5vfGNoaW1lcmF8ZmVubmVjfG1hZW1vIGJyb3dzZXJ8bWluaW1vfGNvbmtlcm9yfGtsYXIpW1xcLyBdPyhbXFx3XFwuXFwrXSspL2ksLyhzZWFtb25rZXl8ay1tZWxlb258aWNlY2F0fGljZWFwZXxmaXJlYmlyZHxwaG9lbml4fHBhbGVtb29ufGJhc2lsaXNrfHdhdGVyZm94KVxcLyhbLVxcd1xcLl0rKSQvaSwvKGZpcmVmb3gpXFwvKFtcXHdcXC5dKykvaSwvKG1vemlsbGEpXFwvKFtcXHdcXC5dKykgLitydlxcOi4rZ2Vja29cXC9cXGQrL2ksLyhwb2xhcmlzfGx5bnh8ZGlsbG98aWNhYnxkb3Jpc3xhbWF5YXx3M218bmV0c3VyZnxzbGVpcG5pcnxvYmlnb3xtb3NhaWN8KD86Z298aWNlfHVwKVtcXC4gXT9icm93c2VyKVstXFwvIF0/dj8oW1xcd1xcLl0rKS9pLC8obGlua3MpIFxcKChbXFx3XFwuXSspL2ksL3BhbmFzb25pYzsodmllcmEpL2ldLFtsLHBdLFsvKGNvYmFsdClcXC8oW1xcd1xcLl0rKS9pXSxbbCxbcCwvbWFzdGVyLnxsdHMuLyxcIlwiXV1dLGNwdTpbWy8oPzooYW1kfHgoPzooPzo4Nnw2NClbLV9dKT98d293fHdpbik2NClbO1xcKV0vaV0sW1tfLFwiYW1kNjRcIl1dLFsvKGlhMzIoPz07KSkvaV0sW1tfLEhdXSxbLygoPzppWzM0Nl18eCk4NilbO1xcKV0vaV0sW1tfLFwiaWEzMlwiXV0sWy9cXGIoYWFyY2g2NHxhcm0odj84ZT9sP3xfPzY0KSlcXGIvaV0sW1tfLFwiYXJtNjRcIl1dLFsvXFxiKGFybSg/OnZbNjddKT9odD9uP1tmbF1wPylcXGIvaV0sW1tfLFwiYXJtaGZcIl1dLFsvd2luZG93cyAoY2V8bW9iaWxlKTsgcHBjOy9pXSxbW18sXCJhcm1cIl1dLFsvKCg/OnBwY3xwb3dlcnBjKSg/OjY0KT8pKD86IG1hY3w7fFxcKSkvaV0sW1tfLC9vd2VyLyxcIlwiLEhdXSxbLyhzdW40XFx3KVs7XFwpXS9pXSxbW18sXCJzcGFyY1wiXV0sWy8oKD86YXZyMzJ8aWE2NCg/PTspKXw2OGsoPz1cXCkpfFxcYmFybSg/PXYoPzpbMS03XXxbNS03XTEpbD98O3xlYWJpKXwoPz1hdG1lbCApYXZyfCg/OmlyaXh8bWlwc3xzcGFyYykoPzo2NCk/XFxifHBhLXJpc2MpL2ldLFtbXyxIXV1dLGRldmljZTpbWy9cXGIoc2NoLWlbODldMFxcZHxzaHctbTM4MHN8c20tW3B0eF1cXHd7Miw0fXxndC1bcG5dXFxkezIsNH18c2doLXQ4WzU2XTl8bmV4dXMgMTApL2ldLFtkLFt1LGtdLFtoLGZdXSxbL1xcYigoPzpzW2NncF1ofGd0fHNtKS1cXHcrfHNjW2ctXT9bXFxkXSthP3xnYWxheHkgbmV4dXMpL2ksL3NhbXN1bmdbLSBdKFstXFx3XSspL2ksL3NlYy0oc2doXFx3KykvaV0sW2QsW3Usa10sW2gsbV1dLFsvXFwoKGlwKD86aG9uZXxvZClbXFx3IF0qKTsvaV0sW2QsW3UsQ10sW2gsbV1dLFsvXFwoKGlwYWQpO1stXFx3XFwpLDsgXSthcHBsZS9pLC9hcHBsZWNvcmVtZWRpYVxcL1tcXHdcXC5dKyBcXCgoaXBhZCkvaSwvXFxiKGlwYWQpXFxkXFxkPyxcXGRcXGQ/WztcXF1dLitpb3MvaV0sW2QsW3UsQ10sW2gsZl1dLFsvKG1hY2ludG9zaCk7L2ldLFtkLFt1LENdXSxbL1xcYihzaC0/W2FsdHZ6XT9cXGRcXGRbYS1la21dPykvaV0sW2QsW3UsTV0sW2gsbV1dLFsvXFxiKCg/OmFnW3JzXVsyM10/fGJhaDI/fHNodD98YnR2KS1hP1tsd11cXGR7Mn0pXFxiKD8hLitkXFwvcykvaV0sW2QsW3UsT10sW2gsZl1dLFsvKD86aHVhd2VpfGhvbm9yKShbLVxcdyBdKylbO1xcKV0vaSwvXFxiKG5leHVzIDZwfFxcd3syLDR9ZT8tW2F0dV0/W2xuXVtcXGR4XVswMTIzNTljXVthZG5dPylcXGIoPyEuK2RcXC9zKS9pXSxbZCxbdSxPXSxbaCxtXV0sWy9cXGIocG9jb1tcXHcgXSspKD86IGJ1aXxcXCkpL2ksL1xcYjsgKFxcdyspIGJ1aWxkXFwvaG1cXDEvaSwvXFxiKGhtWy1fIF0/bm90ZT9bXyBdPyg/OlxcZFxcdyk/KSBidWkvaSwvXFxiKHJlZG1pW1xcLV8gXT8oPzpub3RlfGspP1tcXHdfIF0rKSg/OiBidWl8XFwpKS9pLC9cXGIobWlbLV8gXT8oPzphXFxkfG9uZXxvbmVbXyBdcGx1c3xub3RlIGx0ZXxtYXh8Y2MpP1tfIF0/KD86XFxkP1xcdz8pW18gXT8oPzpwbHVzfHNlfGxpdGUpPykoPzogYnVpfFxcKSkvaV0sW1tkLC9fL2csXCIgXCJdLFt1LHhdLFtoLG1dXSxbL1xcYihtaVstXyBdPyg/OnBhZCkoPzpbXFx3XyBdKykpKD86IGJ1aXxcXCkpL2ldLFtbZCwvXy9nLFwiIFwiXSxbdSx4XSxbaCxmXV0sWy87IChcXHcrKSBidWkuKyBvcHBvL2ksL1xcYihjcGhbMTJdXFxkezN9fHAoPzphZnxjW2FsXXxkXFx3fGVbYXJdKVttdF1cXGQwfHg5MDA3fGExMDFvcClcXGIvaV0sW2QsW3UsXCJPUFBPXCJdLFtoLG1dXSxbL3Zpdm8gKFxcdyspKD86IGJ1aXxcXCkpL2ksL1xcYih2WzEyXVxcZHszfVxcdz9bYXRdKSg/OiBidWl8OykvaV0sW2QsW3UsXCJWaXZvXCJdLFtoLG1dXSxbL1xcYihybXhbMTJdXFxkezN9KSg/OiBidWl8O3xcXCkpL2ldLFtkLFt1LFwiUmVhbG1lXCJdLFtoLG1dXSxbL1xcYihtaWxlc3RvbmV8ZHJvaWQoPzpbMi00eF18ICg/OmJpb25pY3x4Mnxwcm98cmF6cikpPzo/KCA0Zyk/KVxcYltcXHcgXStidWlsZFxcLy9pLC9cXGJtb3QoPzpvcm9sYSk/Wy0gXShcXHcqKS9pLC8oKD86bW90b1tcXHdcXChcXCkgXSt8eHRcXGR7Myw0fXxuZXh1cyA2KSg/PSBidWl8XFwpKSkvaV0sW2QsW3UsUF0sW2gsbV1dLFsvXFxiKG16NjBcXGR8eG9vbVsyIF17MCwyfSkgYnVpbGRcXC8vaV0sW2QsW3UsUF0sW2gsZl1dLFsvKCg/PWxnKT9bdmxda1xcLT9cXGR7M30pIGJ1aXwgM1xcLlstXFx3OyBdezEwfWxnPy0oWzA2Y3Y5XXszLDR9KS9pXSxbZCxbdSxOXSxbaCxmXV0sWy8obG0oPzotP2YxMDBbbnZdP3wtW1xcd1xcLl0rKSg/PSBidWl8XFwpKXxuZXh1cyBbNDVdKS9pLC9cXGJsZ1stZTtcXC8gXSsoKD8hYnJvd3NlcnxuZXRjYXN0fGFuZHJvaWQgdHYpXFx3KykvaSwvXFxibGctPyhbXFxkXFx3XSspIGJ1aS9pXSxbZCxbdSxOXSxbaCxtXV0sWy8oaWRlYXRhYlstXFx3IF0rKS9pLC9sZW5vdm8gPyhzWzU2XTAwMFstXFx3XSt8dGFiKD86W1xcdyBdKyl8eXRbLVxcZFxcd117Nn18dGJbLVxcZFxcd117Nn0pL2ldLFtkLFt1LFwiTGVub3ZvXCJdLFtoLGZdXSxbLyg/Om1hZW1vfG5va2lhKS4qKG45MDB8bHVtaWEgXFxkKykvaSwvbm9raWFbLV8gXT8oWy1cXHdcXC5dKikvaV0sW1tkLC9fL2csXCIgXCJdLFt1LFwiTm9raWFcIl0sW2gsbV1dLFsvKHBpeGVsIGMpXFxiL2ldLFtkLFt1LHddLFtoLGZdXSxbL2Ryb2lkLis7IChwaXhlbFtcXGRheGwgXXswLDZ9KSg/OiBidWl8XFwpKS9pXSxbZCxbdSx3XSxbaCxtXV0sWy9kcm9pZC4rIChhP1xcZFswLTJdezJ9c298W2MtZ11cXGR7NH18c29bLWdsXVxcdyt8eHEtYVxcd1s0LTddWzEyXSkoPz0gYnVpfFxcKS4rY2hyb21lXFwvKD8hWzEtNl17MCwxfVxcZFxcLikpL2ldLFtkLFt1LFVdLFtoLG1dXSxbL3NvbnkgdGFibGV0IFtwc10vaSwvXFxiKD86c29ueSk/c2dwXFx3Kyg/OiBidWl8XFwpKS9pXSxbW2QsXCJYcGVyaWEgVGFibGV0XCJdLFt1LFVdLFtoLGZdXSxbLyAoa2IyMDA1fGluMjBbMTJdNXxiZTIwWzEyXVs1OV0pXFxiL2ksLyg/Om9uZSk/KD86cGx1cyk/IChhXFxkMFxcZFxcZCkoPzogYnxcXCkpL2ldLFtkLFt1LFwiT25lUGx1c1wiXSxbaCxtXV0sWy8oYWxleGEpd2VibS9pLC8oa2ZbYS16XXsyfXdpKSggYnVpfFxcKSkvaSwvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaV0sW2QsW3UsUl0sW2gsZl1dLFsvKCg/OnNkfGtmKVswMzQ5aGlqb3JzdHV3XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pXSxbW2QsLyguKykvZyxcIkZpcmUgUGhvbmUgJDFcIl0sW3UsUl0sW2gsbV1dLFsvKHBsYXlib29rKTtbLVxcd1xcKSw7IF0rKHJpbSkvaV0sW2QsdSxbaCxmXV0sWy9cXGIoKD86YmJbYS1mXXxzdFtodl0pMTAwLVxcZCkvaSwvXFwoYmIxMDsgKFxcdyspL2ldLFtkLFt1LEldLFtoLG1dXSxbLyg/OlxcYnxhc3VzXykodHJhbnNmb1twcmltZSBdezQsMTB9IFxcdyt8ZWVlcGN8c2xpZGVyIFxcdyt8bmV4dXMgN3xwYWRmb25lfHAwMFtjal0pL2ldLFtkLFt1LHZdLFtoLGZdXSxbLyAoeltiZXNdNlswMjddWzAxMl1ba21dW2xzXXx6ZW5mb25lIFxcZFxcdz8pXFxiL2ldLFtkLFt1LHZdLFtoLG1dXSxbLyhuZXh1cyA5KS9pXSxbZCxbdSxcIkhUQ1wiXSxbaCxmXV0sWy8oaHRjKVstO18gXXsxLDJ9KFtcXHcgXSsoPz1cXCl8IGJ1aSl8XFx3KykvaSwvKHp0ZSlbLSBdKFtcXHcgXSs/KSg/OiBidWl8XFwvfFxcKSkvaSwvKGFsY2F0ZWx8Z2Vla3NwaG9uZXxuZXhpYW58cGFuYXNvbmljKD8hKD86O3xcXC4pKXxzb255KD8hLWJyYSkpWy1fIF0/KFstXFx3XSopL2ldLFt1LFtkLC9fL2csXCIgXCJdLFtoLG1dXSxbL2Ryb2lkLis7IChbYWJdWzEtN10tP1swMTc4YV1cXGRcXGQ/KS9pXSxbZCxbdSxcIkFjZXJcIl0sW2gsZl1dLFsvZHJvaWQuKzsgKG1bMS01XSBub3RlKSBidWkvaSwvXFxibXotKFstXFx3XXsyLH0pL2ldLFtkLFt1LFwiTWVpenVcIl0sW2gsbV1dLFsvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XFwtKXxzb255ZXJpY3Nzb258YWNlcnxhc3VzfGRlbGx8bWVpenV8bW90b3JvbGF8cG9seXRyb24pWy1fIF0/KFstXFx3XSopL2ksLyhocCkgKFtcXHcgXStcXHcpL2ksLyhhc3VzKS0/KFxcdyspL2ksLyhtaWNyb3NvZnQpOyAobHVtaWFbXFx3IF0rKS9pLC8obGVub3ZvKVstXyBdPyhbLVxcd10rKS9pLC8oam9sbGEpL2ksLyhvcHBvKSA/KFtcXHcgXSspIGJ1aS9pXSxbdSxkLFtoLG1dXSxbLyhrb2JvKVxccyhlcmVhZGVyfHRvdWNoKS9pLC8oYXJjaG9zKSAoZ2FtZXBhZDI/KS9pLC8oaHApLisodG91Y2hwYWQoPyEuK3RhYmxldCl8dGFibGV0KS9pLC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhub29rKVtcXHcgXStidWlsZFxcLyhcXHcrKS9pLC8oZGVsbCkgKHN0cmVhW2twclxcZCBdKltcXGRrb10pL2ksLyhsZVstIF0rcGFuKVstIF0rKFxcd3sxLDl9KSBidWkvaSwvKHRyaW5pdHkpWy0gXSoodFxcZHszfSkgYnVpL2ksLyhnaWdhc2V0KVstIF0rKHFcXHd7MSw5fSkgYnVpL2ksLyh2b2RhZm9uZSkgKFtcXHcgXSspKD86XFwpfCBidWkpL2ldLFt1LGQsW2gsZl1dLFsvKHN1cmZhY2UgZHVvKS9pXSxbZCxbdSxEXSxbaCxmXV0sWy9kcm9pZCBbXFxkXFwuXSs7IChmcFxcZHU/KSg/OiBifFxcKSkvaV0sW2QsW3UsXCJGYWlycGhvbmVcIl0sW2gsbV1dLFsvKHUzMDRhYSkvaV0sW2QsW3UsXCJBVCZUXCJdLFtoLG1dXSxbL1xcYnNpZS0oXFx3KikvaV0sW2QsW3UsXCJTaWVtZW5zXCJdLFtoLG1dXSxbL1xcYihyY3RcXHcrKSBiL2ldLFtkLFt1LFwiUkNBXCJdLFtoLGZdXSxbL1xcYih2ZW51ZVtcXGQgXXsyLDd9KSBiL2ldLFtkLFt1LFwiRGVsbFwiXSxbaCxmXV0sWy9cXGIocSg/Om12fHRhKVxcdyspIGIvaV0sW2QsW3UsXCJWZXJpem9uXCJdLFtoLGZdXSxbL1xcYig/OmJhcm5lc1smIF0rbm9ibGUgfGJuW3J0XSkoW1xcd1xcKyBdKikgYi9pXSxbZCxbdSxcIkJhcm5lcyAmIE5vYmxlXCJdLFtoLGZdXSxbL1xcYih0bVxcZHszfVxcdyspIGIvaV0sW2QsW3UsXCJOdVZpc2lvblwiXSxbaCxmXV0sWy9cXGIoazg4KSBiL2ldLFtkLFt1LFwiWlRFXCJdLFtoLGZdXSxbL1xcYihueFxcZHszfWopIGIvaV0sW2QsW3UsXCJaVEVcIl0sW2gsbV1dLFsvXFxiKGdlblxcZHszfSkgYi4rNDloL2ldLFtkLFt1LFwiU3dpc3NcIl0sW2gsbV1dLFsvXFxiKHp1clxcZHszfSkgYi9pXSxbZCxbdSxcIlN3aXNzXCJdLFtoLGZdXSxbL1xcYigoemVraSk/dGIuKlxcYikgYi9pXSxbZCxbdSxcIlpla2lcIl0sW2gsZl1dLFsvXFxiKFt5cl1cXGR7Mn0pIGIvaSwvXFxiKGRyYWdvblstIF0rdG91Y2ggfGR0KShcXHd7NX0pIGIvaV0sW1t1LFwiRHJhZ29uIFRvdWNoXCJdLGQsW2gsZl1dLFsvXFxiKG5zLT9cXHd7MCw5fSkgYi9pXSxbZCxbdSxcIkluc2lnbmlhXCJdLFtoLGZdXSxbL1xcYigobnhhfG5leHQpLT9cXHd7MCw5fSkgYi9pXSxbZCxbdSxcIk5leHRCb29rXCJdLFtoLGZdXSxbL1xcYih4dHJlbWVcXF8pPyh2KDFbMDQ1XXwyWzAxNV18WzM0NjldMHw3WzA1XSkpIGIvaV0sW1t1LFwiVm9pY2VcIl0sZCxbaCxtXV0sWy9cXGIobHZ0ZWxcXC0pPyh2MVsxMl0pIGIvaV0sW1t1LFwiTHZUZWxcIl0sZCxbaCxtXV0sWy9cXGIocGgtMSkgL2ldLFtkLFt1LFwiRXNzZW50aWFsXCJdLFtoLG1dXSxbL1xcYih2KDEwMG1kfDcwMG5hfDcwMTF8OTE3ZykuKlxcYikgYi9pXSxbZCxbdSxcIkVudml6ZW5cIl0sW2gsZl1dLFsvXFxiKHRyaW9bLVxcd1xcLiBdKykgYi9pXSxbZCxbdSxcIk1hY2hTcGVlZFwiXSxbaCxmXV0sWy9cXGJ0dV8oMTQ5MSkgYi9pXSxbZCxbdSxcIlJvdG9yXCJdLFtoLGZdXSxbLyhzaGllbGRbXFx3IF0rKSBiL2ldLFtkLFt1LFwiTnZpZGlhXCJdLFtoLGZdXSxbLyhzcHJpbnQpIChcXHcrKS9pXSxbdSxkLFtoLG1dXSxbLyhraW5cXC5bb25ldHddezN9KS9pXSxbW2QsL1xcLi9nLFwiIFwiXSxbdSxEXSxbaCxtXV0sWy9kcm9pZC4rOyAoY2M2NjY2P3xldDVbMTZdfG1jWzIzOV1bMjNdeD98dmM4WzAzXXg/KVxcKS9pXSxbZCxbdSxWXSxbaCxmXV0sWy9kcm9pZC4rOyAoZWMzMHxwczIwfHRjWzItOF1cXGRba3hdKVxcKS9pXSxbZCxbdSxWXSxbaCxtXV0sWy9zbWFydC10di4rKHNhbXN1bmcpL2ldLFt1LFtoLGddXSxbL2hiYnR2LittYXBsZTsoXFxkKykvaV0sW1tkLC9eLyxcIlNtYXJ0VFZcIl0sW3Usa10sW2gsZ11dLFsvKG51eDsgbmV0Y2FzdC4rc21hcnR0dnxsZyAobmV0Y2FzdFxcLnR2LTIwMVxcZHxhbmRyb2lkIHR2KSkvaV0sW1t1LE5dLFtoLGddXSxbLyhhcHBsZSkgP3R2L2ldLFt1LFtkLEMrXCIgVFZcIl0sW2gsZ11dLFsvY3JrZXkvaV0sW1tkLEErXCJjYXN0XCJdLFt1LHddLFtoLGddXSxbL2Ryb2lkLithZnQoXFx3KSggYnVpfFxcKSkvaV0sW2QsW3UsUl0sW2gsZ11dLFsvXFwoZHR2W1xcKTtdLisoYXF1b3MpL2ksLyhhcXVvcy10dltcXHcgXSspXFwpL2ldLFtkLFt1LE1dLFtoLGddXSxbLyhicmF2aWFbXFx3IF0rKSggYnVpfFxcKSkvaV0sW2QsW3UsVV0sW2gsZ11dLFsvKG1pdHYtXFx3ezV9KSBidWkvaV0sW2QsW3UseF0sW2gsZ11dLFsvSGJidHYuKih0ZWNobmlzYXQpICguKik7L2ldLFt1LGQsW2gsZ11dLFsvXFxiKHJva3UpW1xcZHhdKltcXClcXC9dKCg/OmR2cC0pP1tcXGRcXC5dKikvaSwvaGJidHZcXC9cXGQrXFwuXFxkK1xcLlxcZCsgK1xcKFtcXHdcXCsgXSo7ICooW1xcd1xcZF1bXjtdKik7KFteO10qKS9pXSxbW3UsS10sW2QsS10sW2gsZ11dLFsvXFxiKGFuZHJvaWQgdHZ8c21hcnRbLSBdP3R2fG9wZXJhIHR2fHR2OyBydjopXFxiL2ldLFtbaCxnXV0sWy8ob3V5YSkvaSwvKG5pbnRlbmRvKSAoW3dpZHMzdXRjaF0rKS9pXSxbdSxkLFtoLEVdXSxbL2Ryb2lkLis7IChzaGllbGQpIGJ1aS9pXSxbZCxbdSxcIk52aWRpYVwiXSxbaCxFXV0sWy8ocGxheXN0YXRpb24gWzM0NXBvcnRhYmxldmldKykvaV0sW2QsW3UsVV0sW2gsRV1dLFsvXFxiKHhib3goPzogb25lKT8oPyE7IHhib3gpKVtcXCk7IF0vaV0sW2QsW3UsRF0sW2gsRV1dLFsvKChwZWJibGUpKWFwcC9pXSxbdSxkLFtoLFRdXSxbLyh3YXRjaCkoPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pW1xcZFxcLl0rL2ldLFtkLFt1LENdLFtoLFRdXSxbL2Ryb2lkLis7IChnbGFzcykgXFxkL2ldLFtkLFt1LHddLFtoLFRdXSxbL2Ryb2lkLis7ICh3dDYzPzB7MiwzfSlcXCkvaV0sW2QsW3UsVl0sW2gsVF1dLFsvKHF1ZXN0KCAyfCBwcm8pPykvaV0sW2QsW3UsRl0sW2gsVF1dLFsvKHRlc2xhKSg/OiBxdGNhcmJyb3dzZXJ8XFwvWy1cXHdcXC5dKykvaV0sW3UsW2gsU11dLFsvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8XFwpIGFwcGxldykuKz8gbW9iaWxlIHNhZmFyaS9pXSxbZCxbaCxtXV0sWy9kcm9pZCAuKz87IChbXjtdKz8pKD86IGJ1aXxcXCkgYXBwbGV3KS4rPyg/ISBtb2JpbGUpIHNhZmFyaS9pXSxbZCxbaCxmXV0sWy9cXGIoKHRhYmxldHx0YWIpWztcXC9dfGZvY3VzXFwvXFxkKD8hLittb2JpbGUpKS9pXSxbW2gsZl1dLFsvKHBob25lfG1vYmlsZSg/Ols7XFwvXXwgWyBcXHdcXC9cXC5dKnNhZmFyaSl8cGRhKD89Lit3aW5kb3dzIGNlKSkvaV0sW1toLG1dXSxbLyhhbmRyb2lkWy1cXHdcXC4gXXswLDl9KTsuK2J1aWwvaV0sW2QsW3UsXCJHZW5lcmljXCJdXV0sZW5naW5lOltbL3dpbmRvd3MuKyBlZGdlXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJFZGdlSFRNTFwiXV0sWy93ZWJraXRcXC81MzdcXC4zNi4rY2hyb21lXFwvKD8hMjcpKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJCbGlua1wiXV0sWy8ocHJlc3RvKVxcLyhbXFx3XFwuXSspL2ksLyh3ZWJraXR8dHJpZGVudHxuZXRmcm9udHxuZXRzdXJmfGFtYXlhfGx5bnh8dzNtfGdvYW5uYSlcXC8oW1xcd1xcLl0rKS9pLC9la2lvaChmbG93KVxcLyhbXFx3XFwuXSspL2ksLyhraHRtbHx0YXNtYW58bGlua3MpW1xcLyBdXFwoPyhbXFx3XFwuXSspL2ksLyhpY2FiKVtcXC8gXShbMjNdXFwuW1xcZFxcLl0rKS9pXSxbbCxwXSxbL3J2XFw6KFtcXHdcXC5dezEsOX0pXFxiLisoZ2Vja28pL2ldLFtwLGxdXSxvczpbWy9taWNyb3NvZnQgKHdpbmRvd3MpICh2aXN0YXx4cCkvaV0sW2wscF0sWy8od2luZG93cykgbnQgNlxcLjI7IChhcm0pL2ksLyh3aW5kb3dzICg/OnBob25lKD86IG9zKT98bW9iaWxlKSlbXFwvIF0/KFtcXGRcXC5cXHcgXSopL2ksLyh3aW5kb3dzKVtcXC8gXT8oW250Y2VcXGRcXC4gXStcXHcpKD8hLit4Ym94KS9pXSxbbCxbcCxxLEpdXSxbLyh3aW4oPz0zfDl8bil8d2luIDl4ICkoW250XFxkXFwuXSspL2ldLFtbbCxcIldpbmRvd3NcIl0sW3AscSxKXV0sWy9pcFtob25lYWRdezIsNH1cXGIoPzouKm9zIChbXFx3XSspIGxpa2UgbWFjfDsgb3BlcmEpL2ksL2NmbmV0d29ya1xcLy4rZGFyd2luL2ldLFtbcCwvXy9nLFwiLlwiXSxbbCxcImlPU1wiXV0sWy8obWFjIG9zIHgpID8oW1xcd1xcLiBdKikvaSwvKG1hY2ludG9zaHxtYWNfcG93ZXJwY1xcYikoPyEuK2hhaWt1KS9pXSxbW2wsal0sW3AsL18vZyxcIi5cIl1dLFsvZHJvaWQgKFtcXHdcXC5dKylcXGIuKyhhbmRyb2lkWy0gXXg4NnxoYXJtb255b3MpL2ldLFtwLGxdLFsvKGFuZHJvaWR8d2Vib3N8cW54fGJhZGF8cmltIHRhYmxldCBvc3xtYWVtb3xtZWVnb3xzYWlsZmlzaClbLVxcLyBdPyhbXFx3XFwuXSopL2ksLyhibGFja2JlcnJ5KVxcdypcXC8oW1xcd1xcLl0qKS9pLC8odGl6ZW58a2Fpb3MpW1xcLyBdKFtcXHdcXC5dKykvaSwvXFwoKHNlcmllczQwKTsvaV0sW2wscF0sWy9cXChiYigxMCk7L2ldLFtwLFtsLEldXSxbLyg/OnN5bWJpYW4gP29zfHN5bWJvc3xzNjAoPz07KXxzZXJpZXM2MClbLVxcLyBdPyhbXFx3XFwuXSopL2ldLFtwLFtsLFwiU3ltYmlhblwiXV0sWy9tb3ppbGxhXFwvW1xcZFxcLl0rIFxcKCg/Om1vYmlsZXx0YWJsZXR8dHZ8bW9iaWxlOyBbXFx3IF0rKTsgcnY6LisgZ2Vja29cXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxiK1wiIE9TXCJdXSxbL3dlYjBzOy4rcnQodHYpL2ksL1xcYig/OmhwKT93b3MoPzpicm93c2VyKT9cXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIndlYk9TXCJdXSxbL3dhdGNoKD86ID9vc1ssXFwvXXxcXGQsXFxkXFwvKShbXFxkXFwuXSspL2ldLFtwLFtsLFwid2F0Y2hPU1wiXV0sWy9jcmtleVxcLyhbXFxkXFwuXSspL2ldLFtwLFtsLEErXCJjYXN0XCJdXSxbLyhjcm9zKSBbXFx3XSsoPzpcXCl8IChbXFx3XFwuXSspXFxiKS9pXSxbW2wsQl0scF0sWy9wYW5hc29uaWM7KHZpZXJhKS9pLC8obmV0cmFuZ2UpbW1oL2ksLyhuZXR0dilcXC8oXFxkK1xcLltcXHdcXC5dKykvaSwvKG5pbnRlbmRvfHBsYXlzdGF0aW9uKSAoW3dpZHMzNDVwb3J0YWJsZXZ1Y2hdKykvaSwvKHhib3gpOyAreGJveCAoW15cXCk7XSspL2ksL1xcYihqb2xpfHBhbG0pXFxiID8oPzpvcyk/XFwvPyhbXFx3XFwuXSopL2ksLyhtaW50KVtcXC9cXChcXCkgXT8oXFx3KikvaSwvKG1hZ2VpYXx2ZWN0b3JsaW51eClbOyBdL2ksLyhba3hsbl0/dWJ1bnR1fGRlYmlhbnxzdXNlfG9wZW5zdXNlfGdlbnRvb3xhcmNoKD89IGxpbnV4KXxzbGFja3dhcmV8ZmVkb3JhfG1hbmRyaXZhfGNlbnRvc3xwY2xpbnV4b3N8cmVkID9oYXR8emVud2Fsa3xsaW5wdXN8cmFzcGJpYW58cGxhbiA5fG1pbml4fHJpc2Mgb3N8Y29udGlraXxkZWVwaW58bWFuamFyb3xlbGVtZW50YXJ5IG9zfHNhYmF5b258bGluc3BpcmUpKD86IGdudVxcL2xpbnV4KT8oPzogZW50ZXJwcmlzZSk/KD86Wy0gXWxpbnV4KT8oPzotZ251KT9bLVxcLyBdPyg/IWNocm9tfHBhY2thZ2UpKFstXFx3XFwuXSopL2ksLyhodXJkfGxpbnV4KSA/KFtcXHdcXC5dKikvaSwvKGdudSkgPyhbXFx3XFwuXSopL2ksL1xcYihbLWZyZW50b3BjZ2hzXXswLDV9YnNkfGRyYWdvbmZseSlbXFwvIF0/KD8hYW1kfFtpeDM0Nl17MSwyfTg2KShbXFx3XFwuXSopL2ksLyhoYWlrdSkgKFxcdyspL2ldLFtsLHBdLFsvKHN1bm9zKSA/KFtcXHdcXC5cXGRdKikvaV0sW1tsLFwiU29sYXJpc1wiXSxwXSxbLygoPzpvcGVuKT9zb2xhcmlzKVstXFwvIF0/KFtcXHdcXC5dKikvaSwvKGFpeCkgKChcXGQpKD89XFwufFxcKXwgKVtcXHdcXC5dKSovaSwvXFxiKGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xvcGVudm1zfGZ1Y2hzaWF8aHAtdXgpL2ksLyh1bml4KSA/KFtcXHdcXC5dKikvaV0sW2wscF1dfSxYPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIGU9PT1vJiYodD1lLGU9biksISh0aGlzIGluc3RhbmNlb2YgWCkpcmV0dXJuIG5ldyBYKGUsdCkuZ2V0UmVzdWx0KCk7dmFyIEU9dHlwZW9mIGkhPT1zJiZpLm5hdmlnYXRvcj9pLm5hdmlnYXRvcjpuLGc9ZXx8KEUmJkUudXNlckFnZW50P0UudXNlckFnZW50OlwiXCIpLFQ9RSYmRS51c2VyQWdlbnREYXRhP0UudXNlckFnZW50RGF0YTpuLFM9dD9mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2Zvcih2YXIgbiBpbiBlKXRbbl0mJnRbbl0ubGVuZ3RoJTI9PTA/aVtuXT10W25dLmNvbmNhdChlW25dKTppW25dPWVbbl07cmV0dXJuIGl9KHosdCk6ejtyZXR1cm4gdGhpcy5nZXRCcm93c2VyPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbbF09bixlW3BdPW4sWS5jYWxsKGUsZyxTLmJyb3dzZXIpLGVbY109ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09YT9lLnJlcGxhY2UoL1teXFxkXFwuXS9nLFwiXCIpLnNwbGl0KFwiLlwiKVswXTpufShlW3BdKSxFJiZFLmJyYXZlJiZ0eXBlb2YgRS5icmF2ZS5pc0JyYXZlPT1yJiYoZVtsXT1cIkJyYXZlXCIpLGV9LHRoaXMuZ2V0Q1BVPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbX109bixZLmNhbGwoZSxnLFMuY3B1KSxlfSx0aGlzLmdldERldmljZT1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW3VdPW4sZVtkXT1uLGVbaF09bixZLmNhbGwoZSxnLFMuZGV2aWNlKSwhZVtoXSYmVCYmVC5tb2JpbGUmJihlW2hdPW0pLFwiTWFjaW50b3NoXCI9PWVbZF0mJkUmJnR5cGVvZiBFLnN0YW5kYWxvbmUhPT1zJiZFLm1heFRvdWNoUG9pbnRzJiZFLm1heFRvdWNoUG9pbnRzPjImJihlW2RdPVwiaVBhZFwiLGVbaF09ZiksZX0sdGhpcy5nZXRFbmdpbmU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZVtsXT1uLGVbcF09bixZLmNhbGwoZSxnLFMuZW5naW5lKSxlfSx0aGlzLmdldE9TPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbbF09bixlW3BdPW4sWS5jYWxsKGUsZyxTLm9zKSwhZVtsXSYmVCYmXCJVbmtub3duXCIhPVQucGxhdGZvcm0mJihlW2xdPVQucGxhdGZvcm0ucmVwbGFjZSgvY2hyb21lIG9zL2ksQikucmVwbGFjZSgvbWFjb3MvaSxqKSksZX0sdGhpcy5nZXRSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57dWE6dGhpcy5nZXRVQSgpLGJyb3dzZXI6dGhpcy5nZXRCcm93c2VyKCksZW5naW5lOnRoaXMuZ2V0RW5naW5lKCksb3M6dGhpcy5nZXRPUygpLGRldmljZTp0aGlzLmdldERldmljZSgpLGNwdTp0aGlzLmdldENQVSgpfX0sdGhpcy5nZXRVQT1mdW5jdGlvbigpe3JldHVybiBnfSx0aGlzLnNldFVBPWZ1bmN0aW9uKGUpe3JldHVybiBnPXR5cGVvZiBlPT09YSYmZS5sZW5ndGg+MzUwP0soZSwzNTApOmUsdGhpc30sdGhpcy5zZXRVQShnKSx0aGlzfTtYLlZFUlNJT049XCIwLjcuMzRcIixYLkJST1dTRVI9RyhbbCxwLGNdKSxYLkNQVT1HKFtfXSksWC5ERVZJQ0U9RyhbZCx1LGgsRSxtLGcsZixULFNdKSxYLkVOR0lORT1YLk9TPUcoW2wscF0pLGUuZXhwb3J0cyYmKHQ9ZS5leHBvcnRzPVgpLHQuVUFQYXJzZXI9WDt2YXIgUT10eXBlb2YgaSE9PXMmJihpLmpRdWVyeXx8aS5aZXB0byk7aWYoUSYmIVEudWEpe3ZhciBaPW5ldyBYO1EudWE9Wi5nZXRSZXN1bHQoKSxRLnVhLmdldD1mdW5jdGlvbigpe3JldHVybiBaLmdldFVBKCl9LFEudWEuc2V0PWZ1bmN0aW9uKGUpe1ouc2V0VUEoZSk7dmFyIHQ9Wi5nZXRSZXN1bHQoKTtmb3IodmFyIGkgaW4gdClRLnVhW2ldPXRbaV19fX0oXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz93aW5kb3c6cSl9KGRnLGRnLmV4cG9ydHMpO2NvbnN0IGxnPW5ldyhKKGRnLmV4cG9ydHMpKTtsZXQgaGc9bGcuZ2V0UmVzdWx0KCksdWc9bnVsbDtmdW5jdGlvbiBwZyhlKXtpZighdWcpe2UmJmxnLnNldFVBKGUpLGhnPWxnLmdldFJlc3VsdCgpO2NvbnN0IHQ9ZnVuY3Rpb24oZSl7aWYoXCJCbGlua1wiPT09ZS5lbmdpbmUubmFtZSYmXCJXZUNoYXRcIiE9PWUuYnJvd3Nlci5uYW1lKXJldHVybiBjZy5DSFJPTUU7c3dpdGNoKGUuYnJvd3Nlci5uYW1lKXtjYXNlXCJDaHJvbWUgSGVhZGxlc3NcIjpjYXNlXCJDaHJvbWVcIjpjYXNlXCJDaHJvbWl1bVwiOnJldHVybiBjZy5DSFJPTUU7Y2FzZVwiU2FmYXJpXCI6Y2FzZVwiTW9iaWxlIFNhZmFyaVwiOnJldHVybiBjZy5TQUZBUkk7Y2FzZVwiRWRnZVwiOnJldHVybiBjZy5FREdFO2Nhc2VcIkZpcmVmb3hcIjpyZXR1cm4gY2cuRklSRUZPWDtjYXNlXCJRUUJyb3dzZXJcIjpyZXR1cm4gY2cuUVE7Y2FzZVwiT3BlcmFcIjpyZXR1cm4gY2cuT1BFUkE7Y2FzZVwiV2VDaGF0XCI6cmV0dXJuIGNnLldFQ0hBVDtkZWZhdWx0OnJldHVybiBlLmJyb3dzZXIubmFtZXx8XCJcIn19KGhnKSxpPWZ1bmN0aW9uKGUpe2xldCB0O3Q9XCJCbGlua1wiPT09ZS5lbmdpbmUubmFtZT9lLmVuZ2luZS52ZXJzaW9ufHxcIlwiOmUuYnJvd3Nlci52ZXJzaW9ufHxcIlwiO3JldHVybiB0LnNwbGl0KFwiLlwiKVswXX0oaGcpLG49ZnVuY3Rpb24oZSl7aWYoXCJXaW5kb3dzXCI9PT1lLm9zLm5hbWUpcmV0dXJuIGUub3MudmVyc2lvbj9lLm9zLm5hbWUrXCIgXCIrZS5vcy52ZXJzaW9uOmUub3MubmFtZTtyZXR1cm4gZS5vcy5uYW1lfHxcIlwifShoZykscj1oZy5vcy52ZXJzaW9uO2lmKCEodCYmaSYmbiYmcikpcmV0dXJue25hbWU6dCx2ZXJzaW9uOmksb3M6bixvc1ZlcnNpb246cn07dWc9e25hbWU6dCx2ZXJzaW9uOmksb3M6bixvc1ZlcnNpb246cn19cmV0dXJuIHVnfWZ1bmN0aW9uIF9nKCl7cmV0dXJuIHBnKCkub3N9ZnVuY3Rpb24gRWcoKXtjb25zdCBlPXBnKCk7cmV0dXJuXCJcIi5jb25jYXQoZS5vcyxcIiBcIikuY29uY2F0KGUub3NWZXJzaW9uKX1mdW5jdGlvbiBtZygpe2NvbnN0IGU9cGcoKTtyZXR1cm4hIShcIldlYktpdFwiPT09aGcuZW5naW5lLm5hbWUmJmUub3M9PT1hZy5NQUNfT1MmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyYmbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzPjAmJmUubmFtZSE9PWNnLlNBRkFSSXx8Q2coKSYmZS5uYW1lIT09Y2cuU0FGQVJJKX1mdW5jdGlvbiBmZygpe2NvbnN0IGU9cGcoKTtpZihtZygpKXtpZihlLm9zPT09YWcuTUFDX09TKXJldHVybiEwO2lmKGUub3M9PT1hZy5JT1Mpe2NvbnN0IGU9aGcub3MudmVyc2lvbiYmaGcub3MudmVyc2lvbi5zcGxpdChcIi5cIik7aWYoZSYmMTQ9PT1OdW1iZXIoZVswXSkmJmVbMV0mJk51bWJlcihlWzFdKT49MylyZXR1cm4hMDtpZihlJiZOdW1iZXIoZVswXSk+MTQpcmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIGdnKCl7cmV0dXJuXCJXZWJLaXRcIj09PWhnLmVuZ2luZS5uYW1lfWZ1bmN0aW9uIFRnKCl7cmV0dXJuIHBnKCkubmFtZT09PWNnLkNIUk9NRX1mdW5jdGlvbiBTZygpe3JldHVybiBwZygpLm5hbWU9PT1jZy5TQUZBUkl9ZnVuY3Rpb24gUmcoKXtyZXR1cm4gcGcoKS5uYW1lPT09Y2cuRklSRUZPWH1mdW5jdGlvbiBDZygpe3JldHVybiBwZygpLm9zPT09YWcuSU9TfWZ1bmN0aW9uIHZnKGUpe2NvbnN0IHQ9cGcoKTtyZXR1cm4hKHQubmFtZSE9PWNnLkNIUk9NRXx8IXQub3NWZXJzaW9uKSYmTnVtYmVyKHQudmVyc2lvbik+PWV9ZnVuY3Rpb24gSWcoZSl7Y29uc3QgdD1wZygpO3JldHVybiEodC5uYW1lIT09Y2cuRURHRXx8IXQub3NWZXJzaW9uKSYmTnVtYmVyKHQudmVyc2lvbik+PWV9ZnVuY3Rpb24geWcoZSl7Y29uc3QgdD1wZygpO3JldHVybiEodC5uYW1lIT09Y2cuT1BFUkF8fCF0Lm9zVmVyc2lvbikmJk51bWJlcih0LnZlcnNpb24pPj1lfWZ1bmN0aW9uIEFnKCl7Y29uc3QgZT1wZygpO3JldHVybiEoZS5uYW1lIT09Y2cuQ0hST01FfHwhZS5vc1ZlcnNpb24pJiZOdW1iZXIoZS52ZXJzaW9uKTw9OTB9ZnVuY3Rpb24gYmcoKXtjb25zdCBlPXBnKCk7aWYoZS5vcyE9PWFnLklPU3x8IWUub3NWZXJzaW9uKXJldHVybiExO2NvbnN0IHQ9ZS5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBOdW1iZXIodFswXSk8MTR8fDE0PT09TnVtYmVyKHRbMF0pJiZOdW1iZXIodFsxXSk8PTZ9ZnVuY3Rpb24gd2coKXtjb25zdCBlPXBnKCk7aWYoZS5vcyE9PWFnLklPU3x8IWUub3NWZXJzaW9uKXJldHVybiExO2NvbnN0IHQ9ZS5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiAxNT09PU51bWJlcih0WzBdKX1mdW5jdGlvbiBPZygpe2NvbnN0IGU9cGcoKTtpZihlLm9zIT09YWcuSU9TfHwhZS5vc1ZlcnNpb24pcmV0dXJuITE7Y29uc3QgdD1lLm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIDE2PT09TnVtYmVyKHRbMF0pfWZ1bmN0aW9uIE5nKCl7Y29uc3QgZT1wZygpO2lmKGUub3MhPT1hZy5JT1N8fCFlLm9zVmVyc2lvbilyZXR1cm4hMTtjb25zdCB0PWUub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gMTU9PT1OdW1iZXIodFswXSkmJk51bWJlcih0WzFdKT49MX1mdW5jdGlvbiBEZygpe3JldHVybiBTZygpJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+MH1mdW5jdGlvbiBQZygpe3JldHVybiBwZygpLm5hbWU9PT1jZy5XRUNIQVR9ZnVuY3Rpb24gTGcoKXtyZXR1cm4gd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uJiZudWxsIT09d2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oW1xcd1xcV10qPylcXC4vKSYmd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oW1xcd1xcV10qPylcXC4vKVsxXTw9MzV9ZnVuY3Rpb24ga2coKXtjb25zdCBlPXBnKCk7aWYoZS5uYW1lPT09Y2cuRURHRXx8ZS5uYW1lPT09Y2cuU0FGQVJJKXJldHVybiExO3JldHVybiEhbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvY2FsZUxvd2VyQ2FzZSgpLm1hdGNoKC9jaHJvbWVcXC9bXFxkXS4vaSl9ZnVuY3Rpb24gTWcoKXtyZXR1cm4gX2coKT09PWFnLkFORFJPSUR9ZnVuY3Rpb24gVWcoKXtjb25zdCBlPXBnKCk7cmV0dXJuIE1nKCkmJihlLm5hbWU9PT1jZy5DSFJPTUV8fGUubmFtZT09PWNnLldFQ0hBVHx8L2Nocm9tZXxjaHJvbWl1bS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpfXZhciB4ZzshZnVuY3Rpb24oZSl7ZS5VTkVYUEVDVEVEX0VSUk9SPVwiVU5FWFBFQ1RFRF9FUlJPUlwiLGUuVU5FWFBFQ1RFRF9SRVNQT05TRT1cIlVORVhQRUNURURfUkVTUE9OU0VcIixlLlRJTUVPVVQ9XCJUSU1FT1VUXCIsZS5JTlZBTElEX1BBUkFNUz1cIklOVkFMSURfUEFSQU1TXCIsZS5OT1RfUkVBREFCTEU9XCJOT1RfUkVBREFCTEVcIixlLk5PVF9TVVBQT1JURUQ9XCJOT1RfU1VQUE9SVEVEXCIsZS5JTlZBTElEX09QRVJBVElPTj1cIklOVkFMSURfT1BFUkFUSU9OXCIsZS5PUEVSQVRJT05fQUJPUlRFRD1cIk9QRVJBVElPTl9BQk9SVEVEXCIsZS5XRUJfU0VDVVJJVFlfUkVTVFJJQ1Q9XCJXRUJfU0VDVVJJVFlfUkVTVFJJQ1RcIixlLkVYQ0hBTkdFX1NEUF9GQUlMRUQ9XCJFWENIQU5HRV9TRFBfRkFJTEVEXCIsZS5BRERfQ0FORElEQVRFX0ZBSUxFRD1cIkFERF9DQU5ESURBVEVfRkFJTEVEXCIsZS5EQVRBQ0hBTk5FTF9GQUlMRUQ9XCJEQVRBQ0hBTk5FTF9GQUlMRURcIixlLk5FVFdPUktfRVJST1I9XCJORVRXT1JLX0VSUk9SXCIsZS5ORVRXT1JLX1RJTUVPVVQ9XCJORVRXT1JLX1RJTUVPVVRcIixlLk5FVFdPUktfUkVTUE9OU0VfRVJST1I9XCJORVRXT1JLX1JFU1BPTlNFX0VSUk9SXCIsZS5BUElfSU5WT0tFX1RJTUVPVVQ9XCJBUElfSU5WT0tFX1RJTUVPVVRcIixlLkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRD1cIkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRFwiLGUuREVWSUNFX05PVF9GT1VORD1cIkRFVklDRV9OT1RfRk9VTkRcIixlLkVMRUNUUk9OX0lTX05VTEw9XCJFTEVDVFJPTl9JU19OVUxMXCIsZS5FTEVDVFJPTl9ERVNLVE9QX0NBUFRVUkVSX0dFVF9TT1VSQ0VTX0VSUk9SPVwiRUxFQ1RST05fREVTS1RPUF9DQVBUVVJFUl9HRVRfU09VUkNFU19FUlJPUlwiLGUuQ0hST01FX1BMVUdJTl9OT19SRVNQT05TRT1cIkNIUk9NRV9QTFVHSU5fTk9fUkVTUE9OU0VcIixlLkNIUk9NRV9QTFVHSU5fTk9UX0lOU1RBTEw9XCJDSFJPTUVfUExVR0lOX05PVF9JTlNUQUxMXCIsZS5NRURJQV9PUFRJT05fSU5WQUxJRD1cIk1FRElBX09QVElPTl9JTlZBTElEXCIsZS5QRVJNSVNTSU9OX0RFTklFRD1cIlBFUk1JU1NJT05fREVOSUVEXCIsZS5DT05TVFJBSU5UX05PVF9TQVRJU0ZJRUQ9XCJDT05TVFJBSU5UX05PVF9TQVRJU0ZJRURcIixlLlRSQUNLX0lTX0RJU0FCTEVEPVwiVFJBQ0tfSVNfRElTQUJMRURcIixlLkdFVF9WSURFT19FTEVNRU5UX1ZJU0lCTEVfRVJST1I9XCJHRVRfVklERU9fRUxFTUVOVF9WSVNJQkxFX0VSUk9SXCIsZS5TSEFSRV9BVURJT19OT1RfQUxMT1dFRD1cIlNIQVJFX0FVRElPX05PVF9BTExPV0VEXCIsZS5MT1dfU1RSRUFNX0VOQ09ESU5HX0VSUk9SPVwiTE9XX1NUUkVBTV9FTkNPRElOR19FUlJPUlwiLGUuU0VUX0VOQ09ESU5HX1BBUkFNRVRFUl9FUlJPUj1cIlNFVF9FTkNPRElOR19QQVJBTUVURVJfRVJST1JcIixlLlRSQUNLX1NUQVRFX1VOUkVBQ0hBQkxFPVwiVFJBQ0tfU1RBVEVfVU5SRUFDSEFCTEVcIixlLklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlEPVwiSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSURcIixlLkNBTl9OT1RfR0VUX1BST1hZX1NFUlZFUj1cIkNBTl9OT1RfR0VUX1BST1hZX1NFUlZFUlwiLGUuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVI9XCJDQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUlwiLGUuVk9JRF9HQVRFV0FZX0FERFJFU1M9XCJWT0lEX0dBVEVXQVlfQUREUkVTU1wiLGUuVUlEX0NPTkZMSUNUPVwiVUlEX0NPTkZMSUNUXCIsZS5NVUxUSV9VTklMQlNfUkVTUE9OU0VfRVJST1I9XCJNVUxUSV9VTklMQlNfUkVTUE9OU0VfRVJST1JcIixlLlVQREFURV9USUNLRVRfRkFJTEVEPVwiVVBEQVRFX1RJQ0tFVF9GQUlMRURcIixlLklOVkFMSURfTE9DQUxfVFJBQ0s9XCJJTlZBTElEX0xPQ0FMX1RSQUNLXCIsZS5JTlZBTElEX1RSQUNLPVwiSU5WQUxJRF9UUkFDS1wiLGUuU0VOREVSX05PVF9GT1VORD1cIlNFTkRFUl9OT1RfRk9VTkRcIixlLkNSRUFURV9PRkZFUl9GQUlMRUQ9XCJDUkVBVEVfT0ZGRVJfRkFJTEVEXCIsZS5TRVRfQU5TV0VSX0ZBSUxFRD1cIlNFVF9BTlNXRVJfRkFJTEVEXCIsZS5JQ0VfRkFJTEVEPVwiSUNFX0ZBSUxFRFwiLGUuUENfQ0xPU0VEPVwiUENfQ0xPU0VEXCIsZS5TRU5ERVJfUkVQTEFDRV9GQUlMRUQ9XCJTRU5ERVJfUkVQTEFDRV9GQUlMRURcIixlLkdFVF9MT0NBTF9DQVBBQklMSVRJRVNfRkFJTEVEPVwiR0VUX0xPQ0FMX0NBUEFCSUxJVElFU19GQUlMRURcIixlLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQ9XCJHRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVEXCIsZS5TVUJTQ1JJQkVfRkFJTEVEPVwiU1VCU0NSSUJFX0ZBSUxFRFwiLGUuVU5TVUJTQ1JJQkVfRkFJTEVEPVwiVU5TVUJTQ1JJQkVfRkFJTEVEXCIsZS5HQVRFV0FZX1AyUF9MT1NUPVwiR0FURVdBWV9QMlBfTE9TVFwiLGUuTk9fSUNFX0NBTkRJREFURT1cIk5PX0lDRV9DQU5ESURBVEVcIixlLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1M9XCJDQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTXCIsZS5FWElTVF9ESVNBQkxFRF9WSURFT19UUkFDSz1cIkVYSVNUX0RJU0FCTEVEX1ZJREVPX1RSQUNLXCIsZS5JTlZBTElEX1JFTU9URV9VU0VSPVwiSU5WQUxJRF9SRU1PVEVfVVNFUlwiLGUuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRD1cIlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRURcIixlLkNVU1RPTV9SRVBPUlRfU0VORF9GQUlMRUQ9XCJDVVNUT01fUkVQT1JUX1NFTkRfRkFJTEVEXCIsZS5DVVNUT01fUkVQT1JUX0ZSRVFVRU5DWV9UT09fSElHSD1cIkNVU1RPTV9SRVBPUlRfRlJFUVVFTkNZX1RPT19ISUdIXCIsZS5GRVRDSF9BVURJT19GSUxFX0ZBSUxFRD1cIkZFVENIX0FVRElPX0ZJTEVfRkFJTEVEXCIsZS5SRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1I9XCJSRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1JcIixlLkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRD1cIkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRFwiLGUuV1NfQUJPUlQ9XCJXU19BQk9SVFwiLGUuV1NfRElTQ09OTkVDVD1cIldTX0RJU0NPTk5FQ1RcIixlLldTX0VSUj1cIldTX0VSUlwiLGUuTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVD1cIkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1RcIixlLkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfQVJHVU1FTlQ9XCJMSVZFX1NUUkVBTUlOR19JTlZBTElEX0FSR1VNRU5UXCIsZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1I9XCJMSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1JcIixlLkxJVkVfU1RSRUFNSU5HX1BVQkxJU0hfU1RSRUFNX05PVF9BVVRIT1JJWkVEPVwiTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRURcIixlLkxJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX05PVF9TVVBQT1JURUQ9XCJMSVZFX1NUUkVBTUlOR19UUkFOU0NPRElOR19OT1RfU1VQUE9SVEVEXCIsZS5MSVZFX1NUUkVBTUlOR19DRE5fRVJST1I9XCJMSVZFX1NUUkVBTUlOR19DRE5fRVJST1JcIixlLkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfUkFXX1NUUkVBTT1cIkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfUkFXX1NUUkVBTVwiLGUuTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUPVwiTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFPVwiTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRVwiLGUuTElWRV9TVFJFQU1JTkdfV0FSTl9GUkVRVUVOVF9SRVFVRVNUPVwiTElWRV9TVFJFQU1JTkdfV0FSTl9GUkVRVUVOVF9SRVFVRVNUXCIsZS5XRUJHTF9JTlRFUk5BTF9FUlJPUj1cIldFQkdMX0lOVEVSTkFMX0VSUk9SXCIsZS5CRUFVVFlfUFJPQ0VTU09SX0lOVEVSTkFMX0VSUk9SPVwiQkVBVVRZX1BST0NFU1NPUl9JTlRFUk5BTF9FUlJPUlwiLGUuQ1JPU1NfQ0hBTk5FTF9XQUlUX1NUQVRVU19FUlJPUj1cIkNST1NTX0NIQU5ORUxfV0FJVF9TVEFUVVNfRVJST1JcIixlLkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fU1JDPVwiQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9TRUNcIixlLkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fREVTVD1cIkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fREVTVFwiLGUuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVD1cIkNST1NTX0NIQU5ORUxfRkFJTEVEX1BBQ0tFVF9TRU5UX1RPX0RFU1RcIixlLkNST1NTX0NIQU5ORUxfU0VSVkVSX0VSUk9SX1JFU1BPTlNFPVwiQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0VcIixlLk1FVEFEQVRBX09VVF9PRl9SQU5HRT1cIk1FVEFEQVRBX09VVF9PRl9SQU5HRVwiLGUuTE9DQUxfQUVDX0VSUk9SPVwiTE9DQUxfQUVDX0VSUk9SXCIsZS5JTlZBTElEX1BMVUdJTj1cIklOVkFMSURfUExVR0lOXCIsZS5ESVNDT05ORUNUX1AyUD1cIkRJU0NPTk5FQ1RfUDJQXCIsZS5JTklUX1dFQlNPQ0tFVF9USU1FT1VUPVwiSU5JVF9XRUJTT0NLRVRfVElNRU9VVFwiLGUuQ09OVkVSVElOR19JTUFHRURBVEFfVE9fQkxPQl9GQUlMRUQ9XCJDT05WRVJUSU5HX0lNQUdFREFUQV9UT19CTE9CX0ZBSUxFRFwiLGUuQ09OVkVSVElOR19WSURFT19GUkFNRV9UT19CTE9CX0ZBSUxFRD1cIkNPTlZFUlRJTkdfVklERU9fRlJBTUVfVE9fQkxPQl9GQUlMRURcIixlLklOSVRfREFUQUNIQU5ORUxfVElNRU9VVD1cIklOSVRfREFUQUNIQU5ORUxfVElNRU9VVFwiLGUuREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUPVwiREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUXCIsZS5QUk9ISUJJVEVEX09QRVJBVElPTj1cIlBST0hJQklURURfT1BFUkFUSU9OXCIsZS5JTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRUQ9XCJJTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRURcIn0oeGd8fCh4Zz17fSkpO2xldCBWZz1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7c3VwZXIodCksbnUodGhpcyxcImNvZGVcIix2b2lkIDApLG51KHRoaXMsXCJtZXNzYWdlXCIsdm9pZCAwKSxudSh0aGlzLFwiZGF0YVwiLHZvaWQgMCksbnUodGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDRXhjZXB0aW9uXCIpLHRoaXMuY29kZT1lLHRoaXMubWVzc2FnZT1cIkFnb3JhUlRDRXJyb3IgXCIuY29uY2F0KHRoaXMuY29kZSxcIjogXCIpLmNvbmNhdCh0KSx0aGlzLmRhdGE9aX10b1N0cmluZygpe3JldHVybiB0aGlzLmRhdGE/XCJkYXRhOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSxcIlxcblwiKS5jb25jYXQodGhpcy5zdGFjayk6XCJcIi5jb25jYXQodGhpcy5zdGFjayl9cHJpbnQoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJlcnJvclwiLHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuXCJlcnJvclwiPT09ZSYmKHR8fGNvbnNvbGUpLmVycm9yKHRoaXMudG9TdHJpbmcoKSksXCJ3YXJuaW5nXCI9PT1lJiYodHx8Y29uc29sZSkud2Fybih0aGlzLnRvU3RyaW5nKCkpLHRoaXN9dGhyb3coZSl7dGhyb3cgdGhpcy5wcmludChcImVycm9yXCIsZSksdGhpc319O2Z1bmN0aW9uIEZnKGUsdCl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgXCIuY29uY2F0KHQsXCI6IFRoZSB2YWx1ZSBpcyBvZiB0aGUgYm9vbGVhbiB0eXBlLlwiKSl9ZnVuY3Rpb24gQmcoZSx0LGkpe2lmKFByKGkpLmNhbGwoaSxlKSlyZXR1cm47dGhyb3cgbmV3IFZnKHhnLklOVkFMSURfUEFSQU1TLFwiXCIuY29uY2F0KHQsXCIgY2FuIG9ubHkgYmUgc2V0IGFzIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaSkpKX1mdW5jdGlvbiBqZyhlLHQpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjFlNDtpZihlPGl8fGU+bnx8KCEoYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0pfHxhcmd1bWVudHNbNF0pJiYhZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmUlMT09MH0oZSkpe3Rocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgXCIuY29uY2F0KHQsXCI6IHRoZSB2YWx1ZSByYW5nZSBpcyBbXCIpLmNvbmNhdChpLFwiLCBcIikuY29uY2F0KG4sXCJdLiBpbnRlZ2VyIG9ubHlcIikpfX1mdW5jdGlvbiBHZyhlLHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXtpZighKGUubWlufHxlLm1heHx8ZS5pZGVhbHx8ZS5leGFjdCkpe3Rocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0LFwiIGlzIG5vdCBhIHZhbGlkIENvbnN0cmFpbkxvbmdcIikpfXZvaWQgMCE9PWUubWluJiZqZyhlLm1pbixcIlwiLmNvbmNhdCh0LFwiLm1pblwiKSwwLDEvMCksdm9pZCAwIT09ZS5tYXgmJmpnKGUubWF4LFwiXCIuY29uY2F0KHQsXCIubWF4XCIpLDEsMS8wKSx2b2lkIDAhPT1lLmV4YWN0JiZqZyhlLmV4YWN0LFwiXCIuY29uY2F0KHQsXCIuZXhhY3RcIiksMSwxLzApLHZvaWQgMCE9PWUuaWRlYWwmJmpnKGUuaWRlYWwsXCJcIi5jb25jYXQodCxcIi5pZGVhbFwiKSwxLDEvMCl9ZWxzZSBqZyhlLHQsMSwxLzApfWZ1bmN0aW9uIFdnKGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MjU1LHI9IShhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSl8fGFyZ3VtZW50c1s0XTtpZihudWxsPT1lKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0fHxcInBhcmFtXCIsXCIgY2Fubm90IGJlIGVtcHR5XCIpKTtpZighWWcoZSxpLG4scikpdGhyb3cgbmV3IFZnKHhnLklOVkFMSURfUEFSQU1TLFwiSW52YWxpZCBcIi5jb25jYXQodHx8XCJzdHJpbmcgcGFyYW1cIixcIjogTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFtcIikuY29uY2F0KGksXCIsXCIpLmNvbmNhdChuLFwiXS5cIikuY29uY2F0KHI/XCIgQVNDSUkgY2hhcmFjdGVycyBvbmx5LlwiOlwiXCIpKX1mdW5jdGlvbiBIZyhlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0LFwiIHNob3VsZCBiZSBhbiBhcnJheVwiKSl9ZnVuY3Rpb24gS2coZSl7cmV0dXJuIG51bGw9PWV9ZnVuY3Rpb24gWWcoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MjU1LG49IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg8PWkmJmUubGVuZ3RoPj10JiYoIW58fGZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiExO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9MSl7Y29uc3QgaT1lLmNoYXJDb2RlQXQodCk7aWYoaTwwfHxpPjI1NSlyZXR1cm4hMX1yZXR1cm4hMH0oZSkpfWZ1bmN0aW9uIHFnKGUsdCxpKXtpZihcImdldEJpZ1VpbnQ2NFwiaW4gRGF0YVZpZXcucHJvdG90eXBlKXJldHVybiBlLmdldEJpZ1VpbnQ2NCh0LGkpO2NvbnN0IG49ZS5nZXRVaW50MzIodCxpKSxyPWUuZ2V0VWludDMyKHQrNCxpKSxzPU51bWJlcighIWkpLG89TnVtYmVyKCFpKTtyZXR1cm4gQmlnSW50KG4qbytyKnMpPDxCaWdJbnQoMzIpfEJpZ0ludChuKnMrcipvKX1mdW5jdGlvbiBKZyhlLHQsaSxuKXtpZihcInNldEJpZ1VpbnQ2NFwiaW4gRGF0YVZpZXcucHJvdG90eXBlKXJldHVybiBlLnNldEJpZ1VpbnQ2NCh0LGksbik7Y29uc3Qgcj1OdW1iZXIoaT4+QmlnSW50KDMyKSkscz1OdW1iZXIoaSZCaWdJbnQoNDI5NDk2NzI5NSkpO24/KGUuc2V0VWludDMyKHQrNCxyLG4pLGUuc2V0VWludDMyKHQscyxuKSk6KGUuc2V0VWludDMyKHQscixuKSxlLnNldFVpbnQzMih0KzQscyxuKSl9dmFyIHpnLFhnOyFmdW5jdGlvbihlKXtlLkNPVkVSRUQ9XCJDT1ZFUkVEXCIsZS5QT1NJVElPTj1cIlBPU0lUSU9OXCIsZS5TSVpFPVwiU0laRVwiLGUuU1RZTEU9XCJTVFlMRVwifSh6Z3x8KHpnPXt9KSksZnVuY3Rpb24oZSl7ZS5VTk1PVU5URUQ9XCJVTk1PVU5URURcIixlLklOVkFMSURfSFRNTF9FTEVNRU5UPVwiSU5WQUxJRF9IVE1MX0VMRU1FTlRcIn0oWGd8fChYZz17fSkpO2NvbnN0IFFnPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJfY2xpZW50U2l6ZVwiLG51bGwpLG51KHRoaXMsXCJnZXRDbGllbnRXaWR0aFwiLCgoKT0+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50P2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDpkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSksbnUodGhpcyxcImdldENsaWVudEhlaWdodFwiLCgoKT0+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50P2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpKSxudSh0aGlzLFwiZ2V0U3R5bGVcIiwoZT0+d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKSkpLG51KHRoaXMsXCJjaGVja0Nzc1Zpc2libGVQcm9wZXJ0eVwiLChlPT57dmFyIHQ7bGV0IGk9ITA7Y29uc3Qgbj10aGlzLmdldFN0eWxlKGUpLHtkaXNwbGF5OnIsdmlzaWJpbGl0eTpzLG9wYWNpdHk6byxmaWx0ZXI6YX09bjtpZigoXCJub25lXCI9PT1yfHxQcih0PVtcImhpZGRlblwiLFwiY29sbGFwc2VcIl0pLmNhbGwodCxzKXx8TnVtYmVyKG8pPC4xKSYmKGk9ITEpLCFpKXJldHVybiExO2lmKGEpe2Euc3BsaXQoXCIgXCIpLmZpbHRlcigoZT0+e3ZhciB0O2NvbnN0IGk9ZS5zcGxpdChcIihcIilbMF07cmV0dXJuIFByKHQ9W1wiYnJpZ2h0bmVzc1wiLFwiYmx1clwiLFwib3BhY2l0eVwiXSkuY2FsbCh0LGkpfSkpLm1hcCgoZT0+e2NvbnN0W3QsaV09ZS5zcGxpdCgvXFwofFxcKS8pO3JldHVyblt0LE51bWJlcihpLm1hdGNoKC9eWzAtOVxcLl0rLykpXX0pKS5mb3JFYWNoKChlPT57Y29uc3RbdCxuXT1lO3N3aXRjaCh0KXtjYXNlXCJicmlnaHRuZXNzXCI6KG48LjF8fG4+MykmJihpPSExKTticmVhaztjYXNlXCJibHVyXCI6bj4zJiYoaT0hMSk7YnJlYWs7Y2FzZVwib3BhY2l0eVwiOm48LjEmJihpPSExKX19KSl9cmV0dXJuIGl9KSksbnUodGhpcyxcImNoZWNrUHJvcGVydHlVcFRvQWxsUGFyZW50Tm9kZXNcIiwoKGUsdCk9PntsZXQgaT0hMCxuPSEwO2NvbnN0IHI9ZT0+dChlKTtsZXQgcz1lO2Zvcig7cyYmbjspe3Iocyl8fChpPSExLG49ITEpLHM9cy5wYXJlbnRFbGVtZW50LHN8fChuPSExKX1yZXR1cm4gaX0pKSxudSh0aGlzLFwiY2hlY2tBY3R1YWxDc3NWaXNpYmxlSW5jbHVkZUluaGVyaXRcIiwoZT0+dGhpcy5jaGVja1Byb3BlcnR5VXBUb0FsbFBhcmVudE5vZGVzKGUsdGhpcy5jaGVja0Nzc1Zpc2libGVQcm9wZXJ0eSkpKSxudSh0aGlzLFwiZ2V0U2l6ZUFib3V0Q2xpZW50XCIsKGU9Pntjb25zdHt3aWR0aDp0LGhlaWdodDppLGxlZnQ6bixyaWdodDpyLHRvcDpzLGJvdHRvbTpvfT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9dGhpcy5nZXRDbGllbnRXaWR0aCgpLGM9dGhpcy5nZXRDbGllbnRIZWlnaHQoKTtyZXR1cm57d2lkdGg6dCxoZWlnaHQ6aSxsZWZ0Om4scmlnaHQ6cix0b3A6cyxib3R0b206byxjbGllbnRXaWR0aDphLGNsaWVudEhlaWdodDpjLGNsaWVudE1pbjpNYXRoLm1pbihhLGMpfX0pKSxudSh0aGlzLFwiY2hlY2tBY3R1YWxTaXplXCIsKCgpPT57Y29uc3R7d2lkdGg6ZSxoZWlnaHQ6dCxjbGllbnRNaW46aX09dGhpcy5fY2xpZW50U2l6ZTtyZXR1cm4gdGhpcy5jaGVja1NpemVJc1Zpc2libGUoZSx0LGkpfSkpLG51KHRoaXMsXCJlbGVtZW50RnJvbVBvaW50XCIsKChlLHQpPT5kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50P2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZSx0KTpudWxsKSksbnUodGhpcyxcImNoZWNrQ292ZXJGb3JBUG9pbnRcIiwoKGUsdCxpKT0+e2NvbnN0IG49dGhpcy5lbGVtZW50RnJvbVBvaW50KGUsdCk7cmV0dXJuIG51bGwhPT1uJiZuIT09aX0pKSxudSh0aGlzLFwiZ2V0UG9pbnRQb3NpdGlvbkxpc3RcIiwoKCk9Pntjb25zdHt3aWR0aDplLGhlaWdodDp0LGxlZnQ6aSx0b3A6bn09dGhpcy5fY2xpZW50U2l6ZSxyPWUvNixzPXQvNixvPVtdLGE9MTAqKjY7Zm9yKGxldCBlPTA7ZTw1O2UrKylmb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBjPShpKmErKDA9PT1lPy4xOjQ9PT1lPyhyKmUqYS0xZTUpL2E6ciplKSphKS9hLGQ9KG4qYSsoMD09PXQ/LjE6ND09PXQ/KHMqdCphLTFlNSkvYTpzKnQpKmEpL2E7by5wdXNoKHt4OmMseTpkfSl9cmV0dXJuWy4uLm9dfSkpLG51KHRoaXMsXCJjaGVja0VsZW1lbnRDb3ZlclwiLChlPT50aGlzLmdldFBvaW50UG9zaXRpb25MaXN0KCkubWFwKCh0PT50aGlzLmNoZWNrQ292ZXJGb3JBUG9pbnQodC54LHQueSxlKSkpLmZpbHRlcigoZT0+ISFlKSkubGVuZ3RoPjYpKSxudSh0aGlzLFwiY2hlY2tTaXplSXNWaXNpYmxlXCIsKChlLHQsaSk9PihlPjUwfHxpL2U8PTEwKSYmKHQ+NTB8fGkvdDw9MTApKSksbnUodGhpcyxcImNoZWNrU2l6ZU9mUGFydEluQ2xpZW50XCIsKCgpPT57Y29uc3R7bGVmdDplLHJpZ2h0OnQsdG9wOmksYm90dG9tOm4sY2xpZW50SGVpZ2h0OnIsY2xpZW50V2lkdGg6cyxjbGllbnRNaW46b309dGhpcy5fY2xpZW50U2l6ZTtsZXQgYSxjLGQsbDtpZihlPDApYT0wO2Vsc2V7aWYoIShlPHMpKXJldHVybiExO2E9ZX1pZih0PDApcmV0dXJuITE7aWYoYz10PHM/dDpzLGk8MClkPTA7ZWxzZXtpZighKGk8cikpcmV0dXJuITE7ZD1pfWlmKG48MClyZXR1cm4hMTtsPW48cj9uOnI7Y29uc3QgaD1jLWEsdT1sLWQ7cmV0dXJuIHRoaXMuY2hlY2tTaXplSXNWaXNpYmxlKGgsdSxvKX0pKSxudSh0aGlzLFwicmV0dXJuSGlkZGVuUmVzdWx0XCIsKGU9Pih0aGlzLl9jbGllbnRTaXplPW51bGwse3Zpc2libGU6ITEscmVhc29uOmV9KSkpLG51KHRoaXMsXCJjaGVja09uZUVsZW1lbnRWaXNpYmxlXCIsKGU9PntpZihlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2lmKHRoaXMuY2hlY2tFbGVtZW50SXNNb3VudGVkT25Eb20oZSkpe2lmKHRoaXMuY2hlY2tBY3R1YWxDc3NWaXNpYmxlSW5jbHVkZUluaGVyaXQoZSkpe2lmKHRoaXMuX2NsaWVudFNpemU9dGhpcy5nZXRTaXplQWJvdXRDbGllbnQoZSksdGhpcy5jaGVja0VsZW1lbnRDb3ZlcihlKSlyZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoemcuQ09WRVJFRCk7e2NvbnN0IGU9dGhpcy5jaGVja0FjdHVhbFNpemUoKSx0PXRoaXMuY2hlY2tTaXplT2ZQYXJ0SW5DbGllbnQoKTtyZXR1cm4gZSYmIXQ/dGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoemcuUE9TSVRJT04pOmU/KHRoaXMuX2NsaWVudFNpemU9bnVsbCx7dmlzaWJsZTohMH0pOnRoaXMucmV0dXJuSGlkZGVuUmVzdWx0KHpnLlNJWkUpfX1yZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoemcuU1RZTEUpfXJldHVybiB0aGlzLnJldHVybkhpZGRlblJlc3VsdChYZy5VTk1PVU5URUQpfXJldHVybiB0aGlzLnJldHVybkhpZGRlblJlc3VsdChYZy5JTlZBTElEX0hUTUxfRUxFTUVOVCl9KSksbnUodGhpcyxcImNoZWNrRWxlbWVudElzTW91bnRlZE9uRG9tXCIsKGU9PnRoaXMuY2hlY2tQcm9wZXJ0eVVwVG9BbGxQYXJlbnROb2RlcyhlLChlPT5cIkhUTUxcIiE9PWUubm9kZU5hbWUudG9VcHBlckNhc2UoKT9udWxsIT09ZS5wYXJlbnRFbGVtZW50OiEhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkpKX19O2Z1bmN0aW9uIFpnKGUpe3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKX1jb25zdCAkZz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoK3QuYnl0ZUxlbmd0aCk7cmV0dXJuIGkuc2V0KG5ldyBVaW50OEFycmF5KGUpLDApLGkuc2V0KG5ldyBVaW50OEFycmF5KHQpLGUuYnl0ZUxlbmd0aCksaX07Y29uc3QgZVQ9YXN5bmMgZT0+e2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD13aW5kb3cuYXRvYihlKSxpPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0Lmxlbmd0aCkpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9MSlpW2VdPXQuY2hhckNvZGVBdChlKTtyZXR1cm4gaX0oXCJNSUdmTUEwR0NTcUdTSWIzRFFFQkFRVUFBNEdOQURDQmlRS0JnUURDTW5YQUhrS0lHQU0reDROMjJnQ0krV3l1XFxuU1RNOXp0a1QzdVlzbFRUMlB1S21aZlB6aEg2a1ZkTzdQVGpHQ09abkFzeWIzb1R0V2F0MEtjeFE0anh2cVFWK1xcbkh2WWwzaUkxWWQ0dmwyYzNxUk1KUEx0UkRmTnhhMk1jeGdxN2U5YUVVaWJ6ZGQwc3QrT0pBeTN0T2ovWTBhVnlcXG54UWlZRHozdnFhNmJQMjlhZHdJREFRQUJcIiksaT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJzcGtpXCIsdCx7bmFtZTpcIlJTQS1PQUVQXCIsaGFzaDpcIlNIQS0yNTZcIn0sITAsW1wiZW5jcnlwdFwiXSksbj1aZyhlKSxyPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJSU0EtT0FFUFwifSxpLG4pO3JldHVybiBmdW5jdGlvbihlKXtsZXQgdD1cIlwiO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSs9MSl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbaV0pO3JldHVybiB3aW5kb3cuYnRvYSh0KX0obmV3IFVpbnQ4QXJyYXkocikpfSx0VD1hc3luYyBlPT5mdW5jdGlvbihlLHQpe2xldCBpPVwiXCI7cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpLmZvckVhY2goKGU9PntpKz1lLnRvU3RyaW5nKHQpLnBhZFN0YXJ0KDIsXCIwXCIpfSkpLGl9KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLFpnKGUpKSwxNik7Y2xhc3MgaVR7Y29uc3RydWN0b3IoKXtudSh0aGlzLFwiX2V2ZW50c1wiLHt9KSxudSh0aGlzLFwiYWRkTGlzdGVuZXJcIix0aGlzLm9uKX1nZXRMaXN0ZW5lcnMoZSl7cmV0dXJuIHRoaXMuX2V2ZW50c1tlXT90aGlzLl9ldmVudHNbZV0ubWFwKChlPT5lLmxpc3RlbmVyKSk6W119b24oZSx0KXt0aGlzLl9ldmVudHNbZV18fCh0aGlzLl9ldmVudHNbZV09W10pO2NvbnN0IGk9dGhpcy5fZXZlbnRzW2VdOy0xPT09dGhpcy5faW5kZXhPZkxpc3RlbmVyKGksdCkmJmkucHVzaCh7bGlzdGVuZXI6dCxvbmNlOiExfSl9b25jZShlLHQpe3RoaXMuX2V2ZW50c1tlXXx8KHRoaXMuX2V2ZW50c1tlXT1bXSk7Y29uc3QgaT10aGlzLl9ldmVudHNbZV07LTE9PT10aGlzLl9pbmRleE9mTGlzdGVuZXIoaSx0KSYmaS5wdXNoKHtsaXN0ZW5lcjp0LG9uY2U6ITB9KX1vZmYoZSx0KXtpZighdGhpcy5fZXZlbnRzW2VdKXJldHVybjtjb25zdCBpPXRoaXMuX2V2ZW50c1tlXSxuPXRoaXMuX2luZGV4T2ZMaXN0ZW5lcihpLHQpOy0xIT09biYmaS5zcGxpY2UobiwxKSwwPT09dGhpcy5fZXZlbnRzW2VdLmxlbmd0aCYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXX1yZW1vdmVBbGxMaXN0ZW5lcnMoZSl7ZT9kZWxldGUgdGhpcy5fZXZlbnRzW2VdOnRoaXMuX2V2ZW50cz17fX1lbWl0KGUpe3RoaXMuX2V2ZW50c1tlXXx8KHRoaXMuX2V2ZW50c1tlXT1bXSk7Y29uc3QgdD10aGlzLl9ldmVudHNbZV0ubWFwKChlPT5lKSk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSs9MSl7Y29uc3Qgcj10W2ldO3Iub25jZSYmdGhpcy5vZmYoZSxyLmxpc3RlbmVyKSxyLmxpc3RlbmVyLmFwcGx5KHRoaXMsbnx8W10pfX1zYWZlRW1pdChlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0PjE/dC0xOjApLG49MTtuPHQ7bisrKWlbbi0xXT1hcmd1bWVudHNbbl07Wy4uLnRoaXMuX2V2ZW50c1tlXXx8W11dLmZvckVhY2goKHQ9Pnt0Lm9uY2UmJnRoaXMub2ZmKGUsdC5saXN0ZW5lcik7dHJ5e3QubGlzdGVuZXIuYXBwbHkodGhpcyxpKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFwic2FmZUVtaXQgZXZlbnQ6XCIuY29uY2F0KGUsXCIgZXJyb3IgXCIpLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0LnRvU3RyaW5nKCkpKX19KSl9X2luZGV4T2ZMaXN0ZW5lcihlLHQpe2xldCBpPWUubGVuZ3RoO2Zvcig7aS0tOylpZihlW2ldLmxpc3RlbmVyPT09dClyZXR1cm4gaTtyZXR1cm4tMX19bGV0IG5UPW51bGw7ZnVuY3Rpb24gclQoKXtpZihuVClyZXR1cm4gblQ7aWYod2luZG93LmVsZWN0cm9uKXJldHVybiBuVD13aW5kb3cuZWxlY3Ryb247aWYoIXdpbmRvdy5yZXF1aXJlKXJldHVybiBudWxsO3RyeXtyZXR1cm4gblQ9d2luZG93LnJlcXVpcmUoXCJlbGVjdHJvblwiKSxuVH1jYXRjaChlKXtyZXR1cm4gbnVsbH19dmFyIHNULG9ULGFULGNULGRULGxULGhULHVUO2Z1bmN0aW9uIHBUKGUpe3JldHVybiBqZyhlLnRpbWVvdXQsXCJjb25maWcudGltZW91dFwiLDAsMWU1KSxqZyhlLnRpbWVvdXRGYWN0b3IsXCJjb25maWcudGltZW91dEZhY3RvclwiLDAsMTAwLCExKSxqZyhlLm1heFJldHJ5Q291bnQsXCJjb25maWcubWF4UmV0cnlDb25maWdcIiwwLDEvMCksamcoZS5tYXhSZXRyeVRpbWVvdXQsXCJjb25maWcubWF4UmV0cnlUaW1lb3V0XCIsMCwxLzApLCEwfWZ1bmN0aW9uIF9UKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpfHxlLmxlbmd0aDwxKXJldHVybiExO3RyeXtlLmZvckVhY2goKGU9PntpZighZS51cmxzKXRocm93IEVycm9yKCl9KSl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gRVQoZSl7cmV0dXJuIFdnKGUudHVyblNlcnZlclVSTCxcInR1cm5TZXJ2ZXJVUkxcIiksV2coZS51c2VybmFtZSxcInVzZXJuYW1lXCIpLFdnKGUucGFzc3dvcmQsXCJwYXNzd29yZFwiKSxlLnVkcHBvcnQmJmpnKGUudWRwcG9ydCxcInVkcHBvcnRcIiwxLDk5OTk5LCEwKSxlLmZvcmNldHVybiYmRmcoZS5mb3JjZXR1cm4sXCJmb3JjZXR1cm5cIiksZS5zZWN1cml0eSYmRmcoZS5zZWN1cml0eSxcInNlY3VyaXR5XCIpLGUudGNwcG9ydCYmamcoZS50Y3Bwb3J0LFwidGNwcG9ydFwiLDEsOTk5OTksITApLCEwfWZ1bmN0aW9uIG1UKGUpe3JldHVybiB2b2lkIDAhPT1lLmxldmVsJiZCZyhlLmxldmVsLFwibGV2ZWxcIixbMSwyLDNdKSx2b2lkIDAhPT1lLmRlbGF5JiZqZyhlLmRlbGF5LFwiZGVsYXlcIiwwLDNlMywhMCksITB9ZnVuY3Rpb24gZlQoZSx0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShpPjI/aS0yOjApLHI9MjtyPGk7cisrKW5bci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIDA9PT1lLmdldExpc3RlbmVycyh0KS5sZW5ndGg/dGcucmVqZWN0KG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBlbWl0IHByb21pc2VcIikpOm5ldyB0ZygoKGkscik9PntlLmVtaXQodCwuLi5uLGkscil9KSl9ZnVuY3Rpb24gZ1QoZSx0KXtpZigwPT09ZS5nZXRMaXN0ZW5lcnModCkubGVuZ3RoKXJldHVybiB0Zy5yZXNvbHZlKCk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4yP2ktMjowKSxyPTI7cjxpO3IrKyluW3ItMl09YXJndW1lbnRzW3JdO3JldHVybiBmVChlLHQsLi4ubil9ZnVuY3Rpb24gVFQoZSx0KXtpZigwPT09ZS5nZXRMaXN0ZW5lcnModCkubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGk+Mj9pLTI6MCkscj0yO3I8aTtyKyspbltyLTJdPWFyZ3VtZW50c1tyXTtyZXR1cm4gU1QoZSx0LC4uLm4pfWZ1bmN0aW9uIFNUKGUsdCl7bGV0IGk9bnVsbCxuPW51bGw7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkocj4yP3ItMjowKSxvPTI7bzxyO28rKylzW28tMl09YXJndW1lbnRzW29dO2lmKGUuZW1pdCh0LC4uLnMsKGU9PntpPWV9KSwoZT0+e249ZX0pKSxudWxsIT09bil0aHJvdyBuO2lmKG51bGw9PT1pKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiaGFuZGxlciBpcyBub3Qgc3luY1wiKTtyZXR1cm4gaX0hZnVuY3Rpb24oZSl7ZS5DUkVBVEVfQ0xJRU5UPVwiY3JlYXRlQ2xpZW50XCIsZS5DSEVDS19TWVNURU1fUkVRVUlSRU1FTlRTPVwiY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHNcIixlLlNFVF9BUkVBPVwic2V0QXJlYVwiLGUuQ0hFQ0tfVklERU9fVFJBQ0tfSVNfQUNUSVZFPVwiY2hlY2tWaWRlb1RyYWNrSXNBY3RpdmVcIixlLkNIRUNLX0FVRElPX1RSQUNLX0lTX0FDVElWRT1cImNoZWNrQXVkaW9UcmFja0lzQWN0aXZlXCIsZS5DUkVBVEVfTUlDX0FVRElPX1RSQUNLPVwiY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2tcIixlLkNSRUFURV9DVVNUT01fQVVESU9fVFJBQ0s9XCJjcmVhdGVDdXN0b21BdWRpb1RyYWNrXCIsZS5DUkVBVEVfQlVGRkVSX0FVRElPX1RSQUNLPVwiY3JlYXRlQnVmZmVyU291cmNlQXVkaW9UcmFja1wiLGUuQ1JFQVRFX0NBTV9WSURFT19UUkFDSz1cImNyZWF0ZUNhbWVyYVZpZGVvVHJhY2tcIixlLkNSRUFURV9DVVNUT01fVklERU9fVFJBQ0s9XCJjcmVhdGVDdXN0b21WaWRlb1RyYWNrXCIsZS5DUkVBVEVfTUlDX0FORF9DQU1fVFJBQ0tTPVwiY3JlYXRlTWljcm9waG9uZUFuZENhbWVyYVRyYWNrc1wiLGUuQ1JFQVRFX1NDUkVFTl9WSURFT19UUkFDSz1cImNyZWF0ZVNjcmVlblZpZGVvVHJhY2tcIixlLlNFVF9FTkNSWVBUSU9OX0NPTkZJRz1cIkNsaWVudC5zZXRFbmNyeXB0aW9uQ29uZmlnXCIsZS5TVEFSVF9QUk9YWV9TRVJWRVI9XCJDbGllbnQuc3RhcnRQcm94eVNlcnZlclwiLGUuU1RPUF9QUk9YWV9TRVJWRVI9XCJDbGllbnQuc3RvcFByb3h5U2VydmVyXCIsZS5TRVRfUFJPWFlfU0VSVkVSPVwiQ2xpZW50LnNldFByb3h5U2VydmVyXCIsZS5TRVRfVFVSTl9TRVJWRVI9XCJDbGllbnQuc2V0VHVyblNlcnZlclwiLGUuU0VUX0NMSUVOVF9ST0xFPVwiQ2xpZW50LnNldENsaWVudFJvbGVcIixlLlNFVF9MT1dfU1RSRUFNX1BBUkFNRVRFUj1cIkNsaWVudC5zZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIixlLkVOQUJMRV9EVUFMX1NUUkVBTT1cIkNsaWVudC5lbmFibGVEdWFsU3RyZWFtXCIsZS5ESVNBQkxFX0RVQUxfU1RSRUFNPVwiQ2xpZW50LmRpc2FibGVEdWFsU3RyZWFtXCIsZS5KT0lOPVwiQ2xpZW50LmpvaW5cIixlLkxFQVZFPVwiQ2xpZW50LmxlYXZlXCIsZS5QVUJMSVNIPVwiQ2xpZW50LnB1Ymxpc2hcIixlLlVOUFVCTElTSD1cIkNsaWVudC51bnB1Ymxpc2hcIixlLlNVQlNDUklCRT1cIkNsaWVudC5zdWJzY3JpYmVcIixlLk1BU1NfU1VCU0NSSUJFPVwiQ2xpZW50Lm1hc3NTdWJzY3JpYmVcIixlLk1BU1NfVU5TVUJTQ1JJQkU9XCJDbGllbnQubWFzc1Vuc3Vic2NyaWJlXCIsZS5VTlNVQlNDUklCRT1cIkNsaWVudC51bnN1YnNjcmliZVwiLGUuUkVORVdfVE9LRU49XCJDbGllbnQucmVuZXdUb2tlblwiLGUuU0VUX1JFTU9URV9WSURFT19TVFJFQU1fVFlQRT1cIkNsaWVudC5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGVcIixlLlNFVF9TVFJFQU1fRkFMTEJBQ0tfT1BUSU9OPVwiQ2xpZW50LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uXCIsZS5FTkFCTEVfQVVESU9fVk9MVU1FX0lORElDQVRPUj1cIkNsaWVudC5lbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvclwiLGUuU0VORF9DVVNUT01fUkVQT1JUX01FU1NBR0U9XCJDbGllbnQuc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2VcIixlLklOU1BFQ1RfVklERU9fQ09OVEVOVD1cIkNsaWVudC5pbnNwZWN0VmlkZW9Db250ZW50XCIsZS5TVE9QX0lOU1BFQ1RfVklERU9fQ09OVEVOVD1cIkNsaWVudC5zdG9wSW5zcGVjdFZpZGVvQ29udGVudFwiLGUuSk9JTl9GQUxMQkFDS19UT19QUk9YWT1cIkNsaWVudC5fam9pbkZhbGxiYWNrVG9Qcm94eVwiLGUuREFUQUNIQU5ORUxfRkFJTEJBQ0s9XCJDbGllbnQuX2RhdGFjaGFubmVsRmFpbGJhY2tcIixlLk9OX0xJVkVfU1RSRUFNX1dBUk5JTkc9XCJDbGllbnQub25MaXZlU3RyZWFtV2FybmluZ1wiLGUuT05fTElWRV9TVFJFQU1fRVJST1I9XCJDbGllbnQub25MaXZlU3RyZWFtaW5nRXJyb3JcIixlLlNUQVJUX0xJVkVfU1RSRUFNSU5HPVwiQ2xpZW50LnN0YXJ0TGl2ZVN0cmVhbWluZ1wiLGUuU0VUX0xJVkVfVFJBTlNDT0RJTkc9XCJDbGllbnQuc2V0TGl2ZVRyYW5zY29kaW5nXCIsZS5TVE9QX0xJVkVfU1RSRUFNSU5HPVwiQ2xpZW50LnN0b3BMaXZlU3RyZWFtaW5nXCIsZS5BRERfSU5KRUNUX1NUUkVBTV9VUkw9XCJDbGllbnQuYWRkSW5qZWN0U3RyZWFtVXJsXCIsZS5SRU1PVkVfSU5KRUNUX1NUUkVBTV9VUkw9XCJDbGllbnQucmVtb3ZlSW5qZWN0U3RyZWFtVXJsXCIsZS5TVEFSVF9DSEFOTkVMX01FRElBX1JFTEFZPVwiQ2xpZW50LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXlcIixlLlVQREFURV9DSEFOTkVMX01FRElBX1JFTEFZPVwiQ2xpZW50LnVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5XCIsZS5TVE9QX0NIQU5ORUxfTUVESUFfUkVMQVk9XCJDbGllbnQuc3RvcENoYW5uZWxNZWRpYVJlbGF5XCIsZS5SRVFVRVNUX0NPTkZJR19ESVNUUklCVVRFPVwiX2NvbmZpZy1kaXN0cmlidXRlLXJlcXVlc3RcIixlLlNFVF9DT05GSUdfRElTVFJJQlVURT1cIl9jb25maWdEaXN0cmlidXRlXCIsZS5MT0NBTF9UUkFDS19TRVRfTVVURUQ9XCJMb2NhbFRyYWNrLnNldE11dGVcIixlLkxPQ0FMX0FVRElPX1RSQUNLX1BMQVk9XCJMb2NhbEF1ZGlvVHJhY2sucGxheVwiLGUuTE9DQUxfQVVESU9fVFJBQ0tfUExBWV9JTl9FTEVNRU5UPVwiTG9jYWxBdWRpb1RyYWNrLnBsYXlJbkVsZW1lbnRcIixlLkxPQ0FMX0FVRElPX1RSQUNLX1NUT1A9XCJMb2NhbEF1ZGlvVHJhY2suc3RvcFwiLGUuTE9DQUxfQVVESU9fVFJBQ0tfU0VUX1ZPTFVNRT1cIkxvY2FsQXVkaW9UcmFjay5zZXRWb2x1bWVcIixlLk1JQ19BVURJT19UUkFDS19TRVRfREVWSUNFPVwiTWljcm9waG9uZUF1ZGlvVHJhY2suc2V0RGV2aWNlXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfU1RBUlQ9XCJCdWZmZXJTb3VyY2VBdWRpb1RyYWNrLnN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfU1RPUD1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc3RvcFByb2Nlc3NBdWRpb0J1ZmZlclwiLGUuQlVGRkVSX0FVRElPX1RSQUNLX1BBVVNFPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlclwiLGUuQlVGRkVSX0FVRElPX1RSQUNLX1JFU1VNRT1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2sucmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfU0VFSz1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc2Vla0F1ZGlvQnVmZmVyXCIsZS5MT0NBTF9WSURFT19UUkFDS19QTEFZPVwiTG9jYWxWaWRlb1RyYWNrLnBsYXlcIixlLkxPQ0FMX1ZJREVPX1RSQUNLX1NUT1A9XCJMb2NhbFZpZGVvVHJhY2suc3RvcFwiLGUuTE9DQUxfVklERU9fVFJBQ0tfR0VUX1ZJREVPX1ZJU0lCTEU9XCJMb2NhbFZpZGVvVHJhY2suZ2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1c1wiLGUuTE9DQUxfVklERU9fVFJBQ0tfQkVBVVRZPVwiTG9jYWxWaWRlb1RyYWNrLnNldEJlYXV0eUVmZmVjdFwiLGUuQ0FNX1ZJREVPX1RSQUNLX1NFVF9ERVZJQ0U9XCJDYW1lcmFWaWRlb1RyYWNrLnNldERldmljZVwiLGUuQ0FNX1ZJREVPX1RSQUNLX1NFVF9FTkNPREVSX0NPTkZJRz1cIkNhbWVyYVZpZGVvVHJhY2suc2V0RW5jb2RlckNvbmZpZ3VyYXRpb25cIixlLlJFTU9URV9WSURFT19UUkFDS19QTEFZPVwiUmVtb3RlVmlkZW9UcmFjay5wbGF5XCIsZS5SRU1PVEVfVklERU9fVFJBQ0tfU1RPUD1cIlJlbW90ZVZpZGVvVHJhY2suc3RvcFwiLGUuUkVNT1RFX1ZJREVPX1RSQUNLX0dFVF9WSURFT19WSVNJQkxFPVwiUmVtb3RlVmlkZW9UcmFjay5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzXCIsZS5SRU1PVEVfQVVESU9fVFJBQ0tfUExBWT1cIlJlbW90ZUF1ZGlvVHJhY2sucGxheVwiLGUuUkVNT1RFX0FVRElPX1RSQUNLX1NUT1A9XCJSZW1vdGVBdWRpb1RyYWNrLnN0b3BcIixlLlJFTU9URV9BVURJT19TRVRfVk9MVU1FPVwiUmVtb3RlQXVkaW9UcmFjay5zZXRWb2x1bWVcIixlLlJFTU9URV9BVURJT19TRVRfT1VUUFVUX0RFVklDRT1cIlJlbW90ZUF1ZGlvVHJhY2suc2V0T3V0cHV0RGV2aWNlXCIsZS5HRVRfTUVESUFfU1RSRUFNX1RSQUNLPVwiVHJhY2suZ2V0TWVkaWFTdHJlYW1UcmFja1wiLGUuU1RSRUFNX1RZUEVfQ0hBTkdFPVwic3RyZWFtVHlwZUNoYW5nZVwiLGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uU3RhdGVDaGFuZ2VcIixlLkxPQURfQ09ORklHX0ZST01fTE9DQUxTVE9SQUdFPVwibG9hZENvbmZpZ0Zyb21Mb2NhbFN0b3JhZ2VcIixlLklNQUdFX01PREVSQVRJT05fVVBMT0FEPVwiaW1hZ2VNb2RlcmF0aW9uVXBsb2FkXCJ9KHNUfHwoc1Q9e30pKSxmdW5jdGlvbihlKXtlLlRSQUNFUj1cInRyYWNlclwifShvVHx8KG9UPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkFVRElFTkNFX0xFVkVMX0xPV19MQVRFTkNZPTFdPVwiQVVESUVOQ0VfTEVWRUxfTE9XX0xBVEVOQ1lcIixlW2UuQVVESUVOQ0VfTEVWRUxfVUxUUkFfTE9XX0xBVEVOQ1k9Ml09XCJBVURJRU5DRV9MRVZFTF9VTFRSQV9MT1dfTEFURU5DWVwiLGVbZS5BVURJRU5DRV9MRVZFTF9TWU5DX0xBVEVOQ1k9M109XCJBVURJRU5DRV9MRVZFTF9TWU5DX0xBVEVOQ1lcIn0oYVR8fChhVD17fSkpLGZ1bmN0aW9uKGUpe2UuTEVBVkU9XCJMRUFWRVwiLGUuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIixlLlNFUlZFUl9FUlJPUj1cIlNFUlZFUl9FUlJPUlwiLGUuVUlEX0JBTk5FRD1cIlVJRF9CQU5ORURcIixlLklQX0JBTk5FRD1cIklQX0JBTk5FRFwiLGUuQ0hBTk5FTF9CQU5ORUQ9XCJDSEFOTkVMX0JBTk5FRFwiLGUuRkFMTEJBQ0s9XCJGQUxMQkFDS1wiLGUuTElDRU5TRV9NSVNTSU5HPVwiTElDRU5TRV9NSVNTSU5HXCIsZS5MSUNFTlNFX0VYUElSRUQ9XCJMSUNFTlNFX0VYUElSRURcIixlLkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRD1cIkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRFwiLGUuTElDRU5TRV9QRVJJT0RfSU5WQUxJRD1cIkxJQ0VOU0VfUEVSSU9EX0lOVkFMSURcIixlLkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0U9XCJMSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXCIsZS5MSUNFTlNFX0lMTEVHQUw9XCJMSUNFTlNFX0lMTEVHQUxcIixlLlRPS0VOX0VYUElSRT1cIlRPS0VOX0VYUElSRVwifShjVHx8KGNUPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsZS5NRURJQV9SRUNPTk5FQ1RfU1RBUlQ9XCJtZWRpYS1yZWNvbm5lY3Qtc3RhcnRcIixlLk1FRElBX1JFQ09OTkVDVF9FTkQ9XCJtZWRpYS1yZWNvbm5lY3QtZW5kXCIsZS5JU19VU0lOR19DTE9VRF9QUk9YWT1cImlzLXVzaW5nLWNsb3VkLXByb3h5XCIsZS5VU0VSX0pPSU5FRD1cInVzZXItam9pbmVkXCIsZS5VU0VSX0xFQVZFRD1cInVzZXItbGVmdFwiLGUuVVNFUl9QVUJMSVNIRUQ9XCJ1c2VyLXB1Ymxpc2hlZFwiLGUuVVNFUl9VTlBVQkxJU0hFRD1cInVzZXItdW5wdWJsaXNoZWRcIixlLlVTRVJfSU5GT19VUERBVEVEPVwidXNlci1pbmZvLXVwZGF0ZWRcIixlLkNMSUVOVF9CQU5ORUQ9XCJjbGllbnQtYmFubmVkXCIsZS5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFPVwiY2hhbm5lbC1tZWRpYS1yZWxheS1zdGF0ZVwiLGUuQ0hBTk5FTF9NRURJQV9SRUxBWV9FVkVOVD1cImNoYW5uZWwtbWVkaWEtcmVsYXktZXZlbnRcIixlLlZPTFVNRV9JTkRJQ0FUT1I9XCJ2b2x1bWUtaW5kaWNhdG9yXCIsZS5DUllQVF9FUlJPUj1cImNyeXB0LWVycm9yXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfV0lMTF9FWFBJUkU9XCJ0b2tlbi1wcml2aWxlZ2Utd2lsbC1leHBpcmVcIixlLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFPVwidG9rZW4tcHJpdmlsZWdlLWRpZC1leHBpcmVcIixlLk5FVFdPUktfUVVBTElUWT1cIm5ldHdvcmstcXVhbGl0eVwiLGUuU1RSRUFNX1RZUEVfQ0hBTkdFRD1cInN0cmVhbS10eXBlLWNoYW5nZWRcIixlLlNUUkVBTV9GQUxMQkFDSz1cInN0cmVhbS1mYWxsYmFja1wiLGUuUkVDRUlWRV9NRVRBREFUQT1cInJlY2VpdmUtbWV0YWRhdGFcIixlLlNUUkVBTV9NRVNTQUdFPVwic3RyZWFtLW1lc3NhZ2VcIixlLkxJVkVfU1RSRUFNSU5HX0VSUk9SPVwibGl2ZS1zdHJlYW1pbmctZXJyb3JcIixlLkxJVkVfU1RSRUFNSU5HX1dBUk5JTkc9XCJsaXZlLXN0cmVhbWluZy13YXJuaW5nXCIsZS5JTkpFQ1RfU1RSRUFNX1NUQVRVUz1cInN0cmVhbS1pbmplY3Qtc3RhdHVzXCIsZS5FWENFUFRJT049XCJleGNlcHRpb25cIixlLkVSUk9SPVwiZXJyb3JcIixlLlAyUF9MT1NUPVwicDJwX2xvc3RcIixlLkpPSU5fRkFMTEJBQ0tfVE9fUFJPWFk9XCJqb2luLWZhbGxiYWNrLXRvLXByb3h5XCIsZS5DSEFOTkVMX0ZBTExCQUNLX1RPX1dFQlNPQ0tFVD1cImNoYW5uZWwtZmFsbGJhY2stdG8td2Vic29ja2V0XCIsZS5NRURJQV9DT05ORUNUSU9OX1RZUEVfQ0hBTkdFPVwibWVkaWEtY29ubmVjdGlvbi10eXBlLWNoYW5nZVwiLGUuUFVCTElTSEVEX1VTRVJfTElTVD1cInB1Ymxpc2hlZC11c2VyLWxpc3RcIixlLkNPTlRFTlRfSU5TUEVDVF9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbnRlbnQtaW5zcGVjdC1jb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLGUuQ09OVEVOVF9JTlNQRUNUX0VSUk9SPVwiY29udGVudC1pbnNwZWN0LWVycm9yXCIsZS5DT05URU5UX0lOU1BFQ1RfUkVTVUxUPVwiY29udGVudC1pbnNwZWN0LXJlc3VsdFwiLGUuSU1BR0VfTU9ERVJBVElPTl9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImltYWdlLW1vZGVyYXRpb24tY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIn0oZFR8fChkVD17fSkpLGZ1bmN0aW9uKGUpe2UuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIixlLlNFUlZFUl9FUlJPUj1cIlNFUlZFUl9FUlJPUlwiLGUuTVVMVElfSVA9XCJNVUxUSV9JUFwiLGUuVElNRU9VVD1cIlRJTUVPVVRcIixlLk9GRkxJTkU9XCJPRkZMSU5FXCIsZS5MRUFWRT1cIkxFQVZFXCIsZS5QMlBfRkFJTEVEPVwiUDJQX0ZBSUxFRFwiLGUuRkFMTEJBQ0s9XCJGQUxMQkFDS1wifShsVHx8KGxUPXt9KSksZnVuY3Rpb24oZSl7ZS5PTkxJTkU9XCJPTkxJTkVcIixlLk9GRkxJTkU9XCJPRkZMSU5FXCJ9KGhUfHwoaFQ9e30pKSxmdW5jdGlvbihlKXtlLk5FVFdPUktfU1RBVEVfQ0hBTkdFPVwiTkVUV09SS19TVEFURV9DSEFOR0VcIixlLk9OTElORT1cIk9OTElORVwiLGUuT0ZGTElORT1cIk9GRkxJTkVcIn0odVR8fCh1VD17fSkpO2NvbnN0IFJUPW5ldyBjbGFzcyBleHRlbmRzIGlUe3NldCBuZXR3b3JrU3RhdGUoZSl7dGhpcy5lbWl0KHVULk5FVFdPUktfU1RBVEVfQ0hBTkdFLGUsdGhpcy5fbmV0d29ya1N0YXRlKSxlPT09aFQuT05MSU5FP3RoaXMuZW1pdCh1VC5PTkxJTkUpOmU9PT1oVC5PRkZMSU5FJiYodGhpcy5vbmxpbmVXYWl0ZXI9bmV3IHRnKChlPT57dGhpcy5vbmNlKHVULk9OTElORSwoKCk9Pnt0aGlzLm9ubGluZVdhaXRlcj12b2lkIDAsZShoVC5PTkxJTkUpfSkpfSkpLHRoaXMuZW1pdCh1VC5PRkZMSU5FKSksdGhpcy5fbmV0d29ya1N0YXRlPWV9Z2V0IG5ldHdvcmtTdGF0ZSgpe3JldHVybiB0aGlzLl9uZXR3b3JrU3RhdGV9Z2V0IGlzT25saW5lKCl7cmV0dXJuIHRoaXMuX25ldHdvcmtTdGF0ZT09PWhULk9OTElORX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksbnUodGhpcyxcIl9tb2R1bGVOYW1lXCIsXCJuZXR3b3JrLWluZGljYXRvclwiKSxudSh0aGlzLFwiX25ldHdvcmtTdGF0ZVwiLGhULk9OTElORSksbnUodGhpcyxcIm9ubGluZVdhaXRlclwiLHZvaWQgMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwoKCk9Pnt0aGlzLm5ldHdvcmtTdGF0ZT1oVC5PTkxJTkV9KSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5uZXR3b3JrU3RhdGU9aFQuT0ZGTElORX0pKX19O2Z1bmN0aW9uIENUKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiB2VChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9DVChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpDVChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBJVChlLHQpe2NvbnN0IGk9ZS5pbmRleE9mKHQpOy0xIT09aSYmZS5zcGxpY2UoaSwxKX1mdW5jdGlvbiB5VChlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PnstMT09PXQuaW5kZXhPZihlKSYmdC5wdXNoKGUpfSkpLHR9ZnVuY3Rpb24gQVQoZSl7dm9pZCAwIT09dGc/dGcucmVzb2x2ZSgpLnRoZW4oZSk6c2V0VGltZW91dChlLDApfWZ1bmN0aW9uIGJUKGUpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX1mdW5jdGlvbiB3VChlKXt0cnl7cmV0dXJuIGJUKGUpfWNhdGNoKHQpe3JldHVybiBlfX1jb25zdCBPVD17fTtmdW5jdGlvbiBOVChlLHQpe09UW3RdfHwoT1RbdF09ITAsZSgpKX1mdW5jdGlvbiBEVChlKXtjb25zdCB0PXdpbmRvdy5hdG9iKGUpLGk9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQubGVuZ3RoKSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKz0xKWlbZV09dC5jaGFyQ29kZUF0KGUpO3JldHVybiBpfWZ1bmN0aW9uIFBUKGUpe2xldCB0PVwiXCI7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKz0xKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtpXSk7cmV0dXJuIHdpbmRvdy5idG9hKHQpfWZ1bmN0aW9uIExUKGUpe3JldHVybiB3aW5kb3cuVGV4dEVuY29kZXI/KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpLmxlbmd0aDplLmxlbmd0aH1mdW5jdGlvbiBrVChlKXtsZXQgdD0wO3JldHVybi9EaW5nVGFsay9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJmUucmVhbEZvcm1EYXRhJiYoZT1lLnJlYWxGb3JtRGF0YSksZS5mb3JFYWNoKChlPT57dCs9XCJzdHJpbmdcIj09dHlwZW9mIGU/TFQoZSk6ZS5zaXplfSkpLHQrMTM4fWZ1bmN0aW9uIE1UKGUpe2NvbnN0IHQ9bmV3IFZnKHhnLlRJTUVPVVQsXCJ0aW1lb3V0XCIpO3JldHVybiBuZXcgdGcoKChpLG4pPT57d2luZG93LnNldFRpbWVvdXQoKCgpPT5uKHQpKSxlKX0pKX1mdW5jdGlvbiBVVChlKXtyZXR1cm4gbmV3IHRnKCh0PT57d2luZG93LnNldFRpbWVvdXQodCxlKX0pKX1mdW5jdGlvbiB4VCgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTo3LHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7Y29uc3QgaT1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMixlKS50b0xvd2VyQ2FzZSgpO3JldHVybiBpLmxlbmd0aD09PWU/XCJcIi5jb25jYXQodCkuY29uY2F0KGkpOlwiXCIuY29uY2F0KHQpLmNvbmNhdChpKSt4VChlLWkubGVuZ3RoLFwiXCIpfWZ1bmN0aW9uIFZUKCl7cmV0dXJuIHhUKDMyLFwiXCIpLnRvVXBwZXJDYXNlKCl9Y29uc3QgRlQ9KCk9Pnt9O2NvbnN0IEJUPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJmbk1hcFwiLG5ldyBNYXApfXRocm90dGxlQnlLZXkoZSx0LGksbil7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkocj40P3ItNDowKSxvPTQ7bzxyO28rKylzW28tNF09YXJndW1lbnRzW29dO2lmKHRoaXMuZm5NYXAuaGFzKHQpKXtjb25zdCByPXRoaXMuZm5NYXAuZ2V0KHQpO2lmKHIudGhyZXNob2xkIT09aSl7ci5mbiguLi5yLmFyZ3MpLGNsZWFyVGltZW91dChyLnRpbWVyKTtjb25zdCBvPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGU9dGhpcy5mbk1hcC5nZXQodCk7ZSYmZS5mbiguLi5lLmFyZ3MpLHRoaXMuZm5NYXAuZGVsZXRlKHQpfSksaSk7dGhpcy5mbk1hcC5zZXQodCx7Zm46ZSx0aHJlc2hvbGQ6aSx0aW1lcjpvLGFyZ3M6cyxza2lwRm46bn0pfWVsc2Ugci5za2lwRm4mJnIuc2tpcEZuKC4uLnIuYXJncyksdGhpcy5mbk1hcC5zZXQodCx2VCh2VCh7fSxyKSx7fSx7Zm46ZSxhcmdzOnMsc2tpcEZuOm59KSl9ZWxzZXtjb25zdCByPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGU9dGhpcy5mbk1hcC5nZXQodCk7ZSYmZS5mbiguLi5lLmFyZ3MpLHRoaXMuZm5NYXAuZGVsZXRlKHQpfSksaSk7dGhpcy5mbk1hcC5zZXQodCx7Zm46ZSx0aHJlc2hvbGQ6aSx0aW1lcjpyLGFyZ3M6cyxza2lwRm46bn0pfX19LGpUPUJULnRocm90dGxlQnlLZXkuYmluZChCVCk7ZnVuY3Rpb24gR1QoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiYhKGUgaW5zdGFuY2VvZiBSZWdFeHApfWZ1bmN0aW9uIFdUKGUsdCl7aWYoIUdUKGUpfHwhR1QodCkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheShlKSYmIUFycmF5LmlzQXJyYXkodCl8fCFBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkmJkFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IGk9Wy4uLmVdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlbbl09V1QoZVtuXSx0W25dKTtyZXR1cm4gaX17Y29uc3QgaT12VCh7fSxlKTtmb3IoY29uc3QgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbik/aVtuXT1XVChlW25dLHRbbl0pOmlbbl09dFtuXSk7cmV0dXJuIGl9fWxldCBIVD0xLEtUPWNvbnNvbGU7Y2xhc3MgWVR7c3RhdGljIHNldExvZ2dlcihlKXtLVD1lfWNvbnN0cnVjdG9yKGUpe251KHRoaXMsXCJsb2NraW5nUHJvbWlzZVwiLHRnLnJlc29sdmUoKSksbnUodGhpcyxcImxvY2tzXCIsMCksbnUodGhpcyxcIm5hbWVcIixcIlwiKSxudSh0aGlzLFwibG9ja0lkXCIsdm9pZCAwKSx0aGlzLmxvY2tJZD1IVCsrLGUmJih0aGlzLm5hbWU9ZSksS1QuZGVidWcoXCJbbG9jay1cIi5jb25jYXQodGhpcy5uYW1lLFwiLVwiKS5jb25jYXQodGhpcy5sb2NrSWQsXCJdIGlzIGNyZWF0ZWQuXCIpKX1nZXQgaXNMb2NrZWQoKXtyZXR1cm4gdGhpcy5sb2Nrcz4wfWxvY2soZSl7bGV0IHQ7dGhpcy5sb2Nrcys9MSxLVC5kZWJ1ZyhcIltsb2NrLVwiLmNvbmNhdCh0aGlzLm5hbWUsXCItXCIpLmNvbmNhdCh0aGlzLmxvY2tJZCxcIl0gaXMgbG9ja2VkLCBjdXJyZW50IHF1ZXVlIFwiKS5jb25jYXQodGhpcy5sb2NrcyxcIi4gXCIpLmNvbmNhdChcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIpKTtjb25zdCBpPW5ldyB0ZygoaT0+e3Q9KCk9Pnt0aGlzLmxvY2tzLT0xLEtULmRlYnVnKFwiW2xvY2stXCIuY29uY2F0KHRoaXMubmFtZSxcIi1cIikuY29uY2F0KHRoaXMubG9ja0lkLFwiXSBpcyBub3QgbG9ja2VkLCBjdXJyZW50IHF1ZXVlIFwiKS5jb25jYXQodGhpcy5sb2NrcyxcIi4gXCIpLmNvbmNhdChcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIpKSxpKCl9fSkpLG49dGhpcy5sb2NraW5nUHJvbWlzZS50aGVuKCgoKT0+dCkpO3JldHVybiB0aGlzLmxvY2tpbmdQcm9taXNlPXRoaXMubG9ja2luZ1Byb21pc2UudGhlbigoKCk9PmkpKSxufX1mdW5jdGlvbiBxVChlLHQpe3JldHVybiBmdW5jdGlvbihpLG4scil7Y29uc3Qgcz1yLnZhbHVlO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiByLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgaT10aGlzW3RdO2lmKCFpKXRocm93IG5ldyBFcnJvcihcIm11dGV4IHByb3BlcnR5IGtleSBcIi5jb25jYXQodCxcIiBkb2Vzbid0IGV4aXN0IG9uIFwiKS5jb25jYXQoZSkpO2NvbnN0IHI9YXdhaXQgaS5sb2NrKFwiRnJvbSBcIi5jb25jYXQoZSxcIi5cIikuY29uY2F0KG4pKTt0cnl7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkobyksYz0wO2M8bztjKyspYVtjXT1hcmd1bWVudHNbY107cmV0dXJuIGF3YWl0IHMuYXBwbHkodGhpcyxhKX1maW5hbGx5e3IoKX19LHJ9fWNvbnN0IEpUPXt0aW1lb3V0OjUwMCx0aW1lb3V0RmFjdG9yOjEuNSxtYXhSZXRyeUNvdW50OjEvMCxtYXhSZXRyeVRpbWVvdXQ6MWU0fTtmdW5jdGlvbiB6VChlLHQpe2NvbnN0IGk9TWF0aC5mbG9vcih0LnRpbWVvdXQqTWF0aC5wb3codC50aW1lb3V0RmFjdG9yLGUpKTtyZXR1cm4gTWF0aC5taW4odC5tYXhSZXRyeVRpbWVvdXQsaSl9ZnVuY3Rpb24gWFQoZSx0LGksbil7Y29uc3Qgcj1PYmplY3QuYXNzaWduKHt9LEpULG4pO2xldCBzPXIudGltZW91dDtjb25zdCBvPWFzeW5jKCk9Pnthd2FpdCBmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRnKCh0PT57d2luZG93LnNldFRpbWVvdXQodCxlKX0pKX0ocykscyo9ci50aW1lb3V0RmFjdG9yLHM9TWF0aC5taW4oci5tYXhSZXRyeVRpbWVvdXQscyl9O2xldCBhPSExO2NvbnN0IGM9bmV3IHRnKChhc3luYyhuLHMpPT57dD10fHwoKCk9PiExKSxpPWl8fCgoKT0+ITApO2ZvcihsZXQgYz0wO2M8ci5tYXhSZXRyeUNvdW50O2MrPTEpe2lmKGEpcmV0dXJuIHMobmV3IFZnKHhnLk9QRVJBVElPTl9BQk9SVEVEKSk7dHJ5e2NvbnN0IGk9YXdhaXQgZSgpO2lmKCF0KGksYykpcmV0dXJuIG4oaSk7aWYoYysxPT09ci5tYXhSZXRyeUNvdW50KXJldHVybiBuKGkpO2F3YWl0IG8oKX1jYXRjaChlKXtpZighaShlLGMpKXJldHVybiBzKGUpO2lmKGMrMT09PXIubWF4UmV0cnlDb3VudClyZXR1cm4gcyhlKTthd2FpdCBvKCl9fX0pKTtyZXR1cm4gYy5jYW5jZWw9KCk9PmE9ITAsY312YXIgUVQ9VXQsWlQ9ZWksJFQ9WGUsZVM9WW4sdFM9VHlwZUVycm9yLGlTPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LGksbixyKXtRVChpKTt2YXIgcz1aVCh0KSxvPSRUKHMpLGE9ZVMocyksYz1lP2EtMTowLGQ9ZT8tMToxO2lmKG48Milmb3IoOzspe2lmKGMgaW4gbyl7cj1vW2NdLGMrPWQ7YnJlYWt9aWYoYys9ZCxlP2M8MDphPD1jKXRocm93IHRTKFwiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKX1mb3IoO2U/Yz49MDphPmM7Yys9ZCljIGluIG8mJihyPWkocixvW2NdLGMscykpO3JldHVybiByfX0sblM9e2xlZnQ6aVMoITEpLHJpZ2h0OmlTKCEwKX0ubGVmdDtrbih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IUNfJiZTdD43OSYmU3Q8ODN8fCFSdShcInJlZHVjZVwiKX0se3JlZHVjZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoO3JldHVybiBuUyh0aGlzLGUsdCx0PjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIHJTPWVyKFwiQXJyYXlcIikucmVkdWNlLHNTPUVlLG9TPXJTLGFTPUFycmF5LnByb3RvdHlwZSxjUz1KKChmdW5jdGlvbihlKXt2YXIgdD1lLnJlZHVjZTtyZXR1cm4gZT09PWFTfHxzUyhhUyxlKSYmdD09PWFTLnJlZHVjZT9vUzp0fSkpO2xldCBkUz1jbGFzc3tjb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwiaW5wdXRcIixbXSksbnUodGhpcyxcInNpemVcIix2b2lkIDApLHRoaXMuc2l6ZT1lfWFkZChlKXt0aGlzLmlucHV0LnB1c2goZSksdGhpcy5pbnB1dC5sZW5ndGg+dGhpcy5zaXplJiZ0aGlzLmlucHV0LnNwbGljZSgwLDEpfW1lYW4oKXt2YXIgZTtyZXR1cm4gMD09PXRoaXMuaW5wdXQubGVuZ3RoPzA6Y1MoZT10aGlzLmlucHV0KS5jYWxsKGUsKChlLHQpPT5lK3QpKS90aGlzLmlucHV0Lmxlbmd0aH19O3ZhciBsUyxoUz17ZXhwb3J0czp7fX0sdVM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGk9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLG49MDtuPGkubGVuZ3RoO24rKylpW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gZS5hcHBseSh0LGkpfX0scFM9dVMsX1M9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxFUz0obFM9T2JqZWN0LmNyZWF0ZShudWxsKSxmdW5jdGlvbihlKXt2YXIgdD1fUy5jYWxsKGUpO3JldHVybiBsU1t0XXx8KGxTW3RdPXQuc2xpY2UoOCwtMSkudG9Mb3dlckNhc2UoKSl9KTtmdW5jdGlvbiBtUyhlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7cmV0dXJuIEVTKHQpPT09ZX19ZnVuY3Rpb24gZlMoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gZ1MoZSl7cmV0dXJuIHZvaWQgMD09PWV9dmFyIFRTPW1TKFwiQXJyYXlCdWZmZXJcIik7ZnVuY3Rpb24gU1MoZSl7cmV0dXJuIG51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZX1mdW5jdGlvbiBSUyhlKXtpZihcIm9iamVjdFwiIT09RVMoZSkpcmV0dXJuITE7dmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiBudWxsPT09dHx8dD09PU9iamVjdC5wcm90b3R5cGV9dmFyIENTPW1TKFwiRGF0ZVwiKSx2Uz1tUyhcIkZpbGVcIiksSVM9bVMoXCJCbG9iXCIpLHlTPW1TKFwiRmlsZUxpc3RcIik7ZnVuY3Rpb24gQVMoZSl7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09X1MuY2FsbChlKX12YXIgYlM9bVMoXCJVUkxTZWFyY2hQYXJhbXNcIik7ZnVuY3Rpb24gd1MoZSx0KXtpZihudWxsIT1lKWlmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiYoZT1bZV0pLGZTKGUpKWZvcih2YXIgaT0wLG49ZS5sZW5ndGg7aTxuO2krKyl0LmNhbGwobnVsbCxlW2ldLGksZSk7ZWxzZSBmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5jYWxsKG51bGwsZVtyXSxyLGUpfXZhciBPUyxOUz0oT1M9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJk9iamVjdC5nZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSxmdW5jdGlvbihlKXtyZXR1cm4gT1MmJmUgaW5zdGFuY2VvZiBPU30pLERTPXtpc0FycmF5OmZTLGlzQXJyYXlCdWZmZXI6VFMsaXNCdWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiYhZ1MoZSkmJm51bGwhPT1lLmNvbnN0cnVjdG9yJiYhZ1MoZS5jb25zdHJ1Y3RvcikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29uc3RydWN0b3IuaXNCdWZmZXImJmUuY29uc3RydWN0b3IuaXNCdWZmZXIoZSl9LGlzRm9ybURhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9XCJbb2JqZWN0IEZvcm1EYXRhXVwiO3JldHVybiBlJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgRm9ybURhdGEmJmUgaW5zdGFuY2VvZiBGb3JtRGF0YXx8X1MuY2FsbChlKT09PXR8fEFTKGUudG9TdHJpbmcpJiZlLnRvU3RyaW5nKCk9PT10KX0saXNBcnJheUJ1ZmZlclZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KGUpOmUmJmUuYnVmZmVyJiZUUyhlLmJ1ZmZlcil9LGlzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxpc051bWJlcjpmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX0saXNPYmplY3Q6U1MsaXNQbGFpbk9iamVjdDpSUyxpc1VuZGVmaW5lZDpnUyxpc0RhdGU6Q1MsaXNGaWxlOnZTLGlzQmxvYjpJUyxpc0Z1bmN0aW9uOkFTLGlzU3RyZWFtOmZ1bmN0aW9uKGUpe3JldHVybiBTUyhlKSYmQVMoZS5waXBlKX0saXNVUkxTZWFyY2hQYXJhbXM6YlMsaXNTdGFuZGFyZEJyb3dzZXJFbnY6ZnVuY3Rpb24oKXtyZXR1cm4oXCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcnx8XCJSZWFjdE5hdGl2ZVwiIT09bmF2aWdhdG9yLnByb2R1Y3QmJlwiTmF0aXZlU2NyaXB0XCIhPT1uYXZpZ2F0b3IucHJvZHVjdCYmXCJOU1wiIT09bmF2aWdhdG9yLnByb2R1Y3QpJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50KX0sZm9yRWFjaDp3UyxtZXJnZTpmdW5jdGlvbiBlKCl7dmFyIHQ9e307ZnVuY3Rpb24gaShpLG4pe1JTKHRbbl0pJiZSUyhpKT90W25dPWUodFtuXSxpKTpSUyhpKT90W25dPWUoe30saSk6ZlMoaSk/dFtuXT1pLnNsaWNlKCk6dFtuXT1pfWZvcih2YXIgbj0wLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKXdTKGFyZ3VtZW50c1tuXSxpKTtyZXR1cm4gdH0sZXh0ZW5kOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gd1ModCwoZnVuY3Rpb24odCxuKXtlW25dPWkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/cFModCxpKTp0fSkpLGV9LHRyaW06ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbT9lLnRyaW0oKTplLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9LHN0cmlwQk9NOmZ1bmN0aW9uKGUpe3JldHVybiA2NTI3OT09PWUuY2hhckNvZGVBdCgwKSYmKGU9ZS5zbGljZSgxKSksZX0saW5oZXJpdHM6ZnVuY3Rpb24oZSx0LGksbil7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSxuKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGkmJk9iamVjdC5hc3NpZ24oZS5wcm90b3R5cGUsaSl9LHRvRmxhdE9iamVjdDpmdW5jdGlvbihlLHQsaSl7dmFyIG4scixzLG89e307dD10fHx7fTtkb3tmb3Iocj0obj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSkubGVuZ3RoO3ItLSA+MDspb1tzPW5bcl1dfHwodFtzXT1lW3NdLG9bc109ITApO2U9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfXdoaWxlKGUmJighaXx8aShlLHQpKSYmZSE9PU9iamVjdC5wcm90b3R5cGUpO3JldHVybiB0fSxraW5kT2Y6RVMsa2luZE9mVGVzdDptUyxlbmRzV2l0aDpmdW5jdGlvbihlLHQsaSl7ZT1TdHJpbmcoZSksKHZvaWQgMD09PWl8fGk+ZS5sZW5ndGgpJiYoaT1lLmxlbmd0aCksaS09dC5sZW5ndGg7dmFyIG49ZS5pbmRleE9mKHQsaSk7cmV0dXJuLTEhPT1uJiZuPT09aX0sdG9BcnJheTpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD1lLmxlbmd0aDtpZihnUyh0KSlyZXR1cm4gbnVsbDtmb3IodmFyIGk9bmV3IEFycmF5KHQpO3QtLSA+MDspaVt0XT1lW3RdO3JldHVybiBpfSxpc1R5cGVkQXJyYXk6TlMsaXNGaWxlTGlzdDp5U30sUFM9RFM7ZnVuY3Rpb24gTFMoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lM0EvZ2ksXCI6XCIpLnJlcGxhY2UoLyUyNC9nLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUyMC9nLFwiK1wiKS5yZXBsYWNlKC8lNUIvZ2ksXCJbXCIpLnJlcGxhY2UoLyU1RC9naSxcIl1cIil9dmFyIGtTPWZ1bmN0aW9uKGUsdCxpKXtpZighdClyZXR1cm4gZTt2YXIgbjtpZihpKW49aSh0KTtlbHNlIGlmKFBTLmlzVVJMU2VhcmNoUGFyYW1zKHQpKW49dC50b1N0cmluZygpO2Vsc2V7dmFyIHI9W107UFMuZm9yRWFjaCh0LChmdW5jdGlvbihlLHQpe251bGwhPWUmJihQUy5pc0FycmF5KGUpP3QrPVwiW11cIjplPVtlXSxQUy5mb3JFYWNoKGUsKGZ1bmN0aW9uKGUpe1BTLmlzRGF0ZShlKT9lPWUudG9JU09TdHJpbmcoKTpQUy5pc09iamVjdChlKSYmKGU9SlNPTi5zdHJpbmdpZnkoZSkpLHIucHVzaChMUyh0KStcIj1cIitMUyhlKSl9KSkpfSkpLG49ci5qb2luKFwiJlwiKX1pZihuKXt2YXIgcz1lLmluZGV4T2YoXCIjXCIpOy0xIT09cyYmKGU9ZS5zbGljZSgwLHMpKSxlKz0oLTE9PT1lLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiKStufXJldHVybiBlfSxNUz1EUztmdW5jdGlvbiBVUygpe3RoaXMuaGFuZGxlcnM9W119VVMucHJvdG90eXBlLnVzZT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIHRoaXMuaGFuZGxlcnMucHVzaCh7ZnVsZmlsbGVkOmUscmVqZWN0ZWQ6dCxzeW5jaHJvbm91czohIWkmJmkuc3luY2hyb25vdXMscnVuV2hlbjppP2kucnVuV2hlbjpudWxsfSksdGhpcy5oYW5kbGVycy5sZW5ndGgtMX0sVVMucHJvdG90eXBlLmVqZWN0PWZ1bmN0aW9uKGUpe3RoaXMuaGFuZGxlcnNbZV0mJih0aGlzLmhhbmRsZXJzW2VdPW51bGwpfSxVUy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtNUy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsKGZ1bmN0aW9uKHQpe251bGwhPT10JiZlKHQpfSkpfTt2YXIgeFMsVlMsRlM9VVMsQlM9RFM7ZnVuY3Rpb24galMoKXtpZihWUylyZXR1cm4geFM7VlM9MTt2YXIgZT1EUztmdW5jdGlvbiB0KGUsdCxpLG4scil7RXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9ZSx0aGlzLm5hbWU9XCJBeGlvc0Vycm9yXCIsdCYmKHRoaXMuY29kZT10KSxpJiYodGhpcy5jb25maWc9aSksbiYmKHRoaXMucmVxdWVzdD1uKSxyJiYodGhpcy5yZXNwb25zZT1yKX1lLmluaGVyaXRzKHQsRXJyb3Ise3RvSlNPTjpmdW5jdGlvbigpe3JldHVybnttZXNzYWdlOnRoaXMubWVzc2FnZSxuYW1lOnRoaXMubmFtZSxkZXNjcmlwdGlvbjp0aGlzLmRlc2NyaXB0aW9uLG51bWJlcjp0aGlzLm51bWJlcixmaWxlTmFtZTp0aGlzLmZpbGVOYW1lLGxpbmVOdW1iZXI6dGhpcy5saW5lTnVtYmVyLGNvbHVtbk51bWJlcjp0aGlzLmNvbHVtbk51bWJlcixzdGFjazp0aGlzLnN0YWNrLGNvbmZpZzp0aGlzLmNvbmZpZyxjb2RlOnRoaXMuY29kZSxzdGF0dXM6dGhpcy5yZXNwb25zZSYmdGhpcy5yZXNwb25zZS5zdGF0dXM/dGhpcy5yZXNwb25zZS5zdGF0dXM6bnVsbH19fSk7dmFyIGk9dC5wcm90b3R5cGUsbj17fTtyZXR1cm5bXCJFUlJfQkFEX09QVElPTl9WQUxVRVwiLFwiRVJSX0JBRF9PUFRJT05cIixcIkVDT05OQUJPUlRFRFwiLFwiRVRJTUVET1VUXCIsXCJFUlJfTkVUV09SS1wiLFwiRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUU1wiLFwiRVJSX0RFUFJFQ0FURURcIixcIkVSUl9CQURfUkVTUE9OU0VcIixcIkVSUl9CQURfUkVRVUVTVFwiLFwiRVJSX0NBTkNFTEVEXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bZV09e3ZhbHVlOmV9fSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJpc0F4aW9zRXJyb3JcIix7dmFsdWU6ITB9KSx0LmZyb209ZnVuY3Rpb24obixyLHMsbyxhLGMpe3ZhciBkPU9iamVjdC5jcmVhdGUoaSk7cmV0dXJuIGUudG9GbGF0T2JqZWN0KG4sZCwoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1FcnJvci5wcm90b3R5cGV9KSksdC5jYWxsKGQsbi5tZXNzYWdlLHIscyxvLGEpLGQubmFtZT1uLm5hbWUsYyYmT2JqZWN0LmFzc2lnbihkLGMpLGR9LHhTPXR9dmFyIEdTLFdTLEhTLEtTLFlTLHFTLEpTPXtzaWxlbnRKU09OUGFyc2luZzohMCxmb3JjZWRKU09OUGFyc2luZzohMCxjbGFyaWZ5VGltZW91dEVycm9yOiExfTtmdW5jdGlvbiB6Uygpe2lmKFdTKXJldHVybiBHUztXUz0xO3ZhciBlPURTO3JldHVybiBHUz1mdW5jdGlvbih0LGkpe2k9aXx8bmV3IEZvcm1EYXRhO3ZhciBuPVtdO2Z1bmN0aW9uIHIodCl7cmV0dXJuIG51bGw9PT10P1wiXCI6ZS5pc0RhdGUodCk/dC50b0lTT1N0cmluZygpOmUuaXNBcnJheUJ1ZmZlcih0KXx8ZS5pc1R5cGVkQXJyYXkodCk/XCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYj9uZXcgQmxvYihbdF0pOkJ1ZmZlci5mcm9tKHQpOnR9cmV0dXJuIGZ1bmN0aW9uIHQocyxvKXtpZihlLmlzUGxhaW5PYmplY3Qocyl8fGUuaXNBcnJheShzKSl7aWYoLTEhPT1uLmluZGV4T2YocykpdGhyb3cgRXJyb3IoXCJDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQgaW4gXCIrbyk7bi5wdXNoKHMpLGUuZm9yRWFjaChzLChmdW5jdGlvbihuLHMpe2lmKCFlLmlzVW5kZWZpbmVkKG4pKXt2YXIgYSxjPW8/bytcIi5cIitzOnM7aWYobiYmIW8mJlwib2JqZWN0XCI9PXR5cGVvZiBuKWlmKGUuZW5kc1dpdGgocyxcInt9XCIpKW49SlNPTi5zdHJpbmdpZnkobik7ZWxzZSBpZihlLmVuZHNXaXRoKHMsXCJbXVwiKSYmKGE9ZS50b0FycmF5KG4pKSlyZXR1cm4gdm9pZCBhLmZvckVhY2goKGZ1bmN0aW9uKHQpeyFlLmlzVW5kZWZpbmVkKHQpJiZpLmFwcGVuZChjLHIodCkpfSkpO3QobixjKX19KSksbi5wb3AoKX1lbHNlIGkuYXBwZW5kKG8scihzKSl9KHQpLGl9LEdTfWZ1bmN0aW9uIFhTKCl7aWYoS1MpcmV0dXJuIEhTO0tTPTE7dmFyIGU9alMoKTtyZXR1cm4gSFM9ZnVuY3Rpb24odCxpLG4pe3ZhciByPW4uY29uZmlnLnZhbGlkYXRlU3RhdHVzO24uc3RhdHVzJiZyJiYhcihuLnN0YXR1cyk/aShuZXcgZShcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrbi5zdGF0dXMsW2UuRVJSX0JBRF9SRVFVRVNULGUuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihuLnN0YXR1cy8xMDApLTRdLG4uY29uZmlnLG4ucmVxdWVzdCxuKSk6dChuKX19ZnVuY3Rpb24gUVMoKXtpZihxUylyZXR1cm4gWVM7cVM9MTt2YXIgZT1EUztyZXR1cm4gWVM9ZS5pc1N0YW5kYXJkQnJvd3NlckVudigpP3t3cml0ZTpmdW5jdGlvbih0LGksbixyLHMsbyl7dmFyIGE9W107YS5wdXNoKHQrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGkpKSxlLmlzTnVtYmVyKG4pJiZhLnB1c2goXCJleHBpcmVzPVwiK25ldyBEYXRlKG4pLnRvR01UU3RyaW5nKCkpLGUuaXNTdHJpbmcocikmJmEucHVzaChcInBhdGg9XCIrciksZS5pc1N0cmluZyhzKSYmYS5wdXNoKFwiZG9tYWluPVwiK3MpLCEwPT09byYmYS5wdXNoKFwic2VjdXJlXCIpLGRvY3VtZW50LmNvb2tpZT1hLmpvaW4oXCI7IFwiKX0scmVhZDpmdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cChcIihefDtcXFxccyopKFwiK2UrXCIpPShbXjtdKilcIikpO3JldHVybiB0P2RlY29kZVVSSUNvbXBvbmVudCh0WzNdKTpudWxsfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dGhpcy53cml0ZShlLFwiXCIsRGF0ZS5ub3coKS04NjRlNSl9fTp7d3JpdGU6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKCl7fX0sWVN9dmFyIFpTLCRTLGVSLHRSLGlSLG5SLHJSLHNSLG9SLGFSLGNSLGRSLGxSPWZ1bmN0aW9uKGUpe3JldHVybi9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KGUpfSxoUj1mdW5jdGlvbihlLHQpe3JldHVybiB0P2UucmVwbGFjZSgvXFwvKyQvLFwiXCIpK1wiL1wiK3QucmVwbGFjZSgvXlxcLysvLFwiXCIpOmV9LHVSPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJiFsUih0KT9oUihlLHQpOnR9O2Z1bmN0aW9uIHBSKCl7aWYoJFMpcmV0dXJuIFpTOyRTPTE7dmFyIGU9RFMsdD1bXCJhZ2VcIixcImF1dGhvcml6YXRpb25cIixcImNvbnRlbnQtbGVuZ3RoXCIsXCJjb250ZW50LXR5cGVcIixcImV0YWdcIixcImV4cGlyZXNcIixcImZyb21cIixcImhvc3RcIixcImlmLW1vZGlmaWVkLXNpbmNlXCIsXCJpZi11bm1vZGlmaWVkLXNpbmNlXCIsXCJsYXN0LW1vZGlmaWVkXCIsXCJsb2NhdGlvblwiLFwibWF4LWZvcndhcmRzXCIsXCJwcm94eS1hdXRob3JpemF0aW9uXCIsXCJyZWZlcmVyXCIsXCJyZXRyeS1hZnRlclwiLFwidXNlci1hZ2VudFwiXTtyZXR1cm4gWlM9ZnVuY3Rpb24oaSl7dmFyIG4scixzLG89e307cmV0dXJuIGk/KGUuZm9yRWFjaChpLnNwbGl0KFwiXFxuXCIpLChmdW5jdGlvbihpKXtpZihzPWkuaW5kZXhPZihcIjpcIiksbj1lLnRyaW0oaS5zdWJzdHIoMCxzKSkudG9Mb3dlckNhc2UoKSxyPWUudHJpbShpLnN1YnN0cihzKzEpKSxuKXtpZihvW25dJiZ0LmluZGV4T2Yobik+PTApcmV0dXJuO29bbl09XCJzZXQtY29va2llXCI9PT1uPyhvW25dP29bbl06W10pLmNvbmNhdChbcl0pOm9bbl0/b1tuXStcIiwgXCIrcjpyfX0pKSxvKTpvfSxaU31mdW5jdGlvbiBfUigpe2lmKHRSKXJldHVybiBlUjt0Uj0xO3ZhciBlPURTO3JldHVybiBlUj1lLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/ZnVuY3Rpb24oKXt2YXIgdCxpPS8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtmdW5jdGlvbiByKGUpe3ZhciB0PWU7cmV0dXJuIGkmJihuLnNldEF0dHJpYnV0ZShcImhyZWZcIix0KSx0PW4uaHJlZiksbi5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsdCkse2hyZWY6bi5ocmVmLHByb3RvY29sOm4ucHJvdG9jb2w/bi5wcm90b2NvbC5yZXBsYWNlKC86JC8sXCJcIik6XCJcIixob3N0Om4uaG9zdCxzZWFyY2g6bi5zZWFyY2g/bi5zZWFyY2gucmVwbGFjZSgvXlxcPy8sXCJcIik6XCJcIixoYXNoOm4uaGFzaD9uLmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpOlwiXCIsaG9zdG5hbWU6bi5ob3N0bmFtZSxwb3J0Om4ucG9ydCxwYXRobmFtZTpcIi9cIj09PW4ucGF0aG5hbWUuY2hhckF0KDApP24ucGF0aG5hbWU6XCIvXCIrbi5wYXRobmFtZX19cmV0dXJuIHQ9cih3aW5kb3cubG9jYXRpb24uaHJlZiksZnVuY3Rpb24oaSl7dmFyIG49ZS5pc1N0cmluZyhpKT9yKGkpOmk7cmV0dXJuIG4ucHJvdG9jb2w9PT10LnByb3RvY29sJiZuLmhvc3Q9PT10Lmhvc3R9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuITB9fWZ1bmN0aW9uIEVSKCl7aWYoblIpcmV0dXJuIGlSO25SPTE7dmFyIGU9alMoKTtmdW5jdGlvbiB0KHQpe2UuY2FsbCh0aGlzLG51bGw9PXQ/XCJjYW5jZWxlZFwiOnQsZS5FUlJfQ0FOQ0VMRUQpLHRoaXMubmFtZT1cIkNhbmNlbGVkRXJyb3JcIn1yZXR1cm4gRFMuaW5oZXJpdHModCxlLHtfX0NBTkNFTF9fOiEwfSksaVI9dH1mdW5jdGlvbiBtUigpe3JldHVybiBzUnx8KHNSPTEsclI9ZnVuY3Rpb24oZSl7dmFyIHQ9L14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWMoZSk7cmV0dXJuIHQmJnRbMV18fFwiXCJ9KSxyUn1mdW5jdGlvbiBmUigpe2lmKGFSKXJldHVybiBvUjthUj0xO3ZhciBlPURTLHQ9WFMoKSxpPVFTKCksbj1rUyxyPXVSLHM9cFIoKSxvPV9SKCksYT1KUyxjPWpTKCksZD1FUigpLGw9bVIoKTtyZXR1cm4gb1I9ZnVuY3Rpb24oaCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih1LHApe3ZhciBfLEU9aC5kYXRhLG09aC5oZWFkZXJzLGY9aC5yZXNwb25zZVR5cGU7ZnVuY3Rpb24gZygpe2guY2FuY2VsVG9rZW4mJmguY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUoXyksaC5zaWduYWwmJmguc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLF8pfWUuaXNGb3JtRGF0YShFKSYmZS5pc1N0YW5kYXJkQnJvd3NlckVudigpJiZkZWxldGUgbVtcIkNvbnRlbnQtVHlwZVwiXTt2YXIgVD1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoaC5hdXRoKXt2YXIgUz1oLmF1dGgudXNlcm5hbWV8fFwiXCIsUj1oLmF1dGgucGFzc3dvcmQ/dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGguYXV0aC5wYXNzd29yZCkpOlwiXCI7bS5BdXRob3JpemF0aW9uPVwiQmFzaWMgXCIrYnRvYShTK1wiOlwiK1IpfXZhciBDPXIoaC5iYXNlVVJMLGgudXJsKTtmdW5jdGlvbiB2KCl7aWYoVCl7dmFyIGU9XCJnZXRBbGxSZXNwb25zZUhlYWRlcnNcImluIFQ/cyhULmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTpudWxsLGk9e2RhdGE6ZiYmXCJ0ZXh0XCIhPT1mJiZcImpzb25cIiE9PWY/VC5yZXNwb25zZTpULnJlc3BvbnNlVGV4dCxzdGF0dXM6VC5zdGF0dXMsc3RhdHVzVGV4dDpULnN0YXR1c1RleHQsaGVhZGVyczplLGNvbmZpZzpoLHJlcXVlc3Q6VH07dCgoZnVuY3Rpb24oZSl7dShlKSxnKCl9KSwoZnVuY3Rpb24oZSl7cChlKSxnKCl9KSxpKSxUPW51bGx9fWlmKFQub3BlbihoLm1ldGhvZC50b1VwcGVyQ2FzZSgpLG4oQyxoLnBhcmFtcyxoLnBhcmFtc1NlcmlhbGl6ZXIpLCEwKSxULnRpbWVvdXQ9aC50aW1lb3V0LFwib25sb2FkZW5kXCJpbiBUP1Qub25sb2FkZW5kPXY6VC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtUJiY0PT09VC5yZWFkeVN0YXRlJiYoMCE9PVQuc3RhdHVzfHxULnJlc3BvbnNlVVJMJiYwPT09VC5yZXNwb25zZVVSTC5pbmRleE9mKFwiZmlsZTpcIikpJiZzZXRUaW1lb3V0KHYpfSxULm9uYWJvcnQ9ZnVuY3Rpb24oKXtUJiYocChuZXcgYyhcIlJlcXVlc3QgYWJvcnRlZFwiLGMuRUNPTk5BQk9SVEVELGgsVCkpLFQ9bnVsbCl9LFQub25lcnJvcj1mdW5jdGlvbigpe3AobmV3IGMoXCJOZXR3b3JrIEVycm9yXCIsYy5FUlJfTkVUV09SSyxoLFQsVCkpLFQ9bnVsbH0sVC5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXt2YXIgZT1oLnRpbWVvdXQ/XCJ0aW1lb3V0IG9mIFwiK2gudGltZW91dCtcIm1zIGV4Y2VlZGVkXCI6XCJ0aW1lb3V0IGV4Y2VlZGVkXCIsdD1oLnRyYW5zaXRpb25hbHx8YTtoLnRpbWVvdXRFcnJvck1lc3NhZ2UmJihlPWgudGltZW91dEVycm9yTWVzc2FnZSkscChuZXcgYyhlLHQuY2xhcmlmeVRpbWVvdXRFcnJvcj9jLkVUSU1FRE9VVDpjLkVDT05OQUJPUlRFRCxoLFQpKSxUPW51bGx9LGUuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSl7dmFyIEk9KGgud2l0aENyZWRlbnRpYWxzfHxvKEMpKSYmaC54c3JmQ29va2llTmFtZT9pLnJlYWQoaC54c3JmQ29va2llTmFtZSk6dm9pZCAwO0kmJihtW2gueHNyZkhlYWRlck5hbWVdPUkpfVwic2V0UmVxdWVzdEhlYWRlclwiaW4gVCYmZS5mb3JFYWNoKG0sKGZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09RSYmXCJjb250ZW50LXR5cGVcIj09PXQudG9Mb3dlckNhc2UoKT9kZWxldGUgbVt0XTpULnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxlLmlzVW5kZWZpbmVkKGgud2l0aENyZWRlbnRpYWxzKXx8KFQud2l0aENyZWRlbnRpYWxzPSEhaC53aXRoQ3JlZGVudGlhbHMpLGYmJlwianNvblwiIT09ZiYmKFQucmVzcG9uc2VUeXBlPWgucmVzcG9uc2VUeXBlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBoLm9uRG93bmxvYWRQcm9ncmVzcyYmVC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixoLm9uRG93bmxvYWRQcm9ncmVzcyksXCJmdW5jdGlvblwiPT10eXBlb2YgaC5vblVwbG9hZFByb2dyZXNzJiZULnVwbG9hZCYmVC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsaC5vblVwbG9hZFByb2dyZXNzKSwoaC5jYW5jZWxUb2tlbnx8aC5zaWduYWwpJiYoXz1mdW5jdGlvbihlKXtUJiYocCghZXx8ZSYmZS50eXBlP25ldyBkOmUpLFQuYWJvcnQoKSxUPW51bGwpfSxoLmNhbmNlbFRva2VuJiZoLmNhbmNlbFRva2VuLnN1YnNjcmliZShfKSxoLnNpZ25hbCYmKGguc2lnbmFsLmFib3J0ZWQ/XygpOmguc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLF8pKSksRXx8KEU9bnVsbCk7dmFyIHk9bChDKTt5JiYtMT09PVtcImh0dHBcIixcImh0dHBzXCIsXCJmaWxlXCJdLmluZGV4T2YoeSk/cChuZXcgYyhcIlVuc3VwcG9ydGVkIHByb3RvY29sIFwiK3krXCI6XCIsYy5FUlJfQkFEX1JFUVVFU1QsaCkpOlQuc2VuZChFKX0pKX0sb1J9dmFyIGdSPURTLFRSPWZ1bmN0aW9uKGUsdCl7QlMuZm9yRWFjaChlLChmdW5jdGlvbihpLG4pe24hPT10JiZuLnRvVXBwZXJDYXNlKCk9PT10LnRvVXBwZXJDYXNlKCkmJihlW3RdPWksZGVsZXRlIGVbbl0pfSkpfSxTUj1qUygpLFJSPUpTLENSPXpTKCksdlI9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn07ZnVuY3Rpb24gSVIoZSx0KXshZ1IuaXNVbmRlZmluZWQoZSkmJmdSLmlzVW5kZWZpbmVkKGVbXCJDb250ZW50LVR5cGVcIl0pJiYoZVtcIkNvbnRlbnQtVHlwZVwiXT10KX12YXIgeVIsQVI9e3RyYW5zaXRpb25hbDpSUixhZGFwdGVyOigoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykpJiYoeVI9ZlIoKSkseVIpLHRyYW5zZm9ybVJlcXVlc3Q6W2Z1bmN0aW9uKGUsdCl7aWYoVFIodCxcIkFjY2VwdFwiKSxUUih0LFwiQ29udGVudC1UeXBlXCIpLGdSLmlzRm9ybURhdGEoZSl8fGdSLmlzQXJyYXlCdWZmZXIoZSl8fGdSLmlzQnVmZmVyKGUpfHxnUi5pc1N0cmVhbShlKXx8Z1IuaXNGaWxlKGUpfHxnUi5pc0Jsb2IoZSkpcmV0dXJuIGU7aWYoZ1IuaXNBcnJheUJ1ZmZlclZpZXcoZSkpcmV0dXJuIGUuYnVmZmVyO2lmKGdSLmlzVVJMU2VhcmNoUGFyYW1zKGUpKXJldHVybiBJUih0LFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIiksZS50b1N0cmluZygpO3ZhciBpLG49Z1IuaXNPYmplY3QoZSkscj10JiZ0W1wiQ29udGVudC1UeXBlXCJdO2lmKChpPWdSLmlzRmlsZUxpc3QoZSkpfHxuJiZcIm11bHRpcGFydC9mb3JtLWRhdGFcIj09PXIpe3ZhciBzPXRoaXMuZW52JiZ0aGlzLmVudi5Gb3JtRGF0YTtyZXR1cm4gQ1IoaT97XCJmaWxlc1tdXCI6ZX06ZSxzJiZuZXcgcyl9cmV0dXJuIG58fFwiYXBwbGljYXRpb24vanNvblwiPT09cj8oSVIodCxcImFwcGxpY2F0aW9uL2pzb25cIiksZnVuY3Rpb24oZSx0LGkpe2lmKGdSLmlzU3RyaW5nKGUpKXRyeXtyZXR1cm4odHx8SlNPTi5wYXJzZSkoZSksZ1IudHJpbShlKX1jYXRjaChlKXtpZihcIlN5bnRheEVycm9yXCIhPT1lLm5hbWUpdGhyb3cgZX1yZXR1cm4oaXx8SlNPTi5zdHJpbmdpZnkpKGUpfShlKSk6ZX1dLHRyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zaXRpb25hbHx8QVIudHJhbnNpdGlvbmFsLGk9dCYmdC5zaWxlbnRKU09OUGFyc2luZyxuPXQmJnQuZm9yY2VkSlNPTlBhcnNpbmcscj0haSYmXCJqc29uXCI9PT10aGlzLnJlc3BvbnNlVHlwZTtpZihyfHxuJiZnUi5pc1N0cmluZyhlKSYmZS5sZW5ndGgpdHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe2lmKHIpe2lmKFwiU3ludGF4RXJyb3JcIj09PWUubmFtZSl0aHJvdyBTUi5mcm9tKGUsU1IuRVJSX0JBRF9SRVNQT05TRSx0aGlzLG51bGwsdGhpcy5yZXNwb25zZSk7dGhyb3cgZX19cmV0dXJuIGV9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6XCJYU1JGLVRPS0VOXCIseHNyZkhlYWRlck5hbWU6XCJYLVhTUkYtVE9LRU5cIixtYXhDb250ZW50TGVuZ3RoOi0xLG1heEJvZHlMZW5ndGg6LTEsZW52OntGb3JtRGF0YTpkUj9jUjooZFI9MSxjUj1udWxsKX0sdmFsaWRhdGVTdGF0dXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTIwMCYmZTwzMDB9LGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCJ9fX07Z1IuZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiXSwoZnVuY3Rpb24oZSl7QVIuaGVhZGVyc1tlXT17fX0pKSxnUi5mb3JFYWNoKFtcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sKGZ1bmN0aW9uKGUpe0FSLmhlYWRlcnNbZV09Z1IubWVyZ2UodlIpfSkpO3ZhciBiUix3UixPUj1BUixOUj1EUyxEUj1PUjtmdW5jdGlvbiBQUigpe3JldHVybiB3Uj9iUjood1I9MSxiUj1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS5fX0NBTkNFTF9fKX0pfXZhciBMUj1EUyxrUj1mdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpc3x8RFI7cmV0dXJuIE5SLmZvckVhY2goaSwoZnVuY3Rpb24oaSl7ZT1pLmNhbGwobixlLHQpfSkpLGV9LE1SPVBSKCksVVI9T1IseFI9RVIoKTtmdW5jdGlvbiBWUihlKXtpZihlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKSxlLnNpZ25hbCYmZS5zaWduYWwuYWJvcnRlZCl0aHJvdyBuZXcgeFJ9dmFyIEZSLEJSLGpSPURTLEdSPWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgaT17fTtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGpSLmlzUGxhaW5PYmplY3QoZSkmJmpSLmlzUGxhaW5PYmplY3QodCk/alIubWVyZ2UoZSx0KTpqUi5pc1BsYWluT2JqZWN0KHQpP2pSLm1lcmdlKHt9LHQpOmpSLmlzQXJyYXkodCk/dC5zbGljZSgpOnR9ZnVuY3Rpb24gcihpKXtyZXR1cm4galIuaXNVbmRlZmluZWQodFtpXSk/alIuaXNVbmRlZmluZWQoZVtpXSk/dm9pZCAwOm4odm9pZCAwLGVbaV0pOm4oZVtpXSx0W2ldKX1mdW5jdGlvbiBzKGUpe2lmKCFqUi5pc1VuZGVmaW5lZCh0W2VdKSlyZXR1cm4gbih2b2lkIDAsdFtlXSl9ZnVuY3Rpb24gbyhpKXtyZXR1cm4galIuaXNVbmRlZmluZWQodFtpXSk/alIuaXNVbmRlZmluZWQoZVtpXSk/dm9pZCAwOm4odm9pZCAwLGVbaV0pOm4odm9pZCAwLHRbaV0pfWZ1bmN0aW9uIGEoaSl7cmV0dXJuIGkgaW4gdD9uKGVbaV0sdFtpXSk6aSBpbiBlP24odm9pZCAwLGVbaV0pOnZvaWQgMH12YXIgYz17dXJsOnMsbWV0aG9kOnMsZGF0YTpzLGJhc2VVUkw6byx0cmFuc2Zvcm1SZXF1ZXN0Om8sdHJhbnNmb3JtUmVzcG9uc2U6byxwYXJhbXNTZXJpYWxpemVyOm8sdGltZW91dDpvLHRpbWVvdXRNZXNzYWdlOm8sd2l0aENyZWRlbnRpYWxzOm8sYWRhcHRlcjpvLHJlc3BvbnNlVHlwZTpvLHhzcmZDb29raWVOYW1lOm8seHNyZkhlYWRlck5hbWU6byxvblVwbG9hZFByb2dyZXNzOm8sb25Eb3dubG9hZFByb2dyZXNzOm8sZGVjb21wcmVzczpvLG1heENvbnRlbnRMZW5ndGg6byxtYXhCb2R5TGVuZ3RoOm8sYmVmb3JlUmVkaXJlY3Q6byx0cmFuc3BvcnQ6byxodHRwQWdlbnQ6byxodHRwc0FnZW50Om8sY2FuY2VsVG9rZW46byxzb2NrZXRQYXRoOm8scmVzcG9uc2VFbmNvZGluZzpvLHZhbGlkYXRlU3RhdHVzOmF9O3JldHVybiBqUi5mb3JFYWNoKE9iamVjdC5rZXlzKGUpLmNvbmNhdChPYmplY3Qua2V5cyh0KSksKGZ1bmN0aW9uKGUpe3ZhciB0PWNbZV18fHIsbj10KGUpO2pSLmlzVW5kZWZpbmVkKG4pJiZ0IT09YXx8KGlbZV09bil9KSksaX07ZnVuY3Rpb24gV1IoKXtyZXR1cm4gQlI/RlI6KEJSPTEsRlI9e3ZlcnNpb246XCIwLjI3LjJcIn0pfXZhciBIUj1XUigpLnZlcnNpb24sS1I9alMoKSxZUj17fTtbXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwiZnVuY3Rpb25cIixcInN0cmluZ1wiLFwic3ltYm9sXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7WVJbZV09ZnVuY3Rpb24oaSl7cmV0dXJuIHR5cGVvZiBpPT09ZXx8XCJhXCIrKHQ8MT9cIm4gXCI6XCIgXCIpK2V9fSkpO3ZhciBxUj17fTtZUi50cmFuc2l0aW9uYWw9ZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm5cIltBeGlvcyB2XCIrSFIrXCJdIFRyYW5zaXRpb25hbCBvcHRpb24gJ1wiK2UrXCInXCIrdCsoaT9cIi4gXCIraTpcIlwiKX1yZXR1cm4gZnVuY3Rpb24oaSxyLHMpe2lmKCExPT09ZSl0aHJvdyBuZXcgS1IobihyLFwiIGhhcyBiZWVuIHJlbW92ZWRcIisodD9cIiBpbiBcIit0OlwiXCIpKSxLUi5FUlJfREVQUkVDQVRFRCk7cmV0dXJuIHQmJiFxUltyXSYmKHFSW3JdPSEwLGNvbnNvbGUud2FybihuKHIsXCIgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2XCIrdCtcIiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZVwiKSkpLCFlfHxlKGkscixzKX19O3ZhciBKUix6UixYUixRUixaUiwkUixlQz17YXNzZXJ0T3B0aW9uczpmdW5jdGlvbihlLHQsaSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEtSKFwib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdFwiLEtSLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtmb3IodmFyIG49T2JqZWN0LmtleXMoZSkscj1uLmxlbmd0aDtyLS0gPjA7KXt2YXIgcz1uW3JdLG89dFtzXTtpZihvKXt2YXIgYT1lW3NdLGM9dm9pZCAwPT09YXx8byhhLHMsZSk7aWYoITAhPT1jKXRocm93IG5ldyBLUihcIm9wdGlvbiBcIitzK1wiIG11c3QgYmUgXCIrYyxLUi5FUlJfQkFEX09QVElPTl9WQUxVRSl9ZWxzZSBpZighMCE9PWkpdGhyb3cgbmV3IEtSKFwiVW5rbm93biBvcHRpb24gXCIrcyxLUi5FUlJfQkFEX09QVElPTil9fSx2YWxpZGF0b3JzOllSfSx0Qz1EUyxpQz1rUyxuQz1GUyxyQz1mdW5jdGlvbihlKXtyZXR1cm4gVlIoZSksZS5oZWFkZXJzPWUuaGVhZGVyc3x8e30sZS5kYXRhPWtSLmNhbGwoZSxlLmRhdGEsZS5oZWFkZXJzLGUudHJhbnNmb3JtUmVxdWVzdCksZS5oZWFkZXJzPUxSLm1lcmdlKGUuaGVhZGVycy5jb21tb258fHt9LGUuaGVhZGVyc1tlLm1ldGhvZF18fHt9LGUuaGVhZGVycyksTFIuZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiLFwicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiLFwiY29tbW9uXCJdLChmdW5jdGlvbih0KXtkZWxldGUgZS5oZWFkZXJzW3RdfSkpLChlLmFkYXB0ZXJ8fFVSLmFkYXB0ZXIpKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBWUihlKSx0LmRhdGE9a1IuY2FsbChlLHQuZGF0YSx0LmhlYWRlcnMsZS50cmFuc2Zvcm1SZXNwb25zZSksdH0pLChmdW5jdGlvbih0KXtyZXR1cm4gTVIodCl8fChWUihlKSx0JiZ0LnJlc3BvbnNlJiYodC5yZXNwb25zZS5kYXRhPWtSLmNhbGwoZSx0LnJlc3BvbnNlLmRhdGEsdC5yZXNwb25zZS5oZWFkZXJzLGUudHJhbnNmb3JtUmVzcG9uc2UpKSksUHJvbWlzZS5yZWplY3QodCl9KSl9LHNDPUdSLG9DPXVSLGFDPWVDLGNDPWFDLnZhbGlkYXRvcnM7ZnVuY3Rpb24gZEMoZSl7dGhpcy5kZWZhdWx0cz1lLHRoaXMuaW50ZXJjZXB0b3JzPXtyZXF1ZXN0Om5ldyBuQyxyZXNwb25zZTpuZXcgbkN9fWRDLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7XCJzdHJpbmdcIj09dHlwZW9mIGU/KHQ9dHx8e30pLnVybD1lOnQ9ZXx8e30sKHQ9c0ModGhpcy5kZWZhdWx0cyx0KSkubWV0aG9kP3QubWV0aG9kPXQubWV0aG9kLnRvTG93ZXJDYXNlKCk6dGhpcy5kZWZhdWx0cy5tZXRob2Q/dC5tZXRob2Q9dGhpcy5kZWZhdWx0cy5tZXRob2QudG9Mb3dlckNhc2UoKTp0Lm1ldGhvZD1cImdldFwiO3ZhciBpPXQudHJhbnNpdGlvbmFsO3ZvaWQgMCE9PWkmJmFDLmFzc2VydE9wdGlvbnMoaSx7c2lsZW50SlNPTlBhcnNpbmc6Y0MudHJhbnNpdGlvbmFsKGNDLmJvb2xlYW4pLGZvcmNlZEpTT05QYXJzaW5nOmNDLnRyYW5zaXRpb25hbChjQy5ib29sZWFuKSxjbGFyaWZ5VGltZW91dEVycm9yOmNDLnRyYW5zaXRpb25hbChjQy5ib29sZWFuKX0sITEpO3ZhciBuPVtdLHI9ITA7dGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKChmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJ1bldoZW4mJiExPT09ZS5ydW5XaGVuKHQpfHwocj1yJiZlLnN5bmNocm9ub3VzLG4udW5zaGlmdChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKSl9KSk7dmFyIHMsbz1bXTtpZih0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLnB1c2goZS5mdWxmaWxsZWQsZS5yZWplY3RlZCl9KSksIXIpe3ZhciBhPVtyQyx2b2lkIDBdO2ZvcihBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShhLG4pLGE9YS5jb25jYXQobykscz1Qcm9taXNlLnJlc29sdmUodCk7YS5sZW5ndGg7KXM9cy50aGVuKGEuc2hpZnQoKSxhLnNoaWZ0KCkpO3JldHVybiBzfWZvcih2YXIgYz10O24ubGVuZ3RoOyl7dmFyIGQ9bi5zaGlmdCgpLGw9bi5zaGlmdCgpO3RyeXtjPWQoYyl9Y2F0Y2goZSl7bChlKTticmVha319dHJ5e3M9ckMoYyl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfWZvcig7by5sZW5ndGg7KXM9cy50aGVuKG8uc2hpZnQoKSxvLnNoaWZ0KCkpO3JldHVybiBzfSxkQy5wcm90b3R5cGUuZ2V0VXJpPWZ1bmN0aW9uKGUpe2U9c0ModGhpcy5kZWZhdWx0cyxlKTt2YXIgdD1vQyhlLmJhc2VVUkwsZS51cmwpO3JldHVybiBpQyh0LGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplcil9LHRDLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcIm9wdGlvbnNcIl0sKGZ1bmN0aW9uKGUpe2RDLnByb3RvdHlwZVtlXT1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLnJlcXVlc3Qoc0MoaXx8e30se21ldGhvZDplLHVybDp0LGRhdGE6KGl8fHt9KS5kYXRhfSkpfX0pKSx0Qy5mb3JFYWNoKFtcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGZ1bmN0aW9uKGksbixyKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KHNDKHJ8fHt9LHttZXRob2Q6ZSxoZWFkZXJzOnQ/e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCJ9Ont9LHVybDppLGRhdGE6bn0pKX19ZEMucHJvdG90eXBlW2VdPXQoKSxkQy5wcm90b3R5cGVbZStcIkZvcm1cIl09dCghMCl9KSk7dmFyIGxDPURTLGhDPXVTLHVDPWRDLHBDPUdSO3ZhciBfQz1mdW5jdGlvbiBlKHQpe3ZhciBpPW5ldyB1Qyh0KSxuPWhDKHVDLnByb3RvdHlwZS5yZXF1ZXN0LGkpO3JldHVybiBsQy5leHRlbmQobix1Qy5wcm90b3R5cGUsaSksbEMuZXh0ZW5kKG4saSksbi5jcmVhdGU9ZnVuY3Rpb24oaSl7cmV0dXJuIGUocEModCxpKSl9LG59KE9SKTtfQy5BeGlvcz11QyxfQy5DYW5jZWxlZEVycm9yPUVSKCksX0MuQ2FuY2VsVG9rZW49ZnVuY3Rpb24oKXtpZih6UilyZXR1cm4gSlI7elI9MTt2YXIgZT1FUigpO2Z1bmN0aW9uIHQodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgaTt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe2k9ZX0pKTt2YXIgbj10aGlzO3RoaXMucHJvbWlzZS50aGVuKChmdW5jdGlvbihlKXtpZihuLl9saXN0ZW5lcnMpe3ZhciB0LGk9bi5fbGlzdGVuZXJzLmxlbmd0aDtmb3IodD0wO3Q8aTt0Kyspbi5fbGlzdGVuZXJzW3RdKGUpO24uX2xpc3RlbmVycz1udWxsfX0pKSx0aGlzLnByb21pc2UudGhlbj1mdW5jdGlvbihlKXt2YXIgdCxpPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtuLnN1YnNjcmliZShlKSx0PWV9KSkudGhlbihlKTtyZXR1cm4gaS5jYW5jZWw9ZnVuY3Rpb24oKXtuLnVuc3Vic2NyaWJlKHQpfSxpfSx0KChmdW5jdGlvbih0KXtuLnJlYXNvbnx8KG4ucmVhc29uPW5ldyBlKHQpLGkobi5yZWFzb24pKX0pKX1yZXR1cm4gdC5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZD1mdW5jdGlvbigpe2lmKHRoaXMucmVhc29uKXRocm93IHRoaXMucmVhc29ufSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7dGhpcy5yZWFzb24/ZSh0aGlzLnJlYXNvbik6dGhpcy5fbGlzdGVuZXJzP3RoaXMuX2xpc3RlbmVycy5wdXNoKGUpOnRoaXMuX2xpc3RlbmVycz1bZV19LHQucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xpc3RlbmVycyl7dmFyIHQ9dGhpcy5fbGlzdGVuZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKHQsMSl9fSx0LnNvdXJjZT1mdW5jdGlvbigpe3ZhciBlO3JldHVybnt0b2tlbjpuZXcgdCgoZnVuY3Rpb24odCl7ZT10fSkpLGNhbmNlbDplfX0sSlI9dH0oKSxfQy5pc0NhbmNlbD1QUigpLF9DLlZFUlNJT049V1IoKS52ZXJzaW9uLF9DLnRvRm9ybURhdGE9elMoKSxfQy5BeGlvc0Vycm9yPWpTKCksX0MuQ2FuY2VsPV9DLkNhbmNlbGVkRXJyb3IsX0MuYWxsPWZ1bmN0aW9uKGUpe3JldHVybiBQcm9taXNlLmFsbChlKX0sX0Muc3ByZWFkPVFSP1hSOihRUj0xLFhSPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseShudWxsLHQpfX0pLF9DLmlzQXhpb3NFcnJvcj1mdW5jdGlvbigpe2lmKCRSKXJldHVybiBaUjskUj0xO3ZhciBlPURTO3JldHVybiBaUj1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmITA9PT10LmlzQXhpb3NFcnJvcn19KCksaFMuZXhwb3J0cz1fQyxoUy5leHBvcnRzLmRlZmF1bHQ9X0M7dmFyIEVDPUooaFMuZXhwb3J0cyk7ZnVuY3Rpb24gbUMoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGZDKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP21DKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOm1DKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWxldCBnQyxUQz0wLFNDPTA7ZnVuY3Rpb24gUkMoZSx0LGksbil7cmV0dXJuIG5ldyB0ZygoKHIscyk9Pnt0LnJlc3BvbnNlVHlwZT10LnJlc3BvbnNlVHlwZXx8XCJqc29uXCIsdC5kYXRhJiYhaT8odC5kYXRhPUpTT04uc3RyaW5naWZ5KHQuZGF0YSksVEMrPUxUKHQuZGF0YSkpOmkmJih0LmRhdGEuc2l6ZT9UQys9dC5kYXRhLnNpemU6dC5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGE/VEMrPWtUKHQuZGF0YSk6VEMrPUxUKEpTT04uc3RyaW5naWZ5KHQuZGF0YSkpKSx0LmhlYWRlcnM9dC5oZWFkZXJzfHx7fSx0LmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09dC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdfHxcImFwcGxpY2F0aW9uL2pzb25cIix0Lm1ldGhvZD1cIlBPU1RcIix0LnVybD1lLEVDLnJlcXVlc3QodCkudGhlbigoZT0+e1wic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGE/U0MrPUxUKGUuZGF0YSk6ZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGUuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/U0MrPWUuZGF0YS5ieXRlTGVuZ3RoOlNDKz1MVChKU09OLnN0cmluZ2lmeShlLmRhdGEpKSxuJiZyKHtkYXRhOmUuZGF0YSxoZWFkZXJzOmUuaGVhZGVyc30pLHIoZS5kYXRhKX0pKS5jYXRjaCgoZT0+e0VDLmlzQ2FuY2VsKGUpP3MobmV3IFZnKHhnLk9QRVJBVElPTl9BQk9SVEVELFwiY2FuY2VsIHRva2VuIGNhbmNlbGVkXCIpKTpcIkVDT05OQUJPUlRFRFwiPT09ZS5jb2RlP3MobmV3IFZnKHhnLk5FVFdPUktfVElNRU9VVCxlLm1lc3NhZ2UpKTplLnJlc3BvbnNlP3MobmV3IFZnKHhnLk5FVFdPUktfUkVTUE9OU0VfRVJST1IsZS5yZXNwb25zZS5zdGF0dXMpKTpzKG5ldyBWZyh4Zy5ORVRXT1JLX0VSUk9SLGUubWVzc2FnZSkpfSkpfSkpfWFzeW5jIGZ1bmN0aW9uIENDKGUsdCl7Y29uc3QgaT1uZXcgQmxvYihbdC5kYXRhXSx7dHlwZTpcImJ1ZmZlclwifSk7cmV0dXJuIGF3YWl0IFJDKGUsZkMoZkMoe30sdCkse30se2RhdGE6aSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9fSksITApfWNvbnN0IHZDPSgpPT5cIkhUVFBTXCI9PT0oZ0N8fGdDfHwoZ0M9KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5zcGxpdChcIjpcIilbMF18fFwiXCIpLnRvVXBwZXJDYXNlKCksZ0MpKSxJQz0oKT0+dm9pZCAwIT09d2luZG93LmlzU2VjdXJlQ29udGV4dDtmdW5jdGlvbiB5QyhlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gQUMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eUMoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6eUMoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9dmFyIGJDOyFmdW5jdGlvbihlKXtlLlNFVF9TRVNTSU9OX0lEPVwiU0VUX1NFU1NJT05fSURcIixlLlNFVF9QMlBfSUQ9XCJTRVRfUDJQX2lkXCIsZS5TRVRfRENfSUQ9XCJTRVRfRENfaWRcIixlLlNFVF9VSUQ9XCJTRVRfVUlEXCIsZS5TRVRfUFVCX0lEPVwiU0VUX1BVQl9JRFwiLGUuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFPVwiU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFXCIsZS5LRVlfTUVUUklDX0NMSUVOVF9DUkVBVEVEPVwiS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRFwiLGUuS0VZX01FVFJJQ19KT0lOX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX1NUQVJUXCIsZS5BVk9JRF9KT0lOX1NUQVJUPVwiQVZPSURfSk9JTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19KT0lOX0VORD1cIktFWV9NRVRSSUNfSk9JTl9FTkRcIixlLktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVD1cIktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVFwiLGUuS0VZX01FVFJJQ19SRVFVRVNUX0FQX0VORD1cIktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkRcIixlLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfU1RBUlRcIixlLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORD1cIktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORFwiLGUuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fU1RBUlQ9XCJLRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EPVwiS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EXCIsZS5LRVlfTUVUUklDX0RFU0NSSVBUSU9OX1NUQVJUPVwiS0VZX01FVFJJQ19ERVNDUklQVElPTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19JQ0VfQ09OTkVDVElPTl9FTkQ9XCJLRVlfTUVUUklDX0lDRV9DT05ORUNUSU9OX0VORFwiLGUuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOPVwiS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOXCIsZS5LRVlfTUVUUklDX1BVQkxJU0g9XCJLRVlfTUVUUklDX1BVQkxJU0hcIixlLktFWV9NRVRSSUNfU1VCU0NSSUJFPVwiS0VZX01FVFJJQ19TVUJTQ1JJQkVcIixlLlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRT1cIlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRVwiLGUuUkVTRVRfSk9JTl9DSEFOTkVMX1NFUlZJQ0VfUkVDT1JEUz1cIlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFNcIixlLlJFU0VUX0tFWV9NRVRSSUNTPVwiUkVTRVRfS0VZX01FVFJJQ1NcIixlLlNFVF9VU0VfREFUQUNIQU5ORUw9XCJTRVRfVVNFX0RBVEFDSEFOTkVMXCIsZS5TRVRfVVNFX1AyUD1cIlNFVF9VU0VfUDJQXCJ9KGJDfHwoYkM9e30pKTtjbGFzcyB3Q3tjb25zdHJ1Y3RvcihlLHQsaSxuKXtudSh0aGlzLFwic3RhdGVcIix2b2lkIDApLHRoaXMuc3RhdGU9e2NvZGVjOmUsYXVkaW9Db2RlYzp0LG1vZGU6aSxjbGllbnRJZDpuLHNlc3Npb25JZDpudWxsLHAycElkOjAsZGNJZDowLHB1YklkOjAsc3ViSWQ6MCxhdm9pZEpvaW5TdGFydDowLGtleU1ldHJpY3M6e3B1Ymxpc2g6W10sc3Vic2NyaWJlOltdfSxqb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzOltdLGNsb3VkUHJveHlTZXJ2ZXJNb2RlOlwiZGlzYWJsZWRcIix1c2VEYXRhQ2hhbm5lbDohMSx1c2VQMlA6ITF9fWRpc3BhdGNoKGUpe3RoaXMuc3RhdGU9ZnVuY3Rpb24oZSx0KXtzd2l0Y2godC50eXBlKXtjYXNlIGJDLlNFVF9TRVNTSU9OX0lEOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7c2Vzc2lvbklkOnQuc2Vzc2lvbklkfSk7Y2FzZSBiQy5TRVRfUDJQX0lEOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7cDJwSWQ6dC5wMnBJZH0pO2Nhc2UgYkMuU0VUX1VJRDpyZXR1cm4gQUMoQUMoe30sZSkse30se3VpZDp0LnVpZH0pO2Nhc2UgYkMuU0VUX1BVQl9JRDpyZXR1cm4gQUMoQUMoe30sZSkse30se3B1YklkOnQucHViSWR9KTtjYXNlIGJDLktFWV9NRVRSSUNfQ0xJRU5UX0NSRUFURUQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se2NsaWVudENyZWF0ZWQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19KT0lOX1NUQVJUOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtqb2luU3RhcnQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuQVZPSURfSk9JTl9TVEFSVDpyZXR1cm4gQUMoQUMoe30sZSkse30se2F2b2lkSm9pblN0YXJ0OnQuYXZvaWRKb2luU3RhcnR9KTtjYXNlIGJDLktFWV9NRVRSSUNfSk9JTl9FTkQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se2pvaW5FbmQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19SRVFVRVNUX0FQX1NUQVJUOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtyZXF1ZXN0QVBTdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX1JFUVVFU1RfQVBfRU5EOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtyZXF1ZXN0QVBFbmQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfU1RBUlQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se2pvaW5HYXRld2F5U3RhcnQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfRU5EOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtqb2luR2F0ZXdheUVuZDp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVDpyZXR1cm4gQUMoQUMoe30sZSkse30se2tleU1ldHJpY3M6QUMoQUMoe30sZS5rZXlNZXRyaWNzKSx7fSx7cGVlckNvbm5lY3Rpb25TdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9FTkQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se3BlZXJDb25uZWN0aW9uRW5kOnQubWV0cmljfSl9KTtjYXNlIGJDLktFWV9NRVRSSUNfREVTQ1JJUFRJT05fU1RBUlQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se2Rlc2NyaXB0aW9uU3RhcnQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtzaWduYWxDaGFubmVsT3Blbjp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX0lDRV9DT05ORUNUSU9OX0VORDpyZXR1cm4gQUMoQUMoe30sZSkse30se2tleU1ldHJpY3M6QUMoQUMoe30sZS5rZXlNZXRyaWNzKSx7fSx7aWNlQ29ubmVjdGlvbkVuZDp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX1BVQkxJU0g6e2NvbnN0IGk9ZS5rZXlNZXRyaWNzLnB1Ymxpc2gsbj1pLmZpbmRJbmRleCgoZT0+ZS50cmFja0lkPT09dC5tZXRyaWMudHJhY2tJZCkpO3JldHVybi0xIT09bj8oaVtuXT1BQyhBQyh7fSxpW25dKSx0Lm1ldHJpYyksQUMoQUMoe30sZSkse30se2tleU1ldHJpY3M6QUMoQUMoe30sZS5rZXlNZXRyaWNzKSx7fSx7cHVibGlzaDpbLi4uaV19KX0pKTpBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtwdWJsaXNoOlsuLi5lLmtleU1ldHJpY3MucHVibGlzaCx0Lm1ldHJpY119KX0pfWNhc2UgYkMuS0VZX01FVFJJQ19TVUJTQ1JJQkU6e2NvbnN0IGk9ZS5rZXlNZXRyaWNzLnN1YnNjcmliZSxuPWkuZmluZEluZGV4KChlPT5lLnVzZXJJZD09PXQubWV0cmljLnVzZXJJZCYmZS50eXBlPT09dC5tZXRyaWMudHlwZSkpO3JldHVybi0xIT09bj8oaVtuXT1BQyhBQyh7fSxpW25dKSx0Lm1ldHJpYyksQUMoQUMoe30sZSkse30se2tleU1ldHJpY3M6QUMoQUMoe30sZS5rZXlNZXRyaWNzKSx7fSx7c3Vic2NyaWJlOlsuLi5pXX0pfSkpOkFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se3N1YnNjcmliZTpbLi4uZS5rZXlNZXRyaWNzLnN1YnNjcmliZSx0Lm1ldHJpY119KX0pfWNhc2UgYkMuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFOnJldHVybiBlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPXQubW9kZSxlO2Nhc2UgYkMuUkVDT1JEX0pPSU5fQ0hBTk5FTF9TRVJWSUNFOnJldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0LmluZGV4P2Uuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bLi4uZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzLHQucmVjb3JkXTooZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzW3QuaW5kZXhdPUFDKEFDKHt9LGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc1t0LmluZGV4XSksdC5yZWNvcmQpLGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bLi4uZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzXSksZTtjYXNlIGJDLlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFM6cmV0dXJuIGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bXSxlO2Nhc2UgYkMuUkVTRVRfS0VZX01FVFJJQ1M6cmV0dXJuIGUua2V5TWV0cmljcz17cHVibGlzaDpbXSxzdWJzY3JpYmU6W119LGU7Y2FzZSBiQy5TRVRfVVNFX0RBVEFDSEFOTkVMOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7dXNlRGF0YUNoYW5uZWw6dC52YWx9KTtjYXNlIGJDLlNFVF9VU0VfUDJQOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7dXNlUDJQOnQudmFsfSk7ZGVmYXVsdDpyZXR1cm4gZX19KHRoaXMuc3RhdGUsZSl9c2V0IHNlc3Npb25JZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlNFVF9TRVNTSU9OX0lELHNlc3Npb25JZDplfSl9Z2V0IHNlc3Npb25JZCgpe3JldHVybiB0aGlzLnN0YXRlLnNlc3Npb25JZH1zZXQgY29kZWMoZSl7dGhpcy5zdGF0ZS5jb2RlYz1lfWdldCBjb2RlYygpe3JldHVybiB0aGlzLnN0YXRlLmNvZGVjfWdldCBhdWRpb0NvZGVjKCl7cmV0dXJuIHRoaXMuc3RhdGUuYXVkaW9Db2RlY31nZXQgY2xpZW50SWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jbGllbnRJZH1zZXQgcDJwSWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5TRVRfUDJQX0lELHAycElkOmV9KX1nZXQgcDJwSWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5wMnBJZH1zZXQgZGNJZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlNFVF9EQ19JRCxkY0lkOmV9KX1nZXQgZGNJZCgpe3JldHVybiB0aGlzLnN0YXRlLmRjSWR9c2V0IHVpZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlNFVF9VSUQsdWlkOmV9KX1nZXQgdWlkKCl7cmV0dXJuIHRoaXMuc3RhdGUudWlkfXNldCBwdWJJZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlNFVF9QVUJfSUQscHViSWQ6ZX0pfWdldCBwdWJJZCgpe3JldHVybiB0aGlzLnN0YXRlLnB1YklkfXNldCBjbG91ZFByb3h5U2VydmVyTW9kZShlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlNFVF9DTE9VRF9QUk9YWV9TRVJWRVJfTU9ERSxtb2RlOmV9KX1nZXQgY2xvdWRQcm94eVNlcnZlck1vZGUoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jbG91ZFByb3h5U2VydmVyTW9kZX1zZXQgdXNlRGF0YUNoYW5uZWwoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5TRVRfVVNFX0RBVEFDSEFOTkVMLHZhbDplfSl9Z2V0IHVzZURhdGFDaGFubmVsKCl7cmV0dXJuIHRoaXMuc3RhdGUudXNlRGF0YUNoYW5uZWx9c2V0IHVzZVAyUChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlNFVF9VU0VfUDJQLHZhbDplfSl9Z2V0IHVzZVAyUCgpe3JldHVybiB0aGlzLnN0YXRlLnVzZVAyUH1jbGllbnRDcmVhdGVkKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5LRVlfTUVUUklDX0NMSUVOVF9DUkVBVEVELG1ldHJpYzpEYXRlLm5vdygpfSl9am9pblN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5LRVlfTUVUUklDX0pPSU5fU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KX1qb2luRW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5LRVlfTUVUUklDX0pPSU5fRU5ELG1ldHJpYzpEYXRlLm5vdygpfSl9cmVxdWVzdEFQU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pfXJlcXVlc3RBUEVuZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuS0VZX01FVFJJQ19SRVFVRVNUX0FQX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pfWpvaW5HYXRld2F5U3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSl9am9pbkdhdGV3YXlFbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pfXBlZXJDb25uZWN0aW9uU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSl9cGVlckNvbm5lY3Rpb25FbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pfWRlc2NyaXB0aW9uU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfREVTQ1JJUFRJT05fU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KX1zaWduYWxDaGFubmVsT3Blbigpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOLG1ldHJpYzpEYXRlLm5vdygpfSl9aWNlQ29ubmVjdGlvbkVuZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuS0VZX01FVFJJQ19JQ0VfQ09OTkVDVElPTl9FTkQsbWV0cmljOkRhdGUubm93KCl9KX1wdWJsaXNoKGUsdCxpLG4pe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuS0VZX01FVFJJQ19QVUJMSVNILG1ldHJpYzpBQyhBQyh7dHJhY2tJZDplLHR5cGU6dH0saSYme3B1Ymxpc2hTdGFydDppfSksbiYme3B1Ymxpc2hFbmQ6bn0pfSl9c3Vic2NyaWJlKGUsdCxpLG4scixzLG8pe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuS0VZX01FVFJJQ19TVUJTQ1JJQkUsbWV0cmljOkFDKEFDKEFDKEFDKEFDKHt1c2VySWQ6ZSx0eXBlOnR9LGkmJntzdWJzY3JpYmVTdGFydDppfSksbiYme3N1YnNjcmliZUVuZDpufSksciYme2ZpcnN0RnJhbWU6cn0pLHMmJntzdHJlYW1BZGRlZDpzfSksbyYme2ZpcnN0RGVjb2RlZDpvfSl9KX1tYXNzU3Vic2NyaWJlKGUsdCxpLG4pe2UuZm9yRWFjaCgoZT0+e3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuS0VZX01FVFJJQ19TVUJTQ1JJQkUsbWV0cmljOkFDKEFDKEFDKHt1c2VySWQ6ZS51c2VySWQsdHlwZTplLnR5cGV9LHQmJntzdWJzY3JpYmVTdGFydDp0fSksaSYme3N1YnNjcmliZUVuZDppfSksbiYme2ZpcnN0RnJhbWU6bn0pfSl9KSl9Z2V0IGtleU1ldHJpY3MoKXtyZXR1cm4gdGhpcy5zdGF0ZS5rZXlNZXRyaWNzfXJlY29yZEpvaW5DaGFubmVsU2VydmljZShlLHQpe1wiZ2F0ZXdheVwiPT09ZS5zZXJ2aWNlJiZBcnJheS5pc0FycmF5KGUudXJscykmJihlLnVybHM9ZS51cmxzLm1hcCgoZT0+ZS5yZXBsYWNlKC8oXFxkKyktXFxkKy1cXGQrLShcXGQrKS8sXCIkMS0qLSotJDJcIikpKSk7dHJ5e3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0Pyh0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRSxyZWNvcmQ6QUMoQUMoe30sZSkse30se3Nlc3Npb25JZDp0aGlzLnNlc3Npb25JZCxjbG91ZFByb3h5TW9kZTp0aGlzLmNsb3VkUHJveHlTZXJ2ZXJNb2RlLHVpZDp0aGlzLnVpZH0pfSksdGhpcy5zdGF0ZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzLmxlbmd0aC0xKToodDwwfHx0Pj10aGlzLnN0YXRlLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHMubGVuZ3RofHx0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRSxyZWNvcmQ6ZSxpbmRleDp0fSksdCl9Y2F0Y2goZSl7cmV0dXJuIDB9fXJlc2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcygpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuUkVTRVRfSk9JTl9DSEFOTkVMX1NFUlZJQ0VfUkVDT1JEU30pfXJlc2V0S2V5TWV0cmljcygpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuUkVTRVRfS0VZX01FVFJJQ1N9KX1nZXQgam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcygpe3RyeXtyZXR1cm4gdGhpcy5zdGF0ZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzfWNhdGNoKGUpe3JldHVybltdfX1nZXQgYXZvaWRKb2luU3RhcnQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5hdm9pZEpvaW5TdGFydH1zZXQgYXZvaWRKb2luU3RhcnQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5BVk9JRF9KT0lOX1NUQVJULGF2b2lkSm9pblN0YXJ0OmV9KX19Y29uc3QgT0M9ZnVuY3Rpb24oZSl7aWYoZS5tYXRjaCgvWzAtOV0rXFwuWzAtOV0rXFwuWzAtOV0rJC8pKXJldHVybiBlO2NvbnN0IHQ9ZS5tYXRjaCgvKFswLTldK1xcLlswLTldK1xcLlswLTldKylcXC1hbHBoYVxcLihbMC05XSspLyk7aWYodCYmdFsxXSYmdFsyXSl7Y29uc3QgZT10WzFdLGk9dFsyXTtyZXR1cm5cIlwiLmNvbmNhdChlLFwiLlwiKS5jb25jYXQoaSl9Y29uc3QgaT1lLm1hdGNoKC8oWzAtOV0rXFwuWzAtOV0rXFwuWzAtOV0rKVxcLXNwZWNpYWxcXC4oWzAtOV0rKS8pO2lmKGkmJmlbMV0mJmlbMl0pe2NvbnN0IGU9aVsxXSx0PWlbMl07cmV0dXJuXCJcIi5jb25jYXQoZSxcIi5cIikuY29uY2F0KDEwMCooTnVtYmVyKHQpKzEpKX1yZXR1cm5cIjQuMC4wLjk5OVwifShcIjQuMTkuM1wiKSxOQz1mdW5jdGlvbigpe3RyeXtyZXR1cm4hMD09PUpTT04ucGFyc2UoXCJ0cnVlXCIpfWNhdGNoKGUpe3JldHVybiEwfX0oKSxEQz1cInY0LjE5LjMtMC1nYjJjYThjYTcoMTEvMi8yMDIzLCAyOjU3OjMzIFBNKVwiLFBDPXtQUk9DRVNTX0lEOlwiXCIsRU5DUllQVF9BRVM6ITAsQVJFQVM6W1wiQ0hJTkFcIixcIkdMT0JBTFwiXSxXRUJDU19ET01BSU46W1wid2VicnRjMi1hcC13ZWItMS5hZ29yYS5pb1wiLFwid2VicnRjMi0yLmFwLnNkLXJ0bi5jb21cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcIndlYnJ0YzItYXAtd2ViLTMuYWdvcmEuaW9cIixcIndlYnJ0YzItNC5hcC5zZC1ydG4uY29tXCJdLFBST1hZX0NTOltcImFwLXByb3h5LTEuYWdvcmEuaW9cIixcImFwLXByb3h5LTIuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItMS5hZ29yYS5pb1wiLFwiY2RzLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcImNkcy1hcC13ZWItMy5hZ29yYS5pb1wiLFwiY2RzLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLTEuYWdvcmEuaW9cIixcInN1YS13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJzdWEtYXAtd2ViLTMuYWdvcmEuaW9cIixcInN1YS13ZWItNC5hcC5zZC1ydG4uY29tXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLTEuYWdvcmEuaW9cIixcInVhcC13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJ1YXAtYXAtd2ViLTMuYWdvcmEuaW9cIixcInVhcC13ZWItNC5hcC5zZC1ydG4uY29tXCJdLExPR19VUExPQURfU0VSVkVSOlwibG9nc2VydmljZS5hZ29yYS5pb1wiLEVWRU5UX1JFUE9SVF9ET01BSU46XCJzdGF0c2NvbGxlY3Rvci0xLmFnb3JhLmlvXCIsRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46XCJ3ZWItMi5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCIsRU5BQkxFX0VWRU5UX1JFUE9SVDohMCxHQVRFV0FZX0FERFJFU1M6W10sR0FURVdBWV9XU1NfQUREUkVTUzpcIlwiLExJVkVfU1RSRUFNSU5HX0FERFJFU1M6XCJcIixIVFRQX0NPTk5FQ1RfVElNRU9VVDo1ZTMsU0lHTkFMX1JFUVVFU1RfVElNRU9VVDoxZTQsUkVQT1JUX1NUQVRTOiEwLFVQTE9BRF9MT0c6ITEsTk9UX1JFUE9SVF9FVkVOVDpbXSxTVUJTQ1JJQkVfVFdDQzohMSxQVUJMSVNIX1RXQ0M6ITEsUElOR19QT05HX1RJTUVfT1VUOjEwLFdFQlNPQ0tFVF9USU1FT1VUX01JTjoxZTQsRVZFTlRfUkVQT1JUX1NFTkRfSU5URVJWQUw6M2UzLENPTkZJR19ESVNUUklCVVRFX0lOVEVSVkFMOjNlNSxFTkFCTEVfQ09ORklHX0RJU1RSSUJVVEU6ITAsQ0FORElEQVRFX1RJTUVPVVQ6NWUzLFNIT1dfUkVQT1JUX0lOVk9LRVJfTE9HOiExLEpPSU5fRVhURU5EOlwiXCIsUFVCX0VYVEVORDpcIlwiLFNVQl9FWFRFTkQ6XCJcIixGT1JDRV9UVVJOOiExLFRVUk5fRU5BQkxFX1RDUDohMCxUVVJOX0VOQUJMRV9VRFA6ITAsTUFYX1VQTE9BRF9DQUNIRTo1MCxVUExPQURfQ0FDSEVfSU5URVJWQUw6MmUzLEFKQVhfUkVRVUVTVF9DT05DVVJSRU5UOjMsUkVQT1JUX0FQUF9TQ0VOQVJJTzp2b2lkIDAsR0FURVdBWV9ET01BSU5TOltcImVkZ2UuYWdvcmEuaW9cIixcImVkZ2Uuc2QtcnRuLmNvbVwiXSxXT1JLRVJfRE9NQUlOOlwiZWRnZS5hZ29yYS5pb1wiLFRVUk5fRE9NQUlOOlwiZWRnZS5hZ29yYS5pb1wiLEVWRU5UX1JFUE9SVF9SRVRSWTohMCxDSFJPTUVfRk9SQ0VfUExBTl9COiExLEFVRElPX1NPVVJDRV9WT0xVTUVfVVBEQVRFX0lOVEVSVkFMOjQwMCxBVURJT19TT1VSQ0VfQVZHX1ZPTFVNRV9EVVJBVElPTjozZTMsQVVESU9fVk9MVU1FX0lORElDQVRJT05fSU5URVJWQUw6MmUzLFZPTFVNRV9WT0lDRV9XRUlHSFQ6MTAsR0VUX1ZPTFVNRV9PRl9NVVRFRF9BVURJT19UUkFDSzohMSxTVEFUU19VUERBVEVfSU5URVJWQUw6MjUwLE5PUk1BTF9FVkVOVF9RVUVVRV9DQVBBQ0lUWToxMDAsQ1VTVE9NX1JFUE9SVDohMCxDVVNUT01fUkVQT1JUX0xJTUlUOjIwLFBST1hZX1NFUlZFUl9UWVBFMjpcIndlYm5naW54LXByb3h5LmFnb3JhLmlvXCIsUFJPWFlfU0VSVkVSX1RZUEUzOltcIndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCIsXCJ3ZWJydGMtY2xvdWQtcHJveHkuYWdvcmEuaW9cIl0sQ1VTVE9NX1BVQl9BTlNXRVJfTU9ESUZJRVI6bnVsbCxDVVNUT01fU1VCX0FOU1dFUl9NT0RJRklFUjpudWxsLENVU1RPTV9QVUJfT0ZGRVJfTU9ESUZJRVI6bnVsbCxDVVNUT01fU1VCX09GRkVSX01PRElGSUVSOm51bGwsRFNDUF9UWVBFOlwiaGlnaFwiLFJFTU9WRV9ORVdfQ09ERUNTOiEwLEZSQUdFTUVOVF9MRU5HVEg6MyxXRUJTT0NLRVRfQ09NUFJFU1M6ITEsU0lNVUxDQVNUOiExLFBSRUxPQURfTUVESUFfQ09VTlQ6MCxVU0VfUFVCX1JUWDohMSxVU0VfU1VCX1JUWDohMSxDSEVDS19WSURFT19WSVNJQkxFX0lOVEVSVkFMOjNlNCxDSEVDS19MT0NBTF9TVEFUU19JTlRFUlZBTDoxMDAsUFJPRklMRV9TV0lUQ0hfSU5URVJWQUw6MmUzLFVOU1VQUE9SVEVEX1ZJREVPX0NPREVDOltdLEVOVU1FUkFURV9ERVZJQ0VTX0lOVEVSVkFMOiExLEVOVU1FUkFURV9ERVZJQ0VTX0lOVEVSVkFMX1RJTUU6MWU0LFVTRV9ORVdfVE9LRU46ITEsQ0xPU0VfQUZCX0ZPUl9MT0NBTF9BUDohMCxKT0lOX01BWF9DT05DVVJSRU5DWTo2LEpPSU5fV0lUSF9GQUxMQkFDS19TSUdOQUxfUFJPWFk6ITAsSk9JTl9XSVRIX0ZBTExCQUNLX01FRElBX1BST1hZOiEwLEpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWV9GT1JDRTohMSxKT0lOX0dBVEVXQVlfVFJZXzQ0M1BPUlRfRFVSQVRJT046MmUzLEpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZOiExLEpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU46ITAsSk9JTl9HQVRFV0FZX0ZBTExCQUNLX1BPUlQ6NDQzLFVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZOiExLEgyNjRfUFJPRklMRV9MRVZFTF9JRDpcIlwiLFVTRV9ORVdfTE9HOiExLExPR19WRVJTSU9OOjMsTUVESUFfREVWSUNFX0NPTlNUUkFJTlRTOm51bGwsRU5DUllQVF9QUk9YWV9VU0VSTkFNRV9BTkRfUFNXOiEwLFNEUF9MT0dHSU5HOiExLENTUF9ERVRFQ1RFRF9IT1NUTkFNRV9MSVNUOltcImFnb3JhLmlvXCIsXCJzZC1ydG4uY29tXCJdLFJFTU9URV9BVURJT19UUkFDS19VU0VTX1dFQl9BVURJTzohMSxMT0NBTF9BVURJT19UUkFDS19VU0VTX1dFQl9BVURJTzohMCxCSVRSQVRFX0FEQVBURVJfVFlQRTpcIlNUQU5EQVJEX0JJVFJBVEVcIixBSV9ERU5PSVNFUl9QQVJBTUVURVJTOnt9LEFESlVTVF8zQV9GUk9NX1BMVUdJTlM6ITAsUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWTohMCxGSUxURVJfU0VORF9IMjY0X0JBU0VMSU5FOiExLEVOQUJMRV9QVUJMSVNIRURfVVNFUl9MSVNUOiEwLE1BWF9TVUJTQ1JJUFRJT046NTAsWF9HT09HTEVfU1RBUlRfQklUUkFURTp2b2lkIDAsTkVXX1JFUE9SVF9TRVJWRVI6ITEsTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOUzpbXCJkYXRhLXJlcG9ydGluZy5hZ29yYS5pb1wiLFwiZGF0YS1yZXBvcnRpbmcuYWdvcmEuaW9cIl0sVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRV9MRU5HVEhfTElNSVQ6M2U1LFZJREVPX0lOU1BFQ1RfSU5URVJWQUxfTUlOSU1VTToxZTMsVklERU9fSU5TUEVDVF9RVUFMSVRZX1JBVElPOi45LFZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfSE9TVDpcImVkZ2UuYWdvcmEuaW9cIixWSURFT19JTlNQRUNUX1dPUktFUl9NQU5BR0VSX1BPUlQ6XCJcIixWSURFT19JTlNQRUNUX1dPUktFUl9QT1JUOlwiXCIsU0hPV19WSURFT19JTlNQRUNUX1dPUktFUl9NRVNTQUdFOiExLFNUQVRTX0NPTExFQ1RPUl9QT1JUOjQ0MyxGT1JDRV9UVVJOX1RDUDohMSxTVUJTQ1JJQkVfQVVESU9fRklMVEVSX1RPUE46dm9pZCAwLEVOQUJMRV9QVUJMSVNIX0FVRElPX0ZJTFRFUjp2b2lkIDAsRElTQUJMRV9GRUM6dm9pZCAwLFdFQkFVRElPX0lOSVRfT1BUSU9OUzp2b2lkIDAsRklMVEVSX1ZJREVPX0ZFQzohMCxGSUxURVJfQVVESU9fRkVDOiExLENIUk9NRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkc6ITAsRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkc6ITEsRVhURU5TSU9OX1VTQUdFX1VQTE9BRF9JTlRFUlZBTDoxZTQsSUNFX1JFU1RBUlQ6ITAsSUNFX1JFU1RBUlRfSU5URVJWQUw6MWU0LE5FV19JQ0VfUkVTVEFSVDohMSxFTkFCTEVfVVNFUl9MSUNFTlNFX0NIRUNLOiEwLFNJR05BTF9DSEFOTkVMOjAsVFJBTlNNSVRURVJfSU5JVElBTF9SVFQ6MzAsVFJBTlNNSVRURVJfSU5JVElBTF9SVE86MzAsVFJBTlNNSVRURVJfTUFYX0JBVENIX0FDS19DT1VOVDoyLFRSQU5TTUlUVEVSX01BWF9SVE86NTAwLERBVEFDSEFOTkVMX0NPTVBSRVNTOiExLEZJTkdFUlBSSU5UOm51bGwsRENfSk9JTl9XSVRIX0ZBSUxCQUNLOjVlMyxFTkFCTEVfVklERU9fRlJBTUVfQ0FMTEJBQ0s6ITAsVklERU9fRlJFRVpFX0RVUkFUSU9OOjUwMCxTUEFUSUFMSVpFUl9QQVJBTUVURVJTOnt9LFVQTE9BRF9MT0dfSU5URVJWQUw6M2UzLFVQTE9BRF9MT0dfUkVRVUVTVF9SRVRSWV9JTlRFUlZBTDoyZTMsVVBMT0FEX0xPR19SRVFVRVNUX01BWF9SRVRSWV9JTlRFUlZBTDoyZTQsVVBMT0FEX0xPR19UUllfSU5URVJWQUxfV0hJTEVfT0ZGOjVlMyxVUExPQURfTE9HX1JFVFJZX0lOVEVSVkFMX1YxOjFlNCxVUExPQURfTE9HX1RXSUNFX1JFVFJZX0lOVEVSVkFMX1YxOjIwMCxVUExPQURfTE9HX0xFTkdUSF9FQUNIX1RJTUU6MTAsQVBQX1RZUEU6MCxESVNBQkxFX1dFQkFVRElPOiExLENIQU5ORUxfTUVESUFfUkVMQVlfU0VSVkVSUzp2b2lkIDAsS0VFUF9MQVNUX0ZSQU1FOiEwLEZPUldBUkRfUDJQX0NSRUFUSU9OOiEwLFNZTkNfR1JPVVA6ITAsQkxPQ0tfTE9DQUxfQ0xJRU5UOiExLEFQX0FSRUE6ITAsU1ZDOltdLEVOQUJMRV9FTkNPREVEX1RSQU5TRk9STTohMSxJTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9IT1NUOlwiZWRnZS5hZ29yYS5pb1wiLElNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VfTEVOR1RIX0xJTUlUOjNlNSxJTUFHRV9NT0RFUkFUSU9OX0lOVEVSVkFMX01JTklNVU06MWUzLFNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRTohMSxJTUFHRV9NT0RFUkFUSU9OX1FVQUxJVFlfUkFUSU86LjksSU1BR0VfTU9ERVJBVElPTl9VUExPQURfUkVQT1JUX0lOVEVSVkFMOjVlMyxTSE9XX0dMT0JBTF9DTElFTlRfTElTVDohMSxSVE0yX0ZMQUc6dm9pZCAwLEFQX1JUTTohMSxFTkFCTEVfREFUQVNUUkVBTV8yOiExLERBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTOjEwLEVOQUJMRV9VU0VSX0FVVE9fUkVCQUxBTkNFX0NIRUNLOiEwLEVOQUJMRV9JTlNUQU5UX1ZJREVPOiExLEVOQUJMRV9OVFBfUkVQT1JUOiExLFVTRV9YUjohMSxUQ1BfQ0FORElEQVRFX09OTFk6ITEsRVhURVJOQUxfU0lHTkFMX1JFUVVFU1RfVElNRU9VVDoxZTQsUDJQOiExLFNIT1dfUDJQX0xPRzohMSxBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1RJTUVPVVQ6MSxBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1JBVElPOjIsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9USU1FT1VUX01BWDo2ZTQsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9DT1VOVF9NQVg6MWU1LEFVRElPX0NPTlRFWFQ6bnVsbCxXRUJDU19CQUNLVVBfQ09OTkVDVF9USU1FT1VUOjZlMyxQTEFZRVJfU1RBVEVfREVGRVI6MmUzLFNJR05BTF9SRVFVRVNUX1dBVENIX0lOVEVSVkFMOjFlMyxGSUxFUEFUSF9MRU5NQVg6MjU1LERVQUxTVFJFQU1fT1BFUkFUSU9OX0NIRUNLOiEwLE1FRElBX0VMRU1FTlRfRVhJU1RTX0RFUFRIOjMsU0hJTV9DQU5ESURBVEU6ITEsTEVBVkVfTVNHX1RJTUVPVVQ6MmUzLFNUQVRTX0ZJTFRFUjp7dHJhbnNwb3J0SWQ6ITAsZ29vZ1RyYWNrSWQ6ITB9LEZJTFRFUl9WSURFT19DT0RFQzpbXX07ZnVuY3Rpb24gTEMoZSx0LGkpe3ZhciBuLHI7UHIobj1PYmplY3Qua2V5cyhQQykpLmNhbGwobixlKSYmKCFpJiZQcihyPU9iamVjdC5rZXlzKE1DKSkuY2FsbChyLGUpfHwoUENbZV09dCkpfWZ1bmN0aW9uIGtDKGUpe3JldHVybiBQQ1tlXX1jb25zdCBNQz17fTt2YXIgVUMseEM7IWZ1bmN0aW9uKGUpe2UuaDI2ND1cImgyNjRcIixlLmgyNjU9XCJoMjY1XCIsZS52cDg9XCJ2cDhcIixlLnZwOT1cInZwOVwiLGUuYXYxPVwiYXYxXCJ9KFVDfHwoVUM9e30pKSxmdW5jdGlvbihlKXtlLm9wdXM9XCJvcHVzXCIsZS5wY21hPVwicGNtYVwiLGUucGNtdT1cInBjbXVcIixlLmc3MjI9XCJnNzIyXCJ9KHhDfHwoeEM9e30pKTtjb25zdCBWQz1uZXcgY2xhc3MgZXh0ZW5kcyBpVHtyZXBvcnRMb2dVcGxvYWRFcnJvcihlKXt0aGlzLmVtaXQoXCJSRVBPUlRfTE9HX1VQTE9BRFwiLGUpfX07Y2xhc3MgRkN7Y29uc3RydWN0b3IoZSl7bnUodGhpcyxcImxvZ2dlclwiLHZvaWQgMCksbnUodGhpcyxcInByZWZpeExpc3RzXCIsW10pLHRoaXMubG9nZ2VyPWV9ZGVidWcoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt0aGlzLmxvZ2dlci5kZWJ1ZyguLi50aGlzLnByZWZpeExpc3RzLC4uLnQpfWluZm8oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt0aGlzLmxvZ2dlci5pbmZvKC4uLnRoaXMucHJlZml4TGlzdHMsLi4udCl9d2FybmluZygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3RoaXMubG9nZ2VyLndhcm5pbmcoLi4udGhpcy5wcmVmaXhMaXN0cywuLi50KX1lcnJvcigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3RoaXMubG9nZ2VyLmVycm9yKC4uLnRoaXMucHJlZml4TGlzdHMsLi4udCl9cHJlZml4KGUpe3JldHVybiB0aGlzLnByZWZpeExpc3RzLnB1c2goZSksdGhpc31wb3BQcmVmaXgoKXtyZXR1cm4gdGhpcy5wcmVmaXhMaXN0cy5wb3AoKSx0aGlzfX1mdW5jdGlvbiBCQygpe2NvbnN0IGU9bmV3IERhdGU7cmV0dXJuIGUudG9UaW1lU3RyaW5nKCkuc3BsaXQoXCIgXCIpWzBdK1wiOlwiK2UuZ2V0TWlsbGlzZWNvbmRzKCl9ZnVuY3Rpb24gakMoKXtjb25zdCBlPW5ldyBEYXRlLHQ9LygoXFxkKzopezJ9XFxkKykvLmV4ZWMoKG5ldyBEYXRlKS50b1VUQ1N0cmluZygpKTtyZXR1cm4gdD8obnVsbD09dD92b2lkIDA6dFswXSkrXCI6XCIrZS5nZXRVVENNaWxsaXNlY29uZHMoKTplLnRvVGltZVN0cmluZygpLnNwbGl0KFwiIFwiKVswXStcIjpcIitlLmdldE1pbGxpc2Vjb25kcygpfWNvbnN0IEdDPXtERUJVRzowLElORk86MSxXQVJOSU5HOjIsRVJST1I6MyxOT05FOjR9LFdDPURhdGUubm93KCksSEM9ZT0+e2Zvcihjb25zdCB0IGluIEdDKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChHQyx0KSYmR0NbdF09PT1lKXJldHVybiB0O3JldHVyblwiREVGQVVMVFwifTtjb25zdCBLQz1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXtudSh0aGlzLFwicHJveHlTZXJ2ZXJVUkxcIix2b2lkIDApLG51KHRoaXMsXCJsb2dMZXZlbFwiLEdDLkRFQlVHKSxudSh0aGlzLFwidXBsb2FkU3RhdGVcIixcImNvbGxlY3RpbmdcIiksbnUodGhpcyxcInVwbG9hZExvZ1dhaXRpbmdMaXN0XCIsW10pLG51KHRoaXMsXCJ1cGxvYWRMb2dVcGxvYWRpbmdMaXN0XCIsW10pLG51KHRoaXMsXCJ1cGxvYWRFcnJvckNvdW50XCIsMCksbnUodGhpcyxcImN1cnJlbnRMb2dJRFwiLDApLG51KHRoaXMsXCJ1cmxcIix2b2lkIDApLG51KHRoaXMsXCJleHRMb2dcIiwoKGUsdCk9Pnt0aGlzLmFwcGVuZExvZ1RvV2FpdGluZ0xpc3QoZSwuLi50KX0pKX1kZWJ1Zygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2NvbnN0IG49W0dDLkRFQlVHXS5jb25jYXQodCk7dGhpcy5sb2cuYXBwbHkodGhpcyxuKX1pbmZvKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07Y29uc3Qgbj1bR0MuSU5GT10uY29uY2F0KHQpO3RoaXMubG9nLmFwcGx5KHRoaXMsbil9d2FybmluZygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2NvbnN0IG49W0dDLldBUk5JTkddLmNvbmNhdCh0KTt0aGlzLmxvZy5hcHBseSh0aGlzLG4pfXdhcm4oKXt0aGlzLndhcm5pbmcoLi4uYXJndW1lbnRzKX1lcnJvcigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2NvbnN0IG49W0dDLkVSUk9SXS5jb25jYXQodCk7dGhpcy5sb2cuYXBwbHkodGhpcyxuKX11cGxvYWQoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCBuPVtHQy5ERUJVR10uY29uY2F0KHQpO3RoaXMudXBsb2FkTG9nLmFwcGx5KHRoaXMsbil9c2V0TG9nTGV2ZWwoZSl7ZT1NYXRoLm1pbihNYXRoLm1heCgwLGUpLDQpLHRoaXMubG9nTGV2ZWw9ZX1lbmFibGVMb2dVcGxvYWQoKXtMQyhcIlVQTE9BRF9MT0dcIiwhMCl9ZGlzYWJsZUxvZ1VwbG9hZCgpe0xDKFwiVVBMT0FEX0xPR1wiLCExKSx0aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3Q9W10sdGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdD1bXX1zZXRQcm94eVNlcnZlcihlKXt0aGlzLnByb3h5U2VydmVyVVJMPWV9cHJlZml4KGUpe3JldHVybiBuZXcgRkModGhpcykucHJlZml4KGUpfWxvZygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2lmKERhdGUubm93KCktV0M8MTAwKXJldHVybiB2b2lkIHNldFRpbWVvdXQoKCgpPT57dGhpcy5sb2coLi4udCl9KSxEYXRlLm5vdygpLVdDKTtjb25zdCBuPU1hdGgubWF4KDAsTWF0aC5taW4oNCx0WzBdKSk7aWYodFswXT1CQygpK1wiIEFnb3JhLVNESyBbXCIuY29uY2F0KEhDKG4pLFwiXTpcIiksdGhpcy5hcHBlbmRMb2dUb1dhaXRpbmdMaXN0KG4sLi4udCksbjx0aGlzLmxvZ0xldmVsKXJldHVybjtjb25zdCByPUJDKCkrXCIgJWNBZ29yYS1TREsgW1wiLmNvbmNhdChIQyhuKSxcIl06XCIpO2xldCBzPVtdO2lmKCFrQyhcIlVTRV9ORVdfTE9HXCIpKXN3aXRjaChuKXtjYXNlIEdDLkRFQlVHOnM9W3IsXCJjb2xvcjogIzY0QjVGNjtcIl0uY29uY2F0KHQuc2xpY2UoMSkpLGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUscyk7YnJlYWs7Y2FzZSBHQy5JTkZPOnM9W3IsXCJjb2xvcjogIzFFODhFNTsgZm9udC13ZWlnaHQ6IGJvbGQ7XCJdLmNvbmNhdCh0LnNsaWNlKDEpKSxjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLHMpO2JyZWFrO2Nhc2UgR0MuV0FSTklORzpzPVtyLFwiY29sb3I6ICNGQjhDMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiXS5jb25jYXQodC5zbGljZSgxKSksY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUscyk7YnJlYWs7Y2FzZSBHQy5FUlJPUjpzPVtyLFwiY29sb3I6ICNCMDAwMjA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiXS5jb25jYXQodC5zbGljZSgxKSksY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLHMpfX11cGxvYWRMb2coKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtpZihEYXRlLm5vdygpLVdDPDEwMClyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KCgoKT0+e3RoaXMudXBsb2FkTG9nKC4uLnQpfSksRGF0ZS5ub3coKS1XQyk7Y29uc3Qgbj1NYXRoLm1heCgwLE1hdGgubWluKDQsdFswXSkpO3RbMF09QkMoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdChIQyhuKSxcIl06XCIpLHRoaXMuYXBwZW5kTG9nVG9XYWl0aW5nTGlzdChuLC4uLnQpfWFwcGVuZExvZ1RvV2FpdGluZ0xpc3QoZSl7aWYoIWtDKFwiVVBMT0FEX0xPR1wiKSlyZXR1cm47Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodD4xP3QtMTowKSxuPTE7bjx0O24rKylpW24tMV09YXJndW1lbnRzW25dO0FycmF5LmlzQXJyYXkoaVswXSk/aVswXVswXT1qQygpK1wiIEFnb3JhLVNESyBbXCIuY29uY2F0KEhDKGUpLFwiXTpcIik6aVswXT1qQygpK1wiIEFnb3JhLVNESyBbXCIuY29uY2F0KEhDKGUpLFwiXTpcIik7bGV0IHI9XCJcIjtpLmZvckVhY2goKGU9PntcIm9iamVjdFwiPT10eXBlb2YgZSYmKGU9SlNPTi5zdHJpbmdpZnkoZSkpLHIrPVwiXCIuY29uY2F0KGUsXCIgXCIpfSkpLHRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3QucHVzaCh7cGF5bG9hZF9zdHI6cixsb2dfbGV2ZWw6ZSxsb2dfaXRlbV9pZDp0aGlzLmN1cnJlbnRMb2dJRCsrfSksXCJ1cGxvYWRpbmdcIj09PXRoaXMudXBsb2FkU3RhdGUmJjA9PT10aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3QubGVuZ3RoJiZ0aGlzLnVwbG9hZExvZ0ludGVydmFsKCl9c3RhcnRVcGxvYWQoKXt0aGlzLnVwbG9hZFN0YXRlPVwidXBsb2FkaW5nXCIsMD09PXRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdC5sZW5ndGgmJnRoaXMudXBsb2FkTG9nSW50ZXJ2YWwoKX1hc3luYyB1cGxvYWRMb2dzKCl7Y29uc3QgZT10aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3QsdD17c2RrX3ZlcnNpb246T0MscHJvY2Vzc19pZDprQyhcIlBST0NFU1NfSURcIikscGF5bG9hZDpKU09OLnN0cmluZ2lmeShlKX07cmV0dXJuIFhUKChhc3luYygpPT57Y29uc3QgZT1hd2FpdCBFQy5wb3N0KHRoaXMudXJsfHwodGhpcy5wcm94eVNlcnZlclVSTD9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXJVUkwsXCIvbHMvP2g9XCIpLmNvbmNhdChrQyhcIkxPR19VUExPQURfU0VSVkVSXCIpLFwiJnA9NDQzJmQ9dXBsb2FkL3YxXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoa0MoXCJMT0dfVVBMT0FEX1NFUlZFUlwiKSxcIi91cGxvYWQvdjFcIikpLHQse3Jlc3BvbnNlVHlwZTpcInRleHRcIn0pO2lmKFwiT0tcIiE9PWUuZGF0YSl7Y29uc3QgdD1uZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHVwbG9hZCBsb2cgcmVzcG9uc2VcIik7dGhyb3cgdC5yZXNwb25zZT1lLHR9fSksKCgpPT4odGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0PVtdLCExKSksKGU9PihlLnJlc3BvbnNlP1ZDLnJlcG9ydExvZ1VwbG9hZEVycm9yKHtzdGF0dXM6ZS5yZXNwb25zZS5zdGF0dXMsZGF0YTplLnJlc3BvbnNlLmRhdGEsaGVhZGVyczplLnJlc3BvbnNlLmhlYWRlcnMsbWVzc2FnZTplLm1lc3NhZ2V9KTplLnJlcXVlc3Q/VkMucmVwb3J0TG9nVXBsb2FkRXJyb3Ioe3N0YXR1czplLnJlcXVlc3Quc3RhdHVzLG1lc3NhZ2U6ZS5tZXNzYWdlfSk6VkMucmVwb3J0TG9nVXBsb2FkRXJyb3Ioe3N0YXR1czotMSxtZXNzYWdlOmUubWVzc2FnZX0pLCEwKSkse3RpbWVvdXQ6a0MoXCJVUExPQURfTE9HX1JFUVVFU1RfUkVUUllfSU5URVJWQUxcIiksbWF4UmV0cnlUaW1lb3V0OmtDKFwiVVBMT0FEX0xPR19SRVFVRVNUX01BWF9SRVRSWV9JTlRFUlZBTFwiKX0pfXVwbG9hZExvZ0ludGVydmFsKCl7MD09PXRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdC5sZW5ndGgmJjA9PT10aGlzLnVwbG9hZExvZ1dhaXRpbmdMaXN0Lmxlbmd0aHx8KDA9PT10aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3QubGVuZ3RoJiYodGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0PXRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3Quc3BsaWNlKDAsa0MoXCJVUExPQURfTE9HX0xFTkdUSF9FQUNIX1RJTUVcIikpKSx0aGlzLnVwbG9hZExvZ3MoKS50aGVuKCgoKT0+e3RoaXMudXBsb2FkRXJyb3JDb3VudD0wLHRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3QubGVuZ3RoPjAmJndpbmRvdy5zZXRUaW1lb3V0KCgoKT0+dGhpcy51cGxvYWRMb2dJbnRlcnZhbCgpKSxrQyhcIlVQTE9BRF9MT0dfSU5URVJWQUxcIikpfSkpLmNhdGNoKChlPT57dGhpcy51cGxvYWRFcnJvckNvdW50Kz0xLHRoaXMudXBsb2FkRXJyb3JDb3VudDwyP3dpbmRvdy5zZXRUaW1lb3V0KCgoKT0+dGhpcy51cGxvYWRMb2dJbnRlcnZhbCgpKSxrQyhcIlVQTE9BRF9MT0dfVFdJQ0VfUkVUUllfSU5URVJWQUxfVjFcIikpOndpbmRvdy5zZXRUaW1lb3V0KCgoKT0+dGhpcy51cGxvYWRMb2dJbnRlcnZhbCgpKSxrQyhcIlVQTE9BRF9MT0dfUkVUUllfSU5URVJWQUxfVjFcIikpfSkpKX19O3ZhciBZQyxxQztmdW5jdGlvbiBKQyhlKXtyZXR1cm4gV2coZS5yZXBvcnRJZCxcInBhcmFtcy5yZXBvcnRJZFwiLDAsMTAwLCExKSxXZyhlLmNhdGVnb3J5LFwicGFyYW1zLmNhdGVnb3J5XCIsMCwxMDAsITEpLFdnKGUuZXZlbnQsXCJwYXJhbXMuZXZlbnRcIiwwLDEwMCwhMSksV2coZS5sYWJlbCxcInBhcmFtcy5sYWJlbFwiLDAsMTAwLCExKSxqZyhlLnZhbHVlLFwicGFyYW1zLnZhbHVlXCIsTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsITEpLCEwfSFmdW5jdGlvbihlKXtlLkZSRUU9XCJmcmVlXCIsZS5VUExPQURJTkc9XCJ1cGxvYWRpbmdcIn0oWUN8fChZQz17fSkpLGZ1bmN0aW9uKGUpe2VbZS5NSVNDPTBdPVwiTUlTQ1wiLGVbZS5JTlRFUk5BTF9FVkVOVD0xXT1cIklOVEVSTkFMX0VWRU5UXCIsZVtlLlBVQkxJQ19FVkVOVD0yXT1cIlBVQkxJQ19FVkVOVFwiLGVbZS5XRUJfRVZFTlQ9M109XCJXRUJfRVZFTlRcIixlW2UuSU5URVJOQUxfQVBJPTRdPVwiSU5URVJOQUxfQVBJXCIsZVtlLldFQl9BUEk9NV09XCJXRUJfQVBJXCIsZVtlLlBVQkxJQ19BUEk9Nl09XCJQVUJMSUNfQVBJXCJ9KHFDfHwocUM9e30pKTtjb25zdCB6Qz17c2lkOlwiXCIsbHRzOjAsc3VjY2VzczpudWxsLGNuYW1lOm51bGwsdWlkOm51bGwscGVlcjpudWxsLGNpZDpudWxsLGVsYXBzZTpudWxsLGV4dGVuZDpudWxsLHZpZDowfTt2YXIgWEMsUUMsWkMsJEM7ZnVuY3Rpb24gZXYoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHR2KGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2V2KE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmV2KE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfSFmdW5jdGlvbihlKXtlLlBVQkxJU0g9XCJwdWJsaXNoXCIsZS5TVUJTQ1JJQkU9XCJzdWJzY3JpYmVcIixlLldTX0NPTVBSRVNTT1JfSU5JVD1cIndzX2NvbXByZXNzb3JfaW5pdFwiLGUuU0VTU0lPTl9JTklUPVwic2Vzc2lvbl9pbml0XCIsZS5KT0lOX0NIT09TRV9TRVJWRVI9XCJqb2luX2Nob29zZV9zZXJ2ZXJcIixlLlJFUV9VU0VSX0FDQ09VTlQ9XCJyZXFfdXNlcl9hY2NvdW50XCIsZS5KT0lOX0dBVEVXQVk9XCJqb2luX2dhdGV3YXlcIixlLlJFSk9JTl9HQVRFV0FZPVwicmVqb2luX2dhdGV3YXlcIixlLlNUUkVBTV9TV0lUQ0g9XCJzdHJlYW1fc3dpdGNoXCIsZS5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSPVwicmVxdWVzdF9wcm94eV93b3JrZXJfbWFuYWdlclwiLGUuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVI9XCJyZXF1ZXN0X3Byb3h5X2FwcGNlbnRlclwiLGUuRklSU1RfVklERU9fUkVDRUlWRUQ9XCJmaXJzdF92aWRlb19yZWNlaXZlZFwiLGUuRklSU1RfQVVESU9fUkVDRUlWRUQ9XCJmaXJzdF9hdWRpb19yZWNlaXZlZFwiLGUuRklSU1RfVklERU9fREVDT0RFPVwiZmlyc3RfdmlkZW9fZGVjb2RlXCIsZS5GSVJTVF9BVURJT19ERUNPREU9XCJmaXJzdF9hdWRpb19kZWNvZGVcIixlLk9OX0FERF9BVURJT19TVFJFQU09XCJvbl9hZGRfYXVkaW9fc3RyZWFtXCIsZS5PTl9BRERfVklERU9fU1RSRUFNPVwib25fYWRkX3ZpZGVvX3N0cmVhbVwiLGUuT05fVVBEQVRFX1NUUkVBTT1cIm9uX3VwZGF0ZV9zdHJlYW1cIixlLk9OX1JFTU9WRV9TVFJFQU09XCJvbl9yZW1vdmVfc3RyZWFtXCIsZS5VU0VSX0FOQUxZVElDUz1cInJlcV91c2VyX2FuYWx5dGljc1wiLGUuUENfU1RBVFM9XCJwY19zdGF0c1wifShYQ3x8KFhDPXt9KSksZnVuY3Rpb24oZSl7ZS5TRVNTSU9OPVwiaW8uYWdvcmEucGIuV3J0Yy5TZXNzaW9uXCIsZS5KT0lOX0NIT09TRV9TRVJWRVI9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5DaG9vc2VTZXJ2ZXJcIixlLlJFUV9VU0VSX0FDQ09VTlQ9XCJpby5hZ29yYS5wYi5XcnRjLlJlcVVzZXJBY2NvdW50XCIsZS5KT0lOX0dBVEVXQVk9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5HYXRld2F5XCIsZS5SRV9KT0lOX0dBVEVXQVk9XCJpby5hZ29yYS5wYi5XcnRjLlJlSm9pbkdhdGV3YXlcIixlLlBVQkxJU0g9XCJpby5hZ29yYS5wYi5XcnRjLlB1Ymxpc2hcIixlLlNVQlNDUklCRT1cImlvLmFnb3JhLnBiLldydGMuU3Vic2NyaWJlXCIsZS5XU19DT01QUkVTU09SX0lOSVQ9XCJpby5hZ29yYS5wYi5XcnRjLldzQ29tcHJlc3NvckluaXRcIixlLlNUUkVBTV9TV0lUQ0g9XCJpby5hZ29yYS5wYi5XcnRjLlN0cmVhbVN3aXRjaFwiLGUuQVVESU9fU0VORElOR19TVE9QUEVEPVwiaW8uYWdvcmEucGIuV3J0Yy5BdWRpb1NlbmRpbmdTdG9wcGVkXCIsZS5WSURFT19TRU5ESU5HX1NUT1BQRUQ9XCJpby5hZ29yYS5wYi5XcnRjLlZpZGVvU2VuZGluZ1N0b3BwZWRcIixlLlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSPVwiaW8uYWdvcmEucGIuV3J0Yy5SZXF1ZXN0UHJveHlBcHBDZW50ZXJcIixlLlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVI9XCJpby5hZ29yYS5wYi5XcnRjLlJlcXVlc3RQcm94eVdvcmtlck1hbmFnZXJcIixlLkFQSV9JTlZPS0U9XCJpby5hZ29yYS5wYi5XcnRjLkFwaUludm9rZVwiLGUuRklSU1RfVklERU9fUkVDRUlWRUQ9XCJpby5hZ29yYS5wYi5XcnRjLkZpcnN0VmlkZW9SZWNlaXZlZFwiLGUuRklSU1RfQVVESU9fUkVDRUlWRUQ9XCJpby5hZ29yYS5wYi5XcnRjLkZpcnN0QXVkaW9SZWNlaXZlZFwiLGUuRklSU1RfVklERU9fREVDT0RFPVwiaW8uYWdvcmEucGIuV3J0Yy5GaXJzdFZpZGVvRGVjb2RlXCIsZS5GSVJTVF9BVURJT19ERUNPREU9XCJpby5hZ29yYS5wYi5XcnRjLkZpcnN0QXVkaW9EZWNvZGVcIixlLk9OX0FERF9BVURJT19TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uQWRkQXVkaW9TdHJlYW1cIixlLk9OX0FERF9WSURFT19TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uQWRkVmlkZW9TdHJlYW1cIixlLk9OX1VQREFURV9TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uVXBkYXRlU3RyZWFtXCIsZS5PTl9SRU1PVkVfU1RSRUFNPVwiaW8uYWdvcmEucGIuV3J0Yy5PblJlbW92ZVN0cmVhbVwiLGUuSk9JTl9DSEFOTkVMX1RJTUVPVVQ9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5DaGFubmVsVGltZW91dFwiLGUuUEVFUl9QVUJMSVNIX1NUQVRVUz1cImlvLmFnb3JhLnBiLldydGMuUGVlclB1Ymxpc2hTdGF0dXNcIixlLldPUktFUl9FVkVOVD1cImlvLmFnb3JhLnBiLldydGMuV29ya2VyRXZlbnRcIixlLkFQX1dPUktFUl9FVkVOVD1cImlvLmFnb3JhLnBiLldydGMuQVBXb3JrZXJFdmVudFwiLGUuSk9JTl9XRUJfUFJPWFlfQVA9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5XZWJQcm94eUFQXCIsZS5XRUJTT0NLRVRfUVVJVD1cImlvLmFnb3JhLnBiLldydGMuV2ViU29ja2V0UXVpdFwiLGUuVVNFUl9BTkFMWVRJQ1M9XCJpby5hZ29yYS5wYi5XcnRjLlVzZXJBbmFseXRpY3NcIixlLkFVVE9QTEFZX0ZBSUxFRD1cImlvLmFnb3JhLnBiLldydGMuQXV0b3BsYXlGYWlsZWRcIixlLlBDX1NUQVRTPVwiaW8uYWdvcmEucGIuV3J0Yy5QQ1N0YXRzXCJ9KFFDfHwoUUM9e30pKSxmdW5jdGlvbihlKXtlW2UuV09SS0VSX0VWRU5UPTE1Nl09XCJXT1JLRVJfRVZFTlRcIixlW2UuQVBfV09SS0VSX0VWRU5UPTE2MF09XCJBUF9XT1JLRVJfRVZFTlRcIn0oWkN8fChaQz17fSkpLGZ1bmN0aW9uKGUpe2VbZS5TRVNTSU9OPTI2XT1cIlNFU1NJT05cIixlW2UuSk9JTl9DSE9PU0VfU0VSVkVSPTI3XT1cIkpPSU5fQ0hPT1NFX1NFUlZFUlwiLGVbZS5SRVFfVVNFUl9BQ0NPVU5UPTE5Nl09XCJSRVFfVVNFUl9BQ0NPVU5UXCIsZVtlLkpPSU5fR0FURVdBWT0yOF09XCJKT0lOX0dBVEVXQVlcIixlW2UuUFVCTElTSD0zMF09XCJQVUJMSVNIXCIsZVtlLlNVQlNDUklCRT0yOV09XCJTVUJTQ1JJQkVcIixlW2UuV1NfQ09NUFJFU1NPUl9JTklUPTk0MzBdPVwiV1NfQ09NUFJFU1NPUl9JTklUXCIsZVtlLlNUUkVBTV9TV0lUQ0g9MzJdPVwiU1RSRUFNX1NXSVRDSFwiLGVbZS5BVURJT19TRU5ESU5HX1NUT1BQRUQ9MzNdPVwiQVVESU9fU0VORElOR19TVE9QUEVEXCIsZVtlLlZJREVPX1NFTkRJTkdfU1RPUFBFRD0zNF09XCJWSURFT19TRU5ESU5HX1NUT1BQRURcIixlW2UuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVI9MzVdPVwiUkVRVUVTVF9QUk9YWV9BUFBDRU5URVJcIixlW2UuUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUj0zNl09XCJSRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSXCIsZVtlLkFQSV9JTlZPS0U9NDFdPVwiQVBJX0lOVk9LRVwiLGVbZS5GSVJTVF9WSURFT19SRUNFSVZFRD0zNDhdPVwiRklSU1RfVklERU9fUkVDRUlWRURcIixlW2UuRklSU1RfQVVESU9fUkVDRUlWRUQ9MzQ5XT1cIkZJUlNUX0FVRElPX1JFQ0VJVkVEXCIsZVtlLkZJUlNUX1ZJREVPX0RFQ09ERT0zNTBdPVwiRklSU1RfVklERU9fREVDT0RFXCIsZVtlLkZJUlNUX0FVRElPX0RFQ09ERT0zNTFdPVwiRklSU1RfQVVESU9fREVDT0RFXCIsZVtlLk9OX0FERF9BVURJT19TVFJFQU09MzUyXT1cIk9OX0FERF9BVURJT19TVFJFQU1cIixlW2UuT05fQUREX1ZJREVPX1NUUkVBTT0zNTNdPVwiT05fQUREX1ZJREVPX1NUUkVBTVwiLGVbZS5PTl9VUERBVEVfU1RSRUFNPTM1Nl09XCJPTl9VUERBVEVfU1RSRUFNXCIsZVtlLk9OX1JFTU9WRV9TVFJFQU09MzU1XT1cIk9OX1JFTU9WRV9TVFJFQU1cIixlW2UuSk9JTl9DSEFOTkVMX1RJTUVPVVQ9NDA3XT1cIkpPSU5fQ0hBTk5FTF9USU1FT1VUXCIsZVtlLlBFRVJfUFVCTElTSF9TVEFUVVM9NDA4XT1cIlBFRVJfUFVCTElTSF9TVEFUVVNcIixlW2UuV09SS0VSX0VWRU5UPTE1Nl09XCJXT1JLRVJfRVZFTlRcIixlW2UuQVBfV09SS0VSX0VWRU5UPTE2MF09XCJBUF9XT1JLRVJfRVZFTlRcIixlW2UuSk9JTl9XRUJfUFJPWFlfQVA9NzAwXT1cIkpPSU5fV0VCX1BST1hZX0FQXCIsZVtlLldFQlNPQ0tFVF9RVUlUPTY3MV09XCJXRUJTT0NLRVRfUVVJVFwiLGVbZS5VU0VSX0FOQUxZVElDUz0xZTRdPVwiVVNFUl9BTkFMWVRJQ1NcIixlW2UuQVVUT1BMQVlfRkFJTEVEPTkxNzhdPVwiQVVUT1BMQVlfRkFJTEVEXCJ9KCRDfHwoJEM9e30pKTtjbGFzcyBpdntjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJiYXNlSW5mb01hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJwcm94eVNlcnZlclwiLHZvaWQgMCksbnUodGhpcyxcImV2ZW50VXBsb2FkVGltZXJcIix2b2lkIDApLG51KHRoaXMsXCJzZXRTZXNzaW9uSWRUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcInVybFwiLHZvaWQgMCksbnUodGhpcyxcImJhY2t1cFVybFwiLHZvaWQgMCksbnUodGhpcyxcIl9hcHBJZFwiLHZvaWQgMCksbnUodGhpcyxcImtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zXCIsW10pLG51KHRoaXMsXCJub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtc1wiLFtdKSxudSh0aGlzLFwiYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zXCIsW10pLG51KHRoaXMsXCJhcGlJbnZva2VDb3VudFwiLDApLG51KHRoaXMsXCJsdHNMaXN0XCIsW10pLG51KHRoaXMsXCJsYXN0U2VuZE5vcm1hbEV2ZW50VGltZVwiLERhdGUubm93KCkpLG51KHRoaXMsXCJjdXN0b21SZXBvcnRDb3VudGVyVGltZXJcIix2b2lkIDApLG51KHRoaXMsXCJjdXN0b21SZXBvcnRDb3VudFwiLDApLG51KHRoaXMsXCJleHRBcGlJbnZva2VcIiwoYXN5bmMgZT0+e2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dHYodHYoe30sdCkse30se3NpZDpudWxsLGludm9rZUlkOisrdGhpcy5hcGlJbnZva2VDb3VudCx0YWc6b1QuVFJBQ0VSfSk7dGhpcy5zZW5kQXBpSW52b2tlKGUpfX0pKSx0aGlzLmV2ZW50VXBsb2FkVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuZG9TZW5kLmJpbmQodGhpcyksa0MoXCJFVkVOVF9SRVBPUlRfU0VORF9JTlRFUlZBTFwiKSksdGhpcy5zZXRTZXNzaW9uSWRUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5hcHBlbmRTZXNzaW9uSWQuYmluZCh0aGlzKSxrQyhcIkVWRU5UX1JFUE9SVF9TRU5EX0lOVEVSVkFMXCIpKX1nZXRCYXNlSW5mb0J5U2Vzc2lvbklkKGUpe3JldHVybiB0aGlzLmJhc2VJbmZvTWFwLmdldChlKX1hZGp1c3RTZXNzaW9uU3RhcnRUaW1lKGUpe2lmKCF0aGlzLmJhc2VJbmZvTWFwLmhhcyhlKSYmIXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpKXJldHVybiB2b2lkIEtDLmVycm9yKFwiYWRqdXN0IHNlc3Npb24gXCIuY29uY2F0KGUsXCIgc3RhcnQgdGltZSwgc2lkIGlzIG5vdCBleGlzdCBvciBpbmZvIGlzIHVuZGVmaW5lZFwiKSk7Y29uc3QgdD10aGlzLmJhc2VJbmZvTWFwLmdldChlKSxpPURhdGUubm93KCksbj10LnN0YXJ0VGltZTt0LnN0YXJ0VGltZT1pLEtDLmRlYnVnKFwicmV3cml0ZSBzZXNzaW9uIFwiLmNvbmNhdChlLFwiIHN0YXJ0VGltZTogXCIpLmNvbmNhdChpLFwiICwgXCIpLmNvbmNhdChpLW4sXCJtc1wiKSksdGhpcy5iYXNlSW5mb01hcC5zZXQoZSx0KX1zZXRBcHBJZChlKXt0aGlzLl9hcHBJZD1lfXJlcG9ydEFwaUludm9rZShlLHQsaSl7dC50aW1lb3V0PXQudGltZW91dHx8NmU0LHQucmVwb3J0UmVzdWx0PXZvaWQgMD09PXQucmVwb3J0UmVzdWx0fHx0LnJlcG9ydFJlc3VsdDtjb25zdCBuPURhdGUubm93KCk7dGhpcy5hcGlJbnZva2VDb3VudCs9MTtjb25zdCByPXRoaXMuYXBpSW52b2tlQ291bnQscz0oKT0+KHt0YWc6dC50YWcsaW52b2tlSWQ6cixzaWQ6ZSxuYW1lOnQubmFtZSxhcGlJbnZva2VUaW1lOm4sb3B0aW9uczp0Lm9wdGlvbnMsc3RhdGVzOnQuc3RhdGVzfHxudWxsfSksbz0hIWtDKFwiU0hPV19SRVBPUlRfSU5WT0tFUl9MT0dcIik7byYmS0MuaW5mbyhcIlwiLmNvbmNhdCh0Lm5hbWUsXCIgc3RhcnRcIiksdC5vcHRpb25zKTtsZXQgYT0hMTtVVCh0LnRpbWVvdXQpLnRoZW4oKCgpPT57YXx8KHRoaXMuc2VuZEFwaUludm9rZSh0dih0dih7fSxzKCkpLHt9LHtlcnJvcjp4Zy5BUElfSU5WT0tFX1RJTUVPVVQsc3VjY2VzczohMX0pKSxLQy5kZWJ1ZyhcIlwiLmNvbmNhdCh0Lm5hbWUsXCIgdGltZW91dFwiKSkpfSkpO2NvbnN0IGM9bmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJcIi5jb25jYXQodC5uYW1lLFwiOiB0aGlzIGFwaSBpbnZva2UgaXMgZW5kXCIpKTtyZXR1cm57b25TdWNjZXNzOmU9Pntjb25zdCBuPSgpPT57aWYoYSl0aHJvdyBjO3JldHVybiBhPSEwLHRoaXMuc2VuZEFwaUludm9rZSh0dih0dih7fSxzKCkpLHt9LHtzdWNjZXNzOiEwfSx0LnJlcG9ydFJlc3VsdCYme3Jlc3VsdDplfSkpLG8mJktDLmluZm8oXCJcIi5jb25jYXQodC5uYW1lLFwiIG9uU3VjY2Vzc1wiKSksZX07cmV0dXJuIGk/alQobix0Lm5hbWUrXCJTdWNjZXNzXCIsaSwoKCk9PmE9ITApKTpuKCl9LG9uRXJyb3I6ZT0+e2NvbnN0IG49KCk9PntpZihhKXRocm93IGU7YT0hMCx0aGlzLnNlbmRBcGlJbnZva2UodHYodHYoe30scygpKSx7fSx7c3VjY2VzczohMSxlcnJvcjplfSkpLG8mJktDLmluZm8oXCJcIi5jb25jYXQodC5uYW1lLFwiIG9uRmFpbHVyZVwiKSxlLnRvU3RyaW5nKCkpfTtyZXR1cm4gaT9qVChuLHQubmFtZStcIkVycm9yXCIsaSwoKCk9PmE9ITApKTpuKCl9fX1zZXNzaW9uSW5pdChlLHQpe2lmKHRoaXMuYmFzZUluZm9NYXAuaGFzKGUpKXJldHVybjtjb25zdCBpPURhdGUubm93KCksbj10aGlzLmNyZWF0ZUJhc2VJbmZvKGUsaSk7bi5jbmFtZT10LmNuYW1lO2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7fSx7d2lsbFVwbG9hZENvbnNvbGVMb2c6a0MoXCJVUExPQURfTE9HXCIpLG1heFRvdWNoUG9pbnRzOm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyxhcmVhVmVyc2lvbjpOQz9cImdsb2JhbFwiOlwib3ZlcnNlYVwiLGFyZWFzOmtDKFwiQVJFQVNcIikmJmtDKFwiQVJFQVNcIikuam9pbihcIixcIil9LHQuZXh0ZW5kKSxzPURhdGUubm93KCksbz10dih0dih7fSxuKSx7fSx7ZXZlbnRUeXBlOlhDLlNFU1NJT05fSU5JVCxhcHBpZDp0LmFwcGlkLGJyb3dzZXI6bmF2aWdhdG9yLnVzZXJBZ2VudCxidWlsZDpEQyxsdHM6cyxlbGFwc2U6cy1pLGV4dGVuZDpKU09OLnN0cmluZ2lmeShyKSxtb2RlOnQubW9kZSxwcm9jZXNzOmtDKFwiUFJPQ0VTU19JRFwiKSxhcHBUeXBlOmtDKFwiQVBQX1RZUEVcIiksc3VjY2VzczohMCx2ZXJzaW9uOk9DfSk7dGhpcy5zZW5kKHt0eXBlOlFDLlNFU1NJT04sZGF0YTpvfSwhMCl9am9pbkNob29zZVNlcnZlcihlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxzPXR2KHR2KHt9LG4pLHt9LHtldmVudFR5cGU6WEMuSk9JTl9DSE9PU0VfU0VSVkVSLGx0czpyLGV2ZW50RWxhcHNlOnItdC5sdHMsY2hvb3NlU2VydmVyQWRkcjp0LmNzQWRkcixlcnJvckNvZGU6dC5lYyxlbGFwc2U6ci1pLnN0YXJ0VGltZSxzdWNjZXNzOnQuc3VjYyxjaG9vc2VTZXJ2ZXJBZGRyTGlzdDpKU09OLnN0cmluZ2lmeSh0LnNlcnZlckxpc3QpLHVpZDp0LnVpZD9wYXJzZUludCh0LnVpZCk6bnVsbCxjaWQ6dC5jaWQ/cGFyc2VJbnQodC5jaWQpOm51bGwsY2hvb3NlU2VydmVySXA6dC5jc0lwfHxcIlwiLG9waWQ6dC5vcGlkLHVuaWxic1NlcnZlcklkczp0LnVuaWxic1NlcnZlcklkcyxleHRlbmQ6dC5leHRlbmR8fHZvaWQgMCxpc0h0dHAzOnQuaXNIdHRwM30pO3RoaXMuc2VuZCh7dHlwZTpRQy5KT0lOX0NIT09TRV9TRVJWRVIsZGF0YTpzfSwhMCl9cmVxVXNlckFjY291bnQoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCkscz10dih0dih7fSxuKSx7fSx7ZXZlbnRUeXBlOlhDLlJFUV9VU0VSX0FDQ09VTlQsbHRzOnIsc3VjY2Vzczp0LnN1Y2Nlc3Msc2VydmVyQWRkcmVzczp0LnNlcnZlckFkZHIsc3RyaW5nVWlkOnQuc3RyaW5nVWlkLHVpZDp0LnVpZCxlcnJvckNvZGU6dC5lcnJvckNvZGUsZWxhcHNlOnItaS5zdGFydFRpbWUsZXZlbnRFbGFwc2U6ci10Lmx0cyxleHRlbmQ6SlNPTi5zdHJpbmdpZnkodC5leHRlbmQpfSk7dGhpcy5zZW5kKHt0eXBlOlFDLlJFUV9VU0VSX0FDQ09VTlQsZGF0YTpzfSwhMCl9am9pbkdhdGV3YXkoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbzt0LnZpZCYmKG4udmlkPXQudmlkKSxuLnVpZD10LnVpZCxuLmNpZD10LmNpZDtjb25zdCByPURhdGUubm93KCkse2ZpcnN0U3VjY2VzczpzLGF2b2lkSm9pblN0YXJ0VGltZTpvLGlzUHJveHk6YSxhZGRyOmN9PXQsZD1yLShzJiZvP286aS5zdGFydFRpbWUpLGw9dHYodHYoe30sbikse30se2V2ZW50VHlwZTpYQy5KT0lOX0dBVEVXQVksbHRzOnIsZ2F0ZXdheUFkZHI6dC5hZGRyLHN1Y2Nlc3M6dC5zdWNjLGVycm9yQ29kZTp0LmVjLGVsYXBzZTpkLGV2ZW50RWxhcHNlOnItdC5sdHMsZmlyc3RTdWNjZXNzOnMsc2lnbmFsQ2hhbm5lbDp0LnNpZ25hbENoYW5uZWx9KSxoPWwuc3VjY2Vzcz8xOjA7aWYodC5zdWNjJiYoaS5sYXN0Sm9pblN1Y2Nlc3NUaW1lPXIpLHMpdGhpcy5zZW5kKHt0eXBlOlFDLkpPSU5fR0FURVdBWSxkYXRhOmx9LCEwKTtlbHNle2xldCBlO2lmKGMpaWYoYSl7Y29uc3QgdD1jLm1hdGNoKC9oPShcXGR7MSwzfS0pezN9XFxkezEsM30vZyksaT1jLm1hdGNoKC9wPVswLTldezEsNn0vZyk7ZT17aXNTdWNjZXNzOmgsZ2F0ZXdheUlwOnQmJnQubGVuZ3RoP3RbMF0uc3BsaXQoXCI9XCIpWzFdLnJlcGxhY2UoLy0vZyxcIi5cIik6XCJcIixwb3J0OmkmJmkubGVuZ3RoP2lbMF0uc3BsaXQoXCI9XCIpWzFdOlwiXCIsaXNQcm94eTphPzE6MH19ZWxzZXtjb25zdCB0PWMubWF0Y2goL3dzczpcXC9cXC8oXFxkezEsM30tKXszfVxcZHsxLDN9L2cpLGk9Yy5tYXRjaCgvKDp8cD0pWzAtOV17MSw2fS9nKTtlPXtpc1N1Y2Nlc3M6aCxnYXRld2F5SXA6dCYmdC5sZW5ndGg/dFswXS5zcGxpdChcIi8vXCIpWzFdLnJlcGxhY2UoLy0vZyxcIi5cIik6XCJcIixwb3J0OmkmJmkubGVuZ3RoP2lbMF0uc3BsaXQoLzp8cD0vZylbMV06XCJcIixpc1Byb3h5OmE/MTowfX1lbHNlIGU9e2lzU3VjY2VzczpoLGdhdGV3YXlJcDpcIlwiLHBvcnQ6XCJcIixpc1Byb3h5OmE/MTowfTtkZWxldGUgbC5zdWNjZXNzLGRlbGV0ZSBsLmV2ZW50VHlwZSxkZWxldGUgbC5maXJzdFN1Y2Nlc3MsbC52aWQ9TnVtYmVyKGwudmlkKTtjb25zdCB0PU9iamVjdC5hc3NpZ24oe30sbCxlLHtldmVudFR5cGU6WEMuUkVKT0lOX0dBVEVXQVl9KTt0aGlzLnNlbmQoe3R5cGU6UUMuUkVfSk9JTl9HQVRFV0FZLGRhdGE6dH0sITApfX1qb2luQ2hhbm5lbFRpbWVvdXQoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPURhdGUubm93KCkscj10dih0dih7fSxpLmluZm8pLHt9LHtsdHM6bix0aW1lb3V0OnQsZWxhcHNlOm4taS5zdGFydFRpbWV9KTt0aGlzLnNlbmQoe3R5cGU6UUMuSk9JTl9DSEFOTkVMX1RJTUVPVVQsZGF0YTpyfSwhMCl9cHVibGlzaChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxzPXR2KHR2KHt9LG4pLHt9LHtldmVudFR5cGU6WEMuUFVCTElTSCxsdHM6cixldmVudEVsYXBzZTp0LmV2ZW50RWxhcHNlLGVsYXBzZTpyLWkuc3RhcnRUaW1lLHN1Y2Nlc3M6dC5zdWNjLGVycm9yQ29kZTp0LmVjLHZpZGVvTmFtZTp0LnZpZGVvTmFtZSxhdWRpb05hbWU6dC5hdWRpb05hbWUsc2NyZWVuTmFtZTp0LnNjcmVlbk5hbWUsc2NyZWVuc2hhcmU6dC5zY3JlZW5zaGFyZSxhdWRpbzp0LmF1ZGlvLHZpZGVvOnQudmlkZW8scDJwaWQ6dC5wMnBpZCxwdWJsaXNoUmVxdWVzdGlkOnQucHVibGlzaFJlcXVlc3RpZH0pO3RoaXMuc2VuZCh7dHlwZTpRQy5QVUJMSVNILGRhdGE6c30sITApfXN1YnNjcmliZShlLHQsaSl7Y29uc3Qgbj10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighbilyZXR1cm47Y29uc3Qgcj1uLmluZm8scz1EYXRlLm5vdygpLG89dHYodHYoe30scikse30se2V2ZW50VHlwZTpYQy5TVUJTQ1JJQkUsbHRzOnMsZXZlbnRFbGFwc2U6dC5ldmVudEVsYXBzZSxlbGFwc2U6cy1uLnN0YXJ0VGltZSxzdWNjZXNzOnQuc3VjYyxlcnJvckNvZGU6dC5lYyx2aWRlbzp0LnZpZGVvLGF1ZGlvOnQuYXVkaW8sc3Vic2NyaWJlUmVxdWVzdGlkOnQuc3Vic2NyaWJlUmVxdWVzdGlkLHAycGlkOnQucDJwaWR9LGkmJntleHRlbmQ6SlNPTi5zdHJpbmdpZnkoe2lzTWFzc1N1YnNjcmliZTohMH0pfSk7XCJzdHJpbmdcIj09dHlwZW9mIHQucGVlcmlkP28ucGVlclN1aWQ9dC5wZWVyaWQ6by5wZWVyPXQucGVlcmlkLHRoaXMuc2VuZCh7dHlwZTpRQy5TVUJTQ1JJQkUsZGF0YTpvfSwhMCl9d3NDb21wcmVzc29ySW5pdChlKXt2YXIgdDtjb25zdCBpPVsuLi5odSh0PXRoaXMuYmFzZUluZm9NYXApLmNhbGwodCldLG49aS5sZW5ndGg/aVswXTpcIlVuYWJsZVRvR2V0U2lkXCIscj10aGlzLmJhc2VJbmZvTWFwLmdldChuKTtpZighcilyZXR1cm47Y29uc3Qgcz1yLmluZm8sbz1EYXRlLm5vdygpLGE9dHYodHYoe30scykse30se2V2ZW50VHlwZTpYQy5XU19DT01QUkVTU09SX0lOSVQsbHRzOm8sZXZlbnRFbGFwc2U6ZS5ldmVudEVsYXBzZSxlbGFwc2U6by1yLnN0YXJ0VGltZSxzdGF0dXM6ZS5zdGF0dXM/MToyfSk7dGhpcy5zZW5kKHt0eXBlOlFDLldTX0NPTVBSRVNTT1JfSU5JVCxkYXRhOmF9LCEwKX1maXJzdFJlbW90ZVZpZGVvRGVjb2RlKGUsdCxpLG4pe2NvbnN0IHI9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIXIpcmV0dXJuO2NvbnN0IHM9ci5pbmZvLG89RGF0ZS5ub3coKSxhPXR2KHR2KHR2KHt9LHMpLG4pLHt9LHtlbGFwc2U6by1yLnN0YXJ0VGltZSxldmVudFR5cGU6dCxsdHM6byxmaXJzdERlY29kZUZyYW1lOk1hdGgubWF4KG8tci5zdGFydFRpbWUsMCksYXBFbmQ6TWF0aC5tYXgobi5hcEVuZC1yLnN0YXJ0VGltZSwwKSxhcFN0YXJ0Ok1hdGgubWF4KG4uYXBTdGFydC1yLnN0YXJ0VGltZSwwKSxqb2luR3dFbmQ6TWF0aC5tYXgobi5qb2luR3dFbmQtci5zdGFydFRpbWUsMCksam9pbkd3U3RhcnQ6TWF0aC5tYXgobi5qb2luR3dTdGFydC1yLnN0YXJ0VGltZSwwKSxwY0VuZDpNYXRoLm1heChuLnBjRW5kLXIuc3RhcnRUaW1lLDApLHBjU3RhcnQ6TWF0aC5tYXgobi5wY1N0YXJ0LXIuc3RhcnRUaW1lLDApLHN1YnNjcmliZXJFbmQ6TWF0aC5tYXgobi5zdWJzY3JpYmVyRW5kLXIuc3RhcnRUaW1lLDApLHN1YnNjcmliZXJTdGFydDpNYXRoLm1heChuLnN1YnNjcmliZXJTdGFydC1yLnN0YXJ0VGltZSwwKSx2aWRlb0FkZE5vdGlmeTpNYXRoLm1heChuLnZpZGVvQWRkTm90aWZ5LXIuc3RhcnRUaW1lLDApfSk7dGhpcy5zZW5kKHt0eXBlOmksZGF0YTphfSwhMCl9Zmlyc3RSZW1vdGVGcmFtZShlLHQsaSxuKXtjb25zdCByPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFyKXJldHVybjtjb25zdCBzPXIuaW5mbyxvPURhdGUubm93KCksYT10dih0dih0dih7fSxzKSxuKSx7fSx7ZWxhcHNlOm8tci5zdGFydFRpbWUsZXZlbnRUeXBlOnQsbHRzOm99KTt0aGlzLnNlbmQoe3R5cGU6aSxkYXRhOmF9LCEwKX1wY1N0YXRzKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLHM9dHYodHYodHYoe30sbiksdCkse30se3ZpZDp2b2lkIDA9PT1uLnZpZD8wOk51bWJlcihuLnZpZCksZWxhcHNlOnItaS5zdGFydFRpbWUsZXZlbnRUeXBlOlhDLlBDX1NUQVRTLGx0czpyfSk7dGhpcy5zZW5kKHt0eXBlOlFDLlBDX1NUQVRTLGRhdGE6c30sITApfXVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLHQpe3RoaXMucmVwb3J0QXBpSW52b2tlKGUse25hbWU6XCJDbGllbnQudXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIsb3B0aW9uczp0LHRhZzpvVC5UUkFDRVJ9KS5vblN1Y2Nlc3MoKX1vbkdhdGV3YXlTdHJlYW0oZSx0LGksbil7Y29uc3Qgcj10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighcilyZXR1cm47Y29uc3Qgcz1yLmluZm8sbz1EYXRlLm5vdygpLGE9dHYodHYodHYoe30scyksbikse30se2V2ZW50VHlwZTp0LGx0czpvfSk7dGhpcy5zZW5kKHt0eXBlOmksZGF0YTphfSwhMCl9c3RyZWFtU3dpdGNoKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLHM9dHYodHYoe30sbikse30se2V2ZW50VHlwZTpYQy5TVFJFQU1fU1dJVENILGx0czpyLGlzRHVhbDp0LmlzZHVhbCxlbGFwc2U6ci1pLnN0YXJ0VGltZSxzdWNjZXNzOnQuc3VjY30pO3RoaXMuc2VuZCh7dHlwZTpRQy5TVFJFQU1fU1dJVENILGRhdGE6c30sITApfXJlcXVlc3RQcm94eUFwcENlbnRlcihlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxzPXR2KHR2KHt9LG4pLHt9LHtldmVudFR5cGU6WEMuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVIsbHRzOnIsZXZlbnRFbGFwc2U6ci10Lmx0cyxlbGFwc2U6ci1pLnN0YXJ0VGltZSxBUEFkZHI6dC5BUEFkZHIsd29ya2VyTWFuYWdlckxpc3Q6dC53b3JrZXJNYW5hZ2VyTGlzdCxyZXNwb25zZTp0LnJlc3BvbnNlLGVycm9yQ29kZTp0LmVjLHN1Y2Nlc3M6dC5zdWNjfSk7dGhpcy5zZW5kKHt0eXBlOlFDLlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSLGRhdGE6c30sITApfXJlcXVlc3RQcm94eVdvcmtlck1hbmFnZXIoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCkscz10dih0dih7fSxuKSx7fSx7ZXZlbnRUeXBlOlhDLlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVIsbHRzOnIsZXZlbnRFbGFwc2U6ci10Lmx0cyxlbGFwc2U6ci1pLnN0YXJ0VGltZSx3b3JrZXJNYW5hZ2VyQWRkcjp0Lndvcmtlck1hbmFnZXJBZGRyLHJlc3BvbnNlOnQucmVzcG9uc2UsZXJyb3JDb2RlOnQuZWMsc3VjY2Vzczp0LnN1Y2N9KTt0aGlzLnNlbmQoe3R5cGU6UUMuUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUixkYXRhOnN9LCEwKX1zZXRQcm94eVNlcnZlcihlKXt0aGlzLnByb3h5U2VydmVyPWUsZT9LQy5kZWJ1ZyhcInJlcG9ydFByb3h5U2VydmVydXJsOiBcIi5jb25jYXQoZSkpOktDLmRlYnVnKFwiZGlzYWJsZSByZXBvcnRQcm94eVNlcnZlcnVybDogXCIuY29uY2F0KGUpKX1wZWVyUHVibGlzaFN0YXR1cyhlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxzPXR2KHR2KHt9LG4pLHt9LHtzdWJzY3JpYmVFbGFwc2U6dC5zdWJzY3JpYmVFbGFwc2UscGVlcjp0LnBlZXIscGVlclB1Ymxpc2hEdXJhdGlvbjpNYXRoLm1heCh0LmF1ZGlvUHVibGlzaER1cmF0aW9uLHQudmlkZW9QdWJsaXNoRHVyYXRpb24pLGF1ZGlvdGFnOnQuYXVkaW9QdWJsaXNoRHVyYXRpb24+MD8xOi0xLHZpZGVvdGFnOnQudmlkZW9QdWJsaXNoRHVyYXRpb24+MD8xOi0xLGx0czpyLGVsYXBzZTpyLWkuc3RhcnRUaW1lLGpvaW5DaGFubmVsU3VjY2Vzc0VsYXBzZTpyLShpLmxhc3RKb2luU3VjY2Vzc1RpbWV8fHIpLHBlZXJQdWJsaXNoRHVyYXRpb25WaWRlbzp0LnZpZGVvUHVibGlzaER1cmF0aW9uLHBlZXJQdWJsaXNoRHVyYXRpb25BdWRpbzp0LmF1ZGlvUHVibGlzaER1cmF0aW9ufSk7dGhpcy5zZW5kKHt0eXBlOlFDLlBFRVJfUFVCTElTSF9TVEFUVVMsZGF0YTpzfSwhMCl9d29ya2VyRXZlbnQoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCkscz1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKCFufHxcInN0cmluZ1wiIT10eXBlb2YgbilyZXR1cm5bZV07ZVt0XT1cIlwiO2NvbnN0IHI9TFQoSlNPTi5zdHJpbmdpZnkoZSkpO2xldCBzPTA7Y29uc3Qgbz1bXTtsZXQgYT0wO2ZvcihsZXQgYz0wO2M8bi5sZW5ndGg7YysrKWErPW4uY2hhckNvZGVBdChjKTw9MTI3PzE6MyxhPD1pLXJ8fChvW28ubGVuZ3RoXT12VCh2VCh7fSxlKSx7fSx7W3RdOm4uc3Vic3RyaW5nKHMsYyl9KSxzPWMsYT1uLmNoYXJDb2RlQXQoYyk8PTEyNz8xOjMpO3JldHVybiBzIT09bi5sZW5ndGgtMSYmKG9bby5sZW5ndGhdPXZUKHZUKHt9LGUpLHt9LHtbdF06bi5zdWJzdHJpbmcocyl9KSksb30odHYodHYodHYoe30sbiksdCkse30se2VsYXBzZTpyLWkuc3RhcnRUaW1lLGx0czpyLHByb2R1Y3RUeXBlOlwiV2ViUlRDXCJ9KSxcInBheWxvYWRcIiwxMzAwKTtzLmZvckVhY2goKGU9PnRoaXMuc2VuZCh7dHlwZTpRQy5XT1JLRVJfRVZFTlQsZGF0YTplfSwhMCkpKX1hcHdvcmtlckV2ZW50KGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLHM9dHYodHYodHYoe30sbiksdCkse30se2VsYXBzZTpyLWkuc3RhcnRUaW1lLGx0czpyfSk7dGhpcy5zZW5kKHt0eXBlOlFDLkFQX1dPUktFUl9FVkVOVCxkYXRhOnN9LCEwKX1qb2luV2ViUHJveHlBUChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxzPXR2KHR2KHR2KHt9LG4pLHQpLHt9LHtlbGFwc2U6ci1pLnN0YXJ0VGltZSxsdHM6cixleHRlbmQ6dC5leHRlbmR8fHZvaWQgMH0pO3RoaXMuc2VuZCh7dHlwZTpRQy5KT0lOX1dFQl9QUk9YWV9BUCxkYXRhOnN9LCEwKX1XZWJTb2NrZXRRdWl0KGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLHM9dHYodHYodHYoe30sbiksdCkse30se2VsYXBzZTpyLWkuc3RhcnRUaW1lLGx0czpyfSk7dGhpcy5zZW5kKHt0eXBlOlFDLldFQlNPQ0tFVF9RVUlULGRhdGE6c30sITApfWFzeW5jIHNlbmRDdXN0b21SZXBvcnRNZXNzYWdlKGUsdCl7aWYodGhpcy5jdXN0b21SZXBvcnRDb3VudCs9dC5sZW5ndGgsdGhpcy5jdXN0b21SZXBvcnRDb3VudD5rQyhcIkNVU1RPTV9SRVBPUlRfTElNSVRcIikpdGhyb3cgbmV3IFZnKHhnLkNVU1RPTV9SRVBPUlRfRlJFUVVFTkNZX1RPT19ISUdIKTt0aGlzLmN1c3RvbVJlcG9ydENvdW50ZXJUaW1lcnx8KHRoaXMuY3VzdG9tUmVwb3J0Q291bnRlclRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLmN1c3RvbVJlcG9ydENvdW50PTB9KSw1ZTMpKTtjb25zdCBpPURhdGUubm93KCksbj10Lm1hcCgodD0+KHt0eXBlOlFDLlVTRVJfQU5BTFlUSUNTLGRhdGE6dHYodHYoe3NpZDplfSx0KSx7fSx7bHRzOml9KX0pKSk7dHJ5e2tDKFwiTkVXX1JFUE9SVF9TRVJWRVJcIik/YXdhaXQgdGhpcy5wb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3IyKG4pOmF3YWl0IHRoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yKG4pfWNhdGNoKGUpe3Rocm93IEtDLmVycm9yKFwic2VuZCBjdXN0b20gcmVwb3J0IG1lc3NhZ2UgZmFpbGVkXCIsZS50b1N0cmluZygpKSxuZXcgVmcoeGcuQ1VTVE9NX1JFUE9SVF9TRU5EX0ZBSUxFRCxlLm1lc3NhZ2UpfX1zZW5kQXBpSW52b2tlKGUpe2NvbnN0IHQ9a0MoXCJOT1RfUkVQT1JUX0VWRU5UXCIpO2lmKGUudGFnJiZQcih0KSYmUHIodCkuY2FsbCh0LGUudGFnKSlyZXR1cm4hMTtpZihudWxsPT09ZS5zaWQpcmV0dXJuIHRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksITE7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlLnNpZCk7aWYoIWkpcmV0dXJuIHRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksITE7Y29uc3R7Y25hbWU6bix1aWQ6cixjaWQ6c309aS5pbmZvO2xldCBvO2lmKGUubHRzPWUubHRzfHxEYXRlLm5vdygpLGUuZXJyb3IpaWYoZS5lcnJvciBpbnN0YW5jZW9mIFZnKXtjb25zdHtjb2RlOnQsbWVzc2FnZTppfT1lLmVycm9yO289dHx8KGl8fGUuZXJyb3IudG9TdHJpbmcoKSl9ZWxzZSBvPWUuZXJyb3IudG9TdHJpbmcoKTtjb25zdCBhPXtpbnZva2VJZDplLmludm9rZUlkLHNpZDplLnNpZCxjbmFtZTpuLGNpZDpzLHVpZDpyLGx0czplLmx0cyxzdWNjZXNzOmUuc3VjY2VzcyxlbGFwc2U6ZS5sdHMtaS5zdGFydFRpbWUsZXhlY0VsYXBzZTplLmx0cy1lLmFwaUludm9rZVRpbWUsYXBpTmFtZTplLm5hbWUsb3B0aW9uczplLm9wdGlvbnM/SlNPTi5zdHJpbmdpZnkoZS5vcHRpb25zKTp2b2lkIDAsZXhlY1N0YXRlczplLnN0YXRlcz9KU09OLnN0cmluZ2lmeShlLnN0YXRlcyk6dm9pZCAwLGV4ZWNSZXN1bHQ6ZS5yZXN1bHQ/SlNPTi5zdHJpbmdpZnkoZS5yZXN1bHQpOnZvaWQgMCxlcnJvckNvZGU6ZS5lcnJvcj9vOnZvaWQgMCxlcnJvck1zZzplLmVycm9yP0pTT04uc3RyaW5naWZ5KGUuZXJyb3IpOnZvaWQgMH07cmV0dXJuIHRoaXMuc2VuZCh7dHlwZTpRQy5BUElfSU5WT0tFLGRhdGE6YX0sITEpLCEwfWFwcGVuZFNlc3Npb25JZCgpe2l2Ll9fQ0xJRU5UX0xJU1RfXy5mb3JFYWNoKChlPT57aWYoZS5fc2Vzc2lvbklkKXtjb25zdCB0PXRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aDtmb3IobGV0IGk9MDtpPHQ7aSsrKXtjb25zdCB0PXRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLnNoaWZ0KCk7dCYmKHQuc2lkPWUuX3Nlc3Npb25JZCx0aGlzLnNlbmRBcGlJbnZva2UoT2JqZWN0LmFzc2lnbih7fSx0KSkpfX19KSl9c2VuZChlLHQpe2lmKHQpcmV0dXJuIHRoaXMua2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMucHVzaChlKSx2b2lkIHRoaXMuc2VuZEl0ZW1zKHRoaXMua2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMsITApO3RoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMucHVzaChlKSx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD5rQyhcIk5PUk1BTF9FVkVOVF9RVUVVRV9DQVBBQ0lUWVwiKSYmdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5zcGxpY2UoMCwxKSx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD49MTAmJnRoaXMuc2VuZEl0ZW1zKHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMsITEpfWRvU2VuZCgpe3RoaXMua2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoPjAmJnRoaXMuc2VuZEl0ZW1zKHRoaXMua2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMsITApLHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoPjAmJkRhdGUubm93KCktdGhpcy5sYXN0U2VuZE5vcm1hbEV2ZW50VGltZT49NWUzJiZ0aGlzLnNlbmRJdGVtcyh0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCExKX1zZW5kSXRlbXMoZSx0KXtjb25zdCBpPVtdLG49W107Zm9yKDtlLmxlbmd0aDspe2NvbnN0IHQ9ZS5zaGlmdCgpO2kubGVuZ3RoPDIwP2kucHVzaCh0KTpuLnB1c2godCl9ZS5wdXNoKC4uLm4pO2Zvcihjb25zdCBlIG9mWy4uLmldKXt2YXIgcjtpZigtMSE9PXRoaXMubHRzTGlzdC5pbmRleE9mKGUuZGF0YS5sdHMpKWUuZGF0YS5sdHM9dGhpcy5sdHNMaXN0W3RoaXMubHRzTGlzdC5sZW5ndGgtMV0rMSx0aGlzLmx0c0xpc3QucHVzaChlLmRhdGEubHRzKTtlbHNlIHRoaXMubHRzTGlzdC5wdXNoKGUuZGF0YS5sdHMpLFp1KHI9dGhpcy5sdHNMaXN0KS5jYWxsKHIsKChlLHQpPT5lLXQpKX10fHwodGhpcy5sYXN0U2VuZE5vcm1hbEV2ZW50VGltZT1EYXRlLm5vdygpKTtyZXR1cm4ga0MoXCJFTkFCTEVfRVZFTlRfUkVQT1JUXCIpPyhpLmxlbmd0aCYmKGtDKFwiTkVXX1JFUE9SVF9TRVJWRVJcIik/dGhpcy5wb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3IyKGkpOnRoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yKGkpKS5jYXRjaCgoZT0+aT0+e2tDKFwiRVZFTlRfUkVQT1JUX1JFVFJZXCIpJiYodD90aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zPXRoaXMua2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuY29uY2F0KGUpOih0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zPXRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuY29uY2F0KGUpLHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoPmtDKFwiTk9STUFMX0VWRU5UX1FVRVVFX0NBUEFDSVRZXCIpJiYodGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5zcGxpY2UoMCx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aC1rQyhcIk5PUk1BTF9FVkVOVF9RVUVVRV9DQVBBQ0lUWVwiKSksS0Mud2FybmluZyhcInJlcG9ydDogZHJvcCBub3JtYWwgZXZlbnRzXCIpKSkpfSkoaSkpLGUpOmV9YXN5bmMgcG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yMihlKXtSVC5uZXR3b3JrU3RhdGU9PT1oVC5PRkZMSU5FJiZhd2FpdCB0Zy5yYWNlKFtSVC5vbmxpbmVXYWl0ZXIsVVQoMipKVC5tYXhSZXRyeVRpbWVvdXQpXSk7Y29uc3QgdD1lPT57bGV0IHQ9bmV3IFVpbnQ4QXJyYXk7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2NvbnN0IGk9WmcoSlNPTi5zdHJpbmdpZnkoZS5kYXRhKSksbj1uZXcgQXJyYXlCdWZmZXIoNSkscj0oZT0+e2xldCB0PTA7cmV0dXJuIE9iamVjdC5lbnRyaWVzKFFDKS5mb3JFYWNoKChpPT57bGV0W24scl09aTtyPT09ZS50eXBlJiYodD1FdmVudE5hbWVUb0lEW25dKX0pKSx0fSkoZSkscz1uZXcgRGF0YVZpZXcobik7cy5zZXRVaW50MTYoMCxpLmJ5dGVMZW5ndGgsITApLHMuc2V0VWludDgoMiwyNTUmcikscy5zZXRVaW50OCgzLHI+Pj44JjI1NSkscy5zZXRVaW50OCg0LHI+Pj4xNiYyNTUpLHQ9JGcodCxuZXcgVWludDhBcnJheShuKSksdD0kZyh0LGkpfSkpLHR9LGk9XCJldmVudFwiO2xldCBuPXRoaXMucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnByb3h5U2VydmVyLFwiL3JzLz9oPVwiKS5jb25jYXQoa0MoXCJORVdfUkVQT1JUX1NFUlZFUl9ET01BSU5TXCIpWzBdLFwiJnA9NDQzJmQ9XCIpLmNvbmNhdChpKTpcImh0dHBzOi8vXCIuY29uY2F0KGtDKFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVswXSxcIi9cIikuY29uY2F0KGkpO2ZvcihsZXQgcj0wO3I8MjtyKz0xKXsxPT09ciYmKG49dGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXIsXCIvcnMvP2g9XCIpLmNvbmNhdChrQyhcIk5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlNcIilbMV0sXCImcD00NDMmZD1cIikuY29uY2F0KGkpOlwiaHR0cHM6Ly9cIi5jb25jYXQoa0MoXCJORVdfUkVQT1JUX1NFUlZFUl9ET01BSU5TXCIpWzFdLFwiL1wiKS5jb25jYXQoaSkpO3RyeXthd2FpdCBSQyhuLHt0aW1lb3V0OjFlNCxkYXRhOnQoZSksaGVhZGVyczp0dih0dih7Yml6Olwid2VicnRjXCIsc2VuZHRzOk1hdGgucm91bmQoRGF0ZS5ub3coKS8xZTMpLGRlYnVnOlwiZmFsc2VcIn0sdGhpcy5fYXBwSWQmJnthcHBpZDp0aGlzLl9hcHBJZH0pLHt9LHtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9KX0sITApfWNhdGNoKGUpe2lmKDE9PT1yKXRocm93IGU7Y29udGludWV9cmV0dXJufX1hc3luYyBwb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3IoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtjb25zdCBpPXttc2dUeXBlOlwiRXZlbnRNZXNzYWdlc1wiLHNlbnRUczpNYXRoLnJvdW5kKERhdGUubm93KCkvMWUzKSxwYXlsb2FkczplLm1hcCgoZT0+SlNPTi5zdHJpbmdpZnkoZSkpKSx2aWQ6KGU9Pntjb25zdCB0PWUmJmUuZGF0YS5zaWQmJnRoaXMuYmFzZUluZm9NYXAuZ2V0KGUuZGF0YS5zaWQpO3JldHVybiB0JiZ0LmluZm8udmlkJiYrdC5pbmZvLnZpZHx8MH0pKGVbMF0pfTtSVC5uZXR3b3JrU3RhdGU9PT1oVC5PRkZMSU5FJiZhd2FpdCB0Zy5yYWNlKFtSVC5vbmxpbmVXYWl0ZXIsVVQoMipKVC5tYXhSZXRyeVRpbWVvdXQpXSk7Y29uc3Qgbj10P1wiL2V2ZW50cy9wcm90by1yYXdzXCI6XCIvZXZlbnRzL21lc3NhZ2VzXCI7bGV0IHI9dGhpcy51cmx8fCh0aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlcixcIi9ycy8/aD1cIikuY29uY2F0KGtDKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiKSxcIiZwPVwiKS5jb25jYXQoa0MoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiKSxcIiZkPVwiKS5jb25jYXQobik6XCJodHRwczovL1wiLmNvbmNhdChrQyhcIkVWRU5UX1JFUE9SVF9ET01BSU5cIiksXCI6XCIpLmNvbmNhdChrQyhcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpKS5jb25jYXQobikpO2ZvcihsZXQgZT0wO2U8MjtlKz0xKXsxPT09ZSYmKHI9dGhpcy5iYWNrdXBVcmx8fCh0aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlcixcIi9ycy8/aD1cIikuY29uY2F0KGtDKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIiksXCImcD1cIikuY29uY2F0KGtDKFwiU1RBVFNfQ09MTEVDVE9SX1BPUlRcIiksXCImZD1cIikuY29uY2F0KG4pOlwiaHR0cHM6Ly9cIi5jb25jYXQoa0MoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiKSxcIjpcIikuY29uY2F0KGtDKFwiU1RBVFNfQ09MTEVDVE9SX1BPUlRcIikpLmNvbmNhdChuKSkpO3RyeXt0P2F3YWl0IENDKHIse3RpbWVvdXQ6MWU0LGRhdGE6aX0pOmF3YWl0IFJDKHIse3RpbWVvdXQ6MWU0LGRhdGE6aX0pfWNhdGNoKHQpe2lmKDE9PT1lKXRocm93IHQ7Y29udGludWV9cmV0dXJufX1jcmVhdGVCYXNlSW5mbyhlLHQpe2NvbnN0IGk9T2JqZWN0LmFzc2lnbih7fSx6Qyk7cmV0dXJuIGkuc2lkPWUsdGhpcy5iYXNlSW5mb01hcC5zZXQoZSx7aW5mbzppLHN0YXJ0VGltZTp0fSksaX1yZXBvcnRSZXNvdXJjZVRpbWluZyhlLHQpe2NvbnN0IGk9cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShlKSxuPWlbaS5sZW5ndGgtMV07biYmdGhpcy5yZXBvcnRBcGlJbnZva2UodCx7bmFtZTpcIkNsaWVudC5yZXNvdXJjZVRpbWluZ1wiLG9wdGlvbnM6bix0YWc6b1QuVFJBQ0VSfSkub25TdWNjZXNzKCl9fWZ1bmN0aW9uIG52KCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBmdW5jdGlvbih0LGksbil7Y29uc3Qgcj1uLnZhbHVlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpe2NvbnN0IHM9ZS5jbGFzc05hbWV8fHQuX19jbGFzc05hbWVfX3x8KFwiQWdvcmFSVENDbGllbnRcIj09PXQuY29uc3RydWN0b3IubmFtZT9cIkNsaWVudFwiOnQuY29uc3RydWN0b3IubmFtZSk7bi52YWx1ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLG89MDtvPHQ7bysrKW5bb109YXJndW1lbnRzW29dO2xldCBhPW47aWYoZS5hcmdzTWFwKXRyeXthPWUuYXJnc01hcCh0aGlzLC4uLm4pfWNhdGNoKGUpe0tDLndhcm5pbmcoZSksYT1bXX10cnl7SlNPTi5zdHJpbmdpZnkoYSl9Y2F0Y2goZSl7S0Mud2FybmluZyhcImFyZ3VtZW50cyBmb3IgbWV0aG9kIFwiLmNvbmNhdChzLFwiLlwiKS5jb25jYXQoU3RyaW5nKGkpLFwiIG5vdCBzZXJpYWxpemFibGUgZm9yIGFwaUludm9rZS5cIikpLGE9W119Y29uc3QgYz0oZS5yZXBvcnR8fHJ2KS5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkfHxudWxsLHtuYW1lOlwiXCIuY29uY2F0KHMsXCIuXCIpLmNvbmNhdChTdHJpbmcoaSkpLG9wdGlvbnM6YSx0YWc6b1QuVFJBQ0VSLHJlcG9ydFJlc3VsdDplLnJlcG9ydFJlc3VsdH0sZS50aHJvdHRsZVRpbWUpO3RyeXtjb25zdCB0PXIuYXBwbHkodGhpcyxuKTtyZXR1cm4gdCBpbnN0YW5jZW9mIHRnP3QudGhlbigodD0+KGMub25TdWNjZXNzKGUucmVwb3J0UmVzdWx0JiZ0KSx0KSkpLmNhdGNoKChlPT57dGhyb3cgYy5vbkVycm9yKGUpLGV9KSk6KGMub25TdWNjZXNzKGUucmVwb3J0UmVzdWx0JiZ0KSx0KX1jYXRjaChlKXt0aHJvdyBjLm9uRXJyb3IoZSksZX19fXJldHVybiBufX1udShpdixcIl9fQ0xJRU5UX0xJU1RfX1wiLFtdKTtjb25zdCBydj1uZXcgaXY7VkMub24oXCJSRVBPUlRfTE9HX1VQTE9BRFwiLChlPT57ZS5uZXR3b3JrU3RhdGU9UlQubmV0d29ya1N0YXRlLHJ2LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlwibG9nVXBsb2FkRXJyb3JcIixvcHRpb25zOmUsdGFnOm9ULlRSQUNFUn0pfSkpO2NvbnN0IHN2PVtcIkNISU5BXCIsXCJHTE9CQUxcIl0sb3Y9ZnVuY3Rpb24oKXtjb25zdCBlPVwidXNcIi5jb25jYXQoXCJlcm5hXCIsXCJtZVwiKSx0PVwicGFcIi5jb25jYXQoXCJzc3dvXCIsXCJyZFwiKSxpPVtcInRcIixcInNcIixcInRcIl07aS5zcGxpY2UoMSwwLFwiZVwiKTtjb25zdCBuPWkuam9pbihcIlwiKSxyPVtdO2ZvcihsZXQgZT0wO2U8NjtlKyspci5wdXNoKFwiMVwiKTtjb25zdCBzPXIuam9pbihcIlwiKSxvPXt9O3JldHVybiBvW2VdPW4sb1t0XT1zLE9iamVjdC5hc3NpZ24obyx7dHVyblNlcnZlclVSTDpcIlwiLHRjcHBvcnQ6MzQzMyx1ZHBwb3J0OjM0NzgsZm9yY2V0dXJuOiExfSl9KCk7d2luZG93LkRFRkFVTFRfVFVSTl9DT05GSUc9b3YsTkN8fChQQy5XRUJDU19ET01BSU49W1wiYXAtd2ViLTEtb3ZlcnNlYS5hZ29yYS5pb1wiLFwiYXAtd2ViLTEtbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxQQy5XRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q9W1wiYXAtd2ViLTItb3ZlcnNlYS5hZ29yYS5pb1wiLFwiYXAtd2ViLTItbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxQQy5QUk9YWV9DUz1bXCJwcm94eS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwicHJveHktYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIl0sUEMuQ0RTX0FQPVtcImNkcy1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLFBDLkFDQ09VTlRfUkVHSVNURVI9W1wic3VhLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sUEMuVUFQX0FQPVtcInVhcC1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLFBDLkxPR19VUExPQURfU0VSVkVSPVwibG9nc2VydmljZS1vdmVyc2VhLmFnb3JhLmlvXCIsUEMuRVZFTlRfUkVQT1JUX0RPTUFJTj1cInN0YXRzY29sbGVjdG9yLTEtb3ZlcnNlYS5hZ29yYS5pb1wiLFBDLkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOPVwic3RhdHNjb2xsZWN0b3ItMi1vdmVyc2VhLmFnb3JhLmlvXCIsUEMuUFJPWFlfU0VSVkVSX1RZUEUzPVwid2VicnRjLWNsb3VkLXByb3h5LmFnb3JhLmlvXCIsUEMuQVJFQVM9W1wiTk9SVEhfQU1FUklDQVwiLFwiT1ZFUlNFQVwiXSk7Y29uc3QgYXY9W1swLDEsMiwzLDQsNSw1XSxbMCwyLDIsMyw0LDUsNV0sWzAsMywzLDMsNCw1LDVdLFswLDQsNCw0LDQsNSw1XSxbMCw1LDUsNSw1LDUsNV1dLGN2PVtdO2Z1bmN0aW9uIGR2KGUsdCl7cmV0dXJuISF0JiZjdi5zb21lKChpPT5pLnVpZD09PWUmJmkuY2hhbm5lbE5hbWU9PT10KSl9aXYuX19DTElFTlRfTElTVF9fPWN2O3ZhciBsdixodix1dixwdixfdixFdixtdixmdixndixUdixTdixSdixDdix2dixJdix5dixBdixidj1lcihcIkFycmF5XCIpLnZhbHVlcyx3dj1FcixPdj1uaSxOdj1FZSxEdj1idixQdj1BcnJheS5wcm90b3R5cGUsTHY9e0RPTVRva2VuTGlzdDohMCxOb2RlTGlzdDohMH0sa3Y9SigoZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZXM7cmV0dXJuIGU9PT1Qdnx8TnYoUHYsZSkmJnQ9PT1Qdi52YWx1ZXN8fE92KEx2LHd2KGUpKT9Edjp0fSkpO2Z1bmN0aW9uIE12KGUsdCxpLG4pe3ZhciByLHM9YXJndW1lbnRzLmxlbmd0aCxvPXM8Mz90Om51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGkpOm47aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpbz1SZWZsZWN0LmRlY29yYXRlKGUsdCxpLG4pO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihvPShzPDM/cihvKTpzPjM/cih0LGksbyk6cih0LGkpKXx8byk7cmV0dXJuIHM+MyYmbyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxvKSxvfWZ1bmN0aW9uIFV2KGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoZSx0KX0hZnVuY3Rpb24oZSl7ZS5MMVQxPVwiTDFUMVwiLGUuTDFUMj1cIkwxVDJcIixlLkwxVDM9XCJMMVQzXCIsZS5MMlQxX0tFWT1cIkwyVDFfS0VZXCIsZS5MMlQyX0tFWT1cIkwyVDJfS0VZXCIsZS5MMlQzX0tFWT1cIkwyVDNfS0VZXCIsZS5MM1QxX0tFWT1cIkwzVDFfS0VZXCIsZS5MM1QyX0tFWT1cIkwzVDJfS0VZXCIsZS5MM1QzX0tFWT1cIkwzVDNfS0VZXCJ9KGx2fHwobHY9e30pKSxmdW5jdGlvbihlKXtlLkNFUlRJRklDQVRFPVwiY2VydGlmaWNhdGVcIixlLkNPREVDPVwiY29kZWNcIixlLkNBTkRJREFURV9QQUlSPVwiY2FuZGlkYXRlLXBhaXJcIixlLkxPQ0FMX0NBTkRJREFURT1cImxvY2FsLWNhbmRpZGF0ZVwiLGUuUkVNT1RFX0NBTkRJREFURT1cInJlbW90ZS1jYW5kaWRhdGVcIixlLklOQk9VTkQ9XCJpbmJvdW5kLXJ0cFwiLGUuVFJBQ0s9XCJ0cmFja1wiLGUuT1VUQk9VTkQ9XCJvdXRib3VuZC1ydHBcIixlLlBDPVwicGVlci1jb25uZWN0aW9uXCIsZS5SRU1PVEVfSU5CT1VORD1cInJlbW90ZS1pbmJvdW5kLXJ0cFwiLGUuUkVNT1RFX09VVEJPVU5EPVwicmVtb3RlLW91dGJvdW5kLXJ0cFwiLGUuVFJBTlNQT1JUPVwidHJhbnNwb3J0XCIsZS5DU1JDPVwiY3NyY1wiLGUuREFUQV9DSEFOTkVMPVwiZGF0YS1jaGFubmVsXCIsZS5TVFJFQU09XCJzdHJlYW1cIixlLlNFTkRFUj1cInNlbmRlclwiLGUuUkVDRUlWRVI9XCJyZWNlaXZlclwifShodnx8KGh2PXt9KSksZnVuY3Rpb24oZSl7ZVtlLkFDQ0VTU19QT0lOVD0xMDFdPVwiQUNDRVNTX1BPSU5UXCIsZVtlLlVOSUxCUz0yMDFdPVwiVU5JTEJTXCIsZVtlLlNUUklOR19VSURfQUxMT0NBVE9SPTkwMV09XCJTVFJJTkdfVUlEX0FMTE9DQVRPUlwifSh1dnx8KHV2PXt9KSksZnVuY3Rpb24oZSl7ZVtlLklJSUVHQUxfQVBQSUQ9MV09XCJJSUlFR0FMX0FQUElEXCIsZVtlLklJSUVHQUxfVUlEPTJdPVwiSUlJRUdBTF9VSURcIixlW2UuSU5URVJOQUxfRVJST1I9M109XCJJTlRFUk5BTF9FUlJPUlwifShwdnx8KHB2PXt9KSksZnVuY3Rpb24oZSl7ZVtlLklOVkFMSURfVkVORE9SX0tFWT01XT1cIklOVkFMSURfVkVORE9SX0tFWVwiLGVbZS5JTlZBTElEX0NIQU5ORUxfTkFNRT03XT1cIklOVkFMSURfQ0hBTk5FTF9OQU1FXCIsZVtlLklOVEVSTkFMX0VSUk9SPThdPVwiSU5URVJOQUxfRVJST1JcIixlW2UuTk9fQVVUSE9SSVpFRD05XT1cIk5PX0FVVEhPUklaRURcIixlW2UuRFlOQU1JQ19LRVlfVElNRU9VVD0xMF09XCJEWU5BTUlDX0tFWV9USU1FT1VUXCIsZVtlLk5PX0FDVElWRV9TVEFUVVM9MTFdPVwiTk9fQUNUSVZFX1NUQVRVU1wiLGVbZS5EWU5BTUlDX0tFWV9FWFBJUkVEPTEzXT1cIkRZTkFNSUNfS0VZX0VYUElSRURcIixlW2UuU1RBVElDX1VTRV9EWU5BTUlDX0tFWT0xNF09XCJTVEFUSUNfVVNFX0RZTkFNSUNfS0VZXCIsZVtlLkRZTkFNSUNfVVNFX1NUQVRJQ19LRVk9MTVdPVwiRFlOQU1JQ19VU0VfU1RBVElDX0tFWVwiLGVbZS5VU0VSX09WRVJMT0FEPTE2XT1cIlVTRVJfT1ZFUkxPQURcIixlW2UuRk9SQklEREVOX1JFR0lPTj0xOF09XCJGT1JCSURERU5fUkVHSU9OXCIsZVtlLkNBTk5PVF9NRUVUX0FSRUFfREVNQU5EPTE5XT1cIkNBTk5PVF9NRUVUX0FSRUFfREVNQU5EXCJ9KF92fHwoX3Y9e30pKSxmdW5jdGlvbihlKXtlW2UuTk9fRkxBR19TRVQ9MTAwXT1cIk5PX0ZMQUdfU0VUXCIsZVtlLkZMQUdfU0VUX0JVVF9FTVBUWT0xMDFdPVwiRkxBR19TRVRfQlVUX0VNUFRZXCIsZVtlLklOVkFMSURfRkFMR19TRVQ9MTAyXT1cIklOVkFMSURfRkFMR19TRVRcIixlW2UuRkxBR19TRVRfQlVUX05PX1JFPTEwM109XCJGTEFHX1NFVF9CVVRfTk9fUkVcIixlW2UuSU5WQUxJRF9TRVJWSUNFX0lEPTEwNF09XCJJTlZBTElEX1NFUlZJQ0VfSURcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEU9MjAwXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1AyUD0yMDFdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfUDJQXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPSUNFPTIwMl09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9WT0lDRVwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVEM9MjAzXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ1wiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRFM9MjA0XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NEU1wiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRE49MjA1XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NETlwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9URFM9MjA2XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1REU1wiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9SRVBPUlQ9MjA3XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1JFUE9SVFwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9BUFBfQ0VOVEVSPTIwOF09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9BUFBfQ0VOVEVSXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0VOVjA9MjA5XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0VOVjBcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9FVD0yMTBdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9FVFwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9TVFJJTkdfVUlEPTIxMV09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9TVFJJTkdfVUlEXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ19VTklMQlM9MjEyXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ19VTklMQlNcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfVU5JTEJTX0ZMVj0yMTNdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfVU5JTEJTX0ZMVlwifShFdnx8KEV2PXt9KSksZnVuY3Rpb24oZSl7ZVtlLktfVElNRVNUQU1QX0VYUElSRUQ9Ml09XCJLX1RJTUVTVEFNUF9FWFBJUkVEXCIsZVtlLktfQ0hBTk5FTF9QRVJNSVNTSU9OX0lOVkFMSUQ9M109XCJLX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEXCIsZVtlLktfQ0VSVElGSUNBVEVfSU5WQUxJRD00XT1cIktfQ0VSVElGSUNBVEVfSU5WQUxJRFwiLGVbZS5LX0NIQU5ORUxfTkFNRV9FTVBUWT01XT1cIktfQ0hBTk5FTF9OQU1FX0VNUFRZXCIsZVtlLktfQ0hBTk5FTF9OT1RfRk9VTkQ9Nl09XCJLX0NIQU5ORUxfTk9UX0ZPVU5EXCIsZVtlLktfVElDS0VUX0lOVkFMSUQ9N109XCJLX1RJQ0tFVF9JTlZBTElEXCIsZVtlLktfQ0hBTk5FTF9DT05GTElDVEVEPThdPVwiS19DSEFOTkVMX0NPTkZMSUNURURcIixlW2UuS19TRVJWSUNFX05PVF9SRUFEWT05XT1cIktfU0VSVklDRV9OT1RfUkVBRFlcIixlW2UuS19TRVJWSUNFX1RPT19IRUFWWT0xMF09XCJLX1NFUlZJQ0VfVE9PX0hFQVZZXCIsZVtlLktfVUlEX0JBTk5FRD0xNF09XCJLX1VJRF9CQU5ORURcIixlW2UuS19JUF9CQU5ORUQ9MTVdPVwiS19JUF9CQU5ORURcIixlW2UuS19DSEFOTkVMX0JBTk5FRD0xNl09XCJLX0NIQU5ORUxfQkFOTkVEXCIsZVtlLktfQVVUT19SRUJBTEFOQ0U9MjhdPVwiS19BVVRPX1JFQkFMQU5DRVwiLGVbZS5XQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMPTEwM109XCJXQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMXCIsZVtlLldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVD0xMDRdPVwiV0FSTl9MT09LVVBfQ0hBTk5FTF9USU1FT1VUXCIsZVtlLldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURUQ9MTA1XT1cIldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURURcIixlW2UuV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVD0xMDZdPVwiV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVFwiLGVbZS5XQVJOX09QRU5fQ0hBTk5FTF9SRUpFQ1RFRD0xMDddPVwiV0FSTl9PUEVOX0NIQU5ORUxfUkVKRUNURURcIixlW2UuV0FSTl9SRVFVRVNUX0RFRkVSUkVEPTEwOF09XCJXQVJOX1JFUVVFU1RfREVGRVJSRURcIixlW2UuRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVQ9MTA5XT1cIkVSUl9EWU5BTUlDX0tFWV9USU1FT1VUXCIsZVtlLkVSUl9OT19BVVRIT1JJWkVEPTExMF09XCJFUlJfTk9fQVVUSE9SSVpFRFwiLGVbZS5FUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEU9MTExXT1cIkVSUl9WT01fU0VSVklDRV9VTkFWQUlMQUJMRVwiLGVbZS5FUlJfTk9fQ0hBTk5FTF9BVkFJTEFCTEVfQ09ERT0xMTJdPVwiRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVcIixlW2UuRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFPTExNF09XCJFUlJfTUFTVEVSX1ZPQ1NfVU5BVkFJTEFCTEVcIixlW2UuRVJSX0lOVEVSTkFMX0VSUk9SPTExNV09XCJFUlJfSU5URVJOQUxfRVJST1JcIixlW2UuRVJSX05PX0FDVElWRV9TVEFUVVM9MTE2XT1cIkVSUl9OT19BQ1RJVkVfU1RBVFVTXCIsZVtlLkVSUl9JTlZBTElEX1VJRD0xMTddPVwiRVJSX0lOVkFMSURfVUlEXCIsZVtlLkVSUl9EWU5BTUlDX0tFWV9FWFBJUkVEPTExOF09XCJFUlJfRFlOQU1JQ19LRVlfRVhQSVJFRFwiLGVbZS5FUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFPTExOV09XCJFUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFXCIsZVtlLkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0U9MTIwXT1cIkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0VcIixlW2UuRVJSX05PX1ZPQ1NfQVZBSUxBQkxFPTJlM109XCJFUlJfTk9fVk9DU19BVkFJTEFCTEVcIixlW2UuRVJSX05PX1ZPU19BVkFJTEFCTEU9MjAwMV09XCJFUlJfTk9fVk9TX0FWQUlMQUJMRVwiLGVbZS5FUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVQ9MjAwMl09XCJFUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVRcIixlW2UuRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUw9MjAwM109XCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiLGVbZS5FUlJfSk9JTl9CWV9NVUxUSV9JUD0yMDA0XT1cIkVSUl9KT0lOX0JZX01VTFRJX0lQXCIsZVtlLkVSUl9OT1RfSk9JTkVEPTIwMTFdPVwiRVJSX05PVF9KT0lORURcIixlW2UuRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1Q9MjAxMl09XCJFUlJfUkVQRUFUX0pPSU5fUkVRVUVTVFwiLGVbZS5FUlJfSU5WQUxJRF9WRU5ET1JfS0VZPTIwMTNdPVwiRVJSX0lOVkFMSURfVkVORE9SX0tFWVwiLGVbZS5FUlJfSU5WQUxJRF9DSEFOTkVMX05BTUU9MjAxNF09XCJFUlJfSU5WQUxJRF9DSEFOTkVMX05BTUVcIixlW2UuRVJSX0lOVkFMSURfU1RSSU5HVUlEPTIwMTVdPVwiRVJSX0lOVkFMSURfU1RSSU5HVUlEXCIsZVtlLkVSUl9UT09fTUFOWV9VU0VSUz0yMDE2XT1cIkVSUl9UT09fTUFOWV9VU0VSU1wiLGVbZS5FUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVQ9MjAxN109XCJFUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVRcIixlW2UuRVJSX1NFVF9DTElFTlRfUk9MRV9OT19QRVJNSVNTSU9OPTIwMThdPVwiRVJSX1NFVF9DTElFTlRfUk9MRV9OT19QRVJNSVNTSU9OXCIsZVtlLkVSUl9TRVRfQ0xJRU5UX1JPTEVfQUxSRUFEWV9JTl9VU0U9MjAxOV09XCJFUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXCIsZVtlLkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRD0yMDIwXT1cIkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRFwiLGVbZS5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRD0yMDIxXT1cIkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEXCIsZVtlLkVSUl9OT1RfU1VQUE9SVEVEX01FU1NBR0U9MjAyMl09XCJFUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFXCIsZVtlLkVSUl9JTExFQUdBTF9QTFVHSU49MjAyM109XCJFUlJfSUxMRUFHQUxfUExVR0lOXCIsZVtlLkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRD0yMDI0XT1cIkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRFwiLGVbZS5FUlJfUkVKT0lOX1VTRVJfTk9UX0pPSU5FRD0yMDI1XT1cIkVSUl9SRUpPSU5fVVNFUl9OT1RfSk9JTkVEXCIsZVtlLkVSUl9JTlZBTElEX09QVElPTkFMX0lORk89MjAyN109XCJFUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPXCIsZVtlLklMTEVHQUxfQUVTX1BBU1NXT1JEPTIwMjhdPVwiSUxMRUdBTF9BRVNfUEFTU1dPUkRcIixlW2UuSUxMRUdBTF9DTElFTlRfUk9MRV9MRVZFTD0yMDI5XT1cIklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUxcIixlW2UuRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSUz0yMDMxXT1cIkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlNcIixlW2UuRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTPTIwMzJdPVwiRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTXCIsZVtlLkVSUl9MSUNFTlNFX01JU1NJTkc9MzI3NjldPVwiRVJSX0xJQ0VOU0VfTUlTU0lOR1wiLGVbZS5FUlJfTElDRU5TRV9FWFBJUkVEPTMyNzcxXT1cIkVSUl9MSUNFTlNFX0VYUElSRURcIixlW2UuRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRD0zMjc3M109XCJFUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEXCIsZVtlLkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEPTMyNzc0XT1cIkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEXCIsZVtlLkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFPTMyNzc4XT1cIkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXCIsZVtlLkVSUl9MSUNFTlNFX0lMTEVHQUw9MzI3ODNdPVwiRVJSX0xJQ0VOU0VfSUxMRUdBTFwiLGVbZS5FUlJfVEVTVF9SRUNPVkVSPTllM109XCJFUlJfVEVTVF9SRUNPVkVSXCIsZVtlLkVSUl9URVNUX1RSWU5FWFQ9OTAwMV09XCJFUlJfVEVTVF9UUllORVhUXCIsZVtlLkVSUl9URVNUX1JFVFJZPTkwMDJdPVwiRVJSX1RFU1RfUkVUUllcIn0obXZ8fChtdj17fSkpLGZ1bmN0aW9uKGUpe2UuQ09OTkVDVElORz1cImNvbm5lY3RpbmdcIixlLkNPTk5FQ1RFRD1cImNvbm5lY3RlZFwiLGUuUkVDT05ORUNUSU5HPVwicmVjb25uZWN0aW5nXCIsZS5DTE9TRUQ9XCJjbG9zZWRcIn0oZnZ8fChmdj17fSkpLGZ1bmN0aW9uKGUpe2UuV1NfQ09OTkVDVEVEPVwid3NfY29ubmVjdGVkXCIsZS5XU19SRUNPTk5FQ1RJTkc9XCJ3c19yZWNvbm5lY3RpbmdcIixlLldTX0NMT1NFRD1cIndzX2Nsb3NlZFwiLGUuV1NfUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSD1cIndzX3JlY29ubmVjdF93YWl0dGluZ19maW5pc2hcIixlLldTX1JFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTj1cIndzX3JlY29ubmVjdF9jcmVhdGVfY29ubmVjdGlvblwiLGUuT05fQklOQVJZX0RBVEE9XCJvbl9iaW5hcnlfZGF0YVwiLGUuUkVRVUVTVF9SRUNPVkVSPVwicmVxdWVzdF9yZWNvdmVyXCIsZS5SRVFVRVNUX0pPSU5fSU5GTz1cInJlcXVlc3Rfam9pbl9pbmZvXCIsZS5SRVFVRVNUX1JFSk9JTl9JTkZPPVwicmVxX3Jlam9pbl9pbmZvXCIsZS5JU19QMlBfRElTQ09OTkVDVEVEPVwiaXNfcDJwX2Rpc1wiLGUuRElTQ09OTkVDVF9QMlA9XCJkaXNfcDJwXCIsZS5BQk9SVF9QMlBfRVhFQ1VUSU9OPVwiYWJvcnRfcDJwX2V4ZWN1dGlvblwiLGUuTkVFRF9SRU5FV19TRVNTSU9OPVwibmVlZC1zaWRcIixlLlJFUE9SVF9KT0lOX0dBVEVXQVk9XCJyZXBvcnRfam9pbl9nYXRld2F5XCIsZS5SRVFVRVNUX1RJTUVPVVQ9XCJyZXF1ZXN0X3RpbWVvdXRcIixlLlJFUVVFU1RfU1VDQ0VTUz1cInJlcXVlc3Rfc3VjY2Vzc1wiLGUuSk9JTl9SRVNQT05TRT1cImpvaW5fcmVzcG9uc2VcIixlLkRBVEFDSEFOTkVMX1BSRUNPTk5FQ1Q9XCJkYXRhY2hhbm5lbF9wcmVjb25uZWN0XCIsZS5EQVRBQ0hBTk5FTF9DT05ORUNUSU5HPVwiZGF0YWNoYW5uZWxfY29ubmVjdGluZ1wiLGUuREFUQUNIQU5ORUxfRkFJTEJBQ0s9XCJkYXRhY2hhbm5lbF9mYWlsYmFja1wiLGUuUDJQX1NUQVJUPVwicDJwX3N0YXJ0XCIsZS5QMlBfQ09OTkVDVElPTj1cInAycF9jb25uZWN0aW9uXCIsZS5QMlBfUkVNT1RFX0NBTkRJREFURV9VUERBVEU9XCJwMnBfcmVtb3RlX2NhbmRpZGF0ZV91cGRhdGVcIixlLlAyUF9TVUJTQ1JJQkU9XCJwMnBfc3Vic2NyaWJlXCIsZS5QMlBfVU5TVUJTQ1JJQkU9XCJwMnBfdW5zdWJzY3JpYmVcIixlLlAyUF9FWENIQU5HRV9TRFA9XCJwMnBfZXhjaGFuZ2Vfc2RwXCIsZS5QMlBfT05fQUREX1ZJREVPX1NUUkVBTT1cInAycF9vbl9hZGRfdmlkZW9fc3RyZWFtXCIsZS5QMlBfT05fQUREX0FVRElPX1NUUkVBTT1cInAycF9vbl9hZGRfYXVkaW9fc3RyZWFtXCJ9KGd2fHwoZ3Y9e30pKSxmdW5jdGlvbihlKXtlLlBJTkc9XCJwaW5nXCIsZS5QSU5HX0JBQ0s9XCJwaW5nX2JhY2tcIixlLkpPSU49XCJqb2luX3YzXCIsZS5SRUpPSU49XCJyZWpvaW5fdjNcIixlLkxFQVZFPVwibGVhdmVcIixlLlNFVF9DTElFTlRfUk9MRT1cInNldF9jbGllbnRfcm9sZVwiLGUuUFVCTElTSD1cInB1Ymxpc2hcIixlLlBVQkxJU0hfREFUQVNUUkVBTT1cInB1Ymxpc2hfZGF0YXN0cmVhbVwiLGUuVU5QVUJMSVNIPVwidW5wdWJsaXNoXCIsZS5VTlBVQkxJU0hfREFUQVNUUkVBTT1cInVucHVibGlzaF9kYXRhc3RyZWFtXCIsZS5TVUJTQ1JJQkU9XCJzdWJzY3JpYmVcIixlLlNVQlNDUklCRV9EQVRBU1RSRUFNPVwic3Vic2NyaWJlX2RhdGFzdHJlYW1cIixlLlNVQlNDUklCRV9TVFJFQU1TPVwic3Vic2NyaWJlX3N0cmVhbXNcIixlLlVOU1VCU0NSSUJFPVwidW5zdWJzY3JpYmVcIixlLlVOU1VCU0NSSUJFX0RBVEFTVFJFQU09XCJ1bnN1YnNjcmliZV9kYXRhc3RyZWFtXCIsZS5VTlNVQlNDUklCRV9TVFJFQU1TPVwidW5zdWJzY3JpYmVfc3RyZWFtc1wiLGUuU1VCU0NSSUJFX0NIQU5HRT1cInN1YnNjcmliZV9jaGFuZ2VcIixlLlRSQUZGSUNfU1RBVFM9XCJ0cmFmZmljX3N0YXRzXCIsZS5SRU5FV19UT0tFTj1cInJlbmV3X3Rva2VuXCIsZS5TV0lUQ0hfVklERU9fU1RSRUFNPVwic3dpdGNoX3ZpZGVvX3N0cmVhbVwiLGUuREVGQVVMVF9WSURFT19TVFJFQU09XCJkZWZhdWx0X3ZpZGVvX3N0cmVhbVwiLGUuU0VUX0ZBTExCQUNLX09QVElPTj1cInNldF9mYWxsYmFja19vcHRpb25cIixlLkdBVEVXQVlfSU5GTz1cImdhdGV3YXlfaW5mb1wiLGUuQ09OVFJPTD1cImNvbnRyb2xcIixlLlNFTkRfTUVUQURBVEE9XCJzZW5kX21ldGFkYXRhXCIsZS5EQVRBX1NUUkVBTT1cImRhdGFfc3RyZWFtXCIsZS5QSUNLX1NWQ19MQVlFUj1cInBpY2tfc3ZjX2xheWVyXCIsZS5SRVNUQVJUX0lDRT1cInJlc3RhcnRfaWNlXCIsZS5DT05ORUNUX1BDPVwiY29ubmVjdF9wY1wiLGUuU0VUX1ZJREVPX1BST0ZJTEU9XCJzZXRfdmlkZW9fcHJvZmlsZVwiLGUuU0VUX1BBUkFNRVRFUj1cInNldF9wYXJhbWV0ZXJcIixlLlNFVF9SVE0yX0ZMQUc9XCJzZXRfcnRtMl9mbGFnXCJ9KFR2fHwoVHY9e30pKSxmdW5jdGlvbihlKXtlLlBVQkxJU0hfU1RBVFM9XCJwdWJsaXNoX3N0YXRzXCIsZS5QVUJMSVNIX1JFTEFURURfU1RBVFM9XCJwdWJsaXNoX3JlbGF0ZWRfc3RhdHNcIixlLlNVQlNDUklCRV9TVEFUUz1cInN1YnNjcmliZV9zdGF0c1wiLGUuU1VCU0NSSUJFX1JFTEFURURfU1RBVFM9XCJzdWJzY3JpYmVfcmVsYXRlZF9zdGF0c1wiLGUuV1NfSU5GTEFURV9EQVRBX0xFTkdUSD1cIndzX2luZmxhdGVfZGF0YV9sZW5ndGhcIixlLkRFTk9JU0VSX1NUQVRTPVwiZGVub2lzZXJfc3RhdHNcIixlLlRSQU5TUE9SVF9TVEFUUz1cInRyYW5zcG9ydF9zdGF0c1wiLGUuRVhURU5TSU9OX1VTQUdFX1NUQVRTPVwiZXh0ZW5zaW9uX3VzYWdlX3N0YXRzXCJ9KFN2fHwoU3Y9e30pKSxmdW5jdGlvbihlKXtlLk9OX1VTRVJfT05MSU5FPVwib25fdXNlcl9vbmxpbmVcIixlLk9OX1VTRVJfT0ZGTElORT1cIm9uX3VzZXJfb2ZmbGluZVwiLGUuT05fU1RSRUFNX0ZBTExCQUNLX1VQREFURT1cIm9uX3N0cmVhbV9mYWxsYmFja191cGRhdGVcIixlLk9OX1BVQkxJU0hfU1RSRUFNPVwib25fcHVibGlzaF9zdHJlYW1cIixlLk9OX1VQTElOS19TVEFUUz1cIm9uX3VwbGlua19zdGF0c1wiLGUuT05fUDJQX0xPU1Q9XCJvbl9wMnBfbG9zdFwiLGUuT05fUkVNT1ZFX1NUUkVBTT1cIm9uX3JlbW92ZV9zdHJlYW1cIixlLk9OX0FERF9BVURJT19TVFJFQU09XCJvbl9hZGRfYXVkaW9fc3RyZWFtXCIsZS5PTl9BRERfVklERU9fU1RSRUFNPVwib25fYWRkX3ZpZGVvX3N0cmVhbVwiLGUuT05fVE9LRU5fUFJJVklMRUdFX1dJTExfRVhQSVJFPVwib25fdG9rZW5fcHJpdmlsZWdlX3dpbGxfZXhwaXJlXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRT1cIm9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCIsZS5PTl9VU0VSX0JBTk5FRD1cIm9uX3VzZXJfYmFubmVkXCIsZS5PTl9VU0VSX0xJQ0VOU0VfQkFOTkVEPVwib25fdXNlcl9saWNlbnNlX2Jhbm5lZFwiLGUuT05fTk9USUZJQ0FUSU9OPVwib25fbm90aWZpY2F0aW9uXCIsZS5PTl9DUllQVF9FUlJPUj1cIm9uX2NyeXB0X2Vycm9yXCIsZS5NVVRFX0FVRElPPVwibXV0ZV9hdWRpb1wiLGUuTVVURV9WSURFTz1cIm11dGVfdmlkZW9cIixlLlVOTVVURV9BVURJTz1cInVubXV0ZV9hdWRpb1wiLGUuVU5NVVRFX1ZJREVPPVwidW5tdXRlX3ZpZGVvXCIsZS5PTl9QMlBfT0s9XCJvbl9wMnBfb2tcIixlLlJFQ0VJVkVfTUVUQURBVEE9XCJyZWNlaXZlX21ldGFkYXRhXCIsZS5PTl9EQVRBX1NUUkVBTT1cIm9uX2RhdGFfc3RyZWFtXCIsZS5PTl9SVFBfQ0FQQUJJTElUWV9DSEFOR0U9XCJvbl9ydHBfY2FwYWJpbGl0eV9jaGFuZ2VcIixlLk9OX1JFTU9URV9EQVRBU1RSRUFNX1VQREFURT1cIm9uX3JlbW90ZV9kYXRhc3RyZWFtX3VwZGF0ZVwiLGUuT05fUkVNT1RFX0ZVTExfREFUQVNUUkVBTV9JTkZPPVwib25fcmVtb3RlX2Z1bGxfZGF0YXN0cmVhbV9pbmZvXCIsZS5FTkFCTEVfTE9DQUxfVklERU89XCJlbmFibGVfbG9jYWxfdmlkZW9cIixlLkRJU0FCTEVfTE9DQUxfVklERU89XCJkaXNhYmxlX2xvY2FsX3ZpZGVvXCIsZS5FTkFCTEVfTE9DQUxfQVVESU89XCJlbmFibGVfbG9jYWxfYXVkaW9cIixlLkRJU0FCTEVfTE9DQUxfQVVESU89XCJkaXNhYmxlX2xvY2FsX2F1ZGlvXCIsZS5PTl9QVUJMSVNIRURfVVNFUl9MSVNUPVwib25fcHVibGlzaGVkX3VzZXJfbGlzdFwifShSdnx8KFJ2PXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cIkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFXCIsZS5ORUVEX0FOU1dFUj1cIk5FRURfQU5TV0VSXCIsZS5ORUVEX1JFTkVHT1RJQVRFPVwiTkVFRF9SRU5FR09USUFURVwiLGUuUDJQX0xPU1Q9XCJQMlBfTE9TVFwiLGUuR0FURVdBWV9QMlBfTE9TVD1cIkdBVEVXQVlfUDJQX0xPU1RcIixlLk5FRURfVU5QVUI9XCJORUVEX1VOUFVCXCIsZS5ORUVEX1VOU1VCPVwiTkVFRF9VTlNVQlwiLGUuTkVFRF9VUExPQUQ9XCJORUVEX1VQTE9BRFwiLGUuTkVFRF9DT05UUk9MPVwiTkVFRF9DT05UUk9MXCIsZS5TVEFSVF9SRUNPTk5FQ1Q9XCJTVEFSVF9SRUNPTk5FQ1RcIixlLkVORF9SRUNPTk5FQ1Q9XCJFTkRfUkVDT05ORUNUXCIsZS5ORUVEX1NJR05BTF9SVFQ9XCJORUVEX1NJR05BTF9SVFRcIn0oQ3Z8fChDdj17fSkpLGZ1bmN0aW9uKGUpe2UuU0VORF9PTkxZPVwiU0VORF9PTkxZXCIsZS5SRUNFSVZFX09OTFk9XCJSRUNFSVZFX09OTFlcIn0odnZ8fCh2dj17fSkpLGZ1bmN0aW9uKGUpe2UuQ09OTkVDVEVEPVwid2Vic29ja2V0OmNvbm5lY3RlZFwiLGUuUkVDT05ORUNUSU5HPVwid2Vic29ja2V0OnJlY29ubmVjdGluZ1wiLGUuV0lMTF9SRUNPTk5FQ1Q9XCJ3ZWJzb2NrZXQ6d2lsbF9yZWNvbm5lY3RcIixlLkNMT1NFRD1cIndlYnNvY2tldDpjbG9zZWRcIixlLkZBSUxFRD1cIndlYnNvY2tldDpmYWlsZWRcIixlLk9OX01FU1NBR0U9XCJ3ZWJzb2NrZXQ6b25fbWVzc2FnZVwiLGUuUkVRVUVTVF9ORVdfVVJMUz1cIndlYnNvY2tldDpyZXF1ZXN0X25ld191cmxzXCIsZS5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNIPVwid2Vic29ja2V0OnJlY29ubmVjdF93YWl0dGluZ19maW5pc2hcIixlLlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTj1cIndlYnNvY2tldDpyZWNvbm5lY3RfY3JlYXRlX2Nvbm5lY3Rpb25cIixlLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFPVwid2Vic29ja2V0Om9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCJ9KEl2fHwoSXY9e30pKTtjbGFzcyB4diBleHRlbmRzIFZne2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCIsYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDApLG51KHRoaXMsXCJuYW1lXCIsXCJBZ29yYVJUQ0V4Y2VwdGlvblwiKX1wcmludCgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcImVycm9yXCI7cmV0dXJuIHN1cGVyLnByaW50KGUsS0MpfXRocm93KCl7c3VwZXIudGhyb3coS0MpfX1mdW5jdGlvbiBWdihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZXx8IS9eW2EtekEtWjAtOSBcXCFcXCNcXCRcXCVcXCZcXChcXClcXCtcXC1cXDpcXDtcXDxcXD1cXC5cXD5cXD9cXEBcXFtcXF1cXF5cXF9cXHtcXH1cXHxcXH5cXCxdezEsNjR9JC8udGVzdChlKSl0aHJvdyBLQy5lcnJvcihcIkludmFsaWQgQ2hhbm5lbCBOYW1lIFwiLmNvbmNhdChlKSksbmV3IHh2KHhnLklOVkFMSURfUEFSQU1TLFwiVGhlIGxlbmd0aCBtdXN0IGJlIHdpdGhpbiA2NCBieXRlcy4gVGhlIHN1cHBvcnRlZCBjaGFyYWN0ZXJzOiBhLXosQS1aLDAtOSxzcGFjZSwhLCAjLCAkLCAlLCAmLCAoLCApLCArLCAtLCA6LCA7LCA8LCA9LCAuLCA+LCA/LCBALCBbLCBdLCBeLCBfLCAgeywgfSwgfCwgfiwgLFwiKX1mdW5jdGlvbiBGdihlKXtpZighKHQ9ZSxcIm51bWJlclwiPT10eXBlb2YgdCYmTWF0aC5mbG9vcih0KT09PXQmJjA8PXQmJnQ8PTQyOTQ5NjcyOTV8fFlnKGUsMSwyNTUpKSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJbU3RyaW5nIHVpZF0gTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFsxLDI1NV0uIEFTQ0lJIGNoYXJhY3RlcnMgb25seS4gW051bWJlciB1aWRdIFRoZSB2YWx1ZSByYW5nZSBpcyBbMCwxMDAwMF1cIik7dmFyIHQ7XCJzdHJpbmdcIj09dHlwZW9mIGUmJktDLndhcm4oXCJZb3UgaW5wdXQgYSBzdHJpbmcgYXMgdGhlIHVzZXIgSUQsIHRvIGVuc3VyZSBiZXR0ZXIgZW5kLXVzZXIgZXhwZXJpZW5jZSwgQWdvcmEgaGlnaGx5IHN1Z2dlc3RzIG5vdCB1c2luZyBhIHN0cmluZyBhcyB0aGUgdXNlciBJRC5cIil9IWZ1bmN0aW9uKGUpe2UuVFJBTlNDT0RFPVwibWl4X3N0cmVhbWluZ1wiLGUuUkFXPVwicmF3X3N0cmVhbWluZ1wiLGUuSU5KRUNUPVwiaW5qZWN0X3N0cmVhbWluZ1wifSh5dnx8KHl2PXt9KSksZnVuY3Rpb24oZSl7ZVtlLklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX1NVQ0NFU1M9MF09XCJJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9TVUNDRVNTXCIsZVtlLklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX0FMUkVBRFlfRVhJU1RTPTFdPVwiSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfQUxSRUFEWV9FWElTVFNcIixlW2UuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfVU5BVVRIT1JJWkVEPTJdPVwiSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfVU5BVVRIT1JJWkVEXCIsZVtlLklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX1RJTUVPVVQ9M109XCJJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9USU1FT1VUXCIsZVtlLklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX0ZBSUxFRD00XT1cIklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX0ZBSUxFRFwiLGVbZS5JTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX1NVQ0NFU1M9NV09XCJJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX1NVQ0NFU1NcIixlW2UuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9OT1RfRk9VTkQ9Nl09XCJJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX05PVF9GT1VORFwiLGVbZS5JTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX1VOQVVUSE9SSVpFRD03XT1cIklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfVU5BVVRIT1JJWkVEXCIsZVtlLklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfVElNRU9VVD04XT1cIklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfVElNRU9VVFwiLGVbZS5JTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX0ZBSUxFRD05XT1cIklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfRkFJTEVEXCIsZVtlLklOSkVDVF9TVFJFQU1fU1RBVFVTX0JST0tFTj0xMF09XCJJTkpFQ1RfU1RSRUFNX1NUQVRVU19CUk9LRU5cIn0oQXZ8fChBdj17fSkpO2NvbnN0IEJ2PXthbHBoYToxLGhlaWdodDo2NDAsd2lkdGg6MzYwLHg6MCx5OjAsek9yZGVyOjAsYXVkaW9DaGFubmVsOjB9LGp2PXt4OjAseTowLHdpZHRoOjE2MCxoZWlnaHQ6MTYwLHpPcmRlcjoyNTUsYWxwaGE6MX07ZnVuY3Rpb24gR3YoZSx0KXtXZyhlLnVybCxcIlwiLmNvbmNhdCh0LFwiLnVybFwiKSwxLDFlMywhMSksS2coZS54KXx8amcoZS54LFwiXCIuY29uY2F0KHQsXCIueFwiKSwwLDFlNCksS2coZS55KXx8amcoZS55LFwiXCIuY29uY2F0KHQsXCIueVwiKSwwLDFlNCksS2coZS53aWR0aCl8fGpnKGUud2lkdGgsXCJcIi5jb25jYXQodCxcIi53aWR0aFwiKSwwLDFlNCksS2coZS5oZWlnaHQpfHxqZyhlLmhlaWdodCxcIlwiLmNvbmNhdCh0LFwiLmhlaWdodFwiKSwwLDFlNCksS2coZS56T3JkZXIpfHxqZyhlLnpPcmRlcixcIlwiLmNvbmNhdCh0LFwiLnpPcmRlclwiKSwwLDI1NSksS2coZS5hbHBoYSl8fGpnKGUuYWxwaGEsXCJcIi5jb25jYXQodCxcIi5hbHBoYVwiKSwwLDEsITEpfWNvbnN0IFd2PXthdWRpb0JpdHJhdGU6NDgsYXVkaW9DaGFubmVsczoxLGF1ZGlvU2FtcGxlUmF0ZTo0OGUzLGJhY2tncm91bmRDb2xvcjowLGhlaWdodDozNjAsbG93TGF0ZW5jeTohMSx2aWRlb0JpdHJhdGU6NDAwLHZpZGVvQ29kZWNQcm9maWxlOjEwMCx2aWRlb0NvZGVjVHlwZToxLHZpZGVvRnJhbWVSYXRlOjE1LHZpZGVvR29wOjMwLHdpZHRoOjY0MCxpbWFnZXM6W10sdXNlckNvbmZpZ3M6W10sdXNlckNvbmZpZ0V4dHJhSW5mbzpcIlwifSxIdj17YXVkaW9CaXRyYXRlOjQ4LGF1ZGlvQ2hhbm5lbHM6MixhdWRpb1ZvbHVtZToxMDAsYXVkaW9TYW1wbGVSYXRlOjQ4ZTMsaGVpZ2h0OjAsd2lkdGg6MCx2aWRlb0JpdHJhdGU6NDAwLHZpZGVvRnJhbWVyYXRlOjE1LHZpZGVvR29wOjMwfTt2YXIgS3YsWXYscXYsSnYsenYsWHYsUXYsWnYsJHYsZUksdEksaUksbkksckk7ZnVuY3Rpb24gc0koZSl7aWYoIWUuY2hhbm5lbE5hbWUpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfUEFSQU1TLFwiaW52YWxpZCBjaGFubmVsTmFtZSBpbiBpbmZvXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlLnVpZCl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIHVpZCBpbiBpbmZvLCB1aWQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gZS50b2tlbiYmV2coZS50b2tlbixcImluZm8udG9rZW5cIiwxLDIwNDcpLEZ2KGUudWlkKSxWdihlLmNoYW5uZWxOYW1lKSwhMH0hZnVuY3Rpb24oZSl7ZS5XQVJOSU5HPVwiQGxpdmVfdWFwLXdhcm5pbmdcIixlLkVSUk9SPVwiQGxpbmVfdWFwLWVycm9yXCIsZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVM9XCJAbGl2ZV91YXAtcHVibGlzaC1zdGF0dXNcIixlLklOSkVDVF9TVFJFQU1fU1RBVFVTPVwiQGxpdmVfdWFwLWluamVjdC1zdGF0dXNcIixlLldPUktFUl9TVEFUVVM9XCJAbGl2ZV91YXAtd29ya2VyLXN0YXR1c1wiLGUuUkVRVUVTVF9ORVdfQUREUkVTUz1cIkBsaXZlX3VhcC1yZXF1ZXN0LWFkZHJlc3NcIn0oS3Z8fChLdj17fSkpLGZ1bmN0aW9uKGUpe2UuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNUPVwiQGxpdmVfcmVxX3dvcmtlcl9tYW5hZ2VyXCJ9KFl2fHwoWXY9e30pKSxmdW5jdGlvbihlKXtlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfU1VDQ0VFRD0yMDBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfU1VDQ0VFRFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9BTFJFQURZX0VYSVNUU19TVFJFQU09NDU0XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0FMUkVBRFlfRVhJU1RTX1NUUkVBTVwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9UUkFOU0NPRElOR19QQVJBTUVURVJfRVJST1I9NDUwXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUlwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNPTQ1MV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1BBUkFNRVRFUl9FUlJPUj00MDBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1dPUktFUl9OT1RfRVhJU1Q9NDA0XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1dPUktFUl9OT1RfRVhJU1RcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0FVVEhPUklaRUQ9NDU2XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9BVVRIT1JJWkVEXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFPTQ1N109XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9GQUlMRURfTE9BRF9JTUFHRVwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9SRVFVRVNUX1RPT19PRlRFTj00MjldPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVRVUVTVF9UT09fT0ZURU5cIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0ZPVU5EX1BVQkxJU0g9NDUyXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9GT1VORF9QVUJMSVNIXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9TVVBQT1JURUQ9NDUzXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9TVVBQT1JURURcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTUFYX1NUUkVBTV9OVU09NDU1XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX01BWF9TVFJFQU1fTlVNXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUj01MDBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUPTUwMV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9SRVNPVVJDRV9MSU1JVD01MDJdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVTT1VSQ0VfTElNSVRcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVQ9NTAzXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9RVUlUXCIsZVtlLkVSUk9SX0ZBSUxfU0VORF9NRVNTQUdFPTUwNF09XCJFUlJPUl9GQUlMX1NFTkRfTUVTU0FHRVwiLGVbZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0U9MzBdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFXCIsZVtlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q9MzFdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVFwiLGVbZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIPTMyXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0hcIixlW2UuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOPTMzXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTlwifShxdnx8KHF2PXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNUX0ZBSUxFRD1cImNvbm5lY3QgZmFpbGVkXCIsZS5DT05ORUNUX1RJTUVPVVQ9XCJjb25uZWN0IHRpbWVvdXRcIixlLldTX0RJU0NPTk5FQ1RFRD1cIndlYnNvY2tldCBkaXNjb25uZWN0ZWRcIixlLlJFUVVFU1RfVElNRU9VVD1cInJlcXVlc3QgdGltZW91dFwiLGUuUkVRVUVTVF9GQUlMRUQ9XCJyZXF1ZXN0IGZhaWxlZFwiLGUuV0FJVF9TVEFUVVNfVElNRU9VVD1cIndhaXQgc3RhdHVzIHRpbWVvdXRcIixlLldBSVRfU1RBVFVTX0VSUk9SPVwid2FpdCBzdGF0dXMgZXJyb3JcIixlLkJBRF9TVEFURT1cImJhZCBzdGF0ZVwiLGUuV1NfQUJPUlQ9XCJ3cyBhYm9ydFwiLGUuQVBfUkVRVUVTVF9USU1FT1VUPVwiQVAgcmVxdWVzdCB0aW1lb3V0XCIsZS5BUF9KU09OX1BBUlNFX0VSUk9SPVwiQVAganNvbiBwYXJzZSBlcnJvclwiLGUuQVBfUkVRVUVTVF9FUlJPUj1cIkFQIHJlcXVlc3QgZXJyb3JcIixlLkFQX1JFUVVFU1RfQUJPUlQ9XCJBUCByZXF1ZXN0IGFib3J0XCJ9KEp2fHwoSnY9e30pKSxmdW5jdGlvbihlKXtlW2UuU2V0U2RrUHJvZmlsZT0wXT1cIlNldFNka1Byb2ZpbGVcIixlW2UuU2V0U291cmNlQ2hhbm5lbD0xXT1cIlNldFNvdXJjZUNoYW5uZWxcIixlW2UuU2V0U291cmNlVXNlcklkPTJdPVwiU2V0U291cmNlVXNlcklkXCIsZVtlLlNldERlc3RDaGFubmVsPTNdPVwiU2V0RGVzdENoYW5uZWxcIixlW2UuU3RhcnRQYWNrZXRUcmFuc2Zlcj00XT1cIlN0YXJ0UGFja2V0VHJhbnNmZXJcIixlW2UuU3RvcFBhY2tldFRyYW5zZmVyPTVdPVwiU3RvcFBhY2tldFRyYW5zZmVyXCIsZVtlLlVwZGF0ZURlc3RDaGFubmVsPTZdPVwiVXBkYXRlRGVzdENoYW5uZWxcIixlW2UuUmVjb25uZWN0PTddPVwiUmVjb25uZWN0XCIsZVtlLlNldFZpZGVvUHJvZmlsZT04XT1cIlNldFZpZGVvUHJvZmlsZVwifSh6dnx8KHp2PXt9KSksZnVuY3Rpb24oZSl7ZS5ORVRXT1JLX0RJU0NPTk5FQ1RFRD1cIk5FVFdPUktfRElTQ09OTkVDVEVEXCIsZS5ORVRXT1JLX0NPTk5FQ1RFRD1cIk5FVFdPUktfQ09OTkVDVEVEXCIsZS5QQUNLRVRfSk9JTkVEX1NSQ19DSEFOTkVMPVwiUEFDS0VUX0pPSU5FRF9TUkNfQ0hBTk5FTFwiLGUuUEFDS0VUX0pPSU5FRF9ERVNUX0NIQU5ORUw9XCJQQUNLRVRfSk9JTkVEX0RFU1RfQ0hBTk5FTFwiLGUuUEFDS0VUX1NFTlRfVE9fREVTVF9DSEFOTkVMPVwiUEFDS0VUX1NFTlRfVE9fREVTVF9DSEFOTkVMXCIsZS5QQUNLRVRfUkVDRUlWRURfVklERU9fRlJPTV9TUkM9XCJQQUNLRVRfUkVDRUlWRURfVklERU9fRlJPTV9TUkNcIixlLlBBQ0tFVF9SRUNFSVZFRF9BVURJT19GUk9NX1NSQz1cIlBBQ0tFVF9SRUNFSVZFRF9BVURJT19GUk9NX1NSQ1wiLGUuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUw9XCJQQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTFwiLGUuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfUkVGVVNFRD1cIlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX1JFRlVTRURcIixlLlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX05PVF9DSEFOR0U9XCJQQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9OT1RfQ0hBTkdFXCJ9KFh2fHwoWHY9e30pKSxmdW5jdGlvbihlKXtlLlJFTEFZX1NUQVRFX0lETEU9XCJSRUxBWV9TVEFURV9JRExFXCIsZS5SRUxBWV9TVEFURV9DT05ORUNUSU5HPVwiUkVMQVlfU1RBVEVfQ09OTkVDVElOR1wiLGUuUkVMQVlfU1RBVEVfUlVOTklORz1cIlJFTEFZX1NUQVRFX1JVTk5JTkdcIixlLlJFTEFZX1NUQVRFX0ZBSUxVUkU9XCJSRUxBWV9TVEFURV9GQUlMVVJFXCJ9KFF2fHwoUXY9e30pKSxmdW5jdGlvbihlKXtlLlJFTEFZX09LPVwiUkVMQVlfT0tcIixlLlNFUlZFUl9DT05ORUNUSU9OX0xPU1Q9XCJTRVJWRVJfQ09OTkVDVElPTl9MT1NUXCIsZS5TUkNfVE9LRU5fRVhQSVJFRD1cIlNSQ19UT0tFTl9FWFBJUkVEXCIsZS5ERVNUX1RPS0VOX0VYUElSRUQ9XCJERVNUX1RPS0VOX0VYUElSRURcIn0oWnZ8fChadj17fSkpLGZ1bmN0aW9uKGUpe2UuSGlnaD1cImhpZ2hcIixlLkxvdz1cImxvd1wiLGUuQXVkaW89XCJhdWRpb1wiLGUuU2NyZWVuPVwic2NyZWVuXCIsZS5TY3JlZW5Mb3c9XCJzY3JlZW5fbG93XCJ9KCR2fHwoJHY9e30pKSxmdW5jdGlvbihlKXtlLkRJU0NPTk5FQ1Q9XCJkaXNjb25uZWN0XCIsZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsZS5ORVRXT1JLX1FVQUxJVFk9XCJuZXR3b3JrLXF1YWxpdHlcIixlLlNUUkVBTV9UWVBFX0NIQU5HRT1cInN0cmVhbS10eXBlLWNoYW5nZVwiLGUuSVNfUDJQX0RJU0NPTk5FQ1RFRD1cImlzLXAycC1kaXNcIixlLkRJU0NPTk5FQ1RfUDJQPVwiZGlzLXAycFwiLGUuUkVRVUVTVF9ORVdfR0FURVdBWV9MSVNUPVwicmVxLWdhdGUtdXJsXCIsZS5ORUVEX1JFTkVXX1NFU1NJT049XCJuZWVkLXNpZFwiLGUuUkVRVUVTVF9QMlBfQ09OTkVDVElPTl9QQVJBTVM9XCJyZXF1ZXN0LXAycC1jb25uZWN0aW9uLXBhcmFtc1wiLGUuSk9JTl9SRVNQT05TRT1cImpvaW4tcmVzcG9uc2VcIixlLlJFUVVFU1RfRENfQ09OTkVDVElPTl9QQVJBTVM9XCJyZXF1ZXN0LWRjLWNvbm5lY3Rpb24tcGFyYW1zXCIsZS5SRVNFVF9DT05ORUNUSU9OX0VWRU5UUz1cInJlc2V0LWNvbm5lY3Rpb24tZXZlbnRzXCIsZS5EQVRBQ0hBTk5FTF9QUkVDT05ORUNUPVwiZGF0YWNoYW5uZWxfcHJlY29ubmVjdFwiLGUuREFUQUNIQU5ORUxfRkFJTEJBQ0s9XCJkYXRhY2hhbm5lbF9mYWlsYmFja1wiLGUuUkVTRVRfU0lHTkFMPVwicmVzZXQtc2lnbmFsXCJ9KGVJfHwoZUk9e30pKSxmdW5jdGlvbihlKXtlLlAyUF9ESVNDT05ORUNURUQ9XCJQMlBfRElTQ09OTkVDVEVEXCIsZS5BX1JPVU5EX1dTX0ZBSUxFRD1cIkFfUk9VTkRfV1NfRkFJTEVEXCIsZS5USU1FT1VUPVwiVElNRU9VVFwiLGUuVU5LTk9XTl9SRUFTT049XCJVTktOT1dOX1JFQVNPTlwifSh0SXx8KHRJPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk5vdGhpbmc9MF09XCJOb3RoaW5nXCIsZVtlLkF1ZGlvPTFdPVwiQXVkaW9cIixlW2UuTHdvVmlkZW89Ml09XCJMd29WaWRlb1wiLGVbZS5WaWRlbz00XT1cIlZpZGVvXCIsZVtlLkRhdGE9OF09XCJEYXRhXCIsZVtlLkRhdGFTdHJlYW0wPTI1Nl09XCJEYXRhU3RyZWFtMFwiLGVbZS5EYXRhU3RyZWFtMT01MTJdPVwiRGF0YVN0cmVhbTFcIixlW2UuRGF0YVN0cmVhbTI9MTAyNF09XCJEYXRhU3RyZWFtMlwiLGVbZS5EYXRhU3RyZWFtMz0yMDQ4XT1cIkRhdGFTdHJlYW0zXCIsZVtlLkRhdGFTdHJlYW00PTQwOTZdPVwiRGF0YVN0cmVhbTRcIixlW2UuRGF0YVN0cmVhbTU9ODE5Ml09XCJEYXRhU3RyZWFtNVwiLGVbZS5EYXRhU3RyZWFtNj0xNjM4NF09XCJEYXRhU3RyZWFtNlwiLGVbZS5EYXRhU3RyZWFtNz0zMjc2OF09XCJEYXRhU3RyZWFtN1wifShpSXx8KGlJPXt9KSksZnVuY3Rpb24oZSl7ZVtlLndlYnNvY2tldD0wXT1cIndlYnNvY2tldFwiLGVbZS5kYXRhY2hhbm5lbD0xXT1cImRhdGFjaGFubmVsXCJ9KG5JfHwobkk9e30pKSxmdW5jdGlvbihlKXtlLkNISU5BPVwiQ0hJTkFcIixlLkFTSUE9XCJBU0lBXCIsZS5OT1JUSF9BTUVSSUNBPVwiTk9SVEhfQU1FUklDQVwiLGUuRVVST1BFPVwiRVVST1BFXCIsZS5KQVBBTj1cIkpBUEFOXCIsZS5JTkRJQT1cIklORElBXCIsZS5LT1JFQT1cIktPUkVBXCIsZS5IS01DPVwiSEtNQ1wiLGUuVVM9XCJVU1wiLGUuT0NFQU5JQT1cIk9DRUFOSUFcIixlLlNPVVRIX0FNRVJJQ0E9XCJTT1VUSF9BTUVSSUNBXCIsZS5BRlJJQ0E9XCJBRlJJQ0FcIixlLk9WRVJTRUE9XCJPVkVSU0VBXCIsZS5HTE9CQUw9XCJHTE9CQUxcIixlLkVYVEVOU0lPTlM9XCJFWFRFTlNJT05TXCJ9KHJJfHwockk9e30pKTtjb25zdCBvST1bckkuQUZSSUNBLHJJLkFTSUEsckkuQ0hJTkEsckkuRVVST1BFLHJJLkdMT0JBTCxySS5JTkRJQSxySS5KQVBBTixySS5OT1JUSF9BTUVSSUNBLHJJLk9DRUFOSUEsckkuT1ZFUlNFQSxySS5TT1VUSF9BTUVSSUNBXTt2YXIgYUk7IWZ1bmN0aW9uKGUpe2UuQ0hJTkE9XCJDTlwiLGUuQVNJQT1cIkFTXCIsZS5OT1JUSF9BTUVSSUNBPVwiTkFcIixlLkVVUk9QRT1cIkVVXCIsZS5KQVBBTj1cIkpQXCIsZS5JTkRJQT1cIklOXCIsZS5LT1JFQT1cIktSXCIsZS5IS01DPVwiSEtcIixlLlVTPVwiVVNcIixlLk9DRUFOSUE9XCJPQ1wiLGUuU09VVEhfQU1FUklDQT1cIlNBXCIsZS5BRlJJQ0E9XCJBRlwiLGUuT1ZFUlNFQT1cIk9WRVJTRUFcIixlLkdMT0JBTD1cIkdMT0JBTFwiLGUuRVhURU5TSU9OUz1cIkdMT0JBTFwifShhSXx8KGFJPXt9KSk7Y29uc3QgY0k9e0NISU5BOnt9LEFTSUE6e0NPREU6YUkuQVNJQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtYXNpYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItYXNpYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItYXNpYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1hc2lhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFzaWEyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1hc2lhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFzaWEyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWFzaWEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1hc2lhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtYXNpYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wic291dGhlYXN0LWFzaWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LE5PUlRIX0FNRVJJQ0E6e0NPREU6YUkuTk9SVEhfQU1FUklDQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2Utbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiZWFzdC11c2Eud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEVVUk9QRTp7Q09ERTphSS5FVVJPUEUsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWV1cm9wZS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItZXVyb3BlLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWV1cm9wZTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWV1cm9wZTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWV1cm9wZS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWV1cm9wZS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWV1cm9wZS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiZXVyb3BlLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxKQVBBTjp7Q09ERTphSS5KQVBBTixXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtamFwYW4uYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWphcGFuLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1qYXBhbi5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1qYXBhbi5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1qYXBhbjIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1qYXBhbi5hZ29yYS5pb1wiLFwiXFx0dWFwLWFwLXdlYi1qYXBhbjIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWphcGFuLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItamFwYW4uYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1qYXBhbi5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiamFwYW4ud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LElORElBOntDT0RFOmFJLklORElBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1pbmRpYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItaW5kaWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWluZGlhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWluZGlhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWluZGlhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWluZGlhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWluZGlhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtaW5kaWEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1pbmRpYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWluZGlhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJpbmRpYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sS09SRUE6e0NPREU6YUkuS09SRUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWtvcmVhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1rb3JlYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWIta29yZWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWIta29yZWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWIta29yZWEyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1rb3JlYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWIta29yZWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWIta29yZWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1rb3JlYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWtvcmVhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2Uta29yZWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImtvcmVhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxIS01DOntDT0RFOmFJLkhLTUMsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWhrbWMuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWhrbWMuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWhrbWMuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItaGttYy5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1oa21jMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItaGttYy5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1oa21jMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1oa21jLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWhrbWMyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1oa21jLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItaGttYy5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWhrbWMuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImhrbWMud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LFVTOntDT0RFOmFJLlVTLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS11cy5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItdXMuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLXVzLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLXVzLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLXVzMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItdXMuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItdXMyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLXVzLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLXVzMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtdXMuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi11cy5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLXVzLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ1cy53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sT1ZFUlNFQTp7Q09ERTphSS5PVkVSU0VBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1vdmVyc2VhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1vdmVyc2VhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtb3ZlcnNlYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW92ZXJzZWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1vdmVyc2VhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHkuYWdvcmEuaW9cIl19LEdMT0JBTDp7Q09ERTphSS5HTE9CQUwsV0VCQ1NfRE9NQUlOOltcIndlYnJ0YzItYXAtd2ViLTEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcIndlYnJ0YzItYXAtd2ViLTMuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wiYXAtcHJveHktMS5hZ29yYS5pb1wiLFwiYXAtcHJveHktMi5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLTMuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLTEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItMy5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLTMuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTIuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wid2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LE9DRUFOSUE6e0NPREU6YUkuT0NFQU5JQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtb2NlYW5pYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItb2NlYW5pYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1vY2VhbmlhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLW9jZWFuaWEyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1vY2VhbmlhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLW9jZWFuaWEyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLW9jZWFuaWEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1vY2VhbmlhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2Utb2NlYW5pYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wib2NlYW5pYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sU09VVEhfQU1FUklDQTp7Q09ERTphSS5TT1VUSF9BTUVSSUNBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItc291dGgtYW1lcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItc291dGgtYW1lcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJzb3V0aC1hbWVyaWNhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxBRlJJQ0E6e0NPREU6YUkuQUZSSUNBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1hZnJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWFmcmljYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYWZyaWNhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYWZyaWNhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtYWZyaWNhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItYWZyaWNhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2Utc291dGgtYWZyaWNhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJhZnJpY2Eud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEVYVEVOU0lPTlM6e319O3ZhciBkSSxsSSxoSSx1SSxwSSxfSSxFSSxtSSxmSSxnSSxUSSxTSSxSSSxDSSx2SSxJSSx5SSxBSSxiSSx3SSxPSSxOSTtOQyYmKGNJLkNISU5BPXtDT0RFOmFJLkNISU5BLFdFQkNTX0RPTUFJTjpbXCJ3ZWJydGMyLTIuYXAuc2QtcnRuLmNvbVwiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi00LmFwLnNkLXJ0bi5jb21cIl0sUFJPWFlfQ1M6W1wicHJveHktd2ViLmFwLnNkLXJ0bi5jb21cIl0sQ0RTX0FQOltcImNkcy13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJjZHMtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJzdWEtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxVQVBfQVA6W1widWFwLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInVhcC13ZWItNC5hcC5zZC1ydG4uY29tXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wid2ViLTMuc3RhdHNjb2xsZWN0b3Iuc2QtcnRuLmNvbVwiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJ3ZWItNC5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtY2hpbmEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImVhc3QtY24ud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19KSxmdW5jdGlvbihlKXtlLlVQREFURV9CSVRSQVRFX0xJTUlUPVwidXBkYXRlX2JpdHJhdGVfbGltaXRcIn0oZEl8fChkST17fSkpO2NsYXNzIERJIGV4dGVuZHMgaVR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG51KHRoaXMsXCJvbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLHZvaWQgMCksbnUodGhpcyxcIm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsdm9pZCAwKSxudSh0aGlzLFwib25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2VcIix2b2lkIDApLG51KHRoaXMsXCJvbkRUTFNUcmFuc3BvcnRFcnJvclwiLHZvaWQgMCksbnUodGhpcyxcIm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2VcIix2b2lkIDApLG51KHRoaXMsXCJvbkZpcnN0QXVkaW9SZWNlaXZlZFwiLHZvaWQgMCksbnUodGhpcyxcIm9uRmlyc3RWaWRlb1JlY2VpdmVkXCIsdm9pZCAwKSxudSh0aGlzLFwib25GaXJzdEF1ZGlvRGVjb2RlZFwiLHZvaWQgMCksbnUodGhpcyxcIm9uRmlyc3RWaWRlb0RlY29kZWRcIix2b2lkIDApLG51KHRoaXMsXCJvbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFwiLHZvaWQgMCksbnUodGhpcyxcIm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWRcIix2b2lkIDApLG51KHRoaXMsXCJvblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCl9fWNsYXNzIFBJIGV4dGVuZHMgREl7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpfX0hZnVuY3Rpb24oZSl7ZS5TRU5EPVwic2VuZG9ubHlcIixlLlJFQ1Y9XCJyZWN2b25seVwiLGUuU0VORFJFQ1Y9XCJzZW5kcmVjdlwiLGUuSU5BQ1RJVkU9XCJpbmFjdGl2ZVwifShsSXx8KGxJPXt9KSksZnVuY3Rpb24oZSl7ZS5WSURFTz1cInZpZGVvXCIsZS5BVURJTz1cImF1ZGlvXCJ9KGhJfHwoaEk9e30pKSxmdW5jdGlvbihlKXtlW2UuVURQPTBdPVwiVURQXCIsZVtlLlRDUD0xXT1cIlRDUFwiLGVbZS5SRUxBWT0yXT1cIlJFTEFZXCJ9KHVJfHwodUk9e30pKSxmdW5jdGlvbihlKXtlW2UuRklSU1RfQ09OTkVDVElPTj0wXT1cIkZJUlNUX0NPTk5FQ1RJT05cIixlW2UuVENQX1JFU1RBUlQ9MV09XCJUQ1BfUkVTVEFSVFwiLGVbZS5SRUxBWV9SRVNUQVJUPTJdPVwiUkVMQVlfUkVTVEFSVFwiLGVbZS5PTERfRklSU1RfQ09OTkVDVElPTj0xMF09XCJPTERfRklSU1RfQ09OTkVDVElPTlwiLGVbZS5PTERfUkVTVEFSVD0xMV09XCJPTERfUkVTVEFSVFwiLGVbZS5ESVNDT05ORUNURURfT1JfRkFJTEVEPTIwXT1cIkRJU0NPTk5FQ1RFRF9PUl9GQUlMRURcIn0ocEl8fChwST17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jYWxWaWRlb1RyYWNrPVwidmlkZW9UcmFja1wiLGUuTG9jYWxBdWRpb1RyYWNrPVwiYXVkaW9UcmFja1wiLGUuTG9jYWxWaWRlb0xvd1RyYWNrPVwidmlkZW9Mb3dUcmFja1wifShfSXx8KF9JPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXc9XCJuZXdcIixlLkNvbm5lY3RlZD1cImNvbm5lY3RlZFwiLGUuUmVjb25uZWN0aW5nPVwicmVjb25uZWN0aW5nXCIsZS5EaXNjb25uZWN0ZWQ9XCJkaXNjb25uZWN0ZWRcIn0oRUl8fChFST17fSkpLGZ1bmN0aW9uKGUpe2UuU3RhdGVDaGFuZ2U9XCJzdGF0ZUNoYW5nZVwiLGUuSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlPVwiaWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsZS5SZXF1ZXN0TXV0ZUxvY2FsPVwicmVxdWVzdE11dGVMb2NhbFwiLGUuUmVxdWVzdFVubXV0ZUxvY2FsPVwicmVxdWVzdFVubXV0ZUxvY2FsXCIsZS5SZXF1ZXN0UmVQdWJsaXNoPVwicmVxdWVzdFJlUHVibGlzaFwiLGUuUmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsPVwicmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsXCIsZS5SZXF1ZXN0UmVTdWJzY3JpYmU9XCJyZXF1ZXN0UmVTdWJzY3JpYmVcIixlLlJlcXVlc3RVcGxvYWRTdGF0cz1cInJlcXVlc3RVcGxvYWRTdGF0c1wiLGUuTWVkaWFSZWNvbm5lY3RTdGFydD1cIk1lZGlhUmVjb25uZWN0U3RhcnRcIixlLk1lZGlhUmVjb25uZWN0RW5kPVwiTWVkaWFSZWNvbm5lY3RFbmRcIixlLk5lZWRTaWduYWxSVFQ9XCJOZWVkU2lnbmFsUlRUXCIsZS5SZXF1ZXN0UmVzdGFydElDRT1cIlJlcXVlc3RSZXN0YXJ0SWNlXCIsZS5QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlPVwiUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLGUuUmVxdWVzdFJlY29ubmVjdD1cIlJlcXVlc3RSZWNvbm5lY3RcIixlLlJlcXVlc3RSZWNvbm5lY3RQQz1cIlJlcXVlc3RSZWNvbm5lY3RQQ1wiLGUuUmVxdWVzdFVucHVibGlzaEZvclJlY29ubmVjdFBDPVwiUmVxdWVzdFVucHVibGlzaEZvclJlY29ubmVjdFBDXCIsZS5QMlBMb3N0PVwiUDJQTG9zdFwiLGUuVXBkYXRlVmlkZW9FbmNvZGVyPVwiVXBkYXRlVmlkZW9FbmNvZGVyXCIsZS5Db25uZWN0aW9uVHlwZUNoYW5nZT1cIkNvbm5lY3Rpb25UeXBlQ2hhbmdlXCIsZS5SZXF1ZXN0TG93U3RyZWFtUGFyYW1ldGVyPVwiUmVxdWVzdExvd1N0cmVhbVBhcmFtZXRlclwiLGUuUXVlcnlDbGllbnRDb25uZWN0aW9uU3RhdGU9XCJRdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZVwiLGUuTG9jYWxDYW5kaWRhdGU9XCJMb2NhbENhbmRpZGF0ZVwiLGUuUmVxdWVzdFAyUE11dGVMb2NhbD1cInJlcXVlc3RQMlBNdXRlTG9jYWxcIixlLlJlcXVlc3RQMlBQdWJsaXNoPVwiUmVxdWVzdFAyUFB1Ymxpc2hcIixlLlJlcXVlc3RQMlBVblB1Ymxpc2g9XCJSZXF1ZXN0UDJQVW5QdWJsaXNoXCIsZS5SZXF1ZXN0UDJQVW5tdXRlUmVtb3RlPVwiUmVxdWVzdFAyUFVubXV0ZVJlbW90ZVwiLGUuUmVxdWVzdFAyUE11dGVSZW1vdGU9XCJSZXF1ZXN0UDJQTXV0ZVJlbW90ZVwiLGUuUmVxdWVzdFAyUFJlc3RhcnRJQ0U9XCJSZXF1ZXN0UDJQUmVzdGFydElDRVwifShtSXx8KG1JPXt9KSksZnVuY3Rpb24oZSl7ZS5NVVRFX0xPQ0FMX1ZJREVPPVwibXV0ZV9sb2NhbF92aWRlb1wiLGUuTVVURV9MT0NBTF9BVURJTz1cIm11dGVfbG9jYWxfYXVkaW9cIixlLlVOTVVURV9MT0NBTF9WSURFTz1cInVubXV0ZV9sb2NhbF92aWRlb1wiLGUuVU5NVVRFX0xPQ0FMX0FVRElPPVwidW5tdXRlX2xvY2FsX2F1ZGlvXCIsZS5NVVRFX1JFTU9URV9WSURFTz1cIm11dGVfcmVtb3RlX3ZpZGVvXCIsZS5NVVRFX1JFTU9URV9BVURJTz1cIm11dGVfcmVtb3RlX2F1ZGlvXCIsZS5VTk1VVEVfUkVNT1RFX1ZJREVPPVwidW5tdXRlX3JlbW90ZV92aWRlb1wiLGUuVU5NVVRFX1JFTU9URV9BVURJTz1cInVubXV0ZV9yZW1vdGVfYXVkaW9cIn0oZkl8fChmST17fSkpLGZ1bmN0aW9uKGUpe2UuQ09OTkVDVElORz1cIkNPTk5FQ1RJTkdcIixlLlJFQ09OTkVDVElORz1cIlJFQ09OTkVDVElOR1wiLGUuQ09OTkVDVEVEPVwiQ09OTkVDVEVEXCIsZS5DTE9TRUQ9XCJDTE9TRURcIn0oZ0l8fChnST17fSkpLGZ1bmN0aW9uKGUpe2VbZS5DT05ORUNUX0FQPTBdPVwiQ09OTkVDVF9BUFwiLGVbZS5BUF9DT05ORUNURUQ9MV09XCJBUF9DT05ORUNURURcIixlW2UuQ09OTkVDVF9XT1JLRVJfTUFOQUdFUj0yXT1cIkNPTk5FQ1RfV09SS0VSX01BTkFHRVJcIixlW2UuV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEPTNdPVwiV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEXCIsZVtlLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRT00XT1cIkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRVwiLGVbZS5DT05ORUNUX1dPUktFUj01XT1cIkNPTk5FQ1RfV09SS0VSXCIsZVtlLldPUktFUl9DT05ORUNURUQ9Nl09XCJXT1JLRVJfQ09OTkVDVEVEXCIsZVtlLkNMT1NFRD03XT1cIkNMT1NFRFwifShUSXx8KFRJPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsZS5TVEFURV9DSEFOR0U9XCJzdGF0ZS1jaGFuZ2VcIixlLklOU1BFQ1RfUkVTVUxUPVwiaW5zcGVjdC1yZXN1bHRcIixlLkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSz1cImNsaWVudC1sb2NhbC12aWRlby10cmFja1wiLGUuUkVRVUVTVF9ORVdfV09SS0VSX1VSTD1cInJlcXVlc3QtbmV3LXdvcmtlci11cmxcIn0oU0l8fChTST17fSkpLGZ1bmN0aW9uKGUpe2UuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIixlLlNFUlZFUl9FUlJPUj1cIlNFUlZFUl9FUlJPUlwiLGUuTVVMVElfSVA9XCJNVUxUSV9JUFwiLGUuVElNRU9VVD1cIlRJTUVPVVRcIixlLk9GRkxJTkU9XCJPRkZMSU5FXCIsZS5MRUFWRT1cIkxFQVZFXCIsZS5QMlBfRkFJTEVEPVwiUDJQX0ZBSUxFRFwiLGUuRkFMTEJBQ0s9XCJGQUxMQkFDS1wifShSSXx8KFJJPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNURUQ9XCJ0cmFuc21pdHRlcjpjb25uZWN0ZWRcIixlLlJFQ09OTkVDVElORz1cInRyYW5zbWl0dGVyOnJlY29ubmVjdGluZ1wiLGUuV0lMTF9SRUNPTk5FQ1Q9XCJ0cmFuc21pdHRlcjp3aWxsX3JlY29ubmVjdFwiLGUuQ0xPU0VEPVwidHJhbnNtaXR0ZXI6Y2xvc2VkXCIsZS5GQUlMRUQ9XCJ0cmFuc21pdHRlcjpmYWlsZWRcIixlLk9OX01FU1NBR0U9XCJ0cmFuc21pdHRlcjpvbl9tZXNzYWdlXCIsZS5SRVFVRVNUX05FV19VUkxTPVwidHJhbnNtaXR0ZXI6cmVxdWVzdF9uZXdfdXJsc1wiLGUuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSD1cInRyYW5zbWl0dGVyOnJlY29ubmVjdF93YWl0dGluZ19maW5pc2hcIixlLlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTj1cInRyYW5zbWl0dGVyOnJlY29ubmVjdF9jcmVhdGVfY29ubmVjdGlvblwiLGUuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkU9XCJ0cmFuc21pdHRlcjpvbl90b2tlbl9wcml2aWxlZ2VfZGlkX2V4cGlyZVwiLGUuVE9fQ09OTkVDVF9EQVRBQ0hBTk5FTD1cInRyYW5zbWl0dGVyOnRvX2Nvbm5lY3RfZGF0YWNoYW5uZWxcIixlLkZBSUxCQUNLPVwidHJhbnNtaXR0ZXI6ZmFpbGJhY2tcIn0oQ0l8fChDST17fSkpLGZ1bmN0aW9uKGUpe2UuQ0FNRVJBX0NIQU5HRUQ9XCJjYW1lcmEtY2hhbmdlZFwiLGUuTUlDUk9QSE9ORV9DSEFOR0VEPVwibWljcm9waG9uZS1jaGFuZ2VkXCIsZS5QTEFZQkFDS19ERVZJQ0VfQ0hBTkdFRD1cInBsYXliYWNrLWRldmljZS1jaGFuZ2VkXCIsZS5BVURJT19BVVRPUExBWV9GQUlMRUQ9XCJhdWRpby1hdXRvcGxheS1mYWlsZWRcIixlLkFVVE9QTEFZX0ZBSUxFRD1cImF1dG9wbGF5LWZhaWxlZFwiLGUuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTj1cInNlY3VyaXR5LXBvbGljeS12aW9sYXRpb25cIn0odkl8fCh2ST17fSkpLGZ1bmN0aW9uKGUpe2VbZS5BUFBfVFlQRV9JTlZBTElEX1ZBTFVFPS0xXT1cIkFQUF9UWVBFX0lOVkFMSURfVkFMVUVcIixlW2UuQVBQX1RZUEVfTkFUSVZFPTBdPVwiQVBQX1RZUEVfTkFUSVZFXCIsZVtlLkFQUF9UWVBFX05BVElWRV9DT0NPUz0xXT1cIkFQUF9UWVBFX05BVElWRV9DT0NPU1wiLGVbZS5BUFBfVFlQRV9OQVRJVkVfVU5JVFk9Ml09XCJBUFBfVFlQRV9OQVRJVkVfVU5JVFlcIixlW2UuQVBQX1RZUEVfTkFUSVZFX0VMRUNUUk9OPTNdPVwiQVBQX1RZUEVfTkFUSVZFX0VMRUNUUk9OXCIsZVtlLkFQUF9UWVBFX05BVElWRV9GTFVUVEVSPTRdPVwiQVBQX1RZUEVfTkFUSVZFX0ZMVVRURVJcIixlW2UuQVBQX1RZUEVfTkFUSVZFX1VOUkVBTD01XT1cIkFQUF9UWVBFX05BVElWRV9VTlJFQUxcIixlW2UuQVBQX1RZUEVfTkFUSVZFX1hBTUFSSU49Nl09XCJBUFBfVFlQRV9OQVRJVkVfWEFNQVJJTlwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfQVBJX0NMT1VEPTddPVwiQVBQX1RZUEVfTkFUSVZFX0FQSV9DTE9VRFwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfUkVBQ1RfTkFUSVZFPThdPVwiQVBQX1RZUEVfTkFUSVZFX1JFQUNUX05BVElWRVwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfUFlUSE9OPTldPVwiQVBQX1RZUEVfTkFUSVZFX1BZVEhPTlwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfQ09DT1NfQ1JFQVRPUj0xMF09XCJBUFBfVFlQRV9OQVRJVkVfQ09DT1NfQ1JFQVRPUlwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfUlVTVD0xMV09XCJBUFBfVFlQRV9OQVRJVkVfUlVTVFwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfQ19TSEFSUD0xMl09XCJBUFBfVFlQRV9OQVRJVkVfQ19TSEFSUFwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfQ0VGPTEzXT1cIkFQUF9UWVBFX05BVElWRV9DRUZcIixlW2UuQVBQX1RZUEVfTkFUSVZFX1VOSV9BUFA9MTRdPVwiQVBQX1RZUEVfTkFUSVZFX1VOSV9BUFBcIixlW2UuQVBQX1RZUEVfV0VCUlRDPTFlM109XCJBUFBfVFlQRV9XRUJSVENcIixlW2UuQVBQX1RZUEVfV0VCUlRDX1JFQUNUPTEwMDFdPVwiQVBQX1RZUEVfV0VCUlRDX1JFQUNUXCIsZVtlLkFQUF9UWVBFX1dFQlJUQ19WVUU9MTAwMl09XCJBUFBfVFlQRV9XRUJSVENfVlVFXCIsZVtlLkFQUF9UWVBFX1dFQlJUQ19BTkdVTEFSPTEwMDNdPVwiQVBQX1RZUEVfV0VCUlRDX0FOR1VMQVJcIn0oSUl8fChJST17fSkpLGZ1bmN0aW9uKGUpe2UuQ09OTkVDVElORz1cIkNPTk5FQ1RJTkdcIixlLlJFQ09OTkVDVElORz1cIlJFQ09OTkVDVElOR1wiLGUuQ09OTkVDVEVEPVwiQ09OTkVDVEVEXCIsZS5DTE9TRUQ9XCJDTE9TRURcIn0oeUl8fCh5ST17fSkpLGZ1bmN0aW9uKGUpe2UuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLGUuU1RBVEVfQ0hBTkdFPVwic3RhdGUtY2hhbmdlXCIsZS5JTlNQRUNUX1JFU1VMVD1cImluc3BlY3QtcmVzdWx0XCIsZS5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0s9XCJjbGllbnQtbG9jYWwtdmlkZW8tdHJhY2tcIixlLlJFUVVFU1RfTkVXX1dPUktFUl9VUkw9XCJyZXF1ZXN0LW5ldy13b3JrZXItdXJsXCJ9KEFJfHwoQUk9e30pKSxmdW5jdGlvbihlKXtlW2UuQ09OTkVDVF9BUD0wXT1cIkNPTk5FQ1RfQVBcIixlW2UuQVBfQ09OTkVDVEVEPTFdPVwiQVBfQ09OTkVDVEVEXCIsZVtlLkNPTk5FQ1RfV09SS0VSX01BTkFHRVI9Ml09XCJDT05ORUNUX1dPUktFUl9NQU5BR0VSXCIsZVtlLldPUktFUl9NQU5BR0VSX0NPTk5FQ1RFRD0zXT1cIldPUktFUl9NQU5BR0VSX0NPTk5FQ1RFRFwiLGVbZS5HRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0U9NF09XCJHRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0VcIixlW2UuQ09OTkVDVF9XT1JLRVI9NV09XCJDT05ORUNUX1dPUktFUlwiLGVbZS5XT1JLRVJfQ09OTkVDVEVEPTZdPVwiV09SS0VSX0NPTk5FQ1RFRFwiLGVbZS5DTE9TRUQ9N109XCJDTE9TRURcIn0oYkl8fChiST17fSkpLGZ1bmN0aW9uKGUpe2UuQ0FMTD1cImNhbGxcIixlLkNBTkRJREFURT1cImNhbmRpZGF0ZVwiLGUuUFVCTElTSD1cInB1Ymxpc2hcIixlLlVOUFVCTElTSD1cInVucHVibGlzaFwiLGUuU1VCU0NSSUJFPVwic3Vic2NyaWJlXCIsZS5VTlNVQlNDUklCRT1cInVuc3Vic2NyaWJlXCIsZS5DT05UUk9MPVwiY29udHJvbFwiLGUuUkVTVEFSVF9JQ0U9XCJyZXN0YXJ0X2ljZVwiLGUuQUNLPVwiYWNrXCIsZS5KT0lOPVwiam9pblwiLGUuRVhDSEFOR0VfU0RQPVwiZXhjaGFuZ2Vfc2RwXCIsZS5ET19TVUJTQ1JJQkU9XCJkb19zdWJzY3JpYmVcIixlLkRPX1VOU1VCU0NSSUJFPVwiZG9fdW5zdWJzY3JpYmVcIn0od0l8fCh3ST17fSkpLGZ1bmN0aW9uKGUpe2UuTVVURV9MT0NBTF9BVURJTz1cIm11dGVfbG9jYWxfYXVkaW9cIixlLk1VVEVfTE9DQUxfVklERU89XCJtdXRlX2xvY2FsX3ZpZGVvXCIsZS5VTk1VVEVfTE9DQUxfQVVESU89XCJ1bm11dGVfbG9jYWxfYXVkaW9cIixlLlVOTVVURV9MT0NBTF9WSURFTz1cInVubXV0ZV9sb2NhbF92aWRlb1wifShPSXx8KE9JPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlNVQ0NFU1M9MV09XCJTVUNDRVNTXCIsZVtlLkZBSUxFRD0wXT1cIkZBSUxFRFwifShOSXx8KE5JPXt9KSk7Y29uc3QgTEk9e1t1di5BQ0NFU1NfUE9JTlRdOntbRXYuTk9fRkxBR19TRVRdOntkZXNjOlwiZmxhZyBpcyB6ZXJvXCIscmV0cnk6ITF9LFtFdi5GTEFHX1NFVF9CVVRfRU1QVFldOntkZXNjOlwiZmxhZyBpcyBlbXB0eVwiLHJldHJ5OiExfSxbRXYuSU5WQUxJRF9GQUxHX1NFVF06e2Rlc2M6XCJpbnZhbGlkIGZsYWdcIixyZXRyeTohMX0sW0V2LkZMQUdfU0VUX0JVVF9OT19SRV06e2Rlc2M6XCJmbGFnIHNldCB1bmlsYnMgYnV0IG5vIHJlcXVlc3RcIixyZXRyeTohMX0sW0V2LklOVkFMSURfU0VSVklDRV9JRF06e2Rlc2M6XCJpbnZhbGlkIHNlcnZpY2UgaWRcIixyZXRyeTohMX0sW0V2Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFXTp7ZGVzYzpcIm5vIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtFdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9QMlBdOntkZXNjOlwibm8gdW5pbGJzIHAycCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbRXYuTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9JQ0VdOntkZXNjOlwibm8gdW5pbGJzIHZvaWNlIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtFdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENdOntkZXNjOlwibm8gdW5pbGJzIHdlYnJ0YyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbRXYuTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0RTXTp7ZGVzYzpcIm5vIGNkcyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbRXYuTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0ROXTp7ZGVzYzpcIm5vIGNkbiBkaXNwYXRjaGVyIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtFdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9URFNdOntkZXNjOlwibm8gdGRzIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtFdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9SRVBPUlRdOntkZXNjOlwibm8gdW5pbGJzIHJlcG9ydCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbRXYuTk9fU0VSVklDRV9BVkFJTEFCTEVfQVBQX0NFTlRFUl06e2Rlc2M6XCJubyBhcHAgY2VudGVyIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtFdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9FTlYwXTp7ZGVzYzpcIm5vIHVuaWxicyBzaWcgZW52MCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbRXYuTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9FVF06e2Rlc2M6XCJubyB1bmlsYnMgdm9ldCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbRXYuTk9fU0VSVklDRV9BVkFJTEFCTEVfU1RSSU5HX1VJRF06e2Rlc2M6XCJubyBzdHJpbmcgdWlkIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtFdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENfVU5JTEJTXTp7ZGVzYzpcIm5vIHdlYnJ0YyB1bmlsYnMgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH19LFt1di5VTklMQlNdOntbX3YuSU5WQUxJRF9WRU5ET1JfS0VZXTp7ZGVzYzpcImludmFsaWQgdmVuZG9yIGtleSwgY2FuIG5vdCBmaW5kIGFwcGlkXCIscmV0cnk6ITF9LFtfdi5JTlZBTElEX0NIQU5ORUxfTkFNRV06e2Rlc2M6XCJpbnZhbGlkIGNoYW5uZWwgbmFtZVwiLHJldHJ5OiExfSxbX3YuSU5URVJOQUxfRVJST1JdOntkZXNjOlwidW5pbGJzIGludGVybmFsIGVycm9yXCIscmV0cnk6ITF9LFtfdi5OT19BVVRIT1JJWkVEXTp7ZGVzYzpcImludmFsaWQgdG9rZW4sIGF1dGhvcml6ZWQgZmFpbGVkXCIscmV0cnk6ITF9LFtfdi5EWU5BTUlDX0tFWV9USU1FT1VUXTp7ZGVzYzpcImR5bmFtaWMga2V5IG9yIHRva2VuIHRpbWVvdXRcIixyZXRyeTohMX0sW192Lk5PX0FDVElWRV9TVEFUVVNdOntkZXNjOlwibm8gYWN0aXZlIHN0YXR1c1wiLHJldHJ5OiExfSxbX3YuRFlOQU1JQ19LRVlfRVhQSVJFRF06e2Rlc2M6XCJkeW5hbWljIGtleSBleHBpcmVkXCIscmV0cnk6ITF9LFtfdi5TVEFUSUNfVVNFX0RZTkFNSUNfS0VZXTp7ZGVzYzpcInN0YXRpYyB1c2UgZHluYW1pYyBrZXlcIixyZXRyeTohMX0sW192LkRZTkFNSUNfVVNFX1NUQVRJQ19LRVldOntkZXNjOlwiZHluYW1pYyB1c2Ugc3RhdGljIGtleVwiLHJldHJ5OiExfSxbX3YuVVNFUl9PVkVSTE9BRF06e2Rlc2M6XCJhbW91bnQgb2YgdXNlcnMgb3ZlciBsb2FkXCIscmV0cnk6ITF9LFtfdi5GT1JCSURERU5fUkVHSU9OXTp7ZGVzYzpcInRoZSByZXF1ZXN0IGlzIGZvcmJpZGRlbiBpbiB0aGlzIGFyZWFcIixyZXRyeTohMX0sW192LkNBTk5PVF9NRUVUX0FSRUFfREVNQU5EXTp7ZGVzYzpcInVuYWJsZSB0byBhbGxvY2F0ZSBzZXJ2aWNlcyBpbiB0aGlzIGFyZWFcIixyZXRyeTohMX19LFt1di5TVFJJTkdfVUlEX0FMTE9DQVRPUl06e1twdi5JSUlFR0FMX0FQUElEXTp7ZGVzYzpcImludmFsaWQgYXBwaWRcIixyZXRyeTohMX0sW3B2LklJSUVHQUxfVUlEXTp7ZGVzYzpcImludmFsaWQgc3RyaW5nIHVpZFwiLHJldHJ5OiExfSxbcHYuSU5URVJOQUxfRVJST1JdOntkZXNjOlwic3RyaW5nIHVpZCBhbGxvY2F0b3IgaW50ZXJuYWwgZXJyb3JcIixyZXRyeTohMH19fTtmdW5jdGlvbiBrSShlKXtjb25zdCB0PUxJW01hdGguZmxvb3IoZS8xZTQpXTtpZighdClyZXR1cm57ZGVzYzpcInVua29udyBlcnJvclwiLHJldHJ5OiExfTtjb25zdCBpPXRbZSUxZTRdO2lmKCFpKXtpZihNYXRoLmZsb29yKGUvMWU0KT09PXV2LkFDQ0VTU19QT0lOVCl7Y29uc3QgdD1lJTFlNDtpZihcIjFcIj09PXQudG9TdHJpbmcoKVswXSlyZXR1cm57ZGVzYzplLnRvU3RyaW5nKCkscmV0cnk6ITF9O2lmKFwiMlwiPT09dC50b1N0cmluZygpWzBdKXJldHVybntkZXNjOmUudG9TdHJpbmcoKSxyZXRyeTohMH19cmV0dXJue2Rlc2M6XCJ1bmtvbncgZXJyb3JcIixyZXRyeTohMX19cmV0dXJuIGl9Y29uc3QgTUk9e1ttdi5LX1RJTUVTVEFNUF9FWFBJUkVEXTp7ZGVzYzpcIktfVElNRVNUQU1QX0VYUElSRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LktfQ0hBTk5FTF9QRVJNSVNTSU9OX0lOVkFMSURdOntkZXNjOlwiS19DSEFOTkVMX1BFUk1JU1NJT05fSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuS19DRVJUSUZJQ0FURV9JTlZBTElEXTp7ZGVzYzpcIktfQ0VSVElGSUNBVEVfSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuS19DSEFOTkVMX05BTUVfRU1QVFldOntkZXNjOlwiS19DSEFOTkVMX05BTUVfRU1QVFlcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LktfQ0hBTk5FTF9OT1RfRk9VTkRdOntkZXNjOlwiS19DSEFOTkVMX05PVF9GT1VORFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuS19USUNLRVRfSU5WQUxJRF06e2Rlc2M6XCJLX1RJQ0tFVF9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFttdi5LX0NIQU5ORUxfQ09ORkxJQ1RFRF06e2Rlc2M6XCJLX0NIQU5ORUxfQ09ORkxJQ1RFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuS19TRVJWSUNFX05PVF9SRUFEWV06e2Rlc2M6XCJLX1NFUlZJQ0VfTk9UX1JFQURZXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbbXYuS19TRVJWSUNFX1RPT19IRUFWWV06e2Rlc2M6XCJLX1NFUlZJQ0VfVE9PX0hFQVZZXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbbXYuS19VSURfQkFOTkVEXTp7ZGVzYzpcIktfVUlEX0JBTk5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuS19JUF9CQU5ORURdOntkZXNjOlwiS19JUF9CQU5ORURcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LktfQVVUT19SRUJBTEFOQ0VdOntkZXNjOlwia19BVVRPX1JFQkFMQU5DRVwiLGFjdGlvbjpcInJlY292ZXJcIn0sW212LkVSUl9JTlZBTElEX1ZFTkRPUl9LRVldOntkZXNjOlwiRVJSX0lOVkFMSURfVkVORE9SX0tFWVwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXTp7ZGVzYzpcIkVSUl9JTlZBTElEX0NIQU5ORUxfTkFNRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTF06e2Rlc2M6XCJXQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFttdi5XQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVRdOntkZXNjOlwiV0FSTl9MT09LVVBfQ0hBTk5FTF9USU1FT1VUXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbbXYuV0FSTl9MT09LVVBfQ0hBTk5FTF9SRUpFQ1RFRF06e2Rlc2M6XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFttdi5XQVJOX09QRU5fQ0hBTk5FTF9USU1FT1VUXTp7ZGVzYzpcIldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVRcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFttdi5XQVJOX09QRU5fQ0hBTk5FTF9SRUpFQ1RFRF06e2Rlc2M6XCJXQVJOX09QRU5fQ0hBTk5FTF9SRUpFQ1RFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuV0FSTl9SRVFVRVNUX0RFRkVSUkVEXTp7ZGVzYzpcIldBUk5fUkVRVUVTVF9ERUZFUlJFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVRdOntkZXNjOlwiRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVRcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LkVSUl9OT19BVVRIT1JJWkVEXTp7ZGVzYzpcIkVSUl9OT19BVVRIT1JJWkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFttdi5FUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEVdOntkZXNjOlwiRVJSX1ZPTV9TRVJWSUNFX1VOQVZBSUxBQkxFXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbbXYuRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVdOntkZXNjOlwiRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRV06e2Rlc2M6XCJFUlJfTUFTVEVSX1ZPQ1NfVU5BVkFJTEFCTEVcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFttdi5FUlJfSU5URVJOQUxfRVJST1JdOntkZXNjOlwiRVJSX0lOVEVSTkFMX0VSUk9SXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbbXYuRVJSX05PX0FDVElWRV9TVEFUVVNdOntkZXNjOlwiRVJSX05PX0FDVElWRV9TVEFUVVNcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LkVSUl9JTlZBTElEX1VJRF06e2Rlc2M6XCJFUlJfSU5WQUxJRF9VSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LkVSUl9EWU5BTUlDX0tFWV9FWFBJUkVEXTp7ZGVzYzpcIkVSUl9EWU5BTUlDX0tFWV9FWFBJUkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFttdi5FUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFXTp7ZGVzYzpcIkVSUl9TVEFUSUNfVVNFX0RZQU5NSUNfS0VcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0VdOntkZXNjOlwiRVJSX0RZTkFNSUNfVVNFX1NUQVRJQ19LRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuRVJSX05PX1ZPQ1NfQVZBSUxBQkxFXTp7ZGVzYzpcIkVSUl9OT19WT0NTX0FWQUlMQUJMRVwiLGFjdGlvbjpcInRyeU5leHRcIn0sW212LkVSUl9OT19WT1NfQVZBSUxBQkxFXTp7ZGVzYzpcIkVSUl9OT19WT1NfQVZBSUxBQkxFXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbbXYuRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXTp7ZGVzYzpcIkVSUl9KT0lOX0NIQU5ORUxfVElNRU9VVFwiLGFjdGlvbjpcInRyeU5leHRcIn0sW212LkVSUl9KT0lOX0JZX01VTFRJX0lQXTp7ZGVzYzpcIkVSUl9KT0lOX0JZX01VTFRJX0lQXCIsYWN0aW9uOlwicmVjb3ZlclwifSxbbXYuRVJSX05PVF9KT0lORURdOntkZXNjOlwiRVJSX05PVF9KT0lORURcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LkVSUl9SRVBFQVRfSk9JTl9SRVFVRVNUXTp7ZGVzYzpcIkVSUl9SRVBFQVRfSk9JTl9SRVFVRVNUXCIsYWN0aW9uOlwicXVpdFwifSxbbXYuRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxdOntkZXNjOlwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIixhY3Rpb246XCJxdWl0XCJ9LFttdi5FUlJfSU5WQUxJRF9TVFJJTkdVSURdOntkZXNjOlwiRVJSX0lOVkFMSURfU1RSSU5HVUlEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFttdi5FUlJfVE9PX01BTllfVVNFUlNdOntkZXNjOlwiRVJSX1RPT19NQU5ZX1VTRVJTXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbbXYuRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXTp7ZGVzYzpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfVElNRU9VVFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuRVJSX1NFVF9DTElFTlRfUk9MRV9OT19QRVJNSVNTSU9OXTp7ZGVzYzpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfVElNRU9VVFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuRVJSX1NFVF9DTElFTlRfUk9MRV9BTFJFQURZX0lOX1VTRV06e2Rlc2M6XCJFUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXCIsYWN0aW9uOlwic3VjY2Vzc1wifSxbbXYuRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEXTp7ZGVzYzpcIkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSURdOntkZXNjOlwiRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LkVSUl9OT1RfU1VQUE9SVEVEX01FU1NBR0VdOntkZXNjOlwiRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuRVJSX0lMTEVBR0FMX1BMVUdJTl06e2Rlc2M6XCJFUlJfSUxMRUFHQUxfUExVR0lOXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFttdi5JTExFR0FMX0NMSUVOVF9ST0xFX0xFVkVMXTp7ZGVzYzpcIklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUxcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRF06e2Rlc2M6XCJFUlJfUkVKT0lOX1RPS0VOX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW212LkVSUl9SRUpPSU5fVVNFUl9OT1RfSk9JTkVEXTp7ZGVzYzpcIkVSUl9SRUpPSU5fTk9UX0pPSU5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuRVJSX0lOVkFMSURfT1BUSU9OQUxfSU5GT106e2Rlc2M6XCJFUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPXCIsYWN0aW9uOlwicXVpdFwifSxbbXYuRVJSX1RFU1RfUkVDT1ZFUl06e2Rlc2M6XCJFUlJfVEVTVF9SRUNPVkVSXCIsYWN0aW9uOlwicmVjb3ZlclwifSxbbXYuRVJSX1RFU1RfVFJZTkVYVF06e2Rlc2M6XCJFUlJfVEVTVF9UUllORVhUXCIsYWN0aW9uOlwicmVjb3ZlclwifSxbbXYuRVJSX1RFU1RfUkVUUlldOntkZXNjOlwiRVJSX1RFU1RfUkVUUllcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFttdi5JTExFR0FMX0FFU19QQVNTV09SRF06e2Rlc2M6XCJFUlJfVEVTVF9SRVRSWVwiLGFjdGlvbjpcImZhaWxlZFwifSxbbXYuRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSU106e2Rlc2M6XCJFUlJfVE9PX01BTllfQlJPQURDQVNURVJTXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFttdi5FUlJfVE9PX01BTllfU1VCU0NSSUJFUlNdOntkZXNjOlwiRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFttdi5FUlJfTElDRU5TRV9JTExFR0FMXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX0lMTEVHQUxcIixhY3Rpb246XCJxdWl0XCJ9LFttdi5FUlJfTElDRU5TRV9NSVNTSU5HXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX01JU1NJTkdcIixhY3Rpb246XCJxdWl0XCJ9LFttdi5FUlJfTElDRU5TRV9FWFBJUkVEXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX0VYUElSRURcIixhY3Rpb246XCJxdWl0XCJ9LFttdi5FUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERURcIixhY3Rpb246XCJxdWl0XCJ9LFttdi5FUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRF06e2Rlc2M6XCJFUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRFwiLGFjdGlvbjpcInF1aXRcIn0sW212LkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXCIsYWN0aW9uOlwicXVpdFwifX07ZnVuY3Rpb24gVUkoZSl7Y29uc3QgdD1NSVtlXTtyZXR1cm4gdHx8e2Rlc2M6XCJVTktOT1dfRVJST1JfXCIuY29uY2F0KGUpLGFjdGlvbjpcImZhaWxlZFwifX1mdW5jdGlvbiB4SShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gVkkoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eEkoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6eEkoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gRkkoZSl7cmV0dXJuIGUuZXZlcnkoKGU9PmUucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TRUR8fGUucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TSU5HKSl9ZnVuY3Rpb24gQkkoZSx0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZTtjb25zdHtwcm94eTppLGhvc3Q6bixwb3J0OnJ9PWU7aWYodCl7Y29uc3QgZT1rQyhcIkpPSU5fR0FURVdBWV9GQUxMQkFDS19QT1JUXCIpfHw0NDM7cmV0dXJuIDQ0Mz09PWU/XCJ3c3M6Ly9cIi5jb25jYXQobixcIi93cy8/cD1cIikuY29uY2F0KE51bWJlcihyKSsxNTApOlwid3NzOi8vXCIuY29uY2F0KG4sXCI6XCIpLmNvbmNhdChlLFwiL3dzLz9wPVwiKS5jb25jYXQoTnVtYmVyKHIpKzE1MCl9cmV0dXJuIGk/XCJ3c3M6Ly9cIi5jb25jYXQoaSxcIi93cy8/aD1cIikuY29uY2F0KG4sXCImcD1cIikuY29uY2F0KHIpOlwid3NzOi8vXCIuY29uY2F0KG4sXCI6XCIpLmNvbmNhdChyKX1jb25zdCBqST0vd3NzOlxcL1xcLyguKylcXC93c1xcL1xcP2g9KC4rKSZwPShbMC05XSspXFwvPy8sR0k9L3dzczpcXC9cXC8oLispXFwvd3NcXC9cXD9wPShbMC05XSspXFwvPy8sV0k9L3dzczpcXC9cXC8oLispOihbMC05XSspXFwvPy8sSEk9L3dzczpcXC9cXC8oLlteXFwvXSspXFwvPy87bGV0IEtJPTA7Y2xhc3MgWUl7Y29uc3RydWN0b3IoZSx0KXtudSh0aGlzLFwiaWRcIiwwKSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJyZWNvcmRJbmRleFwiLHZvaWQgMCksbnUodGhpcyxcIndlYnNvY2tldHNcIixbXSksbnUodGhpcyxcInRyeTQ0M1BvcnREdXJhdGlvblwiLDJlMyksbnUodGhpcyxcImZvcmNlQ2xvc2VXU0R1cmF0aW9uXCIsNWUzKSxudSh0aGlzLFwidHJ5NDQzUG9ydFRpbWVvdXRcIixudWxsKSxudSh0aGlzLFwiZm9yY2VDbG9zZVRpbWVvdXRcIixudWxsKSxudSh0aGlzLFwiaXNUcnk0NDNQb3J0RmFpbGVkXCIsITEpLG51KHRoaXMsXCJpc05vcm1hbFBvcnRGYWlsZWRcIiwhMSksbnUodGhpcyxcInVzZURvdWJsZURvbWFpblwiLCExKSxudSh0aGlzLFwidXNlUHJveHlcIiwhMSksbnUodGhpcyxcInN0YXJ0VGltZVwiLERhdGUubm93KCkpLHRoaXMuaWQ9KytLSSx0aGlzLnRyeTQ0M1BvcnREdXJhdGlvbj1rQyhcIkpPSU5fR0FURVdBWV9UUllfNDQzUE9SVF9EVVJBVElPTlwiKXx8MmUzLHRoaXMuZm9yY2VDbG9zZVdTRHVyYXRpb249ZXx8NWUzLHRoaXMuc3RvcmU9dH1jbG9zZUFsbFdlYnNvY2tldHMoKXt0aGlzLndlYnNvY2tldHMuZm9yRWFjaCgoZT0+e2Uub25vcGVuPW51bGwsZS5vbmNsb3NlPW51bGwsZS5vbm1lc3NhZ2U9bnVsbCxlLmNsb3NlKCl9KSksdGhpcy53ZWJzb2NrZXRzLmxlbmd0aD0wfWNsZWFyVGltZW91dCgpe3RoaXMuZm9yY2VDbG9zZVRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0KSx0aGlzLnRyeTQ0M1BvcnRUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy50cnk0NDNQb3J0VGltZW91dCl9bG9nZ2VyKCl7dmFyIGU7Y29uc3QgdD1EYXRlLm5vdygpLXRoaXMuc3RhcnRUaW1lO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGkpLHI9MDtyPGk7cisrKW5bcl09YXJndW1lbnRzW3JdO0tDLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzIFwiLmNvbmNhdChudWxsPT09KGU9dGhpcy5zdG9yZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2xpZW50SWQsXCIgXCIpLmNvbmNhdCh0aGlzLmlkLFwiXSBcIikuY29uY2F0KHQsXCJtczpcIiksLi4ubil9Y3JlYXRlV2ViU29ja2V0KGUsdCxpKXt0aGlzLmxvZ2dlcihcImNyZWF0ZVdlYlNvY2tldDpcIixlLHtpc1RyeTQ0M1BvcnQ6dCxoYXNUaW1lb3V0RGV0ZWN0aW9uOml9KTtjb25zdCBuPWtDKFwiR0FURVdBWV9ET01BSU5TXCIpLHI9RGF0ZS5ub3coKSxzPVtdLG89bi5maW5kKCh0PT57dmFyIGk7cmV0dXJuIFByKGk9ZS5ob3N0KS5jYWxsKGksdCl9KSk7b3x8KHRoaXMudXNlRG91YmxlRG9tYWluPSExKTtjb25zdCBhPVtdO2lmKHRoaXMudXNlRG91YmxlRG9tYWluKW4uZm9yRWFjaCgoaT0+e2EucHVzaChCSShWSShWSSh7fSxlKSx7fSx7aG9zdDplLmhvc3QucmVwbGFjZShvLGkpfSksdCkpfSkpO2Vsc2V7Y29uc3QgaT1WSSh7fSxlKTtpZih0JiZvKXtjb25zdCBlPW4uZmluZCgoZT0+ZSE9PW8pKTtlJiYoaS5ob3N0PWkuaG9zdC5yZXBsYWNlKG8sZSkpfWEucHVzaChCSShpLHQpKX10cnl7YS5mb3JFYWNoKChlPT57Y29uc3QgdD1uZXcgV2ViU29ja2V0KGUpO3QuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIscy5wdXNoKHQpLHRoaXMubG9nZ2VyKFwid3MgaXMgY29ubmVjdGluZzpcIix0LnVybCl9KSl9Y2F0Y2gobil7aWYodGhpcy5sb2dnZXIoXCJ3cyBjcmVhdGUgZmFpbGVkXCIpLHMuZm9yRWFjaCgoZT0+ZS5jbG9zZSgpKSkscy5sZW5ndGg9MCx0aGlzLnVzZURvdWJsZURvbWFpbilyZXR1cm4gdGhpcy51c2VEb3VibGVEb21haW49ITEsdGhpcy5jcmVhdGVXZWJTb2NrZXQoZSx0LGkpO2lmKCF0JiY0NDMhPT1OdW1iZXIoZS5wb3J0KSlyZXR1cm4gdGhpcy5jcmVhdGVXZWJTb2NrZXQoZSwhMCxpKTt0aHJvdyBuZXcgeHYoeGcuV1NfRVJSLFwiaW5pdCB3ZWJzb2NrZXQgZmFpbGVkISBFcnJvcjogXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfWNvbnN0IGM9bmcoKTt0aGlzLnN0b3JlJiZ0aGlzLnN0b3JlLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7dXJsczpzLm1hcCgoZT0+ZS51cmwpKSxzZXJ2aWNlOlwiZ2F0ZXdheVwifSx0aGlzLnJlY29yZEluZGV4KSxzLmZvckVhY2goKGU9PntlLm9ub3Blbj0oKT0+e3RoaXMubG9nZ2VyKFwib25vcGVuOiB3cyBcIi5jb25jYXQoZS51cmwsXCIgb3BlbiBjb3N0IFwiKS5jb25jYXQoRGF0ZS5ub3coKS1yLFwibXNcIikpLHRoaXMud2Vic29ja2V0cy5mb3JFYWNoKCh0PT57dCE9PWUmJih0Lm9ub3Blbj1udWxsLHQub25jbG9zZT1udWxsLHQub25tZXNzYWdlPW51bGwsdC5jbG9zZSgpLHRoaXMubG9nZ2VyKFwiY2xvc2UgYmFja3VwIHdlYnNvY2tldDogXCIuY29uY2F0KHQudXJsKSkpfSkpLHRoaXMud2Vic29ja2V0cy5sZW5ndGg9MCxjLnJlc29sdmUoZSl9LGUub25jbG9zZT1pPT57dGhpcy5sb2dnZXIoXCJvbmNsb3NlOiB3cyBcIi5jb25jYXQoZS51cmwsXCIgY2xvc2VkIGNvc3QgXCIpLmNvbmNhdChEYXRlLm5vdygpLXIsXCJtcyBzdGF0ZTogXCIpLmNvbmNhdChlLnJlYWR5U3RhdGUpKSx0P3RoaXMuaXNUcnk0NDNQb3J0RmFpbGVkPUZJKHMpOnRoaXMuaXNOb3JtYWxQb3J0RmFpbGVkPUZJKHMpLHRoaXMubG9nZ2VyKFwiNDQzOiBcIi5jb25jYXQodGhpcy51c2VQcm94eT9cIm5vdCB0cnlcIjp0aGlzLmlzVHJ5NDQzUG9ydEZhaWxlZD9cImZhaWxlZFwiOlwidHJ5aW5nXCIsXCIgNDd4eDogXCIpLmNvbmNhdCh0aGlzLmlzTm9ybWFsUG9ydEZhaWxlZD9cImZhaWxlZFwiOlwidHJ5aW5nXCIpKSwodCYmdGhpcy5pc1RyeTQ0M1BvcnRGYWlsZWR8fCF0JiYodGhpcy5pc1RyeTQ0M1BvcnRGYWlsZWR8fHRoaXMudXNlUHJveHkpJiZ0aGlzLmlzTm9ybWFsUG9ydEZhaWxlZCkmJih0aGlzLmxvZ2dlcihcIm9uY2xvc2U6IGFsbCB3ZWJzb2NrZXQgaXMgY2xvc2VkLCBcIi5jb25jYXQoaS5yZWFzb24pKSxjLnJlamVjdCh7Y29kZTppLmNvZGUscmVhc29uOnRJLkFfUk9VTkRfV1NfRkFJTEVEfSkpfSxlLm9ubWVzc2FnZT10PT50aGlzLmxvZ2dlcihcIlwiLmNvbmNhdChlLnVybCxcIiBvbm1lc3NhZ2U6IFwiKS5jb25jYXQodC5kYXRhKSl9KSksdGhpcy53ZWJzb2NrZXRzLnB1c2goLi4ucyk7cmV0dXJuIGl8fCgoKT0+e2NvbnN0IGk9KCk9Pnt0aGlzLmxvZ2dlcihcIjVzIHRpbWVvdXQgY2xvc2UgdW4tb3BlbnMsIGlzV2Vic29ja2V0IGNyZWF0ZWQ6IFwiLGMuaXNSZXNvbHZlZCksdGhpcy53ZWJzb2NrZXRzLmZvckVhY2goKGU9PmUucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOJiZlLmNsb3NlKCkpKX07aWYodHx8dGhpcy51c2VQcm94eSlyZXR1cm4gdGhpcy5sb2dnZXIoXCJhZGQgNXMgdGltZW91dCBhdCBcIi5jb25jYXQodD9cInRyeS00NDNcIjpcInByb3h5XCIsXCIgY29uZGl0aW9uXCIpKSx0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KGksdGhpcy5mb3JjZUNsb3NlV1NEdXJhdGlvbik7dGhpcy50cnk0NDNQb3J0VGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKCk9PntpZih0aGlzLmxvZ2dlcihcIjJzIHRpbWVvdXQsIGlzV2Vic29ja2V0IGNyZWF0ZWQ6IFwiLGMuaXNSZXNvbHZlZCksYy5pc1Jlc29sdmVkKXJldHVybiBpKCk7cGcoKS5vcz09PWFnLk1BQ19PUyYmUmcoKSYmaSgpLHRoaXMuY3JlYXRlV2ViU29ja2V0KGUsITAsITApLnRoZW4oKGU9PmMucmVzb2x2ZShlKSkpLmNhdGNoKChlPT57dGhpcy5pc05vcm1hbFBvcnRGYWlsZWQmJmMucmVqZWN0KGUpLHRoaXMubG9nZ2VyKFwidHJ5IDQ0MyBwb3J0IHRvIGNyZWF0ZSB3cyBmYWlsZWRcIil9KSksdGhpcy5mb3JjZUNsb3NlVGltZW91dD13aW5kb3cuc2V0VGltZW91dChpLHRoaXMuZm9yY2VDbG9zZVdTRHVyYXRpb24pfSksdGhpcy50cnk0NDNQb3J0RHVyYXRpb24pfSkoKSxjLnByb21pc2V9Y2hvb3NlQmVzdFdlYnNvY2tldChlLHQsaSxuKXtyZXR1cm4gdGhpcy51c2VEb3VibGVEb21haW49ISF0LFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1mdW5jdGlvbihlKXtsZXQgdCxpLG47cmV0dXJuWyx0LGksbl09ZS5tYXRjaChqSSl8fFtdLHR8fChbLGksbl09ZS5tYXRjaChHSSl8fFtdKSxpJiZufHwoWyxpLG5dPWUubWF0Y2goV0kpfHxbXSksaSYmbnx8KFssaV09ZS5tYXRjaChISSl8fFtdKSxpfHxLQy53YXJuaW5nKFwidW4tZGVzdHJ1Y3RpYmxlIHVybDogXCIsZSkse3Byb3h5OnQsaG9zdDppLHBvcnQ6bnx8XCI0NDNcIn19KGUpKSx0aGlzLnJlY29yZEluZGV4PW4sdGhpcy51c2VQcm94eT0hIWUucHJveHksaSYmdGhpcy51c2VQcm94eSYmKEtDLndhcm4oXCJjYW5ub3QgdXNlIDQ0MyBvbmx5IHdoZW4gdXNlIHByb3h5XCIpLGk9ITEpLHRoaXMuY3JlYXRlV2ViU29ja2V0KGUsISFpLCExKS5maW5hbGx5KCgoKT0+dGhpcy5jbGVhclRpbWVvdXQoKSkpfX1mdW5jdGlvbiBxSShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9Y2xhc3MgSkkgZXh0ZW5kcyBpVHtnZXQgdXJsKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0JiZ0aGlzLndlYnNvY2tldC51cmx8fG51bGx9Z2V0IHJlY29ubmVjdE1vZGUoKXtyZXR1cm4gdGhpcy5fcmVjb25uZWN0TW9kZX1zZXQgcmVjb25uZWN0TW9kZShlKXt2YXIgdDtQcih0PVtcInRyeU5leHRcIixcInJlY292ZXJcIl0pLmNhbGwodCxlKSYmdGhpcy5yZXNldFJlY29ubmVjdENvdW50KGUpLHRoaXMuX3JlY29ubmVjdE1vZGU9ZX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKGUpe2UhPT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPWUsXCJyZWNvbm5lY3RpbmdcIj09PXRoaXMuX3N0YXRlP3RoaXMuZW1pdChJdi5SRUNPTk5FQ1RJTkcsdGhpcy5yZWNvbm5lY3RSZWFzb24pOlwiY29ubmVjdGVkXCI9PT10aGlzLl9zdGF0ZT90aGlzLmVtaXQoSXYuQ09OTkVDVEVEKTpcImNsb3NlZFwiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KEl2LkNMT1NFRCk6XCJmYWlsZWRcIj09PXRoaXMuX3N0YXRlJiZ0aGlzLmVtaXQoSXYuRkFJTEVEKSl9cmVzZXRSZWNvbm5lY3RDb3VudChlKXtLQy5kZWJ1ZyhcIndlYnNvY2tldCByZXNldCByZWNvbm5lY3QgY291bnQsIHJlYXNvbjogXCIrZSksdGhpcy5yZWNvbm5lY3RDb3VudD0wfWNvbnN0cnVjdG9yKGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM10scj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLHM9YXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp2b2lkIDA7c3VwZXIoKSxudSh0aGlzLFwiY29ubmVjdGlvbklEXCIsMCksbnUodGhpcyxcImN1cnJlbnRVUkxJbmRleFwiLDApLG51KHRoaXMsXCJ1cmxzXCIsW10pLG51KHRoaXMsXCJfcmVjb25uZWN0TW9kZVwiLFwidHJ5TmV4dFwiKSxudSh0aGlzLFwicmVjb25uZWN0UmVhc29uXCIsdm9pZCAwKSxudSh0aGlzLFwiX2luaXRNdXRleFwiLG5ldyBZVChcIndlYnNvY2tldFwiKSksbnUodGhpcyxcIm5hbWVcIix2b2lkIDApLG51KHRoaXMsXCJfc3RhdGVcIixcImNsb3NlZFwiKSxudSh0aGlzLFwicmVjb25uZWN0SW50ZXJydXB0ZXJcIix2b2lkIDApLG51KHRoaXMsXCJ3ZWJzb2NrZXRcIix2b2lkIDApLG51KHRoaXMsXCJyZXRyeUNvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcInJlY29ubmVjdENvdW50XCIsMCksbnUodGhpcyxcImZvcmNlQ2xvc2VUaW1lb3V0XCIsNWUzKSxudSh0aGlzLFwib25saW5lUmVjb25uZWN0TGlzdGVuZXJcIix2b2lkIDApLG51KHRoaXMsXCJ1c2VDb21wcmVzc1wiLHZvaWQgMCksbnUodGhpcyxcInRyeURvdWJsZURvbWFpblwiLCExKSxudSh0aGlzLFwidXNlNDQzUG9ydE9ubHlcIiwhMSksbnUodGhpcyxcIndzSW5mbGF0ZUxlbmd0aFwiLDApLG51KHRoaXMsXCJ3c0RlZmxhdGVMZW5ndGhcIiwwKSxudSh0aGlzLFwiY2xvc2VFc3RhYmxpc2hpbmdXc1wiLCgoKT0+e30pKSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJqb2luR2F0ZXdheVJlY29yZEluZGV4XCIsdm9pZCAwKSx0aGlzLnN0b3JlPXMsdGhpcy5uYW1lPWUsdGhpcy5yZXRyeUNvbmZpZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9xSShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpxSShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe30sdCksdGhpcy51c2VDb21wcmVzcz1pLHRoaXMudHJ5RG91YmxlRG9tYWluPW4sdGhpcy51c2U0NDNQb3J0T25seT1yO2NvbnN0e3RpbWVvdXQ6byx0aW1lb3V0RmFjdG9yOmF9PXQsYz1NYXRoLm1heCgzMDAsTWF0aC5mbG9vcigzKm8vNSkpLGQ9TWF0aC5tYXgoMS4yLE1hdGguZmxvb3IoOCphKS8xMCk7aFQuT05MSU5FJiYodGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0PWMsdGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPWQpLFJULm9uKHVULk5FVFdPUktfU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e2UhPT10JiYodGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwibmV0d29yayBzdGF0ZSBjaGFuZ2U6IFwiLmNvbmNhdCh0LFwiIC0+IFwiKS5jb25jYXQoZSkpLGU9PT1oVC5PTkxJTkU/KHRoaXMucmV0cnlDb25maWcudGltZW91dD1jLHRoaXMucmV0cnlDb25maWcudGltZW91dEZhY3Rvcj1kKToodGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0PW8sdGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPWEpKX0pKX1nZXRDb25uZWN0aW9uKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0fHx2b2lkIDB9YXN5bmMgaW5pdChlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NWUzO2NvbnN0IGk9YXdhaXQgdGhpcy5faW5pdE11dGV4LmxvY2soKTt0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0PXQsdGhpcy51cmxzPWUsdGhpcy5zdGF0ZT1cImNvbm5lY3RpbmdcIjt0cnl7Y29uc3QgZT1uZygpLHQ9dGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XTt0aGlzLmNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb24odCkudGhlbihlLnJlc29sdmUpLmNhdGNoKGUucmVqZWN0KSx0aGlzLm9uY2UoSXYuQ0xPU0VELCgoKT0+e2UucmVqZWN0KG5ldyBWZyh4Zy5XU19ESVNDT05ORUNUKSl9KSksdGhpcy5vbmNlKEl2LkNPTk5FQ1RFRCxlLnJlc29sdmUpLGF3YWl0IGUucHJvbWlzZX1jYXRjaChlKXt9ZmluYWxseXtpKCl9fWNsb3NlKGUsdCl7aWYodGhpcy5jdXJyZW50VVJMSW5kZXg9MCx0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJjbG9zZVwiKSx0aGlzLnJlY29ubmVjdEludGVycnVwdGVyJiZ0aGlzLnJlY29ubmVjdEludGVycnVwdGVyKCksdGhpcy53ZWJzb2NrZXQpe3RoaXMud2Vic29ja2V0Lm9uY2xvc2U9bnVsbCx0aGlzLndlYnNvY2tldC5vbm9wZW49bnVsbCx0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2U9bnVsbDtjb25zdCBlPXRoaXMud2Vic29ja2V0O3Q/c2V0VGltZW91dCgoKCk9PmUuY2xvc2UoKSksNTAwKTplLmNsb3NlKCksdGhpcy53ZWJzb2NrZXQ9dm9pZCAwfXRoaXMuc3RhdGU9ZT9cImZhaWxlZFwiOlwiY2xvc2VkXCIsdGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzJiZ0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3MoKX1yZWNvbm5lY3QoZSx0KXtpZighdGhpcy53ZWJzb2NrZXQpcmV0dXJuIHZvaWQgS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSBjYW4gbm90IHJlY29ubmVjdCwgbm8gd2Vic29ja2V0XCIpKTt2b2lkIDAhPT1lJiYodGhpcy5yZWNvbm5lY3RNb2RlPWUpLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHJlY29ubmVjdCBpcyB0cmlnZ2VyZWQgaW5pdGlhdGl2ZVwiKSksXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuam9pbkdhdGV3YXlSZWNvcmRJbmRleCYmdGhpcy5zdG9yZSYmdGhpcy5zdG9yZS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXR1czpcImVycm9yXCIsZXJyb3JzOltuZXcgRXJyb3IodCldfSx0aGlzLmpvaW5HYXRld2F5UmVjb3JkSW5kZXgpO2NvbnN0IGk9dGhpcy53ZWJzb2NrZXQub25jbG9zZTt0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQuY2xvc2UoKSxpJiZpLmJpbmQodGhpcy53ZWJzb2NrZXQpKHtjb2RlOjk5OTkscmVhc29uOnR9KX1zZW5kTWVzc2FnZShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKCF0aGlzLndlYnNvY2tldHx8dGhpcy53ZWJzb2NrZXQucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOKXRocm93IG5ldyBWZyh4Zy5XU19BQk9SVCxcIndlYnNvY2tldCBpcyBub3QgcmVhZHlcIik7dHJ5e3R8fChlPUpTT04uc3RyaW5naWZ5KGUpKSx0aGlzLndlYnNvY2tldC5zZW5kKGUpfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5XU19FUlIsXCJzZW5kIHdlYnNvY2tldCBtZXNzYWdlIGVycm9yXCIrZS50b1N0cmluZygpKX19c2V0V3NJbmZsYXRlRGF0YShlKXt0aGlzLndzRGVmbGF0ZUxlbmd0aD10aGlzLndzRGVmbGF0ZUxlbmd0aCtlLm9yaWdpbkxlbmd0aCx0aGlzLndzSW5mbGF0ZUxlbmd0aD10aGlzLndzSW5mbGF0ZUxlbmd0aCtlLmNvbXByZXNzZWRMZW5ndGh9Z2V0V3NJbmZsYXRlRGF0YSgpe2NvbnN0IGU9dGhpcy53c0luZmxhdGVMZW5ndGgsdD10aGlzLndzRGVmbGF0ZUxlbmd0aDtyZXR1cm4gdGhpcy5jbGVhcldzSW5mbGF0ZURhdGEoKSx7d3NJbmZsYXRlTGVuZ3RoOmUsd3NEZWZsYXRlTGVuZ3RoOnR9fWNsZWFyV3NJbmZsYXRlRGF0YSgpe3RoaXMud3NJbmZsYXRlTGVuZ3RoPTAsdGhpcy53c0RlZmxhdGVMZW5ndGg9MH1hc3luYyBjcmVhdGVXZWJTb2NrZXRDb25uZWN0aW9uKGUpe3ZhciB0O2NvbnN0IGk9bmcoKTt0aGlzLmNvbm5lY3Rpb25JRCs9MSx0aGlzLmpvaW5HYXRld2F5UmVjb3JkSW5kZXg9dm9pZCAwO2NvbnN0IG49ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLnN0b3JlKXx8dm9pZCAwPT09dHx8dC5zaWduYWxDaGFubmVsT3BlbigpLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHdlYnNvY2tldCBvcGVuZWQ6XCIpLGUpLHRoaXMucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsdGhpcy5zdGF0ZT1cImNvbm5lY3RlZFwiLHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcIm9wZW5lZFwiKSxpLnJlc29sdmUoKX0scj1hc3luYyBlPT57dmFyIHQ7aWYoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gd2Vic29ja2V0IGNsb3NlIFwiKS5jb25jYXQobnVsbD09PSh0PXRoaXMud2Vic29ja2V0KXx8dm9pZCAwPT09dD92b2lkIDA6dC51cmwsXCIsIGNvZGU6IFwiKS5jb25jYXQoZS5jb2RlLFwiLCByZWFzb246IFwiKS5jb25jYXQoZS5yZWFzb24sXCIsIGN1cnJlbnQgbW9kZTogXCIpLmNvbmNhdCh0aGlzLnJlY29ubmVjdE1vZGUpKSx0aGlzLnJlY29ubmVjdENvdW50Pj10aGlzLnJldHJ5Q29uZmlnLm1heFJldHJ5Q291bnQpaS5yZWplY3QobmV3IFZnKHhnLldTX0RJU0NPTk5FQ1QsXCJ3ZWJzb2NrZXQgY2xvc2U6IFwiLmNvbmNhdChlLmNvZGUpKSksdGhpcy5jbG9zZSgpO2Vsc2V7XCJjb25uZWN0ZWRcIj09PXRoaXMuc3RhdGUmJih0aGlzLnJlY29ubmVjdFJlYXNvbj1lLnJlYXNvbix0aGlzLnN0YXRlPVwicmVjb25uZWN0aW5nXCIpO2NvbnN0IHQ9VFQodGhpcyxJdi5XSUxMX1JFQ09OTkVDVCx0aGlzLnJlY29ubmVjdE1vZGUsZS5yZWFzb24pfHx0aGlzLnJlY29ubmVjdE1vZGUsbj1hd2FpdCB0aGlzLnJlY29ubmVjdFdpdGhBY3Rpb24odCk7aWYoXCJjbG9zZWRcIj09PXRoaXMuc3RhdGUpcmV0dXJuIHZvaWQgS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvbklELFwiXSB3cyBpcyBjbG9zZWQsIG5vIG5lZWQgdG8gcmVjb25uZWN0XCIpKTtpZighbilyZXR1cm4gaS5yZWplY3QobmV3IFZnKHhnLldTX0RJU0NPTk5FQ1QsXCJ3ZWJzb2NrZXQgcmVjb25uZWN0IGZhaWxlZDogXCIuY29uY2F0KGUuY29kZSkpKSx0aGlzLmNsb3NlKCEwKTtpLnJlc29sdmUoKX19LHM9ZT0+e3RoaXMuZW1pdChJdi5PTl9NRVNTQUdFLGUpfSxvPWU9PntLQy53YXJuKFwiW1wiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25JRCxcIl0gd3Mgb3BlbiBlcnJvciBcIikuY29uY2F0KGUpKX07dGhpcy53ZWJzb2NrZXQmJih0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQuY2xvc2UoKSksa0MoXCJHQVRFV0FZX1dTU19BRERSRVNTXCIpJiZ0aGlzLm5hbWUuc3RhcnRzV2l0aChcImdhdGV3YXlcIikmJihlPWtDKFwiR0FURVdBWV9XU1NfQUREUkVTU1wiKSksS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gc3RhcnQgY29ubmVjdCwgdXJsOlwiKSxlKTtjb25zdCBhPW51bGw9PT0odD10aGlzLnN0b3JlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXJ0VHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJwZW5kaW5nXCIsc2VydmljZTpcImdhdGV3YXlcIn0pO3RyeXt2YXIgYztjb25zdCB0PWF3YWl0IHRoaXMuY2hvb3NlQmVzdFdlYnNvY2tldENvbm5lY3Rpb24oZSk7dGhpcy53ZWJzb2NrZXQ9dCxuJiZuKHRoaXMud2Vic29ja2V0LnVybCksdGhpcy53ZWJzb2NrZXQub25jbG9zZT1yLHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZT1zLHRoaXMud2Vic29ja2V0Lm9uZXJyb3I9byxudWxsPT09KGM9dGhpcy5zdG9yZSl8fHZvaWQgMD09PWN8fGMucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0sYSksdGhpcy5qb2luR2F0ZXdheVJlY29yZEluZGV4PWF9Y2F0Y2goZSl7Y29uc3QgdD1cImNsb3NlZFwiPT09dGhpcy5zdGF0ZSxuPWUgaW5zdGFuY2VvZiBWZyxzPW4mJmUuY29kZT09PXhnLldTX0FCT1JULG89biYmZS5jb2RlPT09eGcuV1NfRVJSLGM9bj9lLm1lc3NhZ2U6ZSYmKGUucmVhc29ufHxlLnRvU3RyaW5nKCkpO0tDLndhcm5pbmcoXCJbY2hvb3NlLWJlc3Qtd3NdIGNob29zZUJlc3RXZWJzb2NrZXQgZXJyb3I6IFwiLmNvbmNhdChjKSksdGhpcy5zdG9yZSYmdGhpcy5zdG9yZS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOnM/XCJhYm9ydGVkXCI6XCJlcnJvclwiLGVycm9yczpbZV19LGEpLHR8fG8/KGkucmVqZWN0KHQ/bmV3IFZnKHhnLldTX0RJU0NPTk5FQ1QsXCJ3ZWJzb2NrZXQgaXMgY2xvc2VkOiBcIi5jb25jYXQoYykpOm5ldyBWZyh4Zy5XU19FUlIsXCJpbml0IHdlYnNvY2tldCBmYWlsZWQ6IFwiLmNvbmNhdChjKSkpLG8mJktDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIGluaXQgd2Vic29ja2V0IGZhaWxlZDogXCIpLmNvbmNhdChjKSkpOnImJnIoZSl9cmV0dXJuIGkucHJvbWlzZX1hc3luYyByZWNvbm5lY3RXaXRoQWN0aW9uKGUpe2xldCB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYodGhpcy5yZWNvbm5lY3RDb3VudD49dGhpcy5yZXRyeUNvbmZpZy5tYXhSZXRyeUNvdW50KXJldHVybiExO2lmKDA9PT10aGlzLnVybHMubGVuZ3RoKXJldHVybiExO2lmKFwiY2xvc2VkXCI9PT10aGlzLnN0YXRlKXJldHVybiExO0tDLndhcm5pbmcoXCJbY2hvb3NlLWJlc3Qtd3NdIGFjdGlvbjogPT5cIixlKSx0aGlzLm9ubGluZVJlY29ubmVjdExpc3RlbmVyfHxSVC5pc09ubGluZXx8IVJULm9ubGluZVdhaXRlcnx8KHRoaXMub25saW5lUmVjb25uZWN0TGlzdGVuZXI9UlQub25saW5lV2FpdGVyLnRoZW4oKCgpPT57dGhpcy5vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcj12b2lkIDB9KSkpO2xldCBpPSEwO2lmKHRoaXMucmVjb25uZWN0SW50ZXJydXB0ZXI9KCk9Pmk9ITEsdCl7Y29uc3QgdD16VCh0aGlzLnJlY29ubmVjdENvdW50LHRoaXMucmV0cnlDb25maWcpO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHdhaXQgXCIpLmNvbmNhdCh0LFwibXMgdG8gcmVjb25uZWN0IHdlYnNvY2tldCwgbW9kZTogXCIpLmNvbmNhdChlKSksYXdhaXQgdGcucmFjZShbVVQodCksdGhpcy5vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcnx8bmV3IHRnKCgoKT0+e30pKV0pfWlmKFwiY2xvc2VkXCI9PT10aGlzLl9zdGF0ZXx8IWkpcmV0dXJuITE7dGhpcy5yZWNvbm5lY3RDb3VudCs9MTtjb25zdCBuPWFzeW5jKGUsdCk9Pnt0aGlzLmVtaXQoSXYuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLHQpLGF3YWl0IHRoaXMuY3JlYXRlV2ViU29ja2V0Q29ubmVjdGlvbihlKX07dHJ5e2lmKFwicmV0cnlcIj09PWUpdGhpcy5lbWl0KEl2LlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZSksYXdhaXQgbih0aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdLGUpO2Vsc2UgaWYoXCJ0cnlOZXh0XCI9PT1lKXtpZih0aGlzLmN1cnJlbnRVUkxJbmRleCs9MSx0aGlzLmN1cnJlbnRVUkxJbmRleD49dGhpcy51cmxzLmxlbmd0aClyZXR1cm4gdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKFwicmVjb3ZlclwiLCExKTtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSB3ZWJzb2NrZXQgdXJsIGxlbmd0aDogXCIpLmNvbmNhdCh0aGlzLnVybHMubGVuZ3RoLFwiIGN1cnJlbnQgaW5kZXg6IFwiKS5jb25jYXQodGhpcy5jdXJyZW50VVJMSW5kZXgpKSx0aGlzLmVtaXQoSXYuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKSxhd2FpdCBuKHRoaXMudXJsc1t0aGlzLmN1cnJlbnRVUkxJbmRleF0sZSl9ZWxzZVwicmVjb3ZlclwiPT09ZSYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHJlcXVlc3QgbmV3IHVybHNcIikpLHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcInJlY292ZXIgbW9kZVwiKSx0aGlzLmVtaXQoSXYuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKSx0aGlzLnVybHM9YXdhaXQgZlQodGhpcyxJdi5SRVFVRVNUX05FV19VUkxTKSx0aGlzLmN1cnJlbnRVUkxJbmRleD0wLGF3YWl0IG4odGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XSxlKSl9Y2F0Y2goaSl7dmFyIHI7S0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gcmVjb25uZWN0IGZhaWxlZCBcIikuY29uY2F0KGkmJmkudG9TdHJpbmcoKSkpO2NvbnN0IG49bnVsbD09aXx8bnVsbD09PShyPWkuZGF0YSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZGVzYztyZXR1cm4gQXJyYXkuaXNBcnJheShuKSYmUHIobikuY2FsbChuLFwiZHluYW1pYyBrZXkgZXhwaXJlZFwiKT8odGhpcy5lbWl0KEl2Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKSwhMSk6dGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKGUsdCl9cmV0dXJuITB9fWNsYXNzIHpJIGV4dGVuZHMgSkl7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQsYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLGFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0sYXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp2b2lkIDApfWFzeW5jIGNob29zZUJlc3RXZWJzb2NrZXRDb25uZWN0aW9uKGUsdCl7Y29uc3QgaT1uZygpLG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFlJKGUsdCl9KHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQsdGhpcy5zdG9yZSk7dGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPSgpPT57S0MuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIGNsb3NlIGVzdGFibGlzaGluZyB3ZWJzb2NrZXRzXCIpLG4uY2xvc2VBbGxXZWJzb2NrZXRzKCksaS5yZWplY3QobmV3IFZnKHhnLldTX0FCT1JULFwiY2hvb3NlIGJlc3Qgd2Vic29ja2V0IGFib3J0ZWRcIikpfTtjb25zdCByPWtDKFwiR0FURVdBWV9ET01BSU5TXCIpO3JldHVybiBLQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gY3VycmVudERvbWFpbjogXCIsZSxcIiwgZG9tYWluczogXCIscixcInRvdGFsOiBcIi5jb25jYXQodGhpcy51cmxzLmxlbmd0aCksXCJjdXJyZW50OiBcIi5jb25jYXQodGhpcy5jdXJyZW50VVJMSW5kZXgrMSkpLG4uY2hvb3NlQmVzdFdlYnNvY2tldChlLHRoaXMudHJ5RG91YmxlRG9tYWluLHRoaXMudXNlNDQzUG9ydE9ubHksdCkudGhlbihpLnJlc29sdmUpLmNhdGNoKGkucmVqZWN0KSxpLnByb21pc2UuZmluYWxseSgoKCk9Pnt0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9dm9pZCAwfSkpfX1jbGFzcyBYSSBleHRlbmRzIEpJe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLGFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwKX1hc3luYyBjaG9vc2VCZXN0V2Vic29ja2V0Q29ubmVjdGlvbihlLHQpe3JldHVybiBuZXcgdGcoKChpLG4pPT57bGV0IHI9ITE7Y29uc3Qgcz1bXTt0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9KCk9PntLQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gY2xvc2UgZXN0YWJsaXNoaW5nIHdlYnNvY2tldHNcIikscy5mb3JFYWNoKChlPT57ZS5vbmNsb3NlPW51bGwsZS5vbm9wZW49bnVsbCxlLm9ubWVzc2FnZT1udWxsLGUuY2xvc2UoKX0pKSxuKG5ldyBWZyh4Zy5XU19BQk9SVCxcImNob29zZSBiZXN0IHdlYnNvY2tldCBhYm9ydGVkXCIpKX07Y29uc3Qgbz1rQyhcIkdBVEVXQVlfRE9NQUlOU1wiKTtsZXQgYTtjb25zdCBjPWUuaW5kZXhPZihcIj9oPVwiKSxkPW8uZmluZCgodD0+LTEhPT1jP1ByKGUpLmNhbGwoZSx0LGMpOlByKGUpLmNhbGwoZSx0KSkpO0tDLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBjdXJyZW50RG9tYWluOiBcIixkLFwiLCBkb21haW5zOiBcIixvKTtsZXQgbD0hdGhpcy50cnlEb3VibGVEb21haW58fCFkO2lmKCFsJiZkKXt2YXIgaDtjb25zdCB1PURhdGUubm93KCk7dHJ5e28uZm9yRWFjaCgodD0+e2NvbnN0IGk9LTE9PT1jP2UucmVwbGFjZShkLHQpOmUuc3Vic3RyKDAsYykrZS5zdWJzdHIoYykucmVwbGFjZShkLHQpLG49bmV3IFdlYlNvY2tldChpKTtuLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHMucHVzaChuKSxLQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gd3MgaXMgY29ubmVjdGluZzpcIixuLnVybCl9KSl9Y2F0Y2goZSl7Zm9yKEtDLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSB3cyBjcmVhdGUgZmFpbGVkLCBmYWxsYmFjayB0byBzaW5nbGUgdXJsXCIpLHMuZm9yRWFjaCgoZT0+ZS5jbG9zZSgpKSk7cy5sZW5ndGg7KXMucG9wKCk7bD0hMH1udWxsPT09KGg9dGhpcy5zdG9yZSl8fHZvaWQgMD09PWh8fGgucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHt1cmxzOnMubWFwKChlPT5lLnVybCkpLHNlcnZpY2U6XCJnYXRld2F5XCJ9LHQpLHMuZm9yRWFjaCgoZT0+e2Uub25vcGVuPSgpPT57aWYocilyZXR1cm47Y29uc3QgdD1EYXRlLm5vdygpLXU7S0MuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIHdzIG9wZW4gY29zdCBcIi5jb25jYXQodCxcIm1zXCIpKSxzLmZpbHRlcigodD0+dCE9PWUpKS5mb3JFYWNoKChlPT57S0MuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdY2xvc2UgYmFja3VwIHdlYnNvY2tldDogXCIuY29uY2F0KGUudXJsKSksZS5jbG9zZSgpfSkpLHI9ITAsaShlKX0sZS5vbmNsb3NlPWU9PntpZihhPWUscilyZXR1cm47cy5maW5kKChlPT4hKGUucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TRUR8fGUucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TSU5HKSkpfHwoS0MuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIGFsbCB3ZWJzb2NrZXQgaXMgY2xvc2VkXCIpLHI9ITAsbihhKSl9LGUub25tZXNzYWdlPXQ9PntLQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c11cIi5jb25jYXQoZS51cmwsXCIgb25tZXNzYWdlOiBcIikuY29uY2F0KHQuZGF0YSkpfX0pKSxVVCh0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0KS50aGVuKCgoKT0+e3MuZm9yRWFjaCgoZT0+e2UucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOJiZlLmNsb3NlKCl9KSl9KSl9aWYobCl7dmFyIHU7bGV0IHI7S0MuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIHVzZSBzaW5nbGUgdXJsOiBcIixlKSxudWxsPT09KHU9dGhpcy5zdG9yZSl8fHZvaWQgMD09PXV8fHUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHt1cmxzOltlXSxzZXJ2aWNlOlwiZ2F0ZXdheVwifSx0KTt0cnl7cj1uZXcgV2ViU29ja2V0KGUpLHMucHVzaChyKSxyLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwifWNhdGNoKGUpe2NvbnN0IHQ9bmV3IFZnKHhnLldTX0VSUixcImluaXQgd2Vic29ja2V0IGZhaWxlZCEgRXJyb3I6IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKTtyZXR1cm4gS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl1cIikuY29uY2F0KHQpKSx2b2lkIG4odCl9ci5vbm9wZW49KCk9PntpKHIpfSxyLm9uY2xvc2U9ZT0+e24oZSl9LHIub25tZXNzYWdlPWU9PntLQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c11cIi5jb25jYXQoci51cmwsXCIgb25tZXNzYWdlOiBcIikuY29uY2F0KGUuZGF0YSkpfSxVVCh0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0KS50aGVuKCgoKT0+e3ImJnIucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOJiZyLmNsb3NlKCl9KSl9fSkpLnRoZW4oKGU9Pih0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9dm9pZCAwLGUpKSkuY2F0Y2goKGU9Pnt0aHJvdyB0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9dm9pZCAwLGV9KSl9fWNsYXNzIFFJIGV4dGVuZHMgaVR7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9c2V0IGNvbm5lY3Rpb25TdGF0ZShlKXtlIT09dGhpcy5fY29ubmVjdGlvblN0YXRlJiYodGhpcy5fY29ubmVjdGlvblN0YXRlPWUsZT09PWZ2LkNPTk5FQ1RFRD90aGlzLmVtaXQoZ3YuV1NfQ09OTkVDVEVEKTplPT09ZnYuUkVDT05ORUNUSU5HP3RoaXMuZW1pdChndi5XU19SRUNPTk5FQ1RJTkcsdGhpcy5fd2Vic29ja2V0UmVjb25uZWN0UmVhc29uKTplPT09ZnYuQ0xPU0VEJiZ0aGlzLmVtaXQoZ3YuV1NfQ0xPU0VELHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbikpfWdldCBjdXJyZW50VVJMSW5kZXgoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQuY3VycmVudFVSTEluZGV4fWdldCB1cmwoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQmJnRoaXMud2Vic29ja2V0LnVybHx8bnVsbH1nZXQgcnR0KCl7cmV0dXJuIHRoaXMucnR0Um9sbGluZy5tZWFuKCl9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG51KHRoaXMsXCJfZGlzY29ubmVjdGVkUmVhc29uXCIsdm9pZCAwKSxudSh0aGlzLFwiX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvblwiLHZvaWQgMCksbnUodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIixmdi5DTE9TRUQpLG51KHRoaXMsXCJyZWNvbm5lY3RUb2tlblwiLHZvaWQgMCksbnUodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksbnUodGhpcyxcIm9wZW5Db25uZWN0aW9uVGltZVwiLHZvaWQgMCksbnUodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxudSh0aGlzLFwibGFzdE1zZ1RpbWVcIixEYXRlLm5vdygpKSxudSh0aGlzLFwidXBsb2FkQ2FjaGVcIixbXSksbnUodGhpcyxcInVwbG9hZENhY2hlSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJydHRSb2xsaW5nXCIsbmV3IGRTKDUpKSxudSh0aGlzLFwicGluZ3BvbmdUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcIndzSW5mbGF0ZURhdGFUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcInBpbmdwb25nVGltZW91dENvdW50XCIsMCksbnUodGhpcyxcImpvaW5SZXNwb25zZVwiLHZvaWQgMCksbnUodGhpcyxcIm11bHRpSXBPcHRpb25cIix2b2lkIDApLG51KHRoaXMsXCJpbml0RXJyb3JcIix2b2lkIDApLG51KHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJvbldlYnNvY2tldE1lc3NhZ2VcIiwoZT0+e2lmKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiB2b2lkIHRoaXMuZW1pdChndi5PTl9CSU5BUllfREFUQSxlLmRhdGEpO2NvbnN0IHQ9SlNPTi5wYXJzZShlLmRhdGEpO2lmKHRoaXMubGFzdE1zZ1RpbWU9RGF0ZS5ub3coKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcIl9pZFwiKSl7Y29uc3QgZT1cInJlcy1AXCIuY29uY2F0KHQuX2lkKTt0aGlzLmVtaXQoZSx0Ll9yZXN1bHQsdC5fbWVzc2FnZSl9ZWxzZSBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcIl90eXBlXCIpKXtpZih0aGlzLmVtaXQodC5fdHlwZSx0Ll9tZXNzYWdlKSx0Ll90eXBlPT09UnYuT05fTk9USUZJQ0FUSU9OJiZ0aGlzLmhhbmRsZU5vdGlmaWNhdGlvbih0Ll9tZXNzYWdlKSx0Ll90eXBlPT09UnYuT05fVVNFUl9CQU5ORUQpc3dpdGNoKHQuX21lc3NhZ2UuZXJyb3JfY29kZSl7Y2FzZSAxNDp0aGlzLmNsb3NlKGNULlVJRF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTU6dGhpcy5jbG9zZShjVC5JUF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTY6dGhpcy5jbG9zZShjVC5DSEFOTkVMX0JBTk5FRCl9aWYodC5fdHlwZT09PVJ2Lk9OX1VTRVJfTElDRU5TRV9CQU5ORUQpc3dpdGNoKHQuX21lc3NhZ2UuZXJyb3JfY29kZSl7Y2FzZSBtdi5FUlJfTElDRU5TRV9NSVNTSU5HOnRoaXMuY2xvc2UoY1QuTElDRU5TRV9NSVNTSU5HKTticmVhaztjYXNlIG12LkVSUl9MSUNFTlNFX0VYUElSRUQ6dGhpcy5jbG9zZShjVC5MSUNFTlNFX0VYUElSRUQpO2JyZWFrO2Nhc2UgbXYuRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRDp0aGlzLmNsb3NlKGNULkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRCk7YnJlYWs7Y2FzZSBtdi5FUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRDp0aGlzLmNsb3NlKGNULkxJQ0VOU0VfUEVSSU9EX0lOVkFMSUQpO2JyZWFrO2Nhc2UgbXYuRVJSX0xJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0U6dGhpcy5jbG9zZShjVC5MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFKTticmVhaztjYXNlIG12LkVSUl9MSUNFTlNFX0lMTEVHQUw6dGhpcy5jbG9zZShjVC5MSUNFTlNFX0lMTEVHQUwpO2JyZWFrO2RlZmF1bHQ6dGhpcy5jbG9zZSgpfX19KSksdGhpcy5jbGllbnRJZD1lLmNsaWVudElkLHRoaXMuc3BlYz1lLHRoaXMuc3RvcmU9dCx0aGlzLndlYnNvY2tldD1uZXcgekkoXCJnYXRld2F5LVwiLmNvbmNhdCh0aGlzLmNsaWVudElkKSx0aGlzLnNwZWMucmV0cnlDb25maWcsITAsa0MoXCJKT0lOX0dBVEVXQVlfVVNFX0RVQUxfRE9NQUlOXCIpLGtDKFwiSk9JTl9HQVRFV0FZX1VTRV80NDNQT1JUX09OTFlcIiksdCksdGhpcy5oYW5kbGVXZWJzb2NrZXRFdmVudHMoKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PWZ2LkNPTk5FQ1RFRCYmdGhpcy5yZWNvbm5lY3QoXCJyZXRyeVwiLGxULk9GRkxJTkUpfSkpfWFzeW5jIHJlcXVlc3QoZSx0LGksbil7Y29uc3Qgcj14VCg2LFwiXCIpLHM9e19pZDpyLF90eXBlOmUsX21lc3NhZ2U6dH0sbz10aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsYT0oKT0+bmV3IHRnKCgodCxpKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09ZnYuQ09OTkVDVEVEKXJldHVybiB0KCk7Y29uc3Qgbj0oKT0+e3RoaXMub2ZmKGd2LldTX0NMT1NFRCxyKSx0KCl9LHI9KCk9Pnt0aGlzLm9mZihndi5XU19DT05ORUNURUQsbiksaShuZXcgeHYoeGcuV1NfQUJPUlQpKX07dGhpcy5vbmNlKGd2LldTX0NPTk5FQ1RFRCxuKSx0aGlzLm9uY2UoZ3YuV1NfQ0xPU0VELHIpLGUhPT1Udi5QVUJMSVNIJiZlIT09VHYuU1VCU0NSSUJFJiZlIT09VHYuVU5TVUJTQ1JJQkUmJmUhPT1Udi5VTlBVQkxJU0gmJmUhPT1Udi5DT05UUk9MJiZlIT09VHYuUkVTVEFSVF9JQ0V8fHRoaXMub25jZShndi5ESVNDT05ORUNUX1AyUCwoKCk9PntpKG5ldyB4dih4Zy5ESVNDT05ORUNUX1AyUCkpfSkpLGUhPT1Udi5QVUJMSVNIJiZlIT09VHYuUkVTVEFSVF9JQ0V8fHRoaXMub25jZShndi5BQk9SVF9QMlBfRVhFQ1VUSU9OLCgoKT0+e2kobmV3IHh2KHhnLkRJU0NPTk5FQ1RfUDJQKSl9KSl9KSk7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1mdi5DT05ORUNUSU5HJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PWZ2LlJFQ09OTkVDVElOR3x8ZT09PVR2LkpPSU58fGU9PT1Udi5SRUpPSU58fGF3YWl0IGEoKSx0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShzLCEwKSxuKXJldHVybjtjb25zdCBjPW5ldyB0ZygoKGksbik9PntsZXQgcz0hMTtjb25zdCBhPShuLHIpPT57cz0hMCxpKHtpc1N1Y2Nlc3M6XCJzdWNjZXNzXCI9PT1uLG1lc3NhZ2U6cnx8e319KSx0aGlzLm9mZihndi5XU19DTE9TRUQsYyksdGhpcy5vZmYoZ3YuV1NfUkVDT05ORUNUSU5HLGMpLHRoaXMuZW1pdChndi5SRVFVRVNUX1NVQ0NFU1MsZSx0KX07dGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQociksYSk7Y29uc3QgYz0oKT0+e24obmV3IHh2KHhnLldTX0FCT1JULFwidHlwZTogXCIuY29uY2F0KGUpKSksdGhpcy5vZmYoZ3YuV1NfQ0xPU0VELGMpLHRoaXMub2ZmKGd2LldTX1JFQ09OTkVDVElORyxjKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KHIpLGEpfTt0aGlzLm9uY2UoZ3YuV1NfQ0xPU0VELGMpLHRoaXMub25jZShndi5XU19SRUNPTk5FQ1RJTkcsYyksVVQoa0MoXCJTSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpKS50aGVuKCgoKT0+e3RoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCE9PW98fHN8fChLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSB3cyByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiKS5jb25jYXQoZSkpLHRoaXMuZW1pdChndi5SRVFVRVNUX1RJTUVPVVQsZSx0KSl9KSl9KSk7bGV0IGQ9bnVsbDt0cnl7ZD1hd2FpdCBjfWNhdGNoKG4pe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09ZnYuQ0xPU0VEfHxlPT09VHYuTEVBVkUpdGhyb3cgbmV3IHh2KHhnLldTX0FCT1JUKTtyZXR1cm4hdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZXx8aT9uLnRocm93KCk6ZT09PVR2LkpPSU58fGU9PT1Udi5SRUpPSU4/bnVsbDooYXdhaXQgYSgpLGF3YWl0IHRoaXMucmVxdWVzdChlLHQpKX1pZihkLmlzU3VjY2VzcylyZXR1cm4gZC5tZXNzYWdlO2NvbnN0IGw9TnVtYmVyKGQubWVzc2FnZS5lcnJvcl9jb2RlfHxkLm1lc3NhZ2UuY29kZSksaD1VSShsKSx1PW5ldyB4dih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiXCIuY29uY2F0KGguZGVzYyxcIjogXCIpLmNvbmNhdChkLm1lc3NhZ2UuZXJyb3Jfc3RyKSx7Y29kZTpsLGRhdGE6ZC5tZXNzYWdlfSk7cmV0dXJuXCJzdWNjZXNzXCI9PT1oLmFjdGlvbj9kLm1lc3NhZ2U6KEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCxcIl0gdW5leHBlY3RlZCByZXNwb25zZSBmcm9tIHR5cGUgXCIpLmNvbmNhdChlLFwiLCBlcnJvcl9jb2RlOiBcIikuY29uY2F0KGwsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoaC5kZXNjLFwiLCBhY3Rpb246IFwiKS5jb25jYXQoaC5hY3Rpb24pKSxsPT09bXYuRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSUz9lPT09VHYuSk9JTnx8ZT09PVR2LlJFSk9JTj8odGhpcy5pbml0RXJyb3I9dSx0aGlzLmNsb3NlKCksdS50aHJvdygpKTp1LnRocm93KCk6XCJmYWlsZWRcIj09PWguYWN0aW9uP3UudGhyb3coKTpcInF1aXRcIj09PWguYWN0aW9uPyh0aGlzLmluaXRFcnJvcj11LHRoaXMuY2xvc2UoKSx1LnRocm93KCkpOihsPT09bXYuRVJSX0pPSU5fQllfTVVMVElfSVA/KHRoaXMubXVsdGlJcE9wdGlvbj1kLm1lc3NhZ2Uub3B0aW9uLEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGRldGVjdCBtdWx0aSBpcCwgcmVjb3ZlclwiKSksdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsbFQuTVVMVElfSVApKTp0aGlzLnJlY29ubmVjdChoLmFjdGlvbixsVC5TRVJWRVJfRVJST1IpLGU9PT1Udi5KT0lOfHxlPT09VHYuUkVKT0lOP251bGw6YXdhaXQgdGhpcy5yZXF1ZXN0KGUsdCkpKX13YWl0TWVzc2FnZShlLHQpe3JldHVybiBuZXcgdGcoKGk9Pntjb25zdCBuPXI9PnsoIXR8fHQocikpJiYodGhpcy5vZmYoZSxuKSxpKHIpKX07dGhpcy5vbihlLG4pfSkpfXVwbG9hZChlLHQpe2NvbnN0IGk9e190eXBlOmUsX21lc3NhZ2U6dH07dHJ5e3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpfWNhdGNoKGUpe2NvbnN0IHQ9a0MoXCJNQVhfVVBMT0FEX0NBQ0hFXCIpfHw1MDt0aGlzLnVwbG9hZENhY2hlLnB1c2goaSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+dCYmdGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKSx0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD4wJiYhdGhpcy51cGxvYWRDYWNoZUludGVydmFsJiYodGhpcy51cGxvYWRDYWNoZUludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PWZ2LkNPTk5FQ1RFRClyZXR1cm47Y29uc3QgZT10aGlzLnVwbG9hZENhY2hlLnNwbGljZSgwLDEpWzBdOzA9PT10aGlzLnVwbG9hZENhY2hlLmxlbmd0aCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCksdGhpcy51cGxvYWRDYWNoZUludGVydmFsPXZvaWQgMCksdGhpcy51cGxvYWQoZS5fdHlwZSxlLl9tZXNzYWdlKX0pLGtDKFwiVVBMT0FEX0NBQ0hFX0lOVEVSVkFMXCIpfHwyZTMpKX19c2VuZChlLHQpe2NvbnN0IGk9e190eXBlOmUsX21lc3NhZ2U6dH07dGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoaSl9aW5pdChlLHQpe3JldHVybiB0aGlzLmluaXRFcnJvcj12b2lkIDAsdGhpcy5tdWx0aUlwT3B0aW9uPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5vcGVuQ29ubmVjdGlvblRpbWU9dm9pZCAwLG5ldyB0ZygoKHQsaSk9Pnt0aGlzLm9uY2UoZ3YuV1NfQ09OTkVDVEVELCgoKT0+dCh0aGlzLmpvaW5SZXNwb25zZSkpKSx0aGlzLm9uY2UoZ3YuV1NfQ0xPU0VELCgoKT0+aSh0aGlzLmluaXRFcnJvcnx8bmV3IHh2KHhnLldTX0FCT1JUKSkpKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DT05ORUNUSU5HLHRoaXMud2Vic29ja2V0LmluaXQoZSkuY2F0Y2goaSksdGhpcy53c0luZmxhdGVEYXRhVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyKSx0aGlzLndzSW5mbGF0ZURhdGFUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5oYW5kbGVXc0luZmxhdGVEYXRhKCl9KSwyZTQpfSkpfWNsb3NlKGUpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyJiYodGhpcy5oYW5kbGVXc0luZmxhdGVEYXRhKCksd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy53c0luZmxhdGVEYXRhVGltZXIpLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyPXZvaWQgMCksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1lfHxjVC5MRUFWRSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DTE9TRUQsS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFwiKStcIndpbGwgY2xvc2Ugd2Vic29ja2V0IGluIHNpZ25hbFwiKSx0aGlzLndlYnNvY2tldC5jbG9zZSgpLGU9PT1jVC5GQUxMQkFDSyYmKHRoaXMud2Vic29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMud2Vic29ja2V0PW5ldyB6SShcImdhdGV3YXktXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLHRoaXMuc3BlYy5yZXRyeUNvbmZpZywhMCxrQyhcIkpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU5cIiksa0MoXCJKT0lOX0dBVEVXQVlfVVNFXzQ0M1BPUlRfT05MWVwiKSx0aGlzLnN0b3JlKSx0aGlzLmhhbmRsZVdlYnNvY2tldEV2ZW50cygpKX1hc3luYyBqb2luKCl7aWYoIXRoaXMuam9pblJlc3BvbnNlKXt0aGlzLmVtaXQoZ3YuQUJPUlRfUDJQX0VYRUNVVElPTik7Y29uc3QgZT1hd2FpdCBmVCh0aGlzLGd2LlJFUVVFU1RfSk9JTl9JTkZPKSx0PWF3YWl0IHRoaXMucmVxdWVzdChUdi5KT0lOLGUpO2lmKCF0KXJldHVybiB0aGlzLmVtaXQoZ3YuUkVQT1JUX0pPSU5fR0FURVdBWSx0SS5USU1FT1VULHRoaXMudXJsfHxcIlwiKSwhMTt0aGlzLmpvaW5SZXNwb25zZT10LHRoaXMuZW1pdChndi5KT0lOX1JFU1BPTlNFLHRoaXMuam9pblJlc3BvbnNlKSx0aGlzLnJlY29ubmVjdFRva2VuPXRoaXMuam9pblJlc3BvbnNlLnJlam9pbl90b2tlbn1yZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGU9ZnYuQ09OTkVDVEVELHRoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuaGFuZGxlUGluZ1BvbmcuYmluZCh0aGlzKSwzZTMpLCEwfWFzeW5jIHJlam9pbigpe2lmKCF0aGlzLnJlY29ubmVjdFRva2VuKXRocm93IG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCByZWpvaW4sIG5vIHJlam9pbiB0b2tlblwiKTtjb25zdCBlPVNUKHRoaXMsZ3YuUkVRVUVTVF9SRUpPSU5fSU5GTyk7ZS50b2tlbj10aGlzLnJlY29ubmVjdFRva2VuO2NvbnN0IHQ9YXdhaXQgdGhpcy5yZXF1ZXN0KFR2LlJFSk9JTixlKTtyZXR1cm4hIXQmJih0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DT05ORUNURUQsdGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5oYW5kbGVQaW5nUG9uZy5iaW5kKHRoaXMpLDNlMyksdC5wZWVycyYmdC5wZWVycy5mb3JFYWNoKChlPT57dGhpcy5lbWl0KFJ2Lk9OX1VTRVJfT05MSU5FLHt1aWQ6ZS51aWR9KSxlLmF1ZGlvJiZ0aGlzLmVtaXQoUnYuT05fQUREX0FVRElPX1NUUkVBTSx7dWlkOmUudWlkLHVpbnRfaWQ6ZS51aW50X2lkLGF1ZGlvOiEwLHNzcmNJZDplLmF1ZGlvX3NzcmN9KSxlLnZpZGVvJiZ0aGlzLmVtaXQoUnYuT05fQUREX1ZJREVPX1NUUkVBTSx7dWlkOmUudWlkLHVpbnRfaWQ6ZS51aW50X2lkLHZpZGVvOiEwLHNzcmNJZDplLnZpZGVvX3NzcmN9KSxlLmF1ZGlvX211dGU/dGhpcy5lbWl0KFJ2Lk1VVEVfQVVESU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChSdi5VTk1VVEVfQVVESU8se3VpZDplLnVpZH0pLGUudmlkZW9fbXV0ZT90aGlzLmVtaXQoUnYuTVVURV9WSURFTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KFJ2LlVOTVVURV9WSURFTyx7dWlkOmUudWlkfSksZS5hdWRpb19lbmFibGVfbG9jYWw/dGhpcy5lbWl0KFJ2LkVOQUJMRV9MT0NBTF9BVURJTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KFJ2LkRJU0FCTEVfTE9DQUxfQVVESU8se3VpZDplLnVpZH0pLGUudmlkZW9fZW5hYmxlX2xvY2FsP3RoaXMuZW1pdChSdi5FTkFCTEVfTE9DQUxfVklERU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChSdi5ESVNBQkxFX0xPQ0FMX1ZJREVPLHt1aWQ6ZS51aWR9KSxlLmF1ZGlvfHxlLnZpZGVvfHx0aGlzLmVtaXQoUnYuT05fUkVNT1ZFX1NUUkVBTSx7dWlkOmUudWlkLHVpbnRfaWQ6ZS51aW50X2lkfSl9KSksITApfXJlY29ubmVjdChlLHQpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMud2Vic29ja2V0LnJlY29ubmVjdChlLHQpfWhhbmRsZU5vdGlmaWNhdGlvbihlKXtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVjZWl2ZSBub3RpZmljYXRpb246IFwiKSxlKTtjb25zdCB0PVVJKGUuY29kZSk7aWYoXCJzdWNjZXNzXCIhPT10LmFjdGlvbil7aWYoXCJmYWlsZWRcIiE9PXQuYWN0aW9uKXJldHVyblwicXVpdFwiPT09dC5hY3Rpb24/KFwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIj09PXQuZGVzYyYmdGhpcy5jbG9zZShjVC5VSURfQkFOTkVEKSx2b2lkIHRoaXMuY2xvc2UoKSk6dm9pZCB0aGlzLnJlY29ubmVjdCh0LmFjdGlvbixsVC5TRVJWRVJfRVJST1IpO0tDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBpZ25vcmUgZXJyb3I6IFwiKSx0LmRlc2MpfX1oYW5kbGVQaW5nUG9uZygpe2lmKCF0aGlzLndlYnNvY2tldHx8XCJjb25uZWN0ZWRcIiE9PXRoaXMud2Vic29ja2V0LnN0YXRlKXJldHVybjt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PjAmJnRoaXMucnR0Um9sbGluZy5hZGQoM2UzKSx0aGlzLnBpbmdwb25nVGltZW91dENvdW50Kz0xO2NvbnN0IGU9a0MoXCJQSU5HX1BPTkdfVElNRV9PVVRcIiksdD1EYXRlLm5vdygpO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+PWUmJihLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBQSU5HLVBPTkcgVGltZW91dC4gTGFzdCBTb2NrZXQgTWVzc2FnZTogXCIpLmNvbmNhdCh0LXRoaXMubGFzdE1zZ1RpbWUsXCJtc1wiKSksdC10aGlzLmxhc3RNc2dUaW1lPmtDKFwiV0VCU09DS0VUX1RJTUVPVVRfTUlOXCIpKT90aGlzLnJlY29ubmVjdChcInJldHJ5XCIsbFQuVElNRU9VVCk6dGhpcy5yZXF1ZXN0KFR2LlBJTkcsdm9pZCAwLCEwKS50aGVuKCgoKT0+e3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MDtjb25zdCBlPURhdGUubm93KCktdDt0aGlzLnJ0dFJvbGxpbmcuYWRkKGUpLGtDKFwiUkVQT1JUX1NUQVRTXCIpJiZ0aGlzLnNlbmQoVHYuUElOR19CQUNLLHtwaW5ncG9uZ0VsYXBzZTplfSl9KSkuY2F0Y2goKGU9Pnt9KSl9aGFuZGxlV3NJbmZsYXRlRGF0YSgpe2NvbnN0e3dzSW5mbGF0ZUxlbmd0aDplLHdzRGVmbGF0ZUxlbmd0aDp0fT10aGlzLndlYnNvY2tldC5nZXRXc0luZmxhdGVEYXRhKCk7MCE9PWUmJjAhPT10JiZ0aGlzLnVwbG9hZChTdi5XU19JTkZMQVRFX0RBVEFfTEVOR1RILHt3c19kZWZsYXRlX2xlbmd0aDp0LHdzX2luZmxhdGVfbGVuZ3RoOmV9KX1oYW5kbGVXZWJzb2NrZXRFdmVudHMoKXt0aGlzLndlYnNvY2tldC5vbihJdi5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILChlPT57dGhpcy5lbWl0KGd2LldTX1JFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZSl9KSksdGhpcy53ZWJzb2NrZXQub24oSXYuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLChlPT57dGhpcy5lbWl0KGd2LldTX1JFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTixlKX0pKSx0aGlzLndlYnNvY2tldC5vbihJdi5PTl9NRVNTQUdFLHRoaXMub25XZWJzb2NrZXRNZXNzYWdlKSx0aGlzLndlYnNvY2tldC5vbihJdi5DTE9TRUQsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9ZnYuQ0xPU0VEfSkpLHRoaXMud2Vic29ja2V0Lm9uKEl2LkZBSUxFRCwoKCk9Pnt0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb249Y1QuTkVUV09SS19FUlJPUix0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DTE9TRUR9KSksdGhpcy53ZWJzb2NrZXQub24oSXYuUkVDT05ORUNUSU5HLChlPT57dGhpcy5fd2Vic29ja2V0UmVjb25uZWN0UmVhc29uPWUsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMuY29ubmVjdGlvblN0YXRlPT09ZnYuQ09OTkVDVEVEP3RoaXMuY29ubmVjdGlvblN0YXRlPWZ2LlJFQ09OTkVDVElORzp0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DT05ORUNUSU5HfSkpLHRoaXMud2Vic29ja2V0Lm9uKEl2LldJTExfUkVDT05ORUNULCgoZSx0LGkpPT57Y29uc3Qgbj1TVCh0aGlzLGd2LklTX1AyUF9ESVNDT05ORUNURUQpLHI9bnx8XCJyZXRyeVwiIT09ZTtuJiZcInJldHJ5XCI9PT1lJiYoS0MuZGVidWcoXCJcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIiByZWNvbm5lY3QgbW9kZSBpcyByZXRyeSwgYnV0IHAycCBsb3N0LCBjaGFuZ2UgdG8gdHJ5TmV4dFwiKSksZT1cInRyeU5leHRcIix0PXRJLlAyUF9ESVNDT05ORUNURUQpLHImJihLQy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHdpbGwgcmVuZXdTZXNzaW9uLCByZWNvbm5lY3QgbW9kZTogXCIpLmNvbmNhdChlKSksdGhpcy5lbWl0KGd2LlJFUE9SVF9KT0lOX0dBVEVXQVksdHx8dEkuVU5LTk9XTl9SRUFTT04sdGhpcy51cmx8fFwiXCIpLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuZW1pdChndi5ORUVEX1JFTkVXX1NFU1NJT04pLHRoaXMuZW1pdChndi5ESVNDT05ORUNUX1AyUCkpLGkoZSl9KSksdGhpcy53ZWJzb2NrZXQub24oSXYuQ09OTkVDVEVELCgoKT0+e3RoaXMub3BlbkNvbm5lY3Rpb25UaW1lPURhdGUubm93KCksdGhpcy5yZWNvbm5lY3RUb2tlbj90aGlzLnJlam9pbigpLmNhdGNoKChlPT57S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVqb2luIGZhaWxlZCBcIikuY29uY2F0KGUpKSx0aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixsVC5TRVJWRVJfRVJST1IpfSkpOnRoaXMuam9pbigpLmNhdGNoKChlPT57aWYodGhpcy5lbWl0KGd2LlJFUE9SVF9KT0lOX0dBVEVXQVksZS5tZXNzYWdlfHxlLmNvZGV8fHRJLlVOS05PV05fUkVBU09OLHRoaXMudXJsfHxcIlwiKSxlIGluc3RhbmNlb2YgeHYmJmUuY29kZT09PXhnLlVORVhQRUNURURfUkVTUE9OU0UmJmUuZGF0YS5jb2RlPT09bXYuRVJSX05PX0FVVEhPUklaRUQpcmV0dXJuIEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY29ubmVjdCBubyBhdXRob3JpemVkLCByZWNvdmVyXCIpKSx2b2lkIHRoaXMucmVjb25uZWN0KFwicmVjb3ZlclwiLGxULlNFUlZFUl9FUlJPUik7S0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGpvaW4gZ2F0ZXdheSByZXF1ZXN0IGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLHRoaXMuc3BlYy5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U/dGhpcy5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIsbFQuU0VSVkVSX0VSUk9SKToodGhpcy5pbml0RXJyb3I9ZSx0aGlzLmNsb3NlKCkpfSkpfSkpLHRoaXMud2Vic29ja2V0Lm9uKEl2LlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57ZlQodGhpcyxndi5SRVFVRVNUX1JFQ09WRVIsdGhpcy5tdWx0aUlwT3B0aW9uKS50aGVuKGUpLmNhdGNoKHQpfSkpLHRoaXMud2Vic29ja2V0Lm9uKEl2Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFLCgoKT0+e3RoaXMuZW1pdChSdi5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSl9KSl9fXZhciBaST1cIlxcdFxcblxcdlxcZlxcciDCoOGagOKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcdTIwMjhcXHUyMDI5XFx1ZmVmZlwiLCRJPWV0LGV5PWdyLHR5PVpJLGl5PV9lKFwiXCIucmVwbGFjZSksbnk9UmVnRXhwKFwiXltcIit0eStcIl0rXCIpLHJ5PVJlZ0V4cChcIihefFteXCIrdHkrXCJdKVtcIit0eStcIl0rJFwiKSxzeT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9ZXkoJEkodCkpO3JldHVybiAxJmUmJihpPWl5KGksbnksXCJcIikpLDImZSYmKGk9aXkoaSxyeSxcIiQxXCIpKSxpfX0sb3k9e3N0YXJ0OnN5KDEpLGVuZDpzeSgyKSx0cmltOnN5KDMpfSxheT1KZC5QUk9QRVIsY3k9Y2UsZHk9WkksbHk9b3kudHJpbTtrbih7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOmZ1bmN0aW9uKGUpe3JldHVybiBjeSgoZnVuY3Rpb24oKXtyZXR1cm4hIWR5W2VdKCl8fFwi4oCLwoXhoI5cIiE9PVwi4oCLwoXhoI5cIltlXSgpfHxheSYmZHlbZV0ubmFtZSE9PWV9KSl9KFwidHJpbVwiKX0se3RyaW06ZnVuY3Rpb24oKXtyZXR1cm4gbHkodGhpcyl9fSk7dmFyIGh5LHV5LHB5PWVyKFwiU3RyaW5nXCIpLnRyaW0sX3k9RWUsRXk9cHksbXk9U3RyaW5nLnByb3RvdHlwZSxmeT1KKChmdW5jdGlvbihlKXt2YXIgdD1lLnRyaW07cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fGU9PT1teXx8X3kobXksZSkmJnQ9PT1teS50cmltP0V5OnR9KSk7ZnVuY3Rpb24gZ3koZSx0LGkpe3JldHVybntzYW1wbGVSYXRlOmUsc3RlcmVvOnQsYml0cmF0ZTppfX1mdW5jdGlvbiBUeShlLHQsaSxuLHIpe3JldHVybnt3aWR0aDplLGhlaWdodDp0LGZyYW1lUmF0ZTppLGJpdHJhdGVNaW46bixiaXRyYXRlTWF4OnJ9fWZ1bmN0aW9uIFN5KGUsdCxpLG4scil7cmV0dXJue3dpZHRoOnttYXg6ZX0saGVpZ2h0OnttYXg6dH0sZnJhbWVSYXRlOmksYml0cmF0ZU1pbjpuLGJpdHJhdGVNYXg6cn19ZnVuY3Rpb24gUnkoZSx0KXtyZXR1cm57bnVtU3BhdGlhbExheWVyczplLG51bVRlbXBvcmFsTGF5ZXJzOnR9fSFmdW5jdGlvbihlKXtlW2UuQ0hPT1NFX1NFUlZFUj0xMV09XCJDSE9PU0VfU0VSVkVSXCIsZVtlLkNMT1VEX1BST1hZPTE4XT1cIkNMT1VEX1BST1hZXCIsZVtlLkNMT1VEX1BST1hZXzU9MjBdPVwiQ0xPVURfUFJPWFlfNVwiLGVbZS5DTE9VRF9QUk9YWV9GQUxMQkFDSz0yNl09XCJDTE9VRF9QUk9YWV9GQUxMQkFDS1wifShoeXx8KGh5PXt9KSksZnVuY3Rpb24oZSl7ZS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX1NUQVJUPVwiaW9zMTVfMTYtaW50ZXJydXB0aW9uLXN0YXJ0XCIsZS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORD1cImlvczE1XzE2LWludGVycnVwdGlvbi1lbmRcIixlLklPU19JTlRFUlJVUFRJT05fU1RBUlQ9XCJpb3MtaW50ZXJydXB0aW9uLXN0YXJ0XCIsZS5JT1NfSU5URVJSVVBUSU9OX0VORD1cImlvcy1pbnRlcnJ1cHRpb24tZW5kXCIsZS5TVEFURV9DSEFOR0U9XCJzdGF0ZS1jaGFuZ2VcIn0odXl8fCh1eT17fSkpO2NvbnN0IEN5PXtcIjkwcFwiOlR5KDE2MCw5MCksXCI5MHBfMVwiOlR5KDE2MCw5MCksXCIxMjBwXCI6VHkoMTYwLDEyMCwxNSwzMCw2NSksXCIxMjBwXzFcIjpUeSgxNjAsMTIwLDE1LDMwLDY1KSxcIjEyMHBfM1wiOlR5KDEyMCwxMjAsMTUsMzAsNTApLFwiMTIwcF80XCI6VHkoMjEyLDEyMCksXCIxODBwXCI6VHkoMzIwLDE4MCwxNSwzMCwxNDApLFwiMTgwcF8xXCI6VHkoMzIwLDE4MCwxNSwzMCwxNDApLFwiMTgwcF8zXCI6VHkoMTgwLDE4MCwxNSwzMCwxMDApLFwiMTgwcF80XCI6VHkoMjQwLDE4MCwxNSwzMCwxMjApLFwiMjQwcFwiOlR5KDMyMCwyNDAsMTUsNDAsMjAwKSxcIjI0MHBfMVwiOlR5KDMyMCwyNDAsMTUsNDAsMjAwKSxcIjI0MHBfM1wiOlR5KDI0MCwyNDAsMTUsNDAsMTQwKSxcIjI0MHBfNFwiOlR5KDQyNCwyNDAsMTUsNDAsMjIwKSxcIjM2MHBcIjpUeSg2NDAsMzYwLDE1LDgwLDQwMCksXCIzNjBwXzFcIjpUeSg2NDAsMzYwLDE1LDgwLDQwMCksXCIzNjBwXzNcIjpUeSgzNjAsMzYwLDE1LDgwLDI2MCksXCIzNjBwXzRcIjpUeSg2NDAsMzYwLDMwLDgwLDYwMCksXCIzNjBwXzZcIjpUeSgzNjAsMzYwLDMwLDgwLDQwMCksXCIzNjBwXzdcIjpUeSg0ODAsMzYwLDE1LDgwLDMyMCksXCIzNjBwXzhcIjpUeSg0ODAsMzYwLDMwLDgwLDQ5MCksXCIzNjBwXzlcIjpUeSg2NDAsMzYwLDE1LDgwLDgwMCksXCIzNjBwXzEwXCI6VHkoNjQwLDM2MCwyNCw4MCw4MDApLFwiMzYwcF8xMVwiOlR5KDY0MCwzNjAsMjQsODAsMWUzKSxcIjQ4MHBcIjpUeSg2NDAsNDgwLDE1LDEwMCw1MDApLFwiNDgwcF8xXCI6VHkoNjQwLDQ4MCwxNSwxMDAsNTAwKSxcIjQ4MHBfMlwiOlR5KDY0MCw0ODAsMzAsMTAwLDFlMyksXCI0ODBwXzNcIjpUeSg0ODAsNDgwLDE1LDEwMCw0MDApLFwiNDgwcF80XCI6VHkoNjQwLDQ4MCwzMCwxMDAsNzUwKSxcIjQ4MHBfNlwiOlR5KDQ4MCw0ODAsMzAsMTAwLDYwMCksXCI0ODBwXzhcIjpUeSg4NDgsNDgwLDE1LDEwMCw2MTApLFwiNDgwcF85XCI6VHkoODQ4LDQ4MCwzMCwxMDAsOTMwKSxcIjQ4MHBfMTBcIjpUeSg2NDAsNDgwLDEwLDEwMCw0MDApLFwiNzIwcFwiOlR5KDEyODAsNzIwLDE1LDEyMCwxMTMwKSxcIjcyMHBfYXV0b1wiOlR5KDEyODAsNzIwLDMwLDkwMCwzZTMpLFwiNzIwcF8xXCI6VHkoMTI4MCw3MjAsMTUsMTIwLDExMzApLFwiNzIwcF8yXCI6VHkoMTI4MCw3MjAsMzAsMTIwLDJlMyksXCI3MjBwXzNcIjpUeSgxMjgwLDcyMCwzMCwxMjAsMTcxMCksXCI3MjBwXzVcIjpUeSg5NjAsNzIwLDE1LDEyMCw5MTApLFwiNzIwcF82XCI6VHkoOTYwLDcyMCwzMCwxMjAsMTM4MCksXCIxMDgwcFwiOlR5KDE5MjAsMTA4MCwxNSwxMjAsMjA4MCksXCIxMDgwcF8xXCI6VHkoMTkyMCwxMDgwLDE1LDEyMCwyMDgwKSxcIjEwODBwXzJcIjpUeSgxOTIwLDEwODAsMzAsMTIwLDNlMyksXCIxMDgwcF8zXCI6VHkoMTkyMCwxMDgwLDMwLDEyMCwzMTUwKSxcIjEwODBwXzVcIjpUeSgxOTIwLDEwODAsNjAsMTIwLDQ3ODApLFwiMTQ0MHBcIjpUeSgyNTYwLDE0NDAsMzAsMTIwLDQ4NTApLFwiMTQ0MHBfMVwiOlR5KDI1NjAsMTQ0MCwzMCwxMjAsNDg1MCksXCIxNDQwcF8yXCI6VHkoMjU2MCwxNDQwLDYwLDEyMCw3MzUwKSxcIjRrXCI6VHkoMzg0MCwyMTYwLDMwLDEyMCw4OTEwKSxcIjRrXzFcIjpUeSgzODQwLDIxNjAsMzAsMTIwLDg5MTApLFwiNGtfM1wiOlR5KDM4NDAsMjE2MCw2MCwxMjAsMTM1MDApfSx2eT1be3NjYWxlUmVzb2x1dGlvbkRvd25CeToyLHdpZHRoOjEyODAsaGVpZ2h0OjcyMCxmcmFtZVJhdGU6MzAsYml0cmF0ZU1pbjozMDAsYml0cmF0ZU1heDo5MDB9LHtzY2FsZVJlc29sdXRpb25Eb3duQnk6MS4zMzMzMzMsd2lkdGg6MTI4MCxoZWlnaHQ6NzIwLGZyYW1lUmF0ZTozMCxiaXRyYXRlTWluOjYwMCxiaXRyYXRlTWF4OjJlM30se3NjYWxlUmVzb2x1dGlvbkRvd25CeToxLHdpZHRoOjEyODAsaGVpZ2h0OjcyMCxmcmFtZVJhdGU6MzAsYml0cmF0ZU1pbjo5MDAsYml0cmF0ZU1heDozZTN9XSxJeT17XCI0ODBwXCI6U3koNjQwLDQ4MCw1KSxcIjQ4MHBfMVwiOlN5KDY0MCw0ODAsNSksXCI0ODBwXzJcIjpTeSg2NDAsNDgwLDMwKSxcIjQ4MHBfM1wiOlN5KDY0MCw0ODAsMTUpLFwiNzIwcFwiOlN5KDEyODAsNzIwLDUpLFwiNzIwcF9hdXRvXCI6VHkoMTI4MCw3MjAsMzAsOTAwLDNlMyksXCI3MjBwXzFcIjpTeSgxMjgwLDcyMCw1KSxcIjcyMHBfMlwiOlN5KDEyODAsNzIwLDMwKSxcIjcyMHBfM1wiOlN5KDEyODAsNzIwLDE1KSxcIjEwODBwXCI6U3koMTkyMCwxMDgwLDUpLFwiMTA4MHBfMVwiOlN5KDE5MjAsMTA4MCw1KSxcIjEwODBwXzJcIjpTeSgxOTIwLDEwODAsMzApLFwiMTA4MHBfM1wiOlN5KDE5MjAsMTA4MCwxNSl9LHl5PXtcIjFTTDFUTFwiOlJ5KDEsMSksXCIzU0wzVExcIjpSeSgzLDMpLFwiMlNMM1RMXCI6UnkoMiwzKX07ZnVuY3Rpb24gQXkoZSl7cmV0dXJuIGV8fChlPVwiNDgwcF8xXCIpLFwic3RyaW5nXCI9PXR5cGVvZiBlP09iamVjdC5hc3NpZ24oe30sQ3lbZV0pOmV9ZnVuY3Rpb24gYnkoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/T2JqZWN0LmFzc2lnbih7fSxJeVtlXSk6ZX1mdW5jdGlvbiB3eShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKHt9LHl5W2VdKTplfWNvbnN0IE95PXtzcGVlY2hfbG93X3F1YWxpdHk6Z3koMTZlMywhMSksc3BlZWNoX3N0YW5kYXJkOmd5KDMyZTMsITEsMTgpLG11c2ljX3N0YW5kYXJkOmd5KDQ4ZTMsITEpLHN0YW5kYXJkX3N0ZXJlbzpneSg0OGUzLCEwLDU2KSxoaWdoX3F1YWxpdHk6Z3koNDhlMywhMSwxMjgpLGhpZ2hfcXVhbGl0eV9zdGVyZW86Z3koNDhlMywhMCwxOTIpfTtmdW5jdGlvbiBOeShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKHt9LE95W2VdKTplfWNvbnN0IER5PVtdO2Z1bmN0aW9uIFB5KGUpe3JldHVybiBCZyhlLFwibWVkaWFTb3VyY2VcIixbXCJzY3JlZW5cIixcIndpbmRvd1wiLFwiYXBwbGljYXRpb25cIl0pLCEwfXZhciBMeSxreSxNeSxVeSx4eSxWeSxGeSxCeSxqeSxHeTshZnVuY3Rpb24oZSl7ZS5ORUVEX1JFTkVHT1RJQVRFPVwiQG5lZWRfcmVuZWdvdGlhdGVcIixlLk5FRURfUkVQTEFDRV9UUkFDSz1cIkBuZWVkX3JlcGxhY2VfdHJhY2tcIixlLk5FRURfQ0xPU0U9XCJAbmVlZF9jbG9zZVwiLGUuTkVFRF9FTkFCTEVfVFJBQ0s9XCJAbmVlZF9lbmFibGVfdHJhY2tcIixlLk5FRURfRElTQUJMRV9UUkFDSz1cIkBuZWVkX2Rpc2FibGVfdHJhY2tcIixlLk5FRURfU0VTU0lPTl9JRD1cIkBuZWVkX3NpZFwiLGUuU0VUX09QVElNSVpBVElPTl9NT0RFPVwiQHNldF9vcHRpbWl6YXRpb25fbW9kZVwiLGUuR0VUX1NUQVRTPVwiQGdldF9zdGF0c1wiLGUuR0VUX1JUQ19TVEFUUz1cIkBnZXRfcnRjX3N0YXRzXCIsZS5HRVRfTE9XX1ZJREVPX1RSQUNLPVwiQGdldF9sb3dfdmlkZW9fdHJhY2tcIixlLk5FRURfUkVTRVRfUkVNT1RFX1NEUD1cIkBuZWVkX3Jlc2V0X3JlbW90ZV9zZHBcIixlLk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVI9XCJAbmVlZF91cGRhdGVfdmlkZW9fZW5jb2RlclwiLGUuTkVFRF9NVVRFX1RSQUNLPVwiQG5lZWRfbXV0ZV90cmFja1wiLGUuTkVFRF9VTk1VVEVfVFJBQ0s9XCJAbmVlZF91bm11dGVfdHJhY2tcIn0oTHl8fChMeT17fSkpLGZ1bmN0aW9uKGUpe2UuU0NSRUVOX1RSQUNLPVwic2NyZWVuX3RyYWNrXCIsZS5DVVNUT01fVFJBQ0s9XCJjdXN0b21lX3RyYWNrXCIsZS5MT1dfU1RSRUFNPVwibG93X3N0cmVhbVwifShreXx8KGt5PXt9KSksZnVuY3Rpb24oZSl7ZVtlLkhJR0hfU1RSRUFNPTBdPVwiSElHSF9TVFJFQU1cIixlW2UuTE9XX1NUUkVBTT0xXT1cIkxPV19TVFJFQU1cIn0oTXl8fChNeT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5ISUdIX1NUUkVBTT0wXT1cIkhJR0hfU1RSRUFNXCIsZVtlLkxPV19TVFJFQU09MV09XCJMT1dfU1RSRUFNXCJ9KFV5fHwoVXk9e30pKSxmdW5jdGlvbihlKXtlW2UuRElTQUJMRT0wXT1cIkRJU0FCTEVcIixlW2UuTE9XX1NUUkVBTT0xXT1cIkxPV19TVFJFQU1cIixlW2UuQVVESU9fT05MWT0yXT1cIkFVRElPX09OTFlcIn0oeHl8fCh4eT17fSkpLGZ1bmN0aW9uKGUpe2UuVFJBTlNDRUlWRVJfVVBEQVRFRD1cInRyYW5zY2VpdmVyLXVwZGF0ZWRcIn0oVnl8fChWeT17fSkpLGZ1bmN0aW9uKGUpe2UuU09VUkNFX1NUQVRFX0NIQU5HRT1cInNvdXJjZS1zdGF0ZS1jaGFuZ2VcIixlLlRSQUNLX0VOREVEPVwidHJhY2stZW5kZWRcIixlLkJFQVVUWV9FRkZFQ1RfT1ZFUkxPQUQ9XCJiZWF1dHktZWZmZWN0LW92ZXJsb2FkXCIsZS5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTPVwidmlkZW8tZWxlbWVudC12aXNpYmxlLXN0YXR1c1wiLGUuQ0xPU0VEPVwiY2xvc2VkXCJ9KEZ5fHwoRnk9e30pKSxmdW5jdGlvbihlKXtlLkZJUlNUX0ZSQU1FX0RFQ09ERUQ9XCJmaXJzdC1mcmFtZS1kZWNvZGVkXCIsZS5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTPVwidmlkZW8tZWxlbWVudC12aXNpYmxlLXN0YXR1c1wifShCeXx8KEJ5PXt9KSksZnVuY3Rpb24oZSl7ZS5BVURJT19TT1VSQ0VfU1RBVEVfQ0hBTkdFPVwiYXVkaW9fc291cmNlX3N0YXRlX2NoYW5nZVwiLGUuUkVDRUlWRV9UUkFDS19CVUZGRVI9XCJyZWNlaXZlX3RyYWNrX2J1ZmZlclwiLGUuT05fQVVESU9fQlVGRkVSPVwib25fYXVkaW9fYnVmZmVyXCIsZS5VUERBVEVfU09VUkNFPVwidXBkYXRlX3NvdXJjZVwifShqeXx8KGp5PXt9KSksZnVuY3Rpb24oZSl7ZS5VUERBVEVfVFJBQ0tfU09VUkNFPVwidXBkYXRlLXRyYWNrLXNvdXJjZVwifShHeXx8KEd5PXt9KSk7Y29uc3QgV3k9e3NlbmRWb2x1bWVMZXZlbDowLHNlbmRCaXRyYXRlOjAsc2VuZEJ5dGVzOjAsc2VuZFBhY2tldHM6MCxzZW5kUGFja2V0c0xvc3Q6MCxzZW5kSml0dGVyTXM6MCxzZW5kUnR0TXM6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MH0sSHk9e3NlbmRCeXRlczowLHNlbmRCaXRyYXRlOjAsc2VuZFBhY2tldHM6MCxzZW5kUGFja2V0c0xvc3Q6MCxzZW5kSml0dGVyTXM6MCxzZW5kUnR0TXM6MCxzZW5kUmVzb2x1dGlvbkhlaWdodDowLHNlbmRSZXNvbHV0aW9uV2lkdGg6MCxjYXB0dXJlUmVzb2x1dGlvbkhlaWdodDowLGNhcHR1cmVSZXNvbHV0aW9uV2lkdGg6MCx0YXJnZXRTZW5kQml0cmF0ZTowLHRvdGFsRHVyYXRpb246MCx0b3RhbEZyZWV6ZVRpbWU6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MH0sS3k9e3RyYW5zcG9ydERlbGF5OjAsZW5kMkVuZERlbGF5OjAscmVjZWl2ZUJpdHJhdGU6MCxyZWNlaXZlTGV2ZWw6MCxyZWNlaXZlQnl0ZXM6MCxyZWNlaXZlRGVsYXk6MCxyZWNlaXZlUGFja2V0czowLHJlY2VpdmVQYWNrZXRzTG9zdDowLHRvdGFsRHVyYXRpb246MCx0b3RhbEZyZWV6ZVRpbWU6MCxmcmVlemVSYXRlOjAscGFja2V0TG9zc1JhdGU6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MCxwdWJsaXNoRHVyYXRpb246LTF9LFl5PXt1cGxpbmtOZXR3b3JrUXVhbGl0eTowLGRvd25saW5rTmV0d29ya1F1YWxpdHk6MH0scXk9e3RyYW5zcG9ydERlbGF5OjAsZW5kMkVuZERlbGF5OjAscmVjZWl2ZUJpdHJhdGU6MCxyZWNlaXZlQnl0ZXM6MCxyZWNlaXZlRGVsYXk6MCxyZWNlaXZlUGFja2V0czowLHJlY2VpdmVQYWNrZXRzTG9zdDowLHJlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0OjAscmVjZWl2ZVJlc29sdXRpb25XaWR0aDowLHRvdGFsRHVyYXRpb246MCx0b3RhbEZyZWV6ZVRpbWU6MCxmcmVlemVSYXRlOjAscGFja2V0TG9zc1JhdGU6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MCxwdWJsaXNoRHVyYXRpb246LTF9O3ZhciBKeSx6eSxYeSxReSxaeTshZnVuY3Rpb24oZSl7ZS5PTl9UUkFDSz1cIm9uX3RyYWNrXCIsZS5PTl9OT0RFPVwib25fbm9kZVwifShKeXx8KEp5PXt9KSksZnVuY3Rpb24oZSl7ZS5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUz1cInJlcXVlc3RfdXBkYXRlX2NvbnN0cmFpbnRzXCIsZS5SRVFVRVNUX0NPTlNUUkFJTlRTPVwicmVxdWVzdF9jb25zdHJhaW50c1wifSh6eXx8KHp5PXt9KSksZnVuY3Rpb24oZSl7ZS5JRExFPVwiSURMRVwiLGUuSU5JVElORz1cIklOSVRJTkdcIixlLklOSVRFTkQ9XCJJTklURU5EXCJ9KFh5fHwoWHk9e30pKSxmdW5jdGlvbihlKXtlLlNUQVRFX0NIQU5HRT1cInN0YXRlX2NoYW5nZVwiLGUuUkVDT1JESU5HX0RFVklDRV9DSEFOR0VEPVwicmVjb3JkaW5nRGV2aWNlQ2hhbmdlZFwiLGUuUExBWU9VVF9ERVZJQ0VfQ0hBTkdFRD1cInBsYXlvdXREZXZpY2VDaGFuZ2VkXCIsZS5DQU1FUkFfREVWSUNFX0NIQU5HRUQ9XCJjYW1lcmFEZXZpY2VDaGFuZ2VkXCJ9KFF5fHwoUXk9e30pKSxmdW5jdGlvbihlKXtlLk5PTkU9XCJub25lXCIsZS5JTklUPVwiaW5pdFwiLGUuQ0FOUExBWT1cImNhbnBsYXlcIixlLlBMQVlJTkc9XCJwbGF5aW5nXCIsZS5QQVVTRUQ9XCJwYXVzZWRcIixlLlNVU1BFTkQ9XCJzdXNwZW5kXCIsZS5TVEFMTEVEPVwic3RhbGxlZFwiLGUuV0FJVElORz1cIndhaXRpbmdcIixlLkVSUk9SPVwiZXJyb3JcIixlLkRFU1RST1lFRD1cImRlc3Ryb3llZFwiLGUuQUJPUlQ9XCJhYm9ydFwiLGUuRU5ERUQ9XCJlbmRlZFwiLGUuRU1QVElFRD1cImVtcHRpZWRcIixlLkxPQURFRERBVEE9XCJsb2FkZWRkYXRhXCJ9KFp5fHwoWnk9e30pKTtjb25zdCAkeT17dW5pbml0OjEwMCxub25lOjExMCxpbml0OjEyMCxsb2FkZWRkYXRhOjEzMCxjYW5wbGF5OjIwMCxwbGF5aW5nOjIxMCxwYXVzZWQ6MjIwLHN1c3BlbmQ6MzAwLHN0YWxsZWQ6MzEwLHdhaXRpbmc6MzIwLGVycm9yOjMzMCxkZXN0cm95ZWQ6MzQwLGFib3J0OjM1MCxlbmRlZDozNjAsZW1wdGllZDozNzB9O3ZhciBlQTshZnVuY3Rpb24oZSl7ZS5PUEVOPVwib3BlblwiLGUuTUVTU0FHRT1cIm1lc3NhZ2VcIixlLkNMT1NFPVwiY2xvc2VcIixlLkNMT1NJTkc9XCJjbG9zaW5nXCIsZS5FUlJPUj1cImVycm9yXCJ9KGVBfHwoZUE9e30pKTtjbGFzcyB0QSBleHRlbmRzIGlUe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxudSh0aGlzLFwiX0lEXCIsdm9pZCAwKSxudSh0aGlzLFwiX3J0cFRyYW5zY2VpdmVyXCIsdm9pZCAwKSxudSh0aGlzLFwiX2xvd1J0cFRyYW5zY2VpdmVyXCIsdm9pZCAwKSxudSh0aGlzLFwiX2hpbnRzXCIsW10pLG51KHRoaXMsXCJfaXNDbG9zZWRcIiwhMSksbnUodGhpcyxcIl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrXCIsdm9pZCAwKSxudSh0aGlzLFwiX21lZGlhU3RyZWFtVHJhY2tcIix2b2lkIDApLG51KHRoaXMsXCJfZXh0ZXJuYWxcIix7fSksdGhpcy5fSUQ9dHx8eFQoOCxcInRyYWNrLVwiKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLGZ1bmN0aW9uKGUpe1ByKER5KS5jYWxsKER5LGUpfHxEeS5wdXNoKGUpfSh0aGlzKX10b1N0cmluZygpe3JldHVybiB0aGlzLl9JRH1nZXRUcmFja0lkKCl7cmV0dXJuIHRoaXMuX0lEfWdldE1lZGlhU3RyZWFtVHJhY2soZSl7aWYoIWUpe2NvbnN0IGU9cnYucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6c1QuR0VUX01FRElBX1NUUkVBTV9UUkFDSyxvcHRpb25zOltdLHRhZzpvVC5UUkFDRVJ9KTt0aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiZcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5fbWVkaWFTdHJlYW1UcmFjay5sYWJlbD9lLm9uU3VjY2Vzcyh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLmxhYmVsKTplLm9uU3VjY2VzcyhcIlwiKX1yZXR1cm4gdGhpcy5fbWVkaWFTdHJlYW1UcmFja31nZXRSVENSdHBUcmFuc2NlaXZlcihlKXtyZXR1cm4gZT09PU15LkxPV19TVFJFQU0/dGhpcy5fbG93UnRwVHJhbnNjZWl2ZXI6dGhpcy5fcnRwVHJhbnNjZWl2ZXJ9Z2V0TWVkaWFTdHJlYW1UcmFja1NldHRpbmdzKCl7cmV0dXJuIHRoaXMuZ2V0TWVkaWFTdHJlYW1UcmFjayghMCkuZ2V0U2V0dGluZ3MoKX1jbG9zZSgpe3RoaXMuX2lzQ2xvc2VkPSEwLHRoaXMuX2xvd1J0cFRyYW5zY2VpdmVyPXZvaWQgMCx0aGlzLl9ydHBUcmFuc2NlaXZlcj12b2lkIDAsZnVuY3Rpb24oZSl7Y29uc3QgdD1EeS5pbmRleE9mKGUpOy0xIT09dCYmRHkuc3BsaWNlKHQsMSl9KHRoaXMpLHRoaXMuZW1pdChGeS5DTE9TRUQpfV91cGRhdGVSdHBUcmFuc2NlaXZlcihlLHQpe2lmKHQ9PT1NeS5MT1dfU1RSRUFNKXtpZih0aGlzLl9sb3dSdHBUcmFuc2NlaXZlcj09PWUpcmV0dXJuO3RoaXMuX2xvd1J0cFRyYW5zY2VpdmVyPWV9ZWxzZXtpZih0aGlzLl9ydHBUcmFuc2NlaXZlcj09PWUpcmV0dXJuO3RoaXMuX3J0cFRyYW5zY2VpdmVyPWV9dGhpcy5lbWl0KFZ5LlRSQU5TQ0VJVkVSX1VQREFURUQsZSx0KX19Y2xhc3MgaUEgZXh0ZW5kcyB0QXtnZXQgaXNFeHRlcm5hbFRyYWNrKCl7cmV0dXJuIHRoaXMuX2lzRXh0ZXJuYWxUcmFja31nZXQgbXV0ZWQoKXtyZXR1cm4gdGhpcy5fbXV0ZWR9Z2V0IGVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1nZXQgcHJvY2Vzc29yQ29udGV4dCgpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JDb250ZXh0fXNldCBwcm9jZXNzb3JDb250ZXh0KGUpe3RoaXMuX3Byb2Nlc3NvckNvbnRleHQ9ZX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksbnUodGhpcyxcIl9lbmFibGVkXCIsITApLG51KHRoaXMsXCJfbXV0ZWRcIiwhMSksbnUodGhpcyxcIl9pc0V4dGVybmFsVHJhY2tcIiwhMSksbnUodGhpcyxcIl9pc0Nsb3NlZFwiLCExKSxudSh0aGlzLFwiX2VuYWJsZWRNdXRleFwiLHZvaWQgMCksbnUodGhpcyxcInByb2Nlc3NvclwiLHZvaWQgMCksbnUodGhpcyxcIl9oYW5kbGVUcmFja0VuZGVkXCIsKCgpPT57dGhpcy5vblRyYWNrRW5kZWQoKX0pKSx0aGlzLl9lbmFibGVkTXV0ZXg9bmV3IFlUKFwiXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpKSksZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9oYW5kbGVUcmFja0VuZGVkKX1nZXRUcmFja0xhYmVsKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5sYWJlbCkmJnZvaWQgMCE9PWU/ZTpcIlwifWNsb3NlKCl7dGhpcy5faXNDbG9zZWR8fCh0aGlzLnN0b3AoKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9bnVsbCksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1udWxsLHRoaXMuX2VuYWJsZWRNdXRleD1udWxsLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gY2xvc2VcIikpLHRoaXMuZW1pdChMeS5ORUVEX0NMT1NFKSxzdXBlci5jbG9zZSgpKX1hc3luYyBfdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLHQpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07dGhpcy5faXNFeHRlcm5hbFRyYWNrPWksZSE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9oYW5kbGVUcmFja0VuZGVkKSx0JiZ0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSksZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9oYW5kbGVUcmFja0VuZGVkKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fbXV0ZWQmJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITEpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSxhd2FpdCBnVCh0aGlzLEx5Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSx0aGlzLnByb2Nlc3NvciYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSl9X2dldERlZmF1bHRQbGF5ZXJDb25maWcoKXtyZXR1cm57fX1vblRyYWNrRW5kZWQoKXtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyYWNrIGVuZGVkXCIpKSx0aGlzLnNhZmVFbWl0KEZ5LlRSQUNLX0VOREVEKX1zdGF0ZUNoZWNrKGUsdCl7aWYoS0MuZGVidWcoXCJjaGVjayB0cmFjayBzdGF0ZSwgW211dGVkOiBcIi5jb25jYXQodGhpcy5fbXV0ZWQsXCIsIGVuYWJsZWQ6IFwiKS5jb25jYXQodGhpcy5fZW5hYmxlZCxcIl0gdG8gW1wiKS5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0LFwiXVwiKSksRmcodCxlKSx0aGlzLl9lbmFibGVkJiZ0aGlzLl9tdXRlZCYmXCJlbmFibGVkXCI9PT1lJiYhMT09PXQpdGhyb3cgbmV3IFZnKHhnLlRSQUNLX1NUQVRFX1VOUkVBQ0hBQkxFLFwiY2Fubm90IHNldCBlbmFibGVkIHdoaWxlIHRoZSB0cmFjayBpcyBtdXRlZFwiKS5wcmludChcImVycm9yXCIsS0MpO2lmKCF0aGlzLl9lbmFibGVkJiYhdGhpcy5fbXV0ZWQmJlwibXV0ZWRcIj09PWUmJiEwPT09dCl0aHJvdyBuZXcgVmcoeGcuVFJBQ0tfU1RBVEVfVU5SRUFDSEFCTEUsXCJjYW5ub3Qgc2V0IG11dGVkIHdoaWxlIHRoZSB0cmFjayBpcyBkaXNhYmxlZFwiKS5wcmludChcImVycm9yXCIsS0MpfWdldFByb2Nlc3NvclN0YXRzKCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yQ29udGV4dC5nYXRoZXJTdGF0cygpfWdldFByb2Nlc3NvclVzYWdlKCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yQ29udGV4dC5nYXRoZXJVc2FnZSgpfX1mdW5jdGlvbiBuQShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9Y29uc3QgckE9d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtsZXQgc0E9bnVsbDtjb25zdCBvQT1uZXcgY2xhc3MgZXh0ZW5kcyBpVHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksbnUodGhpcyxcInByZXZTdGF0ZVwiLHZvaWQgMCksbnUodGhpcyxcImN1clN0YXRlXCIsdm9pZCAwKSxudSh0aGlzLFwiY3VycmVudFRpbWVcIix2b2lkIDApLG51KHRoaXMsXCJjdXJyZW50VGltZVN0dWNrQXRcIix2b2lkIDApLG51KHRoaXMsXCJpbnRlcnJ1cHREZXRlY3RvclRyYWNrXCIsdm9pZCAwKSxudSh0aGlzLFwib25Mb2NhbEF1ZGlvVHJhY2tNdXRlXCIsKCgpPT57S0MuaW5mbyhcImlvczE1LWludGVycnVwdGlvbi1zdGFydFwiKSx0aGlzLmVtaXQodXkuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9TVEFSVCl9KSksbnUodGhpcyxcIm9uTG9jYWxBdWRpb1RyYWNrVW5tdXRlXCIsKGFzeW5jKCk9PntLQy5pbmZvKFwiaW9zMTUtaW50ZXJydXB0aW9uLWVuZFwiKSxcInJ1bm5pbmdcIiE9PXRoaXMuY3VyU3RhdGV8fHRoaXMuZHVyaW5nSW50ZXJydXB0aW9uP0tDLmluZm8oXCJpb3MxNS1pbnRlcnJ1cHRpb24tZW5kLWNhbmNlbGVkXCIpOihzQSYmYXdhaXQgc0Euc3VzcGVuZCgpLHRoaXMuZW1pdCh1eS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCkpfSkpfWdldCBkdXJpbmdJbnRlcnJ1cHRpb24oKXtyZXR1cm5cInJ1bm5pbmdcIj09PXRoaXMucHJldlN0YXRlJiZcImludGVycnVwdGVkXCI9PT10aGlzLmN1clN0YXRlfWJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrKGUpe0tDLmRlYnVnKFwid2ViYXVkaW8gYmluZEludGVycnVwdERldGVjdG9yVHJhY2sgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpKSksdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrfHwodGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrPWUsdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrLm9ubXV0ZT10aGlzLm9uTG9jYWxBdWRpb1RyYWNrTXV0ZSx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2suX21lZGlhU3RyZWFtVHJhY2sub251bm11dGU9dGhpcy5vbkxvY2FsQXVkaW9UcmFja1VubXV0ZSl9dW5iaW5kSW50ZXJydXB0RGV0ZWN0b3JUcmFjayhlKXtLQy5kZWJ1ZyhcIndlYmF1ZGlvIHVuYmluZEludGVycnVwdERldGVjdG9yVHJhY2sgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpKSksdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrJiZ0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2s9PT1lJiYodGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrLm9ubXV0ZT1udWxsLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjay5vbnVubXV0ZT1udWxsKSx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2s9dm9pZCAwKX19O2Z1bmN0aW9uIGFBKCl7aWYoIXJBKXJldHVybiB2b2lkIEtDLmVycm9yKFwieW91ciBicm93c2VyIGlzIG5vdCBzdXBwb3J0IHdlYiBhdWRpb1wiKTtLQy5pbmZvKFwiY3JlYXRlIGF1ZGlvIGNvbnRleHRcIik7Y29uc3QgZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9uQShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpuQShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe30sa0MoXCJXRUJBVURJT19JTklUX09QVElPTlNcIikpO0tDLmRlYnVnKFwiYXVkaW8gY29udGV4dCBpbml0IG9wdGlvbjpcIixKU09OLnN0cmluZ2lmeShlKSksc0E9bmV3IHJBKGUpLG9BLmN1clN0YXRlPXNBLnN0YXRlLHNBLm9uc3RhdGVjaGFuZ2U9KCk9PntvQS5wcmV2U3RhdGU9b0EuY3VyU3RhdGUsb0EuY3VyU3RhdGU9c0E/c0Euc3RhdGU6dm9pZCAwO2NvbnN0e3ByZXZTdGF0ZTplLGN1clN0YXRlOnR9PW9BLGk9XCJydW5uaW5nXCI9PT10LG49XCJpbnRlcnJ1cHRlZFwiPT09dCxyPVwicnVubmluZ1wiPT09ZSxzPVwic3VzcGVuZGVkXCI9PT1lLG89XCJpbnRlcnJ1cHRlZFwiPT09ZSxhPXBnKCkub3NWZXJzaW9uOyhDZygpfHxEZygpKSYmciYmbiYmKEtDLmluZm8oXCJpb3NcIi5jb25jYXQoYSxcIi1pbnRlcnJ1cHRpb24tc3RhcnRcIikpLG9BLmVtaXQodXkuSU9TX0lOVEVSUlVQVElPTl9TVEFSVCkpLChDZygpfHxEZygpKSYmKHN8fG8pJiZpJiYoS0MuaW5mbyhcImlvc1wiLmNvbmNhdChhLFwiLWludGVycnVwdGlvbi1lbmRcIikpLG9BLmVtaXQodXkuSU9TX0lOVEVSUlVQVElPTl9FTkQpKSxlIT09dCYmKEtDLmRlYnVnKFwiQXVkaW9Db250ZXh0IFN0YXRlIENoYW5nZVwiLFwiXCIuY29uY2F0KGUsXCI9PlwiKS5jb25jYXQodCkpLG9BLmVtaXQodXkuU1RBVEVfQ0hBTkdFKSl9LHNldEludGVydmFsKCgoKT0+e3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPXNBKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jdXJyZW50VGltZTtpZihvQS5jdXJyZW50VGltZSE9PXQpb0EuY3VycmVudFRpbWVTdHVja0F0JiYoS0MuZGVidWcoXCJBdWRpb0NvbnRleHQgY3VycmVudCB0aW1lIHJlc3VtZSBhdCBcIi5jb25jYXQodCkpLG9BLmN1cnJlbnRUaW1lU3R1Y2tBdD12b2lkIDApLG9BLmN1cnJlbnRUaW1lPXQ7ZWxzZXtpZih0IT09b0EuY3VycmVudFRpbWVTdHVja0F0KXtydi5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpcIldFQl9BVURJT19DVVJSRU5UX1RJTUVfU1RVQ0tcIixvcHRpb25zOntjdXJyZW50VGltZTp0fSx0YWc6b1QuVFJBQ0VSfSkub25TdWNjZXNzKCksS0Mud2FybmluZyhcIkF1ZGlvQ29udGV4dCBjdXJyZW50IHRpbWUgc3R1Y2sgYXQgXCIuY29uY2F0KHQpKX1vQS5jdXJyZW50VGltZVN0dWNrQXQ9dH19KSw1ZTMpLGFzeW5jIGZ1bmN0aW9uKGUpe2NvbnN0IHQ9W1wiY2xpY2tcIixcImNvbnRleHRtZW51XCIsXCJhdXhjbGlja1wiLFwiZGJsY2xpY2tcIixcIm1vdXNlZG93blwiLFwibW91c2V1cFwiLFwidG91Y2hlbmRcIixcImtleWRvd25cIixcImtleXVwXCJdO2xldCBpLG49ITEscj0hMSxzPSExO2Z1bmN0aW9uIG8odCl7XCJydW5uaW5nXCI9PT1lLnN0YXRlP2EoITEpOkNnKCl8fERnKCk/XCJzdXNwZW5kZWRcIj09PWUuc3RhdGUmJihhKCEwKSx0JiZlLnJlc3VtZSgpLnRoZW4oZCxkKSk6XCJjbG9zZWRcIiE9PWUuc3RhdGUmJihhKCEwKSx0JiZlLnJlc3VtZSgpLnRoZW4oZCxkKSl9ZnVuY3Rpb24gYShlKXtpZihuIT09ZSl7bj1lO2ZvcihsZXQgaT0wLG49dDtpPG4ubGVuZ3RoO2krPTEpe2NvbnN0IHQ9bltpXTtlP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKHQsbCx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSk6d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIodCxsLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KX19fWZ1bmN0aW9uIGMoKXtvKCEwKX1mdW5jdGlvbiBkKCl7byghMSl9ZnVuY3Rpb24gbCgpe28oITApfWZ1bmN0aW9uIGgoZSl7aWYoIXMpaWYoaS5wYXVzZWQpaWYoZSl7bGV0IGU7dSghMSkscz0hMDt0cnl7ZT1pLnBsYXkoKSxlP2UudGhlbihwLHApOihpLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIscCksaS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixwKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHApKX1jYXRjaChlKXtwKCl9fWVsc2UgdSghMCk7ZWxzZSB1KCExKX1mdW5jdGlvbiB1KGUpe2lmKHIhPT1lKXtyPWU7Zm9yKGxldCBpPTAsbj10O2k8bi5sZW5ndGg7aSsrKXtjb25zdCB0PW5baV07ZT93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih0LF8se2NhcHR1cmU6ITAscGFzc2l2ZTohMH0pOndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKHQsXyx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSl9fX1mdW5jdGlvbiBwKCl7aS5yZW1vdmVFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLHApLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIscCksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixwKSxzPSExLGgoITEpfWZ1bmN0aW9uIF8oKXtoKCEwKX1pZihDZygpKXtjb25zdCB0PWUuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLmlubmVySFRNTD1cIjxhdWRpbyB4LXdlYmtpdC1haXJwbGF5PSdkZW55Jz48L2F1ZGlvPlwiLGk9bi5jaGlsZHJlbi5pdGVtKDApLGkuY29udHJvbHM9ITEsaS5kaXNhYmxlUmVtb3RlUGxheWJhY2s9ITAsaS5wcmVsb2FkPVwiYXV0b1wiLGkuc3JjT2JqZWN0PXQuc3RyZWFtLGgoITApfW9BLm9uKHV5LlNUQVRFX0NIQU5HRSxjKSxvKCExKX0oc0EpfWZ1bmN0aW9uIGNBKCl7aWYoIXNBKXtpZihhQSgpLCFzQSl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgY3JlYXRlIGF1ZGlvIGNvbnRleHRcIik7cmV0dXJuIHNBfXJldHVybiBzQX1mdW5jdGlvbiBkQSgpe3JldHVybiEhc0F9ZnVuY3Rpb24gbEEoZSl7aWYoZnVuY3Rpb24oKXtpZihudWxsIT09aEEpcmV0dXJuIGhBO2NvbnN0IGU9Y0EoKSx0PWUuY3JlYXRlQnVmZmVyU291cmNlKCksaT1lLmNyZWF0ZUdhaW4oKSxuPWUuY3JlYXRlR2FpbigpO3QuY29ubmVjdChpKSx0LmNvbm5lY3QobiksdC5kaXNjb25uZWN0KGkpO2xldCByPSExO3RyeXt0LmRpc2Nvbm5lY3QoaSl9Y2F0Y2goZSl7cj0hMH1yZXR1cm4gdC5kaXNjb25uZWN0KCksaEE9cixyfSgpKXJldHVybjtjb25zdCB0PWUuY29ubmVjdCxpPWUuZGlzY29ubmVjdDtlLmNvbm5lY3Q9KGksbixyKT0+e3ZhciBzO3JldHVybiBlLl9pbnB1dE5vZGVzfHwoZS5faW5wdXROb2Rlcz1bXSksUHIocz1lLl9pbnB1dE5vZGVzKS5jYWxsKHMsaSl8fChpIGluc3RhbmNlb2YgQXVkaW9Ob2RlPyhlLl9pbnB1dE5vZGVzLnB1c2goaSksdC5jYWxsKGUsaSxuLHIpKTp0LmNhbGwoZSxpLG4pKSxlfSxlLmRpc2Nvbm5lY3Q9KG4scixzKT0+e2kuY2FsbChlKSxuP0lUKGUuX2lucHV0Tm9kZXMsbik6ZS5faW5wdXROb2Rlcz1bXTtmb3IoY29uc3QgaSBvZiBlLl9pbnB1dE5vZGVzKXQuY2FsbChlLGkpfX1sZXQgaEE9bnVsbDtmdW5jdGlvbiB1QShlLHQpe2xldCBpPSExO2NvbnN0IG49MS90O2lmKGtDKFwiRElTQUJMRV9XRUJBVURJT1wiKSl7Y29uc3QgdD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57aT93aW5kb3cuY2xlYXJJbnRlcnZhbCh0KTplKHBlcmZvcm1hbmNlLm5vdygpLzFlMyl9KSwxZTMqbil9ZWxzZXtjb25zdCB0PWNBKCk7bGV0IHI9dC5jcmVhdGVHYWluKCk7ci5nYWluLnZhbHVlPTAsci5jb25uZWN0KHQuZGVzdGluYXRpb24pO2NvbnN0IHM9KCk9PntpZihpKXJldHVybiB2b2lkKHI9bnVsbCk7Y29uc3Qgbz10LmNyZWF0ZU9zY2lsbGF0b3IoKTtvLm9uZW5kZWQ9cyxvLmNvbm5lY3Qociksby5zdGFydCgwKSxvLnN0b3AodC5jdXJyZW50VGltZStuKSxlKHQuY3VycmVudFRpbWUpfTtzKCl9cmV0dXJuKCk9PntpPSEwfX1jb25zdCBwQT17Z2V0RGlzcGxheU1lZGlhOiExLGdldFN0cmVhbUZyb21FeHRlbnNpb246ITEsc3VwcG9ydFVuaWZpZWRQbGFuOiExLHN1cHBvcnRNaW5CaXRyYXRlOiExLHN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzOiExLHN1cHBvcnREdWFsU3RyZWFtOiEwLHdlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0OiExLHN1cHBvcnRSZXBsYWNlVHJhY2s6ITEsc3VwcG9ydFdlYkdMOiExLHdlYkF1ZGlvV2l0aEFFQzohMSxzdXBwb3J0UmVxdWVzdEZyYW1lOiExLHN1cHBvcnRTaGFyZUF1ZGlvOiExLHN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmc6ITEsc3VwcG9ydERhdGFDaGFubmVsOiExLHN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb246ITEsc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm06ITEsc3VwcG9ydFdlYlJUQ0luc2VydGFibGVTdHJlYW06ITF9O2Z1bmN0aW9uIF9BKCl7cmV0dXJuIHBBfWNsYXNzIEVBe2NvbnN0cnVjdG9yKCl7bnUodGhpcyxcImNvbnRleHRcIix2b2lkIDApLG51KHRoaXMsXCJhbmFseXNlck5vZGVcIix2b2lkIDApLG51KHRoaXMsXCJzb3VyY2VOb2RlXCIsdm9pZCAwKSx0aGlzLmNvbnRleHQ9Y0EoKSx0aGlzLmFuYWx5c2VyTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKSx0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplPTIwNDgsdGhpcy5hbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50PS40fXVwZGF0ZVNvdXJjZShlKXtpZihlIT09dGhpcy5zb3VyY2VOb2RlKXtpZih0aGlzLnNvdXJjZU5vZGUpdHJ5e3RoaXMuc291cmNlTm9kZS5kaXNjb25uZWN0KHRoaXMuYW5hbHlzZXJOb2RlKX1jYXRjaChlKXt9dGhpcy5zb3VyY2VOb2RlPWUsbnVsbD09ZXx8ZS5jb25uZWN0KHRoaXMuYW5hbHlzZXJOb2RlKX19Z2V0Vm9sdW1lTGV2ZWwoKXtpZighdGhpcy5zb3VyY2VOb2RlKXJldHVybiAwO2lmKCF0aGlzLmNvbnRleHR8fENnKCl8fERnKCl8fFwicnVubmluZ1wiIT09dGhpcy5jb250ZXh0LnN0YXRlJiZ0aGlzLmNvbnRleHQucmVzdW1lKCksIXRoaXMuYW5hbHlzZXJOb2RlKXJldHVybiAwO2NvbnN0IGU9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplKTtpZih0aGlzLmFuYWx5c2VyTm9kZS5nZXRGbG9hdFRpbWVEb21haW5EYXRhKXRoaXMuYW5hbHlzZXJOb2RlLmdldEZsb2F0VGltZURvbWFpbkRhdGEoZSk7ZWxzZXtjb25zdCB0PW5ldyBVaW50OEFycmF5KHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUpO3RoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVUaW1lRG9tYWluRGF0YSh0KTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoOysraSllW2ldPXRbaV0vMTI4LTF9Y29uc3QgdD1jUyhlKS5jYWxsKGUsKChlLHQpPT5lK3QqdCksMCkvZS5sZW5ndGg7cmV0dXJuIE1hdGgubWF4KDEwKk1hdGgubG9nMTAodCkrMTAwLDApLzEwMH1nZXRBbmFseXNlck5vZGUoKXtyZXR1cm4gdGhpcy5hbmFseXNlck5vZGV9cmVidWlsZEFuYWx5c2VyKCl7dHJ5e3ZhciBlLHQ7bnVsbD09PShlPXRoaXMuc291cmNlTm9kZSl8fHZvaWQgMD09PWV8fGUuZGlzY29ubmVjdCh0aGlzLmFuYWx5c2VyTm9kZSksdGhpcy5hbmFseXNlck5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCksdGhpcy5hbmFseXNlck5vZGUuZmZ0U2l6ZT0yMDQ4LHRoaXMuYW5hbHlzZXJOb2RlLnNtb290aGluZ1RpbWVDb25zdGFudD0uNCxudWxsPT09KHQ9dGhpcy5zb3VyY2VOb2RlKXx8dm9pZCAwPT09dHx8dC5jb25uZWN0KHRoaXMuYW5hbHlzZXJOb2RlKX1jYXRjaChlKXtLQy53YXJuaW5nKFwicmVidWlsZCBhbmFseXNlciBub2RlIGZhaWxlZC5cIil9fWRlc3Ryb3koKXt0aGlzLnVwZGF0ZVNvdXJjZSh2b2lkIDApfX1jbGFzcyBtQSBleHRlbmRzIGlUe2dldCBwcm9jZXNzU291cmNlTm9kZSgpe3JldHVybiB0aGlzLnNvdXJjZU5vZGV9c2V0IHByb2Nlc3NlZE5vZGUoZSl7dmFyIHQ7aWYoIXRoaXMuaXNEZXN0cm95ZWQmJnRoaXMuX3Byb2Nlc3NlZE5vZGUhPT1lKXt0cnl7dmFyIGk7bnVsbD09PShpPXRoaXMuc291cmNlTm9kZSl8fHZvaWQgMD09PWl8fGkuZGlzY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpfWNhdGNoKGUpe31udWxsPT09KHQ9dGhpcy5fcHJvY2Vzc2VkTm9kZSl8fHZvaWQgMD09PXR8fHQuZGlzY29ubmVjdCgpLHRoaXMuX3Byb2Nlc3NlZE5vZGU9ZSx0aGlzLmNvbm5lY3QoKX19Z2V0IHByb2Nlc3NlZE5vZGUoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc2VkTm9kZX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksbnUodGhpcyxcIm91dHB1dE5vZGVcIix2b2lkIDApLG51KHRoaXMsXCJvdXRwdXRUcmFja1wiLHZvaWQgMCksbnUodGhpcyxcImlzUGxheWVkXCIsITEpLG51KHRoaXMsXCJjb250ZXh0XCIsdm9pZCAwKSxudSh0aGlzLFwiYXVkaW9CdWZmZXJOb2RlXCIsdm9pZCAwKSxudSh0aGlzLFwiZGVzdE5vZGVcIix2b2lkIDApLG51KHRoaXMsXCJhdWRpb091dHB1dExldmVsXCIsMCksbnUodGhpcyxcInZvbHVtZUxldmVsQW5hbHlzZXJcIix2b2lkIDApLG51KHRoaXMsXCJfcHJvY2Vzc2VkTm9kZVwiLHZvaWQgMCksbnUodGhpcyxcInBsYXlOb2RlXCIsdm9pZCAwKSxudSh0aGlzLFwiaXNEZXN0cm95ZWRcIiwhMSksbnUodGhpcyxcIm9uTm9BdWRpb0lucHV0XCIsdm9pZCAwKSxudSh0aGlzLFwiaXNOb0F1ZGlvSW5wdXRcIiwhMSksbnUodGhpcyxcIl9ub0F1ZGlvSW5wdXRDb3VudFwiLDApLHRoaXMuY29udGV4dD1jQSgpLHRoaXMucGxheU5vZGU9dGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uLHRoaXMub3V0cHV0Tm9kZT10aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpLGxBKHRoaXMub3V0cHV0Tm9kZSksdGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyPW5ldyBFQX1zdGFydEdldEF1ZGlvQnVmZmVyKGUpe3RoaXMuYXVkaW9CdWZmZXJOb2RlfHwodGhpcy5hdWRpb0J1ZmZlck5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihlKSx0aGlzLm91dHB1dE5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQnVmZmVyTm9kZSksdGhpcy5hdWRpb0J1ZmZlck5vZGUuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLHRoaXMuYXVkaW9CdWZmZXJOb2RlLm9uYXVkaW9wcm9jZXNzPWU9Pnt0aGlzLmVtaXQoankuT05fQVVESU9fQlVGRkVSLGZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8ZS5vdXRwdXRCdWZmZXIubnVtYmVyT2ZDaGFubmVsczt0Kz0xKXtjb25zdCBpPWUub3V0cHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKHQpO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSs9MSlpW2VdPTB9cmV0dXJuIGUuaW5wdXRCdWZmZXJ9KGUpKX0pfXN0b3BHZXRBdWRpb0J1ZmZlcigpe3RoaXMuYXVkaW9CdWZmZXJOb2RlJiYodGhpcy5hdWRpb0J1ZmZlck5vZGUub25hdWRpb3Byb2Nlc3M9bnVsbCx0aGlzLm91dHB1dE5vZGUuZGlzY29ubmVjdCh0aGlzLmF1ZGlvQnVmZmVyTm9kZSksdGhpcy5hdWRpb0J1ZmZlck5vZGU9dm9pZCAwKX1jcmVhdGVPdXRwdXRUcmFjaygpe2lmKCFfQSgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0KXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwieW91ciBicm93c2VyIGlzIG5vdCBzdXBwb3J0IGF1ZGlvIHByb2Nlc3NvclwiKTtyZXR1cm4gdGhpcy5kZXN0Tm9kZSYmdGhpcy5vdXRwdXRUcmFja3x8KHRoaXMuZGVzdE5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSx0aGlzLm91dHB1dE5vZGUuY29ubmVjdCh0aGlzLmRlc3ROb2RlKSx0aGlzLm91dHB1dFRyYWNrPXRoaXMuZGVzdE5vZGUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0pLHRoaXMub3V0cHV0VHJhY2t9cGxheShlKXtcInJ1bm5pbmdcIiE9PXRoaXMuY29udGV4dC5zdGF0ZSYmQVQoKCgpPT57b0EuZW1pdChcImF1dG9wbGF5LWZhaWxlZFwiKX0pKSx0aGlzLmlzUGxheWVkPSEwLHRoaXMucGxheU5vZGU9ZXx8dGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uLHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMucGxheU5vZGUpfXN0b3AoKXtpZih0aGlzLmlzUGxheWVkKXRyeXt0aGlzLm91dHB1dE5vZGUuZGlzY29ubmVjdCh0aGlzLnBsYXlOb2RlKX1jYXRjaChlKXt9dGhpcy5pc1BsYXllZD0hMX1nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCl7cmV0dXJuIHRoaXMudm9sdW1lTGV2ZWxBbmFseXNlci5nZXRWb2x1bWVMZXZlbCgpfWFzeW5jIGNoZWNrSGFzQXVkaW9JbnB1dCgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO2lmKGU+NSlyZXR1cm4gdGhpcy5pc05vQXVkaW9JbnB1dD0hMCx0aGlzLm9uTm9BdWRpb0lucHV0JiZ0aGlzLm9uTm9BdWRpb0lucHV0KCksITE7Q2coKXx8RGcoKT9cInN1c3BlbmRlZFwiPT09dGhpcy5jb250ZXh0LnN0YXRlJiZ0aGlzLmNvbnRleHQucmVzdW1lKCk6XCJydW5uaW5nXCIhPT10aGlzLmNvbnRleHQuc3RhdGUmJnRoaXMuY29udGV4dC5yZXN1bWUoKTtjb25zdCB0PXRoaXMudm9sdW1lTGV2ZWxBbmFseXNlci5nZXRBbmFseXNlck5vZGUoKTtsZXQgaTt0LmdldEZsb2F0VGltZURvbWFpbkRhdGE/KGk9bmV3IEZsb2F0MzJBcnJheSh0LmZmdFNpemUpLHQuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YShpKSk6KGk9bmV3IFVpbnQ4QXJyYXkodC5mZnRTaXplKSx0LmdldEJ5dGVUaW1lRG9tYWluRGF0YShpKSk7bGV0IG49ITE7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspMCE9PWlbZV0mJihuPSEwKTtyZXR1cm4gbj8odGhpcy5pc05vQXVkaW9JbnB1dD0hMSwhMCk6KGF3YWl0IFVUKDIwMCksYXdhaXQgdGhpcy5jaGVja0hhc0F1ZGlvSW5wdXQoZT9lKzE6MSkmJm4pfWdldEF1ZGlvVm9sdW1lKCl7cmV0dXJuIHRoaXMub3V0cHV0Tm9kZS5nYWluLnZhbHVlfXNldFZvbHVtZShlKXt0aGlzLm91dHB1dE5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShlLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSl9ZGVzdHJveSgpe3RoaXMuZGlzY29ubmVjdCgpLHRoaXMuc3RvcCgpLHRoaXMuaXNEZXN0cm95ZWQ9ITAsdGhpcy5vbk5vQXVkaW9JbnB1dD12b2lkIDB9ZGlzY29ubmVjdCgpe3ZhciBlLHQ7bnVsbD09PShlPXRoaXMucHJvY2Vzc2VkTm9kZSl8fHZvaWQgMD09PWV8fGUuZGlzY29ubmVjdCgpLG51bGw9PT0odD10aGlzLnNvdXJjZU5vZGUpfHx2b2lkIDA9PT10fHx0LmRpc2Nvbm5lY3QoKSx0aGlzLm91dHB1dE5vZGUmJnRoaXMub3V0cHV0Tm9kZS5kaXNjb25uZWN0KCl9Y29ubmVjdCgpe3ZhciBlO3RoaXMucHJvY2Vzc2VkTm9kZT9udWxsPT09KGU9dGhpcy5wcm9jZXNzZWROb2RlKXx8dm9pZCAwPT09ZXx8ZS5jb25uZWN0KHRoaXMub3V0cHV0Tm9kZSk6dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpO3RoaXMudm9sdW1lTGV2ZWxBbmFseXNlci51cGRhdGVTb3VyY2UodGhpcy5vdXRwdXROb2RlKX19Y2xhc3MgZkEgZXh0ZW5kcyBtQXtnZXQgaXNGcmVlemUoKXtyZXR1cm4hMX1jb25zdHJ1Y3RvcihlLHQsaSl7dmFyIG47aWYoc3VwZXIoKSxudSh0aGlzLFwic291cmNlTm9kZVwiLHZvaWQgMCksbnUodGhpcyxcInRyYWNrXCIsdm9pZCAwKSxudSh0aGlzLFwiY2xvbmVkVHJhY2tcIix2b2lkIDApLG51KHRoaXMsXCJhdWRpb0VsZW1lbnRcIix2b2lkIDApLG51KHRoaXMsXCJpc0N1cnJlbnRUcmFja0Nsb25lZFwiLCExKSxudSh0aGlzLFwiaXNSZW1vdGVUcmFja1wiLCExKSxudSh0aGlzLFwib3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlclwiLHZvaWQgMCksbnUodGhpcyxcInJlYnVpbGRXZWJBdWRpb1wiLChhc3luYygpPT57aWYoS0MuZGVidWcoXCJyZWFkeSB0byByZWJ1aWxkIHdlYiBhdWRpbywgc3RhdGU6XCIsdGhpcy5jb250ZXh0LnN0YXRlKSx0aGlzLmlzTm9BdWRpb0lucHV0JiZhd2FpdCB0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dCgpLCF0aGlzLmlzTm9BdWRpb0lucHV0fHx0aGlzLmlzRGVzdHJveWVkKXJldHVybiBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMucmVidWlsZFdlYkF1ZGlvLCEwKSx2b2lkIEtDLmRlYnVnKFwicmVidWlsZCB3ZWIgYXVkaW8gc3VjY2VzcywgY3VycmVudCB2b2x1bWUgc3RhdHVzXCIsdGhpcy5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCkpO3RoaXMuY29udGV4dC5yZXN1bWUoKS50aGVuKCgoKT0+S0MuaW5mbyhcInJlc3VtZSBzdWNjZXNzXCIpKSksS0MuZGVidWcoXCJyZWJ1aWxkIHdlYiBhdWRpbyBiZWNhdXNlIG9mIGlvcyAxMiBidWdzXCIpLHRoaXMuZGlzY29ubmVjdCgpO2NvbnN0IGU9dGhpcy50cmFjazt0aGlzLnRyYWNrPXRoaXMudHJhY2suY2xvbmUoKSx0aGlzLmlzQ3VycmVudFRyYWNrQ2xvbmVkP2Uuc3RvcCgpOnRoaXMuaXNDdXJyZW50VHJhY2tDbG9uZWQ9ITA7Y29uc3QgdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudHJhY2tdKTt0aGlzLnNvdXJjZU5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHQpLGxBKHRoaXMuc291cmNlTm9kZSksdGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLnJlYnVpbGRBbmFseXNlcigpO2NvbnN0IGk9dGhpcy5vdXRwdXROb2RlLmdhaW4udmFsdWU7dGhpcy5vdXRwdXROb2RlPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5vdXRwdXROb2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoaSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpLGxBKHRoaXMub3V0cHV0Tm9kZSksdGhpcy5lbWl0KGp5LlVQREFURV9TT1VSQ0UpLHRoaXMuY29ubmVjdCgpLHRoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD10LHRoaXMuaXNQbGF5ZWQmJnRoaXMucGxheSh0aGlzLnBsYXlOb2RlKSx0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dCgpfSkpLFwiYXVkaW9cIiE9PWUua2luZCl0aHJvdyBuZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUik7dGhpcy50cmFjaz1lO2NvbnN0IHI9bmV3IE1lZGlhU3RyZWFtKFt0aGlzLnRyYWNrXSk7aWYodGhpcy5pc1JlbW90ZVRyYWNrPSEhdCx0aGlzLnNvdXJjZU5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHIpLGxBKHRoaXMuc291cmNlTm9kZSksaSl7Y29uc3QgZT1pLmNsb25lKCk7ZS5lbmFibGVkPSEwLHRoaXMuY2xvbmVkVHJhY2s9ZSxLQy5kZWJ1ZyhcImNyZWF0ZSBhbiB1bm11dGVkIHRyYWNrIFwiLmNvbmNhdChlLmlkLFwiIGZyb20gdGhlIG9yaWdpbmFsIHRyYWNrIFwiKS5jb25jYXQoaS5pZCxcIiB0byBnZXQgdGhlIHZvbHVtZVwiKSk7Y29uc3QgdD10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobmV3IE1lZGlhU3RyZWFtKFtlXSkpO2xBKHQpLHRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlcj1uZXcgRUEsdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyLnVwZGF0ZVNvdXJjZSh0KX10aGlzLmNvbm5lY3QoKSx0aGlzLmF1ZGlvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIiksdGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0PXI7Y29uc3Qgcz1wZygpO3QmJnMub3M9PT1hZy5JT1MmJk51bWJlcihudWxsPT09KG49cy5vc1ZlcnNpb24pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNwbGl0KFwiLlwiKVswXSk8MTUmJihvQS5vbih1eS5TVEFURV9DSEFOR0UsKCgpPT57XCJzdXNwZW5kZWRcIj09PXRoaXMuY29udGV4dC5zdGF0ZT9kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMucmVidWlsZFdlYkF1ZGlvLCEwKTpcInJ1bm5pbmdcIj09PXRoaXMuY29udGV4dC5zdGF0ZSYmdGhpcy5yZWJ1aWxkV2ViQXVkaW8oKX0pKSx0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dCgpLnRoZW4oKGU9PntlfHxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMucmVidWlsZFdlYkF1ZGlvLCEwKX0pKSl9dXBkYXRlVHJhY2soZSl7dGhpcy5zb3VyY2VOb2RlLmRpc2Nvbm5lY3QoKSx0aGlzLnRyYWNrPWUsdGhpcy5pc0N1cnJlbnRUcmFja0Nsb25lZD0hMTtjb25zdCB0PW5ldyBNZWRpYVN0cmVhbShbZV0pO3RoaXMuc291cmNlTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodCksbEEodGhpcy5zb3VyY2VOb2RlKSx0aGlzLnByb2Nlc3NlZE5vZGV8fHRoaXMuc291cmNlTm9kZS5jb25uZWN0KHRoaXMub3V0cHV0Tm9kZSksdGhpcy5lbWl0KGp5LlVQREFURV9TT1VSQ0UpLHRoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD10fWRlc3Ryb3koKXt2YXIgZTt0aGlzLmF1ZGlvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLmF1ZGlvRWxlbWVudC5yZW1vdmUoKSxvQS5vZmYoXCJzdGF0ZS1jaGFuZ2VcIix0aGlzLnJlYnVpbGRXZWJBdWRpbyksbnVsbD09PShlPXRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlcil8fHZvaWQgMD09PWV8fGUuZGVzdHJveSgpLHRoaXMuY2xvbmVkVHJhY2s9dm9pZCAwLHN1cGVyLmRlc3Ryb3koKX1jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZU5vZGUoZSl7cmV0dXJuIHRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXcgTWVkaWFTdHJlYW0oW2VdKSl9dXBkYXRlT3JpZ2luVHJhY2soZSl7Y29uc3QgdD1lLmNsb25lKCk7dC5lbmFibGVkPSEwLHRoaXMuY2xvbmVkVHJhY2smJih0aGlzLmNsb25lZFRyYWNrLnN0b3AoKSx0aGlzLmNsb25lZFRyYWNrPXQpLEtDLmRlYnVnKFwiY3JlYXRlIGFuIHVubXV0ZWQgdHJhY2sgXCIuY29uY2F0KHQuaWQsXCIgZnJvbSB0aGUgb3JpZ2luYWwgdHJhY2sgXCIpLmNvbmNhdChlLmlkLFwiIHRvIGdldCB0aGUgdm9sdW1lXCIpKTtjb25zdCBpPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXcgTWVkaWFTdHJlYW0oW3RdKSk7bEEoaSksdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyJiZ0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXIudXBkYXRlU291cmNlKGkpfWdldE9yaWdpblZvbHVtZUxldmVsKCl7cmV0dXJuIHRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlcj90aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXIuZ2V0Vm9sdW1lTGV2ZWwoKTp0aGlzLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKX19YXN5bmMgZnVuY3Rpb24gZ0EoZSx0LGkpe2NvbnN0IG49KGUsdCk9PmU/XCJudW1iZXJcIiE9dHlwZW9mIGU/ZS5tYXh8fGUuZXhhY3R8fGUuaWRlYWx8fGUubWlufHx0OmU6dCxyPXthdWRpbzohIWkmJnttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwifX0sdmlkZW86e21hbmRhdG9yeTp7Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCIsY2hyb21lTWVkaWFTb3VyY2VJZDplLG1heEhlaWdodDpuKHQuaGVpZ2h0LDEwODApLG1heFdpZHRoOm4odC53aWR0aCwxOTIwKX19fTtyZXR1cm4gdC5mcmFtZVJhdGUmJlwibnVtYmVyXCIhPXR5cGVvZiB0LmZyYW1lUmF0ZT8oci52aWRlby5tYW5kYXRvcnkubWF4RnJhbWVSYXRlPXQuZnJhbWVSYXRlLm1heCxyLnZpZGVvLm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9dC5mcmFtZVJhdGUubWluKTpcIm51bWJlclwiPT10eXBlb2YgdC5mcmFtZVJhdGUmJihyLnZpZGVvLm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9dC5mcmFtZVJhdGUpLGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHIpfWFzeW5jIGZ1bmN0aW9uIFRBKGUsdCl7Y29uc3QgaT1hd2FpdCBTQShlLm1lZGlhU291cmNlKSx7c291cmNlSWQ6bixhdWRpbzpyfT1hd2FpdCBmdW5jdGlvbihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiBuZXcgdGcoKChpLG4pPT57Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3IuaW5uZXJUZXh0PVwic2hhcmUgc2NyZWVuXCIsci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwidGV4dC1hbGlnbjogY2VudGVyOyBoZWlnaHQ6IDI1cHg7IGxpbmUtaGVpZ2h0OiAyNXB4OyBib3JkZXItcmFkaXVzOiA0cHggNHB4IDAgMDsgYmFja2dyb3VuZDogI0Q0RDJENDsgYm9yZGVyLWJvdHRvbTogIHNvbGlkIDFweCAjQjlCOEI5O1wiKTtjb25zdCBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogNTAwcHg7IHBhZGRpbmc6IDE1cHggMjVweCA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7XCIpO2NvbnN0IG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLmlubmVyVGV4dD1cIkFnb3JhIFdlYiBTY3JlZW5zaGFyaW5nIHdhbnRzIHRvIHNoYXJlIHRoZSBjb250ZW50cyBvZiB5b3VyIHNjcmVlbiB3aXRoIHdlYmRlbW8uYWdvcmFiZWNrb24uY29tLiBDaG9vc2Ugd2hhdCB5b3UnZCBsaWtlIHRvIHNoYXJlLlwiLG8uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImhlaWdodDogMTIlO1wiKTtjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogODAlOyBiYWNrZ3JvdW5kOiAjRkZGOyBib3JkZXI6ICBzb2xpZCAxcHggI0NCQ0JDQjsgZGlzcGxheTogZmxleDsgZmxleC13cmFwOiB3cmFwOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsgb3ZlcmZsb3cteTogc2Nyb2xsOyBwYWRkaW5nOiAwIDE1cHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7XCIpO2NvbnN0IGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDE2cHggMDtcIik7Y29uc3QgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2QuaW5uZXJIVE1MPVwiY2FuY2VsXCIsZC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDg1cHg7XCIpLGQub25jbGljaz0oKT0+e2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodSk7Y29uc3QgZT1uZXcgRXJyb3IoXCJOb3RBbGxvd2VkRXJyb3JcIik7ZS5uYW1lPVwiTm90QWxsb3dlZEVycm9yXCIsbihlKX07bGV0IGw9dDtjb25zdCBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYodCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7ZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJjaGVja2JveFwiKTtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2Uuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIm1hcmdpbi1yaWdodDogNnB4O1wiKSx0LmlubmVyVGV4dD1cIlNoYXJlIGF1ZGlvXCIsZS5jaGVja2VkPWwsZS5vbmNoYW5nZT0oKT0+e2w9ZS5jaGVja2VkfSxoLmFwcGVuZENoaWxkKGUpLGguYXBwZW5kQ2hpbGQodCl9Yy5hcHBlbmRDaGlsZChoKSxjLmFwcGVuZENoaWxkKGQpLHMuYXBwZW5kQ2hpbGQobykscy5hcHBlbmRDaGlsZChhKSxzLmFwcGVuZENoaWxkKGMpO2NvbnN0IHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt1LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJwb3NpdGlvbjogZml4ZWQ7IHotaW5kZXg6IDk5OTk5OTk5OyB0b3A6IDUwJTsgbGVmdDogNTAlOyB3aWR0aDogNjIwcHg7IGhlaWdodDogNTI1cHg7IGJhY2tncm91bmQ6ICNFQ0VDRUM7IGJvcmRlci1yYWRpdXM6IDRweDsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1wiKSx1LmFwcGVuZENoaWxkKHIpLHUuYXBwZW5kQ2hpbGQocyksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh1KSxlLm1hcCgoZT0+e2lmKGUuaWQpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMzAlOyBoZWlnaHQ6IDE2MHB4OyBwYWRkaW5nOiAyMHB4IDA7IHRleHQtYWxpZ246IGNlbnRlcjtib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIik7bGV0IG49ZS50aHVtYm5haWw7dHJ5e2NvbnN0e3dpZHRoOmV9PW4uZ2V0U2l6ZSgpO2U+MTkyMCYmKG49bi5yZXNpemUoe3dpZHRoOjE5MjB9KSl9Y2F0Y2goZSl7dGhyb3cgZSYmZS5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJJbGxlZ2FsIGludm9jYXRpb25cIikmJmNvbnNvbGUuZXJyb3IoXCJPcGVyYXRlIHRodW1ibmFpbCBlcnJvciwgcGxlYXNlIHRyeSB0byBzZXQgY29udGV4dElzb2xhdGlvbjogZmFsc2UuIChodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24vZWxlY3Ryb24vaXNzdWVzLzM0OTUzKVwiKSxlfXQuaW5uZXJIVE1MPSc8ZGl2IHN0eWxlPVwiaGVpZ2h0OiAxMjBweDsgZGlzcGxheTogdGFibGUtY2VsbDsgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcIj48aW1nIHN0eWxlPVwid2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICMzMzMzMzM7IGJveC1zaGFkb3c6IDFweCAxcHggMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMik7XCIgc3JjPScrbi50b0RhdGFVUkwoKSsnIC8+PC9kaXY+PHNwYW4gc3R5bGU9XCJcXHRoZWlnaHQ6IDQwcHg7IGxpbmUtaGVpZ2h0OiA0MHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiA3MCU7IHdvcmQtYnJlYWs6IGtlZXAtYWxsOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcIj4nK2UubmFtZS5yZXBsYWNlKC9bXFx1MDBBMC1cXHU5OTk5PD5cXCZdL2csKGZ1bmN0aW9uKGUpe3JldHVyblwiJiNcIitlLmNoYXJDb2RlQXQoMCkrXCI7XCJ9KSkrXCI8L3NwYW4+XCIsdC5vbmNsaWNrPSgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh1KSxpKHtzb3VyY2VJZDplLmlkLGF1ZGlvOmx9KX0sYS5hcHBlbmRDaGlsZCh0KX19KSl9KSl9KGksdCk7cmV0dXJuIGF3YWl0IGdBKG4sZSxyKX1hc3luYyBmdW5jdGlvbiBTQShlKXtsZXQgdD1bXCJ3aW5kb3dcIixcInNjcmVlblwiXTtcImFwcGxpY2F0aW9uXCIhPT1lJiZcIndpbmRvd1wiIT09ZXx8KHQ9W1wid2luZG93XCJdKSxcInNjcmVlblwiPT09ZSYmKHQ9W1wic2NyZWVuXCJdKTtjb25zdCBpPXJUKCk7aWYoIWkpdGhyb3cgY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBmZXRjaCBlbGVjdHJvbiwgcGxlYXNlIG1vdW50IGl0IHRvIHdpbmRvd1wiKSxuZXcgVmcoeGcuRUxFQ1RST05fSVNfTlVMTCk7bGV0IG49bnVsbDt0cnl7dmFyIHI7bj0obnVsbD09PShyPWkuZGVza3RvcENhcHR1cmVyKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRTb3VyY2VzKHt0eXBlczp0fSkpfHxpLmlwY1JlbmRlcmVyLmludm9rZShcIkRFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNcIix7dHlwZXM6dH0pfWNhdGNoKGUpe249bnVsbH1uJiZuLnRoZW58fChuPW5ldyB0ZygoKGUsbik9PntpLmRlc2t0b3BDYXB0dXJlci5nZXRTb3VyY2VzKHt0eXBlczp0fSwoKHQsaSk9Pnt0P24odCk6ZShpKX0pKX0pKSk7dHJ5e3JldHVybiBhd2FpdCBufWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FTEVDVFJPTl9ERVNLVE9QX0NBUFRVUkVSX0dFVF9TT1VSQ0VTX0VSUk9SLGUudG9TdHJpbmcoKSl9fWZ1bmN0aW9uIFJBKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1jb25zdCBDQT1uZXcgWVQoXCJzYWZhcmlcIik7bGV0IHZBPSExLElBPSExO2FzeW5jIGZ1bmN0aW9uIHlBKGUsdCl7bGV0IGk9MCxuPW51bGw7Zm9yKDtpPDI7KXRyeXtuPWF3YWl0IEFBKGUsdCxpPjApO2JyZWFrfWNhdGNoKGUpe2lmKGUgaW5zdGFuY2VvZiBWZyl0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodCxcIl0gXCIpLmNvbmNhdChlLnRvU3RyaW5nKCkpKSxlO2NvbnN0IG49YkEoZS5uYW1lfHxlLmNvZGV8fGUsZS5tZXNzYWdlKTtpZihuLmNvZGU9PT14Zy5NRURJQV9PUFRJT05fSU5WQUxJRCl7S0MuZGVidWcoXCJbXCIuY29uY2F0KHQsXCJdIGRldGVjdCBtZWRpYSBvcHRpb24gaW52YWxpZCwgcmV0cnlcIikpLGkrPTEsYXdhaXQgVVQoNTAwKTtjb250aW51ZX10aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodCxcIl0gXCIpLmNvbmNhdChuLnRvU3RyaW5nKCkpKSxufWlmKCFuKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHN0cmVhbSBhZnRlciBnZXRVc2VyTWVkaWFcIik7cmV0dXJuIG59YXN5bmMgZnVuY3Rpb24gQUEoZSx0LGkpe2lmKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IGZpbmQgZ2V0VXNlck1lZGlhXCIpO2kmJihlLnZpZGVvJiYoZGVsZXRlIGUudmlkZW8ud2lkdGgsZGVsZXRlIGUudmlkZW8uaGVpZ2h0KSxlLnNjcmVlbiYmKGRlbGV0ZSBlLnNjcmVlbi53aWR0aCxkZWxldGUgZS5zY3JlZW4uaGVpZ2h0KSk7Y29uc3Qgbj1fQSgpLHI9bmV3IE1lZGlhU3RyZWFtO2lmKGUuYXVkaW9Tb3VyY2UmJnIuYWRkVHJhY2soZS5hdWRpb1NvdXJjZSksZS52aWRlb1NvdXJjZSYmci5hZGRUcmFjayhlLnZpZGVvU291cmNlKSwhZS5hdWRpbyYmIWUudmlkZW8mJiFlLnNjcmVlbilyZXR1cm4gS0MuZGVidWcoXCJVc2luZyBWaWRlbyBTb3VyY2UvIEF1ZGlvIFNvdXJjZVwiKSxyO2lmKGUuc2NyZWVuKWlmKHJUKCkpaWYoZS5zY3JlZW4uc291cmNlSWQpe3dBKHIsYXdhaXQgZ0EoZS5zY3JlZW4uc291cmNlSWQsZS5zY3JlZW4sZS5zY3JlZW5BdWRpbykpfWVsc2V7d0Eocixhd2FpdCBUQShlLnNjcmVlbixlLnNjcmVlbkF1ZGlvKSl9ZWxzZSBpZihUZygpJiZlLnNjcmVlbi5leHRlbnNpb25JZCYmZS5zY3JlZW4ubWFuZGF0b3J5KXtpZighbi5nZXRTdHJlYW1Gcm9tRXh0ZW5zaW9uKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2NyZWVuIHNoYXJpbmdcIik7S0MuZGVidWcoXCJbXCIuY29uY2F0KHQsJ10gU2NyZWVuIGFjY2VzcyBvbiBjaHJvbWUgc3RhYmxlLCBsb29raW5nIGZvciBleHRlbnNpb25cIicpKTtjb25zdCBpPWF3YWl0KG89ZS5zY3JlZW4uZXh0ZW5zaW9uSWQsYT10LG5ldyB0ZygoKGUsdCk9Pnt0cnl7Y2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uobyx7Z2V0U3RyZWFtOiEwfSwoaT0+e2lmKCFpfHwhaS5zdHJlYW1JZClyZXR1cm4gS0MuZXJyb3IoXCJbXCIuY29uY2F0KGEsXCJdIE5vIHJlc3BvbnNlIGZyb20gQ2hyb21lIFBsdWdpbi4gUGx1Z2luIG5vdCBpbnN0YWxsZWQgcHJvcGVybHlcIiksaSksdm9pZCB0KG5ldyBWZyh4Zy5DSFJPTUVfUExVR0lOX05PX1JFU1BPTlNFLFwiTm8gcmVzcG9uc2UgZnJvbSBDaHJvbWUgUGx1Z2luLiBQbHVnaW4gbm90IGluc3RhbGxlZCBwcm9wZXJseVwiKSk7ZShpLnN0cmVhbUlkKX0pKX1jYXRjaChlKXtLQy5lcnJvcihcIltcIi5jb25jYXQoYSxcIl0gQWdvcmFSVEMgc2NyZWVuc2hhcmluZyBwbHVnaW4gaXMgbm90IGFjY2Vzc2libGUoXCIpLmNvbmNhdChvLFwiKVwiKSxlLnRvU3RyaW5nKCkpLHQobmV3IFZnKHhnLkNIUk9NRV9QTFVHSU5fTk9UX0lOU1RBTEwpKX19KSkpO2Uuc2NyZWVuLm1hbmRhdG9yeS5jaHJvbWVNZWRpYVNvdXJjZUlkPWk7d0Eocixhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7dmlkZW86e21hbmRhdG9yeTplLnNjcmVlbi5tYW5kYXRvcnl9fSkpfWVsc2UgaWYobi5nZXREaXNwbGF5TWVkaWEpe3ZhciBzO2Uuc2NyZWVuLm1lZGlhU291cmNlJiZQeShlLnNjcmVlbi5tZWRpYVNvdXJjZSk7Y29uc3QgaT17d2lkdGg6ZS5zY3JlZW4ud2lkdGgsaGVpZ2h0OmUuc2NyZWVuLmhlaWdodCxmcmFtZVJhdGU6ZS5zY3JlZW4uZnJhbWVSYXRlLGRpc3BsYXlTdXJmYWNlOm51bGwhPT0ocz1lLnNjcmVlbi5kaXNwbGF5U3VyZmFjZSkmJnZvaWQgMCE9PXM/czpcInNjcmVlblwiPT09ZS5zY3JlZW4ubWVkaWFTb3VyY2U/XCJtb25pdG9yXCI6ZS5zY3JlZW4ubWVkaWFTb3VyY2V9LHtzZWxmQnJvd3NlclN1cmZhY2U6bixzdXJmYWNlU3dpdGNoaW5nOm8sc3lzdGVtQXVkaW86YX09ZS5zY3JlZW4sYz17c2VsZkJyb3dzZXJTdXJmYWNlOm4sc3VyZmFjZVN3aXRjaGluZzpvLHN5c3RlbUF1ZGlvOmF9OyFuJiZkZWxldGUgYy5zZWxmQnJvd3NlclN1cmZhY2UsIW8mJmRlbGV0ZSBjLnN1cmZhY2VTd2l0Y2hpbmcsIWEmJmRlbGV0ZSBjLnN5c3RlbUF1ZGlvLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0LFwiXSBnZXREaXNwbGF5TWVkaWE6XCIpLEpTT04uc3RyaW5naWZ5KHt2aWRlbzppLGF1ZGlvOiEhZS5zY3JlZW5BdWRpbyxjb250cm9sczpjfSkpO2NvbnN0IGQ9YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/UkEoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6UkEoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9KHt2aWRlbzppLGF1ZGlvOiEhZS5zY3JlZW5BdWRpb30sYykpO3dBKHIsZCl9ZWxzZXtpZighUmcoKSl0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodCxcIl0gVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2NyZWVuU2hhcmluZ1wiKSksbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW4gc2hhcmluZ1wiKTt7ZS5zY3JlZW4ubWVkaWFTb3VyY2UmJlB5KGUuc2NyZWVuLm1lZGlhU291cmNlKTtjb25zdCBpPXt2aWRlbzp7bWVkaWFTb3VyY2U6ZS5zY3JlZW4ubWVkaWFTb3VyY2Usd2lkdGg6ZS5zY3JlZW4ud2lkdGgsaGVpZ2h0OmUuc2NyZWVuLmhlaWdodCxmcmFtZVJhdGU6ZS5zY3JlZW4uZnJhbWVSYXRlfX07S0MuZGVidWcoXCJbXCIuY29uY2F0KHQsXCJdIGdldFVzZXJNZWRpYTogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShpKSkpO3dBKHIsYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaSkpfX12YXIgbyxhO2lmKCFlLnZpZGVvJiYhZS5hdWRpbylyZXR1cm4gcjtsZXQgYz17dmlkZW86ZS52aWRlbyxhdWRpbzplLmF1ZGlvfSxkPWtDKFwiTUVESUFfREVWSUNFX0NPTlNUUkFJTlRTXCIpO2lmKGQpdHJ5e1wic3RyaW5nXCI9PXR5cGVvZiBkJiYoZD1KU09OLnBhcnNlKGQpKSxjPVdUKGMsZCl9Y2F0Y2goZSl7fUtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0LFwiXSBHZXRVc2VyTWVkaWFcIiksSlNPTi5zdHJpbmdpZnkoYykpLHBnKCk7bGV0IGwsaD1udWxsOyhTZygpfHxDZygpfHxtZygpKSYmKGg9YXdhaXQgQ0EubG9jaygpKTt0cnl7bD1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjKX1jYXRjaChlKXt0aHJvdyBoJiZoKCksZX1yZXR1cm4gYy5hdWRpbyYmKHZBPSEwKSxjLnZpZGVvJiYoSUE9ITApLHdBKHIsbCksaCYmaCgpLHJ9ZnVuY3Rpb24gYkEoZSx0KXtzd2l0Y2goZSl7Y2FzZVwiU3RhcnRpbmcgdmlkZW8gZmFpbGVkXCI6Y2FzZVwiT3ZlcmNvbnN0cmFpbmVkRXJyb3JcIjpjYXNlXCJUcmFja1N0YXJ0RXJyb3JcIjpyZXR1cm4gbmV3IFZnKHhnLk1FRElBX09QVElPTl9JTlZBTElELFwiXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCkpO2Nhc2VcIk5vdEZvdW5kRXJyb3JcIjpjYXNlXCJEZXZpY2VzTm90Rm91bmRFcnJvclwiOnJldHVybiBuZXcgVmcoeGcuREVWSUNFX05PVF9GT1VORCxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtjYXNlXCJOb3RTdXBwb3J0ZWRFcnJvclwiOnJldHVybiBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtjYXNlXCJOb3RSZWFkYWJsZUVycm9yXCI6cmV0dXJuIG5ldyBWZyh4Zy5OT1RfUkVBREFCTEUsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSk7Y2FzZVwiSW52YWxpZFN0YXRlRXJyb3JcIjpjYXNlXCJOb3RBbGxvd2VkRXJyb3JcIjpjYXNlXCJQRVJNSVNTSU9OX0RFTklFRFwiOmNhc2VcIlBlcm1pc3Npb25EZW5pZWRFcnJvclwiOnJldHVybiBuZXcgVmcoeGcuUEVSTUlTU0lPTl9ERU5JRUQsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSk7Y2FzZVwiQ29uc3RyYWludE5vdFNhdGlzZmllZEVycm9yXCI6cmV0dXJuIG5ldyBWZyh4Zy5DT05TVFJBSU5UX05PVF9TQVRJU0ZJRUQsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSk7ZGVmYXVsdDpyZXR1cm4gS0MuZXJyb3IoXCJnZXRVc2VyTWVkaWEgdW5leHBlY3RlZCBlcnJvclwiLGUpLG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCkpfX1mdW5jdGlvbiB3QShlLHQpe2NvbnN0IGk9ZS5nZXRWaWRlb1RyYWNrcygpWzBdLG49ZS5nZXRBdWRpb1RyYWNrcygpWzBdLHI9dC5nZXRWaWRlb1RyYWNrcygpWzBdLHM9dC5nZXRBdWRpb1RyYWNrcygpWzBdO3MmJihuJiZlLnJlbW92ZVRyYWNrKG4pLGUuYWRkVHJhY2socykpLHImJihpJiZlLnJlbW92ZVRyYWNrKGkpLGUuYWRkVHJhY2socikpfWNvbnN0IE9BPW5ldyBjbGFzcyBleHRlbmRzIGlUe2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7ZSE9PXRoaXMuX3N0YXRlJiYodGhpcy5lbWl0KFF5LlNUQVRFX0NIQU5HRSxlKSx0aGlzLl9zdGF0ZT1lKX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksbnUodGhpcyxcIl9zdGF0ZVwiLFh5LklETEUpLG51KHRoaXMsXCJpc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uXCIsITEpLG51KHRoaXMsXCJpc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb25cIiwhMSksbnUodGhpcyxcImxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvblwiLCExKSxudSh0aGlzLFwibGFzdEFjY2Vzc0NhbWVyYVBlcm1pc3Npb25cIiwhMSksbnUodGhpcyxcImNoZWNrZGV2aWNlTWF0Y2hlZFwiLCExKSxudSh0aGlzLFwiZGV2aWNlSW5mb01hcFwiLG5ldyBNYXApLHRoaXMuaW5pdCgpLnRoZW4oKCgpPT57bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VjaGFuZ2VcIix0aGlzLnVwZGF0ZURldmljZXNJbmZvLmJpbmQodGhpcykpLHdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnsoa0MoXCJFTlVNRVJBVEVfREVWSUNFU19JTlRFUlZBTFwiKXx8KE1nKCl8fF9nKCk9PT1hZy5IQVJNT05ZX09TKSYma2coKSkmJnRoaXMudXBkYXRlRGV2aWNlc0luZm8oKX0pLGtDKFwiRU5VTUVSQVRFX0RFVklDRVNfSU5URVJWQUxfVElNRVwiKSl9KSkuY2F0Y2goKGU9PktDLmVycm9yKGUudG9TdHJpbmcoKSkpKX1hc3luYyBlbnVtZXJhdGVEZXZpY2VzKGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZighbmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8IW5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyl7cmV0dXJuIG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiZW51bWVyYXRlRGV2aWNlcygpIG5vdCBzdXBwb3J0ZWQuXCIpLnRocm93KCl9Y29uc3Qgbj1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKSxyPXRoaXMuY2hlY2tNZWRpYURldmljZUluZm9Jc09rKG4pO2xldCBzPSF0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb24mJmUsbz0hdGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb24mJnQ7ci5hdWRpbyYmKHM9ITEpLHIudmlkZW8mJihvPSExKTtsZXQgYT1udWxsLGM9bnVsbCxkPW51bGw7aWYoIWkmJihzfHxvKSl7aWYoQ0EuaXNMb2NrZWQpe0tDLmRlYnVnKFwiW2RldmljZSBtYW5hZ2VyXSB3YWl0IEdVTSBsb2NrXCIpOyhhd2FpdCBDQS5sb2NrKCkpKCksS0MuZGVidWcoXCJbZGV2aWNlIG1hbmFnZXJdIEdVTSB1bmxvY2tcIil9aWYodkEmJihzPSExLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCksSUEmJihvPSExLHRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwKSxLQy5kZWJ1ZyhcIltkZXZpY2UgbWFuYWdlcl0gY2hlY2sgbWVkaWEgZGV2aWNlIHBlcm1pc3Npb25zXCIsZSx0LHMsbykscyYmbyl7dHJ5e2Q9YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe2F1ZGlvOiEwLHZpZGVvOiEwfSl9Y2F0Y2goZSl7Y29uc3QgdD1iQShlLm5hbWV8fGUuY29kZXx8ZSxlLm1lc3NhZ2UpO2lmKHQuY29kZT09PXhnLlBFUk1JU1NJT05fREVOSUVEKXRocm93IHQ7S0Mud2FybmluZyhcImdldFVzZXJNZWRpYSBmYWlsZWQgaW4gZ2V0RGV2aWNlc1wiLHQpfXRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMH1lbHNlIGlmKHMpe3RyeXthPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHthdWRpbzplfSl9Y2F0Y2goZSl7Y29uc3QgdD1iQShlLm5hbWV8fGUuY29kZXx8ZSxlLm1lc3NhZ2UpO2lmKHQuY29kZT09PXhnLlBFUk1JU1NJT05fREVOSUVEKXRocm93IHQ7S0Mud2FybmluZyhcImdldFVzZXJNZWRpYSBmYWlsZWQgaW4gZ2V0RGV2aWNlc1wiLHQpfXRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMH1lbHNlIGlmKG8pe3RyeXtjPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzp0fSl9Y2F0Y2goZSl7Y29uc3QgdD1iQShlLm5hbWV8fGUuY29kZXx8ZSxlLm1lc3NhZ2UpO2lmKHQuY29kZT09PXhnLlBFUk1JU1NJT05fREVOSUVEKXRocm93IHQ7S0Mud2FybmluZyhcImdldFVzZXJNZWRpYSBmYWlsZWQgaW4gZ2V0RGV2aWNlc1wiLHQpfXRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwfUtDLmRlYnVnKFwiW2RldmljZSBtYW5hZ2VyXSBtaWMgcGVybWlzc2lvblwiLGUsXCJjYW0gcGVybWlzc2lvblwiLHQpfXRyeXtjb25zdCBlPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO3JldHVybiBhJiZhLmdldFRyYWNrcygpLmZvckVhY2goKGU9PmUuc3RvcCgpKSksYyYmYy5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT5lLnN0b3AoKSkpLGQmJmQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+ZS5zdG9wKCkpKSxhPW51bGwsYz1udWxsLGQ9bnVsbCxlfWNhdGNoKGUpe2EmJmEuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+ZS5zdG9wKCkpKSxjJiZjLmdldFRyYWNrcygpLmZvckVhY2goKGU9PmUuc3RvcCgpKSksZCYmZC5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT5lLnN0b3AoKSkpLGE9bnVsbCxjPW51bGwsZD1udWxsO3JldHVybiBuZXcgVmcoeGcuRU5VTUVSQVRFX0RFVklDRVNfRkFJTEVELGUudG9TdHJpbmcoKSkudGhyb3coKX19YXN5bmMgZ2V0UmVjb3JkaW5nRGV2aWNlcygpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuKGF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMCwhMSxlKSkuZmlsdGVyKChlPT5cImF1ZGlvaW5wdXRcIj09PWUua2luZCkpfWFzeW5jIGdldENhbWVyYXNEZXZpY2VzKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4oYXdhaXQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCExLCEwLGUpKS5maWx0ZXIoKGU9PlwidmlkZW9pbnB1dFwiPT09ZS5raW5kKSl9YXN5bmMgZ2V0U3BlYWtlcnMoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybihhd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITAsITEsZSkpLmZpbHRlcigoZT0+XCJhdWRpb291dHB1dFwiPT09ZS5raW5kKSl9c2VhcmNoRGV2aWNlSWRCeU5hbWUoZSl7bGV0IHQ9bnVsbDtyZXR1cm4gdGhpcy5kZXZpY2VJbmZvTWFwLmZvckVhY2goKGk9PntpLmRldmljZS5sYWJlbD09PWUmJih0PWkuZGV2aWNlLmRldmljZUlkKX0pKSx0fWFzeW5jIGdldERldmljZUJ5SWQoZSl7Y29uc3QgdD0oYXdhaXQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCEwLCEwLCEwKSkuZmluZCgodD0+dC5kZXZpY2VJZD09PWUpKTtpZighdCl0aHJvdyBuZXcgVmcoeGcuREVWSUNFX05PVF9GT1VORCxcImRldmljZUlkOiBcIi5jb25jYXQoZSkpO3JldHVybiB0fWFzeW5jIGluaXQoKXt0aGlzLnN0YXRlPVh5LklOSVRJTkc7dHJ5e2F3YWl0IHRoaXMudXBkYXRlRGV2aWNlc0luZm8oKSx0aGlzLnN0YXRlPVh5LklOSVRFTkR9Y2F0Y2goZSl7aWYoS0Mud2FybmluZyhcIkRldmljZSBEZXRlY3Rpb24gZnVuY3Rpb25hbGl0eSBjYW5ub3Qgc3RhcnQgcHJvcGVybHkuXCIsZS50b1N0cmluZygpKSx0aGlzLnN0YXRlPVh5LklETEUsIShcImJvb2xlYW5cIj09dHlwZW9mIGlzU2VjdXJlQ29udGV4dD9pc1NlY3VyZUNvbnRleHQ6XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sfHxcImZpbGU6XCI9PT1sb2NhdGlvbi5wcm90b2NvbHx8XCJsb2NhbGhvc3RcIj09PWxvY2F0aW9uLmhvc3RuYW1lfHxcIjEyNy4wLjAuMVwiPT09bG9jYXRpb24uaG9zdG5hbWV8fFwiOjoxXCI9PT1sb2NhdGlvbi5ob3N0bmFtZSkpe25ldyBWZyh4Zy5XRUJfU0VDVVJJVFlfUkVTVFJJQ1QsXCJZb3VyIGNvbnRleHQgaXMgbGltaXRlZCBieSB3ZWIgc2VjdXJpdHksIHBsZWFzZSB0cnkgdXNpbmcgaHR0cHMgcHJvdG9jb2wgb3IgbG9jYWxob3N0LlwiKS50aHJvdygpfXRocm93IGV9fWFzeW5jIHVwZGF0ZURldmljZXNJbmZvKCl7Y29uc3QgZT1hd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITAsITAsITApLHQ9RGF0ZS5ub3coKSxpPVtdO2lmKGVbMF0mJmVbMF0ubGFiZWwmJiExPT09dGhpcy5jaGVja2RldmljZU1hdGNoZWQpe3RoaXMuY2hlY2tkZXZpY2VNYXRjaGVkPSEwO2NvbnN0IHQ9ZS5maW5kKChlPT5cImF1ZGlvaW5wdXRcIj09PWUua2luZCYmXCJkZWZhdWx0XCI9PT1lLmRldmljZUlkKSksaT1lLmZpbmQoKGU9PlwiYXVkaW9vdXRwdXRcIj09PWUua2luZCYmXCJkZWZhdWx0XCI9PT1lLmRldmljZUlkKSk7dCYmaT9pLmdyb3VwSWQ9PT10Lmdyb3VwSWQ/S0MuZGVidWcoXCJbZGV2aWNlLWNoZWNrXSBkZWZhdWx0IGlucHV0IFwiLmNvbmNhdCh0LmxhYmVsLFwiIGFuZCBvdXRwdXQgXCIpLmNvbmNhdChpLmxhYmVsLFwiIGlzIHRoZSBzYW1lIGdyb3VwXCIpKTpLQy53YXJuaW5nKFwiW2RldmljZS1jaGVja10gZGVmYXVsdCBpbnB1dCBcIi5jb25jYXQodC5sYWJlbCxcIiBhbmQgb3V0cHV0IFwiKS5jb25jYXQoaS5sYWJlbCxcIiBpcyBub3QgdGhlIHNhbWUgZ3JvdXBcIikpOktDLmRlYnVnKFwiW2RldmljZS1jaGVja10gZGVmYXVsdCBpbnB1dCBvciBvdXRwdXQgbm90IGZvdW5kXCIpfWNvbnN0IG49dGhpcy5jaGVja01lZGlhRGV2aWNlSW5mb0lzT2soZSk7aWYoZS5mb3JFYWNoKChlPT57aWYoIWUuZGV2aWNlSWQpcmV0dXJuO2NvbnN0IG49dGhpcy5kZXZpY2VJbmZvTWFwLmdldChcIlwiLmNvbmNhdChlLmtpbmQsXCJfXCIpLmNvbmNhdChlLmRldmljZUlkKSk7aWYoXCJBQ1RJVkVcIiE9PShuP24uc3RhdGU6XCJJTkFDVElWRVwiKSl7Y29uc3Qgbj17aW5pdEF0OnQsdXBkYXRlQXQ6dCxkZXZpY2U6ZSxzdGF0ZTpcIkFDVElWRVwifTt0aGlzLmRldmljZUluZm9NYXAuc2V0KFwiXCIuY29uY2F0KGUua2luZCxcIl9cIikuY29uY2F0KGUuZGV2aWNlSWQpLG4pLGkucHVzaChuKX1uJiYobi51cGRhdGVBdD10KX0pKSx0aGlzLmRldmljZUluZm9NYXAuZm9yRWFjaCgoKGUsbik9PntcIkFDVElWRVwiPT09ZS5zdGF0ZSYmZS51cGRhdGVBdCE9PXQmJihlLnN0YXRlPVwiSU5BQ1RJVkVcIixpLnB1c2goZSkpfSkpLHRoaXMuc3RhdGUhPT1YeS5JTklURU5EKXJldHVybiBuLmF1ZGlvJiYodGhpcy5sYXN0QWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwKSx2b2lkKG4udmlkZW8mJih0aGlzLmxhc3RBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwKSk7aS5mb3JFYWNoKChlPT57c3dpdGNoKGUuZGV2aWNlLmtpbmQpe2Nhc2VcImF1ZGlvaW5wdXRcIjp0aGlzLmxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0aGlzLmVtaXQoUXkuUkVDT1JESU5HX0RFVklDRV9DSEFOR0VELGUpO2JyZWFrO2Nhc2VcInZpZGVvaW5wdXRcIjp0aGlzLmxhc3RBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uJiZ0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbiYmdGhpcy5lbWl0KFF5LkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRCxlKTticmVhaztjYXNlXCJhdWRpb291dHB1dFwiOnRoaXMubGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb24mJnRoaXMuZW1pdChReS5QTEFZT1VUX0RFVklDRV9DSEFOR0VELGUpfX0pKSxuLmF1ZGlvJiYodGhpcy5sYXN0QWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwKSxuLnZpZGVvJiYodGhpcy5sYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCl9Y2hlY2tNZWRpYURldmljZUluZm9Jc09rKGUpe2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PlwiYXVkaW9pbnB1dFwiPT09ZS5raW5kKSksaT1lLmZpbHRlcigoZT0+XCJ2aWRlb2lucHV0XCI9PT1lLmtpbmQpKSxuPXthdWRpbzohMSx2aWRlbzohMX07Zm9yKGNvbnN0IGUgb2YgdClpZihlLmxhYmVsJiZlLmRldmljZUlkKXtuLmF1ZGlvPSEwO2JyZWFrfWZvcihjb25zdCBlIG9mIGkpaWYoZS5sYWJlbCYmZS5kZXZpY2VJZCl7bi52aWRlbz0hMDticmVha31yZXR1cm4gbn19O2xldCBOQT0hMTtjb25zdCBEQT1uZXcgY2xhc3MgZXh0ZW5kcyBpVHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksbnUodGhpcyxcIm9uQXV0b3BsYXlGYWlsZWRcIix2b2lkIDApLG51KHRoaXMsXCJvbkF1ZGlvQXV0b3BsYXlGYWlsZWRcIix2b2lkIDApfX07ZnVuY3Rpb24gUEEoKXtpZihwZygpLCFOQSl7Y29uc3QgZT10PT57dC5wcmV2ZW50RGVmYXVsdCgpLE5BPSExLFVnKCk/ZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLCEwKTooZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGUsITApLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGUsITApKX07TkE9ITAsVWcoKT9kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpLEtDLmluZm8oXCJkZXRlY3QgbWVkaWEgYXV0b3BsYXkgZmFpbGVkLCBkb2N1bWVudDogaHR0cHM6Ly9kb2NzLmFnb3JhLmlvL2NuL1ZvaWNlL2F1dG9wbGF5X3BvbGljeV93ZWJfbmc/cGxhdGZvcm09V2ViXCIpLERBLm9uQXV0b3BsYXlGYWlsZWQ/REEub25BdXRvcGxheUZhaWxlZCgpOkRBLm9uQXVkaW9BdXRvcGxheUZhaWxlZD9LQy53YXJuaW5nKFwiQWdvcmFSVEMub25BdWRpb0F1dG9wbGF5RmFpbGVkIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgQWdvcmFSVEMub25BdXRvcGxheUZhaWxlZC5cXG5cXG4gIFBsZWFzZSByZWZlciB0byB0aGUgQWdvcmEgZG9jdW1lbnQgdG8gbWlncmF0ZSB0aGUgbmV3ZXIgQVBJLCBodHRwczovL2RvY3MuYWdvcmEuaW8vZW4vVm9pY2UvYXV0b3BsYXlfcG9saWN5X3dlYl9uZz9wbGF0Zm9ybT1XZWIgLlwiKTpLQy53YXJuaW5nKFwiV2UgaGF2ZSBkZXRlY3RlZCBhIG1lZGlhIGF1dG9wbGF5IGZhaWxlZCBldmVudCwgYW5kIGZvdW5kIG91dCB0aGF0IHlvdSBoYXZlbid0IGltcGxlbWVudGVkIEFnb3JhUlRDLm9uQXV0b3BsYXlGYWlsZWQgY2FsbGJhY2sgeWV0LlxcblxcbiAgSXQgd2lsbCBjYXVzZSBhdWRpby92aWRlbyBlbGVtZW50IG5vdCBwbGF5aW5nIGF1dG9tYXRpY2FsbHkgb24gc29tZSBicm93c2VycyB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24sIHBvc3NpYmx5IGh1cnRpbmcgdXNlciBleHBlcmllbmNlcy5cXG5cXG4gIFBsZWFzZSByZWZlciB0byB0aGUgQWdvcmEgZG9jdW1lbnQgdG8gcHJvcGVybHkgaGFuZGxlIGF1dG9wbGF5IGZhaWxlZCBldmVudCwgaHR0cHM6Ly9kb2NzLmFnb3JhLmlvL2VuL1ZvaWNlL2F1dG9wbGF5X3BvbGljeV93ZWJfbmc/cGxhdGZvcm09V2ViIC5cIiksREEuZW1pdChcImF1dG9wbGF5LWZhaWxlZFwiKX19ZnVuY3Rpb24gTEEoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGtBKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0xBKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOkxBKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIE1BKGUsdCxpLG4pe2lmKCFlKXJldHVybjtjb25zdCByPXJ2LmdldEJhc2VJbmZvQnlTZXNzaW9uSWQoZSk7aWYoIXIpcmV0dXJuO2NvbnN0IHM9ci5pbmZvLG89RGF0ZS5ub3coKSxhPWtBKGtBKHt9LHMpLHt9LHt2aWQ6dm9pZCAwPT09cy52aWQ/MDpOdW1iZXIocy52aWQpLGx0czpvLGVsYXBzZTpvLXIuc3RhcnRUaW1lLGNiUmVnaXN0ZXJlZDpEQS5vbkF1dG9wbGF5RmFpbGVkfHxEQS5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQ/MTotMSxlcnJvck1zZzppLG1lZGlhVHlwZTp0LHRyYWNrSWQ6bixleHRlbmQ6dm9pZCAwfSk7cnYuc2VuZCh7dHlwZTpRQy5BVVRPUExBWV9GQUlMRUQsZGF0YTphfSwhMCl9Y29uc3QgVUE9W1wicGxheVwiLFwicGxheWluZ1wiLFwibG9hZGVkZGF0YVwiLFwiY2FucGxheVwiLFwicGF1c2VcIixcInN0YWxsZWRcIixcInN1c3BlbmRcIixcIndhaXRpbmdcIixcImFib3J0XCIsXCJlbXB0aWVkXCIsXCJlbmRlZFwiLFwiZXJyb3JcIl0seEE9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7bnUodGhpcyxcIm9uQXV0b3BsYXlGYWlsZWRcIix2b2lkIDApLG51KHRoaXMsXCJlbGVtZW50TWFwXCIsbmV3IE1hcCksbnUodGhpcyxcImVsZW1lbnRTdGF0ZU1hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJlbGVtZW50c05lZWRUb1Jlc3VtZVwiLFtdKSxudSh0aGlzLFwic2lua0lkTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvblwiLCgoKT0+e0FycmF5LmZyb20odGhpcy5lbGVtZW50TWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7Y29uc3Qgbj10aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQodCkscj1pLnNyY09iamVjdC5nZXRBdWRpb1RyYWNrcygpWzBdO3dnKCk/ciYmXCJsaXZlXCI9PT1yLnJlYWR5U3RhdGUmJlwicnVubmluZ1wiPT09b0EuY3VyU3RhdGUmJihLQy5kZWJ1ZyhcImF1dG8gcmVzdW1lIGFmdGVyIGludGVycnVwdGlvbiBmb3IgaU9TIDE1XCIpLGkucGF1c2UoKSxpLnBsYXkoKSk6biYmXCJwYXVzZWRcIj09PW4mJnImJlwibGl2ZVwiPT09ci5yZWFkeVN0YXRlJiZcInJ1bm5pbmdcIj09PW9BLmN1clN0YXRlJiYoS0MuZGVidWcoXCJhdXRvIHJlc3VtZSBhZnRlciBpbnRlcnJ1cHRpb24gZm9yIGlPU1wiKSxpLnBsYXkoKSl9KSl9KSksbnUodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTZcIiwoKCk9PntBcnJheS5mcm9tKHRoaXMuZWxlbWVudE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO2NvbnN0IG49aS5zcmNPYmplY3QuZ2V0QXVkaW9UcmFja3MoKVswXTtuJiZcImxpdmVcIj09PW4ucmVhZHlTdGF0ZSYmKEtDLmRlYnVnKFwiYXV0byByZXN1bWUgYWZ0ZXIgaW50ZXJydXB0aW9uIGluc2lkZSBhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XCIpLGkucGF1c2UoKSxpLnBsYXkoKSl9KSl9KSksdGhpcy5hdXRvUmVzdW1lQXVkaW9FbGVtZW50KCksb0Eub24odXkuSU9TX0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb24pLG9BLm9uKHV5LklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNiksb0Eub24odXkuU1RBVEVfQ0hBTkdFLCgoKT0+e0NnKCkmJlwic3VzcGVuZGVkXCI9PT1vQS5wcmV2U3RhdGUmJlwicnVubmluZ1wiPT09b0EuY3VyU3RhdGUmJnRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKCl9KSl9YXN5bmMgc2V0U2lua0lEKGUsdCl7Y29uc3QgaT10aGlzLmVsZW1lbnRNYXAuZ2V0KGUpO2lmKHRoaXMuc2lua0lkTWFwLnNldChlLHQpLGkpdHJ5e2F3YWl0IGkuc2V0U2lua0lkKHQpfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5QRVJNSVNTSU9OX0RFTklFRCxcImNhbiBub3Qgc2V0IHNpbmsgaWQ6IFwiK2UudG9TdHJpbmcoKSl9fXBsYXkoZSx0LGksbil7aWYodGhpcy5lbGVtZW50TWFwLmhhcyh0KSlyZXR1cm47Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7ci5hdXRvcGxheT0hMCxyLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW2VdKSx0aGlzLmJpbmRBdWRpb0VsZW1lbnRFdmVudHModCxyKSx0aGlzLmVsZW1lbnRNYXAuc2V0KHQsciksdGhpcy5lbGVtZW50U3RhdGVNYXAuc2V0KHQsWnkuSU5JVCksdGhpcy5zZXRWb2x1bWUodCxpKTtjb25zdCBzPXRoaXMuc2lua0lkTWFwLmdldCh0KTtpZihzKXRyeXtyLnNldFNpbmtJZChzKS5jYXRjaCgoZT0+e0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHQsXCJdIHNldCBzaW5rIGlkIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpfSkpfWNhdGNoKGUpe0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHQsXCJdIHNldCBzaW5rIGlkIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpfWNvbnN0IG89ci5wbGF5KCk7byYmby50aGVuJiZvLmNhdGNoKChlPT57biYmTUEobixcImF1ZGlvXCIsZS5tZXNzYWdlLHQpLEtDLndhcm5pbmcoXCJhdWRpbyBlbGVtZW50IHBsYXkgd2FybmluZ1wiLGUudG9TdHJpbmcoKSksdGhpcy5lbGVtZW50TWFwLmhhcyh0KSYmXCJOb3RBbGxvd2VkRXJyb3JcIj09PWUubmFtZSYmKEtDLndhcm5pbmcoXCJkZXRlY3RlZCBhdWRpbyBlbGVtZW50IGF1dG9wbGF5IGZhaWxlZFwiKSx0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLnB1c2gociksQVQoKCgpPT57dGhpcy5vbkF1dG9wbGF5RmFpbGVkJiZ0aGlzLm9uQXV0b3BsYXlGYWlsZWQoKSxQQSgpfSkpKX0pKX11cGRhdGVUcmFjayhlLHQpe2NvbnN0IGk9dGhpcy5lbGVtZW50TWFwLmdldChlKTtpJiYoaS5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFt0XSkpfWlzUGxheWluZyhlKXtyZXR1cm4gdGhpcy5lbGVtZW50TWFwLmhhcyhlKSYmXCJwbGF5aW5nXCI9PT10aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQoZSl9c2V0Vm9sdW1lKGUsdCl7Y29uc3QgaT10aGlzLmVsZW1lbnRNYXAuZ2V0KGUpO2kmJih0PU1hdGgubWF4KDAsTWF0aC5taW4oMTAwLHQpKSxpLnZvbHVtZT10LzEwMCl9c3RvcChlKXtjb25zdCB0PXRoaXMuZWxlbWVudE1hcC5nZXQoZSk7aWYodGhpcy5zaW5rSWRNYXAuZGVsZXRlKGUpLCF0KXJldHVybjtjb25zdCBpPXRoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWUuaW5kZXhPZih0KTt0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLnNwbGljZShpLDEpLHQuc3JjT2JqZWN0PW51bGwsdC5yZW1vdmUoKSx0aGlzLmVsZW1lbnRNYXAuZGVsZXRlKGUpLHRoaXMuZWxlbWVudFN0YXRlTWFwLmRlbGV0ZShlKX1iaW5kQXVkaW9FbGVtZW50RXZlbnRzKGUsdCl7VUEuZm9yRWFjaCgoaT0+e3QuYWRkRXZlbnRMaXN0ZW5lcihpLChpPT57Y29uc3Qgbj10aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQoZSkscj1cInBhdXNlXCI9PT1pLnR5cGU/XCJwYXVzZWRcIjppLnR5cGU7aWYoS0MuZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIGF1ZGlvLWVsZW1lbnQtc3RhdHVzIGNoYW5nZSBcIikuY29uY2F0KG4sXCIgPT4gXCIpLmNvbmNhdChyKSksXCJlcnJvclwiPT09aS50eXBlKXtjb25zdCBpPW51bGw9PXQ/dm9pZCAwOnQuZXJyb3I7aSYmS0MuZXJyb3IoXCJbXCIuY29uY2F0KGUsXCJdIG1lZGlhIGVycm9yLCBjb2RlOiBcIikuY29uY2F0KGkuY29kZSxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChpLm1lc3NhZ2UpKX10aGlzLmVsZW1lbnRTdGF0ZU1hcC5zZXQoZSxyKX0pKX0pKX1nZXRQbGF5ZXJTdGF0ZShlKXtyZXR1cm4gdGhpcy5lbGVtZW50U3RhdGVNYXAuZ2V0KGUpfHxcInVuaW5pdFwifWF1dG9SZXN1bWVBdWRpb0VsZW1lbnQoKXtjb25zdCBlPSgpPT57dGhpcy5lbGVtZW50c05lZWRUb1Jlc3VtZS5mb3JFYWNoKChlPT57ZS5wbGF5KCkudGhlbigoZT0+e0tDLmRlYnVnKFwiQXV0byByZXN1bWUgYXVkaW8gZWxlbWVudCBzdWNjZXNzXCIpfSkpLmNhdGNoKChlPT57S0Mud2FybmluZyhcIkF1dG8gcmVzdW1lIGF1ZGlvIGVsZW1lbnQgZmFpbGVkIVwiLGUpfSkpfSkpLHRoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWU9W119O25ldyB0ZygoZT0+e2RvY3VtZW50LmJvZHk/ZSgpOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCgoKT0+ZSgpKSl9KSkudGhlbigoKCk9PntVZygpP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSwhMCk6KGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLCEwKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixlLCEwKSl9KSl9fTtmdW5jdGlvbiBWQSgpe3JldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1pLnZhbHVlO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihpLnZhbHVlPWZ1bmN0aW9uKCl7dGhpcy5faXNDbG9zZWQmJm5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGNhbm5vdCBvcGVyYXRlIGEgY2xvc2VkIHRyYWNrXCIpKS5wcmludChcIndhcm5pbmdcIixLQyk7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07Y29uc3Qgcj1uLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIgaW5zdGFuY2VvZiB0Zz9uZXcgdGcoKChlLHQpPT57ci50aGVuKGUpLmNhdGNoKHQpfSkpOnJ9KSxpfX1mdW5jdGlvbiBGQShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gQkEoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/RkEoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6RkEoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgakEgZXh0ZW5kcyBpVHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLG51KHRoaXMsXCJuYW1lXCIsXCJWaWRlb1Byb2Nlc3NvckRlc3RpbmF0aW9uXCIpLG51KHRoaXMsXCJJRFwiLFwiMFwiKSxudSh0aGlzLFwiX3NvdXJjZVwiLHZvaWQgMCksbnUodGhpcyxcInZpZGVvQ29udGV4dFwiLHZvaWQgMCksbnUodGhpcyxcImlucHV0VHJhY2tcIix2b2lkIDApLHRoaXMudmlkZW9Db250ZXh0PWV9Z2V0IGtpbmQoKXtyZXR1cm5cInZpZGVvXCJ9Z2V0IGVuYWJsZWQoKXtyZXR1cm4hMH1waXBlKCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJWaWRlb1Byb2Nlc3NvciBjYW5ub3QgcGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfXVucGlwZSgpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiVmlkZW9Qcm9jZXNzb3IgY2Fubm90IHVucGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfWVuYWJsZSgpe31kaXNhYmxlKCl7fXVwZGF0ZUlucHV0KGUpe2lmKGUuY29udGV4dCE9PXRoaXMudmlkZW9Db250ZXh0KXRocm93IG5ldyBFcnJvcihcIlByb2Nlc3NvckNvbnRleHQgcGFzc2VkIHRvIFZpZGVvVHJhY2sucHJvY2Vzc29yRGVzdGluYXRpb24gZG9lc24ndCBtYXRjaCBpdCdzIGJlbG9uZ2luZyBWaWRlb1RyYWNrJ3MgY29udGV4dC5cXG5Qcm9iYWJseSB5b3UgYXJlIG1ha2luZyBwaXBlbGluZSBsaWtlIHRoaXM6XFxudmlkZW9UcmFjazEucGlwZShwcm9jZXNzb3IpLnBpcGUodmlkZW9UcmFjazIucHJvY2Vzc29yRGVzdGluYXRpb24pLlwiKTtlLnRyYWNrJiZlLnRyYWNrIT09dGhpcy5pbnB1dFRyYWNrJiYodGhpcy52aWRlb0NvbnRleHQuY2hhaW5lZD0hMCx0aGlzLmlucHV0VHJhY2s9ZS50cmFjayx0aGlzLmVtaXQoSnkuT05fVFJBQ0ssZS50cmFjaykpfXJlc2V0KCl7dGhpcy5pbnB1dFRyYWNrPXZvaWQgMCx0aGlzLnZpZGVvQ29udGV4dC5jaGFpbmVkPSExLHRoaXMuZW1pdChKeS5PTl9UUkFDSyx2b2lkIDApfX1jbGFzcyBHQSBleHRlbmRzIGlUe3NldCBjaGFpbmVkKGUpe3RoaXMuX2NoYWluZWQ9ZX1nZXQgY2hhaW5lZCgpe3JldHVybiB0aGlzLl9jaGFpbmVkfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxudSh0aGlzLFwiY29uc3RyYWludHNNYXBcIixuZXcgTWFwKSxudSh0aGlzLFwic3RhdHNSZWdpc3RyeVwiLFtdKSxudSh0aGlzLFwidXNhZ2VSZWdpc3RyeVwiLFtdKSxudSh0aGlzLFwidHJhY2tJZFwiLHZvaWQgMCksbnUodGhpcyxcImRpcmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcIl9jaGFpbmVkXCIsITEpLHRoaXMudHJhY2tJZD1lLHRoaXMuZGlyZWN0aW9uPXR9YXN5bmMgZ2V0Q29uc3RyYWludHMoKXtyZXR1cm4gYXdhaXQgZlQodGhpcyx6eS5SRVFVRVNUX0NPTlNUUkFJTlRTKX1hc3luYyByZXF1ZXN0QXBwbHlDb25zdHJhaW50cyhlLHQpe3ZhciBpO3JldHVybiBLQy5pbmZvKFwicHJvY2Vzc29yIFwiLmNvbmNhdCh0Lm5hbWUsXCIgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMgZm9yIFwiKS5jb25jYXQodGhpcy50cmFja0lkKSksZSYmdGhpcy5jb25zdHJhaW50c01hcC5zZXQodCxlKSxnVCh0aGlzLHp5LlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLEFycmF5LmZyb20oa3YoaT10aGlzLmNvbnN0cmFpbnRzTWFwKS5jYWxsKGkpKSl9YXN5bmMgcmVxdWVzdFJldmVydENvbnN0cmFpbnRzKGUpe3ZhciB0O2lmKHRoaXMuY29uc3RyYWludHNNYXAuaGFzKGUpKXJldHVybiBLQy5pbmZvKFwicHJvY2Vzc29yIFwiLmNvbmNhdChlLm5hbWUsXCIgcmVxdWVzdFJldmVydENvbnN0cmFpbnRzIGZvciBcIikuY29uY2F0KHRoaXMudHJhY2tJZCkpLHRoaXMuY29uc3RyYWludHNNYXAuZGVsZXRlKGUpLGdUKHRoaXMsenkuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsQXJyYXkuZnJvbShrdih0PXRoaXMuY29uc3RyYWludHNNYXApLmNhbGwodCkpKX1yZWdpc3RlclN0YXRzKGUsdCxpKXt0aGlzLnN0YXRzUmVnaXN0cnkuZmluZCgoaT0+aS5wcm9jZXNzb3JJRD09PWUuSUQmJmkucHJvY2Vzc29yTmFtZT09PWUubmFtZSYmaS50eXBlPT09dCkpfHx0aGlzLnN0YXRzUmVnaXN0cnkucHVzaCh7cHJvY2Vzc29yTmFtZTplLm5hbWUscHJvY2Vzc29ySUQ6ZS5JRCx0eXBlOnQsY2I6aX0pfXVucmVnaXN0ZXJTdGF0cyhlLHQpe2NvbnN0IGk9dGhpcy5zdGF0c1JlZ2lzdHJ5LmZpbmRJbmRleCgoaT0+aS5wcm9jZXNzb3JJRD09PWUuSUQmJmkucHJvY2Vzc29yTmFtZT09PWUubmFtZSYmaS50eXBlPT09dCkpOy0xIT09aSYmdGhpcy5zdGF0c1JlZ2lzdHJ5LnNwbGljZShpLDEpfWdhdGhlclN0YXRzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3R7cHJvY2Vzc29ySUQ6dCxwcm9jZXNzb3JOYW1lOmksdHlwZTpuLGNiOnJ9b2YgdGhpcy5zdGF0c1JlZ2lzdHJ5KXRyeXtjb25zdCBzPXIoKTtlLnB1c2goe3Byb2Nlc3NvcklEOnQscHJvY2Vzc29yTmFtZTppLHR5cGU6bixzdGF0czpzfSl9Y2F0Y2goZSl7S0MuZXJyb3IobmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsZS5tZXNzYWdlKSl9cmV0dXJuIGV9cmVnaXN0ZXJVc2FnZShlLHQpe3RoaXMudXNhZ2VSZWdpc3RyeS5maW5kKCh0PT50LnByb2Nlc3NvcklEPT09ZS5JRCYmdC5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lKSl8fHRoaXMudXNhZ2VSZWdpc3RyeS5wdXNoKHtwcm9jZXNzb3JJRDplLklELHByb2Nlc3Nvck5hbWU6ZS5uYW1lLGNiOnR9KX11bnJlZ2lzdGVyVXNhZ2UoZSl7Y29uc3QgdD10aGlzLnVzYWdlUmVnaXN0cnkuZmluZEluZGV4KCh0PT50LnByb2Nlc3NvcklEPT09ZS5JRCYmdC5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lKSk7LTEhPT10JiZ0aGlzLnVzYWdlUmVnaXN0cnkuc3BsaWNlKHQsMSl9YXN5bmMgZ2F0aGVyVXNhZ2UoKXtjb25zdCBlPVtdO2lmKCF0aGlzLmNoYWluZWQpcmV0dXJuW107Zm9yKGNvbnN0e2NiOnR9b2YgdGhpcy51c2FnZVJlZ2lzdHJ5KXRyeXtsZXQgaT10KCk7aSBpbnN0YW5jZW9mIHRnJiYoaT1hd2FpdCBpKSxlLnB1c2goQkEoQkEoe30saSkse30se2RpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn0pKX1jYXRjaChlKXtLQy5lcnJvcihcImdhdGhlciBleHRlbnNpb24gdXNhZ2UgZXJyb3JcIixlKX1yZXR1cm4gZX1nZXREaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb259fWNsYXNzIFdBIGV4dGVuZHMgaVR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxudSh0aGlzLFwibmFtZVwiLFwiQXVkaW9Qcm9jZXNzb3JEZXN0aW5hdGlvblwiKSxudSh0aGlzLFwiSURcIixcIjBcIiksbnUodGhpcyxcImlucHV0VHJhY2tcIix2b2lkIDApLG51KHRoaXMsXCJpbnB1dE5vZGVcIix2b2lkIDApLG51KHRoaXMsXCJhdWRpb1Byb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLG51KHRoaXMsXCJfc291cmNlXCIsdm9pZCAwKSx0aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dD1lfWdldCBraW5kKCl7cmV0dXJuXCJhdWRpb1wifWdldCBlbmFibGVkKCl7cmV0dXJuITB9cGlwZSgpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiQXVkaW9Qcm9jZXNzb3JEZXN0aW5hdGlvbiBjYW5ub3QgcGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfXVucGlwZSgpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiQXVkaW9Qcm9jZXNzb3IgY2Fubm90IHVucGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfWVuYWJsZSgpe31kaXNhYmxlKCl7fXJlc2V0KCl7dGhpcy5pbnB1dFRyYWNrPXZvaWQgMCx0aGlzLmlucHV0Tm9kZT12b2lkIDAsdGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQuY2hhaW5lZD0hMSx0aGlzLmVtaXQoSnkuT05fVFJBQ0ssdm9pZCAwKSx0aGlzLmVtaXQoSnkuT05fTk9ERSx2b2lkIDApfXVwZGF0ZUlucHV0KGUpe2lmKGUuY29udGV4dCE9PXRoaXMuYXVkaW9Qcm9jZXNzb3JDb250ZXh0KXRocm93IG5ldyBFcnJvcihcIlByb2Nlc3NvckNvbnRleHQgcGFzc2VkIHRvIEF1ZGlvVHJhY2sucHJvY2Vzc29yRGVzdGluYXRpb24gZG9lc24ndCBtYXRjaCBpdCdzIGJlbG9uZ2luZyBBdWRpb1RyYWNrJ3MgY29udGV4dC5cXG4gICAgICAgIFByb2JhYmx5IHlvdSBhcmUgbWFraW5nIHBpcGVsaW5lIGxpa2UgdGhpczogYXVkaW9UcmFjazEucGlwZShwcm9jZXNzb3IpLnBpcGUoYXVkaW9UcmFjazIucHJvY2Vzc29yRGVzdGluYXRpb24pLlwiKTtlLnRyYWNrJiZ0aGlzLmlucHV0VHJhY2shPT1lLnRyYWNrJiYodGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQuY2hhaW5lZD0hMCx0aGlzLmlucHV0VHJhY2s9ZS50cmFjayx0aGlzLmVtaXQoSnkuT05fVFJBQ0ssdGhpcy5pbnB1dFRyYWNrKSksZS5ub2RlJiZ0aGlzLmlucHV0Tm9kZSE9PWUubm9kZSYmKHRoaXMuYXVkaW9Qcm9jZXNzb3JDb250ZXh0LmNoYWluZWQ9ITAsdGhpcy5pbnB1dE5vZGU9ZS5ub2RlLHRoaXMuZW1pdChKeS5PTl9OT0RFLHRoaXMuaW5wdXROb2RlKSl9fWNsYXNzIEhBIGV4dGVuZHMgaVR7c2V0IGNoYWluZWQoZSl7dGhpcy5fY2hhaW5lZD1lfWdldCBjaGFpbmVkKCl7cmV0dXJuIHRoaXMuX2NoYWluZWR9Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKCksbnUodGhpcyxcImNvbnN0cmFpbnRzTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcInN0YXRzUmVnaXN0cnlcIixbXSksbnUodGhpcyxcImF1ZGlvQ29udGV4dFwiLHZvaWQgMCksbnUodGhpcyxcInRyYWNrSWRcIix2b2lkIDApLG51KHRoaXMsXCJkaXJlY3Rpb25cIix2b2lkIDApLG51KHRoaXMsXCJ1c2FnZVJlZ2lzdHJ5XCIsW10pLG51KHRoaXMsXCJfY2hhaW5lZFwiLCExKSx0aGlzLmF1ZGlvQ29udGV4dD1lLHRoaXMudHJhY2tJZD10LHRoaXMuZGlyZWN0aW9uPWl9YXN5bmMgZ2V0Q29uc3RyYWludHMoKXtyZXR1cm4gZlQodGhpcyx6eS5SRVFVRVNUX0NPTlNUUkFJTlRTKX1nZXRBdWRpb0NvbnRleHQoKXtyZXR1cm4gdGhpcy5hdWRpb0NvbnRleHR9YXN5bmMgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMoZSx0KXt2YXIgaTtyZXR1cm4gS0MuaW5mbyhcInByb2Nlc3NvciBcIi5jb25jYXQodC5uYW1lLFwiIHJlcXVlc3RBcHBseUNvbnN0cmFpbnRzIGZvciBcIikuY29uY2F0KHRoaXMudHJhY2tJZCkpLGUmJnRoaXMuY29uc3RyYWludHNNYXAuc2V0KHQsZSksZ1QodGhpcyx6eS5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKGt2KGk9dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbChpKSkpfWFzeW5jIHJlcXVlc3RSZXZlcnRDb25zdHJhaW50cyhlKXt2YXIgdDtpZih0aGlzLmNvbnN0cmFpbnRzTWFwLmhhcyhlKSlyZXR1cm4gdGhpcy5jb25zdHJhaW50c01hcC5kZWxldGUoZSksZ1QodGhpcyx6eS5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKGt2KHQ9dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbCh0KSkpfXJlZ2lzdGVyU3RhdHMoZSx0LGkpe3RoaXMuc3RhdHNSZWdpc3RyeS5maW5kKChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZpLnR5cGU9PT10KSl8fHRoaXMuc3RhdHNSZWdpc3RyeS5wdXNoKHtwcm9jZXNzb3JOYW1lOmUubmFtZSxwcm9jZXNzb3JJRDplLklELHR5cGU6dCxjYjppfSl9dW5yZWdpc3RlclN0YXRzKGUsdCl7Y29uc3QgaT10aGlzLnN0YXRzUmVnaXN0cnkuZmluZEluZGV4KChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZpLnR5cGU9PT10KSk7LTEhPT1pJiZ0aGlzLnN0YXRzUmVnaXN0cnkuc3BsaWNlKGksMSl9Z2F0aGVyU3RhdHMoKXtjb25zdCBlPVtdO2Zvcihjb25zdHtwcm9jZXNzb3JJRDp0LHByb2Nlc3Nvck5hbWU6aSx0eXBlOm4sY2I6cn1vZiB0aGlzLnN0YXRzUmVnaXN0cnkpdHJ5e2NvbnN0IHM9cigpO2UucHVzaCh7cHJvY2Vzc29ySUQ6dCxwcm9jZXNzb3JOYW1lOmksdHlwZTpuLHN0YXRzOnN9KX1jYXRjaChlKXtLQy5lcnJvcihuZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixlLm1lc3NhZ2UpKX1yZXR1cm4gZX1yZWdpc3RlclVzYWdlKGUsdCl7dGhpcy51c2FnZVJlZ2lzdHJ5LmZpbmQoKHQ9PnQucHJvY2Vzc29ySUQ9PT1lLklEJiZ0LnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpKXx8dGhpcy51c2FnZVJlZ2lzdHJ5LnB1c2goe3Byb2Nlc3NvcklEOmUuSUQscHJvY2Vzc29yTmFtZTplLm5hbWUsY2I6dH0pfXVucmVnaXN0ZXJVc2FnZShlKXtjb25zdCB0PXRoaXMudXNhZ2VSZWdpc3RyeS5maW5kSW5kZXgoKHQ9PnQucHJvY2Vzc29ySUQ9PT1lLklEJiZ0LnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpKTstMSE9PXQmJnRoaXMudXNhZ2VSZWdpc3RyeS5zcGxpY2UodCwxKX1hc3luYyBnYXRoZXJVc2FnZSgpe2NvbnN0IGU9W107aWYoIXRoaXMuY2hhaW5lZClyZXR1cm5bXTtmb3IoY29uc3R7Y2I6dH1vZiB0aGlzLnVzYWdlUmVnaXN0cnkpdHJ5e2xldCBpPXQoKTtpIGluc3RhbmNlb2YgdGcmJihpPWF3YWl0IGkpLGUucHVzaChCQShCQSh7fSxpKSx7fSx7ZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9ufSkpfWNhdGNoKGUpe0tDLmVycm9yKFwiZ2F0aGVyIGV4dGVuc2lvbiB1c2FnZSBlcnJvclwiLGUpfXJldHVybiBlfWdldERpcmVjdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdGlvbn19Y2xhc3MgS0EgZXh0ZW5kcyBpVHtnZXQgaXNQbGF5ZWQoKXtyZXR1cm4hMH1nZXQgaXNGcmVlemUoKXtyZXR1cm4hMX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksbnUodGhpcyxcImNvbnRleHRcIix2b2lkIDApLG51KHRoaXMsXCJwcm9jZXNzU291cmNlTm9kZVwiLHZvaWQgMCksbnUodGhpcyxcIm91dHB1dFRyYWNrXCIsdm9pZCAwKSxudSh0aGlzLFwicHJvY2Vzc2VkTm9kZVwiLHZvaWQgMCksbnUodGhpcyxcImNsb25lZFRyYWNrXCIsdm9pZCAwKSxudSh0aGlzLFwib3V0cHV0Tm9kZVwiLHZvaWQgMCksdGhpcy5vdXRwdXROb2RlPW5ldyBZQX1zZXRWb2x1bWUoKXt9Y3JlYXRlT3V0cHV0VHJhY2soKXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgY3JlYXRlIG91dHB1dCBNZWRpYVN0cmVhbVRyYWNrIHdoZW4gV2ViQXVkaW8gZGlzYWJsZWRcIil9Z2V0T3JpZ2luVm9sdW1lTGV2ZWwoKXtyZXR1cm4gMH1nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCl7cmV0dXJuIDB9c3RvcEdldEF1ZGlvQnVmZmVyKCl7fXN0YXJ0R2V0QXVkaW9CdWZmZXIoKXt9cGxheSgpe31zdG9wKCl7fWRlc3Ryb3koKXt9dXBkYXRlVHJhY2soKXt9dXBkYXRlT3JpZ2luVHJhY2soKXt9Y3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2VOb2RlKCl7fX1jbGFzcyBZQXtkaXNjb25uZWN0KCl7fWNvbm5lY3QoKXt9fWxldCBxQT1udWxsO2NsYXNzIEpBe2NvbnN0cnVjdG9yKCl7bnUodGhpcyxcInN0YXRlXCIsXCJvcGVuXCIpLG51KHRoaXMsXCJ0cmlnZ2VyXCIsdm9pZCAwKSxudSh0aGlzLFwidGFza3NcIixbXSksS0MuZGVidWcoXCJbbWFjcm8tdGFzay1xdWV1ZV0gaXMgY3JlYXRlZC5cIiksdGhpcy50cmlnZ2VyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3RoaXMuc3RhdGU9XCJjbG9zZWRcIixLQy5kZWJ1ZyhcIlttYWNyby10YXNrLXF1ZXVlXSB3aWxsIGJlIGNsb3NlZCwgYWxsIHJlbWFpbmluZyB0YXNrcyB3aWxsIGV4ZWN1dGUuIFtcIi5jb25jYXQodGhpcy50YXNrcy5tYXAoKGU9PmUua2V5KSksXCJdXCIpKSx0aGlzLnRyaWdnZXI9dm9pZCAwLHRoaXMudGFza3MuZm9yRWFjaCgoZT0+e2xldHtmdW5jOnR9PWU7cmV0dXJuIHQoKX0pKSx0aGlzLnRhc2tzLmxlbmd0aD0wLEtDLmRlYnVnKFwiW21hY3JvLXRhc2stcXVldWVdIGlzIGNsb3NlZC5cIil9KSl9ZW5xdWV1ZShlLHQpe1wiY2xvc2VkXCIhPT10aGlzLnN0YXRlJiYodGhpcy50YXNrcy5wdXNoKHtrZXk6ZSxmdW5jOnR9KSxLQy5kZWJ1ZyhcIlttYWNyby10YXNrLXF1ZXVlXSBpcyBxdWV1ZWQsIGN1cnJlbnQgcXVldWUgXCIuY29uY2F0KHRoaXMudGFza3MubGVuZ3RoLFwiLiBcIikuY29uY2F0KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6XCJcIikpKX1ydW5UYXNrKGUpe2lmKFwiY2xvc2VkXCI9PT10aGlzLnN0YXRlKXJldHVybjtjb25zdCB0PXRoaXMudGFza3MuZmluZEluZGV4KCh0PT50LmtleT09PWUpKTtpZigtMSE9PXQpe2NvbnN0IGk9dGhpcy50YXNrcy5zcGxpY2UodCwxKTtLQy5kZWJ1ZyhcIlttYWNyby10YXNrLXF1ZXVlXSBpcyB1bnF1ZXVlZCwgY3VycmVudCBxdWV1ZSBcIi5jb25jYXQodGhpcy50YXNrcy5sZW5ndGgsXCIuIFwiKS5jb25jYXQoXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpcIlwiKSksaVswXS5mdW5jKCl9fXJlbGVhc2UoKXt0aGlzLnRyaWdnZXImJih0aGlzLnN0YXRlPVwiY2xvc2VkXCIsY2xlYXJUaW1lb3V0KHRoaXMudHJpZ2dlciksdGhpcy50cmlnZ2VyPXZvaWQgMCx0aGlzLnRhc2tzLmxlbmd0aD0wLEtDLmRlYnVnKFwiW21hY3JvLXRhc2stcXVldWVdIGlzIGNsb3NlZC5cIikpfX1mdW5jdGlvbiB6QShlKXtyZXR1cm4gZnVuY3Rpb24odCxpLG4pe3ZhciByO2NvbnN0IHM9bnVsbCE9PShyPW4udmFsdWUpJiZ2b2lkIDAhPT1yP3I6bi5nZXQsbz1mdW5jdGlvbigpe3FBJiZcIm9wZW5cIj09PXFBLnN0YXRlJiZxQS5ydW5UYXNrKGUpO2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWlbbl09YXJndW1lbnRzW25dO3JldHVybiBudWxsPT1zP3ZvaWQgMDpzLmFwcGx5KHRoaXMsLi4uaSl9O3JldHVybiBuLnZhbHVlP24udmFsdWU9bzpuLmdldD1vLG59fWZ1bmN0aW9uIFhBKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBRQShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9YQShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpYQShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBaQSBleHRlbmRzIGlBe2dldCBfc291cmNlKCl7cmV0dXJuIHRoaXMuX3RyYWNrU291cmNlfXNldCBfc291cmNlKGUpe3RoaXMuX3RyYWNrU291cmNlPWV9Z2V0IHByb2Nlc3NvckNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dH1zZXQgcHJvY2Vzc29yQ29udGV4dChlKXt0aGlzLl9wcm9jZXNzb3JDb250ZXh0PWV9Z2V0IHByb2Nlc3NvckRlc3RpbmF0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9ufXNldCBwcm9jZXNzb3JEZXN0aW5hdGlvbihlKXt0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbj1lfWdldCBpc1BsYXlpbmcoKXtyZXR1cm4gdGhpcy5fdXNlQXVkaW9FbGVtZW50P3hBLmlzUGxheWluZyh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLmlzUGxheWVkfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuXCJMb2NhbEF1ZGlvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuLHIpe3N1cGVyKGUsaSksbnUodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsXCJhdWRpb1wiKSxudSh0aGlzLFwiX2VuY29kZXJDb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJfdHJhY2tTb3VyY2VcIix2b2lkIDApLG51KHRoaXMsXCJfZW5hYmxlZFwiLCEwKSxudSh0aGlzLFwiX3ZvbHVtZVwiLDEwMCksbnUodGhpcyxcIl91c2VBdWRpb0VsZW1lbnRcIiwhMSksbnUodGhpcyxcIl9ieXBhc3NXZWJBdWRpb1wiLCExKSxudSh0aGlzLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxudSh0aGlzLFwiX3Byb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLG51KHRoaXMsXCJfcHJvY2Vzc29yRGVzdGluYXRpb25cIix2b2lkIDApLG51KHRoaXMsXCJfZ2V0T3JpZ2luVm9sdW1lTGV2ZWxcIix2b2lkIDApLHRoaXMuX2VuY29kZXJDb25maWc9dCx0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbD0hIW47Y29uc3Qgcz0oKT0+e3RoaXMucHJvY2Vzc29yQ29udGV4dD1uZXcgSEEodGhpcy5fc291cmNlLmNvbnRleHQsdGhpcy5nZXRUcmFja0lkKCksXCJsb2NhbFwiKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uPW5ldyBXQSh0aGlzLnByb2Nlc3NvckNvbnRleHQpLHRoaXMuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCksdGhpcy5fc291cmNlLm9uKGp5LlVQREFURV9TT1VSQ0UsKCgpPT57dGhpcy5wcm9jZXNzb3ImJnRoaXMucHJvY2Vzc29yLnVwZGF0ZUlucHV0KHtub2RlOnRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pfSkpfSxvPXImJlNnKCkmJiFkQSgpO2lmKGtDKFwiRElTQUJMRV9XRUJBVURJT1wiKT8odGhpcy5fc291cmNlPW5ldyBLQSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITAsdGhpcy5fYnlwYXNzV2ViQXVkaW89ITApOm8/dGhpcy5fc291cmNlPW5ldyBLQToodGhpcy5fc291cmNlPW5ldyBmQShlLCExLHRoaXMuX2dldE9yaWdpblZvbHVtZUxldmVsP2U6dm9pZCAwKSxrQyhcIkxPQ0FMX0FVRElPX1RSQUNLX1VTRVNfV0VCX0FVRElPXCIpfHwodGhpcy5fdXNlQXVkaW9FbGVtZW50PSEwKSkscygpLCFrQyhcIkRJU0FCTEVfV0VCQVVESU9cIikmJm8peyhxQXx8KHFBPW5ldyBKQSkscUEpLmVucXVldWUoXCJJTklUX1dFQkFVRElPXCIsKCgpPT57dGhpcy5fc291cmNlPW5ldyBmQShlLCExLHRoaXMuX2dldE9yaWdpblZvbHVtZUxldmVsP2U6dm9pZCAwKSxrQyhcIkxPQ0FMX0FVRElPX1RSQUNLX1VTRVNfV0VCX0FVRElPXCIpfHwodGhpcy5fdXNlQXVkaW9FbGVtZW50PSEwKSxzKCksdGhpcy5lbWl0KEd5LlVQREFURV9UUkFDS19TT1VSQ0UpfSkpfX1zZXRWb2x1bWUoZSl7amcoZSxcInZvbHVtZVwiLDAsMWUzKSx0aGlzLl92b2x1bWU9ZSx0aGlzLl9zb3VyY2Uuc2V0Vm9sdW1lKGUvMTAwKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQmJnhBLnNldFZvbHVtZSh0aGlzLmdldFRyYWNrSWQoKSxlKTt0cnl7aWYodGhpcy5fYnlwYXNzV2ViQXVkaW8pcmV0dXJuIHZvaWQgS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRWb2x1bWUgcmV0dXJuZWQgYmVjYXVzZSBubyBwYXNzIHRocm91Z2ggV2ViQXVkaW8uXCIpKTtjb25zdCBlPXRoaXMuX3NvdXJjZS5jcmVhdGVPdXRwdXRUcmFjaygpO3RoaXMuX21lZGlhU3RyZWFtVHJhY2shPT1lJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLGdUKHRoaXMsTHkuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpLnRoZW4oKCgpPT57S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSByZXBsYWNlIHdlYiBhdWRpbyB0cmFjayBzdWNjZXNzXCIpKX0pKS5jYXRjaCgoZT0+e0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSByZXBsYWNlIHdlYiBhdWRpbyB0cmFjayBmYWlsZWRcIiksZSl9KSkpfWNhdGNoKGUpe319Z2V0Vm9sdW1lTGV2ZWwoKXtyZXR1cm4gdGhpcy5fbXV0ZWQmJnRoaXMuZW5hYmxlZCYmdGhpcy5fZ2V0T3JpZ2luVm9sdW1lTGV2ZWw/dGhpcy5fc291cmNlLmdldE9yaWdpblZvbHVtZUxldmVsKCk6dGhpcy5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKX1hc3luYyBzZXRQbGF5YmFja0RldmljZShlKXtpZighdGhpcy5fdXNlQXVkaW9FbGVtZW50KXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwieW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2V0dGluZyB0aGUgYXVkaW8gb3V0cHV0IGRldmljZVwiKTthd2FpdCB4QS5zZXRTaW5rSUQodGhpcy5nZXRUcmFja0lkKCksZSl9YXN5bmMgc2V0RW5hYmxlZChlLHQsaSl7cmV0dXJuIHRoaXMuX3NldEVuYWJsZWQoZSx0LGkpfWFzeW5jIF9zZXRFbmFibGVkKGUsdCxpKXtpZighaSl7aWYoZT09PXRoaXMuX2VuYWJsZWQpcmV0dXJuO3RoaXMuc3RhdGVDaGVjayhcImVuYWJsZWRcIixlKX1pZihLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0RW5hYmxlZFwiKSxlKSxlKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITA7dHJ5e2l8fCh0aGlzLl9lbmFibGVkPSEwKSxhd2FpdCBnVCh0aGlzLEx5Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpLEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIFwiKS5jb25jYXQoZSxcIiBzdWNjZXNzXCIpKX1jYXRjaChlKXt0aHJvdyBpfHwodGhpcy5fZW5hYmxlZD0hMSksS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIHRydWUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfX1lbHNle3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMSxpfHwodGhpcy5fZW5hYmxlZD0hMSk7dHJ5e2F3YWl0IGdUKHRoaXMsTHkuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IGl8fCh0aGlzLl9lbmFibGVkPSEwKSxLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2UgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfX19YXN5bmMgc2V0TXV0ZWQoZSl7ZSE9PXRoaXMuX211dGVkJiYodGhpcy5zdGF0ZUNoZWNrKFwibXV0ZWRcIixlKSx0aGlzLl9tdXRlZD1lLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hZSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldCBtdXRlZDogXCIpLmNvbmNhdChlKSksZT9hd2FpdCBnVCh0aGlzLEx5Lk5FRURfTVVURV9UUkFDSyx0aGlzKTphd2FpdCBnVCh0aGlzLEx5Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMpKX1nZXRTdGF0cygpe05UKCgoKT0+e0tDLndhcm5pbmcoXCJbZGVwcmVjYXRlZF0gTG9jYWxBdWRpb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0TG9jYWxBdWRpb1N0YXRzIGluc3RlYWRcIil9KSxcImxvY2FsQXVkaW9UcmFja0dldFN0YXRzV2FybmluZ1wiKTtjb25zdCBlPVRUKHRoaXMsTHkuR0VUX1NUQVRTKTtyZXR1cm4gZXx8UUEoe30sV3kpfXNldEF1ZGlvRnJhbWVDYWxsYmFjayhlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NDA5NjtpZighZSlyZXR1cm4gdGhpcy5fc291cmNlLnJlbW92ZUFsbExpc3RlbmVycyhqeS5PTl9BVURJT19CVUZGRVIpLHZvaWQgdGhpcy5fc291cmNlLnN0b3BHZXRBdWRpb0J1ZmZlcigpO3RoaXMuX3NvdXJjZS5zdGFydEdldEF1ZGlvQnVmZmVyKHQpLHRoaXMuX3NvdXJjZS5yZW1vdmVBbGxMaXN0ZW5lcnMoankuT05fQVVESU9fQlVGRkVSKSx0aGlzLl9zb3VyY2Uub24oankuT05fQVVESU9fQlVGRkVSLCh0PT5lKHQpKSl9cGxheSgpe0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgYXVkaW8gcGxheWJhY2tcIikpLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD8oS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBhdWRpbyBwbGF5YmFjayBpbiBlbGVtZW50XCIpKSx4QS5wbGF5KHRoaXMuX21lZGlhU3RyZWFtVHJhY2ssdGhpcy5nZXRUcmFja0lkKCksdGhpcy5fdm9sdW1lKSk6dGhpcy5fc291cmNlLnBsYXkoKX1zdG9wKCl7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdG9wIGF1ZGlvIHBsYXliYWNrXCIpKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/eEEuc3RvcCh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLnN0b3AoKX1jbG9zZSgpe3N1cGVyLmNsb3NlKCksdGhpcy51bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpLHRoaXMudW5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cygpLHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5fc291cmNlJiZ0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLl9zb3VyY2UudW5waXBlKCksdGhpcy5fc291cmNlLmRlc3Ryb3koKX1fdXBkYXRlUGxheWVyU291cmNlKCl7bGV0IGU9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZSBwbGF5ZXIgc291cmNlIHRyYWNrXCIpKSxlJiZ0aGlzLl9zb3VyY2UudXBkYXRlVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayksdGhpcy5fdXNlQXVkaW9FbGVtZW50JiZ4QS51cGRhdGVUcmFjayh0aGlzLmdldFRyYWNrSWQoKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKX1hc3luYyBfdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLHQpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2shPT1lJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksdCYmdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX211dGVkJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExKSx0aGlzLnByb2Nlc3NvciYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe3RyYWNrOmUsY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fc291cmNlLm91dHB1dFRyYWNrPyh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQgZ1QodGhpcyxMeS5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpOnRoaXMuX3NvdXJjZS51cGRhdGVUcmFjayh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbCYmdGhpcy5fc291cmNlLnVwZGF0ZU9yaWdpblRyYWNrKGUpKX1yZW5ld01lZGlhU3RyZWFtVHJhY2soZSl7cmV0dXJuIHRnLnJlc29sdmUodm9pZCAwKX1waXBlKGUpe2lmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbiBub3QgcHJvY2VzcyBBdWRpb1RyYWNrIHdoZW4gYnlwYXNzV2ViQXVkaW8gc2V0IHRvIHRydWUuXCIpO2lmKHRoaXMucHJvY2Vzc29yPT09ZSlyZXR1cm4gZTtpZihlLl9zb3VyY2UpdGhyb3cgbmV3IFZnKHhnLklOVkFMSURfT1BFUkFUSU9OLFwiUHJvY2Vzc29yIFwiLmNvbmNhdChlLm5hbWUsXCIgYWxyZWFkeSBwaXBlZCwgcGxlYXNlIGNhbGwgdW5waXBlIGJlZm9yZWhhbmQuXCIpKTtyZXR1cm4gdGhpcy51bnBpcGUoKSx0aGlzLnByb2Nlc3Nvcj1lLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9dGhpcyxlLnVwZGF0ZUlucHV0KHt0cmFjazp0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLG5vZGU6dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSksZX11bnBpcGUoKXt2YXIgZTtpZighdGhpcy5wcm9jZXNzb3IpcmV0dXJuO2NvbnN0IHQ9dGhpcy5wcm9jZXNzb3I7bnVsbD09PShlPXRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSl8fHZvaWQgMD09PWV8fGUuZGlzY29ubmVjdCgpLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9ITEsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLHQucmVzZXQoKX1iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKEp5Lk9OX1RSQUNLLChhc3luYyBlPT57ZT9lIT09dGhpcy5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoITEpLHRoaXMuX3NvdXJjZS5wcm9jZXNzZWROb2RlPXRoaXMuX3NvdXJjZS5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZU5vZGUoZSksYXdhaXQgZ1QodGhpcyxMeS5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IGdUKHRoaXMsTHkuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpKX0pKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKEp5Lk9OX05PREUsKGU9Pnt0aGlzLl9zb3VyY2UucHJvY2Vzc2VkTm9kZT1lfSkpfXVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoSnkuT05fVFJBQ0spLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKEp5Lk9OX05PREUpfXVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKXt0aGlzLnByb2Nlc3NvckNvbnRleHQucmVtb3ZlQWxsTGlzdGVuZXJzKHp5LlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTKSx0aGlzLnByb2Nlc3NvckNvbnRleHQucmVtb3ZlQWxsTGlzdGVuZXJzKHp5LlJFUVVFU1RfQ09OU1RSQUlOVFMpfX1NdihbekEoXCJJTklUX1dFQkFVRElPXCIpLFV2KFwiZGVzaWduOnR5cGVcIixPYmplY3QpLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSldLFpBLnByb3RvdHlwZSxcIl9zb3VyY2VcIixudWxsKSxNdihbekEoXCJJTklUX1dFQkFVRElPXCIpLFV2KFwiZGVzaWduOnR5cGVcIixIQSksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtIQV0pXSxaQS5wcm90b3R5cGUsXCJwcm9jZXNzb3JDb250ZXh0XCIsbnVsbCksTXYoW3pBKFwiSU5JVF9XRUJBVURJT1wiKSxVdihcImRlc2lnbjp0eXBlXCIsV0EpLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbV0FdKV0sWkEucHJvdG90eXBlLFwicHJvY2Vzc29yRGVzdGluYXRpb25cIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XSx0aHJvdHRsZVRpbWU6MzAwfSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW051bWJlcl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxaQS5wcm90b3R5cGUsXCJzZXRWb2x1bWVcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLFZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFpBLnByb3RvdHlwZSxcInNldFBsYXliYWNrRGV2aWNlXCIsbnVsbCksTXYoW3FUKFwiTG9jYWxBdWRpb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLG52KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxWQSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtCb29sZWFuLE9iamVjdCxCb29sZWFuXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sWkEucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLG51bGwpLE12KFtxVChcIkxvY2FsQXVkaW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFpBLnByb3RvdHlwZSxcInNldE11dGVkXCIsbnVsbCksTXYoW1ZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIixPYmplY3QpXSxaQS5wcm90b3R5cGUsXCJnZXRTdGF0c1wiLG51bGwpLE12KFtWQSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsTnVtYmVyXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLFpBLnByb3RvdHlwZSxcInNldEF1ZGlvRnJhbWVDYWxsYmFja1wiLG51bGwpLE12KFtudih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLFpBLnByb3RvdHlwZSxcInBsYXlcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxaQS5wcm90b3R5cGUsXCJzdG9wXCIsbnVsbCksTXYoW252KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLFpBLnByb3RvdHlwZSxcImNsb3NlXCIsbnVsbCksTXYoW252KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdC5uYW1lXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsT2JqZWN0KV0sWkEucHJvdG90eXBlLFwicGlwZVwiLG51bGwpLE12KFtudih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxaQS5wcm90b3R5cGUsXCJ1bnBpcGVcIixudWxsKTtjbGFzcyAkQSBleHRlbmRzIFpBe2dldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuXCJNaWNyb3Bob25lQXVkaW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKGUsdC5lbmNvZGVyQ29uZmlnP055KHQuZW5jb2RlckNvbmZpZyk6e30sbixrQyhcIkdFVF9WT0xVTUVfT0ZfTVVURURfQVVESU9fVFJBQ0tcIiksITApLG51KHRoaXMsXCJfY29uZmlnXCIsdm9pZCAwKSxudSh0aGlzLFwiX2RldmljZU5hbWVcIixcImRlZmF1bHRcIiksbnUodGhpcyxcIl9jb25zdHJhaW50c1wiLHZvaWQgMCksbnUodGhpcyxcIl9vcmlnaW5hbENvbnN0cmFpbnRzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2VuYWJsZWRcIiwhMCksdGhpcy5fY29uZmlnPXQsdGhpcy5fY29uc3RyYWludHM9aSx0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzPWksdGhpcy5fZGV2aWNlTmFtZT1lLmxhYmVsLFwiYm9vbGVhblwiPT10eXBlb2YgdC5ieXBhc3NXZWJBdWRpbyYmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvPXQuYnlwYXNzV2ViQXVkaW8pLCh3ZygpfHxPZygpKSYmb0EuYmluZEludGVycnVwdERldGVjdG9yVHJhY2sodGhpcyksdGhpcy5vbihHeS5VUERBVEVfVFJBQ0tfU09VUkNFLCgoKT0+e3RoaXMuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKX0pKSxkQSgpJiZ0aGlzLmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKCl9YXN5bmMgc2V0RGV2aWNlKGUpe2lmKEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXQgZGV2aWNlIHRvIFwiKS5jb25jYXQoZSkpLHRoaXMuX2VuYWJsZWQpdHJ5e2NvbnN0IHQ9YXdhaXQgT0EuZ2V0RGV2aWNlQnlJZChlKSxpPXt9O2kuYXVkaW89UUEoe30sdGhpcy5fY29uc3RyYWludHMpLGkuYXVkaW8uZGV2aWNlSWQ9e2V4YWN0OmV9LHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpO2xldCBuPW51bGw7dHJ5e249YXdhaXQgeUEoaSx0aGlzLmdldFRyYWNrSWQoKSl9Y2F0Y2goZSl7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2UgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksbj1hd2FpdCB5QSh7YXVkaW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKSxhd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKG4uZ2V0QXVkaW9UcmFja3MoKVswXSwhMSksZX1hd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKG4uZ2V0QXVkaW9UcmFja3MoKVswXSwhMSksdGhpcy5fZGV2aWNlTmFtZT10LmxhYmVsLHRoaXMuX2NvbmZpZy5taWNyb3Bob25lSWQ9ZSx0aGlzLl9jb25zdHJhaW50cy5kZXZpY2VJZD17ZXhhY3Q6ZX19Y2F0Y2goZSl7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2UgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfWVsc2UgdHJ5e2NvbnN0IHQ9YXdhaXQgT0EuZ2V0RGV2aWNlQnlJZChlKTt0aGlzLl9kZXZpY2VOYW1lPXQubGFiZWwsdGhpcy5fY29uZmlnLm1pY3JvcGhvbmVJZD1lLHRoaXMuX2NvbnN0cmFpbnRzLmRldmljZUlkPXtleGFjdDplfX1jYXRjaChlKXt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBkZXZpY2UgdG8gXCIpLmNvbmNhdChlLFwiIHN1Y2Nlc3NcIikpfWFzeW5jIHNldEVuYWJsZWQoZSx0LGkpe2lmKHQpcmV0dXJuIEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCBmYWxzZSAoZG8gbm90IGNsb3NlIG1pY3JvcGhvbmUpXCIpKSxhd2FpdCBzdXBlci5fc2V0RW5hYmxlZChlKTtpZighaSl7aWYoZT09PXRoaXMuX2VuYWJsZWQpcmV0dXJuO3RoaXMuc3RhdGVDaGVjayhcImVuYWJsZWRcIixlKX1pZihLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0RW5hYmxlZFwiKSxlKSwhZSl7dmFyIG47dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5vbmVuZGVkPW51bGwsdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksbnVsbD09PShuPXRoaXMuX3NvdXJjZS5jbG9uZWRUcmFjayl8fHZvaWQgMD09PW58fG4uc3RvcCgpLGl8fCh0aGlzLl9lbmFibGVkPSExKTt0cnl7YXdhaXQgZ1QodGhpcyxMeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcyl9Y2F0Y2goZSl7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIGZhbHNlIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLGV9cmV0dXJufWNvbnN0IHI9UUEoe30sdGhpcy5fY29uc3RyYWludHMpLHM9T0Euc2VhcmNoRGV2aWNlSWRCeU5hbWUodGhpcy5fZGV2aWNlTmFtZSk7cyYmIXIuZGV2aWNlSWQmJihyLmRldmljZUlkPXMpO3RyeXtpfHwodGhpcy5fZW5hYmxlZD0hMCk7Y29uc3QgZT1hd2FpdCB5QSh7YXVkaW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKTthd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUuZ2V0QXVkaW9UcmFja3MoKVswXSwhMSksYXdhaXQgZ1QodGhpcyxMeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzKX1jYXRjaChlKXt0aHJvdyBpfHwodGhpcy5fZW5hYmxlZD0hMSksS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRydWUgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksZX1LQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCBzdWNjZXNzXCIpKX1jbG9zZSgpe3N1cGVyLmNsb3NlKCksKHdnKCl8fE9nKCkpJiZvQS51bmJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrKHRoaXMpfW9uVHJhY2tFbmRlZCgpe2lmKChDZygpfHxEZygpKSYmdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiZvQS5kdXJpbmdJbnRlcnJ1cHRpb24pe2NvbnN0IGU9YXN5bmMoKT0+e29BLm9mZih1eS5JT1NfSU5URVJSVVBUSU9OX0VORCxlKSx0aGlzLl9lbmFibGVkJiYhdGhpcy5faXNDbG9zZWQmJihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyeSBjYXB0dXJlIG1pY3JvcGhvbmUgbWVkaWEgZGV2aWNlIGZvciBpbnRlcnJ1cHRlZCBpT1MgZGV2aWNlLlwiKSksYXdhaXQgdGhpcy5zZXRFbmFibGVkKCExKSxhd2FpdCB0aGlzLnNldEVuYWJsZWQoITApKX07b0Eub24odXkuSU9TX0lOVEVSUlVQVElPTl9FTkQsZSl9ZWxzZSBLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyYWNrIGVuZGVkXCIpKSx0aGlzLnNhZmVFbWl0KEZ5LlRSQUNLX0VOREVEKX1hc3luYyByZW5ld01lZGlhU3RyZWFtVHJhY2soZSl7Y29uc3QgdD1lfHx0aGlzLl9jb25zdHJhaW50cyxpPU9BLnNlYXJjaERldmljZUlkQnlOYW1lKHRoaXMuX2RldmljZU5hbWUpO2lmKGkmJiF0LmRldmljZUlkJiYodC5kZXZpY2VJZD1pKSx0aGlzLl9jb25zdHJhaW50cz10LHRoaXMuX2VuYWJsZWQpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpO2NvbnN0IGU9YXdhaXQgeUEoe2F1ZGlvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSk7YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLmdldEF1ZGlvVHJhY2tzKClbMF0sITApfX1iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cygpe3RoaXMucHJvY2Vzc29yQ29udGV4dC5vbih6eS5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUywoYXN5bmMoZSx0LGkpPT57dHJ5e2NvbnN0IGk9T2JqZWN0LmFzc2lnbih7fSx0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzLC4uLmUpO2F3YWl0IHRoaXMucmVuZXdNZWRpYVN0cmVhbVRyYWNrKGkpLHQoKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLnByb2Nlc3NvckNvbnRleHQub24oenkuUkVRVUVTVF9DT05TVFJBSU5UUywoYXN5bmMgZT0+e2UodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5nZXRTZXR0aW5ncygpKX0pKX19TXYoW252KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxWQSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSwkQS5wcm90b3R5cGUsXCJzZXREZXZpY2VcIixudWxsKSxNdihbcVQoXCJNaWNyb3Bob25lQXVkaW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxudih7YXJnc01hcDooZSx0LGkpPT5bZS5nZXRUcmFja0lkKCksdCxpXX0pLFZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Jvb2xlYW4sQm9vbGVhbixCb29sZWFuXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sJEEucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLG51bGwpLE12KFtudih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSwkQS5wcm90b3R5cGUsXCJjbG9zZVwiLG51bGwpO2NsYXNzIGViIGV4dGVuZHMgWkF7Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuKXtzdXBlcih0LmNyZWF0ZU91dHB1dFRyYWNrKCksaSxuKSxudSh0aGlzLFwic291cmNlXCIsdm9pZCAwKSxudSh0aGlzLFwiX2J1ZmZlclNvdXJjZVwiLHZvaWQgMCksdGhpcy5zb3VyY2U9ZSx0aGlzLl9idWZmZXJTb3VyY2U9dCx0aGlzLl9idWZmZXJTb3VyY2Uub24oankuQVVESU9fU09VUkNFX1NUQVRFX0NIQU5HRSwoZT0+e3RoaXMuc2FmZUVtaXQoRnkuU09VUkNFX1NUQVRFX0NIQU5HRSxlKX0pKTt0cnl7dGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9zb3VyY2UuY3JlYXRlT3V0cHV0VHJhY2soKX1jYXRjaChlKXt9fWdldCBjdXJyZW50U3RhdGUoKXtyZXR1cm4gdGhpcy5fYnVmZmVyU291cmNlLmN1cnJlbnRTdGF0ZX1nZXQgZHVyYXRpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyU291cmNlLmR1cmF0aW9ufWdldCBwbGF5YmFja1NwZWVkKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5wbGF5YmFja1NwZWVkfWdldEN1cnJlbnRUaW1lKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5jdXJyZW50VGltZX1zdGFydFByb2Nlc3NBdWRpb0J1ZmZlcihlKXtlJiZ0aGlzLl9idWZmZXJTb3VyY2UudXBkYXRlT3B0aW9ucyhlKSx0aGlzLl9idWZmZXJTb3VyY2Uuc3RhcnRQcm9jZXNzQXVkaW9CdWZmZXIoKX1wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuX2J1ZmZlclNvdXJjZS5wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlcigpfXNlZWtBdWRpb0J1ZmZlcihlKXt0aGlzLl9idWZmZXJTb3VyY2Uuc2Vla0F1ZGlvQnVmZmVyKGUpfXJlc3VtZVByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuX2J1ZmZlclNvdXJjZS5yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXIoKX1zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyKCl7dGhpcy5fYnVmZmVyU291cmNlLnN0b3BQcm9jZXNzQXVkaW9CdWZmZXIoKX1jbG9zZSgpe3RoaXMuc291cmNlPW51bGwsdGhpcy5fYnVmZmVyU291cmNlLmRlc3Ryb3koKSxzdXBlci5jbG9zZSgpfXNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZChlKXtqZyhlLFwic3BlZWRcIiwwKSx0aGlzLl9idWZmZXJTb3VyY2Uuc2V0QXVkaW9CdWZmZXJQbGF5YmFja1NwZWVkKGUpfX1NdihbbnYoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0LGUuZHVyYXRpb25dfSksVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGViLnByb3RvdHlwZSxcInN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyXCIsbnVsbCksTXYoW252KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxWQSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sZWIucHJvdG90eXBlLFwicGF1c2VQcm9jZXNzQXVkaW9CdWZmZXJcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW051bWJlcl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxlYi5wcm90b3R5cGUsXCJzZWVrQXVkaW9CdWZmZXJcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxlYi5wcm90b3R5cGUsXCJyZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXJcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxlYi5wcm90b3R5cGUsXCJzdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsbnVsbCksTXYoW252KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGViLnByb3RvdHlwZSxcImNsb3NlXCIsbnVsbCksTXYoW252KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxWQSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOdW1iZXJdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sZWIucHJvdG90eXBlLFwic2V0QXVkaW9CdWZmZXJQbGF5YmFja1NwZWVkXCIsbnVsbCk7Y2xhc3MgdGIgZXh0ZW5kcyBaQXtnZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiTWl4aW5nQXVkaW9UcmFja1wifWdldCBpc0FjdGl2ZSgpe2Zvcihjb25zdCBlIG9mIHRoaXMudHJhY2tMaXN0KWlmKGUuX2VuYWJsZWQmJiFlLl9pc0Nsb3NlZCYmIWUubXV0ZWQpcmV0dXJuITA7cmV0dXJuITF9Y29uc3RydWN0b3IoKXtjb25zdCBlPWNBKCkuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO3N1cGVyKGUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0sdm9pZCAwLHhUKDgsXCJ0cmFjay1taXgtXCIpKSxudSh0aGlzLFwidHJhY2tMaXN0XCIsdm9pZCAwKSxudSh0aGlzLFwiZGVzdE5vZGVcIix2b2lkIDApO3RyeXt0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX3NvdXJjZS5jcmVhdGVPdXRwdXRUcmFjaygpfWNhdGNoKGUpe310aGlzLmRlc3ROb2RlPWUsdGhpcy50cmFja0xpc3Q9W119aGFzQXVkaW9UcmFjayhlKXtyZXR1cm4tMSE9PXRoaXMudHJhY2tMaXN0LmluZGV4T2YoZSl9YWRkQXVkaW9UcmFjayhlKXstMT09PXRoaXMudHJhY2tMaXN0LmluZGV4T2YoZSk/KEtDLmRlYnVnKFwiYWRkIFwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiB0byBtaXhpbmcgdHJhY2tcIikpLGUuX3NvdXJjZS5vdXRwdXROb2RlLmNvbm5lY3QodGhpcy5kZXN0Tm9kZSksdGhpcy50cmFja0xpc3QucHVzaChlKSx0aGlzLnVwZGF0ZUVuY29kZXJDb25maWcoKSk6S0MuZGVidWcoXCJ0cmFjayBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCIgaXMgYWxyZWFkeSBhZGRlZFwiKSl9cmVtb3ZlQXVkaW9UcmFjayhlKXtpZigtMSE9PXRoaXMudHJhY2tMaXN0LmluZGV4T2YoZSkpe0tDLmRlYnVnKFwicmVtb3ZlIFwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiBmcm9tIG1peGluZyB0cmFja1wiKSk7dHJ5e2UuX3NvdXJjZS5vdXRwdXROb2RlLmRpc2Nvbm5lY3QodGhpcy5kZXN0Tm9kZSl9Y2F0Y2goZSl7fUlUKHRoaXMudHJhY2tMaXN0LGUpLHRoaXMudXBkYXRlRW5jb2RlckNvbmZpZygpfX11cGRhdGVFbmNvZGVyQ29uZmlnKCl7Y29uc3QgZT17fTt0aGlzLnRyYWNrTGlzdC5mb3JFYWNoKCh0PT57dC5fZW5jb2RlckNvbmZpZyYmKCh0Ll9lbmNvZGVyQ29uZmlnLmJpdHJhdGV8fDApPihlLmJpdHJhdGV8fDApJiYoZS5iaXRyYXRlPXQuX2VuY29kZXJDb25maWcuYml0cmF0ZSksKHQuX2VuY29kZXJDb25maWcuc2FtcGxlUmF0ZXx8MCk+KGUuc2FtcGxlUmF0ZXx8MCkmJihlLnNhbXBsZVJhdGU9dC5fZW5jb2RlckNvbmZpZy5zYW1wbGVSYXRlKSwodC5fZW5jb2RlckNvbmZpZy5zYW1wbGVTaXplfHwwKT4oZS5zYW1wbGVTaXplfHwwKSYmKGUuc2FtcGxlU2l6ZT10Ll9lbmNvZGVyQ29uZmlnLnNhbXBsZVNpemUpLHQuX2VuY29kZXJDb25maWcuc3RlcmVvJiYoZS5zdGVyZW89ITApKX0pKSx0aGlzLl9lbmNvZGVyQ29uZmlnPWV9X3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGUpe3RoaXMuX3J0cFRyYW5zY2VpdmVyIT09ZSYmKHRoaXMuX3J0cFRyYW5zY2VpdmVyPWUsdGhpcy50cmFja0xpc3QuZm9yRWFjaCgodD0+e3QgaW5zdGFuY2VvZiB0Yj90LmVtaXQoVnkuVFJBTlNDRUlWRVJfVVBEQVRFRCxlKTp0Ll91cGRhdGVSdHBUcmFuc2NlaXZlcihlKX0pKSl9fWZ1bmN0aW9uIGliKGUpe2NvbnN0IHQ9e307ZS5mYWNpbmdNb2RlJiYodC5mYWNpbmdNb2RlPWUuZmFjaW5nTW9kZSksZS5jYW1lcmFJZCYmKHQuZGV2aWNlSWQ9e2V4YWN0OmUuY2FtZXJhSWR9KTtjb25zdCBpPUF5KGUuZW5jb2RlckNvbmZpZyk7cmV0dXJuIG51bGwhPWkud2lkdGgmJih0LndpZHRoPWkud2lkdGgpLG51bGwhPWkuaGVpZ2h0JiYodC5oZWlnaHQ9aS5oZWlnaHQpLCFMZygpJiZpLmZyYW1lUmF0ZSYmKHQuZnJhbWVSYXRlPWkuZnJhbWVSYXRlKSxwZygpLm5hbWU9PT1jZy5FREdFJiZcIm9iamVjdFwiPT10eXBlb2YgdC5mcmFtZVJhdGUmJih0LmZyYW1lUmF0ZS5tYXg9NjApLFJnKCkmJih0LmZyYW1lUmF0ZT17aWRlYWw6MzAsbWF4OjMwfSksdH1mdW5jdGlvbiBuYihlKXtjb25zdCB0PXt9O2lmKExnKCl8fCh2b2lkIDAhPT1lLkFHQyYmKHQuYXV0b0dhaW5Db250cm9sPWUuQUdDKSx2b2lkIDAhPT1lLkFFQyYmKHQuZWNob0NhbmNlbGxhdGlvbj1lLkFFQyksdm9pZCAwIT09ZS5BTlMmJih0Lm5vaXNlU3VwcHJlc3Npb249ZS5BTlMsVGcoKSYmZS5BTlMmJih0Lmdvb2dIaWdocGFzc0ZpbHRlcj1lLkFOUykpKSxlLmVuY29kZXJDb25maWcpe2NvbnN0IGk9TnkoZS5lbmNvZGVyQ29uZmlnKTt0LmNoYW5uZWxDb3VudD1pLnN0ZXJlbz8yOjEsdC5zYW1wbGVSYXRlPWkuc2FtcGxlUmF0ZSx0LnNhbXBsZVNpemU9aS5zYW1wbGVTaXplfXJldHVybiBlLm1pY3JvcGhvbmVJZCYmKHQuZGV2aWNlSWQ9e2V4YWN0OmUubWljcm9waG9uZUlkfSksTWcoKSYmKHQuc2FtcGxlUmF0ZT12b2lkIDApLHR9Y2xhc3MgcmIgZXh0ZW5kcyBtQXtzZXQgY3VycmVudFN0YXRlKGUpe2UhPT10aGlzLl9jdXJyZW50U3RhdGUmJih0aGlzLl9jdXJyZW50U3RhdGU9ZSx0aGlzLnNhZmVFbWl0KGp5LkFVRElPX1NPVVJDRV9TVEFURV9DSEFOR0UsdGhpcy5fY3VycmVudFN0YXRlKSl9Z2V0IGN1cnJlbnRTdGF0ZSgpe3JldHVybiB0aGlzLl9jdXJyZW50U3RhdGV9Y29uc3RydWN0b3IoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3N1cGVyKCksbnUodGhpcyxcImF1ZGlvQnVmZmVyXCIsdm9pZCAwKSxudSh0aGlzLFwic291cmNlTm9kZVwiLHZvaWQgMCksbnUodGhpcyxcInN0YXJ0UGxheVRpbWVcIiwwKSxudSh0aGlzLFwic3RhcnRQbGF5T2Zmc2V0XCIsMCksbnUodGhpcyxcInBhdXNlUGxheVRpbWVcIiwwKSxudSh0aGlzLFwib3B0aW9uc1wiLHZvaWQgMCksbnUodGhpcyxcImN1cnJlbnRMb29wQ291bnRcIiwwKSxudSh0aGlzLFwiY3VycmVudFBsYXliYWNrU3BlZWRcIiwxMDApLG51KHRoaXMsXCJfY3VycmVudFN0YXRlXCIsXCJzdG9wcGVkXCIpLHRoaXMuYXVkaW9CdWZmZXI9ZSx0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0UGxheU9mZnNldD10aGlzLm9wdGlvbnMuc3RhcnRQbGF5VGltZXx8MH1jcmVhdGVXZWJBdWRpb0RpYWdyYW0oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKX1nZXQgZHVyYXRpb24oKXtyZXR1cm4gdGhpcy5hdWRpb0J1ZmZlcj90aGlzLmF1ZGlvQnVmZmVyLmR1cmF0aW9uOjB9Z2V0IHBsYXliYWNrU3BlZWQoKXtyZXR1cm4gdGhpcy5jdXJyZW50UGxheWJhY2tTcGVlZH1nZXQgY3VycmVudFRpbWUoKXtyZXR1cm4gdGhpcy5hdWRpb0J1ZmZlcj9cInN0b3BwZWRcIj09PXRoaXMuY3VycmVudFN0YXRlPzA6XCJwYXVzZWRcIj09PXRoaXMuY3VycmVudFN0YXRlP3RoaXMucGF1c2VQbGF5VGltZTooKHRoaXMuY29udGV4dC5jdXJyZW50VGltZS10aGlzLnN0YXJ0UGxheVRpbWUpKih0aGlzLnBsYXliYWNrU3BlZWQvMTAwKSt0aGlzLnN0YXJ0UGxheU9mZnNldCkldGhpcy5hdWRpb0J1ZmZlci5kdXJhdGlvbjowfXVwZGF0ZU9wdGlvbnMoZSl7XCJzdG9wcGVkXCI9PT10aGlzLmN1cnJlbnRTdGF0ZT8odGhpcy5vcHRpb25zPWUsdGhpcy5zdGFydFBsYXlPZmZzZXQ9dGhpcy5vcHRpb25zLnN0YXJ0UGxheVRpbWV8fDApOktDLndhcm5pbmcoXCJjYW4gbm90IHNldCBhdWRpbyBzb3VyY2Ugb3B0aW9uc1wiKX1zdGFydFByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuc291cmNlTm9kZSYmdGhpcy5zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyKCksdGhpcy5zb3VyY2VOb2RlPXRoaXMuY3JlYXRlU291cmNlTm9kZSgpLHRoaXMuc3RhcnRTb3VyY2VOb2RlKCksdGhpcy5jdXJyZW50U3RhdGU9XCJwbGF5aW5nXCJ9cGF1c2VQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLnNvdXJjZU5vZGUmJlwicGxheWluZ1wiPT09dGhpcy5jdXJyZW50U3RhdGUmJih0aGlzLnBhdXNlUGxheVRpbWU9dGhpcy5jdXJyZW50VGltZSx0aGlzLnNvdXJjZU5vZGUub25lbmRlZD1udWxsLHRoaXMuc291cmNlTm9kZS5zdG9wKCksdGhpcy5zb3VyY2VOb2RlLmJ1ZmZlcj1udWxsLHRoaXMuc291cmNlTm9kZT10aGlzLmNyZWF0ZVNvdXJjZU5vZGUoKSx0aGlzLmN1cnJlbnRTdGF0ZT1cInBhdXNlZFwiKX1zZWVrQXVkaW9CdWZmZXIoZSl7dGhpcy5zb3VyY2VOb2RlJiYodGhpcy5zb3VyY2VOb2RlLm9uZW5kZWQ9bnVsbCxcInBsYXlpbmdcIj09PXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLnNvdXJjZU5vZGUuc3RvcCgpLHRoaXMuc291cmNlTm9kZT10aGlzLmNyZWF0ZVNvdXJjZU5vZGUoKSxcInBsYXlpbmdcIj09PXRoaXMuY3VycmVudFN0YXRlPyh0aGlzLnN0YXJ0UGxheU9mZnNldD1lLHRoaXMuc3RhcnRTb3VyY2VOb2RlKCkpOlwicGF1c2VkXCI9PT10aGlzLmN1cnJlbnRTdGF0ZSYmKHRoaXMucGF1c2VQbGF5VGltZT1lKSl9cmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyKCl7XCJwYXVzZWRcIj09PXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLnNvdXJjZU5vZGUmJih0aGlzLnN0YXJ0UGxheU9mZnNldD10aGlzLnBhdXNlUGxheVRpbWUsdGhpcy5wYXVzZVBsYXlUaW1lPTAsdGhpcy5zdGFydFNvdXJjZU5vZGUoKSx0aGlzLmN1cnJlbnRTdGF0ZT1cInBsYXlpbmdcIil9c3RvcFByb2Nlc3NBdWRpb0J1ZmZlcigpe2lmKHRoaXMuc291cmNlTm9kZSl7dGhpcy5zb3VyY2VOb2RlLm9uZW5kZWQ9bnVsbDt0cnl7dGhpcy5zb3VyY2VOb2RlLnN0b3AoKX1jYXRjaChlKXt9dGhpcy5yZXNldCgpfX1kZXN0cm95KCl7dGhpcy5hdWRpb0J1ZmZlcj1udWxsLHN1cGVyLmRlc3Ryb3koKX1zZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWQoZSl7dGhpcy5zb3VyY2VOb2RlJiYoXCJwbGF5aW5nXCI9PT10aGlzLmN1cnJlbnRTdGF0ZSYmKHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMuY3VycmVudFRpbWUsdGhpcy5zdGFydFBsYXlUaW1lPXRoaXMuY29udGV4dC5jdXJyZW50VGltZSksdGhpcy5zb3VyY2VOb2RlLnBsYXliYWNrUmF0ZS52YWx1ZT1lLzEwMCksdGhpcy5jdXJyZW50UGxheWJhY2tTcGVlZD1lfXN0YXJ0U291cmNlTm9kZSgpe3RoaXMuc291cmNlTm9kZSYmdGhpcy5zb3VyY2VOb2RlLmJ1ZmZlciYmKHRoaXMuc291cmNlTm9kZS5zdGFydCgwLHRoaXMuc3RhcnRQbGF5T2Zmc2V0KSx0aGlzLnN0YXJ0UGxheVRpbWU9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLHRoaXMuc291cmNlTm9kZS5vbmVuZGVkPXRoaXMuaGFuZGxlU291cmNlTm9kZUVuZGVkLmJpbmQodGhpcykpfWNyZWF0ZVNvdXJjZU5vZGUoKXtjb25zdCBlPXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtyZXR1cm4gZS5idWZmZXI9dGhpcy5hdWRpb0J1ZmZlcixlLmxvb3A9ISF0aGlzLm9wdGlvbnMubG9vcCxlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKSxlLnBsYXliYWNrUmF0ZS52YWx1ZT10aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkLzEwMCxlfWhhbmRsZVNvdXJjZU5vZGVFbmRlZCgpe2lmKHRoaXMuY3VycmVudExvb3BDb3VudCs9MSx0aGlzLm9wdGlvbnMuY3ljbGUmJnRoaXMub3B0aW9ucy5jeWNsZT50aGlzLmN1cnJlbnRMb29wQ291bnQpcmV0dXJuIHRoaXMuc3RhcnRQbGF5T2Zmc2V0PTAsdGhpcy5zb3VyY2VOb2RlPXZvaWQgMCx2b2lkIHRoaXMuc3RhcnRQcm9jZXNzQXVkaW9CdWZmZXIoKTt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLnN0YXJ0UGxheU9mZnNldD10aGlzLm9wdGlvbnMuc3RhcnRQbGF5VGltZXx8MCx0aGlzLmN1cnJlbnRTdGF0ZT1cInN0b3BwZWRcIix0aGlzLnNvdXJjZU5vZGUmJih0aGlzLnNvdXJjZU5vZGUuZGlzY29ubmVjdCgpLHRoaXMuc291cmNlTm9kZT12b2lkIDApLHRoaXMuY3VycmVudExvb3BDb3VudD0wfX1jb25zdCBzYj1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIG9iKGUsdCl7bGV0IGk9bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3QgdD1zYi5nZXQoZSk7aWYodClyZXR1cm4gS0MuZGVidWcoXCJ1c2UgY2FjaGVkIGF1ZGlvIHJlc291cmNlOiBcIixlKSx0O3RyeXtpPShhd2FpdCBYVCgoKCk9PkVDLmdldChlLHtyZXNwb25zZVR5cGU6XCJhcnJheWJ1ZmZlclwifSkpLHZvaWQgMCx2b2lkIDAse21heFJldHJ5Q291bnQ6M30pKS5kYXRhfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5GRVRDSF9BVURJT19GSUxFX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1lbHNle2NvbnN0IHQ9bmV3IHRnKCgodCxpKT0+e2NvbnN0IG49bmV3IEZpbGVSZWFkZXI7bi5vbmxvYWQ9ZT0+e2UudGFyZ2V0P3QoZS50YXJnZXQucmVzdWx0KTppKG5ldyBWZyh4Zy5SRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1IpKX0sbi5vbmVycm9yPSgpPT57aShuZXcgVmcoeGcuUkVBRF9MT0NBTF9BVURJT19GSUxFX0VSUk9SKSl9LG4ucmVhZEFzQXJyYXlCdWZmZXIoZSl9KSk7aT1hd2FpdCB0fWNvbnN0IG49YXdhaXQgZnVuY3Rpb24oZSl7Y29uc3QgdD1jQSgpO3JldHVybiBuZXcgdGcoKChpLG4pPT57dC5kZWNvZGVBdWRpb0RhdGEoZSwoZT0+e2koZSl9KSwoZT0+e24obmV3IFZnKHhnLkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRCxlLnRvU3RyaW5nKCkpKX0pKX0pKX0oaSk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJnQmJnNiLnNldChlLG4pLG59Y29uc3QgYWI9ZT0+e2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gdC53aWR0aD0yLHQuaGVpZ2h0PTIsbmV3IHRnKCgoaSxuKT0+e3QudG9CbG9iKChhc3luYyBlPT57aWYodC5yZW1vdmUoKSxlKXtjb25zdCBuPWF3YWl0IGNiKGUpO2koe2J1ZmZlcjpuLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fSl9ZWxzZSBuKG5ldyBWZyh4Zy5DT05WRVJUSU5HX1ZJREVPX0ZSQU1FX1RPX0JMT0JfRkFJTEVEKSl9KSxlLDEpfSkpfSxjYj1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBlLmFycmF5QnVmZmVyKCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHQpfTtjb25zdCBkYj1uZXcgY2xhc3MgZXh0ZW5kcyBpVHtnZXQgdmlzaWJpbGl0eSgpe3JldHVybiBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGV9Z2V0IGxhc3RIaWRkZW5UaW1lKCl7cmV0dXJuIHRoaXMuX2xhc3RIaWRkZW5UaW1lfWdldCBsYXN0VmlzaWJsZVRpbWUoKXtyZXR1cm4gdGhpcy5fbGFzdFZpc2libGVUaW1lfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxudSh0aGlzLFwiX2xhc3RIaWRkZW5UaW1lXCIsMCksbnUodGhpcyxcIl9sYXN0VmlzaWJsZVRpbWVcIiwwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCgoKT0+e1wiaGlkZGVuXCI9PT1kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/dGhpcy5fbGFzdEhpZGRlblRpbWU9cGVyZm9ybWFuY2Uubm93KCk6dGhpcy5fbGFzdFZpc2libGVUaW1lPXBlcmZvcm1hbmNlLm5vdygpLEtDLmRlYnVnKFwiZG9jdW1lbnQgdmlzaWJpbGl0eSB3ZW50IFwiLmNvbmNhdChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpKSx0aGlzLmVtaXQoXCJWSVNJQklMSVRZX0NIQU5HRVwiLGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSl9KSl9fTtmdW5jdGlvbiBsYihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gaGIoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/bGIoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6bGIoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgdWJ7Z2V0IHZpZGVvRWxlbWVudFN0YXR1cygpe3JldHVybiB0aGlzLl92aWRlb0VsZW1lbnRTdGF0dXN9c2V0IHZpZGVvRWxlbWVudFN0YXR1cyhlKXtlIT09dGhpcy5fdmlkZW9FbGVtZW50U3RhdHVzJiYoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gdmlkZW8tZWxlbWVudC1zdGF0dXMgY2hhbmdlIFwiKS5jb25jYXQodGhpcy5fdmlkZW9FbGVtZW50U3RhdHVzLFwiID0+IFwiKS5jb25jYXQoZSkpLHRoaXMuX3ZpZGVvRWxlbWVudFN0YXR1cz1lKX1jb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwidHJhY2tJZFwiLHZvaWQgMCksbnUodGhpcyxcImNvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZFwiLHZvaWQgMCksbnUodGhpcyxcImZyZWV6ZVRpbWVDb3VudGVyTGlzdFwiLFtdKSxudSh0aGlzLFwicmVuZGVyRnJlZXplQWNjVGltZVwiLDApLG51KHRoaXMsXCJpc0tlZXBMYXN0RnJhbWVcIiwhMSksbnUodGhpcyxcInRpbWVVcGRhdGVkQ291bnRcIiwwKSxudSh0aGlzLFwiZnJlZXplVGltZVwiLDApLG51KHRoaXMsXCJwbGF5YmFja1RpbWVcIiwwKSxudSh0aGlzLFwibGFzdFRpbWVVcGRhdGVkVGltZVwiLDApLG51KHRoaXMsXCJhdXRvcGxheUZhaWxlZFwiLCExKSxudSh0aGlzLFwidmlkZW9UcmFja1wiLHZvaWQgMCksbnUodGhpcyxcInZpZGVvRWxlbWVudFwiLHZvaWQgMCksbnUodGhpcyxcImNhY2hlVmlkZW9FbGVtZW50XCIsdm9pZCAwKSxudSh0aGlzLFwidmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcIl92aWRlb0VsZW1lbnRTdGF0dXNcIixaeS5OT05FKSxudSh0aGlzLFwiaXNHZXR0aW5nVmlkZW9EaW1lbnNpb25zXCIsITEpLG51KHRoaXMsXCJzdGFydEdldFZpZGVvRGltZW5zaW9uc1wiLCgoKT0+e2NvbnN0IGU9KCk9PntpZih0aGlzLmlzR2V0dGluZ1ZpZGVvRGltZW5zaW9ucz0hMCx0aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoKnRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0PjQpcmV0dXJuIEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIGN1cnJlbnQgdmlkZW8gZGltZW5zaW9uczpcIiksdGhpcy52aWRlb0VsZW1lbnQudmlkZW9XaWR0aCx0aGlzLnZpZGVvRWxlbWVudC52aWRlb0hlaWdodCksdm9pZCh0aGlzLmlzR2V0dGluZ1ZpZGVvRGltZW5zaW9ucz0hMSk7c2V0VGltZW91dChlLDUwMCl9OyF0aGlzLmlzR2V0dGluZ1ZpZGVvRGltZW5zaW9ucyYmZSgpfSkpLG51KHRoaXMsXCJhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25cIiwoKCk9Pnt0aGlzLnZpZGVvVHJhY2smJlwibGl2ZVwiPT09dGhpcy52aWRlb1RyYWNrLnJlYWR5U3RhdGUmJlwicnVubmluZ1wiPT09b0EuY3VyU3RhdGUmJihLQy5kZWJ1ZyhcIlt0cmFjay1cIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHBhdXNlZCwgYXV0byByZXN1bWUgZm9yIFwiKS5jb25jYXQoRWcoKSkpLE5nKCk/KHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSk6KHRoaXMudmlkZW9FbGVtZW50LnBhdXNlKCksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKSl9KSksbnUodGhpcyxcImhhbmRsZVZpZGVvRXZlbnRzXCIsKGU9Pntzd2l0Y2goZS50eXBlKXtjYXNlXCJwbGF5XCI6Y2FzZVwicGxheWluZ1wiOnRoaXMuc3RhcnRHZXRWaWRlb0RpbWVuc2lvbnMoKSx0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1aeS5QTEFZSU5HO2JyZWFrO2Nhc2VcImxvYWRlZGRhdGFcIjppZih0aGlzLm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZCYmdGhpcy5vbkZpcnN0VmlkZW9GcmFtZURlY29kZWQoKSx0aGlzLmNhY2hlVmlkZW9FbGVtZW50KXt0cnl7dGhpcy5jYWNoZVZpZGVvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLmNhY2hlVmlkZW9FbGVtZW50LnJlbW92ZSgpfWNhdGNoKGUpe310aGlzLmNhY2hlVmlkZW9FbGVtZW50PXZvaWQgMH1icmVhaztjYXNlXCJjYW5wbGF5XCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9WnkuQ0FOUExBWTticmVhaztjYXNlXCJzdGFsbGVkXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9WnkuU1RBTExFRDticmVhaztjYXNlXCJzdXNwZW5kXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9WnkuU1VTUEVORDticmVhaztjYXNlXCJwYXVzZVwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPVp5LlBBVVNFRCxDZygpfHxEZygpfHxTZygpJiZ0aGlzLmF1dG9wbGF5RmFpbGVkfHwhdGhpcy52aWRlb1RyYWNrfHxcImxpdmVcIiE9PXRoaXMudmlkZW9UcmFjay5yZWFkeVN0YXRlfHwoS0MuZGVidWcoXCJbdHJhY2stXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gdmlkZW8gZWxlbWVudCBwYXVzZWQsIGF1dG8gcmVzdW1lXCIpKSx0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCkpO2JyZWFrO2Nhc2VcIndhaXRpbmdcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1aeS5XQUlUSU5HO2JyZWFrO2Nhc2VcImFib3J0XCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9WnkuQUJPUlQ7YnJlYWs7Y2FzZVwiZW5kZWRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1aeS5FTkRFRDticmVhaztjYXNlXCJlbXB0aWVkXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9WnkuRU1QVElFRDticmVhaztjYXNlXCJlcnJvclwiOnt0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1aeS5FUlJPUjtjb25zdCBlPXRoaXMudmlkZW9FbGVtZW50LmVycm9yO2UmJktDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIG1lZGlhIGVycm9yLCBjb2RlOiBcIikuY29uY2F0KGUuY29kZSxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChlLm1lc3NhZ2UpKTticmVha31jYXNlXCJ0aW1ldXBkYXRlXCI6e2NvbnN0IGU9cGVyZm9ybWFuY2Uubm93KCk7aWYodGhpcy50aW1lVXBkYXRlZENvdW50Kz0xLHRoaXMudGltZVVwZGF0ZWRDb3VudDwxMClyZXR1cm4gdm9pZCh0aGlzLmxhc3RUaW1lVXBkYXRlZFRpbWU9ZSk7Y29uc3QgdD1lLXRoaXMubGFzdFRpbWVVcGRhdGVkVGltZSxpPXRoaXMubGFzdFRpbWVVcGRhdGVkVGltZTtpZih0aGlzLmxhc3RUaW1lVXBkYXRlZFRpbWU9ZSxkYi5sYXN0VmlzaWJsZVRpbWU8ZGIubGFzdEhpZGRlblRpbWV8fGk8ZGIubGFzdEhpZGRlblRpbWV8fGk8ZGIubGFzdFZpc2libGVUaW1lKXJldHVybjtmb3IodD5rQyhcIlZJREVPX0ZSRUVaRV9EVVJBVElPTlwiKSYmKHRoaXMuZnJlZXplVGltZSs9dCksdGhpcy5wbGF5YmFja1RpbWUrPXQ7dGhpcy5wbGF5YmFja1RpbWU+PTZlMzspe3RoaXMucGxheWJhY2tUaW1lLT02ZTM7Y29uc3QgZT1NYXRoLm1pbig2ZTMsdGhpcy5mcmVlemVUaW1lKTt0aGlzLmZyZWV6ZVRpbWVDb3VudGVyTGlzdC5wdXNoKGUpLHRoaXMuZnJlZXplVGltZT1NYXRoLm1heCgwLHRoaXMuZnJlZXplVGltZS02ZTMpfWJyZWFrfX19KSksbnUodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTZcIiwoKCk9Pnt0aGlzLnZpZGVvVHJhY2smJlwibGl2ZVwiPT09dGhpcy52aWRlb1RyYWNrLnJlYWR5U3RhdGUmJihLQy5kZWJ1ZyhcIlt0cmFjay1cIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHBhdXNlZCwgYXV0byByZXN1bWUgZm9yIFwiKS5jb25jYXQoRWcoKSkpLE5nKCk/KHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSk6KHRoaXMudmlkZW9FbGVtZW50LnBhdXNlKCksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKSl9KSksdGhpcy50cmFja0lkPWUudHJhY2tJZCx0aGlzLmNvbmZpZz1lLGUuZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/dGhpcy52aWRlb0VsZW1lbnQ9ZS5lbGVtZW50OnRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxvQS5vbih1eS5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbiksb0Eub24odXkuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XzE2KX1nZXRWaWRlb0VsZW1lbnQoKXtyZXR1cm4gdGhpcy52aWRlb0VsZW1lbnR9Z2V0Q29udGFpbmVyRWxlbWVudCgpe3ZhciBlO3JldHVybiBudWxsIT09KGU9dGhpcy52aWRlb0VsZW1lbnQucGFyZW50RWxlbWVudCkmJnZvaWQgMCE9PWU/ZTp2b2lkIDB9dXBkYXRlQ29uZmlnKGUpe3RoaXMuY29uZmlnPWUsdGhpcy50cmFja0lkPWUudHJhY2tJZCxlLmVsZW1lbnQhPT10aGlzLnZpZGVvRWxlbWVudCYmKHRoaXMuZGVzdHJveSgpLHRoaXMudmlkZW9FbGVtZW50PWUuZWxlbWVudCksdGhpcy52aWRlb1RyYWNrJiZ0aGlzLmluaXRWaWRlb0VsZW1lbnQoKX11cGRhdGVWaWRlb1RyYWNrKGUpe3RoaXMudmlkZW9UcmFjayE9PWUmJih0aGlzLnZpZGVvVHJhY2s9ZSx0aGlzLmluaXRWaWRlb0VsZW1lbnQoKSl9cGxheShlKXtjb25zdCB0PXRoaXMudmlkZW9FbGVtZW50LnBsYXkoKTt0JiZ0LmNhdGNoJiZ0LmNhdGNoKCh0PT57ZSYmTUEoZSxcInZpZGVvXCIsdC5tZXNzYWdlLHRoaXMudHJhY2tJZCksXCJOb3RBbGxvd2VkRXJyb3JcIj09PXQubmFtZT8oS0Mud2FybmluZyhcImRldGVjdGVkIHZpZGVvIGVsZW1lbnQgYXV0b3BsYXkgZmFpbGVkXCIsdCksdGhpcy5hdXRvcGxheUZhaWxlZD0hMCx0aGlzLmhhbmRsZUF1dG9QbGF5RmFpbGVkKCkpOktDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gcGxheSB3YXJuaW5nOiBcIiksdCl9KSk7Y29uc3QgaT1wZygpO2lmKChcIlNhZmFyaVwiPT09aS5uYW1lJiYxNT09PU51bWJlcihpLnZlcnNpb24pfHx3ZygpKSYmdCYmdC50aGVuKXtjb25zdCBlPSgpPT57dGhpcy5jb25maWcubWlycm9yJiYodGhpcy52aWRlb0VsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwicm90YXRlWSgxODBkZWcpXCIpfTt0LnRoZW4oZSkuY2F0Y2goZSl9fWdldEN1cnJlbnRGcmFtZSgpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtlLndpZHRoPXRoaXMudmlkZW9FbGVtZW50LnZpZGVvV2lkdGgsZS5oZWlnaHQ9dGhpcy52aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQ7Y29uc3QgdD1lLmdldENvbnRleHQoXCIyZFwiKTtpZighdClyZXR1cm4gS0MuZXJyb3IoXCJjcmVhdGUgY2FudmFzIGNvbnRleHQgZmFpbGVkIVwiKSxuZXcgSW1hZ2VEYXRhKDIsMik7dC5kcmF3SW1hZ2UodGhpcy52aWRlb0VsZW1lbnQsMCwwLGUud2lkdGgsZS5oZWlnaHQpO2NvbnN0IGk9dC5nZXRJbWFnZURhdGEoMCwwLGUud2lkdGgsZS5oZWlnaHQpO3JldHVybiBlLnJlbW92ZSgpLGl9YXN5bmMgZ2V0Q3VycmVudEZyYW1lVG9VaW50OEFycmF5KGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtpLndpZHRoPXRoaXMudmlkZW9FbGVtZW50LnZpZGVvV2lkdGgsaS5oZWlnaHQ9dGhpcy52aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQ7Y29uc3Qgbj1pLmdldENvbnRleHQoXCIyZFwiKTtyZXR1cm4gbj8obi5kcmF3SW1hZ2UodGhpcy52aWRlb0VsZW1lbnQsMCwwLGkud2lkdGgsaS5oZWlnaHQpLG5ldyB0ZygoKG4scik9PntpLnRvQmxvYigoYXN5bmMgZT0+e2lmKGkucmVtb3ZlKCksZSl7Y29uc3QgdD1hd2FpdCBjYihlKTtuKHtidWZmZXI6dCx3aWR0aDppLndpZHRoLGhlaWdodDppLmhlaWdodH0pfWVsc2UgcihuZXcgVmcoeGcuQ09OVkVSVElOR19WSURFT19GUkFNRV9UT19CTE9CX0ZBSUxFRCkpfSksZSx0PDA/LjE6dD4xPzE6dCl9KSkpOmF3YWl0IGFiKGUpfWRlc3Ryb3koKXtvQS5vZmYodXkuSU9TX0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb24pLG9BLm9mZih1eS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTYpLHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMucmVzZXRWaWRlb0VsZW1lbnQoKSx0aGlzLmZyZWV6ZVRpbWVDb3VudGVyTGlzdD1bXX1pbml0VmlkZW9FbGVtZW50KCl7aWYodGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9WnkuSU5JVCwhdGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsJiYocGIuZm9yRWFjaCgoZT0+e3RoaXMudmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZSx0aGlzLmhhbmRsZVZpZGVvRXZlbnRzKX0pKSx0aGlzLnZpZGVvRWxlbWVudENoZWNrSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+eyhmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWRvY3VtZW50LmJvZHkmJmRvY3VtZW50LmJvZHkuY29udGFpbnMoZSl9KSh0aGlzLnZpZGVvRWxlbWVudCl8fCh0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1aeS5ERVNUUk9ZRUQpfSksMWUzKSxrQyhcIkVOQUJMRV9WSURFT19GUkFNRV9DQUxMQkFDS1wiKSkpe3ZhciBlLHQ7bGV0IGk7Y29uc3Qgbj0oZSx0KT0+e2lmKHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPT09WnkuUExBWUlORyl7aWYoaSl7Y29uc3QgZT10LnByZXNlbnRhdGlvblRpbWUtaS5wcmVzZW50YXRpb25UaW1lO2U+a0MoXCJWSURFT19GUkVFWkVfRFVSQVRJT05cIikmJmRiLmxhc3RWaXNpYmxlVGltZT49ZGIubGFzdEhpZGRlblRpbWUmJmkudGltZXN0YW1wPmRiLmxhc3RWaXNpYmxlVGltZSYmaS50aW1lc3RhbXA+ZGIubGFzdEhpZGRlblRpbWUmJih0aGlzLnJlbmRlckZyZWV6ZUFjY1RpbWUrPWUpfWk9aGIoaGIoe30sdCkse30se3RpbWVzdGFtcDplfSl9dmFyIHIscztrQyhcIkVOQUJMRV9WSURFT19GUkFNRV9DQUxMQkFDS1wiKSYmKG51bGw9PT0ocj0ocz10aGlzLnZpZGVvRWxlbWVudCkucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayl8fHZvaWQgMD09PXJ8fHIuY2FsbChzLG4pKX07bnVsbD09PShlPSh0PXRoaXMudmlkZW9FbGVtZW50KS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQsbil9dGhpcy52aWRlb0VsZW1lbnQuY29udHJvbHM9ITEsdGhpcy52aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxNZygpJiYodGhpcy52aWRlb0VsZW1lbnQucG9zdGVyPVwibm9wb3N0ZXJcIik7Y29uc3QgaT1wZygpO2lmKFwiU2FmYXJpXCI9PT1pLm5hbWUmJjE1PT09TnVtYmVyKGkudmVyc2lvbil8fHdnKCl8fCF0aGlzLmNvbmZpZy5taXJyb3J8fCh0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS50cmFuc2Zvcm09XCJyb3RhdGVZKDE4MGRlZylcIiksdGhpcy5jb25maWcuZml0P3RoaXMudmlkZW9FbGVtZW50LnN0eWxlLm9iamVjdEZpdD10aGlzLmNvbmZpZy5maXQ6dGhpcy52aWRlb0VsZW1lbnQuc3R5bGUub2JqZWN0Rml0PVwiY292ZXJcIix0aGlzLnZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLHRoaXMudmlkZW9FbGVtZW50Lm11dGVkPSEwLHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdCYmdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0IGluc3RhbmNlb2YgTWVkaWFTdHJlYW0pe3RoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdC5nZXRWaWRlb1RyYWNrcygpWzBdIT09dGhpcy52aWRlb1RyYWNrJiYodGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PXRoaXMudmlkZW9UcmFjaz9uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pOm51bGwsUmcoKSYmdGhpcy52aWRlb0VsZW1lbnQubG9hZCgpKX1lbHNlIHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD10aGlzLnZpZGVvVHJhY2s/bmV3IE1lZGlhU3RyZWFtKFt0aGlzLnZpZGVvVHJhY2tdKTpudWxsLFJnKCkmJnRoaXMudmlkZW9FbGVtZW50LmxvYWQoKTtjb25zdCBuPXRoaXMudmlkZW9FbGVtZW50LnBsYXkoKTt2b2lkIDAhPT1uJiZuLmNhdGNoKChlPT57S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gcGxheWJhY2sgaW50ZXJydXB0ZWRcIiksZS50b1N0cmluZygpKX0pKX1yZXNldFZpZGVvRWxlbWVudCgpe3BiLmZvckVhY2goKGU9Pnt0aGlzLnZpZGVvRWxlbWVudCYmdGhpcy52aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMuaGFuZGxlVmlkZW9FdmVudHMpfSkpLHRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbCksdGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsPXZvaWQgMCksdGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9WnkuTk9ORX1oYW5kbGVBdXRvUGxheUZhaWxlZCgpe2NvbnN0IGU9dD0+e3QucHJldmVudERlZmF1bHQoKSx0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCkudGhlbigoKCk9PntLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSBWaWRlbyBlbGVtZW50IGZvciB0cmFja0lkOlwiKS5jb25jYXQodGhpcy50cmFja0lkLFwiIGF1dG9wbGF5IHJlc3VtZWQuXCIpKX0pKS5jYXRjaCgoZT0+e0tDLmVycm9yKGUpfSkpLHRoaXMuYXV0b3BsYXlGYWlsZWQ9ITEsVWcoKT9kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpfTtVZygpP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSwhMCk6KGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLCEwKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixlLCEwKSksUEEoKX19Y29uc3QgcGI9W1wicGxheVwiLFwicGxheWluZ1wiLFwibG9hZGVkZGF0YVwiLFwiY2FucGxheVwiLFwicGF1c2VcIixcInN0YWxsZWRcIixcInN1c3BlbmRcIixcIndhaXRpbmdcIixcImFib3J0XCIsXCJlbXB0aWVkXCIsXCJlbmRlZFwiLFwidGltZXVwZGF0ZVwiLFwiZXJyb3JcIl07Y2xhc3MgX2IgZXh0ZW5kcyB1Yntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxudSh0aGlzLFwiY29udGFpbmVyXCIsdm9pZCAwKSxudSh0aGlzLFwic2xvdFwiLHZvaWQgMCksdGhpcy5zbG90PWUuZWxlbWVudCx0aGlzLnVwZGF0ZUNvbmZpZyhlKX11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ZSx0aGlzLnRyYWNrSWQ9ZS50cmFja0lkO2NvbnN0IHQ9ZS5lbGVtZW50O3QhPT10aGlzLnNsb3QmJih0aGlzLmRlc3Ryb3koKSx0aGlzLnNsb3Q9dCksdGhpcy5jcmVhdGVFbGVtZW50cygpfXVwZGF0ZVZpZGVvVHJhY2soZSl7dGhpcy52aWRlb1RyYWNrIT09ZSYmKHRoaXMudmlkZW9UcmFjaz1lLHRoaXMuY3JlYXRlRWxlbWVudHMoKSl9cGxheShlKXt2YXIgdDtudWxsIT09KHQ9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT10JiZ0LmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KSYmc3VwZXIucGxheShlKX1nZXRDdXJyZW50RnJhbWUoKXt2YXIgZTtyZXR1cm4gbnVsbCE9PShlPXRoaXMuY29udGFpbmVyKSYmdm9pZCAwIT09ZSYmZS5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCk/c3VwZXIuZ2V0Q3VycmVudEZyYW1lKCk6bmV3IEltYWdlRGF0YSgyLDIpfWFzeW5jIGdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlKXt2YXIgdDtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTtyZXR1cm4gbnVsbCE9PSh0PXRoaXMuY29udGFpbmVyKSYmdm9pZCAwIT09dCYmdC5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCk/YXdhaXQgc3VwZXIuZ2V0Q3VycmVudEZyYW1lVG9VaW50OEFycmF5KGUsaSk6YXdhaXQgYWIoZSl9ZGVzdHJveSgpe2lmKHN1cGVyLmRlc3Ryb3koKSx0aGlzLnZpZGVvRWxlbWVudC5yZW1vdmUoKSx0aGlzLnZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksdGhpcy5jb250YWluZXIpe3RyeXt0aGlzLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLnNsb3QucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpfWNhdGNoKGUpe310aGlzLmNvbnRhaW5lcj12b2lkIDB9fWNyZWF0ZUVsZW1lbnRzKCl7dGhpcy5jb250YWluZXJ8fCh0aGlzLmNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSx0aGlzLmNvbnRhaW5lci5pZD1cImFnb3JhLXZpZGVvLXBsYXllci1cIi5jb25jYXQodGhpcy50cmFja0lkKSx0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpcy52aWRlb1RyYWNrPyh0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJibGFja1wiLGtDKFwiS0VFUF9MQVNUX0ZSQU1FXCIpJiZ0aGlzLmlzS2VlcExhc3RGcmFtZSYmdGhpcy52aWRlb0VsZW1lbnQucGF1c2VkJiZ0aGlzLnJlc2V0VmlkZW9FbGVtZW50KCksdGhpcy5tb3VudGVkVmlkZW9FbGVtZW50KCkpOnRoaXMudW5tb3VudGVkVmlkZW9FbGVtZW50KCksdGhpcy5zbG90LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKX1tb3VudGVkVmlkZW9FbGVtZW50KCl7dmFyIGU7IXRoaXMuY29udGFpbmVyfHxudWxsIT09KGU9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT1lJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KXx8dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy52aWRlb0VsZW1lbnQpLHN1cGVyLmluaXRWaWRlb0VsZW1lbnQoKSx0aGlzLnZpZGVvRWxlbWVudC5pZD1cInZpZGVvX1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQpLHRoaXMudmlkZW9FbGVtZW50LmNsYXNzTmFtZT1cImFnb3JhX3ZpZGVvX3BsYXllclwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy52aWRlb0VsZW1lbnQuc3R5bGUubGVmdD1cIjBcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS50b3A9XCIwXCJ9dW5tb3VudGVkVmlkZW9FbGVtZW50KCl7dmFyIGU7aWYobnVsbCE9PShlPXRoaXMuY29udGFpbmVyKSYmdm9pZCAwIT09ZSYmZS5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCkpe3N1cGVyLnJlc2V0VmlkZW9FbGVtZW50KCk7dHJ5e3RoaXMuY29udGFpbmVyJiZ0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLnZpZGVvRWxlbWVudCl9Y2F0Y2goZSl7fXRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKX19cmVzZXRWaWRlb0VsZW1lbnQoKXt2YXIgZTtudWxsIT09KGU9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT1lJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KSYmKHN1cGVyLnJlc2V0VmlkZW9FbGVtZW50KCksdGhpcy5jYWNoZVZpZGVvRWxlbWVudD10aGlzLnZpZGVvRWxlbWVudCx0aGlzLnZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIikpfWdldENvbnRhaW5lckVsZW1lbnQoKXtyZXR1cm4gdGhpcy5jb250YWluZXJ9fWZ1bmN0aW9uIEViKGUpe3JldHVybiBuZXcgdGcoKCh0LGkpPT57bGV0IG49ITE7Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7ci5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLFwiXCIpLHIuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSxyLm11dGVkPSEwLHIuYXV0b3BsYXk9ITAsci5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLHIuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcInBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFweFwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHIpO2NvbnN0IHM9Q2coKT9cImNhbnBsYXlcIjpcInBsYXlpbmdcIjtyLmFkZEV2ZW50TGlzdGVuZXIocywoKCk9Pntjb25zdCBlPXIudmlkZW9XaWR0aCxpPXIudmlkZW9IZWlnaHQ7IWUmJlJnKCl8fChuPSEwLHIuc3JjT2JqZWN0PW51bGwsci5yZW1vdmUoKSx0KFtlLGldKSl9KSksci5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtlXSksci5wbGF5KCkuY2F0Y2goRlQpLHNldFRpbWVvdXQoKCgpPT57bnx8KHIuc3JjT2JqZWN0PW51bGwsci5yZW1vdmUoKSx0KFtyLnZpZGVvV2lkdGgsci52aWRlb0hlaWdodF0pKX0pLDRlMyl9KSl9Y29uc3QgbWI9YXN5bmMoZSx0LGkpPT57Y29uc3Qgbj1mdW5jdGlvbihlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSs9Mil0LnB1c2gocGFyc2VJbnQoZS5zbGljZShpLGkrMiksMTYpKTtyZXR1cm4gVWludDhBcnJheS5mcm9tKHQpfShmdW5jdGlvbihlKXtjb25zdCB0PVwiMDEyMzQ1Njc4OWFiY2RlZlwiO2Z1bmN0aW9uIGkoZSl7bGV0IGksbj1cIlwiO2ZvcihpPTA7aTw9MztpKyspbis9dC5jaGFyQXQoZT4+OCppKzQmMTUpK3QuY2hhckF0KGU+PjgqaSYxNSk7cmV0dXJuIG59ZnVuY3Rpb24gbihlLHQpe2NvbnN0IGk9KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKGk+PjE2KTw8MTZ8NjU1MzUmaX1mdW5jdGlvbiByKGUsdCxpLHIscyxvKXtyZXR1cm4gbihmdW5jdGlvbihlLHQpe3JldHVybiBlPDx0fGU+Pj4zMi10fShuKG4odCxlKSxuKHIsbykpLHMpLGkpfWZ1bmN0aW9uIHMoZSx0LGksbixzLG8sYSl7cmV0dXJuIHIodCZpfH50Jm4sZSx0LHMsbyxhKX1mdW5jdGlvbiBvKGUsdCxpLG4scyxvLGEpe3JldHVybiByKHQmbnxpJn5uLGUsdCxzLG8sYSl9ZnVuY3Rpb24gYShlLHQsaSxuLHMsbyxhKXtyZXR1cm4gcih0XmlebixlLHQscyxvLGEpfWZ1bmN0aW9uIGMoZSx0LGksbixzLG8sYSl7cmV0dXJuIHIoaV4odHx+biksZSx0LHMsbyxhKX1jb25zdCBkPWZ1bmN0aW9uKGUpe2xldCB0O2NvbnN0IGk9MSsoZS5sZW5ndGgrOD4+Niksbj1uZXcgQXJyYXkoMTYqaSk7Zm9yKHQ9MDt0PDE2Kmk7dCsrKW5bdF09MDtmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKW5bdD4+Ml18PWUuY2hhckNvZGVBdCh0KTw8dCU0Kjg7cmV0dXJuIG5bdD4+Ml18PTEyODw8dCU0KjgsblsxNippLTJdPTgqZS5sZW5ndGgsbn0oZSk7bGV0IGwsaCx1LHAsXyxFPTE3MzI1ODQxOTMsbT0tMjcxNzMzODc5LGY9LTE3MzI1ODQxOTQsZz0yNzE3MzM4Nzg7Zm9yKGw9MDtsPGQubGVuZ3RoO2wrPTE2KWg9RSx1PW0scD1mLF89ZyxFPXMoRSxtLGYsZyxkW2wrMF0sNywtNjgwODc2OTM2KSxnPXMoZyxFLG0sZixkW2wrMV0sMTIsLTM4OTU2NDU4NiksZj1zKGYsZyxFLG0sZFtsKzJdLDE3LDYwNjEwNTgxOSksbT1zKG0sZixnLEUsZFtsKzNdLDIyLC0xMDQ0NTI1MzMwKSxFPXMoRSxtLGYsZyxkW2wrNF0sNywtMTc2NDE4ODk3KSxnPXMoZyxFLG0sZixkW2wrNV0sMTIsMTIwMDA4MDQyNiksZj1zKGYsZyxFLG0sZFtsKzZdLDE3LC0xNDczMjMxMzQxKSxtPXMobSxmLGcsRSxkW2wrN10sMjIsLTQ1NzA1OTgzKSxFPXMoRSxtLGYsZyxkW2wrOF0sNywxNzcwMDM1NDE2KSxnPXMoZyxFLG0sZixkW2wrOV0sMTIsLTE5NTg0MTQ0MTcpLGY9cyhmLGcsRSxtLGRbbCsxMF0sMTcsLTQyMDYzKSxtPXMobSxmLGcsRSxkW2wrMTFdLDIyLC0xOTkwNDA0MTYyKSxFPXMoRSxtLGYsZyxkW2wrMTJdLDcsMTgwNDYwMzY4MiksZz1zKGcsRSxtLGYsZFtsKzEzXSwxMiwtNDAzNDExMDEpLGY9cyhmLGcsRSxtLGRbbCsxNF0sMTcsLTE1MDIwMDIyOTApLG09cyhtLGYsZyxFLGRbbCsxNV0sMjIsMTIzNjUzNTMyOSksRT1vKEUsbSxmLGcsZFtsKzFdLDUsLTE2NTc5NjUxMCksZz1vKGcsRSxtLGYsZFtsKzZdLDksLTEwNjk1MDE2MzIpLGY9byhmLGcsRSxtLGRbbCsxMV0sMTQsNjQzNzE3NzEzKSxtPW8obSxmLGcsRSxkW2wrMF0sMjAsLTM3Mzg5NzMwMiksRT1vKEUsbSxmLGcsZFtsKzVdLDUsLTcwMTU1ODY5MSksZz1vKGcsRSxtLGYsZFtsKzEwXSw5LDM4MDE2MDgzKSxmPW8oZixnLEUsbSxkW2wrMTVdLDE0LC02NjA0NzgzMzUpLG09byhtLGYsZyxFLGRbbCs0XSwyMCwtNDA1NTM3ODQ4KSxFPW8oRSxtLGYsZyxkW2wrOV0sNSw1Njg0NDY0MzgpLGc9byhnLEUsbSxmLGRbbCsxNF0sOSwtMTAxOTgwMzY5MCksZj1vKGYsZyxFLG0sZFtsKzNdLDE0LC0xODczNjM5NjEpLG09byhtLGYsZyxFLGRbbCs4XSwyMCwxMTYzNTMxNTAxKSxFPW8oRSxtLGYsZyxkW2wrMTNdLDUsLTE0NDQ2ODE0NjcpLGc9byhnLEUsbSxmLGRbbCsyXSw5LC01MTQwMzc4NCksZj1vKGYsZyxFLG0sZFtsKzddLDE0LDE3MzUzMjg0NzMpLG09byhtLGYsZyxFLGRbbCsxMl0sMjAsLTE5MjY2MDc3MzQpLEU9YShFLG0sZixnLGRbbCs1XSw0LC0zNzg1NTgpLGc9YShnLEUsbSxmLGRbbCs4XSwxMSwtMjAyMjU3NDQ2MyksZj1hKGYsZyxFLG0sZFtsKzExXSwxNiwxODM5MDMwNTYyKSxtPWEobSxmLGcsRSxkW2wrMTRdLDIzLC0zNTMwOTU1NiksRT1hKEUsbSxmLGcsZFtsKzFdLDQsLTE1MzA5OTIwNjApLGc9YShnLEUsbSxmLGRbbCs0XSwxMSwxMjcyODkzMzUzKSxmPWEoZixnLEUsbSxkW2wrN10sMTYsLTE1NTQ5NzYzMiksbT1hKG0sZixnLEUsZFtsKzEwXSwyMywtMTA5NDczMDY0MCksRT1hKEUsbSxmLGcsZFtsKzEzXSw0LDY4MTI3OTE3NCksZz1hKGcsRSxtLGYsZFtsKzBdLDExLC0zNTg1MzcyMjIpLGY9YShmLGcsRSxtLGRbbCszXSwxNiwtNzIyNTIxOTc5KSxtPWEobSxmLGcsRSxkW2wrNl0sMjMsNzYwMjkxODkpLEU9YShFLG0sZixnLGRbbCs5XSw0LC02NDAzNjQ0ODcpLGc9YShnLEUsbSxmLGRbbCsxMl0sMTEsLTQyMTgxNTgzNSksZj1hKGYsZyxFLG0sZFtsKzE1XSwxNiw1MzA3NDI1MjApLG09YShtLGYsZyxFLGRbbCsyXSwyMywtOTk1MzM4NjUxKSxFPWMoRSxtLGYsZyxkW2wrMF0sNiwtMTk4NjMwODQ0KSxnPWMoZyxFLG0sZixkW2wrN10sMTAsMTEyNjg5MTQxNSksZj1jKGYsZyxFLG0sZFtsKzE0XSwxNSwtMTQxNjM1NDkwNSksbT1jKG0sZixnLEUsZFtsKzVdLDIxLC01NzQzNDA1NSksRT1jKEUsbSxmLGcsZFtsKzEyXSw2LDE3MDA0ODU1NzEpLGc9YyhnLEUsbSxmLGRbbCszXSwxMCwtMTg5NDk4NjYwNiksZj1jKGYsZyxFLG0sZFtsKzEwXSwxNSwtMTA1MTUyMyksbT1jKG0sZixnLEUsZFtsKzFdLDIxLC0yMDU0OTIyNzk5KSxFPWMoRSxtLGYsZyxkW2wrOF0sNiwxODczMzEzMzU5KSxnPWMoZyxFLG0sZixkW2wrMTVdLDEwLC0zMDYxMTc0NCksZj1jKGYsZyxFLG0sZFtsKzZdLDE1LC0xNTYwMTk4MzgwKSxtPWMobSxmLGcsRSxkW2wrMTNdLDIxLDEzMDkxNTE2NDkpLEU9YyhFLG0sZixnLGRbbCs0XSw2LC0xNDU1MjMwNzApLGc9YyhnLEUsbSxmLGRbbCsxMV0sMTAsLTExMjAyMTAzNzkpLGY9YyhmLGcsRSxtLGRbbCsyXSwxNSw3MTg3ODcyNTkpLG09YyhtLGYsZyxFLGRbbCs5XSwyMSwtMzQzNDg1NTUxKSxFPW4oRSxoKSxtPW4obSx1KSxmPW4oZixwKSxnPW4oZyxfKTtyZXR1cm4gaShFKStpKG0pK2koZikraShnKX0oXCJcIit0K2kpKS5zbGljZSgwLDE2KSxyPW4uc2xpY2UoMCwxMikscz1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIixuLFwiQUVTLUdDTVwiLCEwLFtcImVuY3J5cHRcIl0pO3JldHVybiBuZXcgVWludDhBcnJheShhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5lbmNyeXB0KHtuYW1lOlwiQUVTLUdDTVwiLGl2OnJ9LHMsZSkpfSxmYj1hc3luYyhlLHQsaSk9PmF3YWl0IG1iKGUuYnVmZmVyLHQsaSk7ZnVuY3Rpb24gZ2IoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIFRiKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2diKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmdiKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIFNiIGV4dGVuZHMgaUF7Z2V0IGlzUGxheWluZygpe3JldHVybiEoIXRoaXMuX3BsYXllcnx8dGhpcy5fcGxheWVyLnZpZGVvRWxlbWVudFN0YXR1cyE9PVp5LlBMQVlJTkcpfWdldCBwcm9jZXNzb3JDb250ZXh0KCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NvckNvbnRleHR9c2V0IHByb2Nlc3NvckNvbnRleHQoZSl7dGhpcy5fcHJvY2Vzc29yQ29udGV4dD1lfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuXCJMb2NhbFZpZGVvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuLHIscyl7aWYoc3VwZXIoZSxyKSxudSh0aGlzLFwidHJhY2tNZWRpYVR5cGVcIixcInZpZGVvXCIpLG51KHRoaXMsXCJfcGxheWVyXCIsdm9pZCAwKSxudSh0aGlzLFwiaXNVc2VTY2FsZVJlc29sdXRpb25Eb3duQnlcIiwhMSksbnUodGhpcyxcIl92aWRlb1Zpc2libGVUaW1lclwiLG51bGwpLG51KHRoaXMsXCJfc3RhdHNUaW1lclwiLG51bGwpLG51KHRoaXMsXCJfcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXNcIix2b2lkIDApLG51KHRoaXMsXCJfY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1c1wiLCgoKT0+dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXM9dm9pZCAwKSksbnUodGhpcyxcIl9lbmNvZGVyQ29uZmlnXCIsdm9pZCAwKSxudSh0aGlzLFwiX3NjYWxhYmlsaXR5TW9kZVwiLHtudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0pLG51KHRoaXMsXCJfb3B0aW1pemF0aW9uTW9kZVwiLHZvaWQgMCksbnUodGhpcyxcIl92aWRlb0hlaWdodFwiLHZvaWQgMCksbnUodGhpcyxcIl92aWRlb1dpZHRoXCIsdm9pZCAwKSxudSh0aGlzLFwiX2ZvcmNlQml0cmF0ZUxpbWl0XCIsdm9pZCAwKSxudSh0aGlzLFwiX2VuYWJsZWRcIiwhMCksbnUodGhpcyxcInByb2Nlc3NvckRlc3RpbmF0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwiX3Byb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLFNnKCkpe2NvbnN0e3dpZHRoOnQsaGVpZ2h0Oml9PWUuZ2V0U2V0dGluZ3MoKTt0aGlzLl92aWRlb1dpZHRoPXQsdGhpcy5fdmlkZW9IZWlnaHQ9aX1lbHNlIHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKTtpZih0aGlzLl9lbmNvZGVyQ29uZmlnPXQsdGhpcy5fc2NhbGFiaWxpdHlNb2RlPWksdGhpcy5fb3B0aW1pemF0aW9uTW9kZT1uLHRoaXMuX2hpbnRzPXN8fFtdLC0xPT09dGhpcy5faGludHMuaW5kZXhPZihreS5TQ1JFRU5fVFJBQ0spKXRoaXMudXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCk7ZWxzZSBpZihmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1wZygpO3JldHVybiEobi5uYW1lIT09ZXx8IW4ub3NWZXJzaW9uKSYmKGk/TnVtYmVyKG4udmVyc2lvbik+PXQmJk51bWJlcihuLnZlcnNpb24pPD1pOk51bWJlcihuLnZlcnNpb24pPT09dCl9KGNnLkNIUk9NRSwxMTUpJiYtMSE9PV9nKCkuaW5kZXhPZihcIldpbmRvd3NcIikpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtpZihcIlZpZGVvRnJhbWVcImluIHdpbmRvdyYmXCJUcmFuc2Zvcm1TdHJlYW1cImluIHdpbmRvdyYmX0EoKS5zdXBwb3J0V2ViUlRDSW5zZXJ0YWJsZVN0cmVhbSl7Y29uc3QgaT1uZXcgTWVkaWFTdHJlYW1UcmFja1Byb2Nlc3NvcihlKSxuPW5ldyBNZWRpYVN0cmVhbVRyYWNrR2VuZXJhdG9yKHtraW5kOlwidmlkZW9cIn0pO2xldCByLHMsbz1EYXRlLm5vdygpO2NvbnN0IGE9KCk9PntjJiYoY2xlYXJJbnRlcnZhbChjKSxjPXZvaWQgMCksciYmKHIuY2xvc2UoKSxyPXZvaWQgMCksZS5zdG9wKCkscz12b2lkIDAsbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixhKX07bGV0IGM9d2luZG93LnNldEludGVydmFsKCgoKT0+e2lmKHMmJnImJkRhdGUubm93KCktbz4obnVsbCE9dD90OjFlMykpdHJ5e1wibGl2ZVwiPT09bi5yZWFkeVN0YXRlP3MuZW5xdWV1ZShyLmNsb25lKCkpOmEoKX1jYXRjaChlKXthKCl9fSksbnVsbCE9dD90OjFlMyk7Y29uc3QgZD1uZXcgVHJhbnNmb3JtU3RyZWFtKHt0cmFuc2Zvcm06KGUsdCk9PntcImxpdmVcIj09PW4ucmVhZHlTdGF0ZT8ocz10LG89RGF0ZS5ub3coKSx2b2lkIDA9PT1yPyhyPWUsdC5lbnF1ZXVlKGUuY2xvbmUoKSkpOih0LmVucXVldWUocikscj1lKSk6ZS5jbG9zZSgpfX0pO3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGEpLGkucmVhZGFibGUucGlwZVRocm91Z2goZCkucGlwZVRvKG4ud3JpdGFibGUpLG59fShlKTt0JiYoS0MuaW5mbyhcImxvY2FsIHNjcmVlbiB2aWRlbyB0cmFjayBiZWdpbiB0byBpbmplY3QgZnJhbWVcIiksdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10KX10JiYtMSE9PXRoaXMuX2hpbnRzLmluZGV4T2Yoa3kuQ1VTVE9NX1RSQUNLKSYmdGhpcy5zZXRFbmNvZGVyQ29uZmlndXJhdGlvbih0KSx0aGlzLnByb2Nlc3NvckNvbnRleHQ9bmV3IEdBKHRoaXMuZ2V0VHJhY2tJZCgpLFwibG9jYWxcIiksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbj1uZXcgakEodGhpcy5wcm9jZXNzb3JDb250ZXh0KSx0aGlzLmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpfXBsYXkoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtjb25zdCB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO3Q/ZT10OihLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSwnXSBjYW4gbm90IGZpbmQgXCIjJykuY29uY2F0KGUsJ1wiIGVsZW1lbnQsIHVzZSBkb2N1bWVudC5ib2R5JykpLGU9ZG9jdW1lbnQuYm9keSl9S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCB2aWRlbyBwbGF5YmFjayBpbiBcIikuY29uY2F0KGUgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P1wiSFRNTFZpZGVvRWxlbWVudFwiOlwiSFRNTEVsZW1lbnRcIiksSlNPTi5zdHJpbmdpZnkodCkpO2NvbnN0IGk9VGIoVGIoVGIoe30sdGhpcy5fZ2V0RGVmYXVsdFBsYXllckNvbmZpZygpKSx0KSx7fSx7dHJhY2tJZDp0aGlzLmdldFRyYWNrSWQoKSxlbGVtZW50OmV9KTt0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLnVwZGF0ZUNvbmZpZyhpKTooZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/dGhpcy5fcGxheWVyPW5ldyB1YihpKTp0aGlzLl9wbGF5ZXI9bmV3IF9iKGkpLHRoaXMuX3BsYXllci51cGRhdGVWaWRlb1RyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spKSx0aGlzLl9wbGF5ZXIucGxheSgpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl92aWRlb1Zpc2libGVUaW1lciksdGhpcy5fY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cygpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0cnl7Y29uc3QgZT10aGlzLmdldFZpZGVvRWxlbWVudFZpc2libGVTdGF0dXMoKTt0aGlzLnNhZmVFbWl0KEZ5LlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVMsZSl9Y2F0Y2goZSl7fX0pLGtDKFwiQ0hFQ0tfVklERU9fVklTSUJMRV9JTlRFUlZBTFwiKSl9c3RvcCgpe3RoaXMuX3BsYXllciYmKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyPW51bGwpLHRoaXMuX3N0YXRzVGltZXImJih0aGlzLmlzVXNlU2NhbGVSZXNvbHV0aW9uRG93bkJ5PSExLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3N0YXRzVGltZXIpLHRoaXMuX3N0YXRzVGltZXI9bnVsbCksdGhpcy5fY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cygpLHRoaXMuX3BsYXllci5kZXN0cm95KCksdGhpcy5fcGxheWVyPXZvaWQgMCxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0b3AgdmlkZW8gcGxheWJhY2tcIikpKX1hc3luYyBzZXRFbmFibGVkKGUsdCl7aWYoIXQpe2lmKGU9PT10aGlzLl9lbmFibGVkKXJldHVybjt0aGlzLnN0YXRlQ2hlY2soXCJlbmFibGVkXCIsZSl9aWYoS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldEVuYWJsZWRcIiksZSksIWUpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMTt0cnl7YXdhaXQgZ1QodGhpcyxMeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcyl9Y2F0Y2goZSl7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIGZhbHNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1yZXR1cm4gdHx8KHRoaXMuX2VuYWJsZWQ9ITEpLHZvaWQgS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2Ugc3VjY2Vzc1wiKSl9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSEwO3RyeXthd2FpdCBnVCh0aGlzLEx5Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byB0cnVlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1LQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byB0cnVlIHN1Y2Nlc3NcIikpLHR8fCh0aGlzLl9lbmFibGVkPSEwKX1hc3luYyBzZXRNdXRlZChlKXtlIT09dGhpcy5fbXV0ZWQmJih0aGlzLnN0YXRlQ2hlY2soXCJtdXRlZFwiLGUpLHRoaXMuX211dGVkPWUsdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSFlLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0IG11dGVkOiBcIikuY29uY2F0KGUpKSxlP2F3YWl0IGdUKHRoaXMsTHkuTkVFRF9NVVRFX1RSQUNLLHRoaXMpOmF3YWl0IGdUKHRoaXMsTHkuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcykpfWFzeW5jIHNldEVuY29kZXJDb25maWd1cmF0aW9uKGUsdCl7aWYoIXRoaXMuX2VuYWJsZWQpdGhyb3cgbmV3IFZnKHhnLlRSQUNLX0lTX0RJU0FCTEVELFwiY2FuIG5vdCBzZXQgZW5jb2RlciBjb25maWd1cmF0aW9uIHdoZW4gdHJhY2sgaXMgZGlzYWJsZWRcIik7aWYoXCI3MjBwX2F1dG9cIj09PWU/dGhpcy5zdGFydE1vbml0b3JTdGF0cygpOnRoaXMuX3N0YXRzVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9zdGF0c1RpbWVyKSx0aGlzLl9zdGF0c1RpbWVyPW51bGwpLGU9QXkoZSksdGhpcy5fZm9yY2VCaXRyYXRlTGltaXQmJihlLmJpdHJhdGVNYXg9dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWF4X2JpdHJhdGU/dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWF4X2JpdHJhdGU6ZS5iaXRyYXRlTWF4LGUuYml0cmF0ZU1pbj10aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5taW5fYml0cmF0ZT90aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5taW5fYml0cmF0ZTplLmJpdHJhdGVNaW4pLGUud2lkdGh8fGUuaGVpZ2h0fHxlLmZyYW1lUmF0ZSl7Y29uc3QgdD1pYih7ZW5jb2RlckNvbmZpZzplfSk7KFNnKCl8fENnKCl8fERnKCkpJiYodC5kZXZpY2VJZD12b2lkIDApLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24gYXBwbHlDb25zdHJhaW50c1wiKSxKU09OLnN0cmluZ2lmeShlKSxKU09OLnN0cmluZ2lmeSh0KSk7dHJ5e2F3YWl0IHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suYXBwbHlDb25zdHJhaW50cyh0KSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixlLnRvU3RyaW5nKCkpO3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gYXBwbHlDb25zdHJhaW50cyBlcnJvclwiKSx0LnRvU3RyaW5nKCkpLHR9fXRoaXMuX2VuY29kZXJDb25maWc9ZSwtMT09PXRoaXMuX2hpbnRzLmluZGV4T2Yoa3kuU0NSRUVOX1RSQUNLKSYmdGhpcy51cGRhdGVCaXRyYXRlRnJvbVByb2ZpbGUoKTt0cnl7YXdhaXQgZ1QodGhpcyxMeS5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMpfWNhdGNoKGUpe3JldHVybiBlLnRocm93KEtDKX19Z2V0U3RhdHMoKXtOVCgoKCk9PntLQy53YXJuaW5nKFwiW2RlcHJlY2F0ZWRdIExvY2FsVmlkZW9UcmFjay5nZXRTdGF0cyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgdXNlIEFnb3JhUlRDQ2xpZW50LmdldExvY2FsVmlkZW9TdGF0cyBpbnN0ZWFkXCIpfSksXCJsb2NhbFZpZGVvVHJhY2tHZXRTdGF0c1dhcm5pbmdcIik7Y29uc3QgZT1UVCh0aGlzLEx5LkdFVF9TVEFUUyk7cmV0dXJuIGV8fFRiKHt9LEh5KX1hc3luYyBzZXRCZWF1dHlFZmZlY3QoZSl7S0MuZXJyb3IoXCJMb2NhbFZpZGVvVHJhY2suc2V0QmVhdXR5RWZmZWN0IHdhcyBkZXByZWNhdGVkLCBwbGVhc2UgbWlncmF0ZSB0byBhZ29yYS1leHRlbnNpb24tYmVhdXR5LWVmZmVjdFwiKX1nZXRDdXJyZW50RnJhbWVEYXRhKCl7cmV0dXJuIHRoaXMuX3BsYXllcj90aGlzLl9wbGF5ZXIuZ2V0Q3VycmVudEZyYW1lKCk6bmV3IEltYWdlRGF0YSgyLDIpfWFzeW5jIGdldEN1cnJlbnRGcmFtZUltYWdlKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3JldHVybiB0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLmdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlLHQpOmF3YWl0IGFiKGUpfWFzeW5jIHNldEJpdHJhdGVMaW1pdChlKXtpZihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBiaXRyYXRlIGxpbWl0LCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksZSl7dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQ9ZSx0aGlzLl9lbmNvZGVyQ29uZmlnJiYodGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4P3RoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD10aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg8ZS5tYXhfYml0cmF0ZT90aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg6ZS5tYXhfYml0cmF0ZTp0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg9ZS5tYXhfYml0cmF0ZSx0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNaW4sdGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWluPWUubWluX2JpdHJhdGUpO3RyeXthd2FpdCBnVCh0aGlzLEx5Lk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcyl9Y2F0Y2goZSl7cmV0dXJuIGUudGhyb3coS0MpfX19YXN5bmMgc2V0T3B0aW1pemF0aW9uTW9kZShlKXtpZihcIm1vdGlvblwiIT09ZSYmXCJkZXRhaWxcIiE9PWUmJlwiYmFsYW5jZWRcIiE9PWUpcmV0dXJuIHZvaWQgS0MuZXJyb3IoeGcuSU5WQUxJRF9QQVJBTVMsXCJvcHRpbWl6YXRpb24gbW9kZSBtdXN0IGJlIG1vdGlvbiwgZGV0YWlsIG9yIGJhbGFuY2VkXCIpO2NvbnN0IHQ9dGhpcy5fb3B0aW1pemF0aW9uTW9kZTt0cnl7dGhpcy5fb3B0aW1pemF0aW9uTW9kZT1lLGF3YWl0IGdUKHRoaXMsTHkuU0VUX09QVElNSVpBVElPTl9NT0RFLHRoaXMpfWNhdGNoKGUpe3Rocm93IHRoaXMuX29wdGltaXphdGlvbk1vZGU9dCxLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBvcHRpbWl6YXRpb24gbW9kZSBmYWlsZWRcIiksZS50b1N0cmluZygpKSxlfUtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgb3B0aW1pemF0aW9uIG1vZGUgc3VjY2VzcyAoXCIpLmNvbmNhdChlLFwiKVwiKSl9c2V0U2NhbGFiaWx0eU1vZGUoZSl7aWYoMT09PWUubnVtU3BhdGlhbExheWVycyYmMSE9PWUubnVtVGVtcG9yYWxMYXllcnMpcmV0dXJuIEtDLmVycm9yKHhnLklOVkFMSURfUEFSQU1TLFwic2NhbGFiaWxpdHkgbW9kZSBjdXJyZW50bHkgbm90IHN1cHBvcnRlZCwgbm8gU1ZDLlwiKSx2b2lkKHRoaXMuX3NjYWxhYmlsaXR5TW9kZT17bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9KTt0aGlzLl9zY2FsYWJpbGl0eU1vZGU9ZSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IHNjYWxhYmlsaXR5IG1vZGUgc3VjY2VzcyAoXCIpLmNvbmNhdChlLFwiKVwiKSl9dXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKXtFYih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKS50aGVuKChlPT57bGV0W3QsaV09ZTt0aGlzLl92aWRlb0hlaWdodD1pLHRoaXMuX3ZpZGVvV2lkdGg9dH0pKS5jYXRjaChGVCl9X3VwZGF0ZVBsYXllclNvdXJjZSgpe3RoaXMuX3BsYXllciYmdGhpcy5fcGxheWVyLnVwZGF0ZVZpZGVvVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayl9X2dldERlZmF1bHRQbGF5ZXJDb25maWcoKXtyZXR1cm57Zml0OlwiY29udGFpblwifX1hc3luYyBzZXRTZW5kZXJDb25maWd1cmF0aW9uKGUpe2lmKCF0aGlzLl9lbmFibGVkKXRocm93IG5ldyBWZyh4Zy5UUkFDS19JU19ESVNBQkxFRCxcImNhbiBub3Qgc2V0IGVuY29kZXIgY29uZmlndXJhdGlvbiB3aGVuIHRyYWNrIGlzIGRpc2FibGVkXCIpO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0U2VuZGVyQ29uZmlndXJhdGlvbiBhcHBseUNvbnN0cmFpbnRzXCIpLEpTT04uc3RyaW5naWZ5KGUpKSxlPUF5KGUpLHRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0JiYoZS5iaXRyYXRlTWF4PXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlP3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlOmUuYml0cmF0ZU1heCxlLmJpdHJhdGVNaW49dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU/dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU6ZS5iaXRyYXRlTWluKSx0aGlzLl9lbmNvZGVyQ29uZmlnPWUsLTE9PT10aGlzLl9oaW50cy5pbmRleE9mKGt5LlNDUkVFTl9UUkFDSykmJnRoaXMudXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCk7dHJ5e2F3YWl0IGdUKHRoaXMsTHkuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzKX1jYXRjaChlKXtyZXR1cm4gZS50aHJvdyhLQyl9fXVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpe2lmKCF0aGlzLl9lbmNvZGVyQ29uZmlnKXJldHVybjtjb25zdHt3aWR0aDplLGhlaWdodDp0LGZyYW1lUmF0ZTppfT10aGlzLmdldE1lZGlhU3RyZWFtVHJhY2tTZXR0aW5ncygpO2lmKCFlfHwhdHx8IWkpcmV0dXJuO2NvbnN0W24scl09ZnVuY3Rpb24oZSx0LGksbil7bGV0IHI7Y29uc3Qgcz0yMDAqTWF0aC5wb3coaS8xNSwuNikqTWF0aC5wb3coZSp0LzY0MC8zNjAsLjc1KSxvPXM7aWYoXCJTVEFOREFSRF9CSVRSQVRFXCI9PT1uKXI9NCpzO2Vsc2V7aWYoXCJDT01QQVRJQUJMRV9CSVRSQVRFXCIhPT1uKXJldHVybjtyPTIqc31yZXR1cm5bTWF0aC5mbG9vcihyKSxNYXRoLmZsb29yKG8pXX0oZSx0LGksa0MoXCJCSVRSQVRFX0FEQVBURVJfVFlQRVwiKSl8fFt2b2lkIDAsdm9pZCAwXTt0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNaW58fHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heHx8KHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbj1yLHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD1uLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIGJpdHJhdGUgZnJvbSBwcm9maWxlLCBbdzogXCIpLmNvbmNhdChlLFwiLCBoOiBcIikuY29uY2F0KHQsXCIsIGZwczogXCIpLmNvbmNhdChpLFwiXSA9PiBbYnJNYXg6IFwiKS5jb25jYXQobixcIiwgYnJNaW46IFwiKS5jb25jYXQocixcIl1cIikpKX1nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCl7dHJ5e3ZhciBlLHQ7Y29uc3QgaT1udWxsPT10aGlzfHxudWxsPT09KGU9dGhpcy5fcGxheWVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDb250YWluZXJFbGVtZW50KCksbj17dHJhY2s6dGhpcyxlbGVtZW50Om51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLl9wbGF5ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFZpZGVvRWxlbWVudCgpLHNsb3Q6bnVsbD09aT92b2lkIDA6aS5wYXJlbnRFbGVtZW50fSx7ZWxlbWVudDpyLHNsb3Q6c309bjtpZih0aGlzLmlzUGxheWluZyYmciBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQmJnMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7Y29uc3QgZT1RZy5jaGVja09uZUVsZW1lbnRWaXNpYmxlKHIpLHQ9T2JqZWN0LmFzc2lnbih7fSxlKTtpZih0LnZpc2libGUhPT10aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cyl7dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXM9dC52aXNpYmxlO2NvbnN0IGU9cnYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvVC5UUkFDRVIsbmFtZTpzVC5MT0NBTF9WSURFT19UUkFDS19HRVRfVklERU9fVklTSUJMRSxvcHRpb25zOlt0aGlzLmdldFRyYWNrSWQoKV19KTt0LnZpc2libGU/ZS5vblN1Y2Nlc3MoXCJWaWRlbyBpcyB2aXNpYmxlXCIpOmUub25TdWNjZXNzKFwiSW52aXNpYmxlIGJlY2F1c2Ugb2YgXCIuY29uY2F0KHQucmVhc29uKSl9cmV0dXJuIHR9cmV0dXJufWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5HRVRfVklERU9fRUxFTUVOVF9WSVNJQkxFX0VSUk9SLGUubWVzc2FnZSl9fWFzeW5jIHJlbmV3TWVkaWFTdHJlYW1UcmFjayhlKXt9cGlwZShlKXtpZih0aGlzLnByb2Nlc3Nvcj09PWUpcmV0dXJuIGU7aWYoZS5fc291cmNlKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQoZS5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9ZSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsZS51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLGV9dW5waXBlKCl7aWYoIXRoaXMucHJvY2Vzc29yKXJldHVybjtjb25zdCBlPXRoaXMucHJvY2Vzc29yO3RoaXMucHJvY2Vzc29yLl9zb3VyY2U9dm9pZCAwLHRoaXMucHJvY2Vzc29yPXZvaWQgMCxlLnJlc2V0KCl9Y2xvc2UoKXtzdXBlci5jbG9zZSgpLHRoaXMudW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKSx0aGlzLnVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKSx0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24uX3NvdXJjZSYmdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5fc291cmNlLnVucGlwZSgpfWNsb25lKGUpe2xldCB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0saT10aGlzLl9lbmNvZGVyQ29uZmlnO2UmJihpPVRiKFRiKHt9LGkpLEF5KGUpKSksaT13VChpKTtjb25zdCBuPXhUKDgsXCJ0cmFjay12aWRlby1jbG9uZWQtXCIpLHI9bmV3IFNiKHQ/dGhpcy5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2ssaSx3VCh0aGlzLl9zY2FsYWJpbGl0eU1vZGUpLHRoaXMuX29wdGltaXphdGlvbk1vZGUsbix3VCh0aGlzLl9oaW50cykpO3JldHVybiBlJiZpJiZyLnNldEVuY29kZXJDb25maWd1cmF0aW9uKGkpLEtDLmRlYnVnKFwiY2xvbmUgdmlkZW8gdHJhY2sgZnJvbSBcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCIgdG8gXCIpLmNvbmNhdChuLFwiLCBjbG9uZSBcIikuY29uY2F0KHQpKSxyfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcInRyYWNrIHNob3VsZCBiZSBhbiBpbnN0YW5jZSBvZiBNZWRpYVN0cmVhbVRyYWNrXCIpO2lmKFwidmlkZW9cIiE9PWUua2luZCl0aHJvdyBuZXcgVmcoeGcuSU5WQUxJRF9QQVJBTVMsXCJ0cmFjayBzaG91bGQgYmUgYSB2aWRlbyBNZWRpYVN0cmVhbVRyYWNrXCIpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZSx0LCEwKSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl9c3RhcnRNb25pdG9yU3RhdHMoKXtpZighU2coKSYmIUNnKCkpcmV0dXJuO3RoaXMuX3N0YXRzVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3N0YXRzVGltZXIpO2xldCBlPTIsdD12eVtlXTtsZXQgaT0tMTtsZXQgbj1EYXRlLm5vdygpO2NvbnN0IHI9ZT0+e2U+Mnx8ZTwwfHwobj1EYXRlLm5vdygpLHQ9dnlbZV0sdGhpcy5zZXRTZW5kZXJDb25maWd1cmF0aW9uKHQpKX07dGhpcy5pc1VzZVNjYWxlUmVzb2x1dGlvbkRvd25CeT0hMCx0aGlzLl9zdGF0c1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pntjb25zdCBzPXRoaXMuZ2V0U3RhdHMoKSxvPVRUKHRoaXMsTHkuR0VUX1JUQ19TVEFUUyk7aWYocy5zZW5kUGFja2V0cz4wJiZvKXstMT09PWkmJihpPURhdGUubm93KCkpO2NvbnN0IGE9RGF0ZS5ub3coKTtpZihhLWk8MWUzfHxhLW48a0MoXCJQUk9GSUxFX1NXSVRDSF9JTlRFUlZBTFwiKSlyZXR1cm47Y29uc3QgYz1zLnNlbmRGcmFtZVJhdGUsZD0uNip0LmZyYW1lUmF0ZSxsPS45KnQuZnJhbWVSYXRlO1wibnVtYmVyXCI9PXR5cGVvZiBjJiZjPjAmJmM8ZD9lPjAmJihlLS0scihlKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0ZXAgZG93biBmb3IgZnBzIFwiKS5jb25jYXQoYyxcIiwgc3dpdGNoUHJvZmlsZSB0byBcIikuY29uY2F0KGUpKSk6by5PdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aDx0LmJpdHJhdGVNaW4/ZT4wJiYoZS0tLHIoZSksS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGVwIGRvd24gZm9yIE91dGdvaW5nQXZhaWxhYmxlQmFuZHdpZHRoIFwiKS5jb25jYXQoby5PdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aCxcIiwgYml0cmF0ZU1pbiBcIikuY29uY2F0KHQuYml0cmF0ZU1pbixcIiwgc3dpdGNoUHJvZmlsZSB0byBcIikuY29uY2F0KGUpKSk6XCJudW1iZXJcIj09dHlwZW9mIGMmJmM+bCYmZTx2eS5sZW5ndGgtMSYmby5PdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aD4xLjIqdnlbZSsxXS5iaXRyYXRlTWluJiYoZSsrLHIoZSksS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGVwIHVwIGZvciBmcHMgXCIpLmNvbmNhdChjLFwiLCBPdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aCBcIikuY29uY2F0KG8uT3V0Z29pbmdBdmFpbGFibGVCYW5kd2lkdGgsXCIsIHN3aXRjaFByb2ZpbGUgdG8gXCIpLmNvbmNhdChlKSkpfX0pLGtDKFwiQ0hFQ0tfTE9DQUxfU1RBVFNfSU5URVJWQUxcIikpfWJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ub24oSnkuT05fVFJBQ0ssKGFzeW5jIGU9PntlP2UhPT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IGdUKHRoaXMsTHkuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpKTp0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSxhd2FpdCBnVCh0aGlzLEx5Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSl9KSl9dW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycyhKeS5PTl9UUkFDSyl9dW5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cygpe3RoaXMucHJvY2Vzc29yQ29udGV4dC5yZW1vdmVBbGxMaXN0ZW5lcnMoenkuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMpLHRoaXMucHJvY2Vzc29yQ29udGV4dC5yZW1vdmVBbGxMaXN0ZW5lcnMoenkuUkVRVUVTVF9DT05TVFJBSU5UUyl9fU12KFtudih7YXJnc01hcDooZSx0LGkpPT5bZS5nZXRUcmFja0lkKCksXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9cIkhUTUxWaWRlb0VsZW1lbnRcIjpcIkhUTUxFbGVtZW50XCIsaV19KSxWQSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLFNiLnByb3RvdHlwZSxcInBsYXlcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sU2IucHJvdG90eXBlLFwic3RvcFwiLG51bGwpLE12KFtxVChcIkxvY2FsVmlkZW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQm9vbGVhbixCb29sZWFuXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sU2IucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLG51bGwpLE12KFtxVChcIkxvY2FsVmlkZW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFNiLnByb3RvdHlwZSxcInNldE11dGVkXCIsbnVsbCksTXYoW252KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxWQSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFNiLnByb3RvdHlwZSxcInNldEVuY29kZXJDb25maWd1cmF0aW9uXCIsbnVsbCksTXYoW1ZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIixPYmplY3QpXSxTYi5wcm90b3R5cGUsXCJnZXRTdGF0c1wiLG51bGwpLE12KFtudih7YXJnc01hcDooZSx0LGkpPT5bZS5nZXRUcmFja0lkKCksdCxpXX0pLFZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Jvb2xlYW4sT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sU2IucHJvdG90eXBlLFwic2V0QmVhdXR5RWZmZWN0XCIsbnVsbCksTXYoW1ZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIixJbWFnZURhdGEpXSxTYi5wcm90b3R5cGUsXCJnZXRDdXJyZW50RnJhbWVEYXRhXCIsbnVsbCksTXYoW1ZBKCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxOdW1iZXJdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxTYi5wcm90b3R5cGUsXCJnZXRDdXJyZW50RnJhbWVJbWFnZVwiLG51bGwpLE12KFtWQSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxTYi5wcm90b3R5cGUsXCJzZXRCaXRyYXRlTGltaXRcIixudWxsKSxNdihbVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sU2IucHJvdG90eXBlLFwic2V0T3B0aW1pemF0aW9uTW9kZVwiLG51bGwpLE12KFtWQSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sU2IucHJvdG90eXBlLFwic2V0U2NhbGFiaWx0eU1vZGVcIixudWxsKSxNdihbVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLFNiLnByb3RvdHlwZSxcInVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uXCIsbnVsbCksTXYoW252KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdC5uYW1lXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsT2JqZWN0KV0sU2IucHJvdG90eXBlLFwicGlwZVwiLG51bGwpLE12KFtudih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxTYi5wcm90b3R5cGUsXCJ1bnBpcGVcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sU2IucHJvdG90eXBlLFwiY2xvc2VcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6KGUsdCxpKT0+W2UuZ2V0VHJhY2tJZCgpLHQubGFiZWwsaV19KSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTWVkaWFTdHJlYW1UcmFjayxCb29sZWFuXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sU2IucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxTYi5wcm90b3R5cGUsXCJzdGFydE1vbml0b3JTdGF0c1wiLG51bGwpO2NsYXNzIFJiIGV4dGVuZHMgU2J7Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkNhbWVyYVZpZGVvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuLHIscyl7c3VwZXIoZSxBeSh0LmVuY29kZXJDb25maWcpLG4scixzKSxudSh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIl9vcmlnaW5hbENvbnN0cmFpbnRzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NvbnN0cmFpbnRzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2VuYWJsZWRcIiwhMCksbnUodGhpcyxcIl9kZXZpY2VOYW1lXCIsXCJkZWZhdWx0XCIpLG51KHRoaXMsXCJ0cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0XCIsKGFzeW5jKCk9Pnsod2coKXx8T2coKSkmJiFmdW5jdGlvbigpe2NvbnN0IGU9cGcoKTtpZihlLm9zIT09YWcuSU9TfHwhZS5vc1ZlcnNpb24pcmV0dXJuITE7Y29uc3QgdD1lLm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIDE1PT09TnVtYmVyKHRbMF0pJiZOdW1iZXIodFsxXSk+PTJ9KCkmJlBnKCkmJnRoaXMuX2VuYWJsZWQmJiF0aGlzLl9pc0Nsb3NlZCYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJ5IGNhcHR1cmUgY2FtZXJhIG1lZGlhIGRldmljZSBmb3IgaW50ZXJydXB0ZWQgaU9TIDE1IGRldmljZSBvbiBXZUNoYXQuXCIpKSxhd2FpdCB0aGlzLnJlbmV3TWVkaWFTdHJlYW1UcmFjaygpKX0pKSx0aGlzLl9jb25maWc9dCx0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzPWksdGhpcy5fY29uc3RyYWludHM9aSx0aGlzLl9kZXZpY2VOYW1lPWUubGFiZWwsdGhpcy5fZW5jb2RlckNvbmZpZz1BeSh0aGlzLl9jb25maWcuZW5jb2RlckNvbmZpZyksb0Eub24odXkuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy50cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0KSxvQS5vbih1eS5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpLHRoaXMuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKX1hc3luYyBzZXREZXZpY2UoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5fc2V0RGV2aWNlQnlJZChlKTplLmRldmljZUlkP3RoaXMuX3NldERldmljZUJ5SWQoZS5kZXZpY2VJZCk6ZS5mYWNpbmdNb2RlP3RoaXMuX3NldERldmljZUJ5RmFjaW5nTW9kZWwoZS5mYWNpbmdNb2RlKTp2b2lkIDB9YXN5bmMgX3NldERldmljZUJ5SWQoZSl7aWYoS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBkZXZpY2UgdG8gXCIpLmNvbmNhdChlKSksdGhpcy5fZW5hYmxlZCl0cnl7Y29uc3QgdD1hd2FpdCBPQS5nZXREZXZpY2VCeUlkKGUpLGk9e307aS52aWRlbz1UYih7fSx0aGlzLl9jb25zdHJhaW50cyksaS52aWRlby5kZXZpY2VJZD17ZXhhY3Q6ZX0saS52aWRlby5mYWNpbmdNb2RlPXZvaWQgMCx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtsZXQgbj1udWxsO3RyeXtuPWF3YWl0IHlBKGksdGhpcy5nZXRUcmFja0lkKCkpfWNhdGNoKGUpe3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLG49YXdhaXQgeUEoe3ZpZGVvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSksYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhuLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLGV9YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhuLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKSx0aGlzLl9kZXZpY2VOYW1lPXQubGFiZWwsdGhpcy5fY29uZmlnLmNhbWVyYUlkPWUsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OmV9fWNhdGNoKGUpe3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1lbHNlIHRyeXtjb25zdCB0PWF3YWl0IE9BLmdldERldmljZUJ5SWQoZSk7dGhpcy5fZGV2aWNlTmFtZT10LmxhYmVsLHRoaXMuX2NvbmZpZy5jYW1lcmFJZD1lLHRoaXMuX2NvbnN0cmFpbnRzLmRldmljZUlkPXtleGFjdDplfX1jYXRjaChlKXt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBzdWNjZXNzXCIpKX1hc3luYyBfc2V0RGV2aWNlQnlGYWNpbmdNb2RlbChlKXtLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGZhY2luZ01vZGUgXCIpLmNvbmNhdChlKSk7Y29uc3QgdD17dmlkZW86VGIoVGIoe30sdGhpcy5fY29uc3RyYWludHMpLHt9LHtkZXZpY2VJZDp2b2lkIDAsZmFjaW5nTW9kZTp7ZXhhY3Q6ZX19KX07aWYodGhpcy5fZW5hYmxlZCl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCk7bGV0IGU9bnVsbDt0cnl7ZT1hd2FpdCB5QSh0LHRoaXMuZ2V0VHJhY2tJZCgpKX1jYXRjaCh0KXt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZUJ5RmFjaW5nTW9kZWwgZmFpbGVkXCIpLHQudG9TdHJpbmcoKSksZT1hd2FpdCB5QSh7dmlkZW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKSxhd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksdH1hd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfXRoaXMuX2RldmljZU5hbWU9XCJcIix0aGlzLl9jb25maWcuZmFjaW5nTW9kZT1lLHRoaXMuX2NvbmZpZy5jYW1lcmFJZD12b2lkIDAsdGhpcy5fY29uc3RyYWludHM9VGIoe30sdC52aWRlbyksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZUJ5RmFjaW5nTW9kZWwgc3VjY2Vzc1wiKSl9YXN5bmMgc2V0RW5hYmxlZChlLHQpe2lmKCF0KXtpZihlPT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLGUpfWlmKEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLGUpLGUpe3RyeXtpZih0aGlzLmlzRXh0ZXJuYWxUcmFjayl0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITA7ZWxzZXtjb25zdCBlPWF3YWl0IHlBKHt2aWRlbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZS5nZXRWaWRlb1RyYWNrcygpWzBdLCExKX1hd2FpdCBnVCh0aGlzLEx5Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0cnVlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX10aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBzdWNjZXNzXCIpKSx0fHwodGhpcy5fZW5hYmxlZD0hMCl9ZWxzZXt0aGlzLmlzRXh0ZXJuYWxUcmFjaz90aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITE6KHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2sub25lbmRlZD1udWxsLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpKSx0fHwodGhpcy5fZW5hYmxlZD0hMSk7dHJ5e2F3YWl0IGdUKHRoaXMsTHkuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2Ugc3VjY2Vzc1wiKSl9fWFzeW5jIHNldEVuY29kZXJDb25maWd1cmF0aW9uKGUsdCl7aWYoIXRoaXMuX2VuYWJsZWQpdGhyb3cgbmV3IFZnKHhnLlRSQUNLX0lTX0RJU0FCTEVELFwiY2FuIG5vdCBzZXQgZW5jb2RlciBjb25maWd1cmF0aW9uIHdoZW4gdHJhY2sgaXMgZGlzYWJsZWRcIik7XCI3MjBwX2F1dG9cIj09PWU/dGhpcy5zdGFydE1vbml0b3JTdGF0cygpOnRoaXMuX3N0YXRzVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9zdGF0c1RpbWVyKSx0aGlzLl9zdGF0c1RpbWVyPW51bGwpLGU9QXkoZSksdGhpcy5fZm9yY2VCaXRyYXRlTGltaXQmJihlLmJpdHJhdGVNYXg9dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWF4X2JpdHJhdGU/dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWF4X2JpdHJhdGU6ZS5iaXRyYXRlTWF4LGUuYml0cmF0ZU1pbj10aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5taW5fYml0cmF0ZT90aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5taW5fYml0cmF0ZTplLmJpdHJhdGVNaW4pO2NvbnN0IGk9YlQodGhpcy5fY29uZmlnKTtpLmVuY29kZXJDb25maWc9ZTtjb25zdCBuPWliKGkpOyhTZygpfHxDZygpfHxEZygpKSYmKG4uZGV2aWNlSWQ9dm9pZCAwKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuY29kZXJDb25maWd1cmF0aW9uIGFwcGx5Q29uc3RyYWludHNcIiksSlNPTi5zdHJpbmdpZnkoZSksSlNPTi5zdHJpbmdpZnkobikpO3RyeXthd2FpdCB0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmFwcGx5Q29uc3RyYWludHMobiksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsZS50b1N0cmluZygpKTt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGFwcGx5Q29uc3RyYWludHMgZXJyb3JcIiksdC50b1N0cmluZygpKSx0fXRoaXMuX2NvbmZpZz1pLHRoaXMuX2NvbnN0cmFpbnRzPW4sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cz1uLHRoaXMuX2VuY29kZXJDb25maWc9ZSwtMT09PXRoaXMuX2hpbnRzLmluZGV4T2Yoa3kuU0NSRUVOX1RSQUNLKSYmdGhpcy51cGRhdGVCaXRyYXRlRnJvbVByb2ZpbGUoKTt0cnl7YXdhaXQgZ1QodGhpcyxMeS5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMpfWNhdGNoKGUpe3JldHVybiBlLnRocm93KEtDKX19X2dldERlZmF1bHRQbGF5ZXJDb25maWcoKXtyZXR1cm57bWlycm9yOiEwLGZpdDpcImNvdmVyXCJ9fW9uVHJhY2tFbmRlZCgpe2lmKChDZygpfHxEZygpKSYmdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiZvQS5kdXJpbmdJbnRlcnJ1cHRpb24pe2NvbnN0IGU9YXN5bmMoKT0+e29BLm9mZih1eS5JT1NfSU5URVJSVVBUSU9OX0VORCxlKSx0aGlzLl9lbmFibGVkJiYhdGhpcy5faXNDbG9zZWQmJihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyeSBjYXB0dXJlIGNhbWVyYSBtZWRpYSBkZXZpY2UgZm9yIGludGVycnVwdGVkIGlPUyBkZXZpY2UuXCIpKSxhd2FpdCB0aGlzLnNldEVuYWJsZWQoITEpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMCkpfTtvQS5vbih1eS5JT1NfSU5URVJSVVBUSU9OX0VORCxlKX1lbHNlIEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJhY2sgZW5kZWRcIikpLHRoaXMuc2FmZUVtaXQoRnkuVFJBQ0tfRU5ERUQpfWFzeW5jIHJlbmV3TWVkaWFTdHJlYW1UcmFjayhlKXtjb25zdCB0PWV8fHRoaXMuX2NvbnN0cmFpbnRzLGk9T0Euc2VhcmNoRGV2aWNlSWRCeU5hbWUodGhpcy5fZGV2aWNlTmFtZSk7aWYoaSYmIXQuZGV2aWNlSWQmJih0LmRldmljZUlkPXtleGFjdDppfSksdGhpcy5fZW5hYmxlZCl7Y29uc3QgZT1hd2FpdCB5QSh7dmlkZW86dH0sdGhpcy5nZXRUcmFja0lkKCkpO3RoaXMuX2NvbnN0cmFpbnRzPXQsYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLmdldFZpZGVvVHJhY2tzKClbMF0sITApLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKX19Y2xvc2UoKXtzdXBlci5jbG9zZSgpLG9BLm9mZih1eS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpLG9BLm9mZih1eS5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpfWNsb25lKGUpe2xldCB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0saT10aGlzLl9lbmNvZGVyQ29uZmlnO2UmJihpPVRiKFRiKHt9LGkpLEF5KGUpKSksaT13VChpKTtjb25zdCBuPXhUKDgsXCJ0cmFjay1jYW0tY2xvbmVkLVwiKSxyPW5ldyBSYih0P3RoaXMuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTp0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLHdUKFRiKFRiKHt9LHRoaXMuX2NvbmZpZykse30se2VuY29kZXJDb25maWc6aX0pKSx3VCh0aGlzLl9jb25zdHJhaW50cyksd1QodGhpcy5fc2NhbGFiaWxpdHlNb2RlKSx0aGlzLl9vcHRpbWl6YXRpb25Nb2RlLG4pO3JldHVybiBlJiZpJiZyLnNldEVuY29kZXJDb25maWd1cmF0aW9uKGkpLEtDLmRlYnVnKFwiY2xvbmUgdHJhY2sgZnJvbSBcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCIgdG8gXCIpLmNvbmNhdChuLFwiLCBjbG9uZSBcIikuY29uY2F0KHQpKSxyfWJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JDb250ZXh0Lm9uKHp5LlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLChhc3luYyhlLHQsaSk9Pnt0cnl7Y29uc3QgaT1PYmplY3QuYXNzaWduKHt9LHRoaXMuX29yaWdpbmFsQ29uc3RyYWludHMsLi4uZSk7YXdhaXQgdGhpcy5yZW5ld01lZGlhU3RyZWFtVHJhY2soaSksdCgpfWNhdGNoKGUpe2koZSl9fSkpLHRoaXMucHJvY2Vzc29yQ29udGV4dC5vbih6eS5SRVFVRVNUX0NPTlNUUkFJTlRTLChhc3luYyBlPT57ZSh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmdldFNldHRpbmdzKCkpfSkpfX1mdW5jdGlvbiBDYihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gdmIoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/Q2IoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6Q2IoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gSWIoZSx0LGksbil7aS5vcHRpbWl6YXRpb25Nb2RlJiYobiYmbi53aWR0aCYmbi5oZWlnaHQ/KGkuZW5jb2RlckNvbmZpZz12Yih2Yih7fSxuKSx7fSx7Yml0cmF0ZU1pbjpuLmJpdHJhdGVNaW4sYml0cmF0ZU1heDpuLmJpdHJhdGVNYXh9KSxcIm1vdGlvblwiIT09aS5vcHRpbWl6YXRpb25Nb2RlJiZcImRldGFpbFwiIT09aS5vcHRpbWl6YXRpb25Nb2RlfHwodC5jb250ZW50SGludD1pLm9wdGltaXphdGlvbk1vZGUsdC5jb250ZW50SGludD09PWkub3B0aW1pemF0aW9uTW9kZT9LQy5kZWJ1ZyhcIltcIi5jb25jYXQoZSxcIl0gc2V0IGNvbnRlbnQgaGludCB0b1wiKSxpLm9wdGltaXphdGlvbk1vZGUpOktDLmRlYnVnKFwiW1wiLmNvbmNhdChlLFwiXSBzZXQgY29udGVudCBoaW50IGZhaWxlZFwiKSkpKTpLQy53YXJuaW5nKFwiW1wiLmNvbmNhdChlLFwiXSBjYW4gbm90IGFwcGx5IG9wdGltaXphdGlvbiBtb2RlIGJpdHJhdGUgY29uZmlnLCBubyBlbmNvZGVyQ29uZmlnXCIpKSl9ZnVuY3Rpb24geWIoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIEFiKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3liKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnliKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfU12KFtudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUmIucHJvdG90eXBlLFwic2V0RGV2aWNlXCIsbnVsbCksTXYoW3FUKFwiQ2FtZXJhVmlkZW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQm9vbGVhbixCb29sZWFuXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUmIucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLG51bGwpLE12KFtudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksVkEoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LEJvb2xlYW5dKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxSYi5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiLG51bGwpLE12KFtudih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxSYi5wcm90b3R5cGUsXCJjbG9zZVwiLG51bGwpO2NsYXNzIGJiIGV4dGVuZHMgdEF7Z2V0VXNlcklkKCl7cmV0dXJuIHRoaXMuX3VzZXJJZH1jb25zdHJ1Y3RvcihlLHQsaSxuKXtzdXBlcihlLFwidHJhY2stXCIuY29uY2F0KGUua2luZCxcIi1cIikuY29uY2F0KHQsXCItXCIpLmNvbmNhdChuLmNsaWVudElkLFwiX1wiKS5jb25jYXQoeFQoNSxcIlwiKSkpLG51KHRoaXMsXCJfdXNlcklkXCIsdm9pZCAwKSxudSh0aGlzLFwiX3VpbnRJZFwiLHZvaWQgMCksbnUodGhpcyxcIl9pc0Rlc3Ryb3llZFwiLCExKSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJwcm9jZXNzb3JcIix2b2lkIDApLHRoaXMuX3VzZXJJZD10LHRoaXMuX3VpbnRJZD1pLHRoaXMuc3RvcmU9bn1fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLHRoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pfV9kZXN0cm95KCl7dGhpcy5faXNEZXN0cm95ZWQ9ITAsS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGlzIGRlc3Ryb3llZFwiKSksdGhpcy5zdG9wKCksc3VwZXIuY2xvc2UoKX1nZXRQcm9jZXNzb3JTdGF0cygpe3JldHVybiB0aGlzLnByb2Nlc3NvckNvbnRleHQuZ2F0aGVyU3RhdHMoKX1nZXRQcm9jZXNzb3JVc2FnZSgpe3JldHVybiB0aGlzLnByb2Nlc3NvckNvbnRleHQuZ2F0aGVyVXNhZ2UoKX19Y2xhc3Mgd2IgZXh0ZW5kcyBiYntnZXQgaXNQbGF5aW5nKCl7cmV0dXJuISghdGhpcy5fcGxheWVyfHx0aGlzLl9wbGF5ZXIudmlkZW9FbGVtZW50U3RhdHVzIT09WnkuUExBWUlORyl9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIlJlbW90ZVZpZGVvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuKXtzdXBlcihlLHQsaSxuKSxudSh0aGlzLFwiX3ZpZGVvVmlzaWJsZVRpbWVyXCIsbnVsbCksbnUodGhpcyxcIl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1c1wiLHZvaWQgMCksbnUodGhpcyxcIl9jbGVhclByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzXCIsKCgpPT50aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cz12b2lkIDApKSxudSh0aGlzLFwidHJhY2tNZWRpYVR5cGVcIixcInZpZGVvXCIpLG51KHRoaXMsXCJfdmlkZW9XaWR0aFwiLHZvaWQgMCksbnUodGhpcyxcIl92aWRlb0hlaWdodFwiLHZvaWQgMCksbnUodGhpcyxcIl9wbGF5ZXJcIix2b2lkIDApLG51KHRoaXMsXCJwcm9jZXNzb3JEZXN0aW5hdGlvblwiLHZvaWQgMCksbnUodGhpcyxcInByb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKSx0aGlzLnByb2Nlc3NvckNvbnRleHQ9bmV3IEdBKHRoaXMuZ2V0VHJhY2tJZCgpLFwicmVtb3RlXCIpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb249bmV3IGpBKHRoaXMucHJvY2Vzc29yQ29udGV4dCksdGhpcy5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKX1nZXRTdGF0cygpe05UKCgoKT0+e0tDLndhcm5pbmcoXCJbZGVwcmVjYXRlZF0gUmVtb3RlVmlkZW9UcmFjay5nZXRTdGF0cyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgdXNlIEFnb3JhUlRDQ2xpZW50LmdldFJlbW90ZVZpZGVvU3RhdHMgaW5zdGVhZFwiKX0pLFwicmVtb3RlVmlkZW9UcmFja0dldFN0YXRzV2FybmluZ1wiKTtyZXR1cm4gVFQodGhpcyxMeS5HRVRfU1RBVFMpfHxBYih7fSxxeSl9cGxheShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7dD9lPXQ6KEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLCddIGNhbiBub3QgZmluZCBcIiMnKS5jb25jYXQoZSwnXCIgZWxlbWVudCwgdXNlIGRvY3VtZW50LmJvZHknKSksZT1kb2N1bWVudC5ib2R5KX1LQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHZpZGVvIHBsYXliYWNrIGluIFwiKS5jb25jYXQoZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/XCJIVE1MVmlkZW9FbGVtZW50XCI6XCJIVE1MRWxlbWVudFwiKSxKU09OLnN0cmluZ2lmeSh0KSk7Y29uc3QgaT1BYihBYih7Zml0OlwiY292ZXJcIn0sdCkse30se3RyYWNrSWQ6dGhpcy5nZXRUcmFja0lkKCksZWxlbWVudDplfSk7dGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci51cGRhdGVDb25maWcoaSk6KGUgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3RoaXMuX3BsYXllcj1uZXcgdWIoaSk6dGhpcy5fcGxheWVyPW5ldyBfYihpKSx0aGlzLl9wbGF5ZXIudXBkYXRlVmlkZW9UcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl9wbGF5ZXIub25GaXJzdFZpZGVvRnJhbWVEZWNvZGVkPSgpPT57dGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5nZXRVc2VySWQoKSxcInZpZGVvXCIsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKSx0aGlzLnNhZmVFbWl0KEJ5LkZJUlNUX0ZSQU1FX0RFQ09ERUQpfSksdGhpcy5fcGxheWVyLnBsYXkodGhpcy5zdG9yZS5zZXNzaW9uSWR8fHZvaWQgMCksdGhpcy5fdmlkZW9WaXNpYmxlVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyKSx0aGlzLl9jbGVhclByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKCksdGhpcy5fdmlkZW9WaXNpYmxlVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RyeXtjb25zdCBlPXRoaXMuZ2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1cygpO3RoaXMuc2FmZUVtaXQoQnkuVklERU9fRUxFTUVOVF9WSVNJQkxFX1NUQVRVUyxlKX1jYXRjaChlKXt9fSksa0MoXCJDSEVDS19WSURFT19WSVNJQkxFX0lOVEVSVkFMXCIpKX1zdG9wKCl7dGhpcy5fcGxheWVyJiYodGhpcy5fdmlkZW9WaXNpYmxlVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl92aWRlb1Zpc2libGVUaW1lciksdGhpcy5fdmlkZW9WaXNpYmxlVGltZXI9bnVsbCksdGhpcy5fY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cygpLHRoaXMuX3BsYXllci5kZXN0cm95KCksdGhpcy5fcGxheWVyPXZvaWQgMCxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0b3AgdmlkZW8gcGxheWJhY2tcIikpKX1nZXRDdXJyZW50RnJhbWVEYXRhKCl7cmV0dXJuIHRoaXMuX3BsYXllcj90aGlzLl9wbGF5ZXIuZ2V0Q3VycmVudEZyYW1lKCk6bmV3IEltYWdlRGF0YSgyLDIpfXVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl7RWIodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaykudGhlbigoZT0+e2xldFt0LGldPWU7dGhpcy5fdmlkZW9IZWlnaHQ9aSx0aGlzLl92aWRlb1dpZHRoPXR9KSkuY2F0Y2goRlQpfV91cGRhdGVQbGF5ZXJTb3VyY2UoKXtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZSBwbGF5ZXIgc291cmNlIHRyYWNrXCIpKSx0aGlzLl9wbGF5ZXImJnRoaXMuX3BsYXllci51cGRhdGVWaWRlb1RyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spfWdldFZpZGVvRWxlbWVudFZpc2libGVTdGF0dXMoKXt0cnl7dmFyIGUsdDtjb25zdCBpPW51bGw9PXRoaXN8fG51bGw9PT0oZT10aGlzLl9wbGF5ZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldENvbnRhaW5lckVsZW1lbnQoKSxuPXt0cmFjazp0aGlzLGVsZW1lbnQ6bnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuX3BsYXllcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0VmlkZW9FbGVtZW50KCksc2xvdDpudWxsPT1pP3ZvaWQgMDppLnBhcmVudEVsZW1lbnR9LHtlbGVtZW50OnIsc2xvdDpzfT1uO2lmKHRoaXMuaXNQbGF5aW5nJiZyIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmcyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtjb25zdCBlPVFnLmNoZWNrT25lRWxlbWVudFZpc2libGUociksdD1PYmplY3QuYXNzaWduKHt9LGUpO2lmKHQudmlzaWJsZSE9PXRoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKXt0aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cz10LnZpc2libGU7Y29uc3QgZT1ydi5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOm9ULlRSQUNFUixuYW1lOnNULlJFTU9URV9WSURFT19UUkFDS19HRVRfVklERU9fVklTSUJMRSxvcHRpb25zOlt0aGlzLmdldFRyYWNrSWQoKV19KTt0LnZpc2libGU/ZS5vblN1Y2Nlc3MoXCJWaWRlbyBpcyB2aXNpYmxlXCIpOmUub25TdWNjZXNzKFwiSW52aXNpYmxlIGJlY2F1c2Ugb2YgXCIuY29uY2F0KHQucmVhc29uKSl9cmV0dXJuIHR9cmV0dXJufWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5HRVRfVklERU9fRUxFTUVOVF9WSVNJQkxFX0VSUk9SLGUubWVzc2FnZSl9fXBpcGUoZSl7aWYodGhpcy5wcm9jZXNzb3I9PT1lKXJldHVybiBlO2lmKGUuX3NvdXJjZSl0aHJvdyBuZXcgVmcoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJQcm9jZXNzb3IgXCIuY29uY2F0KGUubmFtZSxcIiBhbHJlYWR5IHBpcGVkLCBwbGVhc2UgY2FsbCB1bnBpcGUgYmVmb3JlaGFuZC5cIikpO3JldHVybiB0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yPWUsdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT10aGlzLGUudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSxlfXVucGlwZSgpe2lmKCF0aGlzLnByb2Nlc3NvcilyZXR1cm47Y29uc3QgZT10aGlzLnByb2Nlc3Nvcjt0aGlzLnByb2Nlc3Nvci5fc291cmNlPXZvaWQgMCx0aGlzLnByb2Nlc3Nvcj12b2lkIDAsZS5yZXNldCgpfWJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ub24oSnkuT05fVFJBQ0ssKGFzeW5jIGU9PntlP2UhPT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpKTp0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSl9KSl9dW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycyhKeS5PTl9UUkFDSyl9X2Rlc3Ryb3koKXtzdXBlci5fZGVzdHJveSgpLHRoaXMudW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKX19TXYoW252KHthcmdzTWFwOihlLHQsaSk9PltlLmdldFRyYWNrSWQoKSxcInN0cmluZ1wiPT10eXBlb2YgdD90OnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P1wiSFRNTFZpZGVvRWxlbWVudFwiOlwiSFRNTEVsZW1lbnRcIixpXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLHdiLnByb3RvdHlwZSxcInBsYXlcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sd2IucHJvdG90eXBlLFwic3RvcFwiLG51bGwpLE12KFtudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHQubmFtZV19KSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLE9iamVjdCldLHdiLnByb3RvdHlwZSxcInBpcGVcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sd2IucHJvdG90eXBlLFwidW5waXBlXCIsbnVsbCk7Y2xhc3MgT2IgZXh0ZW5kcyBiYntnZXQgaXNQbGF5aW5nKCl7cmV0dXJuIHRoaXMuX3VzZUF1ZGlvRWxlbWVudD94QS5pc1BsYXlpbmcodGhpcy5nZXRUcmFja0lkKCkpOnRoaXMuX3NvdXJjZS5pc1BsYXllZH1nZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiUmVtb3RlQXVkaW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKGUsdCxpLG4pLG51KHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLFwiYXVkaW9cIiksbnUodGhpcyxcIl9zb3VyY2VcIix2b2lkIDApLG51KHRoaXMsXCJfdXNlQXVkaW9FbGVtZW50XCIsITApLG51KHRoaXMsXCJfdm9sdW1lXCIsMTAwKSxudSh0aGlzLFwicHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksbnUodGhpcyxcInByb2Nlc3NvckRlc3RpbmF0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwiX3BsYXllZFwiLCExKSxudSh0aGlzLFwiX2J5cGFzc1dlYkF1ZGlvXCIsITEpLGtDKFwiRElTQUJMRV9XRUJBVURJT1wiKT8odGhpcy5fc291cmNlPW5ldyBLQSx0aGlzLl9ieXBhc3NXZWJBdWRpbz0hMCx0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITApOih0aGlzLl9zb3VyY2U9bmV3IGZBKGUsITApLGtDKFwiUkVNT1RFX0FVRElPX1RSQUNLX1VTRVNfV0VCX0FVRElPXCIpJiYodGhpcy5fdXNlQXVkaW9FbGVtZW50PSExKSksdGhpcy5fc291cmNlLm9uY2UoankuUkVDRUlWRV9UUkFDS19CVUZGRVIsKCgpPT57dGhpcy5zYWZlRW1pdChCeS5GSVJTVF9GUkFNRV9ERUNPREVEKX0pKSx0aGlzLnByb2Nlc3NvckNvbnRleHQ9bmV3IEhBKHRoaXMuX3NvdXJjZS5jb250ZXh0LHRoaXMuZ2V0VHJhY2tJZCgpLFwicmVtb3RlXCIpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb249bmV3IFdBKHRoaXMucHJvY2Vzc29yQ29udGV4dCksdGhpcy5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKSx0aGlzLl9zb3VyY2Uub24oankuVVBEQVRFX1NPVVJDRSwoKCk9Pnt0aGlzLnByb2Nlc3NvciYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe25vZGU6dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSl9KSl9c2V0QXVkaW9GcmFtZUNhbGxiYWNrKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo0MDk2O2lmKCFlKXJldHVybiB0aGlzLl9zb3VyY2UucmVtb3ZlQWxsTGlzdGVuZXJzKGp5Lk9OX0FVRElPX0JVRkZFUiksdm9pZCB0aGlzLl9zb3VyY2Uuc3RvcEdldEF1ZGlvQnVmZmVyKCk7dGhpcy5fc291cmNlLnN0YXJ0R2V0QXVkaW9CdWZmZXIodCksdGhpcy5fc291cmNlLnJlbW92ZUFsbExpc3RlbmVycyhqeS5PTl9BVURJT19CVUZGRVIpLHRoaXMuX3NvdXJjZS5vbihqeS5PTl9BVURJT19CVUZGRVIsKHQ9PmUodCkpKX1zZXRWb2x1bWUoZSl7dGhpcy5fdm9sdW1lPWUsdGhpcy5fdXNlQXVkaW9FbGVtZW50P3hBLnNldFZvbHVtZSh0aGlzLmdldFRyYWNrSWQoKSxlKTp0aGlzLl9zb3VyY2Uuc2V0Vm9sdW1lKGUvMTAwKX1hc3luYyBzZXRQbGF5YmFja0RldmljZShlKXtpZighdGhpcy5fdXNlQXVkaW9FbGVtZW50KXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwieW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2V0dGluZyB0aGUgYXVkaW8gb3V0cHV0IGRldmljZVwiKTthd2FpdCB4QS5zZXRTaW5rSUQodGhpcy5nZXRUcmFja0lkKCksZSl9Z2V0Vm9sdW1lTGV2ZWwoKXtyZXR1cm4gdGhpcy5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKX1nZXRTdGF0cygpe05UKCgoKT0+e0tDLndhcm5pbmcoXCJbZGVwcmVjYXRlZF0gUmVtb3RlQXVkaW9UcmFjay5nZXRTdGF0cyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgdXNlIEFnb3JhUlRDQ2xpZW50LmdldFJlbW90ZUF1ZGlvU3RhdHMgaW5zdGVhZFwiKX0pLFwicmVtb3RlQXVkaW9UcmFja0dldFN0YXRzV2FybmluZ1wiKTtyZXR1cm4gVFQodGhpcyxMeS5HRVRfU1RBVFMpfHxBYih7fSxLeSl9cGxheSgpe0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgYXVkaW8gcGxheWJhY2tcIikpLHRoaXMuX3BsYXllZD0hMCx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/KEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXNlIGF1ZGlvIGVsZW1lbnQgdG8gcGxheVwiKSkseEEucGxheSh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLHRoaXMuZ2V0VHJhY2tJZCgpLHRoaXMuX3ZvbHVtZSx0aGlzLnN0b3JlLnNlc3Npb25JZHx8dm9pZCAwKSk6dGhpcy5fc291cmNlLnBsYXkoKX1zdG9wKCl7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdG9wIGF1ZGlvIHBsYXliYWNrXCIpKSx0aGlzLl9wbGF5ZWQ9ITEsdGhpcy5fdXNlQXVkaW9FbGVtZW50P3hBLnN0b3AodGhpcy5nZXRUcmFja0lkKCkpOnRoaXMuX3NvdXJjZS5zdG9wKCl9X2Rlc3Ryb3koKXtzdXBlci5fZGVzdHJveSgpLHRoaXMuX3BsYXllZD0hMSx0aGlzLnVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCksdGhpcy5fc291cmNlLmRlc3Ryb3koKX1faXNGcmVlemUoKXtyZXR1cm4gdGhpcy5fc291cmNlLmlzRnJlZXplfV91cGRhdGVQbGF5ZXJTb3VyY2UoKXtsZXQgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIHBsYXllciBzb3VyY2UgdHJhY2tcIikpLGUmJnRoaXMuX3NvdXJjZS51cGRhdGVUcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQmJnhBLnVwZGF0ZVRyYWNrKHRoaXMuZ2V0VHJhY2tJZCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2spfXBpcGUoZSl7aWYodGhpcy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IHBpcGUgZXh0ZW5zaW9uIHdoZW4gV2ViQXVkaW8gZGlzYWJsZWRcIik7aWYodGhpcy5wcm9jZXNzb3I9PT1lKXJldHVybiBlO2lmKGUuX3NvdXJjZSl0aHJvdyBuZXcgVmcoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJQcm9jZXNzb3IgXCIuY29uY2F0KGUubmFtZSxcIiBhbHJlYWR5IHBpcGVkLCBwbGVhc2UgY2FsbCB1bnBpcGUgYmVmb3JlaGFuZC5cIikpO3JldHVybiB0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yPWUsdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT10aGlzLGUudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssbm9kZTp0aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUsY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSxlfXVucGlwZSgpe3ZhciBlO2lmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCB1bnBpcGUgZXh0ZW5zaW9uIHdoZW4gV2ViQXVkaW8gZGlzYWJsZWRcIik7aWYoIXRoaXMucHJvY2Vzc29yKXJldHVybjtjb25zdCB0PXRoaXMucHJvY2Vzc29yO251bGw9PT0oZT10aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUpfHx2b2lkIDA9PT1lfHxlLmRpc2Nvbm5lY3QoKSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPSExLHRoaXMucHJvY2Vzc29yPXZvaWQgMCx0LnJlc2V0KCl9YmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5vbihKeS5PTl9UUkFDSywoYXN5bmMgZT0+e2U/ZSE9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCExKSx0aGlzLl9zb3VyY2UucHJvY2Vzc2VkTm9kZT10aGlzLl9zb3VyY2UuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2VOb2RlKGUpKTp0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSl9KSksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5vbihKeS5PTl9OT0RFLChlPT57dGhpcy5fc291cmNlLnByb2Nlc3NlZE5vZGU9ZTtjb25zdCB0PSFlO3RoaXMuX3VzZUF1ZGlvRWxlbWVudCE9PXQmJih0aGlzLl9wbGF5ZWQ/KHRoaXMuc3RvcCgpLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD10LHRoaXMucGxheSgpKTp0aGlzLl91c2VBdWRpb0VsZW1lbnQ9dCl9KSl9dW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycyhKeS5PTl9UUkFDSyksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoSnkuT05fTk9ERSl9fU12KFtudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdLHRocm90dGxlVGltZTozMDB9KSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTnVtYmVyXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLE9iLnByb3RvdHlwZSxcInNldFZvbHVtZVwiLG51bGwpLE12KFtudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLE9iLnByb3RvdHlwZSxcInNldFBsYXliYWNrRGV2aWNlXCIsbnVsbCksTXYoW252KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLE9iLnByb3RvdHlwZSxcInBsYXlcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sT2IucHJvdG90eXBlLFwic3RvcFwiLG51bGwpLE12KFtudih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHQubmFtZV19KSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLE9iamVjdCldLE9iLnByb3RvdHlwZSxcInBpcGVcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sT2IucHJvdG90eXBlLFwidW5waXBlXCIsbnVsbCk7ZnVuY3Rpb24gTmIoZSl7bGV0IHQ9ZS5sZW5ndGg7Zm9yKDstLXQ+PTA7KWVbdF09MH1jb25zdCBEYj0yNTYsUGI9Mjg2LExiPTMwLGtiPTE1LE1iPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdKSxVYj1uZXcgVWludDhBcnJheShbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10pLHhiPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSksVmI9bmV3IFVpbnQ4QXJyYXkoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxGYj1uZXcgQXJyYXkoNTc2KTtOYihGYik7Y29uc3QgQmI9bmV3IEFycmF5KDYwKTtOYihCYik7Y29uc3QgamI9bmV3IEFycmF5KDUxMik7TmIoamIpO2NvbnN0IEdiPW5ldyBBcnJheSgyNTYpO05iKEdiKTtjb25zdCBXYj1uZXcgQXJyYXkoMjkpO05iKFdiKTtjb25zdCBIYj1uZXcgQXJyYXkoTGIpO2Z1bmN0aW9uIEtiKGUsdCxpLG4scil7dGhpcy5zdGF0aWNfdHJlZT1lLHRoaXMuZXh0cmFfYml0cz10LHRoaXMuZXh0cmFfYmFzZT1pLHRoaXMuZWxlbXM9bix0aGlzLm1heF9sZW5ndGg9cix0aGlzLmhhc19zdHJlZT1lJiZlLmxlbmd0aH1sZXQgWWIscWIsSmI7ZnVuY3Rpb24gemIoZSx0KXt0aGlzLmR5bl90cmVlPWUsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPXR9TmIoSGIpO2NvbnN0IFhiPWU9PmU8MjU2P2piW2VdOmpiWzI1NisoZT4+PjcpXSxRYj0oZSx0KT0+e2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZ0LGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NX0sWmI9KGUsdCxpKT0+e2UuYmlfdmFsaWQ+MTYtaT8oZS5iaV9idWZ8PXQ8PGUuYmlfdmFsaWQmNjU1MzUsUWIoZSxlLmJpX2J1ZiksZS5iaV9idWY9dD4+MTYtZS5iaV92YWxpZCxlLmJpX3ZhbGlkKz1pLTE2KTooZS5iaV9idWZ8PXQ8PGUuYmlfdmFsaWQmNjU1MzUsZS5iaV92YWxpZCs9aSl9LCRiPShlLHQsaSk9PntaYihlLGlbMip0XSxpWzIqdCsxXSl9LGV3PShlLHQpPT57bGV0IGk9MDtkb3tpfD0xJmUsZT4+Pj0xLGk8PD0xfXdoaWxlKC0tdD4wKTtyZXR1cm4gaT4+PjF9LHR3PShlLHQsaSk9Pntjb25zdCBuPW5ldyBBcnJheSgxNik7bGV0IHIscyxvPTA7Zm9yKHI9MTtyPD1rYjtyKyspbz1vK2lbci0xXTw8MSxuW3JdPW87Zm9yKHM9MDtzPD10O3MrKyl7bGV0IHQ9ZVsyKnMrMV07MCE9PXQmJihlWzIqc109ZXcoblt0XSsrLHQpKX19LGl3PWU9PntsZXQgdDtmb3IodD0wO3Q8UGI7dCsrKWUuZHluX2x0cmVlWzIqdF09MDtmb3IodD0wO3Q8TGI7dCsrKWUuZHluX2R0cmVlWzIqdF09MDtmb3IodD0wO3Q8MTk7dCsrKWUuYmxfdHJlZVsyKnRdPTA7ZS5keW5fbHRyZWVbNTEyXT0xLGUub3B0X2xlbj1lLnN0YXRpY19sZW49MCxlLnN5bV9uZXh0PWUubWF0Y2hlcz0wfSxudz1lPT57ZS5iaV92YWxpZD44P1FiKGUsZS5iaV9idWYpOmUuYmlfdmFsaWQ+MCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPWUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MH0scnc9KGUsdCxpLG4pPT57Y29uc3Qgcj0yKnQscz0yKmk7cmV0dXJuIGVbcl08ZVtzXXx8ZVtyXT09PWVbc10mJm5bdF08PW5baV19LHN3PShlLHQsaSk9Pntjb25zdCBuPWUuaGVhcFtpXTtsZXQgcj1pPDwxO2Zvcig7cjw9ZS5oZWFwX2xlbiYmKHI8ZS5oZWFwX2xlbiYmcncodCxlLmhlYXBbcisxXSxlLmhlYXBbcl0sZS5kZXB0aCkmJnIrKywhcncodCxuLGUuaGVhcFtyXSxlLmRlcHRoKSk7KWUuaGVhcFtpXT1lLmhlYXBbcl0saT1yLHI8PD0xO2UuaGVhcFtpXT1ufSxvdz0oZSx0LGkpPT57bGV0IG4scixzLG8sYT0wO2lmKDAhPT1lLnN5bV9uZXh0KWRve249MjU1JmUucGVuZGluZ19idWZbZS5zeW1fYnVmK2ErK10sbis9KDI1NSZlLnBlbmRpbmdfYnVmW2Uuc3ltX2J1ZithKytdKTw8OCxyPWUucGVuZGluZ19idWZbZS5zeW1fYnVmK2ErK10sMD09PW4/JGIoZSxyLHQpOihzPUdiW3JdLCRiKGUscytEYisxLHQpLG89TWJbc10sMCE9PW8mJihyLT1XYltzXSxaYihlLHIsbykpLG4tLSxzPVhiKG4pLCRiKGUscyxpKSxvPVViW3NdLDAhPT1vJiYobi09SGJbc10sWmIoZSxuLG8pKSl9d2hpbGUoYTxlLnN5bV9uZXh0KTskYihlLDI1Nix0KX0sYXc9KGUsdCk9Pntjb25zdCBpPXQuZHluX3RyZWUsbj10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxyPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxzPXQuc3RhdF9kZXNjLmVsZW1zO2xldCBvLGEsYyxkPS0xO2ZvcihlLmhlYXBfbGVuPTAsZS5oZWFwX21heD01NzMsbz0wO288cztvKyspMCE9PWlbMipvXT8oZS5oZWFwWysrZS5oZWFwX2xlbl09ZD1vLGUuZGVwdGhbb109MCk6aVsyKm8rMV09MDtmb3IoO2UuaGVhcF9sZW48MjspYz1lLmhlYXBbKytlLmhlYXBfbGVuXT1kPDI/KytkOjAsaVsyKmNdPTEsZS5kZXB0aFtjXT0wLGUub3B0X2xlbi0tLHImJihlLnN0YXRpY19sZW4tPW5bMipjKzFdKTtmb3IodC5tYXhfY29kZT1kLG89ZS5oZWFwX2xlbj4+MTtvPj0xO28tLSlzdyhlLGksbyk7Yz1zO2Rve289ZS5oZWFwWzFdLGUuaGVhcFsxXT1lLmhlYXBbZS5oZWFwX2xlbi0tXSxzdyhlLGksMSksYT1lLmhlYXBbMV0sZS5oZWFwWy0tZS5oZWFwX21heF09byxlLmhlYXBbLS1lLmhlYXBfbWF4XT1hLGlbMipjXT1pWzIqb10raVsyKmFdLGUuZGVwdGhbY109KGUuZGVwdGhbb10+PWUuZGVwdGhbYV0/ZS5kZXB0aFtvXTplLmRlcHRoW2FdKSsxLGlbMipvKzFdPWlbMiphKzFdPWMsZS5oZWFwWzFdPWMrKyxzdyhlLGksMSl9d2hpbGUoZS5oZWFwX2xlbj49Mik7ZS5oZWFwWy0tZS5oZWFwX21heF09ZS5oZWFwWzFdLCgoZSx0KT0+e2NvbnN0IGk9dC5keW5fdHJlZSxuPXQubWF4X2NvZGUscj10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxzPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxvPXQuc3RhdF9kZXNjLmV4dHJhX2JpdHMsYT10LnN0YXRfZGVzYy5leHRyYV9iYXNlLGM9dC5zdGF0X2Rlc2MubWF4X2xlbmd0aDtsZXQgZCxsLGgsdSxwLF8sRT0wO2Zvcih1PTA7dTw9a2I7dSsrKWUuYmxfY291bnRbdV09MDtmb3IoaVsyKmUuaGVhcFtlLmhlYXBfbWF4XSsxXT0wLGQ9ZS5oZWFwX21heCsxO2Q8NTczO2QrKylsPWUuaGVhcFtkXSx1PWlbMippWzIqbCsxXSsxXSsxLHU+YyYmKHU9YyxFKyspLGlbMipsKzFdPXUsbD5ufHwoZS5ibF9jb3VudFt1XSsrLHA9MCxsPj1hJiYocD1vW2wtYV0pLF89aVsyKmxdLGUub3B0X2xlbis9XyoodStwKSxzJiYoZS5zdGF0aWNfbGVuKz1fKihyWzIqbCsxXStwKSkpO2lmKDAhPT1FKXtkb3tmb3IodT1jLTE7MD09PWUuYmxfY291bnRbdV07KXUtLTtlLmJsX2NvdW50W3VdLS0sZS5ibF9jb3VudFt1KzFdKz0yLGUuYmxfY291bnRbY10tLSxFLT0yfXdoaWxlKEU+MCk7Zm9yKHU9YzswIT09dTt1LS0pZm9yKGw9ZS5ibF9jb3VudFt1XTswIT09bDspaD1lLmhlYXBbLS1kXSxoPm58fChpWzIqaCsxXSE9PXUmJihlLm9wdF9sZW4rPSh1LWlbMipoKzFdKSppWzIqaF0saVsyKmgrMV09dSksbC0tKX19KShlLHQpLHR3KGksZCxlLmJsX2NvdW50KX0sY3c9KGUsdCxpKT0+e2xldCBuLHIscz0tMSxvPXRbMV0sYT0wLGM9NyxkPTQ7Zm9yKDA9PT1vJiYoYz0xMzgsZD0zKSx0WzIqKGkrMSkrMV09NjU1MzUsbj0wO248PWk7bisrKXI9byxvPXRbMioobisxKSsxXSwrK2E8YyYmcj09PW98fChhPGQ/ZS5ibF90cmVlWzIqcl0rPWE6MCE9PXI/KHIhPT1zJiZlLmJsX3RyZWVbMipyXSsrLGUuYmxfdHJlZVszMl0rKyk6YTw9MTA/ZS5ibF90cmVlWzM0XSsrOmUuYmxfdHJlZVszNl0rKyxhPTAscz1yLDA9PT1vPyhjPTEzOCxkPTMpOnI9PT1vPyhjPTYsZD0zKTooYz03LGQ9NCkpfSxkdz0oZSx0LGkpPT57bGV0IG4scixzPS0xLG89dFsxXSxhPTAsYz03LGQ9NDtmb3IoMD09PW8mJihjPTEzOCxkPTMpLG49MDtuPD1pO24rKylpZihyPW8sbz10WzIqKG4rMSkrMV0sISgrK2E8YyYmcj09PW8pKXtpZihhPGQpZG97JGIoZSxyLGUuYmxfdHJlZSl9d2hpbGUoMCE9LS1hKTtlbHNlIDAhPT1yPyhyIT09cyYmKCRiKGUscixlLmJsX3RyZWUpLGEtLSksJGIoZSwxNixlLmJsX3RyZWUpLFpiKGUsYS0zLDIpKTphPD0xMD8oJGIoZSwxNyxlLmJsX3RyZWUpLFpiKGUsYS0zLDMpKTooJGIoZSwxOCxlLmJsX3RyZWUpLFpiKGUsYS0xMSw3KSk7YT0wLHM9ciwwPT09bz8oYz0xMzgsZD0zKTpyPT09bz8oYz02LGQ9Myk6KGM9NyxkPTQpfX07bGV0IGx3PSExO2NvbnN0IGh3PShlLHQsaSxuKT0+e1piKGUsMCsobj8xOjApLDMpLG53KGUpLFFiKGUsaSksUWIoZSx+aSksaSYmZS5wZW5kaW5nX2J1Zi5zZXQoZS53aW5kb3cuc3ViYXJyYXkodCx0K2kpLGUucGVuZGluZyksZS5wZW5kaW5nKz1pfTt2YXIgdXc9ZT0+e2x3fHwoKCgpPT57bGV0IGUsdCxpLG4scjtjb25zdCBzPW5ldyBBcnJheSgxNik7Zm9yKGk9MCxuPTA7bjwyODtuKyspZm9yKFdiW25dPWksZT0wO2U8MTw8TWJbbl07ZSsrKUdiW2krK109bjtmb3IoR2JbaS0xXT1uLHI9MCxuPTA7bjwxNjtuKyspZm9yKEhiW25dPXIsZT0wO2U8MTw8VWJbbl07ZSsrKWpiW3IrK109bjtmb3Iocj4+PTc7bjxMYjtuKyspZm9yKEhiW25dPXI8PDcsZT0wO2U8MTw8VWJbbl0tNztlKyspamJbMjU2K3IrK109bjtmb3IodD0wO3Q8PWtiO3QrKylzW3RdPTA7Zm9yKGU9MDtlPD0xNDM7KUZiWzIqZSsxXT04LGUrKyxzWzhdKys7Zm9yKDtlPD0yNTU7KUZiWzIqZSsxXT05LGUrKyxzWzldKys7Zm9yKDtlPD0yNzk7KUZiWzIqZSsxXT03LGUrKyxzWzddKys7Zm9yKDtlPD0yODc7KUZiWzIqZSsxXT04LGUrKyxzWzhdKys7Zm9yKHR3KEZiLDI4NyxzKSxlPTA7ZTxMYjtlKyspQmJbMiplKzFdPTUsQmJbMiplXT1ldyhlLDUpO1liPW5ldyBLYihGYixNYiwyNTcsUGIsa2IpLHFiPW5ldyBLYihCYixVYiwwLExiLGtiKSxKYj1uZXcgS2IobmV3IEFycmF5KDApLHhiLDAsMTksNyl9KSgpLGx3PSEwKSxlLmxfZGVzYz1uZXcgemIoZS5keW5fbHRyZWUsWWIpLGUuZF9kZXNjPW5ldyB6YihlLmR5bl9kdHJlZSxxYiksZS5ibF9kZXNjPW5ldyB6YihlLmJsX3RyZWUsSmIpLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wLGl3KGUpfSxwdz0oZSx0LGksbik9PntsZXQgcixzLG89MDtlLmxldmVsPjA/KDI9PT1lLnN0cm0uZGF0YV90eXBlJiYoZS5zdHJtLmRhdGFfdHlwZT0oZT0+e2xldCB0LGk9NDA5MzYyNDQ0Nztmb3IodD0wO3Q8PTMxO3QrKyxpPj4+PTEpaWYoMSZpJiYwIT09ZS5keW5fbHRyZWVbMip0XSlyZXR1cm4gMDtpZigwIT09ZS5keW5fbHRyZWVbMThdfHwwIT09ZS5keW5fbHRyZWVbMjBdfHwwIT09ZS5keW5fbHRyZWVbMjZdKXJldHVybiAxO2Zvcih0PTMyO3Q8RGI7dCsrKWlmKDAhPT1lLmR5bl9sdHJlZVsyKnRdKXJldHVybiAxO3JldHVybiAwfSkoZSkpLGF3KGUsZS5sX2Rlc2MpLGF3KGUsZS5kX2Rlc2MpLG89KGU9PntsZXQgdDtmb3IoY3coZSxlLmR5bl9sdHJlZSxlLmxfZGVzYy5tYXhfY29kZSksY3coZSxlLmR5bl9kdHJlZSxlLmRfZGVzYy5tYXhfY29kZSksYXcoZSxlLmJsX2Rlc2MpLHQ9MTg7dD49MyYmMD09PWUuYmxfdHJlZVsyKlZiW3RdKzFdO3QtLSk7cmV0dXJuIGUub3B0X2xlbis9MyoodCsxKSs1KzUrNCx0fSkoZSkscj1lLm9wdF9sZW4rMys3Pj4+MyxzPWUuc3RhdGljX2xlbiszKzc+Pj4zLHM8PXImJihyPXMpKTpyPXM9aSs1LGkrNDw9ciYmLTEhPT10P2h3KGUsdCxpLG4pOjQ9PT1lLnN0cmF0ZWd5fHxzPT09cj8oWmIoZSwyKyhuPzE6MCksMyksb3coZSxGYixCYikpOihaYihlLDQrKG4/MTowKSwzKSwoKGUsdCxpLG4pPT57bGV0IHI7Zm9yKFpiKGUsdC0yNTcsNSksWmIoZSxpLTEsNSksWmIoZSxuLTQsNCkscj0wO3I8bjtyKyspWmIoZSxlLmJsX3RyZWVbMipWYltyXSsxXSwzKTtkdyhlLGUuZHluX2x0cmVlLHQtMSksZHcoZSxlLmR5bl9kdHJlZSxpLTEpfSkoZSxlLmxfZGVzYy5tYXhfY29kZSsxLGUuZF9kZXNjLm1heF9jb2RlKzEsbysxKSxvdyhlLGUuZHluX2x0cmVlLGUuZHluX2R0cmVlKSksaXcoZSksbiYmbncoZSl9LF93PShlLHQsaSk9PihlLnBlbmRpbmdfYnVmW2Uuc3ltX2J1ZitlLnN5bV9uZXh0KytdPXQsZS5wZW5kaW5nX2J1ZltlLnN5bV9idWYrZS5zeW1fbmV4dCsrXT10Pj44LGUucGVuZGluZ19idWZbZS5zeW1fYnVmK2Uuc3ltX25leHQrK109aSwwPT09dD9lLmR5bl9sdHJlZVsyKmldKys6KGUubWF0Y2hlcysrLHQtLSxlLmR5bl9sdHJlZVsyKihHYltpXStEYisxKV0rKyxlLmR5bl9kdHJlZVsyKlhiKHQpXSsrKSxlLnN5bV9uZXh0PT09ZS5zeW1fZW5kKSxFdz17X3RyX2luaXQ6dXcsX3RyX3N0b3JlZF9ibG9jazpodyxfdHJfZmx1c2hfYmxvY2s6cHcsX3RyX3RhbGx5Ol93LF90cl9hbGlnbjplPT57WmIoZSwyLDMpLCRiKGUsMjU2LEZiKSwoZT0+ezE2PT09ZS5iaV92YWxpZD8oUWIoZSxlLmJpX2J1ZiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTApOmUuYmlfdmFsaWQ+PTgmJihlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmZS5iaV9idWYsZS5iaV9idWY+Pj04LGUuYmlfdmFsaWQtPTgpfSkoZSl9fTt2YXIgbXc9KGUsdCxpLG4pPT57bGV0IHI9NjU1MzUmZXwwLHM9ZT4+PjE2JjY1NTM1fDAsbz0wO2Zvcig7MCE9PWk7KXtvPWk+MmUzPzJlMzppLGktPW87ZG97cj1yK3RbbisrXXwwLHM9cytyfDB9d2hpbGUoLS1vKTtyJT02NTUyMSxzJT02NTUyMX1yZXR1cm4gcnxzPDwxNnwwfTtjb25zdCBmdz1uZXcgVWludDMyQXJyYXkoKCgpPT57bGV0IGUsdD1bXTtmb3IodmFyIGk9MDtpPDI1NjtpKyspe2U9aTtmb3IodmFyIG49MDtuPDg7bisrKWU9MSZlPzM5ODgyOTIzODReZT4+PjE6ZT4+PjE7dFtpXT1lfXJldHVybiB0fSkoKSk7dmFyIGd3PShlLHQsaSxuKT0+e2NvbnN0IHI9Zncscz1uK2k7ZV49LTE7Zm9yKGxldCBpPW47aTxzO2krKyllPWU+Pj44XnJbMjU1JihlXnRbaV0pXTtyZXR1cm4tMV5lfSxUdz17MjpcIm5lZWQgZGljdGlvbmFyeVwiLDE6XCJzdHJlYW0gZW5kXCIsMDpcIlwiLFwiLTFcIjpcImZpbGUgZXJyb3JcIixcIi0yXCI6XCJzdHJlYW0gZXJyb3JcIixcIi0zXCI6XCJkYXRhIGVycm9yXCIsXCItNFwiOlwiaW5zdWZmaWNpZW50IG1lbW9yeVwiLFwiLTVcIjpcImJ1ZmZlciBlcnJvclwiLFwiLTZcIjpcImluY29tcGF0aWJsZSB2ZXJzaW9uXCJ9LFN3PXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfTUVNX0VSUk9SOi00LFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9O2NvbnN0e190cl9pbml0OlJ3LF90cl9zdG9yZWRfYmxvY2s6Q3csX3RyX2ZsdXNoX2Jsb2NrOnZ3LF90cl90YWxseTpJdyxfdHJfYWxpZ246eXd9PUV3LHtaX05PX0ZMVVNIOkF3LFpfUEFSVElBTF9GTFVTSDpidyxaX0ZVTExfRkxVU0g6d3csWl9GSU5JU0g6T3csWl9CTE9DSzpOdyxaX09LOkR3LFpfU1RSRUFNX0VORDpQdyxaX1NUUkVBTV9FUlJPUjpMdyxaX0RBVEFfRVJST1I6a3csWl9CVUZfRVJST1I6TXcsWl9ERUZBVUxUX0NPTVBSRVNTSU9OOlV3LFpfRklMVEVSRUQ6eHcsWl9IVUZGTUFOX09OTFk6VncsWl9STEU6RncsWl9GSVhFRDpCdyxaX0RFRkFVTFRfU1RSQVRFR1k6ancsWl9VTktOT1dOOkd3LFpfREVGTEFURUQ6V3d9PVN3LEh3PTI4NixLdz0zMCxZdz0xOSxxdz0yKkh3KzEsSnc9MTUsenc9MjU4LFh3PTI2MixRdz00Mixadz0xMTMsJHc9NjY2LGVPPShlLHQpPT4oZS5tc2c9VHdbdF0sdCksdE89ZT0+MiplLShlPjQ/OTowKSxpTz1lPT57bGV0IHQ9ZS5sZW5ndGg7Zm9yKDstLXQ+PTA7KWVbdF09MH0sbk89ZT0+e2xldCB0LGksbixyPWUud19zaXplO3Q9ZS5oYXNoX3NpemUsbj10O2Rve2k9ZS5oZWFkWy0tbl0sZS5oZWFkW25dPWk+PXI/aS1yOjB9d2hpbGUoLS10KTt0PXIsbj10O2Rve2k9ZS5wcmV2Wy0tbl0sZS5wcmV2W25dPWk+PXI/aS1yOjB9d2hpbGUoLS10KX07bGV0IHJPPShlLHQsaSk9Pih0PDxlLmhhc2hfc2hpZnReaSkmZS5oYXNoX21hc2s7Y29uc3Qgc089ZT0+e2NvbnN0IHQ9ZS5zdGF0ZTtsZXQgaT10LnBlbmRpbmc7aT5lLmF2YWlsX291dCYmKGk9ZS5hdmFpbF9vdXQpLDAhPT1pJiYoZS5vdXRwdXQuc2V0KHQucGVuZGluZ19idWYuc3ViYXJyYXkodC5wZW5kaW5nX291dCx0LnBlbmRpbmdfb3V0K2kpLGUubmV4dF9vdXQpLGUubmV4dF9vdXQrPWksdC5wZW5kaW5nX291dCs9aSxlLnRvdGFsX291dCs9aSxlLmF2YWlsX291dC09aSx0LnBlbmRpbmctPWksMD09PXQucGVuZGluZyYmKHQucGVuZGluZ19vdXQ9MCkpfSxvTz0oZSx0KT0+e3Z3KGUsZS5ibG9ja19zdGFydD49MD9lLmJsb2NrX3N0YXJ0Oi0xLGUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydCx0KSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQsc08oZS5zdHJtKX0sYU89KGUsdCk9PntlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10fSxjTz0oZSx0KT0+e2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NSxlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmdH0sZE89KGUsdCxpLG4pPT57bGV0IHI9ZS5hdmFpbF9pbjtyZXR1cm4gcj5uJiYocj1uKSwwPT09cj8wOihlLmF2YWlsX2luLT1yLHQuc2V0KGUuaW5wdXQuc3ViYXJyYXkoZS5uZXh0X2luLGUubmV4dF9pbityKSxpKSwxPT09ZS5zdGF0ZS53cmFwP2UuYWRsZXI9bXcoZS5hZGxlcix0LHIsaSk6Mj09PWUuc3RhdGUud3JhcCYmKGUuYWRsZXI9Z3coZS5hZGxlcix0LHIsaSkpLGUubmV4dF9pbis9cixlLnRvdGFsX2luKz1yLHIpfSxsTz0oZSx0KT0+e2xldCBpLG4scj1lLm1heF9jaGFpbl9sZW5ndGgscz1lLnN0cnN0YXJ0LG89ZS5wcmV2X2xlbmd0aCxhPWUubmljZV9tYXRjaDtjb25zdCBjPWUuc3Ryc3RhcnQ+ZS53X3NpemUtWHc/ZS5zdHJzdGFydC0oZS53X3NpemUtWHcpOjAsZD1lLndpbmRvdyxsPWUud19tYXNrLGg9ZS5wcmV2LHU9ZS5zdHJzdGFydCt6dztsZXQgcD1kW3Mrby0xXSxfPWRbcytvXTtlLnByZXZfbGVuZ3RoPj1lLmdvb2RfbWF0Y2gmJihyPj49MiksYT5lLmxvb2thaGVhZCYmKGE9ZS5sb29rYWhlYWQpO2Rve2lmKGk9dCxkW2krb109PT1fJiZkW2krby0xXT09PXAmJmRbaV09PT1kW3NdJiZkWysraV09PT1kW3MrMV0pe3MrPTIsaSsrO2Rve313aGlsZShkWysrc109PT1kWysraV0mJmRbKytzXT09PWRbKytpXSYmZFsrK3NdPT09ZFsrK2ldJiZkWysrc109PT1kWysraV0mJmRbKytzXT09PWRbKytpXSYmZFsrK3NdPT09ZFsrK2ldJiZkWysrc109PT1kWysraV0mJmRbKytzXT09PWRbKytpXSYmczx1KTtpZihuPXp3LSh1LXMpLHM9dS16dyxuPm8pe2lmKGUubWF0Y2hfc3RhcnQ9dCxvPW4sbj49YSlicmVhaztwPWRbcytvLTFdLF89ZFtzK29dfX19d2hpbGUoKHQ9aFt0JmxdKT5jJiYwIT0tLXIpO3JldHVybiBvPD1lLmxvb2thaGVhZD9vOmUubG9va2FoZWFkfSxoTz1lPT57Y29uc3QgdD1lLndfc2l6ZTtsZXQgaSxuLHI7ZG97aWYobj1lLndpbmRvd19zaXplLWUubG9va2FoZWFkLWUuc3Ryc3RhcnQsZS5zdHJzdGFydD49dCsodC1YdykmJihlLndpbmRvdy5zZXQoZS53aW5kb3cuc3ViYXJyYXkodCx0K3QtbiksMCksZS5tYXRjaF9zdGFydC09dCxlLnN0cnN0YXJ0LT10LGUuYmxvY2tfc3RhcnQtPXQsZS5pbnNlcnQ+ZS5zdHJzdGFydCYmKGUuaW5zZXJ0PWUuc3Ryc3RhcnQpLG5PKGUpLG4rPXQpLDA9PT1lLnN0cm0uYXZhaWxfaW4pYnJlYWs7aWYoaT1kTyhlLnN0cm0sZS53aW5kb3csZS5zdHJzdGFydCtlLmxvb2thaGVhZCxuKSxlLmxvb2thaGVhZCs9aSxlLmxvb2thaGVhZCtlLmluc2VydD49Mylmb3Iocj1lLnN0cnN0YXJ0LWUuaW5zZXJ0LGUuaW5zX2g9ZS53aW5kb3dbcl0sZS5pbnNfaD1yTyhlLGUuaW5zX2gsZS53aW5kb3dbcisxXSk7ZS5pbnNlcnQmJihlLmluc19oPXJPKGUsZS5pbnNfaCxlLndpbmRvd1tyKzMtMV0pLGUucHJldltyJmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPXIscisrLGUuaW5zZXJ0LS0sIShlLmxvb2thaGVhZCtlLmluc2VydDwzKSk7KTt9d2hpbGUoZS5sb29rYWhlYWQ8WHcmJjAhPT1lLnN0cm0uYXZhaWxfaW4pfSx1Tz0oZSx0KT0+e2xldCBpLG4scixzPWUucGVuZGluZ19idWZfc2l6ZS01PmUud19zaXplP2Uud19zaXplOmUucGVuZGluZ19idWZfc2l6ZS01LG89MCxhPWUuc3RybS5hdmFpbF9pbjtkb3tpZihpPTY1NTM1LHI9ZS5iaV92YWxpZCs0Mj4+MyxlLnN0cm0uYXZhaWxfb3V0PHIpYnJlYWs7aWYocj1lLnN0cm0uYXZhaWxfb3V0LXIsbj1lLnN0cnN0YXJ0LWUuYmxvY2tfc3RhcnQsaT5uK2Uuc3RybS5hdmFpbF9pbiYmKGk9bitlLnN0cm0uYXZhaWxfaW4pLGk+ciYmKGk9ciksaTxzJiYoMD09PWkmJnQhPT1Pd3x8dD09PUF3fHxpIT09bitlLnN0cm0uYXZhaWxfaW4pKWJyZWFrO289dD09PU93JiZpPT09bitlLnN0cm0uYXZhaWxfaW4/MTowLEN3KGUsMCwwLG8pLGUucGVuZGluZ19idWZbZS5wZW5kaW5nLTRdPWksZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmctM109aT4+OCxlLnBlbmRpbmdfYnVmW2UucGVuZGluZy0yXT1+aSxlLnBlbmRpbmdfYnVmW2UucGVuZGluZy0xXT1+aT4+OCxzTyhlLnN0cm0pLG4mJihuPmkmJihuPWkpLGUuc3RybS5vdXRwdXQuc2V0KGUud2luZG93LnN1YmFycmF5KGUuYmxvY2tfc3RhcnQsZS5ibG9ja19zdGFydCtuKSxlLnN0cm0ubmV4dF9vdXQpLGUuc3RybS5uZXh0X291dCs9bixlLnN0cm0uYXZhaWxfb3V0LT1uLGUuc3RybS50b3RhbF9vdXQrPW4sZS5ibG9ja19zdGFydCs9bixpLT1uKSxpJiYoZE8oZS5zdHJtLGUuc3RybS5vdXRwdXQsZS5zdHJtLm5leHRfb3V0LGkpLGUuc3RybS5uZXh0X291dCs9aSxlLnN0cm0uYXZhaWxfb3V0LT1pLGUuc3RybS50b3RhbF9vdXQrPWkpfXdoaWxlKDA9PT1vKTtyZXR1cm4gYS09ZS5zdHJtLmF2YWlsX2luLGEmJihhPj1lLndfc2l6ZT8oZS5tYXRjaGVzPTIsZS53aW5kb3cuc2V0KGUuc3RybS5pbnB1dC5zdWJhcnJheShlLnN0cm0ubmV4dF9pbi1lLndfc2l6ZSxlLnN0cm0ubmV4dF9pbiksMCksZS5zdHJzdGFydD1lLndfc2l6ZSxlLmluc2VydD1lLnN0cnN0YXJ0KTooZS53aW5kb3dfc2l6ZS1lLnN0cnN0YXJ0PD1hJiYoZS5zdHJzdGFydC09ZS53X3NpemUsZS53aW5kb3cuc2V0KGUud2luZG93LnN1YmFycmF5KGUud19zaXplLGUud19zaXplK2Uuc3Ryc3RhcnQpLDApLGUubWF0Y2hlczwyJiZlLm1hdGNoZXMrKyxlLmluc2VydD5lLnN0cnN0YXJ0JiYoZS5pbnNlcnQ9ZS5zdHJzdGFydCkpLGUud2luZG93LnNldChlLnN0cm0uaW5wdXQuc3ViYXJyYXkoZS5zdHJtLm5leHRfaW4tYSxlLnN0cm0ubmV4dF9pbiksZS5zdHJzdGFydCksZS5zdHJzdGFydCs9YSxlLmluc2VydCs9YT5lLndfc2l6ZS1lLmluc2VydD9lLndfc2l6ZS1lLmluc2VydDphKSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQpLGUuaGlnaF93YXRlcjxlLnN0cnN0YXJ0JiYoZS5oaWdoX3dhdGVyPWUuc3Ryc3RhcnQpLG8/NDp0IT09QXcmJnQhPT1PdyYmMD09PWUuc3RybS5hdmFpbF9pbiYmZS5zdHJzdGFydD09PWUuYmxvY2tfc3RhcnQ/Mjoocj1lLndpbmRvd19zaXplLWUuc3Ryc3RhcnQsZS5zdHJtLmF2YWlsX2luPnImJmUuYmxvY2tfc3RhcnQ+PWUud19zaXplJiYoZS5ibG9ja19zdGFydC09ZS53X3NpemUsZS5zdHJzdGFydC09ZS53X3NpemUsZS53aW5kb3cuc2V0KGUud2luZG93LnN1YmFycmF5KGUud19zaXplLGUud19zaXplK2Uuc3Ryc3RhcnQpLDApLGUubWF0Y2hlczwyJiZlLm1hdGNoZXMrKyxyKz1lLndfc2l6ZSxlLmluc2VydD5lLnN0cnN0YXJ0JiYoZS5pbnNlcnQ9ZS5zdHJzdGFydCkpLHI+ZS5zdHJtLmF2YWlsX2luJiYocj1lLnN0cm0uYXZhaWxfaW4pLHImJihkTyhlLnN0cm0sZS53aW5kb3csZS5zdHJzdGFydCxyKSxlLnN0cnN0YXJ0Kz1yLGUuaW5zZXJ0Kz1yPmUud19zaXplLWUuaW5zZXJ0P2Uud19zaXplLWUuaW5zZXJ0OnIpLGUuaGlnaF93YXRlcjxlLnN0cnN0YXJ0JiYoZS5oaWdoX3dhdGVyPWUuc3Ryc3RhcnQpLHI9ZS5iaV92YWxpZCs0Mj4+MyxyPWUucGVuZGluZ19idWZfc2l6ZS1yPjY1NTM1PzY1NTM1OmUucGVuZGluZ19idWZfc2l6ZS1yLHM9cj5lLndfc2l6ZT9lLndfc2l6ZTpyLG49ZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0LChuPj1zfHwobnx8dD09PU93KSYmdCE9PUF3JiYwPT09ZS5zdHJtLmF2YWlsX2luJiZuPD1yKSYmKGk9bj5yP3I6bixvPXQ9PT1PdyYmMD09PWUuc3RybS5hdmFpbF9pbiYmaT09PW4/MTowLEN3KGUsZS5ibG9ja19zdGFydCxpLG8pLGUuYmxvY2tfc3RhcnQrPWksc08oZS5zdHJtKSksbz8zOjEpfSxwTz0oZSx0KT0+e2xldCBpLG47Zm9yKDs7KXtpZihlLmxvb2thaGVhZDxYdyl7aWYoaE8oZSksZS5sb29rYWhlYWQ8WHcmJnQ9PT1BdylyZXR1cm4gMTtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYoaT0wLGUubG9va2FoZWFkPj0zJiYoZS5pbnNfaD1yTyhlLGUuaW5zX2gsZS53aW5kb3dbZS5zdHJzdGFydCszLTFdKSxpPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnQpLDAhPT1pJiZlLnN0cnN0YXJ0LWk8PWUud19zaXplLVh3JiYoZS5tYXRjaF9sZW5ndGg9bE8oZSxpKSksZS5tYXRjaF9sZW5ndGg+PTMpaWYobj1JdyhlLGUuc3Ryc3RhcnQtZS5tYXRjaF9zdGFydCxlLm1hdGNoX2xlbmd0aC0zKSxlLmxvb2thaGVhZC09ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg8PWUubWF4X2xhenlfbWF0Y2gmJmUubG9va2FoZWFkPj0zKXtlLm1hdGNoX2xlbmd0aC0tO2Rve2Uuc3Ryc3RhcnQrKyxlLmluc19oPXJPKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLGk9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydH13aGlsZSgwIT0tLWUubWF0Y2hfbGVuZ3RoKTtlLnN0cnN0YXJ0Kyt9ZWxzZSBlLnN0cnN0YXJ0Kz1lLm1hdGNoX2xlbmd0aCxlLm1hdGNoX2xlbmd0aD0wLGUuaW5zX2g9ZS53aW5kb3dbZS5zdHJzdGFydF0sZS5pbnNfaD1yTyhlLGUuaW5zX2gsZS53aW5kb3dbZS5zdHJzdGFydCsxXSk7ZWxzZSBuPUl3KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0Kys7aWYobiYmKG9PKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1yZXR1cm4gZS5pbnNlcnQ9ZS5zdHJzdGFydDwyP2Uuc3Ryc3RhcnQ6Mix0PT09T3c/KG9PKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0PzM6NCk6ZS5zeW1fbmV4dCYmKG9PKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT8xOjJ9LF9PPShlLHQpPT57bGV0IGksbixyO2Zvcig7Oyl7aWYoZS5sb29rYWhlYWQ8WHcpe2lmKGhPKGUpLGUubG9va2FoZWFkPFh3JiZ0PT09QXcpcmV0dXJuIDE7aWYoMD09PWUubG9va2FoZWFkKWJyZWFrfWlmKGk9MCxlLmxvb2thaGVhZD49MyYmKGUuaW5zX2g9ck8oZSxlLmluc19oLGUud2luZG93W2Uuc3Ryc3RhcnQrMy0xXSksaT1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KSxlLnByZXZfbGVuZ3RoPWUubWF0Y2hfbGVuZ3RoLGUucHJldl9tYXRjaD1lLm1hdGNoX3N0YXJ0LGUubWF0Y2hfbGVuZ3RoPTIsMCE9PWkmJmUucHJldl9sZW5ndGg8ZS5tYXhfbGF6eV9tYXRjaCYmZS5zdHJzdGFydC1pPD1lLndfc2l6ZS1YdyYmKGUubWF0Y2hfbGVuZ3RoPWxPKGUsaSksZS5tYXRjaF9sZW5ndGg8PTUmJihlLnN0cmF0ZWd5PT09eHd8fDM9PT1lLm1hdGNoX2xlbmd0aCYmZS5zdHJzdGFydC1lLm1hdGNoX3N0YXJ0PjQwOTYpJiYoZS5tYXRjaF9sZW5ndGg9MikpLGUucHJldl9sZW5ndGg+PTMmJmUubWF0Y2hfbGVuZ3RoPD1lLnByZXZfbGVuZ3RoKXtyPWUuc3Ryc3RhcnQrZS5sb29rYWhlYWQtMyxuPUl3KGUsZS5zdHJzdGFydC0xLWUucHJldl9tYXRjaCxlLnByZXZfbGVuZ3RoLTMpLGUubG9va2FoZWFkLT1lLnByZXZfbGVuZ3RoLTEsZS5wcmV2X2xlbmd0aC09Mjtkb3srK2Uuc3Ryc3RhcnQ8PXImJihlLmluc19oPXJPKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLGk9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCl9d2hpbGUoMCE9LS1lLnByZXZfbGVuZ3RoKTtpZihlLm1hdGNoX2F2YWlsYWJsZT0wLGUubWF0Y2hfbGVuZ3RoPTIsZS5zdHJzdGFydCsrLG4mJihvTyhlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIDF9ZWxzZSBpZihlLm1hdGNoX2F2YWlsYWJsZSl7aWYobj1JdyhlLDAsZS53aW5kb3dbZS5zdHJzdGFydC0xXSksbiYmb08oZSwhMSksZS5zdHJzdGFydCsrLGUubG9va2FoZWFkLS0sMD09PWUuc3RybS5hdmFpbF9vdXQpcmV0dXJuIDF9ZWxzZSBlLm1hdGNoX2F2YWlsYWJsZT0xLGUuc3Ryc3RhcnQrKyxlLmxvb2thaGVhZC0tfXJldHVybiBlLm1hdGNoX2F2YWlsYWJsZSYmKG49SXcoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnQtMV0pLGUubWF0Y2hfYXZhaWxhYmxlPTApLGUuaW5zZXJ0PWUuc3Ryc3RhcnQ8Mj9lLnN0cnN0YXJ0OjIsdD09PU93PyhvTyhlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD8zOjQpOmUuc3ltX25leHQmJihvTyhlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/MToyfTtmdW5jdGlvbiBFTyhlLHQsaSxuLHIpe3RoaXMuZ29vZF9sZW5ndGg9ZSx0aGlzLm1heF9sYXp5PXQsdGhpcy5uaWNlX2xlbmd0aD1pLHRoaXMubWF4X2NoYWluPW4sdGhpcy5mdW5jPXJ9Y29uc3QgbU89W25ldyBFTygwLDAsMCwwLHVPKSxuZXcgRU8oNCw0LDgsNCxwTyksbmV3IEVPKDQsNSwxNiw4LHBPKSxuZXcgRU8oNCw2LDMyLDMyLHBPKSxuZXcgRU8oNCw0LDE2LDE2LF9PKSxuZXcgRU8oOCwxNiwzMiwzMixfTyksbmV3IEVPKDgsMTYsMTI4LDEyOCxfTyksbmV3IEVPKDgsMzIsMTI4LDI1NixfTyksbmV3IEVPKDMyLDEyOCwyNTgsMTAyNCxfTyksbmV3IEVPKDMyLDI1OCwyNTgsNDA5NixfTyldO2Z1bmN0aW9uIGZPKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9V3csdGhpcy5sYXN0X2ZsdXNoPS0xLHRoaXMud19zaXplPTAsdGhpcy53X2JpdHM9MCx0aGlzLndfbWFzaz0wLHRoaXMud2luZG93PW51bGwsdGhpcy53aW5kb3dfc2l6ZT0wLHRoaXMucHJldj1udWxsLHRoaXMuaGVhZD1udWxsLHRoaXMuaW5zX2g9MCx0aGlzLmhhc2hfc2l6ZT0wLHRoaXMuaGFzaF9iaXRzPTAsdGhpcy5oYXNoX21hc2s9MCx0aGlzLmhhc2hfc2hpZnQ9MCx0aGlzLmJsb2NrX3N0YXJ0PTAsdGhpcy5tYXRjaF9sZW5ndGg9MCx0aGlzLnByZXZfbWF0Y2g9MCx0aGlzLm1hdGNoX2F2YWlsYWJsZT0wLHRoaXMuc3Ryc3RhcnQ9MCx0aGlzLm1hdGNoX3N0YXJ0PTAsdGhpcy5sb29rYWhlYWQ9MCx0aGlzLnByZXZfbGVuZ3RoPTAsdGhpcy5tYXhfY2hhaW5fbGVuZ3RoPTAsdGhpcy5tYXhfbGF6eV9tYXRjaD0wLHRoaXMubGV2ZWw9MCx0aGlzLnN0cmF0ZWd5PTAsdGhpcy5nb29kX21hdGNoPTAsdGhpcy5uaWNlX21hdGNoPTAsdGhpcy5keW5fbHRyZWU9bmV3IFVpbnQxNkFycmF5KDIqcXcpLHRoaXMuZHluX2R0cmVlPW5ldyBVaW50MTZBcnJheSgyKigyKkt3KzEpKSx0aGlzLmJsX3RyZWU9bmV3IFVpbnQxNkFycmF5KDIqKDIqWXcrMSkpLGlPKHRoaXMuZHluX2x0cmVlKSxpTyh0aGlzLmR5bl9kdHJlZSksaU8odGhpcy5ibF90cmVlKSx0aGlzLmxfZGVzYz1udWxsLHRoaXMuZF9kZXNjPW51bGwsdGhpcy5ibF9kZXNjPW51bGwsdGhpcy5ibF9jb3VudD1uZXcgVWludDE2QXJyYXkoSncrMSksdGhpcy5oZWFwPW5ldyBVaW50MTZBcnJheSgyKkh3KzEpLGlPKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBVaW50MTZBcnJheSgyKkh3KzEpLGlPKHRoaXMuZGVwdGgpLHRoaXMuc3ltX2J1Zj0wLHRoaXMubGl0X2J1ZnNpemU9MCx0aGlzLnN5bV9uZXh0PTAsdGhpcy5zeW1fZW5kPTAsdGhpcy5vcHRfbGVuPTAsdGhpcy5zdGF0aWNfbGVuPTAsdGhpcy5tYXRjaGVzPTAsdGhpcy5pbnNlcnQ9MCx0aGlzLmJpX2J1Zj0wLHRoaXMuYmlfdmFsaWQ9MH1jb25zdCBnTz1lPT57aWYoIWUpcmV0dXJuIDE7Y29uc3QgdD1lLnN0YXRlO3JldHVybiF0fHx0LnN0cm0hPT1lfHx0LnN0YXR1cyE9PVF3JiY1NyE9PXQuc3RhdHVzJiY2OSE9PXQuc3RhdHVzJiY3MyE9PXQuc3RhdHVzJiY5MSE9PXQuc3RhdHVzJiYxMDMhPT10LnN0YXR1cyYmdC5zdGF0dXMhPT1adyYmdC5zdGF0dXMhPT0kdz8xOjB9LFRPPWU9PntpZihnTyhlKSlyZXR1cm4gZU8oZSxMdyk7ZS50b3RhbF9pbj1lLnRvdGFsX291dD0wLGUuZGF0YV90eXBlPUd3O2NvbnN0IHQ9ZS5zdGF0ZTtyZXR1cm4gdC5wZW5kaW5nPTAsdC5wZW5kaW5nX291dD0wLHQud3JhcDwwJiYodC53cmFwPS10LndyYXApLHQuc3RhdHVzPTI9PT10LndyYXA/NTc6dC53cmFwP1F3Olp3LGUuYWRsZXI9Mj09PXQud3JhcD8wOjEsdC5sYXN0X2ZsdXNoPS0yLFJ3KHQpLER3fSxTTz1lPT57Y29uc3QgdD1UTyhlKTt2YXIgaTtyZXR1cm4gdD09PUR3JiYoKGk9ZS5zdGF0ZSkud2luZG93X3NpemU9MippLndfc2l6ZSxpTyhpLmhlYWQpLGkubWF4X2xhenlfbWF0Y2g9bU9baS5sZXZlbF0ubWF4X2xhenksaS5nb29kX21hdGNoPW1PW2kubGV2ZWxdLmdvb2RfbGVuZ3RoLGkubmljZV9tYXRjaD1tT1tpLmxldmVsXS5uaWNlX2xlbmd0aCxpLm1heF9jaGFpbl9sZW5ndGg9bU9baS5sZXZlbF0ubWF4X2NoYWluLGkuc3Ryc3RhcnQ9MCxpLmJsb2NrX3N0YXJ0PTAsaS5sb29rYWhlYWQ9MCxpLmluc2VydD0wLGkubWF0Y2hfbGVuZ3RoPWkucHJldl9sZW5ndGg9MixpLm1hdGNoX2F2YWlsYWJsZT0wLGkuaW5zX2g9MCksdH0sUk89KGUsdCxpLG4scixzKT0+e2lmKCFlKXJldHVybiBMdztsZXQgbz0xO2lmKHQ9PT1VdyYmKHQ9NiksbjwwPyhvPTAsbj0tbik6bj4xNSYmKG89MixuLT0xNikscjwxfHxyPjl8fGkhPT1Xd3x8bjw4fHxuPjE1fHx0PDB8fHQ+OXx8czwwfHxzPkJ3fHw4PT09biYmMSE9PW8pcmV0dXJuIGVPKGUsTHcpOzg9PT1uJiYobj05KTtjb25zdCBhPW5ldyBmTztyZXR1cm4gZS5zdGF0ZT1hLGEuc3RybT1lLGEuc3RhdHVzPVF3LGEud3JhcD1vLGEuZ3poZWFkPW51bGwsYS53X2JpdHM9bixhLndfc2l6ZT0xPDxhLndfYml0cyxhLndfbWFzaz1hLndfc2l6ZS0xLGEuaGFzaF9iaXRzPXIrNyxhLmhhc2hfc2l6ZT0xPDxhLmhhc2hfYml0cyxhLmhhc2hfbWFzaz1hLmhhc2hfc2l6ZS0xLGEuaGFzaF9zaGlmdD1+figoYS5oYXNoX2JpdHMrMy0xKS8zKSxhLndpbmRvdz1uZXcgVWludDhBcnJheSgyKmEud19zaXplKSxhLmhlYWQ9bmV3IFVpbnQxNkFycmF5KGEuaGFzaF9zaXplKSxhLnByZXY9bmV3IFVpbnQxNkFycmF5KGEud19zaXplKSxhLmxpdF9idWZzaXplPTE8PHIrNixhLnBlbmRpbmdfYnVmX3NpemU9NCphLmxpdF9idWZzaXplLGEucGVuZGluZ19idWY9bmV3IFVpbnQ4QXJyYXkoYS5wZW5kaW5nX2J1Zl9zaXplKSxhLnN5bV9idWY9YS5saXRfYnVmc2l6ZSxhLnN5bV9lbmQ9MyooYS5saXRfYnVmc2l6ZS0xKSxhLmxldmVsPXQsYS5zdHJhdGVneT1zLGEubWV0aG9kPWksU08oZSl9O3ZhciBDTz0oZSx0KT0+e2lmKGdPKGUpfHx0Pk53fHx0PDApcmV0dXJuIGU/ZU8oZSxMdyk6THc7Y29uc3QgaT1lLnN0YXRlO2lmKCFlLm91dHB1dHx8MCE9PWUuYXZhaWxfaW4mJiFlLmlucHV0fHxpLnN0YXR1cz09PSR3JiZ0IT09T3cpcmV0dXJuIGVPKGUsMD09PWUuYXZhaWxfb3V0P013Okx3KTtjb25zdCBuPWkubGFzdF9mbHVzaDtpZihpLmxhc3RfZmx1c2g9dCwwIT09aS5wZW5kaW5nKXtpZihzTyhlKSwwPT09ZS5hdmFpbF9vdXQpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSxEd31lbHNlIGlmKDA9PT1lLmF2YWlsX2luJiZ0Tyh0KTw9dE8obikmJnQhPT1PdylyZXR1cm4gZU8oZSxNdyk7aWYoaS5zdGF0dXM9PT0kdyYmMCE9PWUuYXZhaWxfaW4pcmV0dXJuIGVPKGUsTXcpO2lmKGkuc3RhdHVzPT09UXcmJjA9PT1pLndyYXAmJihpLnN0YXR1cz1adyksaS5zdGF0dXM9PT1Rdyl7bGV0IHQ9V3crKGkud19iaXRzLTg8PDQpPDw4LG49LTE7aWYobj1pLnN0cmF0ZWd5Pj1Wd3x8aS5sZXZlbDwyPzA6aS5sZXZlbDw2PzE6Nj09PWkubGV2ZWw/MjozLHR8PW48PDYsMCE9PWkuc3Ryc3RhcnQmJih0fD0zMiksdCs9MzEtdCUzMSxjTyhpLHQpLDAhPT1pLnN0cnN0YXJ0JiYoY08oaSxlLmFkbGVyPj4+MTYpLGNPKGksNjU1MzUmZS5hZGxlcikpLGUuYWRsZXI9MSxpLnN0YXR1cz1adyxzTyhlKSwwIT09aS5wZW5kaW5nKXJldHVybiBpLmxhc3RfZmx1c2g9LTEsRHd9aWYoNTc9PT1pLnN0YXR1cylpZihlLmFkbGVyPTAsYU8oaSwzMSksYU8oaSwxMzkpLGFPKGksOCksaS5nemhlYWQpYU8oaSwoaS5nemhlYWQudGV4dD8xOjApKyhpLmd6aGVhZC5oY3JjPzI6MCkrKGkuZ3poZWFkLmV4dHJhPzQ6MCkrKGkuZ3poZWFkLm5hbWU/ODowKSsoaS5nemhlYWQuY29tbWVudD8xNjowKSksYU8oaSwyNTUmaS5nemhlYWQudGltZSksYU8oaSxpLmd6aGVhZC50aW1lPj44JjI1NSksYU8oaSxpLmd6aGVhZC50aW1lPj4xNiYyNTUpLGFPKGksaS5nemhlYWQudGltZT4+MjQmMjU1KSxhTyhpLDk9PT1pLmxldmVsPzI6aS5zdHJhdGVneT49Vnd8fGkubGV2ZWw8Mj80OjApLGFPKGksMjU1JmkuZ3poZWFkLm9zKSxpLmd6aGVhZC5leHRyYSYmaS5nemhlYWQuZXh0cmEubGVuZ3RoJiYoYU8oaSwyNTUmaS5nemhlYWQuZXh0cmEubGVuZ3RoKSxhTyhpLGkuZ3poZWFkLmV4dHJhLmxlbmd0aD4+OCYyNTUpKSxpLmd6aGVhZC5oY3JjJiYoZS5hZGxlcj1ndyhlLmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLDApKSxpLmd6aW5kZXg9MCxpLnN0YXR1cz02OTtlbHNlIGlmKGFPKGksMCksYU8oaSwwKSxhTyhpLDApLGFPKGksMCksYU8oaSwwKSxhTyhpLDk9PT1pLmxldmVsPzI6aS5zdHJhdGVneT49Vnd8fGkubGV2ZWw8Mj80OjApLGFPKGksMyksaS5zdGF0dXM9Wncsc08oZSksMCE9PWkucGVuZGluZylyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLER3O2lmKDY5PT09aS5zdGF0dXMpe2lmKGkuZ3poZWFkLmV4dHJhKXtsZXQgdD1pLnBlbmRpbmcsbj0oNjU1MzUmaS5nemhlYWQuZXh0cmEubGVuZ3RoKS1pLmd6aW5kZXg7Zm9yKDtpLnBlbmRpbmcrbj5pLnBlbmRpbmdfYnVmX3NpemU7KXtsZXQgcj1pLnBlbmRpbmdfYnVmX3NpemUtaS5wZW5kaW5nO2lmKGkucGVuZGluZ19idWYuc2V0KGkuZ3poZWFkLmV4dHJhLnN1YmFycmF5KGkuZ3ppbmRleCxpLmd6aW5kZXgrciksaS5wZW5kaW5nKSxpLnBlbmRpbmc9aS5wZW5kaW5nX2J1Zl9zaXplLGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz50JiYoZS5hZGxlcj1ndyhlLmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLXQsdCkpLGkuZ3ppbmRleCs9cixzTyhlKSwwIT09aS5wZW5kaW5nKXJldHVybiBpLmxhc3RfZmx1c2g9LTEsRHc7dD0wLG4tPXJ9bGV0IHI9bmV3IFVpbnQ4QXJyYXkoaS5nemhlYWQuZXh0cmEpO2kucGVuZGluZ19idWYuc2V0KHIuc3ViYXJyYXkoaS5nemluZGV4LGkuZ3ppbmRleCtuKSxpLnBlbmRpbmcpLGkucGVuZGluZys9bixpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+dCYmKGUuYWRsZXI9Z3coZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy10LHQpKSxpLmd6aW5kZXg9MH1pLnN0YXR1cz03M31pZig3Mz09PWkuc3RhdHVzKXtpZihpLmd6aGVhZC5uYW1lKXtsZXQgdCxuPWkucGVuZGluZztkb3tpZihpLnBlbmRpbmc9PT1pLnBlbmRpbmdfYnVmX3NpemUpe2lmKGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYoZS5hZGxlcj1ndyhlLmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLHNPKGUpLDAhPT1pLnBlbmRpbmcpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSxEdztuPTB9dD1pLmd6aW5kZXg8aS5nemhlYWQubmFtZS5sZW5ndGg/MjU1JmkuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChpLmd6aW5kZXgrKyk6MCxhTyhpLHQpfXdoaWxlKDAhPT10KTtpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKGUuYWRsZXI9Z3coZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKSxpLmd6aW5kZXg9MH1pLnN0YXR1cz05MX1pZig5MT09PWkuc3RhdHVzKXtpZihpLmd6aGVhZC5jb21tZW50KXtsZXQgdCxuPWkucGVuZGluZztkb3tpZihpLnBlbmRpbmc9PT1pLnBlbmRpbmdfYnVmX3NpemUpe2lmKGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYoZS5hZGxlcj1ndyhlLmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLHNPKGUpLDAhPT1pLnBlbmRpbmcpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSxEdztuPTB9dD1pLmd6aW5kZXg8aS5nemhlYWQuY29tbWVudC5sZW5ndGg/MjU1JmkuZ3poZWFkLmNvbW1lbnQuY2hhckNvZGVBdChpLmd6aW5kZXgrKyk6MCxhTyhpLHQpfXdoaWxlKDAhPT10KTtpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKGUuYWRsZXI9Z3coZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKX1pLnN0YXR1cz0xMDN9aWYoMTAzPT09aS5zdGF0dXMpe2lmKGkuZ3poZWFkLmhjcmMpe2lmKGkucGVuZGluZysyPmkucGVuZGluZ19idWZfc2l6ZSYmKHNPKGUpLDAhPT1pLnBlbmRpbmcpKXJldHVybiBpLmxhc3RfZmx1c2g9LTEsRHc7YU8oaSwyNTUmZS5hZGxlciksYU8oaSxlLmFkbGVyPj44JjI1NSksZS5hZGxlcj0wfWlmKGkuc3RhdHVzPVp3LHNPKGUpLDAhPT1pLnBlbmRpbmcpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSxEd31pZigwIT09ZS5hdmFpbF9pbnx8MCE9PWkubG9va2FoZWFkfHx0IT09QXcmJmkuc3RhdHVzIT09JHcpe2xldCBuPTA9PT1pLmxldmVsP3VPKGksdCk6aS5zdHJhdGVneT09PVZ3PygoZSx0KT0+e2xldCBpO2Zvcig7Oyl7aWYoMD09PWUubG9va2FoZWFkJiYoaE8oZSksMD09PWUubG9va2FoZWFkKSl7aWYodD09PUF3KXJldHVybiAxO2JyZWFrfWlmKGUubWF0Y2hfbGVuZ3RoPTAsaT1JdyhlLDAsZS53aW5kb3dbZS5zdHJzdGFydF0pLGUubG9va2FoZWFkLS0sZS5zdHJzdGFydCsrLGkmJihvTyhlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIDF9cmV0dXJuIGUuaW5zZXJ0PTAsdD09PU93PyhvTyhlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD8zOjQpOmUuc3ltX25leHQmJihvTyhlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/MToyfSkoaSx0KTppLnN0cmF0ZWd5PT09Rnc/KChlLHQpPT57bGV0IGksbixyLHM7Y29uc3Qgbz1lLndpbmRvdztmb3IoOzspe2lmKGUubG9va2FoZWFkPD16dyl7aWYoaE8oZSksZS5sb29rYWhlYWQ8PXp3JiZ0PT09QXcpcmV0dXJuIDE7aWYoMD09PWUubG9va2FoZWFkKWJyZWFrfWlmKGUubWF0Y2hfbGVuZ3RoPTAsZS5sb29rYWhlYWQ+PTMmJmUuc3Ryc3RhcnQ+MCYmKHI9ZS5zdHJzdGFydC0xLG49b1tyXSxuPT09b1srK3JdJiZuPT09b1srK3JdJiZuPT09b1srK3JdKSl7cz1lLnN0cnN0YXJ0K3p3O2Rve313aGlsZShuPT09b1srK3JdJiZuPT09b1srK3JdJiZuPT09b1srK3JdJiZuPT09b1srK3JdJiZuPT09b1srK3JdJiZuPT09b1srK3JdJiZuPT09b1srK3JdJiZuPT09b1srK3JdJiZyPHMpO2UubWF0Y2hfbGVuZ3RoPXp3LShzLXIpLGUubWF0Y2hfbGVuZ3RoPmUubG9va2FoZWFkJiYoZS5tYXRjaF9sZW5ndGg9ZS5sb29rYWhlYWQpfWlmKGUubWF0Y2hfbGVuZ3RoPj0zPyhpPUl3KGUsMSxlLm1hdGNoX2xlbmd0aC0zKSxlLmxvb2thaGVhZC09ZS5tYXRjaF9sZW5ndGgsZS5zdHJzdGFydCs9ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg9MCk6KGk9SXcoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnRdKSxlLmxvb2thaGVhZC0tLGUuc3Ryc3RhcnQrKyksaSYmKG9PKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1yZXR1cm4gZS5pbnNlcnQ9MCx0PT09T3c/KG9PKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0PzM6NCk6ZS5zeW1fbmV4dCYmKG9PKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT8xOjJ9KShpLHQpOm1PW2kubGV2ZWxdLmZ1bmMoaSx0KTtpZigzIT09biYmNCE9PW58fChpLnN0YXR1cz0kdyksMT09PW58fDM9PT1uKXJldHVybiAwPT09ZS5hdmFpbF9vdXQmJihpLmxhc3RfZmx1c2g9LTEpLER3O2lmKDI9PT1uJiYodD09PWJ3P3l3KGkpOnQhPT1OdyYmKEN3KGksMCwwLCExKSx0PT09d3cmJihpTyhpLmhlYWQpLDA9PT1pLmxvb2thaGVhZCYmKGkuc3Ryc3RhcnQ9MCxpLmJsb2NrX3N0YXJ0PTAsaS5pbnNlcnQ9MCkpKSxzTyhlKSwwPT09ZS5hdmFpbF9vdXQpKXJldHVybiBpLmxhc3RfZmx1c2g9LTEsRHd9cmV0dXJuIHQhPT1Pdz9EdzppLndyYXA8PTA/UHc6KDI9PT1pLndyYXA/KGFPKGksMjU1JmUuYWRsZXIpLGFPKGksZS5hZGxlcj4+OCYyNTUpLGFPKGksZS5hZGxlcj4+MTYmMjU1KSxhTyhpLGUuYWRsZXI+PjI0JjI1NSksYU8oaSwyNTUmZS50b3RhbF9pbiksYU8oaSxlLnRvdGFsX2luPj44JjI1NSksYU8oaSxlLnRvdGFsX2luPj4xNiYyNTUpLGFPKGksZS50b3RhbF9pbj4+MjQmMjU1KSk6KGNPKGksZS5hZGxlcj4+PjE2KSxjTyhpLDY1NTM1JmUuYWRsZXIpKSxzTyhlKSxpLndyYXA+MCYmKGkud3JhcD0taS53cmFwKSwwIT09aS5wZW5kaW5nP0R3OlB3KX0sdk89KGUsdCk9PntsZXQgaT10Lmxlbmd0aDtpZihnTyhlKSlyZXR1cm4gTHc7Y29uc3Qgbj1lLnN0YXRlLHI9bi53cmFwO2lmKDI9PT1yfHwxPT09ciYmbi5zdGF0dXMhPT1Rd3x8bi5sb29rYWhlYWQpcmV0dXJuIEx3O2lmKDE9PT1yJiYoZS5hZGxlcj1tdyhlLmFkbGVyLHQsaSwwKSksbi53cmFwPTAsaT49bi53X3NpemUpezA9PT1yJiYoaU8obi5oZWFkKSxuLnN0cnN0YXJ0PTAsbi5ibG9ja19zdGFydD0wLG4uaW5zZXJ0PTApO2xldCBlPW5ldyBVaW50OEFycmF5KG4ud19zaXplKTtlLnNldCh0LnN1YmFycmF5KGktbi53X3NpemUsaSksMCksdD1lLGk9bi53X3NpemV9Y29uc3Qgcz1lLmF2YWlsX2luLG89ZS5uZXh0X2luLGE9ZS5pbnB1dDtmb3IoZS5hdmFpbF9pbj1pLGUubmV4dF9pbj0wLGUuaW5wdXQ9dCxoTyhuKTtuLmxvb2thaGVhZD49Mzspe2xldCBlPW4uc3Ryc3RhcnQsdD1uLmxvb2thaGVhZC0yO2Rve24uaW5zX2g9ck8obixuLmluc19oLG4ud2luZG93W2UrMy0xXSksbi5wcmV2W2Umbi53X21hc2tdPW4uaGVhZFtuLmluc19oXSxuLmhlYWRbbi5pbnNfaF09ZSxlKyt9d2hpbGUoLS10KTtuLnN0cnN0YXJ0PWUsbi5sb29rYWhlYWQ9MixoTyhuKX1yZXR1cm4gbi5zdHJzdGFydCs9bi5sb29rYWhlYWQsbi5ibG9ja19zdGFydD1uLnN0cnN0YXJ0LG4uaW5zZXJ0PW4ubG9va2FoZWFkLG4ubG9va2FoZWFkPTAsbi5tYXRjaF9sZW5ndGg9bi5wcmV2X2xlbmd0aD0yLG4ubWF0Y2hfYXZhaWxhYmxlPTAsZS5uZXh0X2luPW8sZS5pbnB1dD1hLGUuYXZhaWxfaW49cyxuLndyYXA9cixEd30sSU89e2RlZmxhdGVJbml0OihlLHQpPT5STyhlLHQsV3csMTUsOCxqdyksZGVmbGF0ZUluaXQyOlJPLGRlZmxhdGVSZXNldDpTTyxkZWZsYXRlUmVzZXRLZWVwOlRPLGRlZmxhdGVTZXRIZWFkZXI6KGUsdCk9PmdPKGUpfHwyIT09ZS5zdGF0ZS53cmFwP0x3OihlLnN0YXRlLmd6aGVhZD10LER3KSxkZWZsYXRlOkNPLGRlZmxhdGVFbmQ6ZT0+e2lmKGdPKGUpKXJldHVybiBMdztjb25zdCB0PWUuc3RhdGUuc3RhdHVzO3JldHVybiBlLnN0YXRlPW51bGwsdD09PVp3P2VPKGUsa3cpOkR3fSxkZWZsYXRlU2V0RGljdGlvbmFyeTp2TyxkZWZsYXRlSW5mbzpcInBha28gZGVmbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdClcIn07Y29uc3QgeU89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpO3ZhciBBTz17YXNzaWduOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2Zvcig7dC5sZW5ndGg7KXtjb25zdCBpPXQuc2hpZnQoKTtpZihpKXtpZihcIm9iamVjdFwiIT10eXBlb2YgaSl0aHJvdyBuZXcgVHlwZUVycm9yKGkrXCJtdXN0IGJlIG5vbi1vYmplY3RcIik7Zm9yKGNvbnN0IHQgaW4gaSl5TyhpLHQpJiYoZVt0XT1pW3RdKX19cmV0dXJuIGV9LGZsYXR0ZW5DaHVua3M6ZT0+e2xldCB0PTA7Zm9yKGxldCBpPTAsbj1lLmxlbmd0aDtpPG47aSsrKXQrPWVbaV0ubGVuZ3RoO2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkodCk7Zm9yKGxldCB0PTAsbj0wLHI9ZS5sZW5ndGg7dDxyO3QrKyl7bGV0IHI9ZVt0XTtpLnNldChyLG4pLG4rPXIubGVuZ3RofXJldHVybiBpfX07bGV0IGJPPSEwO3RyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpfWNhdGNoKGUpe2JPPSExfWNvbnN0IHdPPW5ldyBVaW50OEFycmF5KDI1Nik7Zm9yKGxldCBlPTA7ZTwyNTY7ZSsrKXdPW2VdPWU+PTI1Mj82OmU+PTI0OD81OmU+PTI0MD80OmU+PTIyND8zOmU+PTE5Mj8yOjE7d09bMjU0XT13T1syNTRdPTE7dmFyIE9PPXtzdHJpbmcyYnVmOmU9PntpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBUZXh0RW5jb2RlciYmVGV4dEVuY29kZXIucHJvdG90eXBlLmVuY29kZSlyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSk7bGV0IHQsaSxuLHIscyxvPWUubGVuZ3RoLGE9MDtmb3Iocj0wO3I8bztyKyspaT1lLmNoYXJDb2RlQXQociksNTUyOTY9PSg2NDUxMiZpKSYmcisxPG8mJihuPWUuY2hhckNvZGVBdChyKzEpLDU2MzIwPT0oNjQ1MTImbikmJihpPTY1NTM2KyhpLTU1Mjk2PDwxMCkrKG4tNTYzMjApLHIrKykpLGErPWk8MTI4PzE6aTwyMDQ4PzI6aTw2NTUzNj8zOjQ7Zm9yKHQ9bmV3IFVpbnQ4QXJyYXkoYSkscz0wLHI9MDtzPGE7cisrKWk9ZS5jaGFyQ29kZUF0KHIpLDU1Mjk2PT0oNjQ1MTImaSkmJnIrMTxvJiYobj1lLmNoYXJDb2RlQXQocisxKSw1NjMyMD09KDY0NTEyJm4pJiYoaT02NTUzNisoaS01NTI5Njw8MTApKyhuLTU2MzIwKSxyKyspKSxpPDEyOD90W3MrK109aTppPDIwNDg/KHRbcysrXT0xOTJ8aT4+PjYsdFtzKytdPTEyOHw2MyZpKTppPDY1NTM2Pyh0W3MrK109MjI0fGk+Pj4xMix0W3MrK109MTI4fGk+Pj42JjYzLHRbcysrXT0xMjh8NjMmaSk6KHRbcysrXT0yNDB8aT4+PjE4LHRbcysrXT0xMjh8aT4+PjEyJjYzLHRbcysrXT0xMjh8aT4+PjYmNjMsdFtzKytdPTEyOHw2MyZpKTtyZXR1cm4gdH0sYnVmMnN0cmluZzooZSx0KT0+e2NvbnN0IGk9dHx8ZS5sZW5ndGg7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgVGV4dERlY29kZXImJlRleHREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUpcmV0dXJuKG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKGUuc3ViYXJyYXkoMCx0KSk7bGV0IG4scjtjb25zdCBzPW5ldyBBcnJheSgyKmkpO2ZvcihyPTAsbj0wO248aTspe2xldCB0PWVbbisrXTtpZih0PDEyOCl7c1tyKytdPXQ7Y29udGludWV9bGV0IG89d09bdF07aWYobz40KXNbcisrXT02NTUzMyxuKz1vLTE7ZWxzZXtmb3IodCY9Mj09PW8/MzE6Mz09PW8/MTU6NztvPjEmJm48aTspdD10PDw2fDYzJmVbbisrXSxvLS07bz4xP3NbcisrXT02NTUzMzp0PDY1NTM2P3NbcisrXT10Oih0LT02NTUzNixzW3IrK109NTUyOTZ8dD4+MTAmMTAyMyxzW3IrK109NTYzMjB8MTAyMyZ0KX19cmV0dXJuKChlLHQpPT57aWYodDw2NTUzNCYmZS5zdWJhcnJheSYmYk8pcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlLmxlbmd0aD09PXQ/ZTplLnN1YmFycmF5KDAsdCkpO2xldCBpPVwiXCI7Zm9yKGxldCBuPTA7bjx0O24rKylpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pO3JldHVybiBpfSkocyxyKX0sdXRmOGJvcmRlcjooZSx0KT0+eyh0PXR8fGUubGVuZ3RoKT5lLmxlbmd0aCYmKHQ9ZS5sZW5ndGgpO2xldCBpPXQtMTtmb3IoO2k+PTAmJjEyOD09KDE5MiZlW2ldKTspaS0tO3JldHVybiBpPDB8fDA9PT1pP3Q6aSt3T1tlW2ldXT50P2k6dH19O3ZhciBOTz1mdW5jdGlvbigpe3RoaXMuaW5wdXQ9bnVsbCx0aGlzLm5leHRfaW49MCx0aGlzLmF2YWlsX2luPTAsdGhpcy50b3RhbF9pbj0wLHRoaXMub3V0cHV0PW51bGwsdGhpcy5uZXh0X291dD0wLHRoaXMuYXZhaWxfb3V0PTAsdGhpcy50b3RhbF9vdXQ9MCx0aGlzLm1zZz1cIlwiLHRoaXMuc3RhdGU9bnVsbCx0aGlzLmRhdGFfdHlwZT0yLHRoaXMuYWRsZXI9MH07Y29uc3QgRE89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx7Wl9OT19GTFVTSDpQTyxaX1NZTkNfRkxVU0g6TE8sWl9GVUxMX0ZMVVNIOmtPLFpfRklOSVNIOk1PLFpfT0s6VU8sWl9TVFJFQU1fRU5EOnhPLFpfREVGQVVMVF9DT01QUkVTU0lPTjpWTyxaX0RFRkFVTFRfU1RSQVRFR1k6Rk8sWl9ERUZMQVRFRDpCT309U3c7ZnVuY3Rpb24gak8oZSl7dGhpcy5vcHRpb25zPUFPLmFzc2lnbih7bGV2ZWw6Vk8sbWV0aG9kOkJPLGNodW5rU2l6ZToxNjM4NCx3aW5kb3dCaXRzOjE1LG1lbUxldmVsOjgsc3RyYXRlZ3k6Rk99LGV8fHt9KTtsZXQgdD10aGlzLm9wdGlvbnM7dC5yYXcmJnQud2luZG93Qml0cz4wP3Qud2luZG93Qml0cz0tdC53aW5kb3dCaXRzOnQuZ3ppcCYmdC53aW5kb3dCaXRzPjAmJnQud2luZG93Qml0czwxNiYmKHQud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgTk8sdGhpcy5zdHJtLmF2YWlsX291dD0wO2xldCBpPUlPLmRlZmxhdGVJbml0Mih0aGlzLnN0cm0sdC5sZXZlbCx0Lm1ldGhvZCx0LndpbmRvd0JpdHMsdC5tZW1MZXZlbCx0LnN0cmF0ZWd5KTtpZihpIT09VU8pdGhyb3cgbmV3IEVycm9yKFR3W2ldKTtpZih0LmhlYWRlciYmSU8uZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sdC5oZWFkZXIpLHQuZGljdGlvbmFyeSl7bGV0IGU7aWYoZT1cInN0cmluZ1wiPT10eXBlb2YgdC5kaWN0aW9uYXJ5P09PLnN0cmluZzJidWYodC5kaWN0aW9uYXJ5KTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1ETy5jYWxsKHQuZGljdGlvbmFyeSk/bmV3IFVpbnQ4QXJyYXkodC5kaWN0aW9uYXJ5KTp0LmRpY3Rpb25hcnksaT1JTy5kZWZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sZSksaSE9PVVPKXRocm93IG5ldyBFcnJvcihUd1tpXSk7dGhpcy5fZGljdF9zZXQ9ITB9fWZ1bmN0aW9uIEdPKGUsdCl7Y29uc3QgaT1uZXcgak8odCk7aWYoaS5wdXNoKGUsITApLGkuZXJyKXRocm93IGkubXNnfHxUd1tpLmVycl07cmV0dXJuIGkucmVzdWx0fWpPLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT10aGlzLnN0cm0sbj10aGlzLm9wdGlvbnMuY2h1bmtTaXplO2xldCByLHM7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtmb3Iocz10PT09fn50P3Q6ITA9PT10P01POlBPLFwic3RyaW5nXCI9PXR5cGVvZiBlP2kuaW5wdXQ9T08uc3RyaW5nMmJ1ZihlKTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1ETy5jYWxsKGUpP2kuaW5wdXQ9bmV3IFVpbnQ4QXJyYXkoZSk6aS5pbnB1dD1lLGkubmV4dF9pbj0wLGkuYXZhaWxfaW49aS5pbnB1dC5sZW5ndGg7OylpZigwPT09aS5hdmFpbF9vdXQmJihpLm91dHB1dD1uZXcgVWludDhBcnJheShuKSxpLm5leHRfb3V0PTAsaS5hdmFpbF9vdXQ9biksKHM9PT1MT3x8cz09PWtPKSYmaS5hdmFpbF9vdXQ8PTYpdGhpcy5vbkRhdGEoaS5vdXRwdXQuc3ViYXJyYXkoMCxpLm5leHRfb3V0KSksaS5hdmFpbF9vdXQ9MDtlbHNle2lmKHI9SU8uZGVmbGF0ZShpLHMpLHI9PT14TylyZXR1cm4gaS5uZXh0X291dD4wJiZ0aGlzLm9uRGF0YShpLm91dHB1dC5zdWJhcnJheSgwLGkubmV4dF9vdXQpKSxyPUlPLmRlZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKHIpLHRoaXMuZW5kZWQ9ITAscj09PVVPO2lmKDAhPT1pLmF2YWlsX291dCl7aWYocz4wJiZpLm5leHRfb3V0PjApdGhpcy5vbkRhdGEoaS5vdXRwdXQuc3ViYXJyYXkoMCxpLm5leHRfb3V0KSksaS5hdmFpbF9vdXQ9MDtlbHNlIGlmKDA9PT1pLmF2YWlsX2luKWJyZWFrfWVsc2UgdGhpcy5vbkRhdGEoaS5vdXRwdXQpfXJldHVybiEwfSxqTy5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGUpe3RoaXMuY2h1bmtzLnB1c2goZSl9LGpPLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihlKXtlPT09VU8mJih0aGlzLnJlc3VsdD1BTy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfTt2YXIgV089e0RlZmxhdGU6ak8sZGVmbGF0ZTpHTyxkZWZsYXRlUmF3OmZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8e30pLnJhdz0hMCxHTyhlLHQpfSxnemlwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8e30pLmd6aXA9ITAsR08oZSx0KX0sY29uc3RhbnRzOlN3fTtjb25zdCBITz0xNjIwOTt2YXIgS089ZnVuY3Rpb24oZSx0KXtsZXQgaSxuLHIscyxvLGEsYyxkLGwsaCx1LHAsXyxFLG0sZixnLFQsUyxSLEMsdixJLHk7Y29uc3QgQT1lLnN0YXRlO2k9ZS5uZXh0X2luLEk9ZS5pbnB1dCxuPWkrKGUuYXZhaWxfaW4tNSkscj1lLm5leHRfb3V0LHk9ZS5vdXRwdXQscz1yLSh0LWUuYXZhaWxfb3V0KSxvPXIrKGUuYXZhaWxfb3V0LTI1NyksYT1BLmRtYXgsYz1BLndzaXplLGQ9QS53aGF2ZSxsPUEud25leHQsaD1BLndpbmRvdyx1PUEuaG9sZCxwPUEuYml0cyxfPUEubGVuY29kZSxFPUEuZGlzdGNvZGUsbT0oMTw8QS5sZW5iaXRzKS0xLGY9KDE8PEEuZGlzdGJpdHMpLTE7ZTpkb3twPDE1JiYodSs9SVtpKytdPDxwLHArPTgsdSs9SVtpKytdPDxwLHArPTgpLGc9X1t1Jm1dO3Q6Zm9yKDs7KXtpZihUPWc+Pj4yNCx1Pj4+PVQscC09VCxUPWc+Pj4xNiYyNTUsMD09PVQpeVtyKytdPTY1NTM1Jmc7ZWxzZXtpZighKDE2JlQpKXtpZigwPT0oNjQmVCkpe2c9X1soNjU1MzUmZykrKHUmKDE8PFQpLTEpXTtjb250aW51ZSB0fWlmKDMyJlQpe0EubW9kZT0xNjE5MTticmVhayBlfWUubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsQS5tb2RlPUhPO2JyZWFrIGV9Uz02NTUzNSZnLFQmPTE1LFQmJihwPFQmJih1Kz1JW2krK108PHAscCs9OCksUys9dSYoMTw8VCktMSx1Pj4+PVQscC09VCkscDwxNSYmKHUrPUlbaSsrXTw8cCxwKz04LHUrPUlbaSsrXTw8cCxwKz04KSxnPUVbdSZmXTtpOmZvcig7Oyl7aWYoVD1nPj4+MjQsdT4+Pj1ULHAtPVQsVD1nPj4+MTYmMjU1LCEoMTYmVCkpe2lmKDA9PSg2NCZUKSl7Zz1FWyg2NTUzNSZnKSsodSYoMTw8VCktMSldO2NvbnRpbnVlIGl9ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIGNvZGVcIixBLm1vZGU9SE87YnJlYWsgZX1pZihSPTY1NTM1JmcsVCY9MTUscDxUJiYodSs9SVtpKytdPDxwLHArPTgscDxUJiYodSs9SVtpKytdPDxwLHArPTgpKSxSKz11JigxPDxUKS0xLFI+YSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLEEubW9kZT1ITzticmVhayBlfWlmKHU+Pj49VCxwLT1ULFQ9ci1zLFI+VCl7aWYoVD1SLVQsVD5kJiZBLnNhbmUpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixBLm1vZGU9SE87YnJlYWsgZX1pZihDPTAsdj1oLDA9PT1sKXtpZihDKz1jLVQsVDxTKXtTLT1UO2Rve3lbcisrXT1oW0MrK119d2hpbGUoLS1UKTtDPXItUix2PXl9fWVsc2UgaWYobDxUKXtpZihDKz1jK2wtVCxULT1sLFQ8Uyl7Uy09VDtkb3t5W3IrK109aFtDKytdfXdoaWxlKC0tVCk7aWYoQz0wLGw8Uyl7VD1sLFMtPVQ7ZG97eVtyKytdPWhbQysrXX13aGlsZSgtLVQpO0M9ci1SLHY9eX19fWVsc2UgaWYoQys9bC1ULFQ8Uyl7Uy09VDtkb3t5W3IrK109aFtDKytdfXdoaWxlKC0tVCk7Qz1yLVIsdj15fWZvcig7Uz4yOyl5W3IrK109dltDKytdLHlbcisrXT12W0MrK10seVtyKytdPXZbQysrXSxTLT0zO1MmJih5W3IrK109dltDKytdLFM+MSYmKHlbcisrXT12W0MrK10pKX1lbHNle0M9ci1SO2Rve3lbcisrXT15W0MrK10seVtyKytdPXlbQysrXSx5W3IrK109eVtDKytdLFMtPTN9d2hpbGUoUz4yKTtTJiYoeVtyKytdPXlbQysrXSxTPjEmJih5W3IrK109eVtDKytdKSl9YnJlYWt9fWJyZWFrfX13aGlsZShpPG4mJnI8byk7Uz1wPj4zLGktPVMscC09Uzw8Myx1Jj0oMTw8cCktMSxlLm5leHRfaW49aSxlLm5leHRfb3V0PXIsZS5hdmFpbF9pbj1pPG4/bi1pKzU6NS0oaS1uKSxlLmF2YWlsX291dD1yPG8/by1yKzI1NzoyNTctKHItbyksQS5ob2xkPXUsQS5iaXRzPXB9O2NvbnN0IFlPPTE1LHFPPW5ldyBVaW50MTZBcnJheShbMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdKSxKTz1uZXcgVWludDhBcnJheShbMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdKSx6Tz1uZXcgVWludDE2QXJyYXkoWzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdKSxYTz1uZXcgVWludDhBcnJheShbMTYsMTYsMTYsMTYsMTcsMTcsMTgsMTgsMTksMTksMjAsMjAsMjEsMjEsMjIsMjIsMjMsMjMsMjQsMjQsMjUsMjUsMjYsMjYsMjcsMjcsMjgsMjgsMjksMjksNjQsNjRdKTt2YXIgUU89KGUsdCxpLG4scixzLG8sYSk9Pntjb25zdCBjPWEuYml0cztsZXQgZCxsLGgsdSxwLF8sRT0wLG09MCxmPTAsZz0wLFQ9MCxTPTAsUj0wLEM9MCx2PTAsST0wLHk9bnVsbDtjb25zdCBBPW5ldyBVaW50MTZBcnJheSgxNiksYj1uZXcgVWludDE2QXJyYXkoMTYpO2xldCB3LE8sTixEPW51bGw7Zm9yKEU9MDtFPD1ZTztFKyspQVtFXT0wO2ZvcihtPTA7bTxuO20rKylBW3RbaSttXV0rKztmb3IoVD1jLGc9WU87Zz49MSYmMD09PUFbZ107Zy0tKTtpZihUPmcmJihUPWcpLDA9PT1nKXJldHVybiByW3MrK109MjA5NzE1MjAscltzKytdPTIwOTcxNTIwLGEuYml0cz0xLDA7Zm9yKGY9MTtmPGcmJjA9PT1BW2ZdO2YrKyk7Zm9yKFQ8ZiYmKFQ9ZiksQz0xLEU9MTtFPD1ZTztFKyspaWYoQzw8PTEsQy09QVtFXSxDPDApcmV0dXJuLTE7aWYoQz4wJiYoMD09PWV8fDEhPT1nKSlyZXR1cm4tMTtmb3IoYlsxXT0wLEU9MTtFPFlPO0UrKyliW0UrMV09YltFXStBW0VdO2ZvcihtPTA7bTxuO20rKykwIT09dFtpK21dJiYob1tiW3RbaSttXV0rK109bSk7aWYoMD09PWU/KHk9RD1vLF89MjApOjE9PT1lPyh5PXFPLEQ9Sk8sXz0yNTcpOih5PXpPLEQ9WE8sXz0wKSxJPTAsbT0wLEU9ZixwPXMsUz1ULFI9MCxoPS0xLHY9MTw8VCx1PXYtMSwxPT09ZSYmdj44NTJ8fDI9PT1lJiZ2PjU5MilyZXR1cm4gMTtmb3IoOzspe3c9RS1SLG9bbV0rMTxfPyhPPTAsTj1vW21dKTpvW21dPj1fPyhPPURbb1ttXS1fXSxOPXlbb1ttXS1fXSk6KE89OTYsTj0wKSxkPTE8PEUtUixsPTE8PFMsZj1sO2Rve2wtPWQscltwKyhJPj5SKStsXT13PDwyNHxPPDwxNnxOfDB9d2hpbGUoMCE9PWwpO2ZvcihkPTE8PEUtMTtJJmQ7KWQ+Pj0xO2lmKDAhPT1kPyhJJj1kLTEsSSs9ZCk6ST0wLG0rKywwPT0tLUFbRV0pe2lmKEU9PT1nKWJyZWFrO0U9dFtpK29bbV1dfWlmKEU+VCYmKEkmdSkhPT1oKXtmb3IoMD09PVImJihSPVQpLHArPWYsUz1FLVIsQz0xPDxTO1MrUjxnJiYoQy09QVtTK1JdLCEoQzw9MCkpOylTKyssQzw8PTE7aWYodis9MTw8UywxPT09ZSYmdj44NTJ8fDI9PT1lJiZ2PjU5MilyZXR1cm4gMTtoPUkmdSxyW2hdPVQ8PDI0fFM8PDE2fHAtc3wwfX1yZXR1cm4gMCE9PUkmJihyW3ArSV09RS1SPDwyNHw2NDw8MTZ8MCksYS5iaXRzPVQsMH07Y29uc3R7Wl9GSU5JU0g6Wk8sWl9CTE9DSzokTyxaX1RSRUVTOmVOLFpfT0s6dE4sWl9TVFJFQU1fRU5EOmlOLFpfTkVFRF9ESUNUOm5OLFpfU1RSRUFNX0VSUk9SOnJOLFpfREFUQV9FUlJPUjpzTixaX01FTV9FUlJPUjpvTixaX0JVRl9FUlJPUjphTixaX0RFRkxBVEVEOmNOfT1TdyxkTj0xNjE4MCxsTj0xNjE5MCxoTj0xNjE5MSx1Tj0xNjE5MixwTj0xNjE5NCxfTj0xNjE5OSxFTj0xNjIwMCxtTj0xNjIwNixmTj0xNjIwOSxnTj1lPT4oZT4+PjI0JjI1NSkrKGU+Pj44JjY1MjgwKSsoKDY1MjgwJmUpPDw4KSsoKDI1NSZlKTw8MjQpO2Z1bmN0aW9uIFROKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5tb2RlPTAsdGhpcy5sYXN0PSExLHRoaXMud3JhcD0wLHRoaXMuaGF2ZWRpY3Q9ITEsdGhpcy5mbGFncz0wLHRoaXMuZG1heD0wLHRoaXMuY2hlY2s9MCx0aGlzLnRvdGFsPTAsdGhpcy5oZWFkPW51bGwsdGhpcy53Yml0cz0wLHRoaXMud3NpemU9MCx0aGlzLndoYXZlPTAsdGhpcy53bmV4dD0wLHRoaXMud2luZG93PW51bGwsdGhpcy5ob2xkPTAsdGhpcy5iaXRzPTAsdGhpcy5sZW5ndGg9MCx0aGlzLm9mZnNldD0wLHRoaXMuZXh0cmE9MCx0aGlzLmxlbmNvZGU9bnVsbCx0aGlzLmRpc3Rjb2RlPW51bGwsdGhpcy5sZW5iaXRzPTAsdGhpcy5kaXN0Yml0cz0wLHRoaXMubmNvZGU9MCx0aGlzLm5sZW49MCx0aGlzLm5kaXN0PTAsdGhpcy5oYXZlPTAsdGhpcy5uZXh0PW51bGwsdGhpcy5sZW5zPW5ldyBVaW50MTZBcnJheSgzMjApLHRoaXMud29yaz1uZXcgVWludDE2QXJyYXkoMjg4KSx0aGlzLmxlbmR5bj1udWxsLHRoaXMuZGlzdGR5bj1udWxsLHRoaXMuc2FuZT0wLHRoaXMuYmFjaz0wLHRoaXMud2FzPTB9Y29uc3QgU049ZT0+e2lmKCFlKXJldHVybiAxO2NvbnN0IHQ9ZS5zdGF0ZTtyZXR1cm4hdHx8dC5zdHJtIT09ZXx8dC5tb2RlPGROfHx0Lm1vZGU+MTYyMTE/MTowfSxSTj1lPT57aWYoU04oZSkpcmV0dXJuIHJOO2NvbnN0IHQ9ZS5zdGF0ZTtyZXR1cm4gZS50b3RhbF9pbj1lLnRvdGFsX291dD10LnRvdGFsPTAsZS5tc2c9XCJcIix0LndyYXAmJihlLmFkbGVyPTEmdC53cmFwKSx0Lm1vZGU9ZE4sdC5sYXN0PTAsdC5oYXZlZGljdD0wLHQuZmxhZ3M9LTEsdC5kbWF4PTMyNzY4LHQuaGVhZD1udWxsLHQuaG9sZD0wLHQuYml0cz0wLHQubGVuY29kZT10LmxlbmR5bj1uZXcgSW50MzJBcnJheSg4NTIpLHQuZGlzdGNvZGU9dC5kaXN0ZHluPW5ldyBJbnQzMkFycmF5KDU5MiksdC5zYW5lPTEsdC5iYWNrPS0xLHROfSxDTj1lPT57aWYoU04oZSkpcmV0dXJuIHJOO2NvbnN0IHQ9ZS5zdGF0ZTtyZXR1cm4gdC53c2l6ZT0wLHQud2hhdmU9MCx0LnduZXh0PTAsUk4oZSl9LHZOPShlLHQpPT57bGV0IGk7aWYoU04oZSkpcmV0dXJuIHJOO2NvbnN0IG49ZS5zdGF0ZTtyZXR1cm4gdDwwPyhpPTAsdD0tdCk6KGk9NSsodD4+NCksdDw0OCYmKHQmPTE1KSksdCYmKHQ8OHx8dD4xNSk/ck46KG51bGwhPT1uLndpbmRvdyYmbi53Yml0cyE9PXQmJihuLndpbmRvdz1udWxsKSxuLndyYXA9aSxuLndiaXRzPXQsQ04oZSkpfSxJTj0oZSx0KT0+e2lmKCFlKXJldHVybiByTjtjb25zdCBpPW5ldyBUTjtlLnN0YXRlPWksaS5zdHJtPWUsaS53aW5kb3c9bnVsbCxpLm1vZGU9ZE47Y29uc3Qgbj12TihlLHQpO3JldHVybiBuIT09dE4mJihlLnN0YXRlPW51bGwpLG59O2xldCB5TixBTixiTj0hMDtjb25zdCB3Tj1lPT57aWYoYk4pe3lOPW5ldyBJbnQzMkFycmF5KDUxMiksQU49bmV3IEludDMyQXJyYXkoMzIpO2xldCB0PTA7Zm9yKDt0PDE0NDspZS5sZW5zW3QrK109ODtmb3IoO3Q8MjU2OyllLmxlbnNbdCsrXT05O2Zvcig7dDwyODA7KWUubGVuc1t0KytdPTc7Zm9yKDt0PDI4ODspZS5sZW5zW3QrK109ODtmb3IoUU8oMSxlLmxlbnMsMCwyODgseU4sMCxlLndvcmsse2JpdHM6OX0pLHQ9MDt0PDMyOyllLmxlbnNbdCsrXT01O1FPKDIsZS5sZW5zLDAsMzIsQU4sMCxlLndvcmsse2JpdHM6NX0pLGJOPSExfWUubGVuY29kZT15TixlLmxlbmJpdHM9OSxlLmRpc3Rjb2RlPUFOLGUuZGlzdGJpdHM9NX0sT049KGUsdCxpLG4pPT57bGV0IHI7Y29uc3Qgcz1lLnN0YXRlO3JldHVybiBudWxsPT09cy53aW5kb3cmJihzLndzaXplPTE8PHMud2JpdHMscy53bmV4dD0wLHMud2hhdmU9MCxzLndpbmRvdz1uZXcgVWludDhBcnJheShzLndzaXplKSksbj49cy53c2l6ZT8ocy53aW5kb3cuc2V0KHQuc3ViYXJyYXkoaS1zLndzaXplLGkpLDApLHMud25leHQ9MCxzLndoYXZlPXMud3NpemUpOihyPXMud3NpemUtcy53bmV4dCxyPm4mJihyPW4pLHMud2luZG93LnNldCh0LnN1YmFycmF5KGktbixpLW4rcikscy53bmV4dCksKG4tPXIpPyhzLndpbmRvdy5zZXQodC5zdWJhcnJheShpLW4saSksMCkscy53bmV4dD1uLHMud2hhdmU9cy53c2l6ZSk6KHMud25leHQrPXIscy53bmV4dD09PXMud3NpemUmJihzLnduZXh0PTApLHMud2hhdmU8cy53c2l6ZSYmKHMud2hhdmUrPXIpKSksMH07dmFyIE5OPShlLHQpPT57bGV0IGksbixyLHMsbyxhLGMsZCxsLGgsdSxwLF8sRSxtLGYsZyxULFMsUixDLHYsST0wO2NvbnN0IHk9bmV3IFVpbnQ4QXJyYXkoNCk7bGV0IEEsYjtjb25zdCB3PW5ldyBVaW50OEFycmF5KFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSk7aWYoU04oZSl8fCFlLm91dHB1dHx8IWUuaW5wdXQmJjAhPT1lLmF2YWlsX2luKXJldHVybiByTjtpPWUuc3RhdGUsaS5tb2RlPT09aE4mJihpLm1vZGU9dU4pLG89ZS5uZXh0X291dCxyPWUub3V0cHV0LGM9ZS5hdmFpbF9vdXQscz1lLm5leHRfaW4sbj1lLmlucHV0LGE9ZS5hdmFpbF9pbixkPWkuaG9sZCxsPWkuYml0cyxoPWEsdT1jLHY9dE47ZTpmb3IoOzspc3dpdGNoKGkubW9kZSl7Y2FzZSBkTjppZigwPT09aS53cmFwKXtpLm1vZGU9dU47YnJlYWt9Zm9yKDtsPDE2Oyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aWYoMiZpLndyYXAmJjM1NjE1PT09ZCl7MD09PWkud2JpdHMmJihpLndiaXRzPTE1KSxpLmNoZWNrPTAseVswXT0yNTUmZCx5WzFdPWQ+Pj44JjI1NSxpLmNoZWNrPWd3KGkuY2hlY2sseSwyLDApLGQ9MCxsPTAsaS5tb2RlPTE2MTgxO2JyZWFrfWlmKGkuaGVhZCYmKGkuaGVhZC5kb25lPSExKSwhKDEmaS53cmFwKXx8KCgoMjU1JmQpPDw4KSsoZD4+OCkpJTMxKXtlLm1zZz1cImluY29ycmVjdCBoZWFkZXIgY2hlY2tcIixpLm1vZGU9Zk47YnJlYWt9aWYoKDE1JmQpIT09Y04pe2UubXNnPVwidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2RcIixpLm1vZGU9Zk47YnJlYWt9aWYoZD4+Pj00LGwtPTQsQz04KygxNSZkKSwwPT09aS53Yml0cyYmKGkud2JpdHM9QyksQz4xNXx8Qz5pLndiaXRzKXtlLm1zZz1cImludmFsaWQgd2luZG93IHNpemVcIixpLm1vZGU9Zk47YnJlYWt9aS5kbWF4PTE8PGkud2JpdHMsaS5mbGFncz0wLGUuYWRsZXI9aS5jaGVjaz0xLGkubW9kZT01MTImZD8xNjE4OTpoTixkPTAsbD0wO2JyZWFrO2Nhc2UgMTYxODE6Zm9yKDtsPDE2Oyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aWYoaS5mbGFncz1kLCgyNTUmaS5mbGFncykhPT1jTil7ZS5tc2c9XCJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZFwiLGkubW9kZT1mTjticmVha31pZig1NzM0NCZpLmZsYWdzKXtlLm1zZz1cInVua25vd24gaGVhZGVyIGZsYWdzIHNldFwiLGkubW9kZT1mTjticmVha31pLmhlYWQmJihpLmhlYWQudGV4dD1kPj44JjEpLDUxMiZpLmZsYWdzJiY0Jmkud3JhcCYmKHlbMF09MjU1JmQseVsxXT1kPj4+OCYyNTUsaS5jaGVjaz1ndyhpLmNoZWNrLHksMiwwKSksZD0wLGw9MCxpLm1vZGU9MTYxODI7Y2FzZSAxNjE4Mjpmb3IoO2w8MzI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pLmhlYWQmJihpLmhlYWQudGltZT1kKSw1MTImaS5mbGFncyYmNCZpLndyYXAmJih5WzBdPTI1NSZkLHlbMV09ZD4+PjgmMjU1LHlbMl09ZD4+PjE2JjI1NSx5WzNdPWQ+Pj4yNCYyNTUsaS5jaGVjaz1ndyhpLmNoZWNrLHksNCwwKSksZD0wLGw9MCxpLm1vZGU9MTYxODM7Y2FzZSAxNjE4Mzpmb3IoO2w8MTY7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pLmhlYWQmJihpLmhlYWQueGZsYWdzPTI1NSZkLGkuaGVhZC5vcz1kPj44KSw1MTImaS5mbGFncyYmNCZpLndyYXAmJih5WzBdPTI1NSZkLHlbMV09ZD4+PjgmMjU1LGkuY2hlY2s9Z3coaS5jaGVjayx5LDIsMCkpLGQ9MCxsPTAsaS5tb2RlPTE2MTg0O2Nhc2UgMTYxODQ6aWYoMTAyNCZpLmZsYWdzKXtmb3IoO2w8MTY7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pLmxlbmd0aD1kLGkuaGVhZCYmKGkuaGVhZC5leHRyYV9sZW49ZCksNTEyJmkuZmxhZ3MmJjQmaS53cmFwJiYoeVswXT0yNTUmZCx5WzFdPWQ+Pj44JjI1NSxpLmNoZWNrPWd3KGkuY2hlY2sseSwyLDApKSxkPTAsbD0wfWVsc2UgaS5oZWFkJiYoaS5oZWFkLmV4dHJhPW51bGwpO2kubW9kZT0xNjE4NTtjYXNlIDE2MTg1OmlmKDEwMjQmaS5mbGFncyYmKHA9aS5sZW5ndGgscD5hJiYocD1hKSxwJiYoaS5oZWFkJiYoQz1pLmhlYWQuZXh0cmFfbGVuLWkubGVuZ3RoLGkuaGVhZC5leHRyYXx8KGkuaGVhZC5leHRyYT1uZXcgVWludDhBcnJheShpLmhlYWQuZXh0cmFfbGVuKSksaS5oZWFkLmV4dHJhLnNldChuLnN1YmFycmF5KHMscytwKSxDKSksNTEyJmkuZmxhZ3MmJjQmaS53cmFwJiYoaS5jaGVjaz1ndyhpLmNoZWNrLG4scCxzKSksYS09cCxzKz1wLGkubGVuZ3RoLT1wKSxpLmxlbmd0aCkpYnJlYWsgZTtpLmxlbmd0aD0wLGkubW9kZT0xNjE4NjtjYXNlIDE2MTg2OmlmKDIwNDgmaS5mbGFncyl7aWYoMD09PWEpYnJlYWsgZTtwPTA7ZG97Qz1uW3MrcCsrXSxpLmhlYWQmJkMmJmkubGVuZ3RoPDY1NTM2JiYoaS5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoQykpfXdoaWxlKEMmJnA8YSk7aWYoNTEyJmkuZmxhZ3MmJjQmaS53cmFwJiYoaS5jaGVjaz1ndyhpLmNoZWNrLG4scCxzKSksYS09cCxzKz1wLEMpYnJlYWsgZX1lbHNlIGkuaGVhZCYmKGkuaGVhZC5uYW1lPW51bGwpO2kubGVuZ3RoPTAsaS5tb2RlPTE2MTg3O2Nhc2UgMTYxODc6aWYoNDA5NiZpLmZsYWdzKXtpZigwPT09YSlicmVhayBlO3A9MDtkb3tDPW5bcytwKytdLGkuaGVhZCYmQyYmaS5sZW5ndGg8NjU1MzYmJihpLmhlYWQuY29tbWVudCs9U3RyaW5nLmZyb21DaGFyQ29kZShDKSl9d2hpbGUoQyYmcDxhKTtpZig1MTImaS5mbGFncyYmNCZpLndyYXAmJihpLmNoZWNrPWd3KGkuY2hlY2ssbixwLHMpKSxhLT1wLHMrPXAsQylicmVhayBlfWVsc2UgaS5oZWFkJiYoaS5oZWFkLmNvbW1lbnQ9bnVsbCk7aS5tb2RlPTE2MTg4O2Nhc2UgMTYxODg6aWYoNTEyJmkuZmxhZ3Mpe2Zvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWlmKDQmaS53cmFwJiZkIT09KDY1NTM1JmkuY2hlY2spKXtlLm1zZz1cImhlYWRlciBjcmMgbWlzbWF0Y2hcIixpLm1vZGU9Zk47YnJlYWt9ZD0wLGw9MH1pLmhlYWQmJihpLmhlYWQuaGNyYz1pLmZsYWdzPj45JjEsaS5oZWFkLmRvbmU9ITApLGUuYWRsZXI9aS5jaGVjaz0wLGkubW9kZT1oTjticmVhaztjYXNlIDE2MTg5OmZvcig7bDwzMjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWUuYWRsZXI9aS5jaGVjaz1nTihkKSxkPTAsbD0wLGkubW9kZT1sTjtjYXNlIGxOOmlmKDA9PT1pLmhhdmVkaWN0KXJldHVybiBlLm5leHRfb3V0PW8sZS5hdmFpbF9vdXQ9YyxlLm5leHRfaW49cyxlLmF2YWlsX2luPWEsaS5ob2xkPWQsaS5iaXRzPWwsbk47ZS5hZGxlcj1pLmNoZWNrPTEsaS5tb2RlPWhOO2Nhc2UgaE46aWYodD09PSRPfHx0PT09ZU4pYnJlYWsgZTtjYXNlIHVOOmlmKGkubGFzdCl7ZD4+Pj03JmwsbC09NyZsLGkubW9kZT1tTjticmVha31mb3IoO2w8Mzspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fXN3aXRjaChpLmxhc3Q9MSZkLGQ+Pj49MSxsLT0xLDMmZCl7Y2FzZSAwOmkubW9kZT0xNjE5MzticmVhaztjYXNlIDE6aWYod04oaSksaS5tb2RlPV9OLHQ9PT1lTil7ZD4+Pj0yLGwtPTI7YnJlYWsgZX1icmVhaztjYXNlIDI6aS5tb2RlPTE2MTk2O2JyZWFrO2Nhc2UgMzplLm1zZz1cImludmFsaWQgYmxvY2sgdHlwZVwiLGkubW9kZT1mTn1kPj4+PTIsbC09MjticmVhaztjYXNlIDE2MTkzOmZvcihkPj4+PTcmbCxsLT03Jmw7bDwzMjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWlmKCg2NTUzNSZkKSE9KGQ+Pj4xNl42NTUzNSkpe2UubXNnPVwiaW52YWxpZCBzdG9yZWQgYmxvY2sgbGVuZ3Roc1wiLGkubW9kZT1mTjticmVha31pZihpLmxlbmd0aD02NTUzNSZkLGQ9MCxsPTAsaS5tb2RlPXBOLHQ9PT1lTilicmVhayBlO2Nhc2UgcE46aS5tb2RlPTE2MTk1O2Nhc2UgMTYxOTU6aWYocD1pLmxlbmd0aCxwKXtpZihwPmEmJihwPWEpLHA+YyYmKHA9YyksMD09PXApYnJlYWsgZTtyLnNldChuLnN1YmFycmF5KHMscytwKSxvKSxhLT1wLHMrPXAsYy09cCxvKz1wLGkubGVuZ3RoLT1wO2JyZWFrfWkubW9kZT1oTjticmVhaztjYXNlIDE2MTk2OmZvcig7bDwxNDspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWlmKGkubmxlbj0yNTcrKDMxJmQpLGQ+Pj49NSxsLT01LGkubmRpc3Q9MSsoMzEmZCksZD4+Pj01LGwtPTUsaS5uY29kZT00KygxNSZkKSxkPj4+PTQsbC09NCxpLm5sZW4+Mjg2fHxpLm5kaXN0PjMwKXtlLm1zZz1cInRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzXCIsaS5tb2RlPWZOO2JyZWFrfWkuaGF2ZT0wLGkubW9kZT0xNjE5NztjYXNlIDE2MTk3OmZvcig7aS5oYXZlPGkubmNvZGU7KXtmb3IoO2w8Mzspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWkubGVuc1t3W2kuaGF2ZSsrXV09NyZkLGQ+Pj49MyxsLT0zfWZvcig7aS5oYXZlPDE5OylpLmxlbnNbd1tpLmhhdmUrK11dPTA7aWYoaS5sZW5jb2RlPWkubGVuZHluLGkubGVuYml0cz03LEE9e2JpdHM6aS5sZW5iaXRzfSx2PVFPKDAsaS5sZW5zLDAsMTksaS5sZW5jb2RlLDAsaS53b3JrLEEpLGkubGVuYml0cz1BLmJpdHMsdil7ZS5tc2c9XCJpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXRcIixpLm1vZGU9Zk47YnJlYWt9aS5oYXZlPTAsaS5tb2RlPTE2MTk4O2Nhc2UgMTYxOTg6Zm9yKDtpLmhhdmU8aS5ubGVuK2kubmRpc3Q7KXtmb3IoO0k9aS5sZW5jb2RlW2QmKDE8PGkubGVuYml0cyktMV0sbT1JPj4+MjQsZj1JPj4+MTYmMjU1LGc9NjU1MzUmSSwhKG08PWwpOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aWYoZzwxNilkPj4+PW0sbC09bSxpLmxlbnNbaS5oYXZlKytdPWc7ZWxzZXtpZigxNj09PWcpe2ZvcihiPW0rMjtsPGI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pZihkPj4+PW0sbC09bSwwPT09aS5oYXZlKXtlLm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixpLm1vZGU9Zk47YnJlYWt9Qz1pLmxlbnNbaS5oYXZlLTFdLHA9MysoMyZkKSxkPj4+PTIsbC09Mn1lbHNlIGlmKDE3PT09Zyl7Zm9yKGI9bSszO2w8Yjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWQ+Pj49bSxsLT1tLEM9MCxwPTMrKDcmZCksZD4+Pj0zLGwtPTN9ZWxzZXtmb3IoYj1tKzc7bDxiOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9ZD4+Pj1tLGwtPW0sQz0wLHA9MTErKDEyNyZkKSxkPj4+PTcsbC09N31pZihpLmhhdmUrcD5pLm5sZW4raS5uZGlzdCl7ZS5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsaS5tb2RlPWZOO2JyZWFrfWZvcig7cC0tOylpLmxlbnNbaS5oYXZlKytdPUN9fWlmKGkubW9kZT09PWZOKWJyZWFrO2lmKDA9PT1pLmxlbnNbMjU2XSl7ZS5tc2c9XCJpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2tcIixpLm1vZGU9Zk47YnJlYWt9aWYoaS5sZW5iaXRzPTksQT17Yml0czppLmxlbmJpdHN9LHY9UU8oMSxpLmxlbnMsMCxpLm5sZW4saS5sZW5jb2RlLDAsaS53b3JrLEEpLGkubGVuYml0cz1BLmJpdHMsdil7ZS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXRcIixpLm1vZGU9Zk47YnJlYWt9aWYoaS5kaXN0Yml0cz02LGkuZGlzdGNvZGU9aS5kaXN0ZHluLEE9e2JpdHM6aS5kaXN0Yml0c30sdj1RTygyLGkubGVucyxpLm5sZW4saS5uZGlzdCxpLmRpc3Rjb2RlLDAsaS53b3JrLEEpLGkuZGlzdGJpdHM9QS5iaXRzLHYpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZXMgc2V0XCIsaS5tb2RlPWZOO2JyZWFrfWlmKGkubW9kZT1fTix0PT09ZU4pYnJlYWsgZTtjYXNlIF9OOmkubW9kZT1FTjtjYXNlIEVOOmlmKGE+PTYmJmM+PTI1OCl7ZS5uZXh0X291dD1vLGUuYXZhaWxfb3V0PWMsZS5uZXh0X2luPXMsZS5hdmFpbF9pbj1hLGkuaG9sZD1kLGkuYml0cz1sLEtPKGUsdSksbz1lLm5leHRfb3V0LHI9ZS5vdXRwdXQsYz1lLmF2YWlsX291dCxzPWUubmV4dF9pbixuPWUuaW5wdXQsYT1lLmF2YWlsX2luLGQ9aS5ob2xkLGw9aS5iaXRzLGkubW9kZT09PWhOJiYoaS5iYWNrPS0xKTticmVha31mb3IoaS5iYWNrPTA7ST1pLmxlbmNvZGVbZCYoMTw8aS5sZW5iaXRzKS0xXSxtPUk+Pj4yNCxmPUk+Pj4xNiYyNTUsZz02NTUzNSZJLCEobTw9bCk7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pZihmJiYwPT0oMjQwJmYpKXtmb3IoVD1tLFM9ZixSPWc7ST1pLmxlbmNvZGVbUisoKGQmKDE8PFQrUyktMSk+PlQpXSxtPUk+Pj4yNCxmPUk+Pj4xNiYyNTUsZz02NTUzNSZJLCEoVCttPD1sKTspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWQ+Pj49VCxsLT1ULGkuYmFjays9VH1pZihkPj4+PW0sbC09bSxpLmJhY2srPW0saS5sZW5ndGg9ZywwPT09Zil7aS5tb2RlPTE2MjA1O2JyZWFrfWlmKDMyJmYpe2kuYmFjaz0tMSxpLm1vZGU9aE47YnJlYWt9aWYoNjQmZil7ZS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGVcIixpLm1vZGU9Zk47YnJlYWt9aS5leHRyYT0xNSZmLGkubW9kZT0xNjIwMTtjYXNlIDE2MjAxOmlmKGkuZXh0cmEpe2ZvcihiPWkuZXh0cmE7bDxiOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aS5sZW5ndGgrPWQmKDE8PGkuZXh0cmEpLTEsZD4+Pj1pLmV4dHJhLGwtPWkuZXh0cmEsaS5iYWNrKz1pLmV4dHJhfWkud2FzPWkubGVuZ3RoLGkubW9kZT0xNjIwMjtjYXNlIDE2MjAyOmZvcig7ST1pLmRpc3Rjb2RlW2QmKDE8PGkuZGlzdGJpdHMpLTFdLG09ST4+PjI0LGY9ST4+PjE2JjI1NSxnPTY1NTM1JkksIShtPD1sKTspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWlmKDA9PSgyNDAmZikpe2ZvcihUPW0sUz1mLFI9ZztJPWkuZGlzdGNvZGVbUisoKGQmKDE8PFQrUyktMSk+PlQpXSxtPUk+Pj4yNCxmPUk+Pj4xNiYyNTUsZz02NTUzNSZJLCEoVCttPD1sKTspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWQ+Pj49VCxsLT1ULGkuYmFjays9VH1pZihkPj4+PW0sbC09bSxpLmJhY2srPW0sNjQmZil7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIGNvZGVcIixpLm1vZGU9Zk47YnJlYWt9aS5vZmZzZXQ9ZyxpLmV4dHJhPTE1JmYsaS5tb2RlPTE2MjAzO2Nhc2UgMTYyMDM6aWYoaS5leHRyYSl7Zm9yKGI9aS5leHRyYTtsPGI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pLm9mZnNldCs9ZCYoMTw8aS5leHRyYSktMSxkPj4+PWkuZXh0cmEsbC09aS5leHRyYSxpLmJhY2srPWkuZXh0cmF9aWYoaS5vZmZzZXQ+aS5kbWF4KXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsaS5tb2RlPWZOO2JyZWFrfWkubW9kZT0xNjIwNDtjYXNlIDE2MjA0OmlmKDA9PT1jKWJyZWFrIGU7aWYocD11LWMsaS5vZmZzZXQ+cCl7aWYocD1pLm9mZnNldC1wLHA+aS53aGF2ZSYmaS5zYW5lKXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsaS5tb2RlPWZOO2JyZWFrfXA+aS53bmV4dD8ocC09aS53bmV4dCxfPWkud3NpemUtcCk6Xz1pLnduZXh0LXAscD5pLmxlbmd0aCYmKHA9aS5sZW5ndGgpLEU9aS53aW5kb3d9ZWxzZSBFPXIsXz1vLWkub2Zmc2V0LHA9aS5sZW5ndGg7cD5jJiYocD1jKSxjLT1wLGkubGVuZ3RoLT1wO2Rve3JbbysrXT1FW18rK119d2hpbGUoLS1wKTswPT09aS5sZW5ndGgmJihpLm1vZGU9RU4pO2JyZWFrO2Nhc2UgMTYyMDU6aWYoMD09PWMpYnJlYWsgZTtyW28rK109aS5sZW5ndGgsYy0tLGkubW9kZT1FTjticmVhaztjYXNlIG1OOmlmKGkud3JhcCl7Zm9yKDtsPDMyOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZHw9bltzKytdPDxsLGwrPTh9aWYodS09YyxlLnRvdGFsX291dCs9dSxpLnRvdGFsKz11LDQmaS53cmFwJiZ1JiYoZS5hZGxlcj1pLmNoZWNrPWkuZmxhZ3M/Z3coaS5jaGVjayxyLHUsby11KTptdyhpLmNoZWNrLHIsdSxvLXUpKSx1PWMsNCZpLndyYXAmJihpLmZsYWdzP2Q6Z04oZCkpIT09aS5jaGVjayl7ZS5tc2c9XCJpbmNvcnJlY3QgZGF0YSBjaGVja1wiLGkubW9kZT1mTjticmVha31kPTAsbD0wfWkubW9kZT0xNjIwNztjYXNlIDE2MjA3OmlmKGkud3JhcCYmaS5mbGFncyl7Zm9yKDtsPDMyOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aWYoNCZpLndyYXAmJmQhPT0oNDI5NDk2NzI5NSZpLnRvdGFsKSl7ZS5tc2c9XCJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrXCIsaS5tb2RlPWZOO2JyZWFrfWQ9MCxsPTB9aS5tb2RlPTE2MjA4O2Nhc2UgMTYyMDg6dj1pTjticmVhayBlO2Nhc2UgZk46dj1zTjticmVhayBlO2Nhc2UgMTYyMTA6cmV0dXJuIG9OO2RlZmF1bHQ6cmV0dXJuIHJOfXJldHVybiBlLm5leHRfb3V0PW8sZS5hdmFpbF9vdXQ9YyxlLm5leHRfaW49cyxlLmF2YWlsX2luPWEsaS5ob2xkPWQsaS5iaXRzPWwsKGkud3NpemV8fHUhPT1lLmF2YWlsX291dCYmaS5tb2RlPGZOJiYoaS5tb2RlPG1OfHx0IT09Wk8pKSYmT04oZSxlLm91dHB1dCxlLm5leHRfb3V0LHUtZS5hdmFpbF9vdXQpLGgtPWUuYXZhaWxfaW4sdS09ZS5hdmFpbF9vdXQsZS50b3RhbF9pbis9aCxlLnRvdGFsX291dCs9dSxpLnRvdGFsKz11LDQmaS53cmFwJiZ1JiYoZS5hZGxlcj1pLmNoZWNrPWkuZmxhZ3M/Z3coaS5jaGVjayxyLHUsZS5uZXh0X291dC11KTptdyhpLmNoZWNrLHIsdSxlLm5leHRfb3V0LXUpKSxlLmRhdGFfdHlwZT1pLmJpdHMrKGkubGFzdD82NDowKSsoaS5tb2RlPT09aE4/MTI4OjApKyhpLm1vZGU9PT1fTnx8aS5tb2RlPT09cE4/MjU2OjApLCgwPT09aCYmMD09PXV8fHQ9PT1aTykmJnY9PT10TiYmKHY9YU4pLHZ9LEROPXtpbmZsYXRlUmVzZXQ6Q04saW5mbGF0ZVJlc2V0Mjp2TixpbmZsYXRlUmVzZXRLZWVwOlJOLGluZmxhdGVJbml0OmU9PklOKGUsMTUpLGluZmxhdGVJbml0MjpJTixpbmZsYXRlOk5OLGluZmxhdGVFbmQ6ZT0+e2lmKFNOKGUpKXJldHVybiByTjtsZXQgdD1lLnN0YXRlO3JldHVybiB0LndpbmRvdyYmKHQud2luZG93PW51bGwpLGUuc3RhdGU9bnVsbCx0Tn0saW5mbGF0ZUdldEhlYWRlcjooZSx0KT0+e2lmKFNOKGUpKXJldHVybiByTjtjb25zdCBpPWUuc3RhdGU7cmV0dXJuIDA9PSgyJmkud3JhcCk/ck46KGkuaGVhZD10LHQuZG9uZT0hMSx0Til9LGluZmxhdGVTZXREaWN0aW9uYXJ5OihlLHQpPT57Y29uc3QgaT10Lmxlbmd0aDtsZXQgbixyLHM7cmV0dXJuIFNOKGUpP3JOOihuPWUuc3RhdGUsMCE9PW4ud3JhcCYmbi5tb2RlIT09bE4/ck46bi5tb2RlPT09bE4mJihyPTEscj1tdyhyLHQsaSwwKSxyIT09bi5jaGVjayk/c046KHM9T04oZSx0LGksaSkscz8obi5tb2RlPTE2MjEwLG9OKToobi5oYXZlZGljdD0xLHROKSkpfSxpbmZsYXRlSW5mbzpcInBha28gaW5mbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdClcIn07dmFyIFBOPWZ1bmN0aW9uKCl7dGhpcy50ZXh0PTAsdGhpcy50aW1lPTAsdGhpcy54ZmxhZ3M9MCx0aGlzLm9zPTAsdGhpcy5leHRyYT1udWxsLHRoaXMuZXh0cmFfbGVuPTAsdGhpcy5uYW1lPVwiXCIsdGhpcy5jb21tZW50PVwiXCIsdGhpcy5oY3JjPTAsdGhpcy5kb25lPSExfTtjb25zdCBMTj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHtaX05PX0ZMVVNIOmtOLFpfRklOSVNIOk1OLFpfT0s6VU4sWl9TVFJFQU1fRU5EOnhOLFpfTkVFRF9ESUNUOlZOLFpfU1RSRUFNX0VSUk9SOkZOLFpfREFUQV9FUlJPUjpCTixaX01FTV9FUlJPUjpqTn09U3c7ZnVuY3Rpb24gR04oZSl7dGhpcy5vcHRpb25zPUFPLmFzc2lnbih7Y2h1bmtTaXplOjY1NTM2LHdpbmRvd0JpdHM6MTUsdG86XCJcIn0sZXx8e30pO2NvbnN0IHQ9dGhpcy5vcHRpb25zO3QucmF3JiZ0LndpbmRvd0JpdHM+PTAmJnQud2luZG93Qml0czwxNiYmKHQud2luZG93Qml0cz0tdC53aW5kb3dCaXRzLDA9PT10LndpbmRvd0JpdHMmJih0LndpbmRvd0JpdHM9LTE1KSksISh0LndpbmRvd0JpdHM+PTAmJnQud2luZG93Qml0czwxNil8fGUmJmUud2luZG93Qml0c3x8KHQud2luZG93Qml0cys9MzIpLHQud2luZG93Qml0cz4xNSYmdC53aW5kb3dCaXRzPDQ4JiYwPT0oMTUmdC53aW5kb3dCaXRzKSYmKHQud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgTk8sdGhpcy5zdHJtLmF2YWlsX291dD0wO2xldCBpPUROLmluZmxhdGVJbml0Mih0aGlzLnN0cm0sdC53aW5kb3dCaXRzKTtpZihpIT09VU4pdGhyb3cgbmV3IEVycm9yKFR3W2ldKTtpZih0aGlzLmhlYWRlcj1uZXcgUE4sRE4uaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sdGhpcy5oZWFkZXIpLHQuZGljdGlvbmFyeSYmKFwic3RyaW5nXCI9PXR5cGVvZiB0LmRpY3Rpb25hcnk/dC5kaWN0aW9uYXJ5PU9PLnN0cmluZzJidWYodC5kaWN0aW9uYXJ5KTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1MTi5jYWxsKHQuZGljdGlvbmFyeSkmJih0LmRpY3Rpb25hcnk9bmV3IFVpbnQ4QXJyYXkodC5kaWN0aW9uYXJ5KSksdC5yYXcmJihpPUROLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSx0LmRpY3Rpb25hcnkpLGkhPT1VTikpKXRocm93IG5ldyBFcnJvcihUd1tpXSl9ZnVuY3Rpb24gV04oZSx0KXtjb25zdCBpPW5ldyBHTih0KTtpZihpLnB1c2goZSksaS5lcnIpdGhyb3cgaS5tc2d8fFR3W2kuZXJyXTtyZXR1cm4gaS5yZXN1bHR9R04ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPXRoaXMuc3RybSxuPXRoaXMub3B0aW9ucy5jaHVua1NpemUscj10aGlzLm9wdGlvbnMuZGljdGlvbmFyeTtsZXQgcyxvLGE7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtmb3Iobz10PT09fn50P3Q6ITA9PT10P01OOmtOLFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PUxOLmNhbGwoZSk/aS5pbnB1dD1uZXcgVWludDhBcnJheShlKTppLmlucHV0PWUsaS5uZXh0X2luPTAsaS5hdmFpbF9pbj1pLmlucHV0Lmxlbmd0aDs7KXtmb3IoMD09PWkuYXZhaWxfb3V0JiYoaS5vdXRwdXQ9bmV3IFVpbnQ4QXJyYXkobiksaS5uZXh0X291dD0wLGkuYXZhaWxfb3V0PW4pLHM9RE4uaW5mbGF0ZShpLG8pLHM9PT1WTiYmciYmKHM9RE4uaW5mbGF0ZVNldERpY3Rpb25hcnkoaSxyKSxzPT09VU4/cz1ETi5pbmZsYXRlKGksbyk6cz09PUJOJiYocz1WTikpO2kuYXZhaWxfaW4+MCYmcz09PXhOJiZpLnN0YXRlLndyYXA+MCYmMCE9PWVbaS5uZXh0X2luXTspRE4uaW5mbGF0ZVJlc2V0KGkpLHM9RE4uaW5mbGF0ZShpLG8pO3N3aXRjaChzKXtjYXNlIEZOOmNhc2UgQk46Y2FzZSBWTjpjYXNlIGpOOnJldHVybiB0aGlzLm9uRW5kKHMpLHRoaXMuZW5kZWQ9ITAsITF9aWYoYT1pLmF2YWlsX291dCxpLm5leHRfb3V0JiYoMD09PWkuYXZhaWxfb3V0fHxzPT09eE4pKWlmKFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8pe2xldCBlPU9PLnV0Zjhib3JkZXIoaS5vdXRwdXQsaS5uZXh0X291dCksdD1pLm5leHRfb3V0LWUscj1PTy5idWYyc3RyaW5nKGkub3V0cHV0LGUpO2kubmV4dF9vdXQ9dCxpLmF2YWlsX291dD1uLXQsdCYmaS5vdXRwdXQuc2V0KGkub3V0cHV0LnN1YmFycmF5KGUsZSt0KSwwKSx0aGlzLm9uRGF0YShyKX1lbHNlIHRoaXMub25EYXRhKGkub3V0cHV0Lmxlbmd0aD09PWkubmV4dF9vdXQ/aS5vdXRwdXQ6aS5vdXRwdXQuc3ViYXJyYXkoMCxpLm5leHRfb3V0KSk7aWYocyE9PVVOfHwwIT09YSl7aWYocz09PXhOKXJldHVybiBzPUROLmluZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKHMpLHRoaXMuZW5kZWQ9ITAsITA7aWYoMD09PWkuYXZhaWxfaW4pYnJlYWt9fXJldHVybiEwfSxHTi5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGUpe3RoaXMuY2h1bmtzLnB1c2goZSl9LEdOLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihlKXtlPT09VU4mJihcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oXCJcIik6dGhpcy5yZXN1bHQ9QU8uZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPWUsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ307dmFyIEhOPXtJbmZsYXRlOkdOLGluZmxhdGU6V04saW5mbGF0ZVJhdzpmdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHt9KS5yYXc9ITAsV04oZSx0KX0sdW5nemlwOldOLGNvbnN0YW50czpTd307Y29uc3R7RGVmbGF0ZTpLTixkZWZsYXRlOllOLGRlZmxhdGVSYXc6cU4sZ3ppcDpKTn09V08se0luZmxhdGU6ek4saW5mbGF0ZTpYTixpbmZsYXRlUmF3OlFOLHVuZ3ppcDpaTn09SE47dmFyICROLGVEPVlOLHREPVhOOyFmdW5jdGlvbihlKXtlW2UuT05FX0JZVEU9MF09XCJPTkVfQllURVwiLGVbZS5UV09fQllURT0xXT1cIlRXT19CWVRFXCJ9KCROfHwoJE49e30pKTtjbGFzcyBpRHtjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJfc2VxdWVuY2VcIiwwKSxudSh0aGlzLFwiX3N0YXJ0VGltZVwiLERhdGUubm93KCkpLG51KHRoaXMsXCJpc1VzZU9uZUJ5dGVcIiwhMCl9Z2V0IHN0YXJ0VGltZSgpe2NvbnN0IGU9RGF0ZS5ub3coKS10aGlzLl9zdGFydFRpbWU7cmV0dXJuIGU8TWF0aC5wb3coMiwxNik/ZToodGhpcy5fc3RhcnRUaW1lKz1NYXRoLnBvdygyLDE2KSx0aGlzLnN0YXJ0VGltZSl9Z2V0IHNlcXVlbmNlKCl7cmV0dXJuIHRoaXMuX3NlcXVlbmNlPE1hdGgucG93KDIsMzIpP3RoaXMuX3NlcXVlbmNlKys6KHRoaXMuX3NlcXVlbmNlLT1NYXRoLnBvdygyLDMyKSx0aGlzLnNlcXVlbmNlKX1zZXJpYWxpemUoZSl7Y29uc3QgdD17Y29tbW9uUGFja2V0SGVhZGVyOntsZW5ndGg6MCxyZXNlcnZlZDowLGV4dGVuc2lvbjowLHNlcXVlbmNlOnRoaXMuc2VxdWVuY2V9LGNvbW1vblN0cmVhbUhlYWRlcjp0aGlzLnN0YXJ0VGltZSxleHRlbnNpb246dm9pZCAwLHBheWxvYWQ6ZX07aWYoZS5ieXRlTGVuZ3RoPjEyOCl7Y29uc3QgaT1uZXcgVWludDhBcnJheSg0KTtpLnNldChbMSwwLDAsMF0pO2NvbnN0IG49e2lkOjAsbGVuZ3RoOjQsZGF0YTppLmJ1ZmZlcn0scj17cHJvZmlsZTp0aGlzLmlzVXNlT25lQnl0ZT8wOjEsbGVuZ3RoOnRoaXMuaXNVc2VPbmVCeXRlPzU6NixkYXRhczpbbl19O3QuY29tbW9uUGFja2V0SGVhZGVyLmV4dGVuc2lvbj0xLHQuZXh0ZW5zaW9uPXIsdC5wYXlsb2FkPXRoaXMuY29tcHJlc3MoZSksdC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoPTgrKHQuZXh0ZW5zaW9uLmxlbmd0aCsyKSt0LnBheWxvYWQuYnl0ZUxlbmd0aH1lbHNlIHQuY29tbW9uUGFja2V0SGVhZGVyLmxlbmd0aD04K3QucGF5bG9hZC5ieXRlTGVuZ3RoO2NvbnN0IGk9bmV3IEFycmF5QnVmZmVyKHQuY29tbW9uUGFja2V0SGVhZGVyLmxlbmd0aCksbj1uZXcgVWludDhBcnJheShpKSxyPW5ldyBEYXRhVmlldyhpKTtsZXQgcz0wO2lmKHIuc2V0VWludDE2KHMsdC5jb21tb25QYWNrZXRIZWFkZXIuZXh0ZW5zaW9uPDwxNXx0LmNvbW1vblBhY2tldEhlYWRlci5yZXNlcnZlZDw8MTR8dC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoLCEwKSxzKz0yLHIuc2V0VWludDMyKHMsdC5jb21tb25QYWNrZXRIZWFkZXIuc2VxdWVuY2UsITApLHMrPTQsci5zZXRVaW50MTYocyx0LmNvbW1vblN0cmVhbUhlYWRlciwhMCkscys9Mix0LmV4dGVuc2lvbil7Y29uc3QgZT10aGlzLnNlcmlhbGl6ZUV4dGVuc2lvbih0LmV4dGVuc2lvbik7bi5zZXQobmV3IFVpbnQ4QXJyYXkoZSkscykscys9ZS5ieXRlTGVuZ3RofWlmKG4uc2V0KG5ldyBVaW50OEFycmF5KHQucGF5bG9hZCkscykscys9dC5wYXlsb2FkLmJ5dGVMZW5ndGgscyE9PXQuY29tbW9uUGFja2V0SGVhZGVyLmxlbmd0aCl0aHJvdyBFcnJvcihcInNlcmlhbGl6ZSBlcnJvciFcIik7cmV0dXJuIGl9ZGVzZXJpYWxpemUoZSl7aWYoZS5ieXRlTGVuZ3RoPDQpcmV0dXJuIG5ldyBBcnJheUJ1ZmZlcigwKTtjb25zdCB0PW5ldyBEYXRhVmlldyhlKTtsZXQgaT0wO2NvbnN0IG49dC5nZXRVaW50MTYoaSwhMCk7aSs9Mjtjb25zdCByPSgzMjc2OCZuKT4+MTU7dC5nZXRVaW50MTYoaSsyLCEwKSx0LmdldFVpbnQxNihpLCEwKTtsZXQgcyxvO2lmKGkrPTQsdC5nZXRVaW50MTYoaSwhMCksaSs9MixyKXtvPXRoaXMuZGVzZXJpYWxpemVFeHRlbnNpb24oZS5zbGljZShpKSksaSs9MitvLmxlbmd0aCxzPWUuc2xpY2UoaSk7bGV0IHQ9ITE7aWYoby5kYXRhcy5sZW5ndGg+MCl7Y29uc3QgZT1vLmRhdGFzLmZpbmQoKGU9PjA9PT1lLmlkKSk7aWYoZSl7dD0xPT0oMSZuZXcgRGF0YVZpZXcoZS5kYXRhKS5nZXRVaW50MzIoMCwhMCkpfX1zPXQ/dGhpcy5kZWNvbXByZXNzKHMpOnN9ZWxzZSBzPWUuc2xpY2UoOCk7cmV0dXJuIHN9c2VyaWFsaXplRXh0ZW5zaW9uKGUpe2NvbnN0e3Byb2ZpbGU6dCxsZW5ndGg6aSxkYXRhczpufT1lLHI9bmV3IEFycmF5QnVmZmVyKGkrMikscz1uZXcgVWludDhBcnJheShyKSxvPW5ldyBEYXRhVmlldyhyKTtsZXQgYT0wO2lmKG8uc2V0VWludDgoYSsrLHQpLG8uc2V0VWludDgoYSsrLGkpLG4uZm9yRWFjaCgoZT0+e3Q/KG8uc2V0VWludDgoYSsrLGUuaWQpLG8uc2V0VWludDgoYSsrLGUubGVuZ3RoKSxzLnNldChuZXcgVWludDhBcnJheShlLmRhdGEpLGEpLGErPWUuZGF0YS5ieXRlTGVuZ3RoKTooby5zZXRVaW50OChhKyssZS5pZHxlLmxlbmd0aDw8NCkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZS5kYXRhKSxhKSxhKz1lLmRhdGEuYnl0ZUxlbmd0aCl9KSksYSE9PWkrMil0aHJvdyBFcnJvcihcInNlcmlhbGl6ZSBleHRlbnNpb24gZXJyb3IsIGlzIFwiLmNvbmNhdChhLFwiIT09XCIpLmNvbmNhdChpKzIpKTtyZXR1cm4gcn1kZXNlcmlhbGl6ZUV4dGVuc2lvbihlKXtjb25zdCB0PW5ldyBEYXRhVmlldyhlKTtsZXQgaT0wO2NvbnN0IG49dC5nZXRVaW50OChpKTtpKys7Y29uc3Qgcj10LmdldFVpbnQ4KGkpO2krKztjb25zdCBzPW49PT0kTi5UV09fQllURSxvPVtdLGE9bmV3IERhdGFWaWV3KGUsMik7bGV0IGM9MDtmb3IoO2M8cjspe2xldCBlPTAsdD0wLGk9bmV3IEFycmF5QnVmZmVyKDApO3M/KGU9YS5nZXRVaW50OChjKSxjKyssdD1hLmdldFVpbnQ4KGMpLGMrKyk6KGU9MTUmYS5nZXRVaW50OChjKSx0PWEuZ2V0VWludDgoYyk+PjQsYysrKSx0PjAmJihpPWEuYnVmZmVyLnNsaWNlKGMrMixjKzIrdCksYys9aS5ieXRlTGVuZ3RoKSxvLnB1c2goe2lkOmUsbGVuZ3RoOnQsZGF0YTppfSl9aWYoYyE9PXIpdGhyb3cgRXJyb3IoXCJwYXJzZSBlcnJvclwiKTtyZXR1cm57cHJvZmlsZTpuLGxlbmd0aDpyLGRhdGFzOm99fWRlY29tcHJlc3MoZSl7cmV0dXJuIHREKG5ldyBVaW50OEFycmF5KGUpKX1jb21wcmVzcyhlKXtyZXR1cm4gZUQobmV3IFVpbnQ4QXJyYXkoZSkpfX1jbGFzcyBuRCBleHRlbmRzIGlUe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxudSh0aGlzLFwiX3ZlcnNpb25cIiwxKSxudSh0aGlzLFwiX3R5cGVcIiwzKSxudSh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIl9vcmlnaW5EYXRhQ2hhbm5lbFwiLHZvaWQgMCksbnUodGhpcyxcIl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyXCIsbmV3IEFycmF5QnVmZmVyKDQpKSxudSh0aGlzLFwiX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyXCIsdm9pZCAwKSxudSh0aGlzLFwiX2RhdGFjaGFubmVsRXZlbnRNYXBcIixuZXcgTWFwKSx0aGlzLl9jb25maWc9ZSx0JiYodGhpcy5fb3JpZ2luRGF0YUNoYW5uZWw9dCx0aGlzLl9iYW5kRGF0YUNoYW5uZWxFdmVudHModCkpLHRoaXMuX2luaXRQYWNrZXRIZWFkZXIoKSx0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGFuZGxlcj1uZXcgaUR9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5pZH1nZXQgb3JkZXJlZCgpe3JldHVybiB0aGlzLl9jb25maWcub3JkZXJlZH1nZXQgbWF4UmV0cmFuc21pdHMoKXtyZXR1cm4ga0MoXCJEQVRBU1RSRUFNX01BWF9SRVRSQU5TTUlUU1wiKX1nZXQgbWV0YWRhdGEoKXtyZXR1cm4gdGhpcy5fY29uZmlnLm1ldGFkYXRhfWdldCByZWFkeVN0YXRlKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVhZHlTdGF0ZSkmJnZvaWQgMCE9PWU/ZTpcImNvbm5lY3RpbmdcIn1nZXQgX29yaWdpbkRhdGFDaGFubmVsSWQoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pZCkmJnZvaWQgMCE9PWU/ZTpudWxsfWdldENoYW5uZWxJZCgpe3JldHVybiB0aGlzLmlkfWdldENvbmZpZygpe3JldHVybiB0aGlzLl9jb25maWd9X2Nsb3NlKCl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJih0aGlzLl91bmJpbmREYXRhQ2hhbm5lbEV2ZW50cyh0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCksdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWw9dm9pZCAwKX1hc3luYyBfd2FpdFRpbGxPcGVuKCl7cmV0dXJuIG5ldyB0ZygoKGUsdCk9PntpZih0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCl7XCJvcGVuXCI9PT10aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5yZWFkeVN0YXRlJiZlKCk7Y29uc3QgaT1zZXRUaW1lb3V0KCgoKT0+e3ZhciBlO3QobmV3IFZnKHhnLkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVCxcIkNhbm5vdCBjcmVhdGUgZGF0YWNoYW5uZWwsIGlkOiBcIi5jb25jYXQobnVsbD09PShlPXRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pZCkpKX0pLDFlNCk7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwub25vcGVuPSgpPT57Y2xlYXJUaW1lb3V0KGkpLHRoaXMuX29yaWdpbkRhdGFDaGFubmVsJiZ0aGlzLl9iYW5kRGF0YUNoYW5uZWxFdmVudHModGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpLGUoKX0sdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwub25lcnJvcj0oKT0+e3Rocm93IGNsZWFyVGltZW91dChpKSxuZXcgVmcoeGcuREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUKX19ZWxzZSB0KG5ldyBWZyh4Zy5EQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVQsXCJjYW5ub3QgZmluZCBkYXRhQ2hhbm5lbFwiKSl9KSl9X3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGUpe3RoaXMuX29yaWdpbkRhdGFDaGFubmVsPWUsdGhpcy5fYmFuZERhdGFDaGFubmVsRXZlbnRzKGUpfV9pbml0UGFja2V0SGVhZGVyKCl7Y29uc3QgZT1uZXcgRGF0YVZpZXcodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlcik7ZS5zZXRVaW50MTYoMCx0aGlzLl92ZXJzaW9uKSxlLnNldFVpbnQ4KDIsdGhpcy5fdHlwZSksZS5zZXRVaW50OCgzLHRoaXMuX2NvbmZpZy5pZCl9X2JhbmREYXRhQ2hhbm5lbEV2ZW50cyhlKXt0aGlzLl91bmJpbmREYXRhQ2hhbm5lbEV2ZW50cyhlKSxbZUEuT1BFTixlQS5DTE9TRSxlQS5FUlJPUl0uZm9yRWFjaCgodD0+e2NvbnN0IGk9KCk9Pnt0aGlzLmVtaXQodCl9O3RoaXMuX2RhdGFjaGFubmVsRXZlbnRNYXAuc2V0KHQsaSksZS5hZGRFdmVudExpc3RlbmVyKHQsaSl9KSl9X3VuYmluZERhdGFDaGFubmVsRXZlbnRzKGUpe0FycmF5LmZyb20odGhpcy5fZGF0YWNoYW5uZWxFdmVudE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKHQ9PntsZXRbaSxuXT10O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLG4pfSkpLHRoaXMuX2RhdGFjaGFubmVsRXZlbnRNYXAuY2xlYXIoKX19Y2xhc3MgckQgZXh0ZW5kcyBuRHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxudSh0aGlzLFwiX21lc3NhZ2VMaXN0ZW5lclwiLHZvaWQgMCksdGhpcy5fbWVzc2FnZUxpc3RlbmVyPWU9PntpZihlLmRhdGEuYnl0ZUxlbmd0aDx0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpdGhyb3cgRXJyb3IoXCJpbnZhbGlkIGJ5dGVMZW5ndGg6IHRoZSBieXRlIGxlbmd0aCBtdXN0IGV4Y2VlZCBcIit0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpO2NvbnN0IHQ9ZS5kYXRhLnNsaWNlKDAsdGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoKTtpZihuZXcgRGF0YVZpZXcodCkuZ2V0VWludDgoMykhPT10aGlzLmlkKXJldHVybjtsZXQgaT1lLmRhdGEuc2xpY2UodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoKTtpPXRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyLmRlc2VyaWFsaXplKGkpLHRoaXMuZW1pdChlQS5NRVNTQUdFLGkpfX1fdXBkYXRlT3JpZ2luRGF0YUNoYW5uZWwoZSl7c3VwZXIuX3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGUpLHRoaXMuX2JhbmRSZW1vdGVEYXRhQ2hhbm5lbEV2ZW50cygpfV9jbG9zZSgpe3RoaXMuX29yaWdpbkRhdGFDaGFubmVsJiYodGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLl9tZXNzYWdlTGlzdGVuZXIpLHN1cGVyLl9jbG9zZSgpKX1fYmFuZFJlbW90ZURhdGFDaGFubmVsRXZlbnRzKCl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJnRoaXMuX29yaWdpbkRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5fbWVzc2FnZUxpc3RlbmVyKX19Y2xhc3Mgc0QgZXh0ZW5kcyBuRHtzZW5kKGUpe2lmKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXtsZXQgdD1lO3Q9dGhpcy5fZGF0YVN0cmVhbVBhY2tldEhhbmRsZXIuc2VyaWFsaXplKGUpO2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoK3QuYnl0ZUxlbmd0aCk7aS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlciksMCksaS5zZXQobmV3IFVpbnQ4QXJyYXkodCksdGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoKSx0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5zZW5kKGkuYnVmZmVyKX19fWNsYXNzIG9EIGV4dGVuZHMgaVR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLG51KHRoaXMsXCJyZXN1bHRTdG9yYWdlXCIsbmV3IE1hcCl9c2V0TG9jYWxBdWRpb1N0YXRzKGUsdCxpKXt0aGlzLnJlY29yZChcIkFVRElPX0lOUFVUX0xFVkVMX1RPT19MT1dcIixlLHRoaXMuY2hlY2tBdWRpb0lucHV0TGV2ZWwoaSx0KSksdGhpcy5yZWNvcmQoXCJTRU5EX0FVRElPX0JJVFJBVEVfVE9PX0xPV1wiLGUsdGhpcy5jaGVja1NlbmRBdWRpb0JpdHJhdGUoaSx0KSl9c2V0TG9jYWxWaWRlb1N0YXRzKGUsdCxpKXt0aGlzLnJlY29yZChcIlNFTkRfVklERU9fQklUUkFURV9UT09fTE9XXCIsZSx0aGlzLmNoZWNrU2VuZFZpZGVvQml0cmF0ZShpLHQpKSx0aGlzLnJlY29yZChcIkZSQU1FUkFURV9JTlBVVF9UT09fTE9XXCIsZSx0aGlzLmNoZWNrRnJhbWVyYXRlSW5wdXQoaSx0KSksdGhpcy5yZWNvcmQoXCJGUkFNRVJBVEVfU0VOVF9UT09fTE9XXCIsZSx0aGlzLmNoZWNrRnJhbWVyYXRlU2VudChpKSl9c2V0UmVtb3RlQXVkaW9TdGF0cyhlLHQpe2NvbnN0IGk9ZS5nZXRVc2VySWQoKTt0aGlzLnJlY29yZChcIkFVRElPX09VVFBVVF9MRVZFTF9UT09fTE9XXCIsaSx0aGlzLmNoZWNrQXVkaW9PdXRwdXRMZXZlbCh0KSl9c2V0UmVtb3RlVmlkZW9TdGF0cyhlLHQpe2NvbnN0IGk9ZS5nZXRVc2VySWQoKTt0aGlzLnJlY29yZChcIlJFQ1ZfVklERU9fREVDT0RFX0ZBSUxFRFwiLGksdGhpcy5jaGVja1ZpZGVvRGVjb2RlKHQpKX1yZWNvcmQoZSx0LGkpe2lmKGtDKFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpPjUwMClyZXR1cm47dGhpcy5yZXN1bHRTdG9yYWdlLmhhcyhlKXx8dGhpcy5yZXN1bHRTdG9yYWdlLnNldChlLHtyZXN1bHQ6W10saXNQcmV2Tm9ybWFsOiEwfSk7Y29uc3Qgbj10aGlzLnJlc3VsdFN0b3JhZ2UuZ2V0KGUpO2lmKG4mJihuLnJlc3VsdC5wdXNoKGkpLG4ucmVzdWx0Lmxlbmd0aD49NSkpe3ZhciByO2NvbnN0IGk9UHIocj1uLnJlc3VsdCkuY2FsbChyLCEwKTtuLmlzUHJldk5vcm1hbCYmIWkmJnRoaXMuZW1pdChcImV4Y2VwdGlvblwiLGFEW2VdLGUsdCksIW4uaXNQcmV2Tm9ybWFsJiZpJiZ0aGlzLmVtaXQoXCJleGNlcHRpb25cIixhRFtlXSsyZTMsZStcIl9SRUNPVkVSXCIsdCksbi5pc1ByZXZOb3JtYWw9aSxuLnJlc3VsdD1bXX19Y2hlY2tBdWRpb091dHB1dExldmVsKGUpe3JldHVybiEoZS5yZWNlaXZlQml0cmF0ZT4wJiYwPT09ZS5yZWNlaXZlTGV2ZWwpfWNoZWNrQXVkaW9JbnB1dExldmVsKGUsdCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB0YiYmIXQuaXNBY3RpdmV8fCghIXQubXV0ZWR8fDAhPT1lLnNlbmRWb2x1bWVMZXZlbCl9Y2hlY2tGcmFtZXJhdGVJbnB1dChlLHQpe2xldCBpPW51bGw7dC5fZW5jb2RlckNvbmZpZyYmdC5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGUmJihpPW1EKHQuX2VuY29kZXJDb25maWcuZnJhbWVSYXRlKSk7Y29uc3Qgbj1lLmNhcHR1cmVGcmFtZVJhdGU7cmV0dXJuIWl8fCFufHwhKGk+MTAmJm48NXx8aTwxMCYmaT49NSYmbjw9MSl9Y2hlY2tGcmFtZXJhdGVTZW50KGUpe3JldHVybiEoZS5jYXB0dXJlRnJhbWVSYXRlJiZlLnNlbmRGcmFtZVJhdGUmJmUuY2FwdHVyZUZyYW1lUmF0ZT41JiZlLnNlbmRGcmFtZVJhdGU8PTEpfWNoZWNrU2VuZFZpZGVvQml0cmF0ZShlLHQpe3JldHVybiEhdC5tdXRlZHx8MCE9PWUuc2VuZEJpdHJhdGV9Y2hlY2tTZW5kQXVkaW9CaXRyYXRlKGUsdCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB0YiYmIXQuaXNBY3RpdmV8fCghIXQubXV0ZWR8fDAhPT1lLnNlbmRCaXRyYXRlKX1jaGVja1ZpZGVvRGVjb2RlKGUpe3JldHVybiAwPT09ZS5yZWNlaXZlQml0cmF0ZXx8MCE9PWUuZGVjb2RlRnJhbWVSYXRlfX1jb25zdCBhRD17RlJBTUVSQVRFX0lOUFVUX1RPT19MT1c6MTAwMSxGUkFNRVJBVEVfU0VOVF9UT09fTE9XOjEwMDIsU0VORF9WSURFT19CSVRSQVRFX1RPT19MT1c6MTAwMyxSRUNWX1ZJREVPX0RFQ09ERV9GQUlMRUQ6MTAwNSxBVURJT19JTlBVVF9MRVZFTF9UT09fTE9XOjIwMDEsQVVESU9fT1VUUFVUX0xFVkVMX1RPT19MT1c6MjAwMixTRU5EX0FVRElPX0JJVFJBVEVfVE9PX0xPVzoyMDAzfTtjb25zdCBjRD1uZXcgY2xhc3N7bWFya1N1YnNjcmliZVN0YXJ0KGUsdCl7cGVyZm9ybWFuY2UubWFyayhcImFnb3JhLXdlYi1zZGsvXCIuY29uY2F0KGUsXCIvc3Vic2NyaWJlLVwiKS5jb25jYXQodCkpfW1hcmtQdWJsaXNoU3RhcnQoZSx0KXtwZXJmb3JtYW5jZS5tYXJrKFwiYWdvcmEtd2ViLXNkay9cIi5jb25jYXQoZSxcIi9wdWJsaXNoLVwiKS5jb25jYXQodCkpfW1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQoZSx0KXtjb25zdCBpPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoXCJhZ29yYS13ZWItc2RrL1wiLmNvbmNhdChlLFwiL3N1YnNjcmliZS1cIikuY29uY2F0KHQpKTtpZihpLmxlbmd0aD4wKXtjb25zdCBlPWlbaS5sZW5ndGgtMV07cmV0dXJuIE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCktZS5zdGFydFRpbWUpfXJldHVybiAwfW1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KGUsdCl7Y29uc3QgaT1wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKFwiYWdvcmEtd2ViLXNkay9cIi5jb25jYXQoZSxcIi9wdWJsaXNoLVwiKS5jb25jYXQodCkpO2lmKGkubGVuZ3RoPjApe2NvbnN0IGU9aVtpLmxlbmd0aC0xXTtyZXR1cm4gTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS1lLnN0YXJ0VGltZSl9cmV0dXJuIDB9fTtmdW5jdGlvbiBkRChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gbEQoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/ZEQoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6ZEQoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgaER7Y29uc3RydWN0b3IoZSl7bnUodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxudSh0aGlzLFwib25TdGF0c0V4Y2VwdGlvblwiLHZvaWQgMCksbnUodGhpcyxcIm9uVXBsb2FkUHVibGlzaER1cmF0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwib25TdGF0c0NoYW5nZWRcIix2b2lkIDApLG51KHRoaXMsXCJsb2NhbFN0YXRzXCIsbmV3IE1hcCksbnUodGhpcyxcInJlbW90ZVN0YXRzXCIsbmV3IE1hcCksbnUodGhpcyxcInVwZGF0ZVN0YXRzSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJ0cmFmZmljU3RhdHNcIix2b2lkIDApLG51KHRoaXMsXCJ0cmFmZmljU3RhdHNQZWVyTGlzdFwiLFtdKSxudSh0aGlzLFwidXBsaW5rU3RhdHNcIix2b2lkIDApLG51KHRoaXMsXCJleGNlcHRpb25Nb25pdG9yXCIsdm9pZCAwKSxudSh0aGlzLFwicDJwQ2hhbm5lbFwiLHZvaWQgMCksbnUodGhpcyxcInNjYWxhYmlsaXR5TW9kZVwiLGx2LkwxVDEpLG51KHRoaXMsXCJ1cGRhdGVTdGF0c1wiLCgoKT0+e3RoaXMucDJwQ2hhbm5lbCYmKHRoaXMudXBkYXRlUmVtb3RlU3RhdHModGhpcy5wMnBDaGFubmVsKSx0aGlzLnVwZGF0ZUxvY2FsU3RhdHModGhpcy5wMnBDaGFubmVsKSl9KSksdGhpcy5zdG9yZT1lLHRoaXMudXBkYXRlU3RhdHNJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVTdGF0cywxZTMpLHRoaXMuZXhjZXB0aW9uTW9uaXRvcj1uZXcgb0QsdGhpcy5leGNlcHRpb25Nb25pdG9yLm9uKFwiZXhjZXB0aW9uXCIsKChlLHQsaSk9Pnt0aGlzLm9uU3RhdHNFeGNlcHRpb24mJnRoaXMub25TdGF0c0V4Y2VwdGlvbihlLHQsaSl9KSl9cmVzZXQoKXt0aGlzLmxvY2FsU3RhdHM9bmV3IE1hcCx0aGlzLnJlbW90ZVN0YXRzPW5ldyBNYXAsdGhpcy50cmFmZmljU3RhdHM9dm9pZCAwLHRoaXMudHJhZmZpY1N0YXRzUGVlckxpc3Q9W10sdGhpcy51cGxpbmtTdGF0cz12b2lkIDB9Z2V0TG9jYWxBdWRpb1RyYWNrU3RhdHMoKXtyZXR1cm4gdGhpcy5sb2NhbFN0YXRzLmdldChfSS5Mb2NhbEF1ZGlvVHJhY2spfHxsRCh7fSxXeSl9Z2V0TG9jYWxWaWRlb1RyYWNrU3RhdHMoKXtyZXR1cm4gdGhpcy5sb2NhbFN0YXRzLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spfHxsRCh7fSxIeSl9Z2V0UmVtb3RlQXVkaW9UcmFja1N0YXRzKGUpe2NvbnN0IHQ9KGUsdCk9PntpZighdGhpcy50cmFmZmljU3RhdHMpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLnRyYWZmaWNTdGF0cy5wZWVyX2RlbGF5LmZpbmQoKHQ9PnQucGVlcl91aWQ9PT1lKSk7cmV0dXJuIGkmJih0LnB1Ymxpc2hEdXJhdGlvbj1pLkJfcHBhZCsoRGF0ZS5ub3coKS10aGlzLnRyYWZmaWNTdGF0cy50aW1lc3RhbXApKSx0fSxpPXt9O2lmKGUpe3ZhciBuO2NvbnN0IHI9bnVsbD09PShuPXRoaXMucmVtb3RlU3RhdHMuZ2V0KGUpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hdWRpb1N0YXRzO3ImJihpW2VdPXQoZSxyKSl9ZWxzZSBBcnJheS5mcm9tKHRoaXMucmVtb3RlU3RhdHMuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W24se2F1ZGlvU3RhdHM6cn1dPWU7ciYmKGlbbl09dChuLHIpKX0pKTtyZXR1cm4gaX1nZXRSZW1vdGVOZXR3b3JrUXVhbGl0eVN0YXRzKGUpe2NvbnN0IHQ9e307aWYoZSl7dmFyIGk7Y29uc3Qgbj1udWxsPT09KGk9dGhpcy5yZW1vdGVTdGF0cy5nZXQoZSkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLm5ldHdvcmtTdGF0cztuJiYodFtlXT1uKX1lbHNlIEFycmF5LmZyb20odGhpcy5yZW1vdGVTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbaSx7bmV0d29ya1N0YXRzOm59XT1lO24mJih0W2ldPW4pfSkpO3JldHVybiB0fWdldFJlbW90ZVZpZGVvVHJhY2tTdGF0cyhlKXtjb25zdCB0PShlLHQpPT57aWYoIXRoaXMudHJhZmZpY1N0YXRzKXJldHVybiB0O2NvbnN0IGk9dGhpcy50cmFmZmljU3RhdHMucGVlcl9kZWxheS5maW5kKCh0PT50LnBlZXJfdWlkPT09ZSkpO3JldHVybiBpJiYodC5wdWJsaXNoRHVyYXRpb249aS5CX3BwdmQrKERhdGUubm93KCktdGhpcy50cmFmZmljU3RhdHMudGltZXN0YW1wKSksdH0saT17fTtpZihlKXt2YXIgbjtjb25zdCByPW51bGw9PT0obj10aGlzLnJlbW90ZVN0YXRzLmdldChlKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udmlkZW9TdGF0cztyJiYoaVtlXT10KGUscikpfWVsc2UgQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFtuLHt2aWRlb1N0YXRzOnJ9XT1lO3ImJihpW25dPXQobixyKSl9KSk7cmV0dXJuIGl9Z2V0UlRDU3RhdHMoKXtsZXQgZT0wLHQ9MCxpPTAsbj0wO2NvbnN0IHI9dGhpcy5sb2NhbFN0YXRzLmdldChfSS5Mb2NhbEF1ZGlvVHJhY2spO3ImJihlKz1yLnNlbmRCeXRlcyx0Kz1yLnNlbmRCaXRyYXRlKTtjb25zdCBzPXRoaXMubG9jYWxTdGF0cy5nZXQoX0kuTG9jYWxWaWRlb1RyYWNrKTtzJiYoZSs9cy5zZW5kQnl0ZXMsdCs9cy5zZW5kQml0cmF0ZSk7Y29uc3Qgbz10aGlzLmxvY2FsU3RhdHMuZ2V0KF9JLkxvY2FsVmlkZW9Mb3dUcmFjayk7byYmKGUrPW8uc2VuZEJ5dGVzLHQrPW8uc2VuZEJpdHJhdGUpLHRoaXMucmVtb3RlU3RhdHMuZm9yRWFjaCgoZT0+e2xldHthdWRpb1N0YXRzOnQsdmlkZW9TdGF0czpyfT1lO3QmJihpKz10LnJlY2VpdmVCeXRlcyxuKz10LnJlY2VpdmVCaXRyYXRlKSxyJiYoaSs9ci5yZWNlaXZlQnl0ZXMsbis9ci5yZWNlaXZlQml0cmF0ZSl9KSk7bGV0IGE9MTtyZXR1cm4gdGhpcy50cmFmZmljU3RhdHMmJihhKz10aGlzLnRyYWZmaWNTdGF0cy5wZWVyX2RlbGF5Lmxlbmd0aCkse0R1cmF0aW9uOjAsVXNlckNvdW50OmEsU2VuZEJpdHJhdGU6dCxTZW5kQnl0ZXM6ZSxSZWN2Qnl0ZXM6aSxSZWN2Qml0cmF0ZTpuLE91dGdvaW5nQXZhaWxhYmxlQmFuZHdpZHRoOnRoaXMudXBsaW5rU3RhdHM/dGhpcy51cGxpbmtTdGF0cy5CX3VhYi8xZTM6MCxSVFQ6dGhpcy50cmFmZmljU3RhdHM/Mip0aGlzLnRyYWZmaWNTdGF0cy5CX2FjZDowfX1hZGRMb2NhbFN0YXRzKGUpe3RoaXMubG9jYWxTdGF0cy5zZXQoZSx2b2lkIDApfXJlbW92ZUxvY2FsU3RhdHMoZSl7ZT90aGlzLmxvY2FsU3RhdHMuZGVsZXRlKGUpOnRoaXMubG9jYWxTdGF0cy5jbGVhcigpfWFkZFJlbW90ZVN0YXRzKGUpe3RoaXMucmVtb3RlU3RhdHMuc2V0KGUse30pfXJlbW92ZVJlbW90ZVN0YXRzKGUpe2U/dGhpcy5yZW1vdGVTdGF0cy5kZWxldGUoZSk6dGhpcy5yZW1vdGVTdGF0cy5jbGVhcigpfWFkZFAyUENoYW5uZWwoZSl7dGhpcy5wMnBDaGFubmVsPWV9dXBkYXRlVHJhZmZpY1N0YXRzKGUpe2UucGVlcl9kZWxheT1lLnBlZXJfZGVsYXkuZmlsdGVyKChlPT52b2lkIDAhPT1lLkJfcHBhZHx8dm9pZCAwIT09ZS5CX3BwdmQpKTtlLnBlZXJfZGVsYXkuZmlsdGVyKChlPT4tMT09PXRoaXMudHJhZmZpY1N0YXRzUGVlckxpc3QuaW5kZXhPZihlLnBlZXJfdWlkKSkpLmZvckVhY2goKGU9Pnt2YXIgdDtjb25zdCBpPW51bGw9PT0odD10aGlzLnAycENoYW5uZWwpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFJlbW90ZU1lZGlhKGUucGVlcl91aWQpLG49bnVsbCE9aSYmaS52aWRlb1NTUkM/Y0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGkudmlkZW9TU1JDKTowLHI9bnVsbCE9aSYmaS5hdWRpb1NTUkM/Y0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGkuYXVkaW9TU1JDKTowO3ZvaWQgMCE9PWUuQl9wcGFkJiZ2b2lkIDAhPT1lLkJfcHB2ZCYmKHRoaXMub25VcGxvYWRQdWJsaXNoRHVyYXRpb24mJnRoaXMub25VcGxvYWRQdWJsaXNoRHVyYXRpb24oZS5wZWVyX3VpZCxlLkJfcHBhZCxlLkJfcHB2ZCxuPnI/bjpyKSx0aGlzLnRyYWZmaWNTdGF0c1BlZXJMaXN0LnB1c2goZS5wZWVyX3VpZCkpfSkpLHRoaXMudHJhZmZpY1N0YXRzPWV9dXBkYXRlVXBsaW5rU3RhdHMoZSl7dGhpcy51cGxpbmtTdGF0cyYmdGhpcy51cGxpbmtTdGF0cy5CX2ZpciE9PWUuQl9maXImJktDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXTogUGVyaW9kIGZpciBjaGFuZ2VzIHRvIFwiKS5jb25jYXQoZS5CX2ZpcikpLHRoaXMudXBsaW5rU3RhdHM9ZX1zdGF0aWMgaXNSZW1vdGVWaWRlb0ZyZWV6ZShlLHQsaSl7aWYoIWUpcmV0dXJuITE7Y29uc3Qgbj0hIWkmJnQuZnJhbWVzRGVjb2RlRnJlZXplVGltZT5pLmZyYW1lc0RlY29kZUZyZWV6ZVRpbWUscj0haXx8dC5mcmFtZXNEZWNvZGVDb3VudD5pLmZyYW1lc0RlY29kZUNvdW50O3JldHVybiBufHwhcn1zdGF0aWMgaXNSZW1vdGVBdWRpb0ZyZWV6ZShlKXtyZXR1cm4hIWUmJmUuX2lzRnJlZXplKCl9aXNMb2NhbFZpZGVvRnJlZXplKGUpe3JldHVybiEoIWUuaW5wdXRGcmFtZXx8IWUuc2VudEZyYW1lKSYmKGUuaW5wdXRGcmFtZS5mcmFtZVJhdGU+NSYmZS5zZW50RnJhbWUuZnJhbWVSYXRlPDMpfXVwZGF0ZUxvY2FsU3RhdHMoZSl7QXJyYXkuZnJvbSh0aGlzLmxvY2FsU3RhdHMuZW50cmllcygpKS5mb3JFYWNoKCh0PT57bGV0W2ksbl09dDtzd2l0Y2goaSl7Y2FzZSBfSS5Mb2NhbFZpZGVvVHJhY2s6Y2FzZSBfSS5Mb2NhbFZpZGVvTG93VHJhY2s6e2NvbnN0IHQ9bixzPWxEKHt9LEh5KSxvPWUuZ2V0U3RhdHMoKSxhPWUuZ2V0TG9jYWxNZWRpYShpKTtpZihvKXtjb25zdCBpPW8udmlkZW9TZW5kLmZpbmQoKGU9PmUuc3NyYz09PShudWxsPT1hP3ZvaWQgMDphLnNzcmNzWzBdLnNzcmNJZCkpKTtpZihpKXtjb25zdCBuPWUuZ2V0TG9jYWxWaWRlb1NpemUoKSxyPWUuZ2V0RW5jb2RlckNvbmZpZyhfSS5Mb2NhbFZpZGVvVHJhY2spO1wiSDI2NFwiIT09aS5jb2RlYyYmXCJIMjY1XCIhPT1pLmNvZGVjJiZcIlZQOFwiIT09aS5jb2RlYyYmXCJWUDlcIiE9PWkuY29kZWMmJlwiQVYxWFwiIT09aS5jb2RlYyYmXCJBVjFcIiE9PWkuY29kZWN8fChzLmNvZGVjVHlwZT1pLmNvZGVjKSxzLnNlbmRCeXRlcz1pLmJ5dGVzLHMuc2VuZEJpdHJhdGU9dD84Kk1hdGgubWF4KDAscy5zZW5kQnl0ZXMtdC5zZW5kQnl0ZXMpOjAsaS5pbnB1dEZyYW1lPyhzLmNhcHR1cmVGcmFtZVJhdGU9aS5pbnB1dEZyYW1lLmZyYW1lUmF0ZSxzLmNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0PWkuaW5wdXRGcmFtZS5oZWlnaHQscy5jYXB0dXJlUmVzb2x1dGlvbldpZHRoPWkuaW5wdXRGcmFtZS53aWR0aCk6biYmKHMuY2FwdHVyZVJlc29sdXRpb25XaWR0aD1uLndpZHRoLHMuY2FwdHVyZVJlc29sdXRpb25IZWlnaHQ9bi5oZWlnaHQpLGkuc2VudEZyYW1lPyhzLnNlbmRGcmFtZVJhdGU9aS5zZW50RnJhbWUuZnJhbWVSYXRlLHMuc2VuZFJlc29sdXRpb25IZWlnaHQ9aS5zZW50RnJhbWUuaGVpZ2h0LHMuc2VuZFJlc29sdXRpb25XaWR0aD1pLnNlbnRGcmFtZS53aWR0aCk6biYmKHMuc2VuZFJlc29sdXRpb25XaWR0aD1uLndpZHRoLHMuc2VuZFJlc29sdXRpb25IZWlnaHQ9bi5oZWlnaHQpLGkuYXZnRW5jb2RlTXMmJihzLmVuY29kZURlbGF5PWkuYXZnRW5jb2RlTXMpLHImJnIuYml0cmF0ZU1heCYmKHMudGFyZ2V0U2VuZEJpdHJhdGU9MWUzKnIuYml0cmF0ZU1heCkscy5zZW5kUGFja2V0cz1pLnBhY2tldHMscy5zZW5kUGFja2V0c0xvc3Q9aS5wYWNrZXRzTG9zdCxzLnNlbmRKaXR0ZXJNcz1pLmppdHRlck1zLHMuc2VuZFJ0dE1zPWkucnR0TXMscy50b3RhbER1cmF0aW9uPXQ/dC50b3RhbER1cmF0aW9uKzE6MSxzLnRvdGFsRnJlZXplVGltZT10P3QudG90YWxGcmVlemVUaW1lOjAsdGhpcy5pc0xvY2FsVmlkZW9GcmVlemUoaSkmJihzLnRvdGFsRnJlZXplVGltZSs9MSksaS5zY2FsYWJpbGl0eU1vZGUmJnRoaXMuc2NhbGFiaWxpdHlNb2RlIT09aS5zY2FsYWJpbGl0eU1vZGUmJihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl06IFRoZSBzY2FsYWJpbGl0eU1vZGUgb2YgdGhlIHZpZGVvIHNlbmRpbmcgc3RyZWFtIGlzIFwiKS5jb25jYXQoaS5zY2FsYWJpbGl0eU1vZGUpKSx0aGlzLnNjYWxhYmlsaXR5TW9kZT1pLnNjYWxhYmlsaXR5TW9kZSl9dGhpcy50cmFmZmljU3RhdHMmJihzLmN1cnJlbnRQYWNrZXRMb3NzUmF0ZT0odGhpcy50cmFmZmljU3RhdHMuQl9wdmxyNHx8MCkvMTAwKX12YXIgcjtpZih0aGlzLmxvY2FsU3RhdHMuc2V0KGkscyksKG51bGw9PXQ/dm9pZCAwOnQuc2VuZFJlc29sdXRpb25XaWR0aCkhPT1zLnNlbmRSZXNvbHV0aW9uV2lkdGh8fChudWxsPT10P3ZvaWQgMDp0LnNlbmRSZXNvbHV0aW9uSGVpZ2h0KSE9PXMuc2VuZFJlc29sdXRpb25IZWlnaHQpbnVsbD09PShyPXRoaXMub25TdGF0c0NoYW5nZWQpfHx2b2lkIDA9PT1yfHxyLmNhbGwodGhpcyxcInJlc29sdXRpb25cIix7d2lkdGg6cy5zZW5kUmVzb2x1dGlvbldpZHRoLGhlaWdodDpzLnNlbmRSZXNvbHV0aW9uSGVpZ2h0fSk7cyYmYSYmdGhpcy5leGNlcHRpb25Nb25pdG9yLnNldExvY2FsVmlkZW9TdGF0cyh0aGlzLnN0b3JlLnVpZCxhLnRyYWNrLHMpO2JyZWFrfWNhc2UgX0kuTG9jYWxBdWRpb1RyYWNrOntjb25zdCB0PW4scj1sRCh7fSxXeSkscz1lLmdldFN0YXRzKCksbz1lLmdldExvY2FsTWVkaWEoaSk7aWYocyl7Y29uc3QgaT1zLmF1ZGlvU2VuZC5maW5kKChlPT5lLnNzcmM9PT0obnVsbD09bz92b2lkIDA6by5zc3Jjc1swXS5zc3JjSWQpKSk7aWYoaSl7aWYoXCJvcHVzXCIhPT1pLmNvZGVjJiZcImFhY1wiIT09aS5jb2RlYyYmXCJQQ01VXCIhPT1pLmNvZGVjJiZcIlBDTUFcIiE9PWkuY29kZWMmJlwiRzcyMlwiIT09aS5jb2RlY3x8KHIuY29kZWNUeXBlPWkuY29kZWMpLGkuaW5wdXRMZXZlbClyLnNlbmRWb2x1bWVMZXZlbD1NYXRoLnJvdW5kKDMyNzY3KmkuaW5wdXRMZXZlbCk7ZWxzZXtjb25zdCB0PWUuZ2V0TG9jYWxBdWRpb1ZvbHVtZSgpO3QmJihyLnNlbmRWb2x1bWVMZXZlbD1NYXRoLnJvdW5kKDMyNzY3KnQpKX1yLnNlbmRCeXRlcz1pLmJ5dGVzLHIuc2VuZFBhY2tldHM9aS5wYWNrZXRzLHIuc2VuZFBhY2tldHNMb3N0PWkucGFja2V0c0xvc3Qsci5zZW5kSml0dGVyTXM9aS5qaXR0ZXJNcyxyLnNlbmRSdHRNcz1pLnJ0dE1zLHIuc2VuZEJpdHJhdGU9dD84Kk1hdGgubWF4KDAsci5zZW5kQnl0ZXMtdC5zZW5kQnl0ZXMpOjB9fXRoaXMudHJhZmZpY1N0YXRzJiYoci5jdXJyZW50UGFja2V0TG9zc1JhdGU9KHRoaXMudHJhZmZpY1N0YXRzLkJfcGFscjR8fDApLzEwMCksdGhpcy5sb2NhbFN0YXRzLnNldChfSS5Mb2NhbEF1ZGlvVHJhY2ssciksciYmbyYmdGhpcy5leGNlcHRpb25Nb25pdG9yLnNldExvY2FsQXVkaW9TdGF0cyh0aGlzLnN0b3JlLnVpZCxvLnRyYWNrLHIpO2JyZWFrfX19KSl9dXBkYXRlUmVtb3RlU3RhdHMoZSl7QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaCgodD0+e2xldFtpLHt2aWRlb1N0YXRzOm4sYXVkaW9TdGF0czpyLHZpZGVvUGNTdGF0czpzfV09dDtjb25zdCBvPXIsYT1uLGM9cyxkPWxEKHt9LEt5KSxsPWxEKHt9LHF5KSxoPWxEKHt9LFl5KSx7YXVkaW9UcmFjazp1LHZpZGVvVHJhY2s6cCxhdWRpb1NTUkM6Xyx2aWRlb1NTUkM6RX09ZS5nZXRSZW1vdGVNZWRpYShpKSxtPWUuZ2V0U3RhdHMoKSxmPW51bGw9PW0/dm9pZCAwOm0uYXVkaW9SZWN2LmZpbmQoKGU9PmUuc3NyYz09PV8pKSxnPW51bGw9PW0/dm9pZCAwOm0udmlkZW9SZWN2LmZpbmQoKGU9PmUuc3NyYz09PUUpKSxUPXRoaXMudHJhZmZpY1N0YXRzJiZ0aGlzLnRyYWZmaWNTdGF0cy5wZWVyX2RlbGF5LmZpbmQoKGU9PmUucGVlcl91aWQ9PT1pKSk7aWYoZiYmKFwib3B1c1wiIT09Zi5jb2RlYyYmXCJhYWNcIiE9PWYuY29kZWMmJlwiUENNVVwiIT09Zi5jb2RlYyYmXCJQQ01BXCIhPT1mLmNvZGVjJiZcIkc3MjJcIiE9PWYuY29kZWN8fChkLmNvZGVjVHlwZT1mLmNvZGVjKSxmLm91dHB1dExldmVsP2QucmVjZWl2ZUxldmVsPU1hdGgucm91bmQoMzI3NjcqZi5vdXRwdXRMZXZlbCk6dSYmKGQucmVjZWl2ZUxldmVsPU1hdGgucm91bmQoMzI3NjcqdS5nZXRWb2x1bWVMZXZlbCgpKSksZC5yZWNlaXZlQnl0ZXM9Zi5ieXRlcyxkLnJlY2VpdmVQYWNrZXRzPWYucGFja2V0cyxkLnJlY2VpdmVQYWNrZXRzTG9zdD1mLnBhY2tldHNMb3N0LGQucGFja2V0TG9zc1JhdGU9ZC5yZWNlaXZlUGFja2V0c0xvc3QvKGQucmVjZWl2ZVBhY2tldHMrZC5yZWNlaXZlUGFja2V0c0xvc3QpLGQucmVjZWl2ZUJpdHJhdGU9bz84Kk1hdGgubWF4KDAsZC5yZWNlaXZlQnl0ZXMtby5yZWNlaXZlQnl0ZXMpOjAsZC50b3RhbER1cmF0aW9uPW8/by50b3RhbER1cmF0aW9uKzE6MSxkLnRvdGFsRnJlZXplVGltZT1vP28udG90YWxGcmVlemVUaW1lOjAsZC5mcmVlemVSYXRlPWQudG90YWxGcmVlemVUaW1lL2QudG90YWxEdXJhdGlvbixkLnJlY2VpdmVEZWxheT1mLmppdHRlckJ1ZmZlck1zLGQudG90YWxEdXJhdGlvbj4xMCYmaEQuaXNSZW1vdGVBdWRpb0ZyZWV6ZSh1KSYmKGQudG90YWxGcmVlemVUaW1lKz0xKSksZyl7XCJIMjY0XCIhPT1nLmNvZGVjJiZcIkgyNjVcIiE9PWcuY29kZWMmJlwiVlA4XCIhPT1nLmNvZGVjJiZcIlZQOVwiIT09Zy5jb2RlYyYmXCJBVjFYXCIhPT1nLmNvZGVjJiZcIkFWMVwiIT09Zy5jb2RlY3x8KGwuY29kZWNUeXBlPWcuY29kZWMpLGwucmVjZWl2ZUJ5dGVzPWcuYnl0ZXMsbC5yZWNlaXZlQml0cmF0ZT1hPzgqTWF0aC5tYXgoMCxsLnJlY2VpdmVCeXRlcy1hLnJlY2VpdmVCeXRlcyk6MCxsLmRlY29kZUZyYW1lUmF0ZT1nLmRlY29kZUZyYW1lUmF0ZTwwPzA6Zy5kZWNvZGVGcmFtZVJhdGUsbC5yZW5kZXJGcmFtZVJhdGU9Zy5kZWNvZGVGcmFtZVJhdGU8MD8wOmcuZGVjb2RlRnJhbWVSYXRlLGcub3V0cHV0RnJhbWUmJihsLnJlbmRlckZyYW1lUmF0ZT1nLm91dHB1dEZyYW1lLmZyYW1lUmF0ZSksZy5yZWNlaXZlZEZyYW1lPyhsLnJlY2VpdmVGcmFtZVJhdGU9Zy5yZWNlaXZlZEZyYW1lLmZyYW1lUmF0ZSxsLnJlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0PWcucmVjZWl2ZWRGcmFtZS5oZWlnaHQsbC5yZWNlaXZlUmVzb2x1dGlvbldpZHRoPWcucmVjZWl2ZWRGcmFtZS53aWR0aCk6cCYmKGwucmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ9cC5fdmlkZW9IZWlnaHR8fDAsbC5yZWNlaXZlUmVzb2x1dGlvbldpZHRoPXAuX3ZpZGVvV2lkdGh8fDApLHZvaWQgMCE9PWcuZnJhbWVzUmF0ZUZpcmVmb3gmJihsLnJlY2VpdmVGcmFtZVJhdGU9TWF0aC5yb3VuZChnLmZyYW1lc1JhdGVGaXJlZm94KSksbC5yZWNlaXZlUGFja2V0cz1nLnBhY2tldHMsbC5yZWNlaXZlUGFja2V0c0xvc3Q9Zy5wYWNrZXRzTG9zdCxsLnBhY2tldExvc3NSYXRlPWwucmVjZWl2ZVBhY2tldHNMb3N0LyhsLnJlY2VpdmVQYWNrZXRzK2wucmVjZWl2ZVBhY2tldHNMb3N0KSxsLnRvdGFsRHVyYXRpb249YT9hLnRvdGFsRHVyYXRpb24rMToxLGwudG90YWxGcmVlemVUaW1lPWE/YS50b3RhbEZyZWV6ZVRpbWU6MCxsLnJlY2VpdmVEZWxheT1nLmppdHRlckJ1ZmZlck1zfHwwO2NvbnN0IHQ9ISFFJiZlLmdldFJlbW90ZVZpZGVvSXNSZWFkeShFKTtwJiZ0JiZoRC5pc1JlbW90ZVZpZGVvRnJlZXplKHAsZyxjKSYmKGwudG90YWxGcmVlemVUaW1lKz0xKSxsLmZyZWV6ZVJhdGU9bC50b3RhbEZyZWV6ZVRpbWUvbC50b3RhbER1cmF0aW9ufVQmJihkLmVuZDJFbmREZWxheT1ULkJfYWQsbC5lbmQyRW5kRGVsYXk9VC5CX3ZkLGQudHJhbnNwb3J0RGVsYXk9VC5CX2VkLGwudHJhbnNwb3J0RGVsYXk9VC5CX2VkLGQuY3VycmVudFBhY2tldExvc3NSYXRlPVQuQl9lYWxyNC8xMDAsbC5jdXJyZW50UGFja2V0TG9zc1JhdGU9VC5CX2V2bHI0LzEwMCxoLnVwbGlua05ldHdvcmtRdWFsaXR5PVQuQl9wdW5xP1QuQl9wdW5xOjAsaC5kb3dubGlua05ldHdvcmtRdWFsaXR5PVQuQl9wZG5xP1QuQl9wZG5xOjApLHRoaXMucmVtb3RlU3RhdHMuc2V0KGkse2F1ZGlvU3RhdHM6ZCx2aWRlb1N0YXRzOmwsdmlkZW9QY1N0YXRzOmcsbmV0d29ya1N0YXRzOmh9KSx1JiZ0aGlzLmV4Y2VwdGlvbk1vbml0b3Iuc2V0UmVtb3RlQXVkaW9TdGF0cyh1LGQpLHAmJnRoaXMuZXhjZXB0aW9uTW9uaXRvci5zZXRSZW1vdGVWaWRlb1N0YXRzKHAsbCl9KSl9fWZ1bmN0aW9uIHVEKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBwRChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj91RChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTp1RChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBfRChlKXtyZXR1cm4gZS5tYXRjaCgvXltcXC5cXDpcXGRdKyQvKT9cIlwiLmNvbmNhdChlLnJlcGxhY2UoL1teXFxkXS9nLFwiLVwiKSxcIi5cIikuY29uY2F0KGtDKFwiVFVSTl9ET01BSU5cIikpOihLQy5pbmZvKFwiQ2Fubm90IHJlY29nbml6ZWQgYXMgSVAgYWRkcmVzcyBcIi5jb25jYXQoZSxcIi4gVXNlZCBBcyBIb3N0IGluc3RlYWRcIikpLGUpfWZ1bmN0aW9uIEVEKGUsdCl7dmFyIGksbjtjb25zdCByPWtDKFwiR0FURVdBWV9ET01BSU5TXCIpO2xldCBzPXJbMV0mJi0xIT09dC5pbmRleE9mKHJbMV0pPzE6MDtlLmFkZHJlc3Nlcz1lLmFkZHJlc3Nlc3x8W107Y29uc3Qgbz1lLmFkZHJlc3Nlcy5tYXAoKGU9PmUuZG9tYWluX3ByZWZpeD97YWRkcmVzczpcIlwiLmNvbmNhdChlLmRvbWFpbl9wcmVmaXgsXCIuXCIpLmNvbmNhdChyW3MrKyVyLmxlbmd0aF0sXCI6XCIpLmNvbmNhdChlLnBvcnQpfTplLmlwLm1hdGNoKC9eW1xcLlxcOlxcZF0rJC8pP3tpcDplLmlwLHBvcnQ6ZS5wb3J0LGFkZHJlc3M6XCJcIi5jb25jYXQoZS5pcC5yZXBsYWNlKC9bXlxcZF0vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChyW3MrKyVyLmxlbmd0aF0sXCI6XCIpLmNvbmNhdChlLnBvcnQpfTooS0MuaW5mbyhcIkNhbm5vdCByZWNvZ25pemVkIGFzIElQIGFkZHJlc3MgXCIuY29uY2F0KGUuaXAsXCIuIFVzZWQgQXMgSG9zdCBpbnN0ZWFkXCIpKSx7aXA6ZS5pcCxwb3J0OmUucG9ydCxhZGRyZXNzOlwiXCIuY29uY2F0KGUuaXAsXCI6XCIpLmNvbmNhdChlLnBvcnQpfSkpKTtpZihudWxsIT09KGk9ZS5kZXRhaWwpJiZ2b2lkIDAhPT1pJiZpWzE4XSYmXCJzdHJpbmdcIj09dHlwZW9mKG51bGw9PT0obj1lLmRldGFpbCl8fHZvaWQgMD09PW4/dm9pZCAwOm5bMThdKSl7Y29uc3QgdD1lLmRldGFpbFsxOF0saT1udWxsPT10P3ZvaWQgMDp0LnNwbGl0KFwiO1wiKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7dmFyIGE7Y29uc3QgdD1meShhPWlbZV0pLmNhbGwoYSk7b1tlXSYmdCYmKG9bZV0uaXA2PXQpfX1yZXR1cm57Z2F0ZXdheUFkZHJzOm8sdWlkOmUudWlkLGNpZDplLmNpZCxjZXJ0OmUuY2VydCx2aWQ6ZS5kZXRhaWwmJmUuZGV0YWlsWzhdLHVuaV9sYnNfaXA6ZS5kZXRhaWwmJmUuZGV0YWlsWzFdLHJlczplLGNzSXA6ZS5kZXRhaWwmJmUuZGV0YWlsWzUwMl19fWZ1bmN0aW9uIG1EKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP2U6ZS5leGFjdHx8ZS5pZGVhbHx8ZS5tYXh8fGUubWlufHwwfWZ1bmN0aW9uIGZEKGUpe2NvbnN0IHQ9ZS5fZW5jb2RlckNvbmZpZztpZighdClyZXR1cm57fTtjb25zdCBpPXtyZXNvbHV0aW9uOnQud2lkdGgmJnQuaGVpZ2h0P1wiXCIuY29uY2F0KG1EKHQud2lkdGgpLFwieFwiKS5jb25jYXQobUQodC5oZWlnaHQpKTp2b2lkIDAsbWF4VmlkZW9CVzp0LmJpdHJhdGVNYXgsbWluVmlkZW9CVzp0LmJpdHJhdGVNaW59O3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0LmZyYW1lUmF0ZT8oaS5tYXhGcmFtZVJhdGU9dC5mcmFtZVJhdGUsaS5taW5GcmFtZVJhdGU9dC5mcmFtZVJhdGUpOnQuZnJhbWVSYXRlJiYoaS5tYXhGcmFtZVJhdGU9dC5mcmFtZVJhdGUubWF4fHx0LmZyYW1lUmF0ZS5pZGVhbHx8dC5mcmFtZVJhdGUuZXhhY3R8fHQuZnJhbWVSYXRlLm1pbixpLm1pbkZyYW1lUmF0ZT10LmZyYW1lUmF0ZS5taW58fHQuZnJhbWVSYXRlLmlkZWFsfHx0LmZyYW1lUmF0ZS5leGFjdHx8dC5mcmFtZVJhdGUubWF4KSxpfWZ1bmN0aW9uIGdEKGUpe2NvbnN0IHQ9e2Nvbm5lY3Rpb25UeXBlOjAsZ29vZ1J0dDplLnJ0dH07c3dpdGNoKGUuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlLmNhbmRpZGF0ZVR5cGUpe2Nhc2VcInJlbGF5XCI6e2NvbnN0IGk9ZS5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUucmVsYXlQcm90b2NvbDtcInVkcFwiPT09aSYmKHQuY29ubmVjdGlvblR5cGU9MSksXCJ0Y3BcIj09PWkmJih0LmNvbm5lY3Rpb25UeXBlPTMpLFwidGxzXCI9PT1pJiYodC5jb25uZWN0aW9uVHlwZT00KTticmVha31jYXNlXCJzcmZseFwiOnQuY29ubmVjdGlvblR5cGU9Mn1yZXR1cm4gdH1mdW5jdGlvbiBURChlKXtyZXR1cm4gZT49MCYmZTwuMTc/MTplPj0uMTcmJmU8LjM2PzI6ZT49LjM2JiZlPC41OT8zOmU+PS41OSYmZTw9MT80OmU+MT81OjB9ZnVuY3Rpb24gU0QoZSx0KXtsZXQgaSxuLHI7c3dpdGNoKHQpe2Nhc2UgaHkuQ0hPT1NFX1NFUlZFUjpuPTQwOTYscj1cImNob29zZSBzZXJ2ZXJcIjticmVhaztjYXNlIGh5LkNMT1VEX1BST1hZOm49MTA0ODU3NixyPVwicHJveHlcIjticmVhaztjYXNlIGh5LkNMT1VEX1BST1hZXzU6bj00MTk0MzA0LHI9XCJwcm94eTVcIjticmVhaztjYXNlIGh5LkNMT1VEX1BST1hZX0ZBTExCQUNLOm49NDE5NDMxMCxyPVwicHJveHkgZmFsbGJhY2tcIjticmVhaztkZWZhdWx0OnRocm93IG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwibXVsdGkgdW5saWJzIHJlc3BvbnNlIHRyYW5zZm9ybWVyIGdldCB1bmtub3duIHNlcnZpY2UgaWRcIix7Y3NJcDplLmRldGFpbCYmZS5kZXRhaWxbNTAyXSxyZXRyeTohMX0pfWlmKGUucmVzcG9uc2VfYm9keS5mb3JFYWNoKCh0PT57dC5idWZmZXImJnQuYnVmZmVyLmZsYWc9PT1uJiYoaT17Y29kZTp0LmJ1ZmZlci5jb2RlLGFkZHJlc3NlczoodC5idWZmZXIuZWRnZXNfc2VydmljZXN8fFtdKS5tYXAoKGU9PnBEKHBEKHt9LGUpLHt9LHt0aWNrZXQ6dC5idWZmZXIuY2VydH0pKSksc2VydmVyX3RzOmUuZW50ZXJfdHMsdWlkOnQuYnVmZmVyLnVpZCxjaWQ6dC5idWZmZXIuY2lkLGNuYW1lOnQuYnVmZmVyLmNuYW1lLGRldGFpbDpwRChwRCh7fSx0LmJ1ZmZlci5kZXRhaWwpLGUuZGV0YWlsKSxmbGFnOnQuYnVmZmVyLmZsYWcsb3BpZDplLm9waWQsY2VydDp0LmJ1ZmZlci5jZXJ0fSl9KSksIWkpdGhyb3cgbmV3IHh2KHhnLk1VTFRJX1VOSUxCU19SRVNQT05TRV9FUlJPUixcImNhbm5vdCBwYXJzZSByZXNwb25zZSBcIi5jb25jYXQocixcIiBmcm9tIG11bHRpIHVuaWxicyByZXNwb25zZVwiKSx7Y3NJcDplLmRldGFpbCYmZS5kZXRhaWxbNTAyXX0pO3JldHVybiBpfWFzeW5jIGZ1bmN0aW9uIFJEKGUsdCl7cmV0dXJuIGF3YWl0IHRnLmFsbChlLmFkZHJlc3Nlcy5tYXAoKGFzeW5jIGU9Pih7YWRkcmVzczpfRChlLmlwKSx0Y3Bwb3J0OmUucG9ydCx1ZHBwb3J0OmUucG9ydCx1c2VybmFtZTp0JiZrQyhcIkVOQ1JZUFRfUFJPWFlfVVNFUk5BTUVfQU5EX1BTV1wiKSYmd2luZG93LmlzU2VjdXJlQ29udGV4dD90LnRvU3RyaW5nKCk6b3YudXNlcm5hbWUscGFzc3dvcmQ6dCYma0MoXCJFTkNSWVBUX1BST1hZX1VTRVJOQU1FX0FORF9QU1dcIikmJndpbmRvdy5pc1NlY3VyZUNvbnRleHQ/YXdhaXQgdFQodC50b1N0cmluZygpKTpvdi5wYXNzd29yZH0pKSkpfWZ1bmN0aW9uIENEKGUsdCl7Y29uc3QgaT10Ll92aWRlb0hlaWdodHx8dC5nZXRNZWRpYVN0cmVhbVRyYWNrKCEwKS5nZXRTZXR0aW5ncygpLmhlaWdodDtyZXR1cm4gaT9NYXRoLm1heChpL21EKGUuaGVpZ2h0KSwxKTooS0Mud2FybmluZyhcImNhbid0IGdldCBvcmktdHJhY2sncyBoZWlnaHQsIGRlZmF1bHQgc2NhbGUgZG93biA0IHRpbWVzIGZvciBsb3cgc3RyZWFtXCIpLDQpfWZ1bmN0aW9uIHZEKGUpe2xldHtjYW5kaWRhdGVUeXBlOnQscmVsYXlQcm90b2NvbDppLHR5cGU6bixhZGRyZXNzOnIscG9ydDpzLHByb3RvY29sOm99PWU7cmV0dXJuXCJsb2NhbC1jYW5kaWRhdGVcIj09PW4/e2NhbmRpZGF0ZVR5cGU6dCxyZWxheVByb3RvY29sOmkscHJvdG9jb2w6b306e2NhbmRpZGF0ZVR5cGU6dCxyZWxheVByb3RvY29sOmksYWRkcmVzczpyLHBvcnQ6cyxwcm90b2NvbDpvfX1mdW5jdGlvbiBJRChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9Y2xhc3MgeUQgZXh0ZW5kcyBpVHtnZXQgdXJsKCl7cmV0dXJuIHRoaXMuX3VybD90aGlzLl91cmw6bnVsbH1nZXQgcmVjb25uZWN0TW9kZSgpe3JldHVybiB0aGlzLl9yZWNvbm5lY3RNb2RlfXNldCByZWNvbm5lY3RNb2RlKGUpe3ZhciB0O1ByKHQ9W1widHJ5TmV4dFwiLFwicmVjb3ZlclwiXSkuY2FsbCh0LGUpJiZ0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoZSksdGhpcy5fcmVjb25uZWN0TW9kZT1lfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7ZSE9PXRoaXMuX3N0YXRlJiYodGhpcy5fc3RhdGU9ZSxcInJlY29ubmVjdGluZ1wiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KENJLlJFQ09OTkVDVElORyx0aGlzLnJlY29ubmVjdFJlYXNvbik6XCJjb25uZWN0ZWRcIj09PXRoaXMuX3N0YXRlP3RoaXMuZW1pdChDSS5DT05ORUNURUQpOlwiY2xvc2VkXCI9PT10aGlzLl9zdGF0ZT90aGlzLmVtaXQoQ0kuQ0xPU0VEKTpcImZhaWxlZFwiPT09dGhpcy5fc3RhdGUmJnRoaXMuZW1pdChDSS5GQUlMRUQpKX1jb25zdHJ1Y3RvcihlLHQsaSxuKXtzdXBlcigpLG51KHRoaXMsXCJjb25uZWN0aW9uSURcIiwwKSxudSh0aGlzLFwiY3VycmVudFVSTEluZGV4XCIsMCksbnUodGhpcyxcInJlY29ubmVjdFJlYXNvblwiLHZvaWQgMCksbnUodGhpcyxcIl9yZWNvbm5lY3RNb2RlXCIsXCJ0cnlOZXh0XCIpLG51KHRoaXMsXCJfbmFtZVwiLHZvaWQgMCksbnUodGhpcyxcIl9zdGF0ZVwiLFwiY2xvc2VkXCIpLG51KHRoaXMsXCJfcmV0cnlDb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJfcmVjb25uZWN0Q291bnRcIiwwKSxudSh0aGlzLFwiX2ZvcmNlQ2xvc2VUaW1lb3V0XCIsNWUzKSxudSh0aGlzLFwiX29ubGluZVJlY29ubmVjdExpc3RlbmVyXCIsdm9pZCAwKSxudSh0aGlzLFwiX2Nsb3NlRXN0YWJsaXNoaW5nVHJhbnNtaXR0ZXJcIiwoKCk9Pnt9KSksbnUodGhpcyxcIl9zdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcIl9qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRJbmRleFwiLHZvaWQgMCksbnUodGhpcyxcIl91c2VDb21wcmVzc1wiLHZvaWQgMCksbnUodGhpcyxcIl9pbmZsYXRlTGVuZ3RoXCIsMCksbnUodGhpcyxcIl9kZWZsYXRlTGVuZ3RoXCIsMCksdGhpcy5fc3RvcmU9bix0aGlzLl9uYW1lPWUsdGhpcy5fcmV0cnlDb25maWc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/SUQoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6SUQoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9KHt9LHQpLHRoaXMuX3VzZUNvbXByZXNzPWl9cmVzZXRSZWNvbm5lY3RDb3VudChlKXtLQy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLl9uYW1lLFwiIHJlc2V0IHJlY29ubmVjdCBjb3VudCwgcmVhc29uOiBcIikuY29uY2F0KGUpKSx0aGlzLl9yZWNvbm5lY3RDb3VudD0wfWNsb3NlKGUsdCl7aWYodGhpcy5jdXJyZW50VVJMSW5kZXg9MCx0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJjbG9zZVwiKSx0aGlzLl9yZWNvbm5lY3RJbnRlcnJ1cHRlciYmdGhpcy5fcmVjb25uZWN0SW50ZXJydXB0ZXIoKSx0aGlzLl90cmFuc21pdHRlcil7dGhpcy5fdHJhbnNtaXR0ZXIub25jbG9zZT1udWxsLHRoaXMuX3RyYW5zbWl0dGVyLm9ub3Blbj1udWxsLHRoaXMuX3RyYW5zbWl0dGVyLm9ubWVzc2FnZT1udWxsO2NvbnN0IGU9dGhpcy5fdHJhbnNtaXR0ZXI7dD9zZXRUaW1lb3V0KCgoKT0+ZS5jbG9zZSgpKSw1MDApOmUuY2xvc2UoKSx0aGlzLl90cmFuc21pdHRlcj12b2lkIDB9dGhpcy5zdGF0ZT1lP1wiZmFpbGVkXCI6XCJjbG9zZWRcIix0aGlzLl9jbG9zZUVzdGFibGlzaGluZ1RyYW5zbWl0dGVyJiZ0aGlzLl9jbG9zZUVzdGFibGlzaGluZ1RyYW5zbWl0dGVyKCl9cmVjb25uZWN0KGUsdCl7aWYoIXRoaXMuX3RyYW5zbWl0dGVyKXJldHVybiB2b2lkIEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIGNhbiBub3QgcmVjb25uZWN0LCBubyB3ZWJzb2NrZXRcIikpO3ZhciBpOyh2b2lkIDAhPT1lJiYodGhpcy5yZWNvbm5lY3RNb2RlPWUpLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSByZWNvbm5lY3QgaXMgdHJpZ2dlcmVkIGluaXRpYXRpdmVcIikpLFwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRJbmRleCkmJihudWxsPT09KGk9dGhpcy5fc3RvcmUpfHx2b2lkIDA9PT1pfHxpLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6W25ldyBFcnJvcih0KV19LHRoaXMuX2pvaW5DaGFubmVsU2VydmljZVJlY29yZEluZGV4KSk7Y29uc3Qgbj10aGlzLl90cmFuc21pdHRlci5vbmNsb3NlO3RoaXMuX3RyYW5zbWl0dGVyLm9uY2xvc2U9bnVsbCx0aGlzLl90cmFuc21pdHRlci5jbG9zZSgpLG4mJm4uYmluZCh0aGlzLl90cmFuc21pdHRlcikoe2NvZGU6OTk5OSxyZWFzb246dH0pfWdldEluZmxhdGVEYXRhKCl7Y29uc3QgZT10aGlzLl9pbmZsYXRlTGVuZ3RoLHQ9dGhpcy5fZGVmbGF0ZUxlbmd0aDtyZXR1cm4gdGhpcy5jbGVhckluZmxhdGVEYXRhKCkse2luZmxhdGVMZW5ndGg6ZSxkZWZsYXRlTGVuZ3RoOnR9fXNldEluZmxhdGVEYXRhKGUpe3RoaXMuX2RlZmxhdGVMZW5ndGg9dGhpcy5fZGVmbGF0ZUxlbmd0aCtlLm9yaWdpbkxlbmd0aCx0aGlzLl9pbmZsYXRlTGVuZ3RoPXRoaXMuX2luZmxhdGVMZW5ndGgrZS5jb21wcmVzc2VkTGVuZ3RofWNsZWFySW5mbGF0ZURhdGEoKXt0aGlzLl9pbmZsYXRlTGVuZ3RoPTAsdGhpcy5fZGVmbGF0ZUxlbmd0aD0wfX12YXIgQUQ7IWZ1bmN0aW9uKGUpe2VbZS5EZWZhdWx0PTBdPVwiRGVmYXVsdFwiLGVbZS5BY2s9MV09XCJBY2tcIn0oQUR8fChBRD17fSkpO2NsYXNzIGJEe2NvbnN0cnVjdG9yKGUsdCxpKXtudSh0aGlzLFwidmVyc2lvblwiLDEpLG51KHRoaXMsXCJpbml0aWFsUlRPXCIsdm9pZCAwKSxudSh0aGlzLFwibWF4QmF0Y2hBY2tDb3VudFwiLHZvaWQgMCksbnUodGhpcyxcIm1heFJUT1wiLHZvaWQgMCksbnUodGhpcyxcImluaXRpYWxSVFRcIix2b2lkIDApLG51KHRoaXMsXCJJRFwiLHZvaWQgMCksbnUodGhpcyxcInJ0dFwiLHZvaWQgMCksbnUodGhpcyxcInBhY2tldE51bWJlclwiLDEpLG51KHRoaXMsXCJydG9SYXRpb01hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJ0aW1lb3V0TWFwXCIsbmV3IE1hcCksbnUodGhpcyxcInVub3JkZXJlZFBhY2tldFF1ZXVlXCIsW10pLG51KHRoaXMsXCJiYXRjaEFja1BhY2tldFF1ZXVlXCIsW10pLG51KHRoaXMsXCJsYXN0T3JkZXJlZFBhY2tldE51bWJlclwiLDApLG51KHRoaXMsXCJiYXRjaEFja1RpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwic2VuZEltcGxcIix2b2lkIDApLG51KHRoaXMsXCJyZWNlaXZlSW1wbFwiLHZvaWQgMCksdGhpcy5zZW5kSW1wbD1lLHRoaXMucmVjZWl2ZUltcGw9dCx0aGlzLklEPXhUKDcsXCJ0cmFuc21pdHRlci1cIiksdGhpcy5pbml0aWFsUlRPPXZvaWQgMCE9PShudWxsPT1pP3ZvaWQgMDppLmluaXRpYWxSVE8pP2kuaW5pdGlhbFJUTzprQyhcIlRSQU5TTUlUVEVSX0lOSVRJQUxfUlRPXCIpLHRoaXMuaW5pdGlhbFJUVD12b2lkIDAhPT0obnVsbD09aT92b2lkIDA6aS5pbml0aWFsUlRUKT9pLmluaXRpYWxSVFQ6a0MoXCJUUkFOU01JVFRFUl9JTklUSUFMX1JUVFwiKSx0aGlzLnJ0dD12b2lkIDAhPT0obnVsbD09aT92b2lkIDA6aS5pbml0aWFsUlRUKT9pLmluaXRpYWxSVFQ6a0MoXCJUUkFOU01JVFRFUl9JTklUSUFMX1JUVFwiKSx0aGlzLm1heEJhdGNoQWNrQ291bnQ9dm9pZCAwIT09KG51bGw9PWk/dm9pZCAwOmkubWF4QmF0Y2hBY2tDb3VudCk/aS5tYXhCYXRjaEFja0NvdW50OmtDKFwiVFJBTlNNSVRURVJfTUFYX0JBVENIX0FDS19DT1VOVFwiKSx0aGlzLm1heFJUTz12b2lkIDAhPT0obnVsbD09aT92b2lkIDA6aS5tYXhSVE8pP2kubWF4UlRPOmtDKFwiVFJBTlNNSVRURVJfTUFYX1JUT1wiKX1wYWNrZXRpemUoZSx0KXtyZXR1cm57dHlwZTpBRC5EZWZhdWx0LHZlcnNpb246dGhpcy52ZXJzaW9uLHBhY2tldE51bWJlcjp0LHBheWxvYWQ6ZX19c2VyaWFsaXplKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgQUQuRGVmYXVsdDp7bGV0IHQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUucGF5bG9hZCl7dD0obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZS5wYXlsb2FkKX1lbHNlIHQ9ZS5wYXlsb2FkO2NvbnN0IGk9bmV3IEFycmF5QnVmZmVyKHQubGVuZ3RoKzE1KSxuPW5ldyBEYXRhVmlldyhpKTtuLnNldFVpbnQxNigwLGUudmVyc2lvbiksbi5zZXRVaW50OCgyLGUudHlwZSksbi5zZXRVaW50MzIoMyxlLnBhY2tldE51bWJlciksSmcobiw3LEJpZ0ludChlLnNlbmRUcykpO3JldHVybiBuZXcgVWludDhBcnJheShuLmJ1ZmZlcikuc2V0KHQsMTUpLGl9Y2FzZSBBRC5BY2s6e2NvbnN0IHQ9bmV3IEFycmF5QnVmZmVyKDE2KSxpPW5ldyBEYXRhVmlldyh0KTtyZXR1cm4gaS5zZXRVaW50MTYoMCxlLnZlcnNpb24pLGkuc2V0VWludDgoMixlLnR5cGUpLGkuc2V0VWludDMyKDMsZS5tYXhBY2tQYWNrZXROdW1iZXIpLGkuc2V0VWludDgoNyxlLnNoaWZ0KSxKZyhpLDgsQmlnSW50KGUuYWNrU2VuZFRzKSksdH19fWRlc2VyaWFsaXplKGUpe2NvbnN0IHQ9bmV3IERhdGFWaWV3KGUpLGk9dC5nZXRVaW50MTYoMCksbj10LmdldFVpbnQ4KDIpO3N3aXRjaChuKXtjYXNlIEFELkRlZmF1bHQ6e2NvbnN0IHI9dC5nZXRVaW50MzIoMykscz1xZyh0LDcpLG89ZS5zbGljZSgxNSksYT0obmV3IFRleHREZWNvZGVyKS5kZWNvZGUobyk7cmV0dXJue3ZlcnNpb246aSx0eXBlOm4scGFja2V0TnVtYmVyOnIsc2VuZFRzOk51bWJlcihzKSxwYXlsb2FkOmF9fWNhc2UgQUQuQWNrOntjb25zdCBlPXQuZ2V0VWludDMyKDMpLHI9dC5nZXRVaW50OCg3KSxzPXFnKHQsOCk7cmV0dXJue3ZlcnNpb246aSx0eXBlOm4sbWF4QWNrUGFja2V0TnVtYmVyOmUsc2hpZnQ6cixhY2tTZW5kVHM6TnVtYmVyKHMpfX1kZWZhdWx0OnRocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLklELFwiXSBVbnJlY29nbml6ZWQgcGFja2V0IHR5cGUgXCIpLmNvbmNhdChuKSksbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHBhY2tldCB0eXBlIFwiLmNvbmNhdChuKSl9fXNlbmRNZXNzYWdlKGUpe2NvbnN0IHQ9dGhpcy5wYWNrZXRpemUoZSx0aGlzLnBhY2tldE51bWJlcik7dGhpcy5wYWNrZXROdW1iZXI9NDI5NDk2NzI5NT09PXRoaXMucGFja2V0TnVtYmVyPzE6dGhpcy5wYWNrZXROdW1iZXIrMTtjb25zdCBpPXRoaXMuY2FsY3VsYXRlUlRPKHQpLG49d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5yZXNlbmRNZXNzYWdlKHQpfSksaSk7dGhpcy50aW1lb3V0TWFwLnNldCh0LnBhY2tldE51bWJlcixuKSx0aGlzLnNlbmRQYWNrZXQodCl9b25EYXRhKGUpe2NvbnN0IHQ9dGhpcy5kZXNlcmlhbGl6ZShlKTt0LnR5cGU9PT1BRC5EZWZhdWx0P3RoaXMuYWNrKHQpOnQudHlwZT09PUFELkFjayYmKHRoaXMudXBkYXRlUlRUKHQsTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKSkpLHRoaXMuY2xlYXJSVE8odCkpfWNsb3NlKCl7dGhpcy5ydHQ9dGhpcy5pbml0aWFsUlRULHRoaXMucGFja2V0TnVtYmVyPTEsQXJyYXkuZnJvbSh0aGlzLnRpbWVvdXRNYXAuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTt3aW5kb3cuY2xlYXJUaW1lb3V0KGkpfSkpLHRoaXMudGltZW91dE1hcD1uZXcgTWFwLHRoaXMucnRvUmF0aW9NYXA9bmV3IE1hcCx0aGlzLnVub3JkZXJlZFBhY2tldFF1ZXVlPVtdLHRoaXMuYmF0Y2hBY2tQYWNrZXRRdWV1ZT1bXSx0aGlzLmxhc3RPcmRlcmVkUGFja2V0TnVtYmVyPTAsdm9pZCAwIT09dGhpcy5iYXRjaEFja1RpbWVyJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuYmF0Y2hBY2tUaW1lcil9cmVzZW5kTWVzc2FnZShlKXtjb25zdCB0PXRoaXMuY2FsY3VsYXRlUlRPKGUpLGk9d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5yZXNlbmRNZXNzYWdlKGUpfSksdCk7dGhpcy50aW1lb3V0TWFwLnNldChlLnBhY2tldE51bWJlcixpKSx0aGlzLnNlbmRQYWNrZXQoZSl9Y2FsY3VsYXRlUlRPKGUpe2NvbnN0IHQ9dGhpcy5ydG9SYXRpb01hcC5nZXQoZS5wYWNrZXROdW1iZXIpO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMucnRvUmF0aW9NYXAuc2V0KGUucGFja2V0TnVtYmVyLDEpLHRoaXMuaW5pdGlhbFJUTzt7Y29uc3QgaT05KnRoaXMucnR0LzgqdDtyZXR1cm4gdGhpcy5ydG9SYXRpb01hcC5zZXQoZS5wYWNrZXROdW1iZXIsdCsxKSxpPnRoaXMubWF4UlRPP3RoaXMubWF4UlRPOml9fXVwZGF0ZVJUVChlLHQpe2NvbnN0IGk9ZS5hY2tTZW5kVHM7dGhpcy5ydHQ9dGhpcy5ydHQqKDcvOCkrKHQtaS10aGlzLnJ0dCkvOH1hY2soZSl7aWYoZS5wYWNrZXROdW1iZXI9PT10aGlzLmxhc3RPcmRlcmVkUGFja2V0TnVtYmVyKzEpZm9yKHRoaXMuYmF0Y2hBY2tQYWNrZXRRdWV1ZS5sZW5ndGg+PXRoaXMubWF4QmF0Y2hBY2tDb3VudCYmdGhpcy5iYXRjaEFjaygpLHRoaXMuYmF0Y2hBY2tUaW1lcj90aGlzLmJhdGNoQWNrUGFja2V0UXVldWUucHVzaChlKToodGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlLnB1c2goZSksdGhpcy5iYXRjaEFja1RpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3RoaXMuYmF0Y2hBY2soKX0pLHRoaXMucnR0LzgpKSx0aGlzLmxhc3RPcmRlcmVkUGFja2V0TnVtYmVyKz0xLHRoaXMucmVjZWl2ZUltcGwoZS5wYXlsb2FkKTs7KXtjb25zdCBlPXRoaXMudW5vcmRlcmVkUGFja2V0UXVldWVbMF07aWYoIWUpe3RoaXMudW5vcmRlcmVkUGFja2V0UXVldWUuc2hpZnQoKTticmVha310aGlzLmJhdGNoQWNrVGltZXImJnRoaXMuYmF0Y2hBY2soKSx0aGlzLnJlY2VpdmVJbXBsKGUucGF5bG9hZCksdGhpcy51bm9yZGVyZWRQYWNrZXRRdWV1ZS5zaGlmdCgpLHRoaXMubGFzdE9yZGVyZWRQYWNrZXROdW1iZXIrPTF9ZWxzZSBpZihlLnBhY2tldE51bWJlcjw9dGhpcy5sYXN0T3JkZXJlZFBhY2tldE51bWJlcil7Y29uc3QgdD17YWNrU2VuZFRzOmUuc2VuZFRzLG1heEFja1BhY2tldE51bWJlcjplLnBhY2tldE51bWJlcixzaGlmdDowLHR5cGU6QUQuQWNrLHZlcnNpb246dGhpcy52ZXJzaW9ufTt0aGlzLnNlbmRQYWNrZXQodCl9ZWxzZSBpZihlLnBhY2tldE51bWJlcj50aGlzLmxhc3RPcmRlcmVkUGFja2V0TnVtYmVyKXt0aGlzLnVub3JkZXJlZFBhY2tldFF1ZXVlW2UucGFja2V0TnVtYmVyLXRoaXMubGFzdE9yZGVyZWRQYWNrZXROdW1iZXItMl09ZTtjb25zdCB0PXthY2tTZW5kVHM6ZS5zZW5kVHMsbWF4QWNrUGFja2V0TnVtYmVyOmUucGFja2V0TnVtYmVyLHNoaWZ0OjAsdHlwZTpBRC5BY2ssdmVyc2lvbjp0aGlzLnZlcnNpb259O3RoaXMuc2VuZFBhY2tldCh0KX19YmF0Y2hBY2soKXt3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuYmF0Y2hBY2tUaW1lciksdGhpcy5iYXRjaEFja1RpbWVyPXZvaWQgMDtjb25zdCBlPXthY2tTZW5kVHM6dGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlW3RoaXMuYmF0Y2hBY2tQYWNrZXRRdWV1ZS5sZW5ndGgtMV0uc2VuZFRzLG1heEFja1BhY2tldE51bWJlcjp0aGlzLmJhdGNoQWNrUGFja2V0UXVldWVbdGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlLmxlbmd0aC0xXS5wYWNrZXROdW1iZXIsc2hpZnQ6dGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlLmxlbmd0aC0xLHR5cGU6QUQuQWNrLHZlcnNpb246dGhpcy52ZXJzaW9ufTt0aGlzLnNlbmRQYWNrZXQoZSksdGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlPVtdfXNlbmRQYWNrZXQoZSl7ZS50eXBlPT09QUQuRGVmYXVsdCYmKGUuc2VuZFRzPU1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCkpKTtjb25zdCB0PXRoaXMuc2VyaWFsaXplKGUpO3RoaXMuc2VuZEltcGwodCl9Y2xlYXJSVE8oZSl7Zm9yKGxldCB0PWUubWF4QWNrUGFja2V0TnVtYmVyLWUuc2hpZnQ7dDw9ZS5tYXhBY2tQYWNrZXROdW1iZXI7dCsrKXtjb25zdCBlPXRoaXMudGltZW91dE1hcC5nZXQodCk7dm9pZCAwIT09ZSYmd2luZG93LmNsZWFyVGltZW91dChlKSx0aGlzLnRpbWVvdXRNYXAuZGVsZXRlKHQpLHRoaXMucnRvUmF0aW9NYXAuZGVsZXRlKHQpfX19Y2xhc3Mgd0QgZXh0ZW5kcyB5RHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCxhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLGFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwKSxudSh0aGlzLFwiX2luaXRNdXRleFwiLHZvaWQgMCksbnUodGhpcyxcIl9yZWNvbm5lY3RJbnRlcnJ1cHRlclwiLHZvaWQgMCksbnUodGhpcyxcIl91cmxcIix2b2lkIDApLG51KHRoaXMsXCJfdHJhbnNtaXR0ZXJcIix2b2lkIDApLG51KHRoaXMsXCJfYWRkcmVzc2VzXCIsdm9pZCAwKSxudSh0aGlzLFwiX3JlbGlhYmxlVHJhbnNtaXNzaW9uXCIsdm9pZCAwKSx0aGlzLl9pbml0TXV0ZXg9bmV3IFlUKFwiZGF0YWNoYW5uZWxcIik7Y29uc3R7dGltZW91dDppLHRpbWVvdXRGYWN0b3I6bn09dCxyPU1hdGgubWF4KDMwMCxNYXRoLmZsb29yKDMqaS81KSkscz1NYXRoLm1heCgxLjIsTWF0aC5mbG9vcig4Km4pLzEwKTtoVC5PTkxJTkUmJih0aGlzLl9yZXRyeUNvbmZpZy50aW1lb3V0PXIsdGhpcy5fcmV0cnlDb25maWcudGltZW91dEZhY3Rvcj1zKSxSVC5vbih1VC5ORVRXT1JLX1NUQVRFX0NIQU5HRSwoKGUsdCk9PntlIT09dCYmKHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcIm5ldHdvcmsgc3RhdGUgY2hhbmdlOiBcIi5jb25jYXQodCxcIiAtPiBcIikuY29uY2F0KGUpKSxlPT09aFQuT05MSU5FPyh0aGlzLl9yZXRyeUNvbmZpZy50aW1lb3V0PXIsdGhpcy5fcmV0cnlDb25maWcudGltZW91dEZhY3Rvcj1zKToodGhpcy5fcmV0cnlDb25maWcudGltZW91dD1pLHRoaXMuX3JldHJ5Q29uZmlnLnRpbWVvdXRGYWN0b3I9bikpfSkpfWdldENvbm5lY3Rpb24oKXtpZih0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbilyZXR1cm4gdGhpcy5fcmVsaWFibGVUcmFuc21pc3Npb259YXN5bmMgaW5pdChlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NWUzO3RoaXMuX2ZvcmNlQ2xvc2VUaW1lb3V0PXQ7Y29uc3QgaT0odCxpKT0+e3RoaXMuX2FkZHJlc3Nlcz1lLHRoaXMuY3VycmVudFVSTEluZGV4PXRoaXMuX2FkZHJlc3Nlcy5maW5kSW5kZXgoKGU9PmUuZmluZ2VycHJpbnR8fGtDKFwiRklOR0VSUFJJTlRcIikpKTtjb25zdCBuPXRoaXMuX2FkZHJlc3Nlc1t0aGlzLmN1cnJlbnRVUkxJbmRleF07dGhpcy5zdGF0ZT1cImNvbm5lY3RpbmdcIix0aGlzLmNyZWF0ZVRyYW5zbWl0dGVyQ29ubmVjdGlvbihuKS50aGVuKHQpLmNhdGNoKGkpLHRoaXMub25jZShDSS5DTE9TRUQsKCgpPT5pKG5ldyB4dih4Zy5XU19ESVNDT05ORUNUKSkpKSx0aGlzLm9uY2UoQ0kuQ09OTkVDVEVELCgoKT0+dCgpKSl9O3JldHVybiB0aGlzLl9pbml0TXV0ZXgubG9jaygpLnRoZW4oKGU9Pm5ldyB0ZygoKGUsdCk9PntpKGUsdCl9KSkudGhlbigoKCk9PntlKCl9KSkuY2F0Y2goKCgpPT57ZSgpfSkpKSl9c2VuZE1lc3NhZ2UoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZighdGhpcy5fdHJhbnNtaXR0ZXJ8fCF0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbil0aHJvdyBuZXcgeHYoeGcuV1NfQUJPUlQsXCJkYXRhY2hhbm5lbCBpcyBub3QgcmVhZHlcIik7dHJ5e3R8fChlPUpTT04uc3RyaW5naWZ5KGUpKSx0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbi5zZW5kTWVzc2FnZShlKX1jYXRjaChlKXt0aHJvdyBuZXcgeHYoeGcuV1NfRVJSLFwic2VuZCBkYXRhY2hhbm5lbCBzaWduYWwgbWVzc2FnZSBlcnJvclwiK2UudG9TdHJpbmcoKSl9fXVuYmluZERjQ2xvc2VFdmVudExpc3RlbmVyKCl7dGhpcy5fdHJhbnNtaXR0ZXImJih0aGlzLl90cmFuc21pdHRlci5vbmNsb3NlPW51bGwpfXNlbmRNZXNzYWdlV2l0aEpTT04oZSl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTtyZXR1cm57Y29tcHJlc3NlZDp0LGNvbXByZXNzZWRMZW5ndGg6dC5sZW5ndGgsb3JpZ2luOmV9fXNlbmRNZXNzYWdlV2l0aFVpbnQ4QXJyYXkoZSl7cmV0dXJue2NvbXByZXNzZWQ6ZSxjb21wcmVzc2VkTGVuZ3RoOmUuYnl0ZUxlbmd0aCxvcmlnaW46ZX19Y3JlYXRlVHJhbnNtaXR0ZXJDb25uZWN0aW9uKGUpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25JRCs9MSx0aGlzLl9qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRJbmRleD12b2lkIDAsdGhpcy5fdXJsPVwiZGM6Ly9cIi5jb25jYXQoZS5pcCxcIjpcIikuY29uY2F0KGUucG9ydCksbmV3IHRnKCgodCxpKT0+e3ZhciBuO2NvbnN0IHI9KCk9PntLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl0gZGF0YWNoYW5uZWwgb3BlbmVkOlwiKSx0aGlzLl91cmwpLHRoaXMucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsdGhpcy5zdGF0ZT1cImNvbm5lY3RlZFwiLHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcIm9wZW5lZFwiKSx0KCl9LHM9YXN5bmMgZT0+e3ZhciBuO2lmKG51bGw9PT0obj10aGlzLl9jbG9zZUVzdGFibGlzaGluZ1RyYW5zbWl0dGVyKXx8dm9pZCAwPT09bnx8bi5jYWxsKHRoaXMpLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSBkYXRhY2hhbm5lbCBjbG9zZSBcIikuY29uY2F0KHRoaXMuX3VybCxcIiwgY29kZTogXCIpLmNvbmNhdChlLmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdChlLnJlYXNvbixcIiwgY3VycmVudCBtb2RlOiBcIikuY29uY2F0KHRoaXMucmVjb25uZWN0TW9kZSkpLHRoaXMuX3JlY29ubmVjdENvdW50PHRoaXMuX3JldHJ5Q29uZmlnLm1heFJldHJ5Q291bnQpe1wiY29ubmVjdGVkXCI9PT10aGlzLnN0YXRlJiYodGhpcy5yZWNvbm5lY3RSZWFzb249ZS5yZWFzb24sdGhpcy5zdGF0ZT1cInJlY29ubmVjdGluZ1wiKTtjb25zdCBuPVRUKHRoaXMsQ0kuV0lMTF9SRUNPTk5FQ1QsdGhpcy5yZWNvbm5lY3RNb2RlKXx8dGhpcy5yZWNvbm5lY3RNb2RlLHI9YXdhaXQgdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKG4pO2lmKFwiY2xvc2VkXCI9PT10aGlzLnN0YXRlKXJldHVybiB2b2lkIEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25JRCxcIl0gZGMgaXMgY2xvc2VkLCBubyBuZWVkIHRvIHJlY29ubmVjdFwiKSk7aWYoIXIpcmV0dXJuIGkobmV3IHh2KHhnLldTX0RJU0NPTk5FQ1QsXCJkYXRhY2hhbm5lbCByZWNvbm5lY3QgZmFpbGVkOiBcIi5jb25jYXQoZS5jb2RlKSkpLHZvaWQgdGhpcy5jbG9zZSghMCk7dCgpfWVsc2UgaShuZXcgeHYoeGcuV1NfRElTQ09OTkVDVCxcImRhdGFjaGFubmVsIGNsb3NlOiBcIi5jb25jYXQoZS5jb2RlKSkpLHRoaXMuY2xvc2UoKX0sbz1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uKXx8dm9pZCAwPT09dHx8dC5vbkRhdGEoZS5kYXRhKX07dGhpcy5fdHJhbnNtaXR0ZXImJih0aGlzLl90cmFuc21pdHRlci5vbmNsb3NlPW51bGwsdGhpcy5fdHJhbnNtaXR0ZXIuY2xvc2UoKSksdGhpcy5fcmVsaWFibGVUcmFuc21pc3Npb24mJih0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbi5jbG9zZSgpLHRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uPXZvaWQgMCksS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIHN0YXJ0IGNvbm5lY3QsIGFkZHJlc3M6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKTtjb25zdCBhPW51bGw9PT0obj10aGlzLl9zdG9yZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJnYXRld2F5XCJ9KSxjPURhdGUubm93KCk7ZlQodGhpcyxDSS5UT19DT05ORUNUX0RBVEFDSEFOTkVMLGUpLnRoZW4oKGU9Pnt2YXIgdCxpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcInRyYW5zbWlzc29uSW5mbyBub3QgZXhpc3QgeWV0XCIpO2NvbnN0e3RyYW5zbWl0dGVyOm4sY2xvc2U6ZH09ZTt0aGlzLl90cmFuc21pdHRlcj1uLG51bGw9PT0odD10aGlzLl9zdG9yZSl8fHZvaWQgMD09PXR8fHQuc2lnbmFsQ2hhbm5lbE9wZW4oKTtjb25zdCBsPURhdGUubm93KCktYztLQy5kZWJ1ZyhcIltjaG9vc2UgZGNdIGRjIG9wZW4gY29zdCBcIi5jb25jYXQobCxcIm1zXCIpKTt0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbj1uZXcgYkQoKGU9Pnt2YXIgdDt0aGlzLl90cmFuc21pdHRlciYmXCJvcGVuXCI9PT10aGlzLl90cmFuc21pdHRlci5yZWFkeVN0YXRlJiYobnVsbD09PSh0PXRoaXMuX3RyYW5zbWl0dGVyKXx8dm9pZCAwPT09dHx8dC5zZW5kKGUpKX0pLChlPT57XCJzdHJpbmdcIj09dHlwZW9mIGUmJnRoaXMuZW1pdChDSS5PTl9NRVNTQUdFLGUpfSkpLHRoaXMuX2Nsb3NlRXN0YWJsaXNoaW5nVHJhbnNtaXR0ZXI9KCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5fcmVsaWFibGVUcmFuc21pc3Npb24pfHx2b2lkIDA9PT1lfHxlLmNsb3NlKCksdGhpcy5fcmVsaWFibGVUcmFuc21pc3Npb249dm9pZCAwLGQoKX0sciYmcigpLG4ub25jbG9zZT1zLG4ub25tZXNzYWdlPW8sbnVsbD09PShpPXRoaXMuX3N0b3JlKXx8dm9pZCAwPT09aXx8aS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxhKSx0aGlzLl9qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRJbmRleD1hfSkpLmNhdGNoKChlPT57dmFyIHQ7aWYobnVsbD09PSh0PXRoaXMuX3N0b3JlKXx8dm9pZCAwPT09dHx8dC5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOmUgaW5zdGFuY2VvZiB4diYmZS5jb2RlPT09eGcuV1NfQUJPUlQ/XCJhYm9ydGVkXCI6XCJlcnJvclwiLGVycm9yczpbZV19LGEpLFwiY2xvc2VkXCIhPT10aGlzLnN0YXRlKXtpZihlIGluc3RhbmNlb2YgeHYmJmUuY29kZT09PXhnLldTX0VSUil7Y29uc3QgdD1uZXcgeHYoeGcuV1NfRVJSLFwiaW5pdCBkYXRhY2hhbm5lbCBmYWlsZWQhIEVycm9yOiBcIi5jb25jYXQoZS50b1N0cmluZygpKSk7cmV0dXJuIEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXVwiKS5jb25jYXQodCkpLHZvaWQgaSh0KX1zJiZzKGUpfWVsc2UgaShuZXcgeHYoeGcuV1NfRElTQ09OTkVDVCxcImRhdGFjaGFubmVsIGlzIGNsb3NlZDogXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpKX0pKX0pKX1hc3luYyByZWNvbm5lY3RXaXRoQWN0aW9uKGUpe2xldCB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYodGhpcy5fcmVjb25uZWN0Q291bnQ+PXRoaXMuX3JldHJ5Q29uZmlnLm1heFJldHJ5Q291bnQpcmV0dXJuITE7aWYoIXRoaXMuX2FkZHJlc3NlcylyZXR1cm4hMTtpZihcImNsb3NlZFwiPT09dGhpcy5zdGF0ZSlyZXR1cm4hMTt0aGlzLl9vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcnx8UlQubmV0d29ya1N0YXRlIT09aFQuT0ZGTElORXx8KHRoaXMuX29ubGluZVJlY29ubmVjdExpc3RlbmVyPVJULm9ubGluZVdhaXRlciYmUlQub25saW5lV2FpdGVyLnRoZW4oKCgpPT57dGhpcy5fb25saW5lUmVjb25uZWN0TGlzdGVuZXI9dm9pZCAwfSkpKTtsZXQgaT0hMDtpZih0aGlzLl9yZWNvbm5lY3RJbnRlcnJ1cHRlcj0oKT0+e2k9ITF9LHQpe2NvbnN0IHQ9elQodGhpcy5fcmVjb25uZWN0Q291bnQsdGhpcy5fcmV0cnlDb25maWcpO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSB3YWl0IFwiKS5jb25jYXQodCxcIm1zIHRvIHJlY29ubmVjdCBkYXRhY2hhbm5lbCwgbW9kZTogXCIpLmNvbmNhdChlKSksYXdhaXQgdGcucmFjZShbVVQodCksdGhpcy5fb25saW5lUmVjb25uZWN0TGlzdGVuZXJ8fG5ldyB0ZygoKCk9Pnt9KSldKX1pZihcImNsb3NlZFwiPT09dGhpcy5zdGF0ZXx8IWkpcmV0dXJuITE7dGhpcy5fcmVjb25uZWN0Q291bnQrPTE7Y29uc3Qgbj1hc3luYyhlLHQpPT57dGhpcy5lbWl0KENJLlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTix0KSxhd2FpdCB0aGlzLmNyZWF0ZVRyYW5zbWl0dGVyQ29ubmVjdGlvbihlKX07dHJ5e2lmKFwicmV0cnlcIj09PWUpe2NvbnN0IHQ9dGhpcy5fYWRkcmVzc2VzW3RoaXMuY3VycmVudFVSTEluZGV4XTt0aGlzLmVtaXQoQ0kuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKSxhd2FpdCBuKHQsZSl9ZWxzZSBpZihcInRyeU5leHRcIj09PWUpe3RoaXMuY3VycmVudFVSTEluZGV4Kz0xO2ZvcihsZXQgZT10aGlzLmN1cnJlbnRVUkxJbmRleDtlPHRoaXMuX2FkZHJlc3Nlcy5sZW5ndGg7ZSsrKXtpZih0aGlzLl9hZGRyZXNzZXNbZV0uZmluZ2VycHJpbnR8fGtDKFwiRklOR0VSUFJJTlRcIikpe3RoaXMuY3VycmVudFVSTEluZGV4PWU7YnJlYWt9dGhpcy5jdXJyZW50VVJMSW5kZXgrPTF9aWYodGhpcy5jdXJyZW50VVJMSW5kZXg+PXRoaXMuX2FkZHJlc3Nlcy5sZW5ndGgpcmV0dXJuIEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSB0aGUgYXZhaWxhYmxlIGFkZHJlc3NlcyBhcmUgZXhoYXVzdGVkLCBjaGFuZ2UgdG8gcmVjb3ZlclwiKSksYXdhaXQgdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKFwicmVjb3ZlclwiLCExKTtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl0gZGF0YWNoYW5uZWwgdXJsIGxlbmd0aDogXCIpLmNvbmNhdCh0aGlzLl9hZGRyZXNzZXMubGVuZ3RoLFwiIGN1cnJlbnQgaW5kZXg6IFwiKS5jb25jYXQodGhpcy5jdXJyZW50VVJMSW5kZXgpKTtjb25zdCB0PXRoaXMuX2FkZHJlc3Nlc1t0aGlzLmN1cnJlbnRVUkxJbmRleF07dGhpcy5lbWl0KENJLlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZSksYXdhaXQgbih0LGUpfWVsc2VcInJlY292ZXJcIj09PWUmJihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl0gc3RhcnQgdG8gZmFpbGJhY2sgdG8gd2Vic29ja2V0XCIpKSx0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJyZWNvdmVyIG1vZGVcIiksdGhpcy5lbWl0KENJLlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZSksdGhpcy5lbWl0KENJLkZBSUxCQUNLKSk7cmV0dXJuITB9Y2F0Y2goaSl7dmFyIHIscztyZXR1cm4gS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIHJlY29ubmVjdCBmYWlsZWRcIiksaS50b1N0cmluZygpKSxudWxsIT1pJiZudWxsIT09KHI9aS5kYXRhKSYmdm9pZCAwIT09ciYmci5kZXNjJiZBcnJheS5pc0FycmF5KGkuZGF0YS5kZXNjKSYmaS5kYXRhLmRlc2MubGVuZ3RoJiZQcihzPWkuZGF0YS5kZXNjKS5jYWxsKHMsXCJkeW5hbWljIGtleSBleHBpcmVkXCIpPyh0aGlzLmVtaXQoQ0kuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUpLCExKTphd2FpdCB0aGlzLnJlY29ubmVjdFdpdGhBY3Rpb24oZSx0KX19fWNsYXNzIE9EIGV4dGVuZHMgaVR7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9c2V0IGNvbm5lY3Rpb25TdGF0ZShlKXtlIT09dGhpcy5fY29ubmVjdGlvblN0YXRlJiYodGhpcy5fY29ubmVjdGlvblN0YXRlPWUsZT09PWZ2LkNPTk5FQ1RFRD90aGlzLmVtaXQoZ3YuV1NfQ09OTkVDVEVEKTplPT09ZnYuUkVDT05ORUNUSU5HP3RoaXMuZW1pdChndi5XU19SRUNPTk5FQ1RJTkcsdGhpcy5fd2Vic29ja2V0UmVjb25uZWN0UmVhc29uKTplPT09ZnYuQ0xPU0VEJiZ0aGlzLmVtaXQoZ3YuV1NfQ0xPU0VELHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbikpfWdldCBjdXJyZW50VVJMSW5kZXgoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQuY3VycmVudFVSTEluZGV4fWdldCB1cmwoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQ/dGhpcy53ZWJzb2NrZXQudXJsOm51bGx9Z2V0IHJ0dCgpe3JldHVybiB0aGlzLnJ0dFJvbGxpbmcubWVhbigpfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxudSh0aGlzLFwiX2Rpc2Nvbm5lY3RlZFJlYXNvblwiLHZvaWQgMCksbnUodGhpcyxcIl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLG51KHRoaXMsXCJfY29ubmVjdGlvblN0YXRlXCIsZnYuQ0xPU0VEKSxudSh0aGlzLFwicmVjb25uZWN0VG9rZW5cIix2b2lkIDApLG51KHRoaXMsXCJ3ZWJzb2NrZXRcIix2b2lkIDApLG51KHRoaXMsXCJvcGVuQ29ubmVjdGlvblRpbWVcIix2b2lkIDApLG51KHRoaXMsXCJjbGllbnRJZFwiLHZvaWQgMCksbnUodGhpcyxcImxhc3RNc2dUaW1lXCIsRGF0ZS5ub3coKSksbnUodGhpcyxcInVwbG9hZENhY2hlXCIsW10pLG51KHRoaXMsXCJ1cGxvYWRDYWNoZUludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwicnR0Um9sbGluZ1wiLG5ldyBkUyg1KSksbnUodGhpcyxcInBpbmdwb25nVGltZXJcIix2b2lkIDApLG51KHRoaXMsXCJpbmZsYXRlRGF0YVRpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwicGluZ3BvbmdUaW1lb3V0Q291bnRcIiwwKSxudSh0aGlzLFwiam9pblJlc3BvbnNlXCIsdm9pZCAwKSxudSh0aGlzLFwibXVsdGlJcE9wdGlvblwiLHZvaWQgMCksbnUodGhpcyxcImluaXRFcnJvclwiLHZvaWQgMCksbnUodGhpcyxcInNwZWNcIix2b2lkIDApLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcIm9uV2Vic29ja2V0TWVzc2FnZVwiLChlPT57aWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiB2b2lkIHRoaXMuZW1pdChndi5PTl9CSU5BUllfREFUQSxlKTtjb25zdCB0PUpTT04ucGFyc2UoZSk7aWYodGhpcy5sYXN0TXNnVGltZT1EYXRlLm5vdygpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiX2lkXCIpKXtjb25zdCBlPVwicmVzLUBcIi5jb25jYXQodC5faWQpO3RoaXMuZW1pdChlLHQuX3Jlc3VsdCx0Ll9tZXNzYWdlKX1lbHNlIGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiX3R5cGVcIikmJih0aGlzLmVtaXQodC5fdHlwZSx0Ll9tZXNzYWdlKSx0Ll90eXBlPT09UnYuT05fTk9USUZJQ0FUSU9OJiZ0aGlzLmhhbmRsZU5vdGlmaWNhdGlvbih0Ll9tZXNzYWdlKSx0Ll90eXBlPT09UnYuT05fVVNFUl9CQU5ORUQpKXN3aXRjaCh0Ll9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgMTQ6dGhpcy5jbG9zZShjVC5VSURfQkFOTkVEKTticmVhaztjYXNlIDE1OnRoaXMuY2xvc2UoY1QuSVBfQkFOTkVEKTticmVhaztjYXNlIDE2OnRoaXMuY2xvc2UoY1QuQ0hBTk5FTF9CQU5ORUQpfX0pKSx0aGlzLmNsaWVudElkPWUuY2xpZW50SWQsdGhpcy5zcGVjPWUsdGhpcy5zdG9yZT10LHRoaXMud2Vic29ja2V0PW5ldyB3RChcImdhdGV3YXktXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLHRoaXMuc3BlYy5yZXRyeUNvbmZpZywhMCx0KSx0aGlzLmhhbmRsZVdlYnNvY2tldEV2ZW50cygpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09ZnYuQ09OTkVDVEVEJiZ0aGlzLnJlY29ubmVjdChcInJldHJ5XCIsUkkuT0ZGTElORSl9KSl9YXN5bmMgcmVxdWVzdChlLHQsaSxuKXtjb25zdCByPXhUKDYsXCJcIikscz17X2lkOnIsX3R5cGU6ZSxfbWVzc2FnZTp0fSxvPXRoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCxhPSgpPT5uZXcgdGcoKCh0LGkpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGU9PT1mdi5DT05ORUNURUQpcmV0dXJuIHQoKTtjb25zdCBuPSgpPT57dGhpcy5vZmYoZ3YuV1NfQ0xPU0VELHIpLHQoKX0scj0oKT0+e3RoaXMub2ZmKGd2LldTX0NPTk5FQ1RFRCxuKSxpKG5ldyB4dih4Zy5XU19BQk9SVCkpfTt0aGlzLm9uY2UoZ3YuV1NfQ09OTkVDVEVELG4pLHRoaXMub25jZShndi5XU19DTE9TRUQsciksZSE9PVR2LlBVQkxJU0gmJmUhPT1Udi5TVUJTQ1JJQkUmJmUhPT1Udi5VTlNVQlNDUklCRSYmZSE9PVR2LlVOUFVCTElTSCYmZSE9PVR2LkNPTlRST0wmJmUhPT1Udi5SRVNUQVJUX0lDRXx8dGhpcy5vbmNlKGd2LkRJU0NPTk5FQ1RfUDJQLCgoKT0+e2kobmV3IHh2KHhnLkRJU0NPTk5FQ1RfUDJQKSl9KSksZSE9PVR2LlBVQkxJU0gmJmUhPT1Udi5SRVNUQVJUX0lDRXx8dGhpcy5vbmNlKGd2LkFCT1JUX1AyUF9FWEVDVVRJT04sKCgpPT57aShuZXcgeHYoeGcuRElTQ09OTkVDVF9QMlApKX0pKX0pKTtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PWZ2LkNPTk5FQ1RJTkcmJnRoaXMuY29ubmVjdGlvblN0YXRlIT09ZnYuUkVDT05ORUNUSU5HfHxlPT09VHYuSk9JTnx8ZT09PVR2LlJFSk9JTnx8YXdhaXQgYSgpLGU9PT1Udi5MRUFWRSYmKHRoaXMud2Vic29ja2V0LnVuYmluZERjQ2xvc2VFdmVudExpc3RlbmVyKCksbj0hMCksdGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UocywhMCwhMSksbilyZXR1cm47Y29uc3QgYz1uZXcgdGcoKChpLG4pPT57bGV0IHM9ITE7Y29uc3QgYT0obixyKT0+e3M9ITAsaSh7aXNTdWNjZXNzOlwic3VjY2Vzc1wiPT09bixtZXNzYWdlOnJ8fHt9fSksdGhpcy5vZmYoZ3YuV1NfQ0xPU0VELGMpLHRoaXMub2ZmKGd2LldTX1JFQ09OTkVDVElORyxjKSx0aGlzLmVtaXQoZ3YuUkVRVUVTVF9TVUNDRVNTLGUsdCl9O3RoaXMub25jZShcInJlcy1AXCIuY29uY2F0KHIpLGEpO2NvbnN0IGM9KCk9PntuKG5ldyB4dih4Zy5XU19BQk9SVCxcInR5cGU6IFwiLmNvbmNhdChlKSkpLHRoaXMub2ZmKGd2LldTX0NMT1NFRCxjKSx0aGlzLm9mZihndi5XU19SRUNPTk5FQ1RJTkcsYyksdGhpcy5vZmYoXCJyZXMtQFwiLmNvbmNhdChyKSxhKX07dGhpcy5vbmNlKGd2LldTX0NMT1NFRCxjKSx0aGlzLm9uY2UoZ3YuV1NfUkVDT05ORUNUSU5HLGMpLFVUKGtDKFwiU0lHTkFMX1JFUVVFU1RfVElNRU9VVFwiKSkudGhlbigoKCk9Pnt0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQhPT1vfHxzfHwoS0Mud2FybmluZyhcImRjIHJlcXVlc3QgdGltZW91dCwgdHlwZTogXCIuY29uY2F0KGUpKSx0aGlzLmVtaXQoZ3YuUkVRVUVTVF9USU1FT1VULGUsdCkpfSkpfSkpO2xldCBkPW51bGw7dHJ5e2Q9YXdhaXQgY31jYXRjaChuKXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PWZ2LkNMT1NFRHx8ZT09PVR2LkxFQVZFKXRocm93IG5ldyB4dih4Zy5XU19BQk9SVCk7cmV0dXJuIXRoaXMuc3BlYy5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2V8fGk/bi50aHJvdygpOmU9PT1Udi5KT0lOfHxlPT09VHYuUkVKT0lOP251bGw6KGF3YWl0IGEoKSxhd2FpdCB0aGlzLnJlcXVlc3QoZSx0KSl9aWYoZC5pc1N1Y2Nlc3MpcmV0dXJuIGQubWVzc2FnZTtjb25zdCBsPU51bWJlcihkLm1lc3NhZ2UuZXJyb3JfY29kZXx8ZC5tZXNzYWdlLmNvZGUpLGg9VUkobCksdT1uZXcgeHYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIlwiLmNvbmNhdChoLmRlc2MsXCI6IFwiKS5jb25jYXQoZC5tZXNzYWdlLmVycm9yX3N0cikse2NvZGU6bCxkYXRhOmQubWVzc2FnZX0pO3JldHVyblwic3VjY2Vzc1wiPT09aC5hY3Rpb24/ZC5tZXNzYWdlOihLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsXCJdIHVuZXhwZWN0ZWQgcmVzcG9uc2UgZnJvbSB0eXBlIFwiKS5jb25jYXQoZSxcIiwgZXJyb3JfY29kZTogXCIpLmNvbmNhdChsLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGguZGVzYyxcIiwgYWN0aW9uOiBcIikuY29uY2F0KGguYWN0aW9uKSksbD09PW12LkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlM/ZT09PVR2LkpPSU58fGU9PT1Udi5SRUpPSU4/KHRoaXMuaW5pdEVycm9yPXUsdGhpcy5jbG9zZSgpLHUudGhyb3coKSk6dS50aHJvdygpOlwiZmFpbGVkXCI9PT1oLmFjdGlvbj91LnRocm93KCk6XCJxdWl0XCI9PT1oLmFjdGlvbj8odGhpcy5pbml0RXJyb3I9dSx0aGlzLmNsb3NlKCksdS50aHJvdygpKToobD09PW12LkVSUl9KT0lOX0JZX01VTFRJX0lQPyh0aGlzLm11bHRpSXBPcHRpb249ZC5tZXNzYWdlLm9wdGlvbixLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBkZXRlY3QgbXVsdGkgaXAsIHJlY292ZXJcIikpLHRoaXMucmVjb25uZWN0KFwicmVjb3ZlclwiLFJJLk1VTFRJX0lQKSk6dGhpcy5yZWNvbm5lY3QoaC5hY3Rpb24sUkkuU0VSVkVSX0VSUk9SKSxlPT09VHYuSk9JTnx8ZT09PVR2LlJFSk9JTj9udWxsOmF3YWl0IHRoaXMucmVxdWVzdChlLHQpKSl9d2FpdE1lc3NhZ2UoZSx0KXtyZXR1cm4gbmV3IHRnKChpPT57Y29uc3Qgbj1yPT57KCF0fHx0KHIpKSYmKHRoaXMub2ZmKGUsbiksaShyKSl9O3RoaXMub24oZSxuKX0pKX11cGxvYWQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O3RyeXt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKX1jYXRjaChlKXtjb25zdCB0PWtDKFwiTUFYX1VQTE9BRF9DQUNIRVwiKXx8NTA7dGhpcy51cGxvYWRDYWNoZS5wdXNoKGkpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPnQmJnRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+MCYmIXRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCYmKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1mdi5DT05ORUNURUQpcmV0dXJuO2NvbnN0IGU9dGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKVswXTswPT09dGhpcy51cGxvYWRDYWNoZS5sZW5ndGgmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwpLHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD12b2lkIDApLHRoaXMudXBsb2FkKGUuX3R5cGUsZS5fbWVzc2FnZSl9KSxrQyhcIlVQTE9BRF9DQUNIRV9JTlRFUlZBTFwiKXx8MmUzKSl9fXNlbmQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpfWluaXQoZSx0KXtyZXR1cm4gdGhpcy5pbml0RXJyb3I9dm9pZCAwLHRoaXMubXVsdGlJcE9wdGlvbj12b2lkIDAsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMub3BlbkNvbm5lY3Rpb25UaW1lPXZvaWQgMCxuZXcgdGcoKChpLG4pPT57dGhpcy5vbmNlKGd2LldTX0NPTk5FQ1RFRCwoKCk9PmkodGhpcy5qb2luUmVzcG9uc2UpKSksdGhpcy5vbmNlKGd2LldTX0NMT1NFRCwoKCk9Pm4odGhpcy5pbml0RXJyb3J8fG5ldyB4dih4Zy5XU19BQk9SVCkpKSksdGhpcy5jb25uZWN0aW9uU3RhdGU9ZnYuQ09OTkVDVElORyx0aGlzLndlYnNvY2tldC5pbml0KGUpLmNhdGNoKG4pLHRoaXMud2Vic29ja2V0Lm9uY2UoQ0kuRkFJTEJBQ0ssKCgpPT57dm9pZCAwPT09dGhpcy5vcGVuQ29ubmVjdGlvblRpbWUmJm4obmV3IHh2KHhnLklOSVRfREFUQUNIQU5ORUxfVElNRU9VVCkpfSkpLHRoaXMuaW5mbGF0ZURhdGFUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbmZsYXRlRGF0YVRpbWVyKSx0aGlzLmluZmxhdGVEYXRhVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMuaGFuZGxlSW5mbGF0ZURhdGEoKX0pLDJlNCksc2V0VGltZW91dCgoKCk9Pnt0JiZ2b2lkIDA9PT10aGlzLm9wZW5Db25uZWN0aW9uVGltZSYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBpbml0IGRhdGFjaGFubmVsIHRpbWVvdXQgd2hpbGUgam9pbiB3aXRoIGZhaWxiYWNrIHRvIHdlYnNvY2tldFwiKSksbihuZXcgeHYoeGcuSU5JVF9EQVRBQ0hBTk5FTF9USU1FT1VUKSkpfSksa0MoXCJEQ19KT0lOX1dJVEhfRkFJTEJBQ0tcIikpfSkpfWNsb3NlKGUpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMuaW5mbGF0ZURhdGFUaW1lciYmKHRoaXMuaGFuZGxlSW5mbGF0ZURhdGEoKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmluZmxhdGVEYXRhVGltZXIpLHRoaXMuaW5mbGF0ZURhdGFUaW1lcj12b2lkIDApLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb249ZXx8Y1QuTEVBVkUsdGhpcy5jb25uZWN0aW9uU3RhdGU9ZnYuQ0xPU0VELEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBcIikrXCJ3aWxsIGNsb3NlIGRhdGFjaGFubmVsIGluIHNpZ25hbFwiKSx0aGlzLndlYnNvY2tldC5jbG9zZSgpLGU9PT1jVC5GQUxMQkFDSyYmKHRoaXMud2Vic29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMud2Vic29ja2V0PW5ldyB3RChcImdhdGV3YXktXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLHRoaXMuc3BlYy5yZXRyeUNvbmZpZywhMCx0aGlzLnN0b3JlKSx0aGlzLmhhbmRsZVdlYnNvY2tldEV2ZW50cygpKX1hc3luYyBqb2luKCl7aWYoIXRoaXMuam9pblJlc3BvbnNlKXt0aGlzLmVtaXQoZ3YuQUJPUlRfUDJQX0VYRUNVVElPTik7Y29uc3QgZT1hd2FpdCBmVCh0aGlzLGd2LkRBVEFDSEFOTkVMX0NPTk5FQ1RJTkcpLHQ9YXdhaXQgdGhpcy5yZXF1ZXN0KFR2LkpPSU4sZSk7aWYoIXQpcmV0dXJuIHRoaXMuZW1pdChndi5SRVBPUlRfSk9JTl9HQVRFV0FZLHhnLlRJTUVPVVQsdGhpcy51cmx8fFwiXCIpLCExO3RoaXMuam9pblJlc3BvbnNlPXQsdGhpcy5lbWl0KGd2LkpPSU5fUkVTUE9OU0UsdGhpcy5qb2luUmVzcG9uc2UpLHRoaXMucmVjb25uZWN0VG9rZW49dGhpcy5qb2luUmVzcG9uc2UucmVqb2luX3Rva2VufXJldHVybiB0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DT05ORUNURUQsdGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5oYW5kbGVQaW5nUG9uZy5iaW5kKHRoaXMpLDNlMyksITB9YXN5bmMgcmVqb2luKCl7aWYoIXRoaXMucmVjb25uZWN0VG9rZW4pdGhyb3cgbmV3IHh2KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IHJlam9pbiwgbm8gcmVqb2luIHRva2VuXCIpO2NvbnN0IGU9U1QodGhpcyxndi5SRVFVRVNUX1JFSk9JTl9JTkZPKTtlLnRva2VuPXRoaXMucmVjb25uZWN0VG9rZW47Y29uc3QgdD1hd2FpdCB0aGlzLnJlcXVlc3QoVHYuUkVKT0lOLGUpO3JldHVybiEhdCYmKHRoaXMuY29ubmVjdGlvblN0YXRlPWZ2LkNPTk5FQ1RFRCx0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksM2UzKSx0LnBlZXJzJiZ0LnBlZXJzLmZvckVhY2goKGU9Pnt0aGlzLmVtaXQoUnYuT05fVVNFUl9PTkxJTkUse3VpZDplLnVpZH0pLGUuYXVkaW8mJnRoaXMuZW1pdChSdi5PTl9BRERfQVVESU9fU1RSRUFNLHt1aWQ6ZS51aWQsdWludF9pZDplLnVpbnRfaWQsYXVkaW86ITAsc3NyY0lkOmUuYXVkaW9fc3NyY30pLGUudmlkZW8mJnRoaXMuZW1pdChSdi5PTl9BRERfVklERU9fU1RSRUFNLHt1aWQ6ZS51aWQsdWludF9pZDplLnVpbnRfaWQsdmlkZW86ITAsc3NyY0lkOmUudmlkZW9fc3NyY30pLGUuYXVkaW9fbXV0ZT90aGlzLmVtaXQoUnYuTVVURV9BVURJTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KFJ2LlVOTVVURV9BVURJTyx7dWlkOmUudWlkfSksZS52aWRlb19tdXRlP3RoaXMuZW1pdChSdi5NVVRFX1ZJREVPLHt1aWQ6ZS51aWR9KTp0aGlzLmVtaXQoUnYuVU5NVVRFX1ZJREVPLHt1aWQ6ZS51aWR9KSxlLmF1ZGlvX2VuYWJsZV9sb2NhbD90aGlzLmVtaXQoUnYuRU5BQkxFX0xPQ0FMX0FVRElPLHt1aWQ6ZS51aWR9KTp0aGlzLmVtaXQoUnYuRElTQUJMRV9MT0NBTF9BVURJTyx7dWlkOmUudWlkfSksZS52aWRlb19lbmFibGVfbG9jYWw/dGhpcy5lbWl0KFJ2LkVOQUJMRV9MT0NBTF9WSURFTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KFJ2LkRJU0FCTEVfTE9DQUxfVklERU8se3VpZDplLnVpZH0pLGUuYXVkaW98fGUudmlkZW98fHRoaXMuZW1pdChSdi5PTl9SRU1PVkVfU1RSRUFNLHt1aWQ6ZS51aWQsdWludF9pZDplLnVpbnRfaWR9KX0pKSwhMCl9cmVjb25uZWN0KGUsdCl7dGhpcy5waW5ncG9uZ1RpbWVyJiYodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCksdGhpcy53ZWJzb2NrZXQucmVjb25uZWN0KGUsdCl9aGFuZGxlTm90aWZpY2F0aW9uKGUpe0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNlaXZlIG5vdGlmaWNhdGlvbjogXCIpLGUpO2NvbnN0IHQ9VUkoZS5jb2RlKTtpZihcInN1Y2Nlc3NcIiE9PXQuYWN0aW9uKXtpZihcImZhaWxlZFwiIT09dC5hY3Rpb24pcmV0dXJuXCJxdWl0XCI9PT10LmFjdGlvbj8oXCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiPT09dC5kZXNjJiZ0aGlzLmNsb3NlKGNULlVJRF9CQU5ORUQpLHZvaWQgdGhpcy5jbG9zZSgpKTp2b2lkIHRoaXMucmVjb25uZWN0KHQuYWN0aW9uLFJJLlNFUlZFUl9FUlJPUik7S0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGlnbm9yZSBlcnJvcjogXCIpLHQuZGVzYyl9fWhhbmRsZVBpbmdQb25nKCl7aWYoIXRoaXMud2Vic29ja2V0fHxcImNvbm5lY3RlZFwiIT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpcmV0dXJuO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+MCYmdGhpcy5ydHRSb2xsaW5nLmFkZCgzZTMpLHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQrPTE7Y29uc3QgZT1rQyhcIlBJTkdfUE9OR19USU1FX09VVFwiKSx0PURhdGUubm93KCk7dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD49ZSYmKEtDLndhcm5pbmcoXCJQSU5HUE9ORyBUaW1lb3V0LiBMYXN0IFNvY2tldCBNZXNzYWdlOiBcIi5jb25jYXQodC10aGlzLmxhc3RNc2dUaW1lLFwibXNcIikpLHQtdGhpcy5sYXN0TXNnVGltZT5rQyhcIldFQlNPQ0tFVF9USU1FT1VUX01JTlwiKSk/dGhpcy5yZWNvbm5lY3QoXCJyZXRyeVwiLFJJLlRJTUVPVVQpOnRoaXMucmVxdWVzdChUdi5QSU5HLHZvaWQgMCwhMCkudGhlbigoKCk9Pnt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTA7Y29uc3QgZT1EYXRlLm5vdygpLXQ7dGhpcy5ydHRSb2xsaW5nLmFkZChlKSxrQyhcIlJFUE9SVF9TVEFUU1wiKSYmdGhpcy5zZW5kKFR2LlBJTkdfQkFDSyx7cGluZ3BvbmdFbGFwc2U6ZX0pfSkpLmNhdGNoKChlPT57fSkpfWhhbmRsZUluZmxhdGVEYXRhKCl7Y29uc3R7aW5mbGF0ZUxlbmd0aDplLGRlZmxhdGVMZW5ndGg6dH09dGhpcy53ZWJzb2NrZXQuZ2V0SW5mbGF0ZURhdGEoKTswIT09ZSYmMCE9PXQmJnRoaXMudXBsb2FkKFN2LldTX0lORkxBVEVfREFUQV9MRU5HVEgse3dzX2RlZmxhdGVfbGVuZ3RoOnQsd3NfaW5mbGF0ZV9sZW5ndGg6ZX0pfWhhbmRsZVdlYnNvY2tldEV2ZW50cygpe3RoaXMud2Vic29ja2V0Lm9uKENJLlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsKGU9Pnt0aGlzLmVtaXQoZ3YuV1NfUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKX0pKSx0aGlzLndlYnNvY2tldC5vbihDSS5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sKGU9Pnt0aGlzLmVtaXQoZ3YuV1NfUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKENJLk9OX01FU1NBR0UsdGhpcy5vbldlYnNvY2tldE1lc3NhZ2UpLHRoaXMud2Vic29ja2V0Lm9uKENJLkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DTE9TRUR9KSksdGhpcy53ZWJzb2NrZXQub24oQ0kuRkFJTEVELCgoKT0+e3RoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1jVC5ORVRXT1JLX0VSUk9SLHRoaXMuY29ubmVjdGlvblN0YXRlPWZ2LkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbihDSS5SRUNPTk5FQ1RJTkcsKGU9Pnt0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb249ZSx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1mdi5DT05ORUNURUQ/dGhpcy5jb25uZWN0aW9uU3RhdGU9ZnYuUkVDT05ORUNUSU5HOnRoaXMuY29ubmVjdGlvblN0YXRlPWZ2LkNPTk5FQ1RJTkd9KSksdGhpcy53ZWJzb2NrZXQub24oQ0kuV0lMTF9SRUNPTk5FQ1QsKChlLHQpPT57aWYoU1QodGhpcyxndi5JU19QMlBfRElTQ09OTkVDVEVEKSYmXCJyZXRyeVwiPT09ZSlyZXR1cm4gS0MuZGVidWcoXCJcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIiByZWNvbm5lY3QgbW9kZSBpcyByZXRyeSwgYnV0IHAycCBsb3N0LCBjaGFuZ2UgdG8gdHJ5TmV4dFwiKSksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5lbWl0KGd2Lk5FRURfUkVORVdfU0VTU0lPTiksdGhpcy5lbWl0KGd2LkRJU0NPTk5FQ1RfUDJQKSx0KFwidHJ5TmV4dFwiKTtcInJldHJ5XCIhPT1lJiYoS0MuZGVidWcoXCJcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIiB3ZWJzb2NrdCB3aWxsX2Nvbm5lY3QgZXZlbnQsIHJlbmV3U2Vzc2lvbiByZWNvbm5lY3RNb2RlIGlzIFwiKS5jb25jYXQoZSkpLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuZW1pdChndi5ORUVEX1JFTkVXX1NFU1NJT04pLHRoaXMuZW1pdChndi5ESVNDT05ORUNUX1AyUCkpLHQoZSl9KSksdGhpcy53ZWJzb2NrZXQub24oQ0kuQ09OTkVDVEVELCgoKT0+e3RoaXMub3BlbkNvbm5lY3Rpb25UaW1lPURhdGUubm93KCksdGhpcy5yZWNvbm5lY3RUb2tlbj90aGlzLnJlam9pbigpLmNhdGNoKChlPT57S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVqb2luIGZhaWxlZCBcIikuY29uY2F0KGUpKSx0aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixSSS5TRVJWRVJfRVJST1IpfSkpOnRoaXMuam9pbigpLmNhdGNoKChlPT57aWYodGhpcy5lbWl0KGd2LlJFUE9SVF9KT0lOX0dBVEVXQVksZS5tZXNzYWdlfHxlLmNvZGUsdGhpcy51cmx8fFwiXCIpLGUgaW5zdGFuY2VvZiB4diYmZS5jb2RlPT09eGcuVU5FWFBFQ1RFRF9SRVNQT05TRSYmZS5kYXRhLmNvZGU9PT1tdi5FUlJfTk9fQVVUSE9SSVpFRClyZXR1cm4gS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVjb25uZWN0IG5vIGF1dGhvcml6ZWQsIHJlY292ZXJcIikpLHZvaWQgdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsUkkuU0VSVkVSX0VSUk9SKTtLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gam9pbiBnYXRld2F5IHJlcXVlc3QgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZT90aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixSSS5TRVJWRVJfRVJST1IpOih0aGlzLmluaXRFcnJvcj1lLHRoaXMuY2xvc2UoKSl9KSl9KSksdGhpcy53ZWJzb2NrZXQub24oQ0kuUkVRVUVTVF9ORVdfVVJMUywoKGUsdCk9PntmVCh0aGlzLGd2LlJFUVVFU1RfUkVDT1ZFUix0aGlzLm11bHRpSXBPcHRpb24pLnRoZW4oZSkuY2F0Y2godCl9KSksdGhpcy53ZWJzb2NrZXQub24oQ0kuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUsKCgpPT57dGhpcy5lbWl0KFJ2Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKX0pKSx0aGlzLndlYnNvY2tldC5vbihDSS5UT19DT05ORUNUX0RBVEFDSEFOTkVMLChhc3luYyhlLHQsaSk9PmZUKHRoaXMsZ3YuREFUQUNIQU5ORUxfUFJFQ09OTkVDVCxlKS50aGVuKHQpLmNhdGNoKGkpKSksdGhpcy53ZWJzb2NrZXQub24oQ0kuRkFJTEJBQ0ssKCgpPT57dm9pZCAwIT09dGhpcy5vcGVuQ29ubmVjdGlvblRpbWUmJnRoaXMuZW1pdChndi5EQVRBQ0hBTk5FTF9GQUlMQkFDSyl9KSl9fWNsYXNzIE5EIGV4dGVuZHMgaVR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxudSh0aGlzLFwiX3NpZ25hbFwiLHZvaWQgMCksbnUodGhpcyxcIl9zZXF1ZW5jZVwiLDApLG51KHRoaXMsXCJfdXNlck1hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJfZW5jb2RlclwiLG5ldyBUZXh0RW5jb2RlciksdGhpcy5fc2lnbmFsPWV9YXN5bmMgc2VuZChlLHQsaSxuLHIpe3ZhciBzLG8sYTtcInN0cmluZ1wiIT10eXBlb2YgdCYmKHQ9SlNPTi5zdHJpbmdpZnkodCkpLG49bnVsbCE9PShzPW4pJiZ2b2lkIDAhPT1zP3M6eFQoNixcIlwiKSxyPW51bGwhPT0obz1yKSYmdm9pZCAwIT09bz9vOnRoaXMuX3NlcXVlbmNlKys7Y29uc3QgYz17X2lkOm4sX3R5cGU6ZSxfc2VxOm51bGwhPT0oYT1yKSYmdm9pZCAwIT09YT9hOnRoaXMuX3NlcXVlbmNlKyssX21lc3NhZ2U6dH07aWYoa0MoXCJTSE9XX1AyUF9MT0dcIikmJktDLmRlYnVnKFwic2VuZCBtZXNzYWdlXCIsYyksdGhpcy5zZW5kU3RyZWFtTWVzc2FnZShKU09OLnN0cmluZ2lmeShjKSksaSlyZXR1cm47Y29uc3QgZD1uZXcgdGcoKCh0LGkpPT57Y29uc3Qgcj13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KG4pLHMpLEtDLndhcm5pbmcoXCJbZXh0ZXJuYWwtc2lnbmFsXSByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiLmNvbmNhdChlKSksMD09PXRoaXMuX3VzZXJNYXAuc2l6ZT9pKG5ldyBWZyh4Zy5JTlZBTElEX1JFTU9URV9VU0VSKSk6aShuZXcgVmcoeGcuVElNRU9VVCkpfSksa0MoXCJFWFRFUk5BTF9TSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpKSxzPShlLG4pPT57ciYmd2luZG93LmNsZWFyVGltZW91dChyKSxcInN1Y2Nlc3NcIj09PWU/dCh7aXNTdWNjZXNzOiEwLG1lc3NhZ2U6bn0pOmkobmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsbikpfTt0aGlzLm9uY2UoXCJyZXMtQFwiLmNvbmNhdChuKSxzKX0pKTtsZXQgbDt0cnl7bD1hd2FpdCBkfWNhdGNoKGkpe2lmKGkuY29kZT09PXhnLlRJTUVPVVQpcmV0dXJuIGF3YWl0IHRoaXMuc2VuZChlLHQsITEsbixyKTt0aHJvdyBpfXJldHVybiBsLmlzU3VjY2Vzcz9sLm1lc3NhZ2U6dm9pZCAwfXNlbmRTdHJlYW1NZXNzYWdlKGUpe3RoaXMuX3NwbGl0TWVzc2FnZShlKS5mb3JFYWNoKChlPT57dGhpcy5fc2lnbmFsLnJlcXVlc3QoVHYuREFUQV9TVFJFQU0se3BheWxvYWQ6UFQodGhpcy5fZW5jb2Rlci5lbmNvZGUoZSkpfSl9KSl9b25NZXNzYWdlKGUpe2NvbnN0e191aWQ6dH09ZTtsZXQgaTtjb25zdCBuPXRoaXMuX3VzZXJNYXAuZ2V0KHQpO2lmKG4/aT1uLnNwbGl0TWVzc2FnZU1hcDooaT1uZXcgTWFwLHRoaXMuX3VzZXJNYXAuc2V0KHQse2lzU3RhcnQ6ITEsc3BsaXRNZXNzYWdlTWFwOmksbmV4dEV4cGVjdGVkU2VxdWVuY2VOdW1iZXI6MCxyZWNlaXZlZE1lc3NhZ2VzTWFwOm5ldyBNYXB9KSksXCJpZFwiaW4gZSYmXCJ0b3RhbFwiaW4gZSl7dmFyIHI7Y29uc3R7aWQ6bix0b3RhbDpzfT1lLG89bnVsbCE9PShyPWkuZ2V0KG4pKSYmdm9pZCAwIT09cj9yOltdO2lmKG8ucHVzaChlKSxpLmhhcyhuKXx8aS5zZXQobixvKSxvLmxlbmd0aCE9PXMpcmV0dXJuO3tjb25zdCByPVp1KG8pLmNhbGwobywoKGUsdCk9PmUuaW5kZXgtdC5pbmRleCkpLm1hcCgoZT0+ZS5wYXlsb2FkKSkuam9pbihcIlwiKTtpLmRlbGV0ZShuKSwoZT1KU09OLnBhcnNlKHIpKS5fdWlkPXR9fXRoaXMuaGFuZGxlUmVjZWl2ZWRNZXNzYWdlKGUpfXNldFN0YXJ0KGUpe3RoaXMuX3VzZXJNYXAuaGFzKGUpP3RoaXMuX3VzZXJNYXAuZ2V0KGUpLmlzU3RhcnQ9ITA6dGhpcy5fdXNlck1hcC5zZXQoZSx7aXNTdGFydDohMCxzcGxpdE1lc3NhZ2VNYXA6bmV3IE1hcCxuZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcjowLHJlY2VpdmVkTWVzc2FnZXNNYXA6bmV3IE1hcH0pLHRoaXMuaGFuZGxlUmVjZWl2ZWRNZXNzYWdlKCl9c2V0RW5kKGUpe3JldHVybiB0aGlzLl91c2VyTWFwLmRlbGV0ZShlKSwwPT09dGhpcy5fdXNlck1hcC5zaXplfWFjayhlLHQsaSl7dGhpcy5zZW5kKHdJLkFDSyxKU09OLnN0cmluZ2lmeSh7c3VjY2VzczohaSxtZXNzYWdlOnR9KSwhMCxlKX1oYW5kbGVSZWNlaXZlZE1lc3NhZ2UoZSl7Y29uc3QgdD0oKT0+e3RoaXMuX3VzZXJNYXAuZm9yRWFjaCgoZT0+e2NvbnN0e3JlY2VpdmVkTWVzc2FnZXNNYXA6dCxuZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcjppfT1lO2Zvcig7dC5oYXMoaSk7KXtjb25zdCBuPXQuZ2V0KGkpO3QuZGVsZXRlKGkpLHRoaXMucmVjZWl2ZU1lc3NhZ2UobiksZS5uZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcisrfX0pKX07aWYoIWUpcmV0dXJuIHZvaWQgdCgpO2NvbnN0e191aWQ6aSxfc2VxOm59PWUscj10aGlzLl91c2VyTWFwLmdldChpKSx7cmVjZWl2ZWRNZXNzYWdlc01hcDpzLGlzU3RhcnQ6byxuZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcjphfT1yO248YT9LQy5kZWJ1ZyhcIltleHRlcm5hbC1zaWduYWxdIHJlY2VpdmUgb2xkIG1lc3NhZ2UsIHNlcTogXCIuY29uY2F0KG4pKToocy5zZXQobixlKSxvJiZuPT09YSYmKHRoaXMucmVjZWl2ZU1lc3NhZ2UoZSkscy5kZWxldGUoYSksci5uZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcisrLHQoKSkpfXJlY2VpdmVNZXNzYWdlKGUpe2NvbnN0e19pZDp0LF90eXBlOmksX21lc3NhZ2U6bixfdWlkOnJ9PWU7aWYoa0MoXCJTSE9XX1AyUF9MT0dcIikmJktDLmRlYnVnKFwi5pS25Yiw5raI5oGvXCIsZSksdClzd2l0Y2goZS5fdHlwZSl7Y2FzZSB3SS5QVUJMSVNIOmNvbnN0IHM9SlNPTi5wYXJzZShuKTt0aGlzLl9zaWduYWwuZW1pdChpLHMsciksdGhpcy5hY2soZS5faWQpO2JyZWFrO2Nhc2Ugd0kuQ09OVFJPTDpjYXNlIHdJLlVOUFVCTElTSDpjYXNlIHdJLkRPX1NVQlNDUklCRTpjYXNlIHdJLkRPX1VOU1VCU0NSSUJFOntjb25zdCB0PUpTT04ucGFyc2Uobik7dC51aWQ9cixmVCh0aGlzLl9zaWduYWwsaSx0KS50aGVuKCh0PT57dGhpcy5hY2soZS5faWQsdCl9KSkuY2F0Y2goKHQ9Pnt0aGlzLmFjayhlLl9pZCx2b2lkIDAsITApfSkpO2JyZWFrfWNhc2Ugd0kuQUNLOntjb25zdHtzdWNjZXNzOmUsbWVzc2FnZTppfT1KU09OLnBhcnNlKG4pO3RoaXMuZW1pdChcInJlcy1AXCIuY29uY2F0KHQpLGU/XCJzdWNjZXNzXCI6XCJmYWlsZWRcIixpKTticmVha31jYXNlIHdJLkNBTEw6ZlQodGhpcyxpLG4pLnRoZW4oKGU9Pnt0aGlzLmFjayh0LGUpfSkpO2JyZWFrO2Nhc2Ugd0kuUkVTVEFSVF9JQ0U6Y2FzZSB3SS5FWENIQU5HRV9TRFA6Y2FzZSB3SS5TVUJTQ1JJQkU6Y2FzZSB3SS5VTlNVQlNDUklCRTpmVCh0aGlzLl9zaWduYWwsaSxuKS50aGVuKChlPT57dGhpcy5hY2sodCxlKX0pKS5jYXRjaCgodD0+e3RoaXMuYWNrKGUuX2lkLHZvaWQgMCwhMCl9KSk7YnJlYWs7Y2FzZSB3SS5DQU5ESURBVEU6dGhpcy5fc2lnbmFsLmVtaXQoaSxuKSx0aGlzLmFjayh0KTticmVhaztjYXNlIHdJLkpPSU46dGhpcy5lbWl0KGksSlNPTi5wYXJzZShuKSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmVtaXQoaSxuKSx0aGlzLmFjayh0KX19X3NwbGl0TWVzc2FnZShlKXtpZihlLmxlbmd0aDxORC5NQVhfTUVTU0FHRV9TSVpFKXJldHVybltlXTtjb25zdCB0PVtdLGk9eFQoNixcIlwiKTtsZXQgbj0wO2NvbnN0IHI9TWF0aC5jZWlsKGUubGVuZ3RoLzgwMCk7Zm9yKDtlLmxlbmd0aD4wOyl7bisrO2NvbnN0IHM9ZS5zbGljZSgwLDgwMCk7dC5wdXNoKHtpZDppLGluZGV4Om4sdG90YWw6cixwYXlsb2FkOnN9KSxlPWUuc2xpY2UoODAwKX1yZXR1cm4gdC5tYXAoKGU9PkpTT04uc3RyaW5naWZ5KGUpKSl9Y2xlYXIoKXt0aGlzLl9zZXF1ZW5jZT0wLHRoaXMuX3VzZXJNYXAuY2xlYXIoKX19bnUoTkQsXCJNQVhfTUVTU0FHRV9TSVpFXCIsMTAyNCk7Y2xhc3MgREQgZXh0ZW5kcyBpVHtnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZX1zZXQgY29ubmVjdGlvblN0YXRlKGUpe2UhPT10aGlzLl9jb25uZWN0aW9uU3RhdGUmJih0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSxlPT09ZnYuQ09OTkVDVEVEP3RoaXMuZW1pdChndi5XU19DT05ORUNURUQpOmU9PT1mdi5SRUNPTk5FQ1RJTkc/dGhpcy5lbWl0KGd2LldTX1JFQ09OTkVDVElORyx0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb24pOmU9PT1mdi5DTE9TRUQmJnRoaXMuZW1pdChndi5XU19DTE9TRUQsdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uKSl9Z2V0IGN1cnJlbnRVUkxJbmRleCgpe3JldHVybiB0aGlzLndlYnNvY2tldC5jdXJyZW50VVJMSW5kZXh9Z2V0IHVybCgpe3JldHVybiB0aGlzLndlYnNvY2tldCYmdGhpcy53ZWJzb2NrZXQudXJsfHxudWxsfWdldCBydHQoKXtyZXR1cm4gdGhpcy5ydHRSb2xsaW5nLm1lYW4oKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksbnUodGhpcyxcIl9kaXNjb25uZWN0ZWRSZWFzb25cIix2b2lkIDApLG51KHRoaXMsXCJfd2Vic29ja2V0UmVjb25uZWN0UmVhc29uXCIsdm9pZCAwKSxudSh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLGZ2LkNMT1NFRCksbnUodGhpcyxcInJlY29ubmVjdFRva2VuXCIsdm9pZCAwKSxudSh0aGlzLFwiX3VzZXJJblJvb21cIiwhMSksbnUodGhpcyxcIl91c2VyT25saW5lVGltZVwiLHZvaWQgMCksbnUodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksbnUodGhpcyxcIm9wZW5Db25uZWN0aW9uVGltZVwiLHZvaWQgMCksbnUodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxudSh0aGlzLFwibGFzdE1zZ1RpbWVcIixEYXRlLm5vdygpKSxudSh0aGlzLFwidXBsb2FkQ2FjaGVcIixbXSksbnUodGhpcyxcInVwbG9hZENhY2hlSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJydHRSb2xsaW5nXCIsbmV3IGRTKDUpKSxudSh0aGlzLFwicGluZ3BvbmdUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcIndzSW5mbGF0ZURhdGFUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcInBpbmdwb25nVGltZW91dENvdW50XCIsMCksbnUodGhpcyxcImpvaW5SZXNwb25zZVwiLHZvaWQgMCksbnUodGhpcyxcIm11bHRpSXBPcHRpb25cIix2b2lkIDApLG51KHRoaXMsXCJpbml0RXJyb3JcIix2b2lkIDApLG51KHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJfZXh0ZXJuYWxfc2lnbmFsXCIsdm9pZCAwKSxudSh0aGlzLFwib25XZWJzb2NrZXRNZXNzYWdlXCIsKGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gdm9pZCB0aGlzLmVtaXQoZ3YuT05fQklOQVJZX0RBVEEsZS5kYXRhKTtjb25zdCB0PUpTT04ucGFyc2UoZS5kYXRhKTtpZih0aGlzLmxhc3RNc2dUaW1lPURhdGUubm93KCksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfaWRcIikpe2NvbnN0IGU9XCJyZXMtQFwiLmNvbmNhdCh0Ll9pZCk7dGhpcy5lbWl0KGUsdC5fcmVzdWx0LHQuX21lc3NhZ2UpfWVsc2UgaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfdHlwZVwiKSl7c3dpdGNoKHQuX3R5cGUpe2Nhc2UgUnYuT05fREFUQV9TVFJFQU06cmV0dXJuIHZvaWQgdGhpcy5oYW5kbGVEYXRhU3RyZWFtKHQuX21lc3NhZ2UpO2Nhc2UgUnYuTVVURV9BVURJTzpjYXNlIFJ2Lk1VVEVfVklERU86Y2FzZSBSdi5PTl9QMlBfTE9TVDpyZXR1cm47Y2FzZSBSdi5PTl9VU0VSX09OTElORTp0aGlzLmVtaXQodC5fdHlwZSx0Ll9tZXNzYWdlKTtjb25zdHt1aWQ6ZX09dC5fbWVzc2FnZTtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLnNldFN0YXJ0KGUpLHZvaWQgdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLnNlbmQod0kuSk9JTix7b25saW5lVGltZTp0aGlzLl91c2VyT25saW5lVGltZX0sITApfWlmKHRoaXMuZW1pdCh0Ll90eXBlLHQuX21lc3NhZ2UpLHQuX3R5cGU9PT1Sdi5PTl9OT1RJRklDQVRJT04mJnRoaXMuaGFuZGxlTm90aWZpY2F0aW9uKHQuX21lc3NhZ2UpLHQuX3R5cGU9PT1Sdi5PTl9VU0VSX0JBTk5FRClzd2l0Y2godC5fbWVzc2FnZS5lcnJvcl9jb2RlKXtjYXNlIDE0OnRoaXMuY2xvc2UoY1QuVUlEX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNTp0aGlzLmNsb3NlKGNULklQX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNjp0aGlzLmNsb3NlKGNULkNIQU5ORUxfQkFOTkVEKX1pZih0Ll90eXBlPT09UnYuT05fVVNFUl9MSUNFTlNFX0JBTk5FRClzd2l0Y2godC5fbWVzc2FnZS5lcnJvcl9jb2RlKXtjYXNlIG12LkVSUl9MSUNFTlNFX01JU1NJTkc6dGhpcy5jbG9zZShjVC5MSUNFTlNFX01JU1NJTkcpO2JyZWFrO2Nhc2UgbXYuRVJSX0xJQ0VOU0VfRVhQSVJFRDp0aGlzLmNsb3NlKGNULkxJQ0VOU0VfRVhQSVJFRCk7YnJlYWs7Y2FzZSBtdi5FUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEOnRoaXMuY2xvc2UoY1QuTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEKTticmVhaztjYXNlIG12LkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEOnRoaXMuY2xvc2UoY1QuTElDRU5TRV9QRVJJT0RfSU5WQUxJRCk7YnJlYWs7Y2FzZSBtdi5FUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRTp0aGlzLmNsb3NlKGNULkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0UpO2JyZWFrO2Nhc2UgbXYuRVJSX0xJQ0VOU0VfSUxMRUdBTDp0aGlzLmNsb3NlKGNULkxJQ0VOU0VfSUxMRUdBTCk7YnJlYWs7ZGVmYXVsdDp0aGlzLmNsb3NlKCl9fX0pKSx0aGlzLmNsaWVudElkPWUuY2xpZW50SWQsdGhpcy5zcGVjPWUsdGhpcy5zdG9yZT10LHRoaXMud2Vic29ja2V0PW5ldyB6SShcImdhdGV3YXktXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLHRoaXMuc3BlYy5yZXRyeUNvbmZpZywhMCxrQyhcIkpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU5cIiksa0MoXCJKT0lOX0dBVEVXQVlfVVNFXzQ0M1BPUlRfT05MWVwiKSx0KSx0aGlzLmhhbmRsZVdlYnNvY2tldEV2ZW50cygpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09ZnYuQ09OTkVDVEVEJiZ0aGlzLnJlY29ubmVjdChcInJldHJ5XCIsbFQuT0ZGTElORSl9KSksdGhpcy5fZXh0ZXJuYWxfc2lnbmFsPW5ldyBORCh0aGlzKSx0aGlzLl9oYW5kbGVTaWduYWxQMlBFdmVudHMoKX1hc3luYyByZXF1ZXN0KGUsdCxpLG4pe2NvbnN0IHI9eFQoNixcIlwiKSxzPXtfaWQ6cixfdHlwZTplLF9tZXNzYWdlOnR9LG89dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELGE9KCk9Pm5ldyB0ZygoKHQsaSk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PWZ2LkNPTk5FQ1RFRClyZXR1cm4gdCgpO2NvbnN0IG49KCk9Pnt0aGlzLm9mZihndi5XU19DTE9TRUQsciksdCgpfSxyPSgpPT57dGhpcy5vZmYoZ3YuV1NfQ09OTkVDVEVELG4pLGkobmV3IFZnKHhnLldTX0FCT1JUKSl9O3RoaXMub25jZShndi5XU19DT05ORUNURUQsbiksdGhpcy5vbmNlKGd2LldTX0NMT1NFRCxyKSxlIT09VHYuUFVCTElTSCYmZSE9PVR2LlNVQlNDUklCRSYmZSE9PVR2LlVOU1VCU0NSSUJFJiZlIT09VHYuVU5QVUJMSVNIJiZlIT09VHYuQ09OVFJPTCYmZSE9PVR2LlJFU1RBUlRfSUNFfHx0aGlzLm9uY2UoZ3YuRElTQ09OTkVDVF9QMlAsKCgpPT57aShuZXcgVmcoeGcuRElTQ09OTkVDVF9QMlApKX0pKSxlIT09VHYuUFVCTElTSCYmZSE9PVR2LlJFU1RBUlRfSUNFfHx0aGlzLm9uY2UoZ3YuQUJPUlRfUDJQX0VYRUNVVElPTiwoKCk9PntpKG5ldyBWZyh4Zy5ESVNDT05ORUNUX1AyUCkpfSkpfSkpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09ZnYuQ09OTkVDVElORyYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1mdi5SRUNPTk5FQ1RJTkd8fGU9PT1Udi5KT0lOfHxlPT09VHYuUkVKT0lOfHxhd2FpdCBhKCksdGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UocywhMCksbilyZXR1cm47Y29uc3QgYz1uZXcgdGcoKChpLG4pPT57bGV0IHM9ITE7Y29uc3QgYT0obixyKT0+e3M9ITAsaSh7aXNTdWNjZXNzOlwic3VjY2Vzc1wiPT09bixtZXNzYWdlOnJ8fHt9fSksdGhpcy5vZmYoZ3YuV1NfQ0xPU0VELGMpLHRoaXMub2ZmKGd2LldTX1JFQ09OTkVDVElORyxjKSx0aGlzLmVtaXQoZ3YuUkVRVUVTVF9TVUNDRVNTLGUsdCl9O3RoaXMub25jZShcInJlcy1AXCIuY29uY2F0KHIpLGEpO2NvbnN0IGM9KCk9PntuKG5ldyBWZyh4Zy5XU19BQk9SVCxcInR5cGU6IFwiLmNvbmNhdChlKSkpLHRoaXMub2ZmKGd2LldTX0NMT1NFRCxjKSx0aGlzLm9mZihndi5XU19SRUNPTk5FQ1RJTkcsYyksdGhpcy5vZmYoXCJyZXMtQFwiLmNvbmNhdChyKSxhKX07dGhpcy5vbmNlKGd2LldTX0NMT1NFRCxjKSx0aGlzLm9uY2UoZ3YuV1NfUkVDT05ORUNUSU5HLGMpLFVUKGtDKFwiU0lHTkFMX1JFUVVFU1RfVElNRU9VVFwiKSkudGhlbigoKCk9Pnt0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQhPT1vfHxzfHwoS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gd3MgcmVxdWVzdCB0aW1lb3V0LCB0eXBlOiBcIikuY29uY2F0KGUpKSx0aGlzLmVtaXQoZ3YuUkVRVUVTVF9USU1FT1VULGUsdCkpfSkpfSkpO2xldCBkPW51bGw7dHJ5e2Q9YXdhaXQgY31jYXRjaChuKXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PWZ2LkNMT1NFRHx8ZT09PVR2LkxFQVZFKXRocm93IG5ldyBWZyh4Zy5XU19BQk9SVCk7cmV0dXJuIXRoaXMuc3BlYy5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2V8fGk/bi50aHJvdygpOmU9PT1Udi5KT0lOfHxlPT09VHYuUkVKT0lOP251bGw6KGF3YWl0IGEoKSxhd2FpdCB0aGlzLnJlcXVlc3QoZSx0KSl9aWYoZC5pc1N1Y2Nlc3MpcmV0dXJuIGQubWVzc2FnZTtjb25zdCBsPU51bWJlcihkLm1lc3NhZ2UuZXJyb3JfY29kZXx8ZC5tZXNzYWdlLmNvZGUpLGg9VUkobCksdT1uZXcgVmcoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIlwiLmNvbmNhdChoLmRlc2MsXCI6IFwiKS5jb25jYXQoZC5tZXNzYWdlLmVycm9yX3N0cikse2NvZGU6bCxkYXRhOmQubWVzc2FnZX0pO3JldHVyblwic3VjY2Vzc1wiPT09aC5hY3Rpb24/ZC5tZXNzYWdlOihLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsXCJdIHVuZXhwZWN0ZWQgcmVzcG9uc2UgZnJvbSB0eXBlIFwiKS5jb25jYXQoZSxcIiwgZXJyb3JfY29kZTogXCIpLmNvbmNhdChsLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGguZGVzYyxcIiwgYWN0aW9uOiBcIikuY29uY2F0KGguYWN0aW9uKSksbD09PW12LkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlM/ZT09PVR2LkpPSU58fGU9PT1Udi5SRUpPSU4/KHRoaXMuaW5pdEVycm9yPXUsdGhpcy5jbG9zZSgpLHUudGhyb3coKSk6dS50aHJvdygpOlwiZmFpbGVkXCI9PT1oLmFjdGlvbj91LnRocm93KCk6XCJxdWl0XCI9PT1oLmFjdGlvbj8odGhpcy5pbml0RXJyb3I9dSx0aGlzLmNsb3NlKCksdS50aHJvdygpKToobD09PW12LkVSUl9KT0lOX0JZX01VTFRJX0lQPyh0aGlzLm11bHRpSXBPcHRpb249ZC5tZXNzYWdlLm9wdGlvbixLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBkZXRlY3QgbXVsdGkgaXAsIHJlY292ZXJcIikpLHRoaXMucmVjb25uZWN0KFwicmVjb3ZlclwiLGxULk1VTFRJX0lQKSk6dGhpcy5yZWNvbm5lY3QoaC5hY3Rpb24sbFQuU0VSVkVSX0VSUk9SKSxlPT09VHYuSk9JTnx8ZT09PVR2LlJFSk9JTj9udWxsOmF3YWl0IHRoaXMucmVxdWVzdChlLHQpKSl9d2FpdE1lc3NhZ2UoZSx0KXtyZXR1cm4gbmV3IHRnKChpPT57Y29uc3Qgbj1yPT57KCF0fHx0KHIpKSYmKHRoaXMub2ZmKGUsbiksaShyKSl9O3RoaXMub24oZSxuKX0pKX11cGxvYWQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O3RyeXt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKX1jYXRjaChlKXtjb25zdCB0PWtDKFwiTUFYX1VQTE9BRF9DQUNIRVwiKXx8NTA7dGhpcy51cGxvYWRDYWNoZS5wdXNoKGkpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPnQmJnRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+MCYmIXRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCYmKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1mdi5DT05ORUNURUQpcmV0dXJuO2NvbnN0IGU9dGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKVswXTswPT09dGhpcy51cGxvYWRDYWNoZS5sZW5ndGgmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwpLHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD12b2lkIDApLHRoaXMudXBsb2FkKGUuX3R5cGUsZS5fbWVzc2FnZSl9KSxrQyhcIlVQTE9BRF9DQUNIRV9JTlRFUlZBTFwiKXx8MmUzKSl9fXNlbmQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpfWFzeW5jIHNlbmRFeHRlbnNpb25NZXNzYWdlKGUsdCxpKXtyZXR1cm4gYXdhaXQgdGhpcy53YWl0VGlsbFVzZXJPbmxpbmUoKSxhd2FpdCB0aGlzLl9leHRlcm5hbF9zaWduYWwuc2VuZChlLHQsaSl9aW5pdChlLHQpe3JldHVybiB0aGlzLmluaXRFcnJvcj12b2lkIDAsdGhpcy5tdWx0aUlwT3B0aW9uPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5vcGVuQ29ubmVjdGlvblRpbWU9dm9pZCAwLG5ldyB0ZygoKHQsaSk9Pnt0aGlzLm9uY2UoZ3YuV1NfQ09OTkVDVEVELCgoKT0+dCh0aGlzLmpvaW5SZXNwb25zZSkpKSx0aGlzLm9uY2UoZ3YuV1NfQ0xPU0VELCgoKT0+aSh0aGlzLmluaXRFcnJvcnx8bmV3IFZnKHhnLldTX0FCT1JUKSkpKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DT05ORUNUSU5HLHRoaXMud2Vic29ja2V0LmluaXQoZSkuY2F0Y2goaSksdGhpcy53c0luZmxhdGVEYXRhVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyKSx0aGlzLndzSW5mbGF0ZURhdGFUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5oYW5kbGVXc0luZmxhdGVEYXRhKCl9KSwyZTQpfSkpfWNsb3NlKGUpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyJiYodGhpcy5oYW5kbGVXc0luZmxhdGVEYXRhKCksd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy53c0luZmxhdGVEYXRhVGltZXIpLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyPXZvaWQgMCksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1lfHxjVC5MRUFWRSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DTE9TRUQsS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFwiKStcIndpbGwgY2xvc2Ugd2Vic29ja2V0IGluIHNpZ25hbFwiKSx0aGlzLndlYnNvY2tldC5jbG9zZSgpLGU9PT1jVC5GQUxMQkFDSyYmKHRoaXMud2Vic29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMud2Vic29ja2V0PW5ldyB6SShcImdhdGV3YXktXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLHRoaXMuc3BlYy5yZXRyeUNvbmZpZywhMCxrQyhcIkpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU5cIiksa0MoXCJKT0lOX0dBVEVXQVlfVVNFXzQ0M1BPUlRfT05MWVwiKSx0aGlzLnN0b3JlKSx0aGlzLmhhbmRsZVdlYnNvY2tldEV2ZW50cygpKX1hc3luYyBqb2luKCl7aWYoIXRoaXMuam9pblJlc3BvbnNlKXt0aGlzLmVtaXQoZ3YuQUJPUlRfUDJQX0VYRUNVVElPTik7Y29uc3QgZT1hd2FpdCBmVCh0aGlzLGd2LlJFUVVFU1RfSk9JTl9JTkZPKSx0PWF3YWl0IHRoaXMucmVxdWVzdChUdi5KT0lOLGUpO2lmKCF0KXJldHVybiB0aGlzLmVtaXQoZ3YuUkVQT1JUX0pPSU5fR0FURVdBWSx4Zy5USU1FT1VULHRoaXMudXJsfHxcIlwiKSwhMTt0aGlzLmpvaW5SZXNwb25zZT10LHRoaXMuZW1pdChndi5KT0lOX1JFU1BPTlNFLHRoaXMuam9pblJlc3BvbnNlKSx0aGlzLnJlY29ubmVjdFRva2VuPXRoaXMuam9pblJlc3BvbnNlLnJlam9pbl90b2tlbn1yZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGU9ZnYuQ09OTkVDVEVELHRoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuaGFuZGxlUGluZ1BvbmcuYmluZCh0aGlzKSwzZTMpLHRoaXMuX3VzZXJPbmxpbmVUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuX2V4dGVybmFsX3NpZ25hbC5jbGVhcigpLCEwfWFzeW5jIHJlam9pbigpe2lmKCF0aGlzLnJlY29ubmVjdFRva2VuKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCByZWpvaW4sIG5vIHJlam9pbiB0b2tlblwiKTtjb25zdCBlPVNUKHRoaXMsZ3YuUkVRVUVTVF9SRUpPSU5fSU5GTyk7ZS50b2tlbj10aGlzLnJlY29ubmVjdFRva2VuO3JldHVybiEhYXdhaXQgdGhpcy5yZXF1ZXN0KFR2LlJFSk9JTixlKSYmKHRoaXMuY29ubmVjdGlvblN0YXRlPWZ2LkNPTk5FQ1RFRCx0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksM2UzKSwhMCl9cmVjb25uZWN0KGUsdCl7dGhpcy5waW5ncG9uZ1RpbWVyJiYodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCksdGhpcy53ZWJzb2NrZXQucmVjb25uZWN0KGUsdCl9aGFuZGxlRGF0YVN0cmVhbShlKXt0cnl7dmFyIHQ7Y29uc3QgaT1EVChlLnBheWxvYWQpLG49KG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKGkpLHI9SlNPTi5wYXJzZShuKTtcInRvdGFsXCJpbiByJiZcImlkXCJpbiByfHxQcih0PU9iamVjdC52YWx1ZXMod0kpKS5jYWxsKHQsci5fdHlwZSk/KGUuc2VxJiZkZWxldGUgZS5zZXEsci5fdWlkPWUudWlkLHRoaXMuX2V4dGVybmFsX3NpZ25hbC5vbk1lc3NhZ2UocikpOnRoaXMuZW1pdChSdi5PTl9EQVRBX1NUUkVBTSxlKX1jYXRjaChlKXt9fWhhbmRsZU5vdGlmaWNhdGlvbihlKXtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVjZWl2ZSBub3RpZmljYXRpb246IFwiKSxlKTtjb25zdCB0PVVJKGUuY29kZSk7aWYoXCJzdWNjZXNzXCIhPT10LmFjdGlvbil7aWYoXCJmYWlsZWRcIiE9PXQuYWN0aW9uKXJldHVyblwicXVpdFwiPT09dC5hY3Rpb24/KFwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIj09PXQuZGVzYyYmdGhpcy5jbG9zZShjVC5VSURfQkFOTkVEKSx2b2lkIHRoaXMuY2xvc2UoKSk6dm9pZCB0aGlzLnJlY29ubmVjdCh0LmFjdGlvbixsVC5TRVJWRVJfRVJST1IpO0tDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBpZ25vcmUgZXJyb3I6IFwiKSx0LmRlc2MpfX1oYW5kbGVQaW5nUG9uZygpe2lmKCF0aGlzLndlYnNvY2tldHx8XCJjb25uZWN0ZWRcIiE9PXRoaXMud2Vic29ja2V0LnN0YXRlKXJldHVybjt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PjAmJnRoaXMucnR0Um9sbGluZy5hZGQoM2UzKSx0aGlzLnBpbmdwb25nVGltZW91dENvdW50Kz0xO2NvbnN0IGU9a0MoXCJQSU5HX1BPTkdfVElNRV9PVVRcIiksdD1EYXRlLm5vdygpO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+PWUmJihLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBQSU5HUE9ORyBUaW1lb3V0LiBMYXN0IFNvY2tldCBNZXNzYWdlOiBcIikuY29uY2F0KHQtdGhpcy5sYXN0TXNnVGltZSxcIm1zXCIpKSx0LXRoaXMubGFzdE1zZ1RpbWU+a0MoXCJXRUJTT0NLRVRfVElNRU9VVF9NSU5cIikpP3RoaXMucmVjb25uZWN0KFwicmV0cnlcIixsVC5USU1FT1VUKTp0aGlzLnJlcXVlc3QoVHYuUElORyx2b2lkIDAsITApLnRoZW4oKCgpPT57dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wO2NvbnN0IGU9RGF0ZS5ub3coKS10O3RoaXMucnR0Um9sbGluZy5hZGQoZSksa0MoXCJSRVBPUlRfU1RBVFNcIikmJnRoaXMuc2VuZChUdi5QSU5HX0JBQ0sse3Bpbmdwb25nRWxhcHNlOmV9KX0pKS5jYXRjaCgoZT0+e30pKX1oYW5kbGVXc0luZmxhdGVEYXRhKCl7Y29uc3R7d3NJbmZsYXRlTGVuZ3RoOmUsd3NEZWZsYXRlTGVuZ3RoOnR9PXRoaXMud2Vic29ja2V0LmdldFdzSW5mbGF0ZURhdGEoKTswIT09ZSYmMCE9PXQmJnRoaXMudXBsb2FkKFN2LldTX0lORkxBVEVfREFUQV9MRU5HVEgse3dzX2RlZmxhdGVfbGVuZ3RoOnQsd3NfaW5mbGF0ZV9sZW5ndGg6ZX0pfWhhbmRsZVdlYnNvY2tldEV2ZW50cygpe3RoaXMud2Vic29ja2V0Lm9uKEl2LlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsKGU9Pnt0aGlzLmVtaXQoZ3YuV1NfUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKX0pKSx0aGlzLndlYnNvY2tldC5vbihJdi5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sKGU9Pnt0aGlzLmVtaXQoZ3YuV1NfUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKEl2Lk9OX01FU1NBR0UsdGhpcy5vbldlYnNvY2tldE1lc3NhZ2UpLHRoaXMud2Vic29ja2V0Lm9uKEl2LkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1mdi5DTE9TRUR9KSksdGhpcy53ZWJzb2NrZXQub24oSXYuRkFJTEVELCgoKT0+e3RoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1jVC5ORVRXT1JLX0VSUk9SLHRoaXMuY29ubmVjdGlvblN0YXRlPWZ2LkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbihJdi5SRUNPTk5FQ1RJTkcsKGU9Pnt0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb249ZSx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1mdi5DT05ORUNURUQ/dGhpcy5jb25uZWN0aW9uU3RhdGU9ZnYuUkVDT05ORUNUSU5HOnRoaXMuY29ubmVjdGlvblN0YXRlPWZ2LkNPTk5FQ1RJTkd9KSksdGhpcy53ZWJzb2NrZXQub24oSXYuV0lMTF9SRUNPTk5FQ1QsKChlLHQsaSk9PntpZihTVCh0aGlzLGd2LklTX1AyUF9ESVNDT05ORUNURUQpJiZcInJldHJ5XCI9PT1lKXJldHVybiBLQy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHJlY29ubmVjdCBtb2RlIGlzIHJldHJ5LCBidXQgcDJwIGxvc3QsIGNoYW5nZSB0byB0cnlOZXh0XCIpKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmVtaXQoZ3YuTkVFRF9SRU5FV19TRVNTSU9OKSx0aGlzLmVtaXQoZ3YuRElTQ09OTkVDVF9QMlApLGkoXCJ0cnlOZXh0XCIpO1wicmV0cnlcIiE9PWUmJihLQy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHdlYnNvY2tldCB3aWxsX2Nvbm5lY3QgZXZlbnQsIHJlbmV3U2Vzc2lvbiByZWNvbm5lY3RNb2RlIGlzIFwiKS5jb25jYXQoZSkpLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuZW1pdChndi5ORUVEX1JFTkVXX1NFU1NJT04pLHRoaXMuZW1pdChndi5ESVNDT05ORUNUX1AyUCkpLGkoZSl9KSksdGhpcy53ZWJzb2NrZXQub24oSXYuQ09OTkVDVEVELCgoKT0+e3RoaXMub3BlbkNvbm5lY3Rpb25UaW1lPURhdGUubm93KCksdGhpcy5yZWNvbm5lY3RUb2tlbj90aGlzLnJlam9pbigpLmNhdGNoKChlPT57S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVqb2luIGZhaWxlZCBcIikuY29uY2F0KGUpKSx0aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixsVC5TRVJWRVJfRVJST1IpfSkpOnRoaXMuam9pbigpLmNhdGNoKChlPT57aWYodGhpcy5lbWl0KGd2LlJFUE9SVF9KT0lOX0dBVEVXQVksZS5tZXNzYWdlfHxlLmNvZGUsdGhpcy51cmx8fFwiXCIpLGUgaW5zdGFuY2VvZiBWZyYmZS5jb2RlPT09eGcuVU5FWFBFQ1RFRF9SRVNQT05TRSYmZS5kYXRhLmNvZGU9PT1tdi5FUlJfTk9fQVVUSE9SSVpFRClyZXR1cm4gS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVjb25uZWN0IG5vIGF1dGhvcml6ZWQsIHJlY292ZXJcIikpLHZvaWQgdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsbFQuU0VSVkVSX0VSUk9SKTtLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gam9pbiBnYXRld2F5IHJlcXVlc3QgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZT90aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixsVC5TRVJWRVJfRVJST1IpOih0aGlzLmluaXRFcnJvcj1lLHRoaXMuY2xvc2UoKSl9KSl9KSksdGhpcy53ZWJzb2NrZXQub24oSXYuUkVRVUVTVF9ORVdfVVJMUywoKGUsdCk9PntmVCh0aGlzLGd2LlJFUVVFU1RfUkVDT1ZFUix0aGlzLm11bHRpSXBPcHRpb24pLnRoZW4oZSkuY2F0Y2godCl9KSksdGhpcy53ZWJzb2NrZXQub24oSXYuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUsKCgpPT57dGhpcy5lbWl0KFJ2Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKX0pKX1faGFuZGxlU2lnbmFsUDJQRXZlbnRzKCl7dGhpcy5fZXh0ZXJuYWxfc2lnbmFsLm9uKHdJLkpPSU4sKGFzeW5jIGU9PntpZih0aGlzLl91c2VyT25saW5lVGltZSYmdGhpcy5fdXNlck9ubGluZVRpbWU8ZS5vbmxpbmVUaW1lKXtjb25zdCBlPWF3YWl0IGZUKHRoaXMsZ3YuUDJQX1NUQVJULHZvaWQgMCksdD1hd2FpdCB0aGlzLl9leHRlcm5hbF9zaWduYWwuc2VuZCh3SS5DQUxMLGUpO3RoaXMuZW1pdChndi5QMlBfQ09OTkVDVElPTix0LCEwKX10aGlzLl91c2VySW5Sb29tPSEwLHRoaXMuZW1pdChcInVzZXItb25saW5lXCIpfSkpLHRoaXMub24oUnYuT05fVVNFUl9PRkZMSU5FLChhc3luYyBlPT57dGhpcy5fZXh0ZXJuYWxfc2lnbmFsLmNsZWFyKCksdGhpcy5fdXNlckluUm9vbT0hMX0pKSx0aGlzLl9leHRlcm5hbF9zaWduYWwub24od0kuQ0FMTCwoYXN5bmMoZSx0LGkpPT57dGhpcy5fdXNlckluUm9vbT0hMCx0aGlzLmVtaXQoXCJ1c2VyLW9ubGluZVwiKTt0cnl7dChhd2FpdCBmVCh0aGlzLGd2LlAyUF9TVEFSVCxlKSl9Y2F0Y2goZSl7aShlKX19KSl9YXN5bmMgd2FpdFRpbGxVc2VyT25saW5lKCl7cmV0dXJuIG5ldyB0ZygoZT0+e2lmKHRoaXMuX3VzZXJJblJvb20pZSgpO2Vsc2V7Y29uc3QgdD0oKT0+e3RoaXMub2ZmKFwidXNlci1vbmxpbmVcIix0KSxlKCl9O3RoaXMub24oXCJ1c2VyLW9ubGluZVwiLHQpfX0pKX19ZnVuY3Rpb24gUEQoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIExEKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1BEKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOlBEKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNvbnN0IGtEPW5ldyBNYXA7Y2xhc3MgTUQgZXh0ZW5kcyBpVHtnZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKGUpe2lmKGU9PT10aGlzLl9zdGF0ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9zdGF0ZTt0aGlzLl9zdGF0ZT1lLFwiRElTQ09OTkVDVEVEXCI9PT1lJiZ0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb24/dGhpcy5lbWl0KGVJLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsdCx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb24pOnRoaXMuZW1pdChlSS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSxlLHQpfWdldCBqb2luR2F0ZXdheVN0YXJ0VGltZSgpe3JldHVybiB0aGlzLl9qb2luR2F0ZXdheVN0YXJ0VGltZX1zZXQgam9pbkdhdGV3YXlTdGFydFRpbWUoZSl7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHNldCBqb2luR2F0ZXdheVN0YXJ0VGltZSBhdCBcIikuY29uY2F0KGUpKSx0aGlzLl9qb2luR2F0ZXdheVN0YXJ0VGltZT1lfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksbnUodGhpcyxcImtleVwiLHZvaWQgMCksbnUodGhpcyxcIm50cE9mZnNldFwiLDApLG51KHRoaXMsXCJzaWduYWxcIix2b2lkIDApLG51KHRoaXMsXCJyb2xlXCIsdm9pZCAwKSxudSh0aGlzLFwiaW5DaGFubmVsSW5mb1wiLHtqb2luQXQ6bnVsbCxkdXJhdGlvbjowfSksbnUodGhpcyxcInNwZWNcIix2b2lkIDApLG51KHRoaXMsXCJfc3RhdGVcIixcIkRJU0NPTk5FQ1RFRFwiKSxudSh0aGlzLFwiX3N0YXRzQ29sbGVjdG9yXCIsdm9pZCAwKSxudSh0aGlzLFwiX2Rpc2Nvbm5lY3RlZFJlYXNvblwiLHZvaWQgMCksbnUodGhpcyxcImlzU2lnbmFsUmVjb3ZlclwiLCExKSxudSh0aGlzLFwiaGFzQ2hhbmdlQkdQQWRkcmVzc1wiLCExKSxudSh0aGlzLFwidHJhZmZpY1N0YXRzSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJuZXR3b3JrUXVhbGl0eUludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwiX2pvaW5HYXRld2F5U3RhcnRUaW1lXCIsMCksbnUodGhpcyxcIl9zaWduYWxUaW1lb3V0XCIsITEpLG51KHRoaXMsXCJfY2xpZW50Um9sZU9wdGlvbnNcIix2b2lkIDApLG51KHRoaXMsXCJfaXNQcm9hY3RpdmVKb2luXCIsITEpLHRoaXMuc3RvcmU9ZSx0aGlzLnNwZWM9dCx0aGlzLnNpZ25hbD10aGlzLnN0b3JlLnVzZVAyUD9uZXcgREQoTEQoTEQoe30sdCkse30se3JldHJ5Q29uZmlnOnQud2Vic29ja2V0UmV0cnlDb25maWd9KSxlKTp0aGlzLnN0b3JlLnVzZURhdGFDaGFubmVsP25ldyBPRChMRChMRCh7fSx0KSx7fSx7cmV0cnlDb25maWc6dC53ZWJzb2NrZXRSZXRyeUNvbmZpZ30pLGUpOm5ldyBRSShMRChMRCh7fSx0KSx7fSx7cmV0cnlDb25maWc6dC53ZWJzb2NrZXRSZXRyeUNvbmZpZ30pLGUpLHRoaXMuX3N0YXRzQ29sbGVjdG9yPXQuc3RhdHNDb2xsZWN0b3IsdGhpcy5yb2xlPXQucm9sZXx8XCJhdWRpZW5jZVwiLHRoaXMuX2NsaWVudFJvbGVPcHRpb25zPXQuY2xpZW50Um9sZU9wdGlvbnMsdGhpcy5oYW5kbGVTaWduYWxFdmVudHMoKX1hc3luYyBqb2luKGUsdCxpKXtpZih0aGlzLnNpZ25hbCBpbnN0YW5jZW9mIE9EKXtsZXQgdD0hMTtcImRpc2FibGVkXCIhPT1lLmNsb3VkUHJveHlTZXJ2ZXI/KEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBEYyBpcyBub3Qgc3VwcG9ydGVkLCBiZWNhdXNlIGNsb3VkUHJveHlTZXJ2ZXIgYXJlIG5vdCBzdXBwb3J0ZWQgKFwiKS5jb25jYXQoZS5jbG91ZFByb3h5U2VydmVyLFwiKVwiKSksdD0hMCk6XCJcIi5jb25jYXQoZS5hcFJlc3BvbnNlLmNpZCxcIl9cIikuY29uY2F0KGUuYXBSZXNwb25zZS5jZXJ0KS5sZW5ndGg+MjU1fHxcIlwiLmNvbmNhdChlLmFwUmVzcG9uc2UuY2lkLFwiX1wiKS5jb25jYXQoZS5hcFJlc3BvbnNlLmNlcnQpLmxlbmd0aDwyMj8oS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIERjIGlzIG5vdCBzdXBwb3J0ZWQsIGJlY2F1c2UgdGlja2V0IGxlbmd0aCBpcyBpbmNvcnJlY3QsIGl0IGhhcyB0byBiZSBiZXR3ZWVuIDIyIGFuZCAyNTVcIikpLHQ9ITApOmUuYXBSZXNwb25zZS5hZGRyZXNzZXMuc29tZSgoZT0+ZS5maW5nZXJwcmludCkpfHxrQyhcIkZJTkdFUlBSSU5UXCIpfHwoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIERjIGlzIG5vdCBzdXBwb3J0ZWQsIGJlY2F1c2UgZmluZ2VycHJpbnQgZG9lcyBub3QgZXhpc3RcIikpLHQ9ITApLHQmJnRoaXMucmVzZXRTaWduYWwoKX10aGlzLnN0b3JlLmpvaW5HYXRld2F5U3RhcnQoKSxcImRpc2FibGVkXCIhPT1lLmNsb3VkUHJveHlTZXJ2ZXImJih0aGlzLmhhc0NoYW5nZUJHUEFkZHJlc3M9ITApO2NvbnN0IG49RGF0ZS5ub3coKTtsZXQgcj1rRC5nZXQoZS5jbmFtZSk7aWYocnx8KHI9bmV3IE1hcCxrRC5zZXQoZS5jbmFtZSxyKSksdGhpcy5faXNQcm9hY3RpdmVKb2luPSEwLHIuaGFzKGUudWlkKSl7Y29uc3QgdD1uZXcgeHYoeGcuVUlEX0NPTkZMSUNUKTt0aHJvdyBydi5qb2luR2F0ZXdheShlLnNpZCx7bHRzOm4sc3VjYzohMSxlYzp0Lm1lc3NhZ2UsYWRkcjpudWxsLHVpZDplLnVpZCxjaWQ6ZS5jaWQsZmlyc3RTdWNjZXNzOnRoaXMuX2lzUHJvYWN0aXZlSm9pbixhdm9pZEpvaW5TdGFydFRpbWU6dGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydCxpc1Byb3h5OiEhZS5wcm94eVNlcnZlcixzaWduYWxDaGFubmVsOnRoaXMuc2lnbmFsIGluc3RhbmNlb2YgT0Q/XCIxXCI6XCIwXCJ9KSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITEsdH1yLnNldChlLnVpZCwhMCksdGhpcy5qb2luSW5mbz1lLHRoaXMua2V5PXQ7bGV0IHM9MDt0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lPW47Y29uc3Qgbz1lLnByb3h5U2VydmVyO3RyeXtsZXQgdDtpZihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdXNlIFwiKS5jb25jYXQodGhpcy5zaWduYWwgaW5zdGFuY2VvZiBPRD9cImRhdGFjaGFubmVsXCI6XCJ3ZWJzb2NrZXRcIixcIiBqb2luIHVpZCBcIikuY29uY2F0KHMpKSx0aGlzLnNpZ25hbCBpbnN0YW5jZW9mIE9EKXQ9YXdhaXQgdGhpcy5zaWduYWwuaW5pdChlLmFwUmVzcG9uc2UuYWRkcmVzc2VzLGkpO2Vsc2V7Y29uc3Qgbj1lLmdhdGV3YXlBZGRycy5tYXAoKHQ9PntsZXR7YWRkcmVzczppfT10O2NvbnN0W24scl09aS5zcGxpdChcIjpcIikscz17aG9zdDpuLHBvcnQ6cn07cmV0dXJuIGUucHJveHlTZXJ2ZXImJihzLnByb3h5PWUucHJveHlTZXJ2ZXIpLHN9KSk7dD1hd2FpdCB0aGlzLnNpZ25hbC5pbml0KG4saSl9cz10LnVpZCxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gXCIpLmNvbmNhdCh0aGlzLnNpZ25hbCBpbnN0YW5jZW9mIE9EP1wiZGF0YWNoYW5uZWxcIjpcIndlYnNvY2tldFwiLFwiIGpvaW4gdWlkIFwiKS5jb25jYXQocyxcIiBjb3N0IFwiKS5jb25jYXQoRGF0ZS5ub3coKS10aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lKSl9Y2F0Y2godCl7aWYodCYmdC5jb2RlPT09eGcuSU5JVF9XRUJTT0NLRVRfVElNRU9VVCl0aHJvdyBLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBVc2VyIGpvaW4gZmFpbGVkXCIpLHQudG9TdHJpbmcoKSksdDtpZih0JiZ0LmNvZGU9PT14Zy5JTklUX0RBVEFDSEFOTkVMX1RJTUVPVVQpdGhyb3cgS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gVXNlciBqb2luIGRhdGFjaGFubmVsIGZhaWxlZFwiKSx0LnRvU3RyaW5nKCkpLHRoaXMucmVzZXRTaWduYWwoKSx0O3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBVc2VyIGpvaW4gZmFpbGVkXCIpLHQudG9TdHJpbmcoKSkscnYuam9pbkdhdGV3YXkoZS5zaWQse2x0czpuLHN1Y2M6ITEsZWM6dC5tZXNzYWdlLGFkZHI6dGhpcy5zaWduYWwudXJsLHVpZDplLnVpZCxjaWQ6ZS5jaWQsZmlyc3RTdWNjZXNzOnRoaXMuX2lzUHJvYWN0aXZlSm9pbixhdm9pZEpvaW5TdGFydFRpbWU6dGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydCxpc1Byb3h5OiEhbyxzaWduYWxDaGFubmVsOnRoaXMuc2lnbmFsIGluc3RhbmNlb2YgT0Q/XCIxXCI6XCIwXCJ9KSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITEsci5kZWxldGUoZS51aWQpLHRoaXMuc2lnbmFsLmNsb3NlKCksdH1yZXR1cm4gdGhpcy5zdGF0ZT1cIkNPTk5FQ1RFRFwiLHRoaXMuaW5DaGFubmVsSW5mby5qb2luQXQ9RGF0ZS5ub3coKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gQ29ubmVjdGVkIHRvIGdhdGV3YXkgc2VydmVyXCIpKSx0aGlzLnRyYWZmaWNTdGF0c0ludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLnVwZGF0ZVRyYWZmaWNTdGF0cygpLmNhdGNoKChlPT57S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZ2V0IHRyYWZmaWMgc3RhdHMgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKX0pLDNlMyksdGhpcy5uZXR3b3JrUXVhbGl0eUludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntuYXZpZ2F0b3ImJnZvaWQgMCE9PW5hdmlnYXRvci5vbkxpbmUmJiFuYXZpZ2F0b3Iub25MaW5lP3RoaXMuZW1pdChlSS5ORVRXT1JLX1FVQUxJVFkse2Rvd25saW5rTmV0d29ya1F1YWxpdHk6Nix1cGxpbmtOZXR3b3JrUXVhbGl0eTo2fSk6dGhpcy5fc2lnbmFsVGltZW91dD90aGlzLmVtaXQoZUkuTkVUV09SS19RVUFMSVRZLHtkb3dubGlua05ldHdvcmtRdWFsaXR5OjUsdXBsaW5rTmV0d29ya1F1YWxpdHk6NX0pOlwiQ09OTkVDVEVEXCI9PT10aGlzLnN0YXRlJiZ0aGlzLl9zdGF0c0NvbGxlY3Rvci50cmFmZmljU3RhdHM/dGhpcy5lbWl0KGVJLk5FVFdPUktfUVVBTElUWSx7dXBsaW5rTmV0d29ya1F1YWxpdHk6VEQodGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzLkJfdW5xKSxkb3dubGlua05ldHdvcmtRdWFsaXR5OlREKHRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cy5CX2RucSl9KTp0aGlzLmVtaXQoZUkuTkVUV09SS19RVUFMSVRZLHt1cGxpbmtOZXR3b3JrUXVhbGl0eTowLGRvd25saW5rTmV0d29ya1F1YWxpdHk6MH0pfSksMmUzKSx0aGlzLnN0b3JlLmpvaW5HYXRld2F5RW5kKCksc31hc3luYyBsZWF2ZSgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0sdD1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtpZihcIkRJU0NPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSl7dCE9PWNULkZBTExCQUNLJiYodGhpcy5zdGF0ZT1cIkRJU0NPTk5FQ1RJTkdcIik7dHJ5e2V8fHRoaXMuc2lnbmFsLmNvbm5lY3Rpb25TdGF0ZSE9PWZ2LkNPTk5FQ1RFRHx8YXdhaXQgZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PTEvMD9lOnRnLnJhY2UoW2UsTVQodCldKX0odGhpcy5zaWduYWwucmVxdWVzdChUdi5MRUFWRSx2b2lkIDAsITApLDNlMyl9Y2F0Y2goZSl7S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gbGVhdmUgcmVxdWVzdCBmYWlsZWQsIGlnbm9yZVwiKSxlKX10aGlzLnNpZ25hbC5jbG9zZSh0KSx0IT09Y1QuRkFMTEJBQ0smJih0aGlzLnN0YXRlPVwiRElTQ09OTkVDVEVEXCIpLHRoaXMucmVzZXQoKX19YXN5bmMgcHVibGlzaChlLHQsaSl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTtjb25zdCBuPXtzdGF0ZTpcIm9mZmVyXCIscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsb3J0Yzp0LG1vZGU6dGhpcy5zcGVjLm1vZGUsZXh0ZW5kOmtDKFwiUFVCX0VYVEVORFwiKSx0d2NjOiEha0MoXCJQVUJMSVNIX1RXQ0NcIikscnR4OiEha0MoXCJVU0VfUFVCX1JUWFwiKX07dHJ5e3JldHVybihhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LlBVQkxJU0gsbiwhMCkpLl9tZXNzYWdlfWNhdGNoKG4pe2lmKGkmJm4uZGF0YSYmbi5kYXRhLmNvZGU9PT1tdi5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmUgcHVibGlzaCBlcnJvciBjb2RlLCByZXRyeVwiKSxuLnRvU3RyaW5nKCkpLGF3YWl0IHRoaXMudHJ5VW5wdWJCZWZvcmVSZXB1YihlLHQpLHRoaXMucHVibGlzaChlLHQsITEpO3Rocm93IG59fWFzeW5jIHB1Ymxpc2hEYXRhQ2hhbm5lbChlLHQsaSl7dmFyIG47aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTtjb25zdCByPXtzdHJlYW1faWQ6dC5zdHJlYW1JZCxvcmRlcmVkOnQub3JkZXJlZD8xOjAsbWF4X3JldHJhbnNfdGltZXM6bnVsbCE9PShuPXQubWF4UmV0cmFuc21pdHMpJiZ2b2lkIDAhPT1uP246MTAsY2hhbm5lbF9pZDp0LmNoYW5uZWxJZCxtZXRhZGF0YTp0Lm1ldGFkYXRhfTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5QVUJMSVNIX0RBVEFTVFJFQU0sciwhMCl9Y2F0Y2gobil7aWYoaSYmbi5kYXRhJiZuLmRhdGEuY29kZT09PW12LkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZSBwdWJsaXNoIGRhdGFjaGFubmVscyBlcnJvciBjb2RlLCByZXRyeVwiKSxuLnRvU3RyaW5nKCkpLGF3YWl0IHRoaXMudHJ5VW5wdWJEYXRhQ2hhbm5lbEJlZm9yZVJlcHViKGUsdCksdGhpcy5wdWJsaXNoRGF0YUNoYW5uZWwoZSx0LCExKTt0aHJvdyBufX1hc3luYyB1bnB1Ymxpc2goZSx0KXt0cnl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LlVOUFVCTElTSCx7c3RyZWFtX2lkOnQsb3J0YzplfSwhMCl9Y2F0Y2goZSl7S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdW5wdWJsaXNoIHdhcm5pbmc6IFwiKSxlKX19YXN5bmMgdW5wdWJsaXNoRGF0YUNoYW5uZWwoZSl7dHJ5e2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7YXdhaXQgdGcuYWxsKGUubWFwKChlPT50aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LlVOUFVCTElTSF9EQVRBU1RSRUFNLHtjaGFubmVsX2lkOmV9LCEwKSkpKX1jYXRjaChlKXtLQy53YXJuaW5nKFwidW5wdWJsaXNoIGRhdGFjaGFubmVscyB3YXJuaW5nOiBcIixlKX19YXN5bmMgc3Vic2NyaWJlKGUsdCxpKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuc3RhdGUpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBzdWJzY3JpYmUgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3Qgbj17c3RyZWFtX2lkOmUsc3RyZWFtX3R5cGU6dC5zdHJlYW1fdHlwZSxtb2RlOnRoaXMuc3BlYy5tb2RlLGNvZGVjOnRoaXMuc3BlYy5jb2RlYyxwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCx0d2NjOiEha0MoXCJTVUJTQ1JJQkVfVFdDQ1wiKSxydHg6ISFrQyhcIlVTRV9TVUJfUlRYXCIpLGV4dGVuZDprQyhcIlNVQl9FWFRFTkRcIiksc3NyY0lkOnQuc3NyY0lkLHN2YzpBcnJheS5pc0FycmF5KGtDKFwiU1ZDXCIpKSYmMCE9PWtDKFwiU1ZDXCIpLmxlbmd0aD9rQyhcIlNWQ1wiKTp2b2lkIDB9O3RyeXtyZXR1cm4oYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5TVUJTQ1JJQkUsbiwhMCkpLl9tZXNzYWdlfWNhdGNoKG4pe2lmKGkmJm4uZGF0YSYmbi5kYXRhLmNvZGU9PT1tdi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZXIgc3Vic2NyaWJlIGVycm9yIGNvZGUsIHJldHJ5XCIpLG4udG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlVbnN1YkJlZm9yZVJlc3ViKGUsdCksYXdhaXQgdGhpcy5zdWJzY3JpYmUoZSx0LCExKTt0aHJvdyBufX1hc3luYyBzdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQsaSl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc3Vic2NyaWJlIGRhdGFjaGFubmVsIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2NvbnN0IG49e3VpZDplLHN0cmVhbV9pZDp0LmlkLGNoYW5uZWxfaWQ6dC5kYXRhY2hhbm5lbElkfTt0cnl7cmV0dXJuIHZvaWQgYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5TVUJTQ1JJQkVfREFUQVNUUkVBTSxuLCEwKX1jYXRjaChuKXtpZihpJiZuLmRhdGEmJm4uZGF0YS5jb2RlPT09bXYuRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmVyIHN1YnNjcmliZSBkYXRhY2hhbm5lbCBlcnJvciBjb2RlLCByZXRyeVwiKSxuLnRvU3RyaW5nKCkpLGF3YWl0IHRoaXMudHJ5VW5zdWJEYXRhQ2hhbm5lbEJlZm9yZVJlc3ViKGUsdCksYXdhaXQgdGhpcy5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQsITEpO3Rocm93IG59fWFzeW5jIHN1YnNjcmliZUFsbChlLHQpe2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IG1hc3NTdWJzY3JpYmUgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3QgaT17cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsdXNlcnM6ZSxkdHg6ITEscnR4OiEha0MoXCJVU0VfU1VCX1JUWFwiKX07dHJ5e3JldHVybiBhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LlNVQlNDUklCRV9TVFJFQU1TLGksITApfWNhdGNoKGkpe2lmKHQmJmkuZGF0YSYmaS5kYXRhLmNvZGU9PT1tdi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZXIgbWFzc1N1YnNjcmliZSBlcnJvciBjb2RlLCByZXRyeVwiKSxpLnRvU3RyaW5nKCkpLGF3YWl0IHRoaXMudHJ5TWFzc1Vuc3ViQmVmb3JlUmVzdWIoZSksYXdhaXQgdGhpcy5zdWJzY3JpYmVBbGwoZSwhMSk7dGhyb3cgaX19YXN5bmMgc2V0VmlkZW9Qcm9maWxlKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSl7aWYoIShlLmJpdHJhdGVNYXgmJmUuYml0cmF0ZU1pbiYmZS5mcmFtZVJhdGUmJmUuaGVpZ2h0JiZlLndpZHRoKSlyZXR1cm47bGV0IHQ9ZS5mcmFtZVJhdGUsaT1lLndpZHRoLG49ZS5oZWlnaHQscj0hMDtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgdCYmKHQ9dC5leGFjdHx8dC5pZGVhbHx8dC5tYXh8fHQubWlufHwwLHR8fChyPSExKSksXCJudW1iZXJcIiE9dHlwZW9mIGkmJihpPWkuZXhhY3R8fGkuaWRlYWx8fGkubWF4fHxpLm1pbnx8MCxpfHwocj0hMSkpLFwibnVtYmVyXCIhPXR5cGVvZiBuJiYobj1uLmV4YWN0fHxuLmlkZWFsfHxuLm1heHx8bi5taW58fDAsdHx8KHI9ITEpKSxyP3tzdHJlYW1fdHlwZTowLHdpZHRoOmksaGVpZ2h0Om4sZnBzOnQsc3RhcnRfYnBzOjFlMyplLmJpdHJhdGVNYXgsbWluX2JwczoxZTMqZS5iaXRyYXRlTWluLHRhcmdldF9icHM6MWUzKmUuYml0cmF0ZU1heH06dm9pZCAwfShlKTtpZih0KXJldHVybiB0aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LlNFVF9WSURFT19QUk9GSUxFLHQpO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBlbmNvZGVyIGNvbmZpZyBpcyBub3QgY29tcGxldGUsIGRvIG5vdCByZXBvcnQgdG8gZ2F0ZXdheVwiKSl9YXN5bmMgdW5zdWJzY3JpYmUoZSx0KXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5VTlNVQlNDUklCRSx7cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsb3J0YzplLHN0cmVhbV9pZDp0fSwhMCl9Y2F0Y2goZSl7S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgd2FybmluZzogXCIpLGUpfX1hc3luYyB1bnN1YnNjcmliZURhdGFDaGFubmVsKGUsdCl7dHJ5e2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7YXdhaXQgdGcuYWxsKGUubWFwKChlPT50aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LlVOU1VCU0NSSUJFX0RBVEFTVFJFQU0se3N0cmVhbV9pZDplLHVpZDp0fSwhMCkpKSl9Y2F0Y2goZSl7S0Mud2FybmluZyhcInVuc3Vic2NyaWJlRGF0YUNoYW5uZWwgd2FybmluZzogXCIsZSl9fWFzeW5jIG1hc3NVbnN1YnNjcmliZShlKXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5VTlNVQlNDUklCRV9TVFJFQU1TLGUsITApfWNhdGNoKGUpe0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIG1hc3NVbnN1YnNjcmliZUFsbCB3YXJuaW5nOiBcIiksZSl9fWFzeW5jIHJlY29ubmVjdFBDKGUpe2NvbnN0e2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLHJ0cENhcGFiaWxpdGllczpufT1lO3JldHVybntnYXRld2F5RXN0YWJsaXNoUGFyYW1zOmF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoVHYuQ09OTkVDVF9QQyx7cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc3RyZWFtX2lkOnRoaXMuc3RvcmUudWlkLG9ydGM6e2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLHJ0cENhcGFiaWxpdGllczpufX0sITApLGdhdGV3YXlBZGRyZXNzOnRoaXMuZ2V0Q3VycmVudEdhdGV3YXlBZGRyZXNzKCl9fWdldEdhdGV3YXlJbmZvKCl7cmV0dXJuIHRoaXMuc2lnbmFsLnJlcXVlc3QoVHYuR0FURVdBWV9JTkZPKX1hc3luYyByZW5ld1Rva2VuKGUpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoVHYuUkVORVdfVE9LRU4sZSksdGhpcy5rZXk9ZS50b2tlbn1hc3luYyBzZXRDbGllbnRSb2xlKGUsdCl7aWYodCYmKHRoaXMuX2NsaWVudFJvbGVPcHRpb25zPU9iamVjdC5hc3NpZ24oe30sdCkpLFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlKXJldHVybiB2b2lkKHRoaXMucm9sZT1lKTtsZXQgaSxuPTA7XCJhdWRpZW5jZVwiPT09ZT90aGlzLl9jbGllbnRSb2xlT3B0aW9ucyYmdGhpcy5fY2xpZW50Um9sZU9wdGlvbnMuZGVsYXk/KGk9dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMuZGVsYXksbj0xKTpuPXRoaXMuX2NsaWVudFJvbGVPcHRpb25zJiZ0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5sZXZlbD90aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5sZXZlbDoyOm49MCxhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LlNFVF9DTElFTlRfUk9MRSx7cm9sZTplLGxldmVsOm4sZGVsYXk6aSxjbGllbnRfdHM6RGF0ZS5ub3coKX0pLHRoaXMucm9sZT1lfWFzeW5jIHNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlLHQpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoVHYuU1dJVENIX1ZJREVPX1NUUkVBTSx7c3RyZWFtX2lkOmUsc3RyZWFtX3R5cGU6dH0pfWFzeW5jIHNldERlZmF1bHRSZW1vdGVWaWRlb1N0cmVhbVR5cGUoZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5ERUZBVUxUX1ZJREVPX1NUUkVBTSx7c3RyZWFtX3R5cGU6ZX0pfWFzeW5jIHNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKGUsdCl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5TRVRfRkFMTEJBQ0tfT1BUSU9OLHtzdHJlYW1faWQ6ZSxmYWxsYmFja190eXBlOnR9KX1hc3luYyBwaWNrU1ZDTGF5ZXIoZSx0KXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LlBJQ0tfU1ZDX0xBWUVSLHtzdHJlYW1faWQ6ZSxzcGF0aWFsX2xheWVyOnQuc3BhdGlhbExheWVyLHRlbXBvcmFsX2xheWVyOnQudGVtcG9yYWxMYXllcn0pfWFzeW5jIHNldFJUTTJGbGFnKGUpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoVHYuU0VUX1JUTTJfRkxBRyx7cnRtMl9mbGFnOmV9KX1hc3luYyBzZW5kRXh0ZW5zaW9uTWVzc2FnZShlLHQsaSl7aWYodGhpcy5zaWduYWwgaW5zdGFuY2VvZiBERClyZXR1cm4gdGhpcy5zaWduYWwuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoZSx0LGkpfWdldEluQ2hhbm5lbEluZm8oKXtyZXR1cm4gdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdCYmKHRoaXMuaW5DaGFubmVsSW5mby5kdXJhdGlvbj1EYXRlLm5vdygpLXRoaXMuaW5DaGFubmVsSW5mby5qb2luQXQpLExEKHt9LHRoaXMuaW5DaGFubmVsSW5mbyl9YXN5bmMgZ2V0R2F0ZXdheVZlcnNpb24oKXtyZXR1cm4oYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5HQVRFV0FZX0lORk8pKS52ZXJzaW9ufXJlc2V0KCl7aWYodGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdCYmKHRoaXMuaW5DaGFubmVsSW5mby5kdXJhdGlvbj1EYXRlLm5vdygpLXRoaXMuaW5DaGFubmVsSW5mby5qb2luQXQsdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdD1udWxsKSx0aGlzLnRyYWZmaWNTdGF0c0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50cmFmZmljU3RhdHNJbnRlcnZhbCksdGhpcy50cmFmZmljU3RhdHNJbnRlcnZhbD12b2lkIDApLHRoaXMuam9pbkluZm8pe2NvbnN0IGU9a0QuZ2V0KHRoaXMuam9pbkluZm8uY25hbWUpO2UmJmUuZGVsZXRlKHRoaXMuam9pbkluZm8udWlkKX10aGlzLmpvaW5JbmZvPXZvaWQgMCx0aGlzLmtleT12b2lkIDAsdGhpcy5uZXR3b3JrUXVhbGl0eUludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5uZXR3b3JrUXVhbGl0eUludGVydmFsKSx0aGlzLm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWw9dm9pZCAwKX11cGRhdGVUdXJuQ29uZmlnRnJvbVNpZ25hbCgpe2lmKCF0aGlzLmpvaW5JbmZvKXJldHVybjtjb25zdCBlPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybiB0PWUuc3RhcnRzV2l0aChcImRjXCIpP2UubWF0Y2goLyhkY1xcOlxcL1xcLyk/KFteOl0rKTooXFxkKykvKTplLm1hdGNoKC8od3NzXFw6XFwvXFwvKT8oW146XSspOihcXGQrKS8pLHQ/e3VzZXJuYW1lOm92LnVzZXJuYW1lLHBhc3N3b3JkOm92LnBhc3N3b3JkLHR1cm5TZXJ2ZXJVUkw6dFsyXSx0Y3Bwb3J0OnBhcnNlSW50KHRbM10pKzMwLHVkcHBvcnQ6cGFyc2VJbnQodFszXSkrMzAsZm9yY2V0dXJuOiExfTpudWxsfSgoXCJkaXNhYmxlZFwiPT09dGhpcy5qb2luSW5mby5jbG91ZFByb3h5U2VydmVyP3RoaXMuc2lnbmFsLnVybDp0aGlzLmpvaW5JbmZvLmdhdGV3YXlBZGRyc1t0aGlzLnNpZ25hbC5jdXJyZW50VVJMSW5kZXhdLmFkZHJlc3MpfHxcIlwiKTt0aGlzLmpvaW5JbmZvLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5PVtdLGUmJlwib2ZmXCIhPT10aGlzLmpvaW5JbmZvLnR1cm5TZXJ2ZXIubW9kZSYmXCJkaXNhYmxlZFwiPT09dGhpcy5qb2luSW5mby5jbG91ZFByb3h5U2VydmVyJiZ0aGlzLmpvaW5JbmZvLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5LnB1c2goTEQoTEQoe30sb3YpLHt9LHt0dXJuU2VydmVyVVJMOmUudHVyblNlcnZlclVSTCx0Y3Bwb3J0OmUudGNwcG9ydCx1ZHBwb3J0OmUudWRwcG9ydCx1c2VybmFtZTp0aGlzLmpvaW5JbmZvLnVpZC50b1N0cmluZygpLHBhc3N3b3JkOnRoaXMuam9pbkluZm8udG9rZW59KSl9YXN5bmMgdXBkYXRlVHJhZmZpY1N0YXRzKCl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUpcmV0dXJuO2NvbnN0IGU9YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5UUkFGRklDX1NUQVRTLHZvaWQgMCwhMCk7ZS50aW1lc3RhbXA9RGF0ZS5ub3coKSxudWxsIT1lLm50cF9vZmZzZXQmJih0aGlzLm50cE9mZnNldD1lLm50cF9vZmZzZXQpLGUucGVlcl9kZWxheS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLl9zdGF0c0NvbGxlY3Rvci50cmFmZmljU3RhdHMmJnRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cy5wZWVyX2RlbGF5LmZpbmQoKHQ9PnQucGVlcl91aWQ9PT1lLnBlZXJfdWlkKSk7dCYmdC5CX3N0IT09ZS5CX3N0JiZBVCgoKCk9Pnt0aGlzLmVtaXQoZUkuU1RSRUFNX1RZUEVfQ0hBTkdFLGUucGVlcl91aWQsZS5CX3N0KX0pKX0pKSx0aGlzLl9zdGF0c0NvbGxlY3Rvci51cGRhdGVUcmFmZmljU3RhdHMoZSl9Z2V0Sm9pbk1lc3NhZ2UoZSl7aWYoIXRoaXMuam9pbkluZm98fCF0aGlzLmtleSl0aHJvdyBuZXcgeHYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2VuZXJhdGUgam9pbiBtZXNzYWdlLCBubyBqb2luIGluZm9cIik7Y29uc3QgdD1PYmplY3QuYXNzaWduKHt9LHRoaXMuam9pbkluZm8uYXBSZXNwb25zZSk7bGV0IGk9a0MoXCJSRVBPUlRfQVBQX1NDRU5BUklPXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBpKXRyeXtpPUpTT04uc3RyaW5naWZ5KGkpfWNhdGNoKGUpe2k9dm9pZCAwfWkmJmkubGVuZ3RoPjEyOCYmKGk9dm9pZCAwKTtjb25zdCBuPUxEKHtsaWNlbnNlOnRoaXMuam9pbkluZm8ubGljZW5zZSxwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzZXNzaW9uX2lkOnRoaXMuam9pbkluZm8uc2lkLGFwcF9pZDp0aGlzLmpvaW5JbmZvLmFwcElkLGNoYW5uZWxfa2V5OnRoaXMua2V5LGNoYW5uZWxfbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHNka192ZXJzaW9uOk9DLGJyb3dzZXI6bmF2aWdhdG9yLnVzZXJBZ2VudCxwcm9jZXNzX2lkOmtDKFwiUFJPQ0VTU19JRFwiKSxtb2RlOnRoaXMuc3RvcmUudXNlUDJQP1wicDJwXCI6dGhpcy5zcGVjLm1vZGUsY29kZWM6dGhpcy5zcGVjLmNvZGVjLHJvbGU6dGhpcy5yb2xlLGhhc19jaGFuZ2VkX2dhdGV3YXk6dGhpcy5oYXNDaGFuZ2VCR1BBZGRyZXNzLGFwX3Jlc3BvbnNlOnQsZXh0ZW5kOmtDKFwiSk9JTl9FWFRFTkRcIiksZGV0YWlsczp7Njp0aGlzLmpvaW5JbmZvLnN0cmluZ1VpZCxjc2VydmljZV9tYXA6XCJwcm94eTNcIj09PXRoaXMuam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcj9cIjFcIjpcInByb3h5NVwiPT09dGhpcy5qb2luSW5mby5jbG91ZFByb3h5U2VydmVyP1wiMlwiOnZvaWQgMH0sZmVhdHVyZXM6e3Jlam9pbjohMH0sb3B0aW9uYWxJbmZvOnRoaXMuam9pbkluZm8ub3B0aW9uYWxJbmZvLGFwcFNjZW5hcmlvOmksYXR0cmlidXRlczp7dXNlckF0dHJpYnV0ZXM6e2VuYWJsZVB1Ymxpc2hlZFVzZXJMaXN0OmtDKFwiRU5BQkxFX1BVQkxJU0hFRF9VU0VSX0xJU1RcIiksbWF4U3Vic2NyaXB0aW9uOmtDKFwiTUFYX1NVQlNDUklQVElPTlwiKSxzdWJzY3JpYmVBdWRpb0ZpbHRlclRvcE46XCJudW1iZXJcIj09dHlwZW9mIGtDKFwiU1VCU0NSSUJFX0FVRElPX0ZJTFRFUl9UT1BOXCIpP2tDKFwiU1VCU0NSSUJFX0FVRElPX0ZJTFRFUl9UT1BOXCIpOnZvaWQgMCxlbmFibGVQdWJsaXNoQXVkaW9GaWx0ZXI6XCJib29sZWFuXCI9PXR5cGVvZiBrQyhcIkVOQUJMRV9QVUJMSVNIX0FVRElPX0ZJTFRFUlwiKT9rQyhcIkVOQUJMRV9QVUJMSVNIX0FVRElPX0ZJTFRFUlwiKTp2b2lkIDAsZW5hYmxlVXNlckxpY2Vuc2VDaGVjazpcImJvb2xlYW5cIj09dHlwZW9mIGtDKFwiRU5BQkxFX1VTRVJfTElDRU5TRV9DSEVDS1wiKT9rQyhcIkVOQUJMRV9VU0VSX0xJQ0VOU0VfQ0hFQ0tcIik6dm9pZCAwLGVuYWJsZVJUWDohMD09PWtDKFwiVVNFX1BVQl9SVFhcIil8fCEwPT09a0MoXCJVU0VfU1VCX1JUWFwiKXx8dm9pZCAwLGRpc2FibGVGRUM6a0MoXCJESVNBQkxFX0ZFQ1wiKSxlbmFibGVOVFBSZXBvcnQ6ISFrQyhcIkVOQUJMRV9OVFBfUkVQT1JUXCIpfHx2b2lkIDAsZW5hYmxlSW5zdGFudFZpZGVvOiEha0MoXCJFTkFCTEVfSU5TVEFOVF9WSURFT1wiKXx8dm9pZCAwLGVuYWJsZURhdGFTdHJlYW0yOlwiYm9vbGVhblwiPT10eXBlb2Yga0MoXCJFTkFCTEVfREFUQVNUUkVBTV8yXCIpP2tDKFwiRU5BQkxFX0RBVEFTVFJFQU1fMlwiKTp2b2lkIDAscnRtMkZsYWc6XCJudW1iZXJcIj09dHlwZW9mIGtDKFwiUlRNMl9GTEFHXCIpP2tDKFwiUlRNMl9GTEFHXCIpOnZvaWQgMCxlbmFibGVVc2VyQXV0b1JlYmFsYW5jZUNoZWNrOiEha0MoXCJFTkFCTEVfVVNFUl9BVVRPX1JFQkFMQU5DRV9DSEVDS1wiKSxlbmFibGVYUjpcImJvb2xlYW5cIj09dHlwZW9mIGtDKFwiVVNFX1hSXCIpP2tDKFwiVVNFX1hSXCIpOnZvaWQgMH19LGpvaW5fdHM6dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZX0sZSk7cmV0dXJuIHRoaXMuam9pbkluZm8uc3RyaW5nVWlkJiYobi5zdHJpbmdfdWlkPXRoaXMuam9pbkluZm8uc3RyaW5nVWlkKSx0aGlzLmpvaW5JbmZvLmFlc21vZGUmJnRoaXMuam9pbkluZm8uYWVzcGFzc3dvcmQmJihuLmFlc19tb2RlPXRoaXMuam9pbkluZm8uYWVzbW9kZSxrQyhcIkVOQ1JZUFRfQUVTXCIpPyhuLmFlc19zZWNyZXQ9dGhpcy5qb2luSW5mby5hZXNwYXNzd29yZCxuLmFlc19lbmNyeXB0PSEwKTpuLmFlc19zZWNyZXQ9dGhpcy5qb2luSW5mby5hZXNwYXNzd29yZCx0aGlzLmpvaW5JbmZvLmFlc3NhbHQmJihuLmFlc19zYWx0PXRoaXMuam9pbkluZm8uYWVzc2FsdCkpLHQuYWRkcmVzc2VzW3RoaXMuc2lnbmFsLndlYnNvY2tldC5jdXJyZW50VVJMSW5kZXhdJiYobi5hcF9yZXNwb25zZS50aWNrZXQ9dC5hZGRyZXNzZXNbdGhpcy5zaWduYWwud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleF0udGlja2V0LGRlbGV0ZSB0LmFkZHJlc3Nlcyksdm9pZCAwIT09dGhpcy5qb2luSW5mby5kZWZhdWx0VmlkZW9TdHJlYW0mJihuLmRlZmF1bHRfdmlkZW9fc3RyZWFtPXRoaXMuam9pbkluZm8uZGVmYXVsdFZpZGVvU3RyZWFtKSxufWdldFJlam9pbk1lc3NhZ2UoKXtpZighdGhpcy5qb2luSW5mbyl0aHJvdyBuZXcgeHYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2VuZXJhdGUgcmVqb2luIG1lc3NhZ2UsIG5vIGpvaW4gaW5mb1wiKTtyZXR1cm57c2Vzc2lvbl9pZDp0aGlzLmpvaW5JbmZvLnNpZCxjaGFubmVsX25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSxjaWQ6dGhpcy5qb2luSW5mby5jaWQsdWlkOnRoaXMuam9pbkluZm8udWlkLHZpZDpOdW1iZXIodGhpcy5qb2luSW5mby52aWQpfX1oYW5kbGVTaWduYWxFdmVudHMoKXt0aGlzLnNpZ25hbC5vbihndi5XU19SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILChlPT57dmFyIHQ7UHIodD1bXCJ0cnlOZXh0XCIsXCJyZWNvdmVyXCJdKS5jYWxsKHQsZSkmJnRoaXMuam9pbkluZm8mJnJ2LmFkanVzdFNlc3Npb25TdGFydFRpbWUodGhpcy5qb2luSW5mby5zaWQpfSkpLHRoaXMuc2lnbmFsLm9uKGd2LldTX1JFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTiwoZT0+e3RoaXMuam9pbkdhdGV3YXlTdGFydFRpbWU9RGF0ZS5ub3coKX0pKSx0aGlzLnNpZ25hbC5vbihndi5XU19SRUNPTk5FQ1RJTkcsKGU9Pnt0aGlzLmpvaW5JbmZvJiZydi5XZWJTb2NrZXRRdWl0KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6RGF0ZS5ub3coKSxzdWNjOi0xLGNuYW1lOnRoaXMuam9pbkluZm8uY25hbWUsdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxlcnJvckNvZGU6ZXx8bFQuTkVUV09SS19FUlJPUn0pLHRoaXMuam9pbkluZm8mJih0aGlzLnN0YXRlPVwiUkVDT05ORUNUSU5HXCIscnYuc2Vzc2lvbkluaXQodGhpcy5qb2luSW5mby5zaWQse2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxleHRlbmQ6dGhpcy5pc1NpZ25hbFJlY292ZXI/e3JlY292ZXI6ITB9OntyZWpvaW46ITB9LGNuYW1lOnRoaXMuam9pbkluZm8uY25hbWUsYXBwaWQ6dGhpcy5qb2luSW5mby5hcHBJZCxtb2RlOnRoaXMuc3BlYy5tb2RlfSksdGhpcy5pc1NpZ25hbFJlY292ZXI9ITEsdGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZT1EYXRlLm5vdygpKX0pKSx0aGlzLnNpZ25hbC5vbihndi5XU19DTE9TRUQsKGU9PntsZXQgdDtzd2l0Y2goZSl7Y2FzZSBjVC5MRUFWRTp0PWxULkxFQVZFO2JyZWFrO2Nhc2UgY1QuVUlEX0JBTk5FRDpjYXNlIGNULklQX0JBTk5FRDpjYXNlIGNULkNIQU5ORUxfQkFOTkVEOmNhc2UgY1QuU0VSVkVSX0VSUk9SOnQ9bFQuU0VSVkVSX0VSUk9SO2JyZWFrO2Nhc2UgY1QuRkFMTEJBQ0s6dD1sVC5GQUxMQkFDSzticmVhaztjYXNlIGNULkxJQ0VOU0VfTUlTU0lORzpjYXNlIGNULkxJQ0VOU0VfRVhQSVJFRDpjYXNlIGNULkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRDpjYXNlIGNULkxJQ0VOU0VfUEVSSU9EX0lOVkFMSUQ6Y2FzZSBjVC5MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFOmNhc2UgY1QuTElDRU5TRV9JTExFR0FMOmNhc2UgY1QuVE9LRU5fRVhQSVJFOnQ9ZTticmVhaztkZWZhdWx0OnQ9bFQuTkVUV09SS19FUlJPUn1LQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3NpZ25hbF0gd2Vic29ja2V0IGNsb3NlZCwgcmVhc29uOiBcIikuY29uY2F0KHR8fFwidW5kZWZpbmVkIC0+IFwiK2xULk5FVFdPUktfRVJST1IpKSx0aGlzLmpvaW5JbmZvJiZydi5XZWJTb2NrZXRRdWl0KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6RGF0ZS5ub3coKSxzdWNjOmU9PT1jVC5MRUFWRT8xOi0xLGNuYW1lOnRoaXMuam9pbkluZm8uY25hbWUsdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxlcnJvckNvZGU6dH0pLHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1lLGUhPT1jVC5GQUxMQkFDSyYmKHRoaXMuc3RhdGU9XCJESVNDT05ORUNURURcIiksdGhpcy5yZXNldCgpfSkpLHRoaXMuc2lnbmFsLm9uKGd2LldTX0NPTk5FQ1RFRCwoKCk9PntpZih0aGlzLnVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCksdGhpcy5zdGF0ZT1cIkNPTk5FQ1RFRFwiLHRoaXMuam9pbkluZm8mJihcImF1ZGllbmNlXCI9PT10aGlzLnJvbGUmJnRoaXMuX2NsaWVudFJvbGVPcHRpb25zJiYodGhpcy5fY2xpZW50Um9sZU9wdGlvbnMubGV2ZWx8fHRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmRlbGF5KSYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBwYXRjaCB0byBzZW5kIHNldCBjbGllbnQgcm9sZSwgcm9sZTogXCIpLmNvbmNhdCh0aGlzLnJvbGUsXCIsIG1vZGU6IFwiKS5jb25jYXQodGhpcy5zcGVjLm1vZGUsXCIsIGxldmVsOiBcIikuY29uY2F0KHRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmxldmVsLFwiLCBkZWxheTogXCIpLmNvbmNhdCh0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5kZWxheSkpLHRoaXMuc2V0Q2xpZW50Um9sZSh0aGlzLnJvbGUsdGhpcy5fY2xpZW50Um9sZU9wdGlvbnMpKSxydi5qb2luR2F0ZXdheSh0aGlzLmpvaW5JbmZvLnNpZCx7bHRzOnRoaXMuam9pbkdhdGV3YXlTdGFydFRpbWUsc3VjYzohMCxlYzpudWxsLHZpZDp0aGlzLmpvaW5JbmZvLnZpZCxhZGRyOnRoaXMuc2lnbmFsLnVybCx1aWQ6dGhpcy5qb2luSW5mby51aWQsY2lkOnRoaXMuam9pbkluZm8uY2lkLGZpcnN0U3VjY2Vzczp0aGlzLl9pc1Byb2FjdGl2ZUpvaW4sYXZvaWRKb2luU3RhcnRUaW1lOnRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQsaXNQcm94eTohIXRoaXMuam9pbkluZm8ucHJveHlTZXJ2ZXIsc2lnbmFsQ2hhbm5lbDp0aGlzLnNpZ25hbCBpbnN0YW5jZW9mIE9EP1wiMVwiOlwiMFwifSksdGhpcy5faXNQcm9hY3RpdmVKb2luPSExLHRoaXMuam9pbkluZm8udXNlTG9jYWxBY2Nlc3NQb2ludCYmMT09PXRoaXMuam9pbkluZm8uc2V0TG9jYWxBUFZlcnNpb24pKXtjb25zdCBlPXRoaXMuc2lnbmFsLnVybCYmdGhpcy5zaWduYWwudXJsLm1hdGNoKC93c3NcXDpcXC9cXC8oW146XSspOihcXGQrKS8pO2lmKCFlKXJldHVybiB2b2lkIEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBzZXQgbG9jYWwgYWNjZXNzIHBvaW50IGFmdGVyIGpvaW5lZCBmYWlsZWQ6IFwiKS5jb25jYXQoZSkpO0xDKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLGVbMV0pLExDKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixlWzFdKSxMQyhcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoZVsxXSxcIjo2NDQ0XCIpKX19KSksdGhpcy5zaWduYWwub24oUnYuT05fVVBMSU5LX1NUQVRTLChlPT57dGhpcy5fc3RhdHNDb2xsZWN0b3IudXBkYXRlVXBsaW5rU3RhdHMoZSl9KSksdGhpcy5zaWduYWwub24oZ3YuUkVRVUVTVF9SRUNPVkVSLCgoZSx0LGkpPT57aWYoIXRoaXMuam9pbkluZm8pcmV0dXJuIGkobmV3IHh2KHhnLlVORVhQRUNURURfRVJST1IsXCJnYXRld2F5OiBjYW4gbm90IHJlY292ZXIsIG5vIGpvaW4gaW5mb1wiKSk7ZSYmKHRoaXMuam9pbkluZm8ubXVsdGlJUD1lLHRoaXMuaGFzQ2hhbmdlQkdQQWRkcmVzcz0hMCksdGhpcy5pc1NpZ25hbFJlY292ZXI9ITAsZlQodGhpcyxlSS5SRVFVRVNUX05FV19HQVRFV0FZX0xJU1QpLnRoZW4odCkuY2F0Y2goaSl9KSksdGhpcy5zaWduYWwub24oZ3YuUkVRVUVTVF9KT0lOX0lORk8sKGFzeW5jIGU9Pnt2YXIgdDtpZih0aGlzLnVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCksdGhpcy5zdG9yZS51c2VQMlApcmV0dXJuIHZvaWQgZSh0aGlzLmdldEpvaW5NZXNzYWdlKHtvcnRjOnt9fSkpO2NvbnN0e2ljZVBhcmFtZXRlcnM6aSxkdGxzUGFyYW1ldGVyczpuLHJ0cENhcGFiaWxpdGllczpyfT1hd2FpdCBmVCh0aGlzLGVJLlJFUVVFU1RfUDJQX0NPTk5FQ1RJT05fUEFSQU1TLHt0dXJuU2VydmVyOm51bGw9PT0odD10aGlzLmpvaW5JbmZvKXx8dm9pZCAwPT09dD92b2lkIDA6dC50dXJuU2VydmVyfSk7ZSh0aGlzLmdldEpvaW5NZXNzYWdlKHtvcnRjOntpY2VQYXJhbWV0ZXJzOmksZHRsc1BhcmFtZXRlcnM6bixydHBDYXBhYmlsaXRpZXM6cix2ZXJzaW9uOlwiMlwifX0pKX0pKSx0aGlzLnNpZ25hbC5vbihndi5SRVFVRVNUX1JFSk9JTl9JTkZPLChlPT57ZSh0aGlzLmdldFJlam9pbk1lc3NhZ2UoKSl9KSksdGhpcy5zaWduYWwub24oZ3YuUkVQT1JUX0pPSU5fR0FURVdBWSwoKGUsdCk9Pnt0aGlzLmpvaW5JbmZvJiYocnYuam9pbkdhdGV3YXkodGhpcy5qb2luSW5mby5zaWQse2x0czp0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lLHN1Y2M6ITEsZWM6ZSxhZGRyOnQsdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxmaXJzdFN1Y2Nlc3M6dGhpcy5faXNQcm9hY3RpdmVKb2luLGF2b2lkSm9pblN0YXJ0VGltZTp0aGlzLnN0b3JlLmF2b2lkSm9pblN0YXJ0LGlzUHJveHk6ISF0aGlzLmpvaW5JbmZvLnByb3h5U2VydmVyLHNpZ25hbENoYW5uZWw6dGhpcy5zaWduYWwgaW5zdGFuY2VvZiBPRD9cIjFcIjpcIjBcIn0pLHRoaXMuX2lzUHJvYWN0aXZlSm9pbj0hMSl9KSksdGhpcy5zaWduYWwub24oZ3YuSVNfUDJQX0RJU0NPTk5FQ1RFRCwoZT0+e2UoU1QodGhpcyxlSS5JU19QMlBfRElTQ09OTkVDVEVEKSl9KSksdGhpcy5zaWduYWwub24oZ3YuRElTQ09OTkVDVF9QMlAsKCgpPT57dGhpcy5lbWl0KGVJLkRJU0NPTk5FQ1RfUDJQKX0pKSx0aGlzLnNpZ25hbC5vbihndi5ORUVEX1JFTkVXX1NFU1NJT04sKCgpPT57dGhpcy5lbWl0KGVJLk5FRURfUkVORVdfU0VTU0lPTil9KSksdGhpcy5zaWduYWwub24oZ3YuUkVRVUVTVF9TVUNDRVNTLCgoKT0+e3RoaXMuX3NpZ25hbFRpbWVvdXQ9ITF9KSksdGhpcy5zaWduYWwub24oZ3YuUkVRVUVTVF9USU1FT1VULCgoKT0+e3RoaXMuX3NpZ25hbFRpbWVvdXQ9ITB9KSksdGhpcy5zaWduYWwub24oZ3YuSk9JTl9SRVNQT05TRSwoZT0+e2NvbnN0IHQ9dGhpcy5nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKTt0aGlzLmVtaXQoZUkuSk9JTl9SRVNQT05TRSxlLHQpfSkpLHRoaXMuc2lnbmFsLm9uKGd2LkRBVEFDSEFOTkVMX1BSRUNPTk5FQ1QsKGFzeW5jKGUsdCxpKT0+e3RoaXMudXBkYXRlVHVybkNvbmZpZ0Zyb21TaWduYWwoKTtjb25zdCBuPXRoaXMuZ2V0Q3VycmVudEdhdGV3YXlBZGRyZXNzKCk7cmV0dXJuIGZUKHRoaXMsZUkuREFUQUNIQU5ORUxfUFJFQ09OTkVDVCxlLG4pLnRoZW4odCkuY2F0Y2goaSl9KSksdGhpcy5zaWduYWwub24oZ3YuREFUQUNIQU5ORUxfQ09OTkVDVElORywoYXN5bmMgZT0+e2NvbnN0e2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLHJ0cENhcGFiaWxpdGllczpufT1hd2FpdCBmVCh0aGlzLGVJLlJFUVVFU1RfRENfQ09OTkVDVElPTl9QQVJBTVMpO2UodGhpcy5nZXRKb2luTWVzc2FnZSh7b3J0Yzp7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm4sdmVyc2lvbjpcIjJcIn19KSl9KSksdGhpcy5zaWduYWwub24oZ3YuREFUQUNIQU5ORUxfRkFJTEJBQ0ssKCgpPT57S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gVXNlciBqb2luIGRhdGFjaGFubmVsIGZhaWxlZFwiKSksdGhpcy5yZXNldCgpLHRoaXMucmVzZXRTaWduYWwoKSx0aGlzLmVtaXQoZUkuREFUQUNIQU5ORUxfRkFJTEJBQ0spfSkpfWFzeW5jIHRyeVVuc3ViQmVmb3JlUmVzdWIoZSx0KXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5VTlNVQlNDUklCRSx7cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc3RyZWFtX2lkOmUsb3J0YzpbdF19LCEwKX1jYXRjaChlKXt0aHJvdyBLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB0cnlVbnN1YkJlZm9yZVJlc3ViIHdhcm5pbmdcIiksZSksZX19YXN5bmMgdHJ5VW5zdWJEYXRhQ2hhbm5lbEJlZm9yZVJlc3ViKGUsdCl7dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoVHYuVU5TVUJTQ1JJQkUse3N0cmVhbV9pZDp0LmlkfSwhMCl9Y2F0Y2goZSl7dGhyb3cgS0Mud2FybmluZyhcInVuc3Vic2NyaWJlIGRhdGFjaGFubmVsIHdhcm5pbmdcIixlKSxlfX1hc3luYyB0cnlVbnB1YkJlZm9yZVJlcHViKGUsdCl7dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoVHYuVU5QVUJMSVNILHtzdHJlYW1faWQ6ZSxvcnRjOnR9LCEwKX1jYXRjaChlKXt0aHJvdyBLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB0cnlVbnB1YkJlZm9yZVJlcHViIHdhcm5pbmc6IFwiKSxlKSxlfX1hc3luYyB0cnlVbnB1YkRhdGFDaGFubmVsQmVmb3JlUmVwdWIoZSx0KXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5VTlBVQkxJU0hfREFUQVNUUkVBTSx7Y2hhbm5uZWxfaWQ6dC5jaGFubmVsSWR9LCEwKX1jYXRjaChlKXt0aHJvdyBLQy53YXJuaW5nKFwidW5wdWJsaXNoIGRhdGFzdHJlYW0gd2FybmluZzogXCIsZSksZX19YXN5bmMgdHJ5TWFzc1Vuc3ViQmVmb3JlUmVzdWIoZSl7Y29uc3QgdD17dXNlcnM6ZS5tYXAoKGU9Pih7c3RyZWFtX2lkOmUuc3RyZWFtX2lkLHN0cmVhbV90eXBlOmUuc3RyZWFtX3R5cGV9KSkpfTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5VTlNVQlNDUklCRV9TVFJFQU1TLHQsITApfWNhdGNoKGUpe3Rocm93IEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHRyeU1hc3NVbnN1YkJlZm9yZVJlc3ViIHdhcm5pbmdcIiksZSksZX19YXN5bmMgbXV0ZUxvY2FsKGUsdCl7Y29uc3QgaT17YWN0aW9uOmUuZmluZCgoZT0+ZS5zdHJlYW1fdHlwZT09PSR2LkF1ZGlvKSk/XCJtdXRlX2xvY2FsX2F1ZGlvXCI6XCJtdXRlX2xvY2FsX3ZpZGVvXCIscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsb3J0YzplLHN0cmVhbV9pZDp0fTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5DT05UUk9MLGksITAsITApfWNhdGNoKGUpe3Rocm93IEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdhdGV3YXkgbXV0ZUxvY2FsIHdhcm5pbmc6IFwiKSxlKSxlfX1hc3luYyB1bm11dGVMb2NhbChlLHQpe2NvbnN0IGk9e2FjdGlvbjplLmZpbmQoKGU9PmUuc3RyZWFtX3R5cGU9PT0kdi5BdWRpbykpP1widW5tdXRlX2xvY2FsX2F1ZGlvXCI6XCJ1bm11dGVfbG9jYWxfdmlkZW9cIixwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxvcnRjOmUsc3RyZWFtX2lkOnR9O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LkNPTlRST0wsaSwhMCwhMCl9Y2F0Y2goZSl7dGhyb3cgS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZ2F0ZXdheSB1bm11dGVMb2NhbCB3YXJuaW5nOiBcIiksZSksZX19YXN5bmMgbXV0ZVJlbW90ZShlLHQpe2NvbnN0IGk9e2FjdGlvbjplPT09aEkuQVVESU8/XCJtdXRlX3JlbW90ZV9hdWRpb1wiOlwibXV0ZV9yZW1vdGVfdmlkZW9cIixwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6dH07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoVHYuQ09OVFJPTCxpLCEwLCEwKX1jYXRjaChlKXt0aHJvdyBLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnYXRld2F5IG11dGVSZW1vdGUgd2FybmluZzogXCIpLGUpLGV9fWFzeW5jIHVubXV0ZVJlbW90ZShlLHQpe2NvbnN0IGk9e2FjdGlvbjplPT09aEkuQVVESU8/XCJ1bm11dGVfcmVtb3RlX2F1ZGlvXCI6XCJ1bm11dGVfcmVtb3RlX3ZpZGVvXCIscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc3RyZWFtX2lkOnR9O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LkNPTlRST0wsaSwhMCwhMCl9Y2F0Y2goZSl7dGhyb3cgS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZ2F0ZXdheSB1bm11dGVSZW1vdGUgd2FybmluZzogXCIpLGUpLGV9fXVwbG9hZFN0YXRzKGUsdCl7dGhpcy5zaWduYWwudXBsb2FkKGUsdCl9Z2V0U2lnbmFsUlRUKCl7cmV0dXJuIHRoaXMuc2lnbmFsLnJ0dH1hc3luYyByZXN0YXJ0SUNFKGUpe2NvbnN0IHQ9e3AycF9pZDp0aGlzLnN0b3JlLnAycElkLHN0cmVhbV9pZDp0aGlzLnN0b3JlLnVpZCxvcnRjOmV9O3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChUdi5SRVNUQVJUX0lDRSx0LCEwKX1jYXRjaChlKXt0aHJvdyBLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnJlc3RhcnRJQ0Ugd2FybmluZzogXCIpLGUpLGV9fXJlY29ubmVjdCgpe1wiQ09OTkVDVEVEXCI9PT10aGlzLnN0YXRlJiZ0aGlzLnNpZ25hbC5yZWNvbm5lY3Qodm9pZCAwLGxULlAyUF9GQUlMRUQpfWdldEN1cnJlbnRHYXRld2F5QWRkcmVzcygpe3ZhciBlO2lmKCFrQyhcIkdBVEVXQVlfV1NTX0FERFJFU1NcIikpcmV0dXJuIG51bGwhPT0oZT10aGlzLmpvaW5JbmZvKSYmdm9pZCAwIT09ZSYmZS5nYXRld2F5QWRkcnM/dGhpcy5qb2luSW5mby5nYXRld2F5QWRkcnNbdGhpcy5zaWduYWwuY3VycmVudFVSTEluZGV4XTp2b2lkIDB9YXN5bmMgc2V0UHVibGlzaEF1ZGlvRmlsdGVyRW5hYmxlZChlKXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KFR2LlNFVF9QQVJBTUVURVIse2VuYWJsZVB1Ymxpc2hBdWRpb0ZpbHRlcjplfSl9cmVzZXRTaWduYWwoKXt0aGlzLnNpZ25hbCYmKHRoaXMuc2lnbmFsLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuc2lnbmFsLmNsb3NlKGNULkZBTExCQUNLKSksdGhpcy5zdG9yZS51c2VEYXRhQ2hhbm5lbD0hMSx0aGlzLnNpZ25hbD1uZXcgUUkoTEQoTEQoe30sdGhpcy5zcGVjKSx7fSx7cmV0cnlDb25maWc6dGhpcy5zcGVjLndlYnNvY2tldFJldHJ5Q29uZmlnfSksdGhpcy5zdG9yZSksdGhpcy5oYW5kbGVTaWduYWxFdmVudHMoKSx0aGlzLmVtaXQoZUkuUkVTRVRfU0lHTkFMLG5JLndlYnNvY2tldCl9fWxldCBVRD0wLHhEPTA7ZnVuY3Rpb24gVkQoZSx0LGksbil7cmV0dXJuIG5ldyB0ZygoKHIscyk9Pnt0LnRpbWVvdXQ9dC50aW1lb3V0fHxrQyhcIkhUVFBfQ09OTkVDVF9USU1FT1VUXCIpLHQucmVzcG9uc2VUeXBlPXQucmVzcG9uc2VUeXBlfHxcImpzb25cIix0LmRhdGEmJiFpPyh0LmRhdGE9SlNPTi5zdHJpbmdpZnkodC5kYXRhKSxVRCs9TFQodC5kYXRhKSk6aSYmKHQuZGF0YS5zaXplP1VEKz10LmRhdGEuc2l6ZTp0LmRhdGEgaW5zdGFuY2VvZiBGb3JtRGF0YT9VRCs9a1QodC5kYXRhKTpVRCs9TFQoSlNPTi5zdHJpbmdpZnkodC5kYXRhKSkpLHQuaGVhZGVycz10LmhlYWRlcnN8fHt9LHQuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXT10LmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl18fFwiYXBwbGljYXRpb24vanNvblwiLHQubWV0aG9kPVwiUE9TVFwiLHQudXJsPWUsRUMucmVxdWVzdCh0KS50aGVuKChlPT57XCJzdHJpbmdcIj09dHlwZW9mIGUuZGF0YT94RCs9TFQoZS5kYXRhKTplLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8ZS5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheT94RCs9ZS5kYXRhLmJ5dGVMZW5ndGg6eEQrPUxUKEpTT04uc3RyaW5naWZ5KGUuZGF0YSkpLG4mJnIoe2RhdGE6ZS5kYXRhLGhlYWRlcnM6ZS5oZWFkZXJzfSkscihlLmRhdGEpfSkpLmNhdGNoKChlPT57RUMuaXNDYW5jZWwoZSk/cyhuZXcgeHYoeGcuT1BFUkFUSU9OX0FCT1JURUQsXCJjYW5jZWwgdG9rZW4gY2FuY2VsZWRcIikpOlwiRUNPTk5BQk9SVEVEXCI9PT1lLmNvZGU/cyhuZXcgeHYoeGcuTkVUV09SS19USU1FT1VULGUubWVzc2FnZSkpOmUucmVzcG9uc2U/cyhuZXcgeHYoeGcuTkVUV09SS19SRVNQT05TRV9FUlJPUixlLnJlc3BvbnNlLnN0YXR1cykpOnMobmV3IHh2KHhnLk5FVFdPUktfRVJST1IsZS5tZXNzYWdlKSl9KSl9KSl9XG4vKiEgZm9ybWRhdGEtcG9seWZpbGwuIE1JVCBMaWNlbnNlLiBKaW1teSBXP3J0aW5nIDxodHRwczovL2ppbW15LndhcnRpbmcuc2Uvb3BlbnNvdXJjZT4gKi8hZnVuY3Rpb24oKXt2YXIgZTtmdW5jdGlvbiB0KGUpe3ZhciB0PTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQ8ZS5sZW5ndGg/e2RvbmU6ITEsdmFsdWU6ZVt0KytdfTp7ZG9uZTohMH19fXZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGU9PUFycmF5LnByb3RvdHlwZXx8ZT09T2JqZWN0LnByb3RvdHlwZXx8KGVbdF09aS52YWx1ZSksZX07dmFyIG4scj1mdW5jdGlvbihlKXtlPVtcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxlLFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyxcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZixcIm9iamVjdFwiPT10eXBlb2YgcSYmcV07Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3Qpe3ZhciBpPWVbdF07aWYoaSYmaS5NYXRoPT1NYXRoKXJldHVybiBpfXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgZ2xvYmFsIG9iamVjdFwiKX0odGhpcyk7ZnVuY3Rpb24gcyhlLHQpe2lmKHQpZTp7dmFyIG49cjtlPWUuc3BsaXQoXCIuXCIpO2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGgtMTtzKyspe3ZhciBvPWVbc107aWYoIShvIGluIG4pKWJyZWFrIGU7bj1uW29dfSh0PXQocz1uW2U9ZVtlLmxlbmd0aC0xXV0pKSE9cyYmbnVsbCE9dCYmaShuLGUse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSl9fWZ1bmN0aW9uIG8oZSl7cmV0dXJuKGU9e25leHQ6ZX0pW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZX1mdW5jdGlvbiBhKGUpe3ZhciBpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmZVtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiBpP2kuY2FsbChlKTp7bmV4dDp0KGUpfX1pZihzKFwiU3ltYm9sXCIsKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXt0aGlzLkE9ZSxpKHRoaXMsXCJkZXNjcmlwdGlvblwiLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfWlmKGUpcmV0dXJuIGU7dC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTt2YXIgbj1cImpzY29tcF9zeW1ib2xfXCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrXCJfXCIscj0wO3JldHVybiBmdW5jdGlvbiBlKGkpe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIG5ldyB0KG4rKGl8fFwiXCIpK1wiX1wiK3IrKyxpKX19KSkscyhcIlN5bWJvbC5pdGVyYXRvclwiLChmdW5jdGlvbihlKXtpZihlKXJldHVybiBlO2U9U3ltYm9sKFwiU3ltYm9sLml0ZXJhdG9yXCIpO2Zvcih2YXIgbj1cIkFycmF5IEludDhBcnJheSBVaW50OEFycmF5IFVpbnQ4Q2xhbXBlZEFycmF5IEludDE2QXJyYXkgVWludDE2QXJyYXkgSW50MzJBcnJheSBVaW50MzJBcnJheSBGbG9hdDMyQXJyYXkgRmxvYXQ2NEFycmF5XCIuc3BsaXQoXCIgXCIpLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIGE9cltuW3NdXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLnByb3RvdHlwZVtlXSYmaShhLnByb3RvdHlwZSxlLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbyh0KHRoaXMpKX19KX1yZXR1cm4gZX0pKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3Quc2V0UHJvdG90eXBlT2Ypbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y7ZWxzZXt2YXIgYztlOnt2YXIgZD17fTt0cnl7ZC5fX3Byb3RvX189e2E6ITB9LGM9ZC5hO2JyZWFrIGV9Y2F0Y2goZSl7fWM9ITF9bj1jP2Z1bmN0aW9uKGUsdCl7aWYoZS5fX3Byb3RvX189dCxlLl9fcHJvdG9fXyE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihlK1wiIGlzIG5vdCBleHRlbnNpYmxlXCIpO3JldHVybiBlfTpudWxsfXZhciBsPW47ZnVuY3Rpb24gaCgpe3RoaXMubT0hMSx0aGlzLmo9bnVsbCx0aGlzLnY9dm9pZCAwLHRoaXMuaD0xLHRoaXMudT10aGlzLkM9MCx0aGlzLmw9bnVsbH1mdW5jdGlvbiB1KGUpe2lmKGUubSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtlLm09ITB9ZnVuY3Rpb24gcChlLHQpe3JldHVybiBlLmg9Myx7dmFsdWU6dH19ZnVuY3Rpb24gXyhlKXt0aGlzLmc9bmV3IGgsdGhpcy5HPWV9ZnVuY3Rpb24gRShlLHQsaSxuKXt0cnl7dmFyIHI9dC5jYWxsKGUuZy5qLGkpO2lmKCEociBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkl0ZXJhdG9yIHJlc3VsdCBcIityK1wiIGlzIG5vdCBhbiBvYmplY3RcIik7aWYoIXIuZG9uZSlyZXR1cm4gZS5nLm09ITEscjt2YXIgcz1yLnZhbHVlfWNhdGNoKHQpe3JldHVybiBlLmcuaj1udWxsLGUuZy5zKHQpLG0oZSl9cmV0dXJuIGUuZy5qPW51bGwsbi5jYWxsKGUuZyxzKSxtKGUpfWZ1bmN0aW9uIG0oZSl7Zm9yKDtlLmcuaDspdHJ5e3ZhciB0PWUuRyhlLmcpO2lmKHQpcmV0dXJuIGUuZy5tPSExLHt2YWx1ZTp0LnZhbHVlLGRvbmU6ITF9fWNhdGNoKHQpe2UuZy52PXZvaWQgMCxlLmcucyh0KX1pZihlLmcubT0hMSxlLmcubCl7aWYodD1lLmcubCxlLmcubD1udWxsLHQuRil0aHJvdyB0LkQ7cmV0dXJue3ZhbHVlOnQucmV0dXJuLGRvbmU6ITB9fXJldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19ZnVuY3Rpb24gZihlKXt0aGlzLm5leHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUubyh0KX0sdGhpcy50aHJvdz1mdW5jdGlvbih0KXtyZXR1cm4gZS5zKHQpfSx0aGlzLnJldHVybj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt1KGUuZyk7dmFyIGk9ZS5nLmo7cmV0dXJuIGk/RShlLFwicmV0dXJuXCJpbiBpP2kucmV0dXJuOmZ1bmN0aW9uKGUpe3JldHVybnt2YWx1ZTplLGRvbmU6ITB9fSx0LGUuZy5yZXR1cm4pOihlLmcucmV0dXJuKHQpLG0oZSkpfShlLHQpfSx0aGlzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319ZnVuY3Rpb24gZyhlLHQpe3JldHVybiB0PW5ldyBmKG5ldyBfKHQpKSxsJiZlLnByb3RvdHlwZSYmbCh0LGUucHJvdG90eXBlKSx0fWlmKGgucHJvdG90eXBlLm89ZnVuY3Rpb24oZSl7dGhpcy52PWV9LGgucHJvdG90eXBlLnM9ZnVuY3Rpb24oZSl7dGhpcy5sPXtEOmUsRjohMH0sdGhpcy5oPXRoaXMuQ3x8dGhpcy51fSxoLnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oZSl7dGhpcy5sPXtyZXR1cm46ZX0sdGhpcy5oPXRoaXMudX0sXy5wcm90b3R5cGUubz1mdW5jdGlvbihlKXtyZXR1cm4gdSh0aGlzLmcpLHRoaXMuZy5qP0UodGhpcyx0aGlzLmcuai5uZXh0LGUsdGhpcy5nLm8pOih0aGlzLmcubyhlKSxtKHRoaXMpKX0sXy5wcm90b3R5cGUucz1mdW5jdGlvbihlKXtyZXR1cm4gdSh0aGlzLmcpLHRoaXMuZy5qP0UodGhpcyx0aGlzLmcuai50aHJvdyxlLHRoaXMuZy5vKToodGhpcy5nLnMoZSksbSh0aGlzKSl9LHMoXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLChmdW5jdGlvbihlKXtyZXR1cm4gZXx8ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgU3RyaW5nJiYoZSs9XCJcIik7dmFyIGk9MCxuPSExLHI9e25leHQ6ZnVuY3Rpb24oKXtpZighbiYmaTxlLmxlbmd0aCl7dmFyIHI9aSsrO3JldHVybnt2YWx1ZTp0KHIsZVtyXSksZG9uZTohMX19cmV0dXJuIG49ITAse2RvbmU6ITAsdmFsdWU6dm9pZCAwfX19O3JldHVybiByW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gcn0scn0odGhpcywoZnVuY3Rpb24oZSx0KXtyZXR1cm5bZSx0XX0pKX19KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJsb2ImJihcInVuZGVmaW5lZFwiPT10eXBlb2YgRm9ybURhdGF8fCFGb3JtRGF0YS5wcm90b3R5cGUua2V5cykpe3ZhciBUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspdChlW2ldKX0sUz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9cXHI/XFxufFxcci9nLFwiXFxyXFxuXCIpfSxSPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdCBpbnN0YW5jZW9mIEJsb2I/KGk9dm9pZCAwIT09aT9TdHJpbmcoaStcIlwiKTpcInN0cmluZ1wiPT10eXBlb2YgdC5uYW1lP3QubmFtZTpcImJsb2JcIix0Lm5hbWU9PT1pJiZcIltvYmplY3QgQmxvYl1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KXx8KHQ9bmV3IEZpbGUoW3RdLGkpKSxbU3RyaW5nKGUpLHRdKTpbU3RyaW5nKGUpLFN0cmluZyh0KV19LEM9ZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aDx0KXRocm93IG5ldyBUeXBlRXJyb3IodCtcIiBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgXCIrZS5sZW5ndGgrXCIgcHJlc2VudC5cIil9LHY9XCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93P3dpbmRvdzpcIm9iamVjdFwiPT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsST12LkZvcm1EYXRhLHk9di5YTUxIdHRwUmVxdWVzdCYmdi5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZCxBPXYuUmVxdWVzdCYmdi5mZXRjaCxiPXYubmF2aWdhdG9yJiZ2Lm5hdmlnYXRvci5zZW5kQmVhY29uLHc9di5FbGVtZW50JiZ2LkVsZW1lbnQucHJvdG90eXBlLE89di5TeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZztPJiYoQmxvYi5wcm90b3R5cGVbT118fChCbG9iLnByb3RvdHlwZVtPXT1cIkJsb2JcIiksXCJGaWxlXCJpbiB2JiYhRmlsZS5wcm90b3R5cGVbT10mJihGaWxlLnByb3RvdHlwZVtPXT1cIkZpbGVcIikpO3RyeXtuZXcgRmlsZShbXSxcIlwiKX1jYXRjaChlKXt2LkZpbGU9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlPW5ldyBCbG9iKGUsaXx8e30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse25hbWU6e3ZhbHVlOnR9LGxhc3RNb2RpZmllZDp7dmFsdWU6KyhpJiZ2b2lkIDAhPT1pLmxhc3RNb2RpZmllZD9uZXcgRGF0ZShpLmxhc3RNb2RpZmllZCk6bmV3IERhdGUpfSx0b1N0cmluZzp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgRmlsZV1cIn19fSksTyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsTyx7dmFsdWU6XCJGaWxlXCJ9KSxlfX12YXIgTj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9cXG4vZyxcIiUwQVwiKS5yZXBsYWNlKC9cXHIvZyxcIiUwRFwiKS5yZXBsYWNlKC9cIi9nLFwiJTIyXCIpfSxEPWZ1bmN0aW9uKGUpe3RoaXMuaT1bXTt2YXIgdD10aGlzO2UmJlQoZS5lbGVtZW50cywoZnVuY3Rpb24oZSl7aWYoZS5uYW1lJiYhZS5kaXNhYmxlZCYmXCJzdWJtaXRcIiE9PWUudHlwZSYmXCJidXR0b25cIiE9PWUudHlwZSYmIWUubWF0Y2hlcyhcImZvcm0gZmllbGRzZXRbZGlzYWJsZWRdICpcIikpaWYoXCJmaWxlXCI9PT1lLnR5cGUpe3ZhciBpPWUuZmlsZXMmJmUuZmlsZXMubGVuZ3RoP2UuZmlsZXM6W25ldyBGaWxlKFtdLFwiXCIse3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pXTtUKGksKGZ1bmN0aW9uKGkpe3QuYXBwZW5kKGUubmFtZSxpKX0pKX1lbHNlXCJzZWxlY3QtbXVsdGlwbGVcIj09PWUudHlwZXx8XCJzZWxlY3Qtb25lXCI9PT1lLnR5cGU/VChlLm9wdGlvbnMsKGZ1bmN0aW9uKGkpeyFpLmRpc2FibGVkJiZpLnNlbGVjdGVkJiZ0LmFwcGVuZChlLm5hbWUsaS52YWx1ZSl9KSk6XCJjaGVja2JveFwiPT09ZS50eXBlfHxcInJhZGlvXCI9PT1lLnR5cGU/ZS5jaGVja2VkJiZ0LmFwcGVuZChlLm5hbWUsZS52YWx1ZSk6KGk9XCJ0ZXh0YXJlYVwiPT09ZS50eXBlP1MoZS52YWx1ZSk6ZS52YWx1ZSx0LmFwcGVuZChlLm5hbWUsaSkpfSkpfTtpZigoZT1ELnByb3RvdHlwZSkuYXBwZW5kPWZ1bmN0aW9uKGUsdCxpKXtDKGFyZ3VtZW50cywyKSx0aGlzLmkucHVzaChSKGUsdCxpKSl9LGUuZGVsZXRlPWZ1bmN0aW9uKGUpe0MoYXJndW1lbnRzLDEpO3ZhciB0PVtdO2U9U3RyaW5nKGUpLFQodGhpcy5pLChmdW5jdGlvbihpKXtpWzBdIT09ZSYmdC5wdXNoKGkpfSkpLHRoaXMuaT10fSxlLmVudHJpZXM9ZnVuY3Rpb24gZSgpe3ZhciB0LGk9dGhpcztyZXR1cm4gZyhlLChmdW5jdGlvbihlKXtpZigxPT1lLmgmJih0PTApLDMhPWUuaClyZXR1cm4gdDxpLmkubGVuZ3RoP2U9cChlLGkuaVt0XSk6KGUuaD0wLGU9dm9pZCAwKSxlO3QrKyxlLmg9Mn0pKX0sZS5mb3JFYWNoPWZ1bmN0aW9uKGUsdCl7Qyhhcmd1bWVudHMsMSk7Zm9yKHZhciBpPWEodGhpcyksbj1pLm5leHQoKTshbi5kb25lO249aS5uZXh0KCkpe3ZhciByPWEobi52YWx1ZSk7bj1yLm5leHQoKS52YWx1ZSxyPXIubmV4dCgpLnZhbHVlLGUuY2FsbCh0LHIsbix0aGlzKX19LGUuZ2V0PWZ1bmN0aW9uKGUpe0MoYXJndW1lbnRzLDEpO3ZhciB0PXRoaXMuaTtlPVN0cmluZyhlKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldWzBdPT09ZSlyZXR1cm4gdFtpXVsxXTtyZXR1cm4gbnVsbH0sZS5nZXRBbGw9ZnVuY3Rpb24oZSl7Qyhhcmd1bWVudHMsMSk7dmFyIHQ9W107cmV0dXJuIGU9U3RyaW5nKGUpLFQodGhpcy5pLChmdW5jdGlvbihpKXtpWzBdPT09ZSYmdC5wdXNoKGlbMV0pfSkpLHR9LGUuaGFzPWZ1bmN0aW9uKGUpe0MoYXJndW1lbnRzLDEpLGU9U3RyaW5nKGUpO2Zvcih2YXIgdD0wO3Q8dGhpcy5pLmxlbmd0aDt0KyspaWYodGhpcy5pW3RdWzBdPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sZS5rZXlzPWZ1bmN0aW9uIGUoKXt2YXIgdCxpLG4scixzPXRoaXM7cmV0dXJuIGcoZSwoZnVuY3Rpb24oZSl7aWYoMT09ZS5oJiYodD1hKHMpLGk9dC5uZXh0KCkpLDMhPWUuaClyZXR1cm4gaS5kb25lP3ZvaWQoZS5oPTApOihuPWkudmFsdWUscj1hKG4pLHAoZSxyLm5leHQoKS52YWx1ZSkpO2k9dC5uZXh0KCksZS5oPTJ9KSl9LGUuc2V0PWZ1bmN0aW9uKGUsdCxpKXtDKGFyZ3VtZW50cywyKSxlPVN0cmluZyhlKTt2YXIgbj1bXSxyPVIoZSx0LGkpLHM9ITA7VCh0aGlzLmksKGZ1bmN0aW9uKHQpe3RbMF09PT1lP3MmJihzPSFuLnB1c2gocikpOm4ucHVzaCh0KX0pKSxzJiZuLnB1c2gociksdGhpcy5pPW59LGUudmFsdWVzPWZ1bmN0aW9uIGUoKXt2YXIgdCxpLG4scixzPXRoaXM7cmV0dXJuIGcoZSwoZnVuY3Rpb24oZSl7aWYoMT09ZS5oJiYodD1hKHMpLGk9dC5uZXh0KCkpLDMhPWUuaClyZXR1cm4gaS5kb25lP3ZvaWQoZS5oPTApOihuPWkudmFsdWUsKHI9YShuKSkubmV4dCgpLHAoZSxyLm5leHQoKS52YWx1ZSkpO2k9dC5uZXh0KCksZS5oPTJ9KSl9LEQucHJvdG90eXBlLl9hc05hdGl2ZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgSSx0PWEodGhpcyksaT10Lm5leHQoKTshaS5kb25lO2k9dC5uZXh0KCkpe3ZhciBuPWEoaS52YWx1ZSk7aT1uLm5leHQoKS52YWx1ZSxuPW4ubmV4dCgpLnZhbHVlLGUuYXBwZW5kKGksbil9cmV0dXJuIGV9LEQucHJvdG90eXBlLl9ibG9iPWZ1bmN0aW9uKCl7dmFyIGU9XCItLS0tZm9ybWRhdGEtcG9seWZpbGwtXCIrTWF0aC5yYW5kb20oKSx0PVtdLGk9XCItLVwiK2UrJ1xcclxcbkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT1cIic7cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT90LnB1c2goaStOKFMobikpKydcIlxcclxcblxcclxcbicrUyhlKStcIlxcclxcblwiKTp0LnB1c2goaStOKFMobikpKydcIjsgZmlsZW5hbWU9XCInK04oZS5uYW1lKSsnXCJcXHJcXG5Db250ZW50LVR5cGU6ICcrKGUudHlwZXx8XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIikrXCJcXHJcXG5cXHJcXG5cIixlLFwiXFxyXFxuXCIpfSkpLHQucHVzaChcIi0tXCIrZStcIi0tXCIpLG5ldyBCbG9iKHQse3R5cGU6XCJtdWx0aXBhcnQvZm9ybS1kYXRhOyBib3VuZGFyeT1cIitlfSl9LEQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9LEQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEZvcm1EYXRhXVwifSx3JiYhdy5tYXRjaGVzJiYody5tYXRjaGVzPXcubWF0Y2hlc1NlbGVjdG9yfHx3Lm1vek1hdGNoZXNTZWxlY3Rvcnx8dy5tc01hdGNoZXNTZWxlY3Rvcnx8dy5vTWF0Y2hlc1NlbGVjdG9yfHx3LndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PShlPSh0aGlzLmRvY3VtZW50fHx0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoZSkpLmxlbmd0aDswPD0tLXQmJmUuaXRlbSh0KSE9PXRoaXM7KTtyZXR1cm4tMTx0fSksTyYmKEQucHJvdG90eXBlW09dPVwiRm9ybURhdGFcIikseSl7dmFyIFA9di5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2V0UmVxdWVzdEhlYWRlcjt2LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKGUsdCl7UC5jYWxsKHRoaXMsZSx0KSxcImNvbnRlbnQtdHlwZVwiPT09ZS50b0xvd2VyQ2FzZSgpJiYodGhpcy5CPSEwKX0sdi5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXtlIGluc3RhbmNlb2YgRD8oZT1lLl9ibG9iKCksdGhpcy5CfHx0aGlzLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixlLnR5cGUpLHkuY2FsbCh0aGlzLGUpKTp5LmNhbGwodGhpcyxlKX19QSYmKHYuZmV0Y2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmdC5ib2R5JiZ0LmJvZHkgaW5zdGFuY2VvZiBEJiYodC5ib2R5PXQuYm9keS5fYmxvYigpKSxBLmNhbGwodGhpcyxlLHQpfSksYiYmKHYubmF2aWdhdG9yLnNlbmRCZWFjb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEQmJih0PXQuX2FzTmF0aXZlKCkpLGIuY2FsbCh0aGlzLGUsdCl9KSx2LkZvcm1EYXRhPUR9fSgpO2NvbnN0IEZEPSgpPT57Y29uc3QgZT1rQyhcIkFSRUFTXCIpOzA9PT1lLmxlbmd0aCYmZS5wdXNoKHJJLkdMT0JBTCk7cmV0dXJuIGNTKGUpLmNhbGwoZSwoKGUsdCxpKT0+e2NvbnN0IG49QkQodCk7cmV0dXJuIG4/MD09PWk/bjpcIlwiLmNvbmNhdChlLFwiLFwiKS5jb25jYXQobik6ZX0pLFwiXCIpfSxCRD1lPT5lPT09ckkuT1ZFUlNFQT9cIlwiLmNvbmNhdChhSS5BU0lBLFwiLFwiKS5jb25jYXQoYUkuRVVST1BFLFwiLFwiKS5jb25jYXQoYUkuQUZSSUNBLFwiLFwiKS5jb25jYXQoYUkuTk9SVEhfQU1FUklDQSxcIixcIikuY29uY2F0KGFJLlNPVVRIX0FNRVJJQ0EsXCIsXCIpLmNvbmNhdChhSS5PQ0VBTklBKTphSVtlXSxqRD1lPT57Y29uc3QgdD17Q09ERTpcIlwiLFdFQkNTX0RPTUFJTjpbXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W10sUFJPWFlfQ1M6W10sQ0RTX0FQOltdLEFDQ09VTlRfUkVHSVNURVI6W10sVUFQX0FQOltdLEVWRU5UX1JFUE9SVF9ET01BSU46W10sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W10sTE9HX1VQTE9BRF9TRVJWRVI6W10sUFJPWFlfU0VSVkVSX1RZUEUzOltdfTtyZXR1cm4gZS5tYXAoKGU9Pntjb25zdCBpPWNJW2VdLG49T2JqZWN0LmtleXMoaSk7biYmbi5tYXAoKGU9PntcIkNPREVcIiE9PWUmJih0W2VdPXRbZV0uY29uY2F0KGlbZV0pKX0pKX0pKSx0fSxHRD17R0xPQkFMOntBU0lBOltySS5DSElOQSxySS5KQVBBTixySS5JTkRJQSxySS5LT1JFQSxySS5IS01DXSxFVVJPUEU6W10sTk9SVEhfQU1FUklDQTpbckkuVVNdLFNPVVRIX0FNRVJJQ0E6W10sT0NFQU5JQTpbXSxBRlJJQ0E6W119fSxXRD1PYmplY3Qua2V5cyhHRFtySS5HTE9CQUxdKSxIRD1bckkuQ0hJTkEsckkuTk9SVEhfQU1FUklDQSxySS5FVVJPUEUsckkuQVNJQSxySS5KQVBBTixySS5JTkRJQSxySS5PQ0VBTklBLHJJLlNPVVRIX0FNRVJJQ0EsckkuQUZSSUNBLHJJLktPUkVBLHJJLkhLTUMsckkuVVNdLEtEPWZ1bmN0aW9uKGUsdCl7bGV0IGk9W107aWYoUHIoZSkuY2FsbChlLHJJLkdMT0JBTCkpe2NvbnN0IHM9W3JJLkdMT0JBTCxySS5PVkVSU0VBXSxvPU9iamVjdC5rZXlzKGNJKTtpZih0PT09ckkuR0xPQkFMKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcIkdMT0JBTCBpcyBhbiBpbnZhbGlkIGV4Y2x1ZGVkQXJlYSB2YWx1ZVwiKTtpZih0PT09ckkuQ0hJTkEpaT1bckkuT1ZFUlNFQV07ZWxzZSBpZihyPXQsUHIoV0QpLmNhbGwoV0Qscikpe2NvbnN0IGU9KG49dCxHRFtySS5HTE9CQUxdW25dfHxbXSkscj1bLi4ucyx0LC4uLmVdO2k9by5maWx0ZXIoKGU9PiFQcihyKS5jYWxsKHIsZSkpKX1lbHNlIGlmKGZ1bmN0aW9uKGUpe2xldCB0PSExO3JldHVybiBXRC5mb3JFYWNoKChpPT57dmFyIG47UHIobj1HRFtySS5HTE9CQUxdW2ldKS5jYWxsKG4sZSkmJih0PSEwKX0pKSx0fSh0KSl7Y29uc3QgZT1mdW5jdGlvbihlKXtsZXQgdDtyZXR1cm4gV0QuZm9yRWFjaCgoaT0+e3ZhciBuO1ByKG49R0RbckkuR0xPQkFMXVtpXSkuY2FsbChuLGUpJiYodD1pKX0pKSx0fSh0KSxuPVsuLi5zLGUsdF07aT1vLmZpbHRlcigoZT0+IVByKG4pLmNhbGwobixlKSkpfWVsc2UgaT1lO2k9ZnVuY3Rpb24oZSl7Y29uc3QgdD1bXTtyZXR1cm4gSEQuZm9yRWFjaCgoaT0+e1ByKGUpLmNhbGwoZSxpKSYmdC5wdXNoKGkpfSkpLHQuY29uY2F0KGUuZmlsdGVyKChlPT4hUHIoSEQpLmNhbGwoSEQsZSkpKSl9KGkpfWVsc2UgaT1lO3ZhciBuLHI7cmV0dXJuIGl9O2Z1bmN0aW9uIFlEKGUpe3ZhciB0LGk7aWYoIWUmJlByKHQ9a0MoXCJBUkVBU1wiKSkuY2FsbCh0LHJJLkVYVEVOU0lPTlMpKXJldHVybiBLQy5kZWJ1ZyhcInVwZGF0ZSBhcmVhIGZyb20gYXAgOiByZXNldFwiKSx2b2lkIHFEKHN2LCEwKTtpZighUHIoaT1rQyhcIkFSRUFTXCIpKS5jYWxsKGksckkuR0xPQkFMKXx8IWUpcmV0dXJuO2xldCBuPWNJLkVYVEVOU0lPTlM7biYmKG49e0NPREU6QkQockkuRVhURU5TSU9OUyksV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLVwiLmNvbmNhdChlLFwiLmFnb3JhLmlvXCIpXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItXCIuY29uY2F0KGUsXCIuYXAuc2QtcnRuLmNvbVwiKV0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLVwiLmNvbmNhdChlLFwiLmFnb3JhLmlvXCIpXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi0xLVwiLmNvbmNhdChlLFwiLmFnb3JhLmlvXCIpLFwiY2RzLWFwLXdlYi0yLVwiLmNvbmNhdChlLFwiLmFwLnNkLXJ0bi5jb21cIildLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi0xLVwiLmNvbmNhdChlLFwiLmFnb3JhLmlvXCIpLFwic3VhLWFwLXdlYi0yLVwiLmNvbmNhdChlLFwiLmFwLnNkLXJ0bi5jb21cIildLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLTEtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIiksXCJ1YXAtYXAtd2ViLTItXCIuY29uY2F0KGUsXCIuYXAuc2QtcnRuLmNvbVwiKV0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLVwiLmNvbmNhdChlLFwiLmFnb3JhLmlvXCIpXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLVwiLmNvbmNhdChlLFwiLmFnb3JhLmlvXCIpXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLVwiLmNvbmNhdChlLFwiLmFnb3JhLmlvXCIpXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wid2VicnRjLWNsb3VkLXByb3h5LVwiLmNvbmNhdChlLFwiLmFnb3JhLmlvXCIpXX0sS0MuZGVidWcoXCJ1cGRhdGUgYXJlYSBmcm9tIGFwIHN1Y2Nlc3M6IFwiLmNvbmNhdChlLFwiLGNvbmZpZyBpcyBcIiksbiksTEMoXCJBUkVBU1wiLFtySS5FWFRFTlNJT05TXSwhMCksT2JqZWN0LmtleXMobikubWFwKChlPT57aWYoXCJMT0dfVVBMT0FEX1NFUlZFUlwiPT09ZXx8XCJFVkVOVF9SRVBPUlRfRE9NQUlOXCI9PT1lfHxcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCI9PT1lfHxcIlBST1hZX1NFUlZFUl9UWVBFM1wiPT09ZSl7TEMoZSxuW2VdWzBdKX1lbHNlIExDKGUsbltlXSl9KSkpfWZ1bmN0aW9uIHFEKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07Y29uc3QgaT1ydi5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpzVC5TRVRfQVJFQSxvcHRpb25zOmUsdGFnOm9ULlRSQUNFUn0pO3RyeXtsZXQgbj1bXTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKG49W2VdKSxBcnJheS5pc0FycmF5KGUpJiYoZS5mb3JFYWNoKChlPT57aWYoIVByKG9JKS5jYWxsKG9JLGUpKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgYXJlYSBjb2RlXCIpfSkpLG49ZSksXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl7Y29uc3R7YXJlYUNvZGU6dCxleGNsdWRlZEFyZWE6aX09ZTtpZighdCl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJhcmVhIGNvZGUgaXMgbmVlZGVkXCIpO2xldCByPXQ7XCJzdHJpbmdcIj09dHlwZW9mIHQmJihyPVt0XSksbj1pP0tEKHIsaSk6cn1pZighdCl7aWYoTUMuQVJFQVMpe2NvbnN0IGU9bmV3IHh2KHhnLlBST0hJQklURURfT1BFUkFUSU9OLFwic2V0QXJlYSBpcyBwcm9oaWJpdGVkIGJlY2F1c2Ugb2YgY29uZmlnLWRpc3RyaWJ1dGVcIik7cmV0dXJuIGkub25FcnJvcihlKSx2b2lkIEtDLndhcm5pbmcoXCJzZXRBcmVhIGlzIHByb2hpYml0ZWQgYmVjYXVzZSBvZiBjb25maWctZGlzdHJpYnV0ZVwiKX1pZihQcihuKS5jYWxsKG4sckkuR0xPQkFMKSYma0MoXCJBUkVBU1wiKT09PXJJLkVYVEVOU0lPTlMpe2NvbnN0IGU9bmV3IHh2KHhnLlBST0hJQklURURfT1BFUkFUSU9OLFwic2V0QXJlYSBpcyBwcm9oaWJpdGVkIGJlY2F1c2Ugb2YgYXAgZXh0ZW5zaW9uc1wiKTtyZXR1cm4gaS5vbkVycm9yKGUpLHZvaWQgS0Mud2FybmluZyhcInNldEFyZWEgaXMgcHJvaGliaXRlZCBiZWNhdXNlIG9mIGFwIGV4dGVuc2lvbnNcIil9fUxDKFwiQVJFQVNcIixuLHQpO2NvbnN0IHI9akQobik7T2JqZWN0LmtleXMocikubWFwKChlPT57aWYoXCJMT0dfVVBMT0FEX1NFUlZFUlwiPT09ZXx8XCJFVkVOVF9SRVBPUlRfRE9NQUlOXCI9PT1lfHxcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCI9PT1lfHxcIlBST1hZX1NFUlZFUl9UWVBFM1wiPT09ZSl7TEMoZSxyW2VdWzBdKX1lbHNlIExDKGUscltlXSl9KSksS0MuZGVidWcoXCJzZXQgYXJlYSBzdWNjZXNzOlwiLG4uam9pbihcIixcIikpfWNhdGNoKGUpe3Rocm93IGkub25FcnJvcihlKSxlfWkub25TdWNjZXNzKCl9ZnVuY3Rpb24gSkQoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHpEKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0pEKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOkpEKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWxldCBYRD0xO2Z1bmN0aW9uIFFEKGUsdCxpLG4scil7WEQrPTE7Y29uc3Qgcz17c2lkOmkuc2lkLGNvbW1hbmQ6XCJjb252ZXJnZUFsbG9jYXRlRWRnZVwiLHVpZDpcIjY2NlwiLGFwcElkOmkuYXBwSWQsdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyksc2VxOlhELHJlcXVlc3RJZDpYRCx2ZXJzaW9uOk9DLGNuYW1lOmkuY25hbWV9LG89e3NlcnZpY2VfbmFtZTp0LGpzb25fYm9keTpKU09OLnN0cmluZ2lmeShzKX07bGV0IGEsYyxkPWVbMF07cmV0dXJuIFhUKChhc3luYygpPT57YT1EYXRlLm5vdygpO2NvbnN0IGU9YXdhaXQgVkQoZCx7ZGF0YTpvLGNhbmNlbFRva2VuOm4saGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjpcIjBcIixcIlgtUGFja2V0LVVSSVwiOlwiNjFcIn19KTtpZihjPURhdGUubm93KCktYSwwIT09ZS5jb2RlKXtjb25zdCB0PW5ldyB4dih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibGl2ZSBzdHJlYW1pbmcgYXAgZXJyb3IsIGNvZGVcIitlLmNvZGUse3JldHJ5OiEwLHJlc3BvbnNlVGltZTpjfSk7dGhyb3cgS0MuZXJyb3IodC50b1N0cmluZygpKSx0fWNvbnN0IGk9SlNPTi5wYXJzZShlLmpzb25fYm9keSk7aWYoMjAwIT09aS5jb2RlKXtjb25zdCBlPW5ldyB4dih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibGl2ZSBzdHJlYW1pbmcgYXBwIGNlbnRlciBlcnJvciwgY29kZTogXCIuY29uY2F0KGkuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KGkucmVhc29uKSx7Y29kZTppLmNvZGUscmVzcG9uc2VUaW1lOmN9KTt0aHJvdyBLQy5lcnJvcihlLnRvU3RyaW5nKCkpLGV9aWYoIWkuc2VydmVyc3x8MD09PWkuc2VydmVycy5sZW5ndGgpe2NvbnN0IGU9bmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJsaXZlIHN0cmVhbWluZyBhcHAgY2VudGVyIGVtcHR5IHNlcnZlclwiLHtjb2RlOmkuY29kZSxyZXNwb25zZVRpbWU6Y30pO3Rocm93IEtDLmVycm9yKGUudG9TdHJpbmcoKSksZX1jb25zdCByPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2FkZHJlc3NMaXN0OmUuc2VydmVycy5tYXAoKGU9Plwid3NzOi8vXCIuY29uY2F0KGUuYWRkcmVzcy5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChrQyhcIldPUktFUl9ET01BSU5cIiksXCI6XCIpLmNvbmNhdChlLndzcyxcIj9zZXJ2aWNlTmFtZT1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkpKSx3b3JrZXJUb2tlbjplLndvcmtlclRva2VuLHZpZDplLnZpZH19KGksdCk7cmV0dXJuIGtDKFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKSYmKHIuYWRkcmVzc0xpc3Q9a0MoXCJMSVZFX1NUUkVBTUlOR19BRERSRVNTXCIpaW5zdGFuY2VvZiBBcnJheT9rQyhcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIik6W2tDKFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKV0pLHpEKHpEKHt9LHIpLHt9LHtyZXNwb25zZVRpbWU6Y30pfSksKChuLHIpPT4ocnYuYXB3b3JrZXJFdmVudChpLnNpZCx7c3VjY2VzczohMCxzYzoyMDAsc2VydmljZU5hbWU6dCxyZXNwb25zZURldGFpbDpKU09OLnN0cmluZ2lmeShuLmFkZHJlc3NMaXN0KSxmaXJzdFN1Y2Nlc3M6MD09PXIscmVzcG9uc2VUaW1lOmMsc2VydmVySXA6ZVtyJWUubGVuZ3RoXX0pLCExKSksKChuLHIpPT4ocnYuYXB3b3JrZXJFdmVudChpLnNpZCx7c3VjY2VzczohMSxzYzpuLmRhdGEmJm4uZGF0YS5jb2RlfHwyMDAsc2VydmljZU5hbWU6dCxyZXNwb25zZVRpbWU6YyxzZXJ2ZXJJcDplW3IlZS5sZW5ndGhdfSksISEobi5jb2RlIT09eGcuT1BFUkFUSU9OX0FCT1JURUQmJm4uY29kZSE9PXhnLlVORVhQRUNURURfUkVTUE9OU0V8fG4uZGF0YSYmbi5kYXRhLnJldHJ5KSYmKGQ9ZVsocisxKSVlLmxlbmd0aF0sITApKSkscil9bGV0IFpEPTE7ZnVuY3Rpb24gJEQoZSx0LGksbil7bGV0e3VybDpyLGFyZWFDb2RlOnN9PWU7Y29uc3Qgbz1EYXRlLm5vdygpO2xldCBhO2NvbnN0W2MsZF09clAodCxzLFtoeS5DSE9PU0VfU0VSVkVSXSk7bGV0IGw9UlQubmV0d29ya1N0YXRlO3JldHVybiBYVCgoYXN5bmMoKT0+e2wmJlJULm5ldHdvcmtTdGF0ZT09PWhULk9GRkxJTkUmJlJULm9ubGluZVdhaXRlciYmYXdhaXQgdGcucmFjZShbUlQub25saW5lV2FpdGVyLFVUKG4mJm4ubWF4UmV0cnlUaW1lb3V0fHxKVC5tYXhSZXRyeVRpbWVvdXQpXSksbD1SVC5uZXR3b3JrU3RhdGU7Y29uc3R7ZGF0YTplLGhlYWRlcnM6c309YXdhaXQgVkQocix7ZGF0YTpjLGNhbmNlbFRva2VuOmksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGE7XCJ9fSwhMCwhMCk7YT1cIjFcIj09PXMuaHR0cDM/MTotMSxydi5yZXBvcnRSZXNvdXJjZVRpbWluZyhyLHQuc2lkKSx0UChlLHIsdCxvLFtoeS5DSE9PU0VfU0VSVkVSXSxhKTtjb25zdCBkPVNEKGUsaHkuQ0hPT1NFX1NFUlZFUik7cmV0dXJuIGlQKGQpLEVEKGQscil9KSwoZT0+KGUmJnJ2LmpvaW5DaG9vc2VTZXJ2ZXIodC5zaWQse2x0czpvLHN1Y2M6ITAsY3NBZGRyOnIsb3BpZDpkLHNlcnZlckxpc3Q6ZS5nYXRld2F5QWRkcnMubWFwKChlPT5lLmFkZHJlc3MpKSxlYzpudWxsLGNpZDplLmNpZC50b1N0cmluZygpLHVpZDplLnVpZC50b1N0cmluZygpLGNzSXA6ZS5jc0lwLHVuaWxic1NlcnZlcklkczpbaHkuQ0hPT1NFX1NFUlZFUl0udG9TdHJpbmcoKSxpc0h0dHAzOmF9KSwhMSkpLChlPT5lLmNvZGUhPT14Zy5PUEVSQVRJT05fQUJPUlRFRCYmKGUuY29kZT09PXhnLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSP2UuZGF0YS5yZXRyeToocnYuam9pbkNob29zZVNlcnZlcih0LnNpZCx7bHRzOm8sc3VjYzohMSxjc0FkZHI6cixzZXJ2ZXJMaXN0Om51bGwsb3BpZDpkLGVjOmUuY29kZSxjc0lwOmUuZGF0YSYmZS5kYXRhLmNzSXAsdW5pbGJzU2VydmVySWRzOltoeS5DSE9PU0VfU0VSVkVSXS50b1N0cmluZygpLGV4dGVuZDpKU09OLnN0cmluZ2lmeSh7bmV0d29ya1N0YXRlOmx9KSxpc0h0dHAzOmF9KSxLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBDaG9vc2Ugc2VydmVyIG5ldHdvcmsgZXJyb3IsIHJldHJ5XCIpLGUpLCEwKSkpLG4pfWZ1bmN0aW9uIGVQKGUsdCxpLG4pe2xldCByLHt1cmw6cyxhcmVhQ29kZTpvLHNlcnZpY2VJZHM6YX09ZTtjb25zdCBjPURhdGUubm93KCksW2QsbF09clAodCxvLGEpO2xldCBoO3JldHVybiBYVCgoYXN5bmMoKT0+e2gmJlJULm5ldHdvcmtTdGF0ZT09PWhULk9GRkxJTkUmJlJULm9ubGluZVdhaXRlciYmYXdhaXQgdGcucmFjZShbUlQub25saW5lV2FpdGVyLFVUKG4mJm4ubWF4UmV0cnlUaW1lb3V0fHxKVC5tYXhSZXRyeVRpbWVvdXQpXSksaD1SVC5uZXR3b3JrU3RhdGU7Y29uc3R7ZGF0YTplLGhlYWRlcnM6b309YXdhaXQgVkQocyx7ZGF0YTpkLGNhbmNlbFRva2VuOmksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGE7XCJ9fSwhMCwhMCk7cj1cIjFcIj09PW8uaHR0cDM/MTotMSxydi5yZXBvcnRSZXNvdXJjZVRpbWluZyhzLHQuc2lkKSx0UChlLHMsdCxjLGEscik7Y29uc3QgbD1TRChlLGh5LkNIT09TRV9TRVJWRVIpLHU9U0QoZSxcInByb3h5NVwiPT09dC5jbG91ZFByb3h5U2VydmVyP2h5LkNMT1VEX1BST1hZXzU6XCJwcm94eTNcIj09PXQuY2xvdWRQcm94eVNlcnZlcnx8XCJwcm94eTRcIj09PXQuY2xvdWRQcm94eVNlcnZlcj9oeS5DTE9VRF9QUk9YWTpoeS5DTE9VRF9QUk9YWV9GQUxMQkFDSyk7cmV0dXJuIGlQKGwpLHtnYXRld2F5SW5mbzpFRChsLHMpLHByb3h5SW5mbzp1LHVybDpzfX0pLChlPT4oZS5nYXRld2F5SW5mbyYmcnYuam9pbkNob29zZVNlcnZlcih0LnNpZCx7bHRzOmMsc3VjYzohMCxjc0FkZHI6cyxzZXJ2ZXJMaXN0OmUuZ2F0ZXdheUluZm8uZ2F0ZXdheUFkZHJzLm1hcCgoZT0+ZS5hZGRyZXNzKSksZWM6bnVsbCxvcGlkOmwsY2lkOmUuZ2F0ZXdheUluZm8uY2lkLnRvU3RyaW5nKCksdWlkOmUuZ2F0ZXdheUluZm8udWlkLnRvU3RyaW5nKCksY3NJcDplLmdhdGV3YXlJbmZvLmNzSXAsdW5pbGJzU2VydmVySWRzOmEudG9TdHJpbmcoKSxpc0h0dHAzOnJ9KSxlLnByb3h5SW5mbyYmcnYuam9pbldlYlByb3h5QVAodC5zaWQse2x0czpjLHN1Y2VzczoxLGFwU2VydmVyQWRkcjpzLHR1cm5TZXJ2ZXJBZGRyTGlzdDplLnByb3h5SW5mby5hZGRyZXNzZXMubWFwKChlPT5lLmlwKSkuam9pbihcIixcIiksZXJyb3JDb2RlOm51bGwsZXZlbnRUeXBlOnQuY2xvdWRQcm94eVNlcnZlcix1bmlsYnNTZXJ2ZXJJZHM6YS50b1N0cmluZygpfSksITEpKSwoZT0+ZS5jb2RlIT09eGcuT1BFUkFUSU9OX0FCT1JURUQmJihlLmNvZGU9PT14Zy5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUj9lLmRhdGEucmV0cnk6KHJ2LmpvaW5XZWJQcm94eUFQKHQuc2lkLHtsdHM6YyxzdWNlc3M6MCxhcFNlcnZlckFkZHI6cyx0dXJuU2VydmVyQWRkckxpc3Q6bnVsbCxlcnJvckNvZGU6ZS5jb2RlLGV2ZW50VHlwZTp0LmNsb3VkUHJveHlTZXJ2ZXIsdW5pbGJzU2VydmVySWRzOmEudG9TdHJpbmcoKSxleHRlbmQ6SlNPTi5zdHJpbmdpZnkoe25ldHdvcmtTdGF0ZTpofSl9KSxLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBtdWx0aSB1bmlsYnMgbmV0d29yayBlcnJvciwgcmV0cnlcIiksZSksITApKSksbil9Y29uc3QgdFA9KGUsdCxpLG4scixzKT0+e2NvbnN0IG89W10sYT1vPT57NDA5Nj09PW8uZmxhZz9ydi5qb2luQ2hvb3NlU2VydmVyKGkuc2lkLHtsdHM6bixzdWNjOiExLGNzQWRkcjp0LG9waWQ6ZS5vcGlkLHNlcnZlckxpc3Q6bnVsbCxlYzpvLmVycm9yLm1lc3NhZ2UsY3NJcDpvLmVycm9yLmRhdGEmJm8uZXJyb3IuZGF0YS5jc0lwLHVuaWxic1NlcnZlcklkczpyLnRvU3RyaW5nKCksaXNIdHRwMzpzfSk6MTA0ODU3NiE9PW8uZmxhZyYmNDE5NDMwNCE9PW8uZmxhZyYmNDE5NDMxMCE9PW8uZmxhZ3x8cnYuam9pbldlYlByb3h5QVAoaS5zaWQse2x0czpuLHN1Y2VzczowLGFwU2VydmVyQWRkcjp0LHR1cm5TZXJ2ZXJBZGRyTGlzdDpudWxsLGVycm9yQ29kZTpvLmVycm9yLmNvZGUsZXZlbnRUeXBlOmkuY2xvdWRQcm94eVNlcnZlcix1bmlsYnNTZXJ2ZXJJZHM6ci50b1N0cmluZygpfSl9O2lmKGUucmVzcG9uc2VfYm9keS5mb3JFYWNoKCh0PT57Y29uc3QgaT10LmJ1ZmZlci5jb2RlO2lmKDIzPT09dC51cmkmJjA9PT1pJiYhdC5idWZmZXIuZWRnZXNfc2VydmljZXMpaWYoNDE5NDMxMD09PXQuYnVmZmVyLmZsYWcpS0Mud2FybmluZyhcIm5vIGVkZ2Ugc2VydmljZXMgaW4gYXAgcmVzcG9uc2Ugb2YgcHJveHkgZmFsbGJhY2ssIHdpbGwgbm90IHNldCBwcm94eSBpbiBpY2VTZXJ2ZXJzXCIpLHQuYnVmZmVyLmVkZ2VzX3NlcnZpY2VzPVtdO2Vsc2V7Y29uc3QgaT17ZXJyb3I6bmV3IHh2KHhnLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLFwibm8gZWRnZSBzZXJ2aWNlcyBpbiBhcCByZXNwb25zZVwiLHtyZXRyeTohMCxjc0lwOmUuZGV0YWlsWzUwMl19KSxmbGFnOnQuYnVmZmVyLmZsYWd9O28ucHVzaChpKSxhKGkpfWlmKDAhPT1pKXtjb25zdCBuPWtJKGkpLHI9e2Vycm9yOm5ldyB4dih4Zy5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixuLmRlc2Mse2Rlc2M6bi5kZXNjLHJldHJ5Om4ucmV0cnksY3NJcDplLmRldGFpbFs1MDJdfSksZmxhZzp0LmJ1ZmZlci5mbGFnfTs0MTk0MzEwPT09dC5idWZmZXIuZmxhZz9LQy53YXJuaW5nKHIuZXJyb3IudG9TdHJpbmcoKSk6by5wdXNoKHIpLGEocil9fSkpLG8ubGVuZ3RoKXRocm93IEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KGkuY2xpZW50SWQsXCJdIG11bHRpIHVuaWxicyBcIikuY29uY2F0KHQsXCIgZmFpbGVkLCBcIikuY29uY2F0KG8ubWFwKChlPT5cImZsYWc6IFwiLmNvbmNhdChlLmZsYWcsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoZS5lcnJvci5tZXNzYWdlLFwiLCByZXRyeTogXCIpLmNvbmNhdChlLmVycm9yLmRhdGEucmV0cnkpKSkuam9pbihcIiB8IFwiKSkpLG5ldyB4dih4Zy5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixvLm1hcCgoZT0+XCJmbGFnOiBcIi5jb25jYXQoZS5mbGFnLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGUuZXJyb3IubWVzc2FnZSkpKS5qb2luKFwiIHwgXCIpLHtyZXRyeTohIW8uZmluZCgoZT0+ZS5lcnJvci5kYXRhLnJldHJ5KSksY3NJcDplLmRldGFpbFs1MDJdLGRlc2M6Wy4uLm5ldyBTZXQoby5tYXAoKGU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09ZXx8bnVsbD09PSh0PWUuZXJyb3IpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC5kYXRhKXx8dm9pZCAwPT09dD92b2lkIDA6dC5kZXNjfSkpLmZpbHRlcigoZT0+ISFlKSkpXX0pfSxpUD1lPT57dmFyIHQsaSxuLHI7aWYoZS5hZGRyZXNzZXMmJjA9PT1lLmFkZHJlc3Nlcy5sZW5ndGgmJjA9PT1lLmNvZGUpdGhyb3cgbmV3IHh2KHhnLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLFwidm9pZCBnYXRld2F5IGFkZHJlc3NcIix7cmV0cnk6ITAsY3NJcDplLmRldGFpbCYmZS5kZXRhaWxbNTAyXX0pO2tDKFwiQVBfQVJFQVwiKSYmKG51bGwhPT0obj1lLmRldGFpbCkmJnZvaWQgMCE9PW4mJm5bMjNdJiZcInN0cmluZ1wiPT10eXBlb2YobnVsbD09PShyPWUuZGV0YWlsKXx8dm9pZCAwPT09cj92b2lkIDA6clsyM10pP1lEKGUuZGV0YWlsWzIzXS50b0xvd2VyQ2FzZSgpKTpZRCgpKTtpZihudWxsIT09KHQ9ZS5kZXRhaWwpJiZ2b2lkIDAhPT10JiZ0WzE5XSYmXCJzdHJpbmdcIj09dHlwZW9mKG51bGw9PT0oaT1lLmRldGFpbCl8fHZvaWQgMD09PWk/dm9pZCAwOmlbMTldKSl7Y29uc3QgdD1lLmRldGFpbFsxOV0saT1udWxsPT10P3ZvaWQgMDp0LnNwbGl0KFwiO1wiKTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyl7dmFyIHM7Y29uc3Qgbj1meShzPWlbdF0pLmNhbGwocyk7ZS5hZGRyZXNzZXNbdF0mJmkmJihlLmFkZHJlc3Nlc1t0XS5maW5nZXJwcmludD1uKX19aWYoa0MoXCJHQVRFV0FZX0FERFJFU1NcIikmJmtDKFwiR0FURVdBWV9BRERSRVNTXCIpLmxlbmd0aD4wKXtLQy5kZWJ1ZyhcImFzc2lnbiBnYXRld2F5IGFkZHJlc3MgdG9cIixrQyhcIkdBVEVXQVlfQUREUkVTU1wiKSk7Y29uc3QgdD1rQyhcIkdBVEVXQVlfQUREUkVTU1wiKS5tYXAoKHQ9Pnt2YXIgaSxuO2NvbnN0IHI9bnVsbCE9PShpPW51bGw9PT0obj1lLmFkZHJlc3Nlcy5maW5kKChlPT5lLmlwPT09dC5pcCYmZS5wb3J0PT09dC5wb3J0KSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmZpbmdlcnByaW50KSYmdm9pZCAwIT09aT9pOlwiXCI7cmV0dXJue2lwOnQuaXAscG9ydDp0LnBvcnQsdGlja2V0OmUuYWRkcmVzc2VzWzBdJiZlLmFkZHJlc3Nlc1swXS50aWNrZXQsZmluZ2VycHJpbnQ6cn19KSk7ZS5hZGRyZXNzZXM9dH19LG5QPShlLHQpPT57aWYoZS5yZXNwb25zZV9ib2R5JiZlLnJlc3BvbnNlX2JvZHkubGVuZ3RoKXtjb25zdCB0PWUucmVzcG9uc2VfYm9keVswXTtpZigwIT09dC5idWZmZXIuY29kZSl7Y29uc3QgZT1rSSh0LmJ1ZmZlci5jb2RlKTt0aHJvdyBuZXcgeHYoeGcuVVBEQVRFX1RJQ0tFVF9GQUlMRUQsXCJbXCIuY29uY2F0KHQuYnVmZmVyLmNvZGUsXCJdOiBcIikuY29uY2F0KGUuZGVzYykse3JldHJ5OmUucmV0cnl9KX1yZXR1cm4gdC5idWZmZXIudGlja2V0fXRocm93IEtDLmRlYnVnKFwidXBkYXRlIHRpY2tldCByZXF1ZXN0IHJlY2VpdmVkIGFwIHJlc3BvbnNlIHdpdGhvdXQgcmVzcG9uc2UgYm9keTpcIix0KSxuZXcgeHYoeGcuVVBEQVRFX1RJQ0tFVF9GQUlMRUQsXCJjYW5ub3QgZmluZCByZXNwb25zZSBib2R5IGZyb20gYXAgcmVzcG9uc2VcIix7cmV0cnk6ITF9KX0sclA9KGUsdCxpKT0+e2NvbnN0IG49TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKioxMikscj17YXBwaWQ6ZS5hcHBJZCxjbGllbnRfdHM6RGF0ZS5ub3coKSxvcGlkOm4sc2lkOmUuc2lkLHJlcXVlc3RfYm9kaWVzOlt7dXJpOjIyLGJ1ZmZlcjp7Y25hbWU6ZS5jbmFtZSxkZXRhaWw6ekQoezY6ZS5zdHJpbmdVaWQsMTE6dCwxMjprQyhcIlVTRV9ORVdfVE9LRU5cIik/XCIxXCI6dm9pZCAwLDIyOnR9LGtDKFwiQVBfUlRNXCIpP3syNjpcIlJUTTJcIn06e30pLGtleTplLnRva2VuLHNlcnZpY2VfaWRzOmksdWlkOmUudWlkfHwwfX1dfTtyLnJlcXVlc3RfYm9kaWVzLmZvckVhY2goKHQ9PntlLm11bHRpSVAmJmUubXVsdGlJUC5nYXRld2F5X2lwJiYodC5idWZmZXIuZGV0YWlsWzVdPUpTT04uc3RyaW5naWZ5KHt2b2NzX2lwOltlLm11bHRpSVAudW5pX2xic19pcF0sdm9zX2lwOltlLm11bHRpSVAuZ2F0ZXdheV9pcF19KSl9KSk7Y29uc3Qgcz1uZXcgRm9ybURhdGE7cmV0dXJuIHMuYXBwZW5kKFwicmVxdWVzdFwiLEpTT04uc3RyaW5naWZ5KHIpKSxbcyxuXX0sc1A9KGUsdCk9Pntjb25zdCBpPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCoqMTIpLG49e2FwcGlkOmUuYXBwSWQsY2xpZW50X3RzOkRhdGUubm93KCksb3BpZDppLHNpZDplLnNpZCxyZXF1ZXN0X2JvZGllczpbe3VyaToyOCxidWZmZXI6e2NuYW1lOmUuY25hbWUsZGV0YWlsOnsxOlwiXCIsNjplLnN0cmluZ1VpZCwxMjpcIjFcIn0sdG9rZW46ZS50b2tlbixzZXJ2aWNlX2lkczp0LHVpZDplLnVpZHx8MCxlZGdlc19zZXJ2aWNlczplLmFwUmVzcG9uc2UuYWRkcmVzc2VzLm1hcCgoZT0+KHtpcDplLmlwLHBvcnQ6ZS5wb3J0fSkpKX19XX0scj1uZXcgRm9ybURhdGE7cmV0dXJuIHIuYXBwZW5kKFwicmVxdWVzdFwiLEpTT04uc3RyaW5naWZ5KG4pKSxbcixpXX07bGV0IG9QPTA7ZnVuY3Rpb24gYVAoZSl7cmV0dXJuIHRnLmFsbChlLm1hcCgoZT0+ZS50aGVuKChlPT57dGhyb3cgZX0pLChlPT5lKSkpKSkudGhlbigoZT0+e3Rocm93IGV9KSwoZT0+ZSkpfWNvbnN0IGNQPWFzeW5jIGU9PntsZXR7ZnJhZ2VtZW50TGVuZ3RoOnQscmVmZXJlbmNlTGlzdDppLGFzeW5jTWFwSGFuZGxlcjpuLGFsbEZhaWxlZGhhbmRsZXI6cixwcm9taXNlc0NvbGxlY3RvcjpzfT1lLG89MDtjb25zdCBhPXQ7bGV0IGMsZD0wO2NvbnN0IGw9YXN5bmMoKT0+e2NvbnN0IGU9KCgpPT57Y29uc3QgZT1vKmEsdD1lK2E7cmV0dXJuIGkuc2xpY2UoZSx0KS5tYXAobil9KSgpO3MmJnMucHVzaCguLi5lKTt0cnl7Yz1hd2FpdCBhUChlKX1jYXRjaChlKXtpZihkKz1hLG8rKywhKGQ+PWkubGVuZ3RoKSlyZXR1cm4gdm9pZCBhd2FpdCBsKCk7cihlKX1lLmZvckVhY2goKGU9PmUuY2FuY2VsKCkpKX07cmV0dXJuIGF3YWl0IGwoKSxjfTthc3luYyBmdW5jdGlvbiBkUChlLHQsaSxuKXtjb25zdCByPWFzeW5jIGZ1bmN0aW9uKGUsdCxpLG4pe2xldCByPW51bGw7Y29uc3Qgcz1bXSxvPWFzeW5jKCk9Pntjb25zdCByPWtDKFwiV0VCQ1NfRE9NQUlOXCIpLnNsaWNlKDAsa0MoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkubWFwKCh0PT4oe3VybDplLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQodCtcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxhcmVhQ29kZTpGRCgpfSkpKSxvPW4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOnIubWFwKChlPT5lLnVybCkpfSksYT1hd2FpdCBjUCh7ZnJhZ2VtZW50TGVuZ3RoOmtDKFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnIsYXN5bmNNYXBIYW5kbGVyOm49PihLQy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gQ29ubmVjdCB0byBjaG9vc2Vfc2VydmVyOlwiKSxuLnVybCksJEQobixlLHQsaSkpLGFsbEZhaWxlZGhhbmRsZXI6ZT0+e3Rocm93IG4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcImVycm9yXCIsZXJyb3JzOmV9LG8pLGVbMF19LHByb21pc2VzQ29sbGVjdG9yOnN9KTtyZXR1cm4gbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxvKSxhfSxhPWFzeW5jKCk9PntpZihhd2FpdCBVVCgxZTMpLG51bGwhPT1yKXJldHVybiByO2NvbnN0IG89a0MoXCJXRUJDU19ET01BSU5fQkFDS1VQX0xJU1RcIikubWFwKCh0PT4oe3VybDplLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQodCtcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxhcmVhQ29kZTpGRCgpfSkpKSxhPW4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczp2b2lkIDAsc3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiY2hvb3NlU2VydmVyXCIsdXJsczpvLm1hcCgoZT0+ZS51cmwpKX0pLGM9YXdhaXQgY1Aoe2ZyYWdlbWVudExlbmd0aDprQyhcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpvLGFzeW5jTWFwSGFuZGxlcjpuPT4oS0MuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIENvbm5lY3QgdG8gYmFja3VwIGNob29zZV9zZXJ2ZXI6XCIpLG4udXJsKSwkRChuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6ZX0sYSksZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6c30pO3JldHVybiBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LGEpLGN9O3RyeXtyZXR1cm4gcj1hd2FpdCBhUChbbygpLGEoKV0pLHMubGVuZ3RoJiZzLmZvckVhY2goKGU9PmUuY2FuY2VsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNhbmNlbCYmZS5jYW5jZWwoKSkpLHJ9Y2F0Y2goZSl7dGhyb3cgZVswXX19KGUsdCxpLG4pO3JldHVybntnYXRld2F5SW5mbzphd2FpdCByfX1hc3luYyBmdW5jdGlvbiBsUChlLHQsaSxuLHIpe2NvbnN0IHM9ZS5jbG91ZFByb3h5U2VydmVyO2lmKFwiZGlzYWJsZWRcIj09PXMpe2lmKCFuKXJldHVybjtpZihlLnVzZUxvY2FsQWNjZXNzUG9pbnQpcmV0dXJuIGF3YWl0IGRQKGUsdCxpLHIpO2lmKGtDKFwiSk9JTl9XSVRIX0ZBTExCQUNLX01FRElBX1BST1hZXCIpKXtjb25zdHtnYXRld2F5SW5mbzpuLHByb3h5SW5mbzpzfT1hd2FpdCBwUChlLHQsaSxyKTtyZXR1cm4gZS50dXJuU2VydmVyJiZcImF1dG9cIiE9PWUudHVyblNlcnZlci5tb2RlfHwoZS50dXJuU2VydmVyPXttb2RlOlwibWFudWFsXCIsc2VydmVyczpzLm1hcCgoZT0+KHt0dXJuU2VydmVyVVJMOmUuYWRkcmVzcyx0Y3Bwb3J0OmUudGNwcG9ydHx8b3YudGNwcG9ydCx1ZHBwb3J0OmUudWRwcG9ydHx8b3YudWRwcG9ydCx1c2VybmFtZTplLnVzZXJuYW1lfHxvdi51c2VybmFtZSxwYXNzd29yZDplLnBhc3N3b3JkfHxvdi5wYXNzd29yZCxmb3JjZXR1cm46ITEsc2VjdXJpdHk6ITB9KSkpfSkse2dhdGV3YXlJbmZvOm59fXJldHVybiBhd2FpdCBkUChlLHQsaSxyKX1jb25zdHtwcm94eUluZm86byxnYXRld2F5SW5mbzphfT1hd2FpdCBwUChlLHQsaSxyKSxjPXtnYXRld2F5SW5mbzphfTtyZXR1cm4gZS50dXJuU2VydmVyPXttb2RlOlwibWFudWFsXCIsc2VydmVyczpvLm1hcCgoZT0+KHt0dXJuU2VydmVyVVJMOmUuYWRkcmVzcyx0Y3Bwb3J0OlwicHJveHkzXCI9PT1zP3ZvaWQgMDplLnRjcHBvcnQ/ZS50Y3Bwb3J0Om92LnRjcHBvcnQsdWRwcG9ydDpcInByb3h5NFwiPT09cz92b2lkIDA6ZS51ZHBwb3J0P2UudWRwcG9ydDpvdi51ZHBwb3J0LHVzZXJuYW1lOmUudXNlcm5hbWV8fG92LnVzZXJuYW1lLHBhc3N3b3JkOmUucGFzc3dvcmR8fG92LnBhc3N3b3JkLGZvcmNldHVybjpcInByb3h5NFwiIT09cyxzZWN1cml0eTpcInByb3h5NVwiPT09c30pKSl9LEtDLmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBzZXQgcHJveHkgc2VydmVyOiBcIikuY29uY2F0KGUucHJveHlTZXJ2ZXIsXCIsIG1vZGU6IFwiKS5jb25jYXQocykpLGN9YXN5bmMgZnVuY3Rpb24gaFAoZSx0LGksbixyKXtjb25zdCBzPWtDKFwiQUNDT1VOVF9SRUdJU1RFUlwiKS5zbGljZSgwLGtDKFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpO2xldCBvPVtdO289dC5wcm94eVNlcnZlcj9zLm1hcCgoZT0+XCJodHRwczovL1wiLmNvbmNhdCh0LnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChlK1wiL2FwaS92MVwiKSkpOnMubWFwKChlPT5cImh0dHBzOi8vXCIuY29uY2F0KGUsXCIvYXBpL3YxXCIpKSk7Y29uc3QgYT1udWxsPT1yP3ZvaWQgMDpyLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwic3RyaW5nVUlEXCIsdXJsczpvfSk7dHJ5e2NvbnN0IHM9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LGksbixyKXtjb25zdCBzPURhdGUubm93KCksbz17c2lkOmkuc2lkLG9waWQ6MTAsYXBwaWQ6aS5hcHBJZCxzdHJpbmdfdWlkOnR9O2xldCBhPWVbMF07Y29uc3QgYz1hd2FpdCBYVCgoKCk9PlZEKGErXCJcIi5jb25jYXQoLTE9PT1hLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiLFwiYWN0aW9uPXN0cmluZ3VpZFwiKSx7ZGF0YTpvLGNhbmNlbFRva2VuOm4saGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjowLFwiWC1QYWNrZXQtVVJJXCI6NzJ9fSkpLCgoaSxuKT0+e2lmKDA9PT1pLmNvZGUpe2lmKGkudWlkPD0wfHxpLnVpZD49TWF0aC5wb3coMiwzMikpdGhyb3cgS0MuZXJyb3IoXCJJbnZhbGlkIFVpbnQgVWlkIFwiLmNvbmNhdCh0LFwiID0+IFwiKS5jb25jYXQoaS51aWQpLGkpLHJ2LnJlcVVzZXJBY2NvdW50KG8uc2lkLHtsdHM6cyxzdWNjZXNzOiExLHNlcnZlckFkZHI6YSxzdHJpbmdVaWQ6by5zdHJpbmdfdWlkLHVpZDppLnVpZCxlcnJvckNvZGU6eGcuSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSUQsZXh0ZW5kOm99KSxuZXcgeHYoeGcuSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSUQpO3JldHVybiBydi5yZXFVc2VyQWNjb3VudChvLnNpZCx7bHRzOnMsc3VjY2VzczohMCxzZXJ2ZXJBZGRyOmEsc3RyaW5nVWlkOm8uc3RyaW5nX3VpZCx1aWQ6aS51aWQsZXJyb3JDb2RlOm51bGwsZXh0ZW5kOm99KSwhMX1jb25zdCByPWtJKGkuY29kZSk7cmV0dXJuIHIucmV0cnkmJihhPWVbKG4rMSklZS5sZW5ndGhdKSxydi5yZXFVc2VyQWNjb3VudChvLnNpZCx7bHRzOnMsc3VjY2VzczohMSxzZXJ2ZXJBZGRyOmEsc3RyaW5nVWlkOm8uc3RyaW5nX3VpZCx1aWQ6aS51aWQsZXJyb3JDb2RlOnIuZGVzYyxleHRlbmQ6b30pLHIucmV0cnl9KSwoKHQsaSk9PnQuY29kZSE9PXhnLk9QRVJBVElPTl9BQk9SVEVEJiYocnYucmVxVXNlckFjY291bnQoby5zaWQse2x0czpzLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcjphLHN0cmluZ1VpZDpvLnN0cmluZ191aWQsdWlkOm51bGwsZXJyb3JDb2RlOnQuY29kZSxleHRlbmQ6b30pLGE9ZVsoaSsxKSVlLmxlbmd0aF0sITApKSxyKTtpZigwIT09Yy5jb2RlKXtjb25zdCBlPWtJKGMuY29kZSk7dGhyb3cgbmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsZS5kZXNjKX1yZXR1cm4gY30obyxlLHQsaSxuKTtyZXR1cm4gbnVsbD09cnx8ci5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXR1czpcInN1Y2Nlc3NcIixlbmRUczpEYXRlLm5vdygpfSxhKSxzLnVpZH1jYXRjaChlKXt0aHJvdyBudWxsPT1yfHxyLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwiZXJyb3JcIixlbmRUczpEYXRlLm5vdygpLGVycm9yczpbZV19LGEpLGV9fWFzeW5jIGZ1bmN0aW9uIHVQKGUsdCxpKXtjb25zdCBuPWtDKFwiQ0RTX0FQXCIpLnNsaWNlKDAsa0MoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkubWFwKCh0PT5lLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQodCtcIi9hcGkvdjFcIik6XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92MT9hY3Rpb249Y29uZmlnXCIpKSkubWFwKChuPT5mdW5jdGlvbihlLHQsaSxuKXtjb25zdCByPXBnKCkscz17ZmxhZzo2NCxjaXBoZXJfbWV0aG9kOjAsZmVhdHVyZXM6e2RldmljZTpyLm5hbWUsc3lzdGVtOnIub3Msc3lzdGVtX2dlbmVyYWw6bmF2aWdhdG9yLnVzZXJBZ2VudCx2ZW5kb3I6dC5hcHBJZCx2ZXJzaW9uOk9DLGNuYW1lOnQuY25hbWUsc2lkOnQuc2lkLHNlc3Npb25faWQ6dC5zaWQsZGV0YWlsOlwiXCIscHJveHlTZXJ2ZXI6dC5wcm94eVNlcnZlcn19O3JldHVybiBYVCgoKCk9PlZEKGUse2RhdGE6cyx0aW1lb3V0OjFlMyxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjU0fX0pKSx2b2lkIDAsKGU9PmUuY29kZSE9PXhnLk9QRVJBVElPTl9BQk9SVEVEKSxuKX0obixlLHQsaSkpKTtsZXQgcj1udWxsLHM9bnVsbCxvPXt9O3RyeXtyPWF3YWl0IGFQKG4pfWNhdGNoKGUpe2lmKGUuY29kZT09PXhnLk9QRVJBVElPTl9BQk9SVEVEKXRocm93IGU7cz1lfW4uZm9yRWFjaCgoZT0+ZS5jYW5jZWwoKSkpO2lmKHJ2LnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpzVC5SRVFVRVNUX0NPTkZJR19ESVNUUklCVVRFLG9wdGlvbnM6e2Vycm9yOnMscmVzOnJ9fSkub25TdWNjZXNzKCksciYmci50ZXN0X3RhZ3MpdHJ5e289ZnVuY3Rpb24oZSl7aWYoIWUudGVzdF90YWdzKXJldHVybnt9O2NvbnN0IHQ9ZS50ZXN0X3RhZ3MsaT1PYmplY3Qua2V5cyh0KSxuPXt9O3JldHVybiBpLmZvckVhY2goKGU9Pnt2YXIgaTtjb25zdCByPWZ5KGk9ZS5zbGljZSg0KSkuY2FsbChpKSxzPUpTT04ucGFyc2UodFtlXSlbMV07bltyXT1zfSkpLG59KHIpfWNhdGNoKGUpe31yZXR1cm4gb31hc3luYyBmdW5jdGlvbiBwUChlLHQsaSxuKXtjb25zdCByPWtDKFwiUFJPWFlfU0VSVkVSX1RZUEUzXCIpLHM9KGUsdCxpKT0+e2xldCBuPWl8fHI7cmV0dXJuIEFycmF5LmlzQXJyYXkobikmJihuPXQlMj09MD9yWzFdOnJbMF0pLFwiaHR0cHM6Ly9cIi5jb25jYXQobixcIi9hcC8/dXJsPVwiKS5jb25jYXQoZSl9O2xldCBvPW51bGw7Y29uc3QgYT1bXSxjPWFzeW5jKCk9Pntjb25zdCByPWtDKFwiV0VCQ1NfRE9NQUlOXCIpLnNsaWNlKDAsa0MoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkubWFwKCgodCxpKT0+e2xldCBuO3JldHVybiBuPVwiZGlzYWJsZWRcIj09PWUuY2xvdWRQcm94eVNlcnZlciYmZS5wcm94eVNlcnZlcj9zKFwiXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpLGksZS5wcm94eVNlcnZlcik6XCJkaXNhYmxlZFwiPT09ZS5jbG91ZFByb3h5U2VydmVyfHxcImZhbGxiYWNrXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTpzKFwiXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpLGkpLHt1cmw6bixhcmVhQ29kZTpGRCgpLHNlcnZpY2VJZHM6W2h5LkNIT09TRV9TRVJWRVIsXCJwcm94eTVcIj09PWUuY2xvdWRQcm94eVNlcnZlcj9oeS5DTE9VRF9QUk9YWV81OlwicHJveHkzXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXJ8fFwicHJveHk0XCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXI/aHkuQ0xPVURfUFJPWFk6aHkuQ0xPVURfUFJPWFlfRkFMTEJBQ0tdfX0pKSxvPW4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOnIubWFwKChlPT5lLnVybCkpfSksYz1hd2FpdCBjUCh7ZnJhZ2VtZW50TGVuZ3RoOmtDKFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnIsYXN5bmNNYXBIYW5kbGVyOm49PihLQy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gQ29ubmVjdCB0byBjaG9vc2Vfc2VydmVyOlwiKSxuLnVybCksZVAobixlLHQsaSkpLGFsbEZhaWxlZGhhbmRsZXI6ZT0+e3Rocm93IG4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcImVycm9yXCIsZXJyb3JzOmV9LG8pLGVbMF19LHByb21pc2VzQ29sbGVjdG9yOmF9KTtyZXR1cm4gbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxvKSxjfSxkPWFzeW5jKCk9PntpZihhd2FpdCBVVCgxZTMpLG51bGwhPT1vKXJldHVybiBvO2NvbnN0IHI9a0MoXCJXRUJDU19ET01BSU5fQkFDS1VQX0xJU1RcIikubWFwKCgodCxpKT0+e2xldCBuO3JldHVybiBuPVwiZGlzYWJsZWRcIj09PWUuY2xvdWRQcm94eVNlcnZlciYmZS5wcm94eVNlcnZlcj9zKFwiXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpLGksZS5wcm94eVNlcnZlcik6XCJkaXNhYmxlZFwiPT09ZS5jbG91ZFByb3h5U2VydmVyfHxcImZhbGxiYWNrXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTpzKFwiXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpLGkpLHt1cmw6bixhcmVhQ29kZTpGRCgpLHNlcnZpY2VJZHM6W2h5LkNIT09TRV9TRVJWRVIsXCJwcm94eTVcIj09PWUuY2xvdWRQcm94eVNlcnZlcj9oeS5DTE9VRF9QUk9YWV81OlwicHJveHkzXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXJ8fFwicHJveHk0XCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXI/aHkuQ0xPVURfUFJPWFk6aHkuQ0xPVURfUFJPWFlfRkFMTEJBQ0tdfX0pKSxjPW4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOnIubWFwKChlPT5lLnVybCkpfSksZD1hd2FpdCBjUCh7ZnJhZ2VtZW50TGVuZ3RoOmtDKFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnIsYXN5bmNNYXBIYW5kbGVyOm49PihLQy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gQ29ubmVjdCB0byBiYWNrdXAgY2hvb3NlX3NlcnZlcjpcIiksbi51cmwpLGVQKG4sZSx0LGkpKSxhbGxGYWlsZWRoYW5kbGVyOmU9Pnt0aHJvdyBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJlcnJvclwiLGVycm9yczplfSxjKSxlWzBdfSxwcm9taXNlc0NvbGxlY3RvcjphfSk7cmV0dXJuIG4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0sYyksZH07bGV0IGwsaCx1O3RyeXsoe2dhdGV3YXlJbmZvOmwscHJveHlJbmZvOmgsdXJsOnV9PWF3YWl0IGFQKFtjKCksZCgpXSkpfWNhdGNoKGUpe3Rocm93IGVbMF19aWYoYS5sZW5ndGgmJmEuZm9yRWFjaCgoZT0+ZS5jYW5jZWwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FuY2VsJiZlLmNhbmNlbCgpKSksIWx8fCFoKXRocm93IG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwibWlzc2luZyBnYXRld2F5IG9yIHByb3h5IHJlc3BvbnNlXCIpLnByaW50KCk7aWYoZS5hcFVybD11LFwiZGlzYWJsZWRcIiE9PWUuY2xvdWRQcm94eVNlcnZlciYmQXJyYXkuaXNBcnJheShyKSYmdSl7Y29uc3QgdD0vXmh0dHBzPzpcXC9cXC8oLis/KShcXC8uKik/JC8uZXhlYyh1KVsxXTtQcihyKS5jYWxsKHIsdCkmJihlLnByb3h5U2VydmVyPXQsS0Muc2V0UHJveHlTZXJ2ZXIodCkscnYuc2V0UHJveHlTZXJ2ZXIodCkpfXJldHVybiBvPXtnYXRld2F5SW5mbzpsLHByb3h5SW5mbzphd2FpdCBSRChoLGwudWlkKX0sb31hc3luYyBmdW5jdGlvbiBfUChlLHQsaSxuKXtjb25zdCByPWtDKFwiVUFQX0FQXCIpLnNsaWNlKDAsa0MoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkubWFwKChlPT50LnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodC5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQoZStcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKTpcImh0dHBzOi8vXCIuY29uY2F0KGUsXCIvYXBpL3YxP2FjdGlvbj11YXBcIikpKTtyZXR1cm4gYXdhaXQgUUQocixlLHQsaSxuKX1hc3luYyBmdW5jdGlvbiBFUChlLHQsaSl7Y29uc3Qgbj1rQyhcIlVBUF9BUFwiKS5zbGljZSgwLGtDKFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpLm1hcCgodD0+ZS5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KGUucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KHQrXCIvYXBpL3YxP2FjdGlvbj11YXBcIik6XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92MT9hY3Rpb249dWFwXCIpKSkubWFwKChuPT5mdW5jdGlvbihlLHQsaSxuKXtjb25zdCByPXtjb21tYW5kOlwiY29udmVyZ2VBbGxvY2F0ZUVkZ2VcIixzaWQ6dC5zaWQsYXBwSWQ6dC5hcHBJZCx0b2tlbjp0LnRva2VuLHRzOkRhdGUubm93KCksdmVyc2lvbjpPQyxjbmFtZTp0LmNuYW1lLHVpZDp0LnVpZC50b1N0cmluZygpLHJlcXVlc3RJZDpaRCxzZXE6WkR9O1pEKz0xO2NvbnN0IHM9e3NlcnZpY2VfbmFtZTpcInRlbGVfY2hhbm5lbFwiLGpzb25fYm9keTpKU09OLnN0cmluZ2lmeShyKX07cmV0dXJuIFhUKChhc3luYygpPT57Y29uc3QgdD1hd2FpdCBWRChlLHtkYXRhOnMsY2FuY2VsVG9rZW46aSxoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOjAsXCJYLVBhY2tldC1VUklcIjo2MX19KTtpZigwIT09dC5jb2RlKXtjb25zdCBlPW5ldyB4dih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiY3Jvc3MgY2hhbm5lbCBhcCBlcnJvciwgY29kZVwiK3QuY29kZSx7cmV0cnk6ITB9KTt0aHJvdyBLQy5lcnJvcihlLnRvU3RyaW5nKCkpLGV9Y29uc3Qgbj1KU09OLnBhcnNlKHQuanNvbl9ib2R5KTtpZigyMDAhPT1uLmNvZGUpe2NvbnN0IGU9bmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJjcm9zcyBjaGFubmVsIGFwcCBjZW50ZXIgZXJyb3IsIGNvZGU6IFwiLmNvbmNhdChuLmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdChuLnJlYXNvbikpO3Rocm93IEtDLmVycm9yKGUudG9TdHJpbmcoKSksZX1pZighbi5zZXJ2ZXJzfHwwPT09bi5zZXJ2ZXJzLmxlbmd0aCl7Y29uc3QgZT1uZXcgeHYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImNyb3NzIGNoYW5uZWwgYXBwIGNlbnRlciBlbXB0eSBzZXJ2ZXJcIik7dGhyb3cgS0MuZXJyb3IoZS50b1N0cmluZygpKSxlfXJldHVybnt2aWQ6bi52aWQsd29ya2VyVG9rZW46bi53b3JrZXJUb2tlbixhZGRyZXNzTGlzdDooa0MoXCJDSEFOTkVMX01FRElBX1JFTEFZX1NFUlZFUlNcIil8fG4uc2VydmVycykubWFwKChlPT5cIndzczovL1wiLmNvbmNhdChlLmFkZHJlc3MucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQoa0MoXCJXT1JLRVJfRE9NQUlOXCIpLFwiOlwiKS5jb25jYXQoZS53c3MpKSl9fSksdm9pZCAwLChlPT4hIShlLmNvZGUhPT14Zy5PUEVSQVRJT05fQUJPUlRFRCYmZS5jb2RlIT09eGcuVU5FWFBFQ1RFRF9SRVNQT05TRXx8ZS5kYXRhJiZlLmRhdGEucmV0cnkpKSxuKX0obixlLHQsaSkpKTt0cnl7Y29uc3QgZT1hd2FpdCBhUChuKTtyZXR1cm4gbi5mb3JFYWNoKChlPT5lLmNhbmNlbCgpKSksZX1jYXRjaChlKXt0aHJvdyBlWzBdfX1hc3luYyBmdW5jdGlvbiBtUChlLHQsaSl7bGV0IG49bnVsbDtjb25zdCByPVtdLHM9YXN5bmMgcz0+e2NvbnN0IG89a0Mocz9cIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiOlwiV0VCQ1NfRE9NQUlOXCIpLm1hcCgodD0+ZS5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KGUucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KHQrXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIikpKTtyZXR1cm4gcyYmKGF3YWl0IFVUKDFlMyksbnVsbCE9PW4pP246YXdhaXQgY1Aoe2ZyYWdlbWVudExlbmd0aDprQyhcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpvLGFzeW5jTWFwSGFuZGxlcjpuPT4oS0MuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIHVwZGF0ZSB0aWNrZXQsIENvbm5lY3QgdG8gXCIpLmNvbmNhdChzP1wiYmFja3VwXCI6XCJcIixcIiBjaG9vc2Vfc2VydmVyOlwiKSxuKSxmdW5jdGlvbihlLHQsaSxuKXtjb25zdFtyXT1zUCh0LFtoeS5DSE9PU0VfU0VSVkVSXSk7bGV0IHM9UlQubmV0d29ya1N0YXRlO3JldHVybiBYVCgoYXN5bmMoKT0+e3MmJlJULm5ldHdvcmtTdGF0ZT09PWhULk9GRkxJTkUmJlJULm9ubGluZVdhaXRlciYmYXdhaXQgdGcucmFjZShbUlQub25saW5lV2FpdGVyLFVUKG4mJm4ubWF4UmV0cnlUaW1lb3V0fHxKVC5tYXhSZXRyeVRpbWVvdXQpXSkscz1SVC5uZXR3b3JrU3RhdGU7Y29uc3QgdD1hd2FpdCBWRChlLHtkYXRhOnIsY2FuY2VsVG9rZW46aSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTtcIn19LCEwKTtyZXR1cm4gblAodCxlKX0pLCgoKT0+ITEpLChlPT5lLmNvZGUhPT14Zy5PUEVSQVRJT05fQUJPUlRFRCYmKGUuY29kZT09PXhnLlVQREFURV9USUNLRVRfRkFJTEVEP2UuZGF0YS5yZXRyeTooS0Mud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gdXBkYXRlIHRpY2tldCBuZXR3b3JrIGVycm9yLCByZXRyeVwiKSxlKSwhMCkpKSxuKX0obixlLHQsaSkpLGFsbEZhaWxlZGhhbmRsZXI6ZT0+e3Rocm93IGVbMF19LHByb21pc2VzQ29sbGVjdG9yOnJ9KX07dHJ5e3JldHVybiBuPWF3YWl0IGFQKFtzKCExKSxzKCEwKV0pLHIubGVuZ3RoJiZyLmZvckVhY2goKGU9PmUuY2FuY2VsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNhbmNlbCYmZS5jYW5jZWwoKSkpLG59Y2F0Y2goZSl7dGhyb3cgZVswXX19ZnVuY3Rpb24gZlAoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGdQKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2ZQKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmZQKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIFRQIGV4dGVuZHMgaVR7Y29uc3RydWN0b3IoKXtzdXBlcigpLG51KHRoaXMsXCJjb25maWdzXCIsdm9pZCAwKSxudSh0aGlzLFwiam9pbkluZm9cIix2b2lkIDApLG51KHRoaXMsXCJjYW5jZWxUb2tlblwiLHZvaWQgMCksbnUodGhpcyxcInJldHJ5Q29uZmlnXCIse3RpbWVvdXQ6M2UzLHRpbWVvdXRGYWN0b3I6MS41LG1heFJldHJ5Q291bnQ6MSxtYXhSZXRyeVRpbWVvdXQ6MWU0fSksbnUodGhpcyxcImludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwibXV0ZXhcIixuZXcgWVQoXCJjb25maWctZGlzdHJpYnV0ZVwiKSksbnUodGhpcyxcIm11dGFibGVQYXJhbXNSZWFkXCIsITEpfXN0YXJ0R2V0Q29uZmlnRGlzdHJpYnV0ZShlLHQpe3RoaXMuam9pbkluZm89ZSx0aGlzLmNhbmNlbFRva2VuPXQsdGhpcy5pbnRlcnZhbCYmdGhpcy5zdG9wR2V0Q29uZmlnRGlzdHJpYnV0ZSgpLGtDKFwiRU5BQkxFX0NPTkZJR19ESVNUUklCVVRFXCIpJiYodGhpcy51cGRhdGVDb25maWdEaXN0cmlidXRlKCksdGhpcy5pbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy51cGRhdGVDb25maWdEaXN0cmlidXRlKCl9KSxrQyhcIkNPTkZJR19ESVNUUklCVVRFX0lOVEVSVkFMXCIpKSl9c3RvcEdldENvbmZpZ0Rpc3RyaWJ1dGUoKXt0aGlzLmludGVydmFsJiZjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXMuaW50ZXJ2YWw9dm9pZCAwLHRoaXMuam9pbkluZm89dm9pZCAwLHRoaXMuY2FuY2VsVG9rZW49dm9pZCAwfWFzeW5jIGF3YWl0Q29uZmlnRGlzdHJpYnV0ZUNvbXBsZXRlKCl7aWYoIXRoaXMubXV0ZXguaXNMb2NrZWQpcmV0dXJuOyhhd2FpdCB0aGlzLm11dGV4LmxvY2soKSkoKX1hc3luYyB1cGRhdGVDb25maWdEaXN0cmlidXRlKCl7aWYoIXRoaXMubXV0YWJsZVBhcmFtc1JlYWQpe3RoaXMubXV0YWJsZVBhcmFtc1JlYWQ9ITA7cnYucmVwb3J0QXBpSW52b2tlKG51bGwse29wdGlvbnM6dm9pZCAwLG5hbWU6c1QuTE9BRF9DT05GSUdfRlJPTV9MT0NBTFNUT1JBR0UsdGFnOm9ULlRSQUNFUn0pLm9uU3VjY2VzcyhKU09OLnN0cmluZ2lmeShNQykpfWlmKCF0aGlzLmpvaW5JbmZvfHwhdGhpcy5jYW5jZWxUb2tlbnx8IXRoaXMucmV0cnlDb25maWcpcmV0dXJuIHZvaWQgS0MuZGVidWcoXCJbY29uZmlnLWRpc3RyaWJ1dGVdIGdldCBjb25maWcgZGlzdHJpYnV0ZSBpbnRlcnJ1cHRlZCBoYXZlIG5vIGpvaW5pbmZvXCIpO2xldCBlO2NvbnN0IHQ9YXdhaXQgdGhpcy5tdXRleC5sb2NrKCk7dHJ5e2U9YXdhaXQgdVAodGhpcy5qb2luSW5mbyx0aGlzLmNhbmNlbFRva2VuLHRoaXMucmV0cnlDb25maWcpLEtDLmRlYnVnKFwiW2NvbmZpZy1kaXN0cmlidXRlXSBnZXQgY29uZmlnIGRpc3RyaWJ1dGVcIixKU09OLnN0cmluZ2lmeShlKSksZS5saW1pdF9iaXRyYXRlJiZ0aGlzLmhhbmRsZUJpdHJhdGVMaW1pdChlLmxpbWl0X2JpdHJhdGUpLHRoaXMuY2FjaGVHbG9iYWxQYXJhbWV0ZXJDb25maWcoZSksdGhpcy5jb25maWdzPWV9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgeHYoeGcuTkVUV09SS19SRVNQT05TRV9FUlJPUixlKTtLQy53YXJuaW5nKFwiW2NvbmZpZy1kaXN0cmlidXRlXSBcIi5jb25jYXQodC50b1N0cmluZygpKSl9ZmluYWxseXt0KCl9fWdldEJpdHJhdGVMaW1pdCgpe3JldHVybiB0aGlzLmNvbmZpZ3M/dGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGU6dm9pZCAwfWhhbmRsZUJpdHJhdGVMaW1pdChlKXt2YXIgdDsodD1lKSYmdC51cGxpbmsmJnQuaWQmJnZvaWQgMCE9PXQudXBsaW5rLm1heF9iaXRyYXRlJiZ2b2lkIDAhPT10LnVwbGluay5taW5fYml0cmF0ZSYmKHRoaXMuY29uZmlncyYmdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGU/dGhpcy5jb25maWdzJiZ0aGlzLmNvbmZpZ3MubGltaXRfYml0cmF0ZSYmdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGUuaWQhPT1lLmlkJiZ0aGlzLmVtaXQoZEkuVVBEQVRFX0JJVFJBVEVfTElNSVQsZSk6dGhpcy5lbWl0KGRJLlVQREFURV9CSVRSQVRFX0xJTUlULGUpKX1nZXRMb3dTdHJlYW1Db25maWdEaXN0cmlidXRlKCl7cmV0dXJuIHRoaXMuY29uZmlncyYmdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGUmJmdQKHt9LHRoaXMuY29uZmlncy5saW1pdF9iaXRyYXRlLmxvd19zdHJlYW1fdXBsaW5rKX1jYWNoZUdsb2JhbFBhcmFtZXRlckNvbmZpZyhlKXt2YXIgdDtjb25zdCBpPVp1KHQ9T2JqZWN0LmtleXMoZSkuZmlsdGVyKChlPT4vXndlYnJ0Y19uZ19nbG9iYWxfcGFyYW1ldGVyLy50ZXN0KGUpKSkpLmNhbGwodCk7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0KyspZm9yKGxldCBuPWkubGVuZ3RoLTE7bj50O24tLSl7Y29uc3QgdD1pW25dO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlW3RdLl9fcHJpb3JpdHkpe2NvbnN0IHI9ZVt0XS5fX3ByaW9yaXR5LHM9aVtuLTFdO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlW3NdLl9fcHJpb3JpdHkpe2lmKCEocj5lW3NdLl9fcHJpb3JpdHkpKWNvbnRpbnVlO3tjb25zdCBlPXQ7aVtuXT1pW24tMV0saVtuLTFdPWV9fWVsc2V7Y29uc3QgZT10O2lbbl09aVtuLTFdLGlbbi0xXT1lfX19Y29uc3Qgbj17fTtpLmZvckVhY2goKHQ9Pntjb25zdCBpPWVbdF0scj1pLl9fZXhwaXJlcztPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChlPT57XCJfX3ByaW9yaXR5XCI9PT1lfHxcIl9fZXhwaXJlc1wiPT09ZXx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSl8fChuW2VdPWdQKHt2YWx1ZTppW2VdfSxyJiZ7ZXhwaXJlczpyfSkpfSkpfSkpO3RyeXshZnVuY3Rpb24oZSl7dHJ5e2NvbnN0IHQ9RGF0ZS5ub3coKTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57c3dpdGNoKGkpe2Nhc2VcIkVOQUJMRV9FVkVOVF9SRVBPUlRcIjpjYXNlXCJVUExPQURfTE9HXCI6aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFBDLGkpKXtjb25zdHt2YWx1ZTpuLGV4cGlyZXM6cn09ZVtpXTtpZihyJiZyPD10KXJldHVybjtNQ1tpXT1uLFBDW2ldPW4sS0MuZGVidWcoXCJVcGRhdGUgZ2xvYmFsIHBhcmFtZXRlcnMgZnJvbSBjb25maWcgZGlzdHJpYnV0ZVwiLGksbil9fX0pKX1jYXRjaCh0KXtLQy5lcnJvcihcIkVycm9yIHVwZGF0ZSBjb25maWcgaW1tZWRpYXRlbHk6IFwiLmNvbmNhdChlKSx0Lm1lc3NhZ2UpfX0obik7Y29uc3QgZT1KU09OLnN0cmluZ2lmeShuKSx0PXdpbmRvdy5idG9hKGUpO3dpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIndlYnNka19uZ19nbG9iYWxfcGFyYW1ldGVyXCIsdCksS0MuZGVidWcoXCJDYWNoaW5nIGdsb2JhbCBwYXJhbWV0ZXJzIFwiLmNvbmNhdChlKSl9Y2F0Y2goZSl7S0MuZXJyb3IoXCJFcnJvciBjYWNoaW5nIGdsb2JhbCBwYXJhbWV0ZXJzOlwiLGUubWVzc2FnZSl9fX1mdW5jdGlvbiBTUChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gUlAoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/U1AoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6U1AoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgQ1AgZXh0ZW5kcyBpVHtjb25zdHJ1Y3RvcihlLHQsaSxuKXtzdXBlcigpLG51KHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxudSh0aGlzLFwidG9rZW5cIix2b2lkIDApLG51KHRoaXMsXCJ3ZWJzb2NrZXRcIix2b2lkIDApLG51KHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwicmVjb25uZWN0TW9kZVwiLFwicmV0cnlcIiksbnUodGhpcyxcInNlcnZpY2VNb2RlXCIsdm9pZCAwKSxudSh0aGlzLFwicmVxSWRcIiwwKSxudSh0aGlzLFwiY29tbWFuZFJlcUlkXCIsMCksbnUodGhpcyxcImhhbmRsZVdlYlNvY2tldE9wZW5cIiwoKCk9Pnt0aGlzLnJlY29ubmVjdE1vZGU9XCJyZXRyeVwiLHRoaXMuc3RhcnRQaW5nUG9uZygpfSkpLG51KHRoaXMsXCJoYW5kbGVXZWJTb2NrZXRNZXNzYWdlXCIsKGU9PntpZighZS5kYXRhKXJldHVybjtjb25zdCB0PUpTT04ucGFyc2UoZS5kYXRhKTt0LnJlcXVlc3RJZD90aGlzLmVtaXQoXCJAXCIuY29uY2F0KHQucmVxdWVzdElkLFwiLVwiKS5jb25jYXQodC5zaWQpLHQpOnRoaXMuc2VydmljZU1vZGU9PT15di5JTkpFQ1Q/dGhpcy5lbWl0KEt2LklOSkVDVF9TVFJFQU1fU1RBVFVTLHQpOihydi53b3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLHthY3Rpb25UeXBlOlwic3RhdHVzXCIsc2VydmVyQ29kZTp0LmNvZGUsd29ya2VyVHlwZTp0aGlzLnNlcnZpY2VNb2RlPT09eXYuVFJBTlNDT0RFPzE6Mn0pLHRoaXMuZW1pdChLdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVMsdCkpfSkpLHRoaXMuc3BlYz10LHRoaXMudG9rZW49ZSx0aGlzLnNlcnZpY2VNb2RlPW4sdGhpcy53ZWJzb2NrZXQ9bmV3IFhJKFwibGl2ZS1zdHJlYW1pbmdcIixpKSx0aGlzLndlYnNvY2tldC5vbihJdi5DT05ORUNURUQsdGhpcy5oYW5kbGVXZWJTb2NrZXRPcGVuKSx0aGlzLndlYnNvY2tldC5vbihJdi5PTl9NRVNTQUdFLHRoaXMuaGFuZGxlV2ViU29ja2V0TWVzc2FnZSksdGhpcy53ZWJzb2NrZXQub24oSXYuUkVRVUVTVF9ORVdfVVJMUywoKGUsdCk9PntmVCh0aGlzLEt2LlJFUVVFU1RfTkVXX0FERFJFU1MpLnRoZW4oZSkuY2F0Y2godCl9KSksdGhpcy53ZWJzb2NrZXQub24oSXYuUkVDT05ORUNUSU5HLCgoKT0+e3RoaXMud2Vic29ja2V0LnJlY29ubmVjdE1vZGU9dGhpcy5yZWNvbm5lY3RNb2RlfSkpfWluaXQoZSl7cmV0dXJuIHRoaXMud2Vic29ja2V0LmluaXQoZSl9YXN5bmMgcmVxdWVzdChlLHQsaSxuKXt0aGlzLnJlcUlkKz0xLFwicmVxdWVzdFwiPT09ZSYmKHRoaXMuY29tbWFuZFJlcUlkKz0xKTtjb25zdCByPXRoaXMuY29tbWFuZFJlcUlkLHM9dGhpcy5yZXFJZDtpZighc3x8IXRoaXMud2Vic29ja2V0KXRocm93IG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SKTtjb25zdCBvPVJQKHtjb21tYW5kOmUsc2RrVmVyc2lvbjpcIjQuMTkuM1wiPT09T0M/XCIwLjAuMVwiOk9DLHNlcTpzLHJlcXVlc3RJZDpzLGFsbG9jYXRlOmksY25hbWU6dGhpcy5zcGVjLmNuYW1lLGFwcElkOnRoaXMuc3BlYy5hcHBJZCxzaWQ6dGhpcy5zcGVjLnNpZCx1aWQ6dGhpcy5zcGVjLnVpZC50b1N0cmluZygpLHRzOk1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpfSx0KTtpZihcImNsb3NlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpdGhyb3cgbmV3IHh2KHhnLldTX0RJU0NPTk5FQ1QpO2NvbnN0IGE9KCk9Pm5ldyB0ZygoKGUsdCk9Pnt0aGlzLndlYnNvY2tldC5vbmNlKEl2LkNMT1NFRCwoKCk9PnQobmV3IHh2KHhnLldTX0FCT1JUKSkpKSx0aGlzLndlYnNvY2tldC5vbmNlKEl2LkNPTk5FQ1RFRCxlKX0pKTtcImNvbm5lY3RlZFwiIT09dGhpcy53ZWJzb2NrZXQuc3RhdGUmJmF3YWl0IGEoKSxvLmNsaWVudFJlcXVlc3QmJihvLmNsaWVudFJlcXVlc3Qud29ya2VyVG9rZW49dGhpcy50b2tlbik7Y29uc3QgYz1uZXcgdGcoKChlLHQpPT57Y29uc3QgaT0oKT0+e3QobmV3IHh2KHhnLldTX0FCT1JUKSl9O3RoaXMud2Vic29ja2V0Lm9uY2UoSXYuUkVDT05ORUNUSU5HLGkpLHRoaXMud2Vic29ja2V0Lm9uY2UoSXYuQ0xPU0VELGkpLHRoaXMub25jZShcIkBcIi5jb25jYXQocyxcIi1cIikuY29uY2F0KHRoaXMuc3BlYy5zaWQpLCh0PT57ZSh0KX0pKX0pKTtuJiZydi53b3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLFJQKFJQKHt9LG4pLHt9LHtyZXF1ZXN0SWQ6cixhY3Rpb25UeXBlOlwicmVxdWVzdFwiLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkodC5jbGllbnRSZXF1ZXN0KSxzZXJ2ZXJDb2RlOjAsY29kZTowfSkpO2NvbnN0IGQ9RGF0ZS5ub3coKTt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShvKTtsZXQgbD1udWxsO3RyeXtsPWF3YWl0IGN9Y2F0Y2gobil7aWYoXCJjbG9zZWRcIj09PXRoaXMud2Vic29ja2V0LnN0YXRlKXRocm93IG47cmV0dXJuIGF3YWl0IGEoKSxhd2FpdCB0aGlzLnJlcXVlc3QoZSx0LGkpfXJldHVybiBuJiZydi53b3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLFJQKFJQKHt9LG4pLHt9LHtyZXF1ZXN0SWQ6cixhY3Rpb25UeXBlOlwicmVzcG9uc2VcIixwYXlsb2FkOkpTT04uc3RyaW5naWZ5KGwuc2VydmVyUmVzcG9uc2UpLHNlcnZlckNvZGU6bC5jb2RlLHN1Y2Nlc3M6MjAwPT09bC5jb2RlLHJlc3BvbnNlVGltZTpEYXRlLm5vdygpLWR9KSksMjAwIT09bC5jb2RlJiZ0aGlzLmhhbmRsZVJlc3BvbnNlRXJyb3IobCksbH10cnlOZXh0QWRkcmVzcygpe3RoaXMucmVjb25uZWN0TW9kZT1cInRyeU5leHRcIix0aGlzLndlYnNvY2tldC5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIpfWNsb3NlKCl7Y29uc3QgZT1cIjQuMTkuM1wiPT09T0M/XCIwLjAuMVwiOk9DO3RoaXMucmVxSWQrPTEsXCJjb25uZWN0ZWRcIj09PXRoaXMud2Vic29ja2V0LnN0YXRlPyh0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZSh7Y29tbWFuZDpcInJlcXVlc3RcIixhcHBJZDp0aGlzLnNwZWMuYXBwSWQsY25hbWU6dGhpcy5zcGVjLmNuYW1lLHVpZDp0aGlzLnNwZWMudWlkLnRvU3RyaW5nKCksc2RrVmVyc2lvbjplLHNpZDp0aGlzLnNwZWMuc2lkLHNlcTp0aGlzLnJlcUlkLHRzOk1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpLHJlcXVlc3RJZDp0aGlzLnJlcUlkLGNsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJEZXN0cm95V29ya2VyXCJ9fSksdGhpcy53ZWJzb2NrZXQuY2xvc2UoITEsITApKTp0aGlzLndlYnNvY2tldC5jbG9zZSghMSksdGhpcy5waW5ncG9uZ1RpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKX1oYW5kbGVSZXNwb25zZUVycm9yKGUpe3N3aXRjaChlLmNvZGUpe2Nhc2UgcXYuTElWRV9TVFJFQU1fUkVTUE9OU0VfQUxSRUFEWV9FWElTVFNfU1RSRUFNOnJldHVybiB2b2lkIEtDLndhcm5pbmcoXCJsaXZlIHN0cmVhbSByZXNwb25zZSBhbHJlYWR5IGV4aXN0cyBzdHJlYW1cIik7Y2FzZSBxdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9UUkFOU0NPRElOR19QQVJBTUVURVJfRVJST1I6Y2FzZSBxdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNOmNhc2UgcXYuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SOnJldHVybiBuZXcgeHYoeGcuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9BUkdVTUVOVCxcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7Y2FzZSBxdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9XT1JLRVJfTk9UX0VYSVNUOmlmKFwiVW5wdWJsaXNoU3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmR8fFwiVW5pbmplY3RTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZClyZXR1cm47dGhyb3cgbmV3IHh2KHhnLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImxpdmUgc3RyZWFtIHJlc3BvbnNlIHdtIHdvcmtlciBub3QgZXhpc3RcIix7cmV0cnk6ITB9KTtjYXNlIHF2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9BVVRIT1JJWkVEOnJldHVybiBuZXcgeHYoeGcuTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRUQsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO2Nhc2UgcXYuTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0U6e2NvbnN0IHQ9bmV3IHh2KHhnLkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0UpO3JldHVybiB0aGlzLmVtaXQoS3YuV0FSTklORyx0LGUuc2VydmVyUmVzcG9uc2UudXJsKX1jYXNlIHF2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFUVVFU1RfVE9PX09GVEVOOntjb25zdCB0PW5ldyB4dih4Zy5MSVZFX1NUUkVBTUlOR19XQVJOX0ZSRVFVRU5UX1JFUVVFU1QpO3JldHVybiB0aGlzLmVtaXQoS3YuV0FSTklORyx0LGUuc2VydmVyUmVzcG9uc2UudXJsKX1jYXNlIHF2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9GT1VORF9QVUJMSVNIOnRocm93IG5ldyB4dih4Zy5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJsaXZlIHN0cmVhbSByZXNwb25zZSB3bSB3b3JrZXIgbm90IGV4aXN0XCIse3JldHJ5OiEwfSk7Y2FzZSBxdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfU1VQUE9SVEVEOnJldHVybiBuZXcgeHYoeGcuTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfTk9UX1NVUFBPUlRFRCxcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7Y2FzZSBxdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9NQVhfU1RSRUFNX05VTTp7Y29uc3QgdD1uZXcgeHYoeGcuTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUKTtyZXR1cm4gdGhpcy5lbWl0KEt2LldBUk5JTkcsdCxlLnNlcnZlclJlc3BvbnNlLnVybCl9Y2FzZSBxdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9JTlRFUk5BTF9TRVJWRVJfRVJST1I6cmV0dXJuIG5ldyB4dih4Zy5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO2Nhc2UgcXYuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVTT1VSQ0VfTElNSVQ6dGhyb3cgbmV3IHh2KHhnLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImxpdmUgc3RyZWFtIHJlc291cmNlIGxpbWl0XCIse3JldHJ5OiEwLGNoYW5nZUFkZHJlc3M6ITB9KTtjYXNlIHF2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUOmNhc2UgcXYuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVQ6aWYoXCJVbnB1Ymxpc2hTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZHx8XCJVbmluamVjdFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXJldHVybjt0aHJvdyBuZXcgeHYoeGcuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZXJyb3IgZmFpbCBzZW5kIG1lc3NhZ2VcIix7cmV0cnk6ITAsY2hhbmdlQWRkcmVzczohMH0pO2Nhc2UgcXYuRVJST1JfRkFJTF9TRU5EX01FU1NBR0U6aWYoXCJVbnB1Ymxpc2hTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZHx8XCJVbmluamVjdFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXJldHVybjtpZihcIlVwZGF0ZVRyYW5zY29kaW5nXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmR8fFwiQ29udHJvbFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXJldHVybiBuZXcgeHYoeGcuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZXJyb3IgZmFpbCBzZW5kIG1lc3NhZ2VcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO3Rocm93IG5ldyB4dih4Zy5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBxdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU46Y2FzZSBxdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUOmNhc2UgcXYuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFOmNhc2UgcXYuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSDpyZXR1cm4gbmV3IHh2KHhnLkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUixcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCl9fXN0YXJ0UGluZ1BvbmcoKXt0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntcImNvbm5lY3RlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGUmJnRoaXMucmVxdWVzdChcInBpbmdcIix7fSkuY2F0Y2goRlQpfSksNmUzKX19ZnVuY3Rpb24gdlAoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIElQKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3ZQKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnZQKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIHlQIGV4dGVuZHMgaVR7Y29uc3RydWN0b3IoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOkpULGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOkpUO3N1cGVyKCksbnUodGhpcyxcIm9uTGl2ZVN0cmVhbVdhcm5pbmdcIix2b2lkIDApLG51KHRoaXMsXCJvbkxpdmVTdHJlYW1FcnJvclwiLHZvaWQgMCksbnUodGhpcyxcIm9uSW5qZWN0U3RhdHVzQ2hhbmdlXCIsdm9pZCAwKSxudSh0aGlzLFwic3BlY1wiLHZvaWQgMCksbnUodGhpcyxcInJldHJ5VGltZW91dFwiLDFlNCksbnUodGhpcyxcImNvbm5lY3Rpb25cIix2b2lkIDApLG51KHRoaXMsXCJodHRwUmV0cnlDb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJ3c1JldHJ5Q29uZmlnXCIsdm9pZCAwKSxudSh0aGlzLFwic3RyZWFtaW5nVGFza3NcIixuZXcgTWFwKSxudSh0aGlzLFwiaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2tcIiwhMSksbnUodGhpcyxcInRhc2tNdXRleFwiLG5ldyBZVChcImxpdmUtc3RyZWFtaW5nXCIpKSxudSh0aGlzLFwiY2FuY2VsVG9rZW5cIixFQy5DYW5jZWxUb2tlbi5zb3VyY2UoKSksbnUodGhpcyxcInRyYW5zY29kaW5nQ29uZmlnXCIsdm9pZCAwKSxudSh0aGlzLFwiaW5qZWN0Q29uZmlnXCIsSVAoe30sSHYpKSxudSh0aGlzLFwiaW5qZWN0TG9vcFRpbWVzXCIsMCksbnUodGhpcyxcInVhcFJlc3BvbnNlXCIsdm9pZCAwKSxudSh0aGlzLFwibGFzdFRhc2tJZFwiLDEpLG51KHRoaXMsXCJzdGF0dXNFcnJvclwiLG5ldyBNYXApLHRoaXMuc3BlYz1lLHRoaXMuaHR0cFJldHJ5Q29uZmlnPWksdGhpcy53c1JldHJ5Q29uZmlnPXR9YXN5bmMgc2V0VHJhbnNjb2RpbmdDb25maWcoZSl7Y29uc3QgdD1JUChJUCh7fSxXdiksZSk7NjYhPT10LnZpZGVvQ29kZWNQcm9maWxlJiY3NyE9PXQudmlkZW9Db2RlY1Byb2ZpbGUmJjEwMCE9PXQudmlkZW9Db2RlY1Byb2ZpbGUmJihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBzZXQgdHJhbnNjb2RpbmcgY29uZmlnLCBmaXggdmlkZW8gY29kZWMgcHJvZmlsZTogXCIpLmNvbmNhdCh0LnZpZGVvQ29kZWNQcm9maWxlLFwiIC0+IDEwMFwiKSksdC52aWRlb0NvZGVjUHJvZmlsZT0xMDApLHQudHJhbnNjb2RpbmdVc2Vyc3x8KHQudHJhbnNjb2RpbmdVc2Vycz10LnVzZXJDb25maWdzKSx0LnRyYW5zY29kaW5nVXNlcnMmJih0LnRyYW5zY29kaW5nVXNlcnM9dC50cmFuc2NvZGluZ1VzZXJzLm1hcCgoZT0+SVAoSVAoSVAoe30sQnYpLGUpLHt9LHt6T3JkZXI6ZS56T3JkZXI/ZS56T3JkZXIrMToxfSkpKSksZnVuY3Rpb24oZSl7S2coZS53aWR0aCl8fGpnKGUud2lkdGgsXCJjb25maWcud2lkdGhcIiwwLDFlNCksS2coZS5oZWlnaHQpfHxqZyhlLmhlaWdodCxcImNvbmZpZy5oZWlnaHRcIiwwLDFlNCksS2coZS52aWRlb0JpdHJhdGUpfHxqZyhlLnZpZGVvQml0cmF0ZSxcImNvbmZpZy52aWRlb0JpdHJhdGVcIiwxLDFlNiksS2coZS52aWRlb0ZyYW1lUmF0ZSl8fGpnKGUudmlkZW9GcmFtZVJhdGUsXCJjb25maWcudmlkZW9GcmFtZVJhdGVcIiksS2coZS5sb3dMYXRlbmN5KXx8RmcoZS5sb3dMYXRlbmN5LFwiY29uZmlnLmxvd0xhdGVuY3lcIiksS2coZS5hdWRpb1NhbXBsZVJhdGUpfHxCZyhlLmF1ZGlvU2FtcGxlUmF0ZSxcImNvbmZpZy5hdWRpb1NhbXBsZVJhdGVcIixbMzJlMyw0NDEwMCw0OGUzXSksS2coZS5hdWRpb0JpdHJhdGUpfHxqZyhlLmF1ZGlvQml0cmF0ZSxcImNvbmZpZy5hdWRpb0JpdHJhdGVcIiwxLDEyOCksS2coZS5hdWRpb0NoYW5uZWxzKXx8QmcoZS5hdWRpb0NoYW5uZWxzLFwiY29uZmlnLmF1ZGlvQ2hhbm5lbHNcIixbMSwyLDMsNCw1XSksS2coZS52aWRlb0dvcCl8fGpnKGUudmlkZW9Hb3AsXCJjb25maWcudmlkZW9Hb3BcIiksS2coZS52aWRlb0NvZGVjUHJvZmlsZSl8fEJnKGUudmlkZW9Db2RlY1Byb2ZpbGUsXCJjb25maWcudmlkZW9Db2RlY1Byb2ZpbGVcIixbNjYsNzcsMTAwXSksS2coZS51c2VyQ291bnQpfHxqZyhlLnVzZXJDb3VudCxcImNvbmZpZy51c2VyQ291bnRcIiwwLDE3KSxLZyhlLmJhY2tncm91bmRDb2xvcil8fGpnKGUuYmFja2dyb3VuZENvbG9yLFwiY29uZmlnLmJhY2tncm91bmRDb2xvclwiLDAsMTY3NzcyMTUpLEtnKGUudXNlckNvbmZpZ0V4dHJhSW5mbyl8fFdnKGUudXNlckNvbmZpZ0V4dHJhSW5mbyxcImNvbmZpZy51c2VyQ29uZmlnRXh0cmFJbmZvXCIsMCw0MDk2LCExKSxlLnRyYW5zY29kaW5nVXNlcnMmJiFLZyhlLnRyYW5zY29kaW5nVXNlcnMpJiYoSGcoZS50cmFuc2NvZGluZ1VzZXJzLFwiY29uZmlnLnRyYW5zY29kaW5nVXNlcnNcIiksZS50cmFuc2NvZGluZ1VzZXJzLmZvckVhY2goKChlLHQpPT57RnYoZS51aWQpLEtnKGUueCl8fGpnKGUueCxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQodCxcIl0ueFwiKSwwLDFlNCksS2coZS55KXx8amcoZS55LFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS55XCIpLDAsMWU0KSxLZyhlLndpZHRoKXx8amcoZS53aWR0aCxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQodCxcIl0ud2lkdGhcIiksMCwxZTQpLEtnKGUuaGVpZ2h0KXx8amcoZS5oZWlnaHQsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KHQsXCJdLmhlaWdodFwiKSwwLDFlNCksS2coZS56T3JkZXIpfHxqZyhlLnpPcmRlci0xLFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS56T3JkZXJcIiksMCwxMDApLEtnKGUuYWxwaGEpfHxqZyhlLmFscGhhLFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS5hbHBoYVwiKSwwLDEsITEpfSkpKSxLZyhlLndhdGVybWFyayl8fEd2KGUud2F0ZXJtYXJrLFwid2F0ZXJtYXJrXCIpLEtnKGUuYmFja2dyb3VuZEltYWdlKXx8R3YoZS5iYWNrZ3JvdW5kSW1hZ2UsXCJiYWNrZ3JvdW5kSW1hZ2VcIiksZS5pbWFnZXMmJiFLZyhlLmltYWdlcykmJihIZyhlLmltYWdlcyxcImNvbmZpZy5pbWFnZXNcIiksZS5pbWFnZXMuZm9yRWFjaCgoKGUsdCk9PntHdihlLFwiaW1hZ2VzW1wiLmNvbmNhdCh0LFwiXVwiKSl9KSkpfSh0KTtjb25zdCBpPVtdO3QuaW1hZ2VzJiZpLnB1c2goLi4udC5pbWFnZXMubWFwKChlPT5JUChJUChJUCh7fSxqdiksZSkse30se3pPcmRlcjoyNTV9KSkpKSx0LmJhY2tncm91bmRJbWFnZSYmKGkucHVzaChJUChJUChJUCh7fSxqdiksdC5iYWNrZ3JvdW5kSW1hZ2UpLHt9LHt6T3JkZXI6MH0pKSxkZWxldGUgdC5iYWNrZ3JvdW5kSW1hZ2UpLHQud2F0ZXJtYXJrJiYoaS5wdXNoKElQKElQKElQKHt9LGp2KSx0LndhdGVybWFyaykse30se3pPcmRlcjoyNTV9KSksZGVsZXRlIHQud2F0ZXJtYXJrKSx0LmltYWdlcz1pLHQudHJhbnNjb2RpbmdVc2VycyYmKHQudXNlckNvbmZpZ3M9dC50cmFuc2NvZGluZ1VzZXJzLm1hcCgoZT0+SVAoe30sZSkpKSx0LnVzZXJDb3VudD10LnRyYW5zY29kaW5nVXNlcnMubGVuZ3RoLGRlbGV0ZSB0LnRyYW5zY29kaW5nVXNlcnMpO2NvbnN0IG49KHQudXNlckNvbmZpZ3N8fFtdKS5tYXAoKGU9PlwibnVtYmVyXCI9PXR5cGVvZiBlLnVpZD90Zy5yZXNvbHZlKGUudWlkKTpoUChlLnVpZCx0aGlzLnNwZWMsdGhpcy5jYW5jZWxUb2tlbi50b2tlbix0aGlzLmh0dHBSZXRyeUNvbmZpZykpKTtpZigoYXdhaXQgdGcuYWxsKG4pKS5mb3JFYWNoKCgoZSxpKT0+e3QudXNlckNvbmZpZ3MmJnQudXNlckNvbmZpZ3NbaV0mJih0LnVzZXJDb25maWdzW2ldLnVpZD1lKX0pKSx0aGlzLnRyYW5zY29kaW5nQ29uZmlnPXQsdGhpcy5jb25uZWN0aW9uKXRyeXt2YXIgcjtjb25zdCBlPWF3YWl0IHRoaXMuY29ubmVjdGlvbi5yZXF1ZXN0KFwicmVxdWVzdFwiLHtjbGllbnRSZXF1ZXN0Ontjb21tYW5kOlwiVXBkYXRlVHJhbnNjb2RpbmdcIix0cmFuc2NvZGluZ0NvbmZpZzp0aGlzLnRyYW5zY29kaW5nQ29uZmlnfX0sITEse2NvbW1hbmQ6XCJVcGRhdGVUcmFuc2NvZGluZ1wiLHdvcmtlclR5cGU6MSxyZXF1ZXN0QnlVc2VyOiEwLHRpZDpBcnJheS5mcm9tKGt2KHI9dGhpcy5zdHJlYW1pbmdUYXNrcykuY2FsbChyKSkubWFwKChlPT5lLnRhc2tJZCkpLmpvaW4oXCIjXCIpfSk7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gdXBkYXRlIGxpdmUgdHJhbnNjb2RpbmcgY29uZmlnIHN1Y2Nlc3MsIGNvZGU6IFwiKS5jb25jYXQoZS5jb2RlLFwiLCBjb25maWc6XCIpLEpTT04uc3RyaW5naWZ5KHRoaXMudHJhbnNjb2RpbmdDb25maWcpKX1jYXRjaChlKXtpZighZS5kYXRhfHwhZS5kYXRhLnJldHJ5KXRocm93IGU7ZS5kYXRhLmNoYW5nZUFkZHJlc3MmJnRoaXMuY29ubmVjdGlvbi50cnlOZXh0QWRkcmVzcygpLHRoaXMuc3RyZWFtaW5nVGFza3MuZm9yRWFjaCgodD0+e0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gbGl2ZSBzdHJlYW1pbmcgcmVjZWl2ZSBlcnJvclwiKSxlLnRvU3RyaW5nKCksXCJ0cnkgdG8gcmVwdWJsaXNoXCIsdC51cmwpLHRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayh0LnVybCx0Lm1vZGUsZSkudGhlbigoKCk9PntLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBsaXZlIHN0cmVhbWluZyByZXB1Ymxpc2ggXCIpLmNvbmNhdCh0LnVybCxcIiBzdWNjZXNzXCIpKX0pKS5jYXRjaCgoZT0+e0tDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIGxpdmUgc3RyZWFtaW5nIHJlcHVibGlzaCBmYWlsZWRcIiksdC51cmwsZS50b1N0cmluZygpKSx0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKHQudXJsLGUpfSkpfSkpfX1zZXRJbmplY3RTdHJlYW1Db25maWcoZSx0KXt0aGlzLmluamVjdENvbmZpZz1PYmplY3QuYXNzaWduKHt9LHRoaXMuaW5qZWN0Q29uZmlnLGUpLHRoaXMuaW5qZWN0TG9vcFRpbWVzPXR9YXN5bmMgc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLHQsaSl7dmFyIG47aWYoQXJyYXkuZnJvbShrdihuPXRoaXMuc3RyZWFtaW5nVGFza3MpLmNhbGwobikpLmZpbmQoKGU9PmUubW9kZT09PXl2LklOSkVDVCkpJiZ0PT09eXYuSU5KRUNUKXJldHVybiBuZXcgeHYoeGcuTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVCxcImluamVjdCBzdHJlYW0gb3ZlciBsaW1pdFwiKS50aHJvdygpO2lmKCF0aGlzLnRyYW5zY29kaW5nQ29uZmlnJiZ0PT09eXYuVFJBTlNDT0RFKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIltMaXZlU3RyZWFtaW5nXSBubyB0cmFuc2NvZGluZyBjb25maWcgZm91bmQsIGNhbiBub3Qgc3RhcnQgdHJhbnNjb2Rpbmcgc3RyZWFtaW5nIHRhc2tcIik7bGV0IHI9e2NvbW1hbmQ6XCJQdWJsaXNoU3RyZWFtXCIsdHM6RGF0ZS5ub3coKSx1cmw6ZSx1aWQ6dGhpcy5zcGVjLnVpZC50b1N0cmluZygpLGF1dG9EZXN0cm95VGltZToxMDAsYWNjZXB0SW1hZ2VUaW1lb3V0OiEwfTtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBzdGFydCBsaXZlIHN0cmVhbWluZyBcIikuY29uY2F0KGUsXCIsIG1vZGU6IFwiKS5jb25jYXQodCkpO2NvbnN0IHM9YXdhaXQgdGhpcy50YXNrTXV0ZXgubG9jaygpO2lmKCF0aGlzLmNvbm5lY3Rpb24mJmkpcmV0dXJuIHZvaWQgcygpO2lmKHRoaXMuc3RyZWFtaW5nVGFza3MuZ2V0KGUpJiYhaSlyZXR1cm4gcygpLG5ldyB4dih4Zy5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNUKS50aHJvdygpO3RyeXt0aGlzLmNvbm5lY3Rpb258fCh0aGlzLmNvbm5lY3Rpb249YXdhaXQgdGhpcy5jb25uZWN0KHQpKX1jYXRjaChlKXt0aHJvdyBzKCksZX1zd2l0Y2godCl7Y2FzZSB5di5UUkFOU0NPREU6ci50cmFuc2NvZGluZ0NvbmZpZz1JUCh7fSx0aGlzLnRyYW5zY29kaW5nQ29uZmlnKTticmVhaztjYXNlIHl2LlJBVzpicmVhaztjYXNlIHl2LklOSkVDVDpyPXtjbmFtZTp0aGlzLnNwZWMuY25hbWUsY29tbWFuZDpcIkluamVjdFN0cmVhbVwiLHNpZDp0aGlzLnNwZWMuc2lkLHRyYW5zY29kaW5nQ29uZmlnOnRoaXMuaW5qZWN0Q29uZmlnLHRzOkRhdGUubm93KCksdXJsOmUsbG9vcFRpbWVzOnRoaXMuaW5qZWN0TG9vcFRpbWVzfX10aGlzLnVhcFJlc3BvbnNlJiZ0aGlzLnVhcFJlc3BvbnNlLnZpZCYmKHIudmlkPXRoaXMudWFwUmVzcG9uc2UudmlkKSx0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSEwO2NvbnN0IG89dGhpcy5sYXN0VGFza0lkKys7dHJ5e2NvbnN0IG49bmV3IHRnKCgodCxuKT0+e1VUKHRoaXMucmV0cnlUaW1lb3V0KS50aGVuKCgoKT0+e2lmKGkpcmV0dXJuIG4oaSk7Y29uc3QgdD10aGlzLnN0YXR1c0Vycm9yLmdldChlKTtyZXR1cm4gdD8odGhpcy5zdGF0dXNFcnJvci5kZWxldGUoZSksbih0KSk6dm9pZCAwfSkpfSkpLGE9YXdhaXQgdGcucmFjZShbdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6cn0sITAse3VybDplLGNvbW1hbmQ6XCJQdWJsaXNoU3RyZWFtXCIsd29ya2VyVHlwZTp0PT09eXYuVFJBTlNDT0RFPzE6MixyZXF1ZXN0QnlVc2VyOiFpLHRpZDpvLnRvU3RyaW5nKCl9KSxuXSk7dGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBsaXZlIHN0cmVhbWluZyBzdGFydGVkLCBjb2RlOiBcIikuY29uY2F0KGEuY29kZSkpLHRoaXMuc3RyZWFtaW5nVGFza3Muc2V0KGUse2NsaWVudFJlcXVlc3Q6cixtb2RlOnQsdXJsOmUsdGFza0lkOm99KSxzKCl9Y2F0Y2gobil7aWYocygpLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsIW4uZGF0YXx8IW4uZGF0YS5yZXRyeXx8aSl0aHJvdyBuO3JldHVybiBuLmRhdGEuY2hhbmdlQWRkcmVzcz8odGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCksYXdhaXQgdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsdCxuKSk6YXdhaXQgdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsdCxuKX19c3RvcExpdmVTdHJlYW1pbmdUYXNrKGUpe3JldHVybiBuZXcgdGcoKCh0LGkpPT57Y29uc3Qgbj10aGlzLnN0cmVhbWluZ1Rhc2tzLmdldChlKTtpZighbnx8IXRoaXMuY29ubmVjdGlvbilyZXR1cm4gbmV3IHh2KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc3RyZWFtaW5nIHRhc2sgdG8gc3RvcFwiKS50aHJvdygpO2NvbnN0IHI9bi5tb2RlO24uYWJvcnRUYXNrPSgpPT57S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gc3RvcCBsaXZlIHN0cmVhbWluZyBzdWNjZXNzKHdvcmtlciBleGNlcHRpb24pXCIpKSx0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShlKSx0KCl9LHRoaXMuY29ubmVjdGlvbi5yZXF1ZXN0KFwicmVxdWVzdFwiLHtjbGllbnRSZXF1ZXN0Ontjb21tYW5kOnI9PT15di5JTkpFQ1Q/XCJVbmluamVjdFN0cmVhbVwiOlwiVW5wdWJsaXNoU3RyZWFtXCIsdXJsOm4udXJsfX0sITEse3VybDplLGNvbW1hbmQ6XCJVblB1Ymxpc2hTdHJlYW1cIix3b3JrZXJUeXBlOnI9PT15di5UUkFOU0NPREU/MToyLHJlcXVlc3RCeVVzZXI6ITAsdGlkOih0aGlzLmxhc3RUYXNrSWQrKykudG9TdHJpbmcoKX0pLnRoZW4oKGk9PntLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBzdG9wIGxpdmUgc3RyZWFtaW5nIHN1Y2Nlc3MsIGNvZGU6IFwiKS5jb25jYXQoaS5jb2RlKSksdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUoZSksMD09PXRoaXMuc3RyZWFtaW5nVGFza3Muc2l6ZSYmciE9PXl2LklOSkVDVCYmKHRoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uLmNsb3NlKCksdGhpcy5jb25uZWN0aW9uPXZvaWQgMCksdCgpLHI9PT15di5JTkpFQ1QmJnRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UmJnRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UoQXYuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9TVUNDRVNTLHRoaXMuc3BlYy51aWQsZSl9KSkuY2F0Y2goaSl9KSl9YXN5bmMgY29udHJvbEluamVjdFN0cmVhbShlLHQsaSxuKXtjb25zdCByPXRoaXMuc3RyZWFtaW5nVGFza3MuZ2V0KGUpO2lmKCFyfHwhdGhpcy5jb25uZWN0aW9ufHxyLm1vZGUhPT15di5JTkpFQ1QpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBmaW5kIGluamVjdCBzdHJlYW0gdGFzayB0byBjb250cm9sXCIpO3JldHVybihhd2FpdCB0aGlzLmNvbm5lY3Rpb24ucmVxdWVzdChcInJlcXVlc3RcIix7Y2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcIkNvbnRyb2xTdHJlYW1cIix1cmw6ZSxjb250cm9sOnQsYXVkaW9Wb2x1bWU6aSxwb3NpdGlvbjpufX0pKS5zZXJ2ZXJSZXNwb25zZX1yZXNldEFsbFRhc2soKXt2YXIgZTtjb25zdCB0PUFycmF5LmZyb20oa3YoZT10aGlzLnN0cmVhbWluZ1Rhc2tzKS5jYWxsKGUpKTt0aGlzLnRlcm1pbmF0ZSgpO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUudXJsLGUubW9kZSkuY2F0Y2goKHQ9Pnt0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKGUudXJsLHQpfSkpfXRlcm1pbmF0ZSgpe3RoaXMuY2FuY2VsVG9rZW4mJnRoaXMuY2FuY2VsVG9rZW4uY2FuY2VsKCksdGhpcy5zdHJlYW1pbmdUYXNrcz1uZXcgTWFwLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsdGhpcy5zdGF0dXNFcnJvcj1uZXcgTWFwLHRoaXMuY2FuY2VsVG9rZW49RUMuQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy51YXBSZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLmNvbm5lY3Rpb249dm9pZCAwfWFzeW5jIGNvbm5lY3QoZSl7aWYodGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwibGl2ZSBzdHJlYW1pbmcgY29ubmVjdGlvbiBoYXMgYWxyZWFkeSBjb25uZWN0ZWRcIik7Y29uc3QgdD1hd2FpdCBmVCh0aGlzLFl2LlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVCxlKTtyZXR1cm4gdGhpcy51YXBSZXNwb25zZT10LHRoaXMuY29ubmVjdGlvbj1uZXcgQ1AodC53b3JrZXJUb2tlbix0aGlzLnNwZWMsdGhpcy53c1JldHJ5Q29uZmlnLGUpLHRoaXMuY29ubmVjdGlvbi5vbihLdi5XQVJOSU5HLCgoZSx0KT0+dGhpcy5vbkxpdmVTdHJlYW1XYXJuaW5nJiZ0aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcodCxlKSkpLHRoaXMuY29ubmVjdGlvbi5vbihLdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVMsKGU9PnRoaXMuaGFuZGxlUHVibGlzaFN0cmVhbVNlcnZlcihlKSkpLHRoaXMuY29ubmVjdGlvbi5vbihLdi5JTkpFQ1RfU1RSRUFNX1NUQVRVUywoZT0+dGhpcy5oYW5kbGVJbmplY3RTdHJlYW1TZXJ2ZXJTdGF0dXMoZSkpKSx0aGlzLmNvbm5lY3Rpb24ub24oS3YuUkVRVUVTVF9ORVdfQUREUkVTUywoKHQsaSk9PntpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiBpKG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBnZXQgbmV3IGxpdmUgc3RyZWFtaW5nIGFkZHJlc3MgbGlzdFwiKSk7ZlQodGhpcyxZdi5SRVFVRVNUX1dPUktFUl9NQU5BR0VSX0xJU1QsZSkudGhlbigoZT0+e3RoaXMudWFwUmVzcG9uc2U9ZSx0KGUuYWRkcmVzc0xpc3QpfSkpLmNhdGNoKGkpfSkpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5pbml0KHQuYWRkcmVzc0xpc3QpLHRoaXMuY29ubmVjdGlvbn1oYW5kbGVQdWJsaXNoU3RyZWFtU2VydmVyKGUpe2NvbnN0IHQ9ZS5zZXJ2ZXJTdGF0dXMmJmUuc2VydmVyU3RhdHVzLnVybHx8XCJlbXB0eV91cmxcIixpPXRoaXMuc3RyZWFtaW5nVGFza3MuZ2V0KHQpLG49ZS5yZWFzb247c3dpdGNoKGUuY29kZSl7Y2FzZSBxdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU46Y2FzZSBxdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUOmNhc2UgcXYuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFOmNhc2UgcXYuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSDp7Y29uc3Qgbj1uZXcgeHYoeGcuTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSk7aWYoaSlyZXR1cm4gS0MuZXJyb3Iobi50b1N0cmluZygpKSx0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKHQsbik7aWYoIXRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2spcmV0dXJuO3RoaXMuc3RhdHVzRXJyb3Iuc2V0KHQsbil9Y2FzZSBxdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9GQUlMRURfTE9BRF9JTUFHRTp7Y29uc3QgZT1uZXcgeHYoeGcuTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRSxuKTtyZXR1cm4gdGhpcy5vbkxpdmVTdHJlYW1XYXJuaW5nJiZ0aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcodCxlKX1jYXNlIHF2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUOmNhc2UgcXYuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVQ6e3ZhciByO2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuO3RoaXMuY29ubmVjdGlvbi50cnlOZXh0QWRkcmVzcygpO2NvbnN0IHQ9QXJyYXkuZnJvbShrdihyPXRoaXMuc3RyZWFtaW5nVGFza3MpLmNhbGwocikpO2Zvcihjb25zdCBpIG9mIHQpaS5hYm9ydFRhc2s/aS5hYm9ydFRhc2soKTooS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBwdWJsaXNoIHN0cmVhbSBzdGF0dXMgY29kZVwiKSxlLmNvZGUsXCJ0cnkgdG8gcmVwdWJsaXNoXCIsaS51cmwpLHRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhpLnVybCxpLm1vZGUsbmV3IHh2KHhnLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcIlwiLHtjb2RlOmUuY29kZX0pKS50aGVuKCgoKT0+e0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHJlcHVibGlzaCBsaXZlIHN0cmVhbSBzdWNjZXNzXCIpLGkudXJsKX0pKS5jYXRjaCgoZT0+e0tDLmVycm9yKGUudG9TdHJpbmcoKSksdGhpcy5vbkxpdmVTdHJlYW1FcnJvciYmdGhpcy5vbkxpdmVTdHJlYW1FcnJvcihpLnVybCxlKX0pKSk7cmV0dXJufX19aGFuZGxlSW5qZWN0U3RyZWFtU2VydmVyU3RhdHVzKGUpe2NvbnN0IHQ9TnVtYmVyKGUudWlkKSxpPWUuc2VydmVyU3RhdHVzJiZlLnNlcnZlclN0YXR1cy51cmw7c3dpdGNoKGUuY29kZSl7Y2FzZSAyMDA6cmV0dXJuIHZvaWQodGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZShBdi5JTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9TVUNDRVNTLHQsaSkpO2Nhc2UgNDUxOnJldHVybiB0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlJiZ0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlKEF2LklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX0FMUkVBRFlfRVhJU1RTLHQsaSksdm9pZCB0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShpKTtjYXNlIDQ1MzpyZXR1cm4gdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZShBdi5JTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9VTkFVVEhPUklaRUQsdCxpKSx2b2lkIHRoaXMuc3RyZWFtaW5nVGFza3MuZGVsZXRlKGkpO2Nhc2UgNDcwOnJldHVybiB0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlJiZ0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlKEF2LklOSkVDVF9TVFJFQU1fU1RBVFVTX0JST0tFTix0LGkpLHZvaWQgdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUoaSk7Y2FzZSA0OTk6cmV0dXJuIHRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UmJnRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UoQXYuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfVElNRU9VVCx0LGkpLHZvaWQgdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUoaSk7ZGVmYXVsdDpyZXR1cm4gdm9pZCBLQy5kZWJ1ZyhcImluamVjdCBzdHJlYW0gc2VydmVyIHN0YXR1c1wiLGUpfX1oYXNVcmwoZSl7cmV0dXJuIHRoaXMuc3RyZWFtaW5nVGFza3MuaGFzKGUpfX1jbGFzcyBBUHtjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJkZXN0Q2hhbm5lbE1lZGlhSW5mb3NcIixuZXcgTWFwKSxudSh0aGlzLFwic3JjQ2hhbm5lbE1lZGlhSW5mb1wiLHZvaWQgMCl9c2V0U3JjQ2hhbm5lbEluZm8oZSl7c0koZSksdGhpcy5zcmNDaGFubmVsTWVkaWFJbmZvPWV9YWRkRGVzdENoYW5uZWxJbmZvKGUpe3NJKGUpLHRoaXMuZGVzdENoYW5uZWxNZWRpYUluZm9zLnNldChlLmNoYW5uZWxOYW1lLGUpfXJlbW92ZURlc3RDaGFubmVsSW5mbyhlKXtWdihlKSx0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvcy5kZWxldGUoZSl9Z2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpe3JldHVybiB0aGlzLnNyY0NoYW5uZWxNZWRpYUluZm99Z2V0RGVzdENoYW5uZWxNZWRpYUluZm8oKXtyZXR1cm4gdGhpcy5kZXN0Q2hhbm5lbE1lZGlhSW5mb3N9fWZ1bmN0aW9uIGJQKGUpe2lmKCEoZSBpbnN0YW5jZW9mIEFQKSl7cmV0dXJuIG5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcIkNvbmZpZyBzaG91bGQgYmUgaW5zdGFuY2Ugb2YgW0NoYW5uZWxNZWRpYVJlbGF5Q29uZmlndXJhdGlvbl1cIikudGhyb3coKX1jb25zdCB0PWUuZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpLGk9ZS5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mbygpO2lmKCF0KXtyZXR1cm4gbmV3IHh2KHhnLklOVkFMSURfUEFSQU1TLFwic3JjQ2hhbm5lbE1lZGlhSW5mbyBzaG91bGQgbm90IGJlIGVtcHR5XCIpLnRocm93KCl9aWYoMD09PWkuc2l6ZSl7cmV0dXJuIG5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcImRlc3RDaGFubmVsTWVkaWFJbmZvIHNob3VsZCBub3QgYmUgZW1wdHlcIikudGhyb3coKX19Y2xhc3Mgd1AgZXh0ZW5kcyBpVHtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoKSxudSh0aGlzLFwid3NcIix2b2lkIDApLG51KHRoaXMsXCJyZXF1ZXN0SWRcIiwxKSxudSh0aGlzLFwiaGVhcnRCZWF0VGltZXJcIix2b2lkIDApLG51KHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksbnUodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxudSh0aGlzLFwib25PcGVuXCIsKCgpPT57dGhpcy5lbWl0KFwib3BlblwiKSx0aGlzLnN0YXJ0SGVhcnRCZWF0Q2hlY2soKX0pKSxudSh0aGlzLFwib25DbG9zZVwiLChlPT57dGhpcy5lbWl0KFwiY2xvc2VcIiksdGhpcy5kaXNwb3NlKCl9KSksbnUodGhpcyxcIm9uTWVzc2FnZVwiLChlPT57Y29uc3QgdD1KU09OLnBhcnNlKGUuZGF0YSk7aWYoIXR8fFwic2VydmVyUmVzcG9uc2VcIiE9PXQuY29tbWFuZHx8IXQucmVxdWVzdElkKXJldHVybiB0JiZcInNlcnZlclN0YXR1c1wiPT09dC5jb21tYW5kJiZ0LnNlcnZlclN0YXR1cyYmdC5zZXJ2ZXJTdGF0dXMuY29tbWFuZD8odGhpcy5lbWl0KFwic3RhdHVzXCIsdC5zZXJ2ZXJTdGF0dXMpLHZvaWQgdGhpcy5lbWl0KHQuc2VydmVyU3RhdHVzLmNvbW1hbmQsdC5zZXJ2ZXJTdGF0dXMpKTp2b2lkIDA7dGhpcy5lbWl0KFwicmVxX1wiLmNvbmNhdCh0LnJlcXVlc3RJZCksdCl9KSksdGhpcy5qb2luSW5mbz1lLHRoaXMuY2xpZW50SWQ9dCx0aGlzLndzPW5ldyBYSShcImNyb3NzLWNoYW5uZWwtXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLGkpLHRoaXMud3Mub24oSXYuUkVDT05ORUNUSU5HLCgoKT0+e3RoaXMud3MucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsdGhpcy5lbWl0KFwicmVjb25uZWN0aW5nXCIpfSkpLHRoaXMud3Mub24oSXYuQ09OTkVDVEVELHRoaXMub25PcGVuKSx0aGlzLndzLm9uKEl2Lk9OX01FU1NBR0UsdGhpcy5vbk1lc3NhZ2UpLHRoaXMud3Mub24oSXYuQ0xPU0VELHRoaXMub25DbG9zZSl9aXNDb25uZWN0KCl7cmV0dXJuXCJjb25uZWN0ZWRcIj09PXRoaXMud3Muc3RhdGV9c2VuZE1lc3NhZ2UoZSl7Y29uc3QgdD10aGlzLnJlcXVlc3RJZCsrO3JldHVybiBlLnJlcXVlc3RJZD10LGUuc2VxPXQsdGhpcy53cy5zZW5kTWVzc2FnZShlKSx0fXdhaXRTdGF0dXMoZSl7cmV0dXJuIG5ldyB0ZygoKHQsaSk9Pntjb25zdCBuPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2kobmV3IHh2KHhnLlRJTUVPVVQsXCJ3YWl0IHN0YXR1cyB0aW1lb3V0LCBzdGF0dXM6IFwiLmNvbmNhdChlKSkpfSksNWUzKTt0aGlzLm9uY2UoZSwocj0+e3dpbmRvdy5jbGVhclRpbWVvdXQobiksci5zdGF0ZSYmMCE9PXIuc3RhdGU/aShuZXcgeHYoeGcuQ1JPU1NfQ0hBTk5FTF9XQUlUX1NUQVRVU19FUlJPUixcIndhaXQgc3RhdHVzIGVycm9yLCBzdGF0dXM6IFwiLmNvbmNhdChlKSkpOnQodm9pZCAwKX0pKSx0aGlzLm9uY2UoXCJkaXNwb3NlXCIsKCgpPT57d2luZG93LmNsZWFyVGltZW91dChuKSxpKG5ldyB4dih4Zy5XU19BQk9SVCkpfSkpfSkpfWFzeW5jIHJlcXVlc3QoZSl7aWYoXCJjbG9zZWRcIj09PXRoaXMud3Muc3RhdGUpdGhyb3cgbmV3IHh2KHhnLldTX0RJU0NPTk5FQ1QpO2NvbnN0IHQ9KCk9Pm5ldyB0ZygoKGUsdCk9Pnt0aGlzLndzLm9uY2UoSXYuQ0xPU0VELCgoKT0+dChuZXcgeHYoeGcuV1NfQUJPUlQpKSkpLHRoaXMud3Mub25jZShJdi5DT05ORUNURUQsZSl9KSk7XCJjb25uZWN0ZWRcIiE9PXRoaXMud3Muc3RhdGUmJmF3YWl0IHQoKTtjb25zdCBpPXRoaXMuc2VuZE1lc3NhZ2UoZSksbj1uZXcgdGcoKChlLHQpPT57Y29uc3Qgbj0oKT0+e3QobmV3IHh2KHhnLldTX0FCT1JUKSl9O3RoaXMud3Mub25jZShJdi5SRUNPTk5FQ1RJTkcsbiksdGhpcy53cy5vbmNlKEl2LkNMT1NFRCxuKSx0aGlzLm9uY2UoXCJyZXFfXCIuY29uY2F0KGkpLGUpLFVUKDNlMykudGhlbigoKCk9Pnt0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlcV9cIi5jb25jYXQoaSkpLHRoaXMud3Mub2ZmKEl2LlJFQ09OTkVDVElORyxuKSx0aGlzLndzLm9mZihJdi5DTE9TRUQsbiksdChuZXcgeHYoeGcuVElNRU9VVCxcImNyb3NzIGNoYW5uZWwgd3MgcmVxdWVzdCB0aW1lb3V0XCIpKX0pKX0pKSxyPWF3YWl0IG47aWYoIXJ8fDIwMCE9PXIuY29kZSl0aHJvdyBuZXcgeHYoeGcuQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0UsXCJyZXNwb25zZTogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHIpKSk7cmV0dXJuIHJ9YXN5bmMgY29ubmVjdChlKXt0aGlzLndzLnJlbW92ZUFsbExpc3RlbmVycyhJdi5SRVFVRVNUX05FV19VUkxTKSx0aGlzLndzLm9uKEl2LlJFUVVFU1RfTkVXX1VSTFMsKHQ9Pnt0KGUpfSkpLGF3YWl0IHRoaXMud3MuaW5pdChlKX1kaXNwb3NlKCl7dGhpcy5jbGVhckhlYXJ0QmVhdENoZWNrKCksdGhpcy5lbWl0KFwiZGlzcG9zZVwiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMud3MuY2xvc2UoKX1zZW5kUGluZyhlKXtjb25zdCB0PXRoaXMucmVxdWVzdElkKys7cmV0dXJuIGUucmVxdWVzdElkPXQsdGhpcy53cy5zZW5kTWVzc2FnZShlKSx0fXN0YXJ0SGVhcnRCZWF0Q2hlY2soKXt0aGlzLmhlYXJ0QmVhdFRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0QmVhdFRpbWVyKSx0aGlzLmhlYXJ0QmVhdFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLnNlbmRQaW5nKHtjb21tYW5kOlwicGluZ1wiLGFwcElkOnRoaXMuam9pbkluZm8uYXBwSWQsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQudG9TdHJpbmcoKSxzaWQ6dGhpcy5qb2luSW5mby5zaWQsdHM6K25ldyBEYXRlLHJlcXVlc3RJZDowfSl9KSwzZTMpfWNsZWFySGVhcnRCZWF0Q2hlY2soKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0QmVhdFRpbWVyKSx0aGlzLmhlYXJ0QmVhdFRpbWVyPXZvaWQgMH19Y2xhc3MgT1AgZXh0ZW5kcyBpVHtzZXQgc3RhdGUoZSl7ZSE9PXRoaXMuX3N0YXRlJiYoZSE9PVF2LlJFTEFZX1NUQVRFX0ZBSUxVUkUmJih0aGlzLmVycm9yQ29kZT1adi5SRUxBWV9PSyksdGhpcy5lbWl0KFwic3RhdGVcIixlLHRoaXMuZXJyb3JDb2RlKSx0aGlzLl9zdGF0ZT1lKX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9Y29uc3RydWN0b3IoZSx0LGksbixyKXtzdXBlcigpLG51KHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksbnUodGhpcyxcInNpZFwiLHZvaWQgMCksbnUodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxudSh0aGlzLFwiY2FuY2VsVG9rZW5cIixFQy5DYW5jZWxUb2tlbi5zb3VyY2UoKSksbnUodGhpcyxcIndvcmtlclRva2VuXCIsdm9pZCAwKSxudSh0aGlzLFwicmVxdWVzdElkXCIsMCksbnUodGhpcyxcInNpZ25hbFwiLHZvaWQgMCksbnUodGhpcyxcInByZXZDaGFubmVsTWVkaWFDb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJodHRwUmV0cnlDb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJfcmVzb2x1dGlvblwiLHZvaWQgMCksbnUodGhpcyxcIl9zdGF0ZVwiLFF2LlJFTEFZX1NUQVRFX0lETEUpLG51KHRoaXMsXCJlcnJvckNvZGVcIixadi5SRUxBWV9PSyksbnUodGhpcyxcIm9uU3RhdHVzXCIsKGU9PntLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gQ2hhbm5lbE1lZGlhU3RhdHVzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksZSYmZS5jb21tYW5kJiYoXCJvbkF1ZGlvUGFja2V0UmVjZWl2ZWRcIj09PWUuY29tbWFuZCYmdGhpcy5lbWl0KFwiZXZlbnRcIixYdi5QQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkMpLFwib25WaWRlb1BhY2tldFJlY2VpdmVkXCI9PT1lLmNvbW1hbmQmJnRoaXMuZW1pdChcImV2ZW50XCIsWHYuUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDKSxcIm9uU3JjVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmVcIj09PWUuY29tbWFuZCYmKHRoaXMuZXJyb3JDb2RlPVp2LlNSQ19UT0tFTl9FWFBJUkVELHRoaXMuc3RhdGU9UXYuUkVMQVlfU1RBVEVfRkFJTFVSRSksXCJvbkRlc3RUb2tlblByaXZpbGVnZURpZEV4cGlyZVwiPT09ZS5jb21tYW5kJiYodGhpcy5lcnJvckNvZGU9WnYuREVTVF9UT0tFTl9FWFBJUkVELHRoaXMuc3RhdGU9UXYuUkVMQVlfU1RBVEVfRkFJTFVSRSkpfSkpLG51KHRoaXMsXCJvblJlY29ubmVjdFwiLChhc3luYygpPT57S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIENoYW5uZWxNZWRpYVNvY2tldCBkaXNjb25uZWN0LCByZWNvbm5lY3RpbmdcIikpLHRoaXMuZW1pdChcImV2ZW50XCIsWHYuTkVUV09SS19ESVNDT05ORUNURUQpLHRoaXMuc3RhdGU9UXYuUkVMQVlfU1RBVEVfSURMRSx0aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWcmJnRoaXMuc2VuZFN0YXJ0UmVsYXlNZXNzYWdlKHRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZykuY2F0Y2goKGU9Pnt0aGlzLnN0YXRlIT09UXYuUkVMQVlfU1RBVEVfSURMRSYmKEtDLmVycm9yKFwiYXV0byByZXN0YXJ0IGNoYW5uZWwgbWVkaWEgcmVsYXkgZmFpbGVkXCIsZS50b1N0cmluZygpKSx0aGlzLmVycm9yQ29kZT1adi5TRVJWRVJfQ09OTkVDVElPTl9MT1NULHRoaXMuc3RhdGU9UXYuUkVMQVlfU1RBVEVfRkFJTFVSRSl9KSl9KSksdGhpcy5qb2luSW5mbz1lLHRoaXMuY2xpZW50SWQ9dCx0aGlzLnNpZD1WVCgpLHRoaXMuc2lnbmFsPW5ldyB3UCh0aGlzLmpvaW5JbmZvLHRoaXMuY2xpZW50SWQsaSksdGhpcy5odHRwUmV0cnlDb25maWc9bix0aGlzLl9yZXNvbHV0aW9uPXJ9YXN5bmMgc3RhcnRDaGFubmVsTWVkaWFSZWxheShlKXtpZih0aGlzLnN0YXRlIT09UXYuUkVMQVlfU1RBVEVfSURMRSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04pO3RoaXMuc3RhdGU9UXYuUkVMQVlfU1RBVEVfQ09OTkVDVElORyxhd2FpdCB0aGlzLmNvbm5lY3QoKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogY29ubmVjdCBzdWNjZXNzXCIpKTt0cnl7YXdhaXQgdGhpcy5zZW5kU3RhcnRSZWxheU1lc3NhZ2UoZSl9Y2F0Y2goZSl7aWYoZS5kYXRhJiZlLmRhdGEuc2VydmVyUmVzcG9uc2UmJlwiU2V0U291cmNlQ2hhbm5lbFwiPT09ZS5kYXRhLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpdGhyb3cgbmV3IHh2KHhnLkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fU1JDKTtpZihlLmRhdGEmJmUuZGF0YS5zZXJ2ZXJSZXNwb25zZSYmXCJTZXREZXN0Q2hhbm5lbFN0YXR1c1wiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXRocm93IG5ldyB4dih4Zy5DUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX0RFU1QpO2lmKGUuZGF0YSYmZS5kYXRhLnNlcnZlclJlc3BvbnNlJiZcIlN0YXJ0UGFja2V0VHJhbnNmZXJcIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZCl0aHJvdyBuZXcgeHYoeGcuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVCk7dGhyb3cgZX10aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWc9ZX1hc3luYyB1cGRhdGVDaGFubmVsTWVkaWFSZWxheShlKXtpZih0aGlzLnN0YXRlIT09UXYuUkVMQVlfU1RBVEVfUlVOTklORyl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04pO2F3YWl0IHRoaXMuc2VuZFVwZGF0ZU1lc3NhZ2UoZSksdGhpcy5wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnPWV9YXN5bmMgc2V0VmlkZW9Qcm9maWxlKGUpe2lmKHRoaXMuX3Jlc29sdXRpb249ZSx0aGlzLnN0YXRlIT09UXYuUkVMQVlfU1RBVEVfUlVOTklORyl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04pO2NvbnN0IHQ9dGhpcy5nZW5NZXNzYWdlKHp2LlNldFZpZGVvUHJvZmlsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdCh0KSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogc2V0VmlkZW9Qcm9maWxlIHN1Y2Nlc3NcIikpfWFzeW5jIHN0b3BDaGFubmVsTWVkaWFSZWxheSgpe2F3YWl0IHRoaXMuc2VuZFN0b3BSZWxheU1lc3NhZ2UoKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RvcENoYW5uZWxNZWRpYVJlbGF5OiBzZW5kIHN0b3AgbWVzc2FnZSBzdWNjZXNzXCIpKSx0aGlzLnN0YXRlPVF2LlJFTEFZX1NUQVRFX0lETEUsdGhpcy5kaXNwb3NlKCl9ZGlzcG9zZSgpe0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBkaXNwb3NlQ2hhbm5lbE1lZGlhUmVsYXlcIikpLHRoaXMuY2FuY2VsVG9rZW4uY2FuY2VsKCksdGhpcy5jYW5jZWxUb2tlbj1FQy5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLnN0YXRlPVF2LlJFTEFZX1NUQVRFX0lETEUsdGhpcy5lbWl0KFwiZGlzcG9zZVwiKSx0aGlzLnNpZ25hbC5kaXNwb3NlKCksdGhpcy5wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnPXZvaWQgMH1hc3luYyBjb25uZWN0KCl7Y29uc3QgZT1hd2FpdCBFUCh0aGlzLmpvaW5JbmZvLHRoaXMuY2FuY2VsVG9rZW4udG9rZW4sdGhpcy5odHRwUmV0cnlDb25maWcpO3RoaXMud29ya2VyVG9rZW49ZS53b3JrZXJUb2tlbixhd2FpdCB0aGlzLnNpZ25hbC5jb25uZWN0KGUuYWRkcmVzc0xpc3QpLHRoaXMuZW1pdChcImV2ZW50XCIsWHYuTkVUV09SS19DT05ORUNURUQpLHRoaXMuc2lnbmFsLm9uKFwic3RhdHVzXCIsdGhpcy5vblN0YXR1cyksdGhpcy5zaWduYWwub24oXCJyZWNvbm5lY3RpbmdcIix0aGlzLm9uUmVjb25uZWN0KX1hc3luYyBzZW5kU3RhcnRSZWxheU1lc3NhZ2UoZSl7Y29uc3QgdD10aGlzLmdlbk1lc3NhZ2UoenYuU3RvcFBhY2tldFRyYW5zZmVyKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KHQpLGF3YWl0IHRoaXMuc2lnbmFsLndhaXRTdGF0dXMoXCJOb3JtYWwgUXVpdFwiKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU3RvcFBhY2tldFRyYW5zZmVyIHN1Y2Nlc3NcIikpO2NvbnN0IGk9dGhpcy5nZW5NZXNzYWdlKHp2LlNldFNka1Byb2ZpbGUsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChpKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U2RrUHJvZmlsZSBzdWNjZXNzXCIpKTtjb25zdCBuPXRoaXMuZ2VuTWVzc2FnZSh6di5TZXRTb3VyY2VDaGFubmVsLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QobiksYXdhaXQgdGhpcy5zaWduYWwud2FpdFN0YXR1cyhcIlNldFNvdXJjZUNoYW5uZWxTdGF0dXNcIiksdGhpcy5lbWl0KFwiZXZlbnRcIixYdi5QQUNLRVRfSk9JTkVEX1NSQ19DSEFOTkVMKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U291cmNlQ2hhbm5lbCBzdWNjZXNzXCIpKTtjb25zdCByPXRoaXMuZ2VuTWVzc2FnZSh6di5TZXRTb3VyY2VVc2VySWQsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChyKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U291cmNlVXNlcklkIHN1Y2Nlc3NcIikpO2NvbnN0IHM9dGhpcy5nZW5NZXNzYWdlKHp2LlNldERlc3RDaGFubmVsLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QocyksYXdhaXQgdGhpcy5zaWduYWwud2FpdFN0YXR1cyhcIlNldERlc3RDaGFubmVsU3RhdHVzXCIpLHRoaXMuZW1pdChcImV2ZW50XCIsWHYuUEFDS0VUX0pPSU5FRF9ERVNUX0NIQU5ORUwpLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXREZXN0Q2hhbm5lbCBzdWNjZXNzXCIpKTtjb25zdCBvPXRoaXMuZ2VuTWVzc2FnZSh6di5TdGFydFBhY2tldFRyYW5zZmVyLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QobyksdGhpcy5lbWl0KFwiZXZlbnRcIixYdi5QQUNLRVRfU0VOVF9UT19ERVNUX0NIQU5ORUwpLHRoaXMuc3RhdGU9UXYuUkVMQVlfU1RBVEVfUlVOTklORyxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU3RhcnRQYWNrZXRUcmFuc2ZlciBzdWNjZXNzXCIpKSx0aGlzLnNldFZpZGVvUHJvZmlsZSh0aGlzLl9yZXNvbHV0aW9uKX1hc3luYyBzZW5kVXBkYXRlTWVzc2FnZShlKXtjb25zdCB0PXRoaXMuZ2VuTWVzc2FnZSh6di5VcGRhdGVEZXN0Q2hhbm5lbCxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KHQpLHRoaXMuZW1pdChcImV2ZW50XCIsWHYuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUwpLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzZW5kVXBkYXRlTWVzc2FnZTogVXBkYXRlRGVzdENoYW5uZWwgc3VjY2Vzc1wiKSl9YXN5bmMgc2VuZFN0b3BSZWxheU1lc3NhZ2UoKXtjb25zdCBlPXRoaXMuZ2VuTWVzc2FnZSh6di5TdG9wUGFja2V0VHJhbnNmZXIpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZSksS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHNlbmRTdG9wUmVsYXlNZXNzYWdlOiBTdG9wUGFja2V0VHJhbnNmZXIgc3VjY2Vzc1wiKSl9Z2VuTWVzc2FnZShlLHQpe2NvbnN0IGk9W10sbj1bXSxyPVtdO3RoaXMucmVxdWVzdElkKz0xO2NvbnN0IHM9e2FwcElkOnRoaXMuam9pbkluZm8uYXBwSWQsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQudG9TdHJpbmcoKSxzZGtWZXJzaW9uOk9DLHNpZDp0aGlzLnNpZCx0czpEYXRlLm5vdygpLHJlcXVlc3RJZDp0aGlzLnJlcXVlc3RJZCxzZXE6dGhpcy5yZXF1ZXN0SWQsYWxsb2NhdGU6ITAsY2xpZW50UmVxdWVzdDp7fX07XCI0LjE5LjNcIj09PXMuc2RrVmVyc2lvbiYmKHMuc2RrVmVyc2lvbj1cIjAuMC4xXCIpO2xldCBvPW51bGwsYT1udWxsO3N3aXRjaChlKXtjYXNlIHp2LlNldFNka1Byb2ZpbGU6cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNka1Byb2ZpbGVcIix0eXBlOlwibXVsdGlfY2hhbm5lbFwifSxzO2Nhc2UgenYuU2V0U291cmNlQ2hhbm5lbDppZihhPXQmJnQuZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpLCFhKXRocm93IG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHNvdXJjZSBjb25maWdcIik7cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNvdXJjZUNoYW5uZWxcIix1aWQ6XCIwXCIsY2hhbm5lbE5hbWU6YS5jaGFubmVsTmFtZSx0b2tlbjphLnRva2VufHx0aGlzLmpvaW5JbmZvLmFwcElkfSxzO2Nhc2UgenYuU2V0U291cmNlVXNlcklkOmlmKGE9dCYmdC5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksIWEpdGhyb3cgbmV3IHh2KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc291cmNlIGNvbmZpZ1wiKTtyZXR1cm4gcy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0U291cmNlVXNlcklkXCIsdWlkOmEudWlkK1wiXCJ9LHM7Y2FzZSB6di5TZXREZXN0Q2hhbm5lbDppZihvPXQmJnQuZ2V0RGVzdENoYW5uZWxNZWRpYUluZm8oKSwhbyl0aHJvdyBuZXcgeHYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBkZXN0IGNvbmZpZ1wiKTtyZXR1cm4gby5mb3JFYWNoKChlPT57aS5wdXNoKGUuY2hhbm5lbE5hbWUpLG4ucHVzaChlLnVpZCtcIlwiKSxyLnB1c2goZS50b2tlbnx8dGhpcy5qb2luSW5mby5hcHBJZCl9KSkscy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0RGVzdENoYW5uZWxcIixjaGFubmVsTmFtZTppLHVpZDpuLHRva2VuOnJ9LHM7Y2FzZSB6di5TdGFydFBhY2tldFRyYW5zZmVyOnJldHVybiBzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTdGFydFBhY2tldFRyYW5zZmVyXCJ9LHM7Y2FzZSB6di5SZWNvbm5lY3Q6cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlJlY29ubmVjdFwifSxzO2Nhc2UgenYuU3RvcFBhY2tldFRyYW5zZmVyOnJldHVybiBzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTdG9wUGFja2V0VHJhbnNmZXJcIn0scztjYXNlIHp2LlVwZGF0ZURlc3RDaGFubmVsOmlmKG89dCYmdC5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mbygpLCFvKXRocm93IG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIGRlc3QgY29uZmlnXCIpO3JldHVybiBvLmZvckVhY2goKGU9PntpLnB1c2goZS5jaGFubmVsTmFtZSksbi5wdXNoKGUudWlkK1wiXCIpLHIucHVzaChlLnRva2VufHx0aGlzLmpvaW5JbmZvLmFwcElkKX0pKSxzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJVcGRhdGVEZXN0Q2hhbm5lbFwiLGNoYW5uZWxOYW1lOmksdWlkOm4sdG9rZW46cn0scztjYXNlIHp2LlNldFZpZGVvUHJvZmlsZTpzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXRWaWRlb1Byb2ZpbGVcIix3aWR0aDp0aGlzLl9yZXNvbHV0aW9uLndpZHRoLGhlaWdodDp0aGlzLl9yZXNvbHV0aW9uLmhlaWdodH19cmV0dXJuIHN9fWNsYXNzIE5Qe2dldCBoYXNWaWRlbygpe3JldHVybiB0aGlzLl92aWRlb19lbmFibGVkXyYmIXRoaXMuX3ZpZGVvX211dGVkXyYmdGhpcy5fdmlkZW9fYWRkZWRffWdldCBoYXNBdWRpbygpe3JldHVybiB0aGlzLl9hdWRpb19lbmFibGVkXyYmIXRoaXMuX2F1ZGlvX211dGVkXyYmdGhpcy5fYXVkaW9fYWRkZWRffWdldCBhdWRpb1RyYWNrKCl7aWYodGhpcy5oYXNBdWRpbylyZXR1cm4gdGhpcy5fYXVkaW9UcmFja31nZXQgdmlkZW9UcmFjaygpe2lmKHRoaXMuaGFzVmlkZW8pcmV0dXJuIHRoaXMuX3ZpZGVvVHJhY2t9Z2V0IGRhdGFDaGFubmVscygpe3JldHVybiB0aGlzLl9kYXRhQ2hhbm5lbHN9Y29uc3RydWN0b3IoZSx0KXtudSh0aGlzLFwidWlkXCIsdm9pZCAwKSxudSh0aGlzLFwiX3VpbnRpZFwiLHZvaWQgMCksbnUodGhpcyxcIl90cnVzdF9pbl9yb29tX1wiLCEwKSxudSh0aGlzLFwiX3RydXN0X2F1ZGlvX2VuYWJsZWRfc3RhdGVfXCIsITApLG51KHRoaXMsXCJfdHJ1c3RfdmlkZW9fZW5hYmxlZF9zdGF0ZV9cIiwhMCksbnUodGhpcyxcIl90cnVzdF9hdWRpb19tdXRlX3N0YXRlX1wiLCEwKSxudSh0aGlzLFwiX3RydXN0X3ZpZGVvX211dGVfc3RhdGVfXCIsITApLG51KHRoaXMsXCJfYXVkaW9fbXV0ZWRfXCIsITEpLG51KHRoaXMsXCJfdmlkZW9fbXV0ZWRfXCIsITEpLG51KHRoaXMsXCJfYXVkaW9fZW5hYmxlZF9cIiwhMCksbnUodGhpcyxcIl92aWRlb19lbmFibGVkX1wiLCEwKSxudSh0aGlzLFwiX2F1ZGlvX2FkZGVkX1wiLCExKSxudSh0aGlzLFwiX3ZpZGVvX2FkZGVkX1wiLCExKSxudSh0aGlzLFwiX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV9cIiwhMCksbnUodGhpcyxcIl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfXCIsITApLG51KHRoaXMsXCJfYXVkaW9UcmFja1wiLHZvaWQgMCksbnUodGhpcyxcIl92aWRlb1RyYWNrXCIsdm9pZCAwKSxudSh0aGlzLFwiX2RhdGFDaGFubmVsc1wiLFtdKSxudSh0aGlzLFwiX2F1ZGlvU1NSQ1wiLHZvaWQgMCksbnUodGhpcyxcIl92aWRlb1NTUkNcIix2b2lkIDApLG51KHRoaXMsXCJfYXVkaW9PcnRjXCIsdm9pZCAwKSxudSh0aGlzLFwiX3ZpZGVvT3J0Y1wiLHZvaWQgMCksbnUodGhpcyxcIl9jbmFtZVwiLHZvaWQgMCksbnUodGhpcyxcIl9ydHhTc3JjSWRcIix2b2lkIDApLHRoaXMudWlkPWUsdGhpcy5fdWludGlkPXR9fXZhciBEUD1lZyxQUD1ybTtrbih7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOiEwfSx7d2l0aFJlc29sdmVyczpmdW5jdGlvbigpe3ZhciBlPVBQLmYodGhpcyk7cmV0dXJue3Byb21pc2U6ZS5wcm9taXNlLHJlc29sdmU6ZS5yZXNvbHZlLHJlamVjdDplLnJlamVjdH19fSk7dmFyIExQPXJtLGtQPUZFO2tuKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6ITB9LHt0cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9TFAuZih0aGlzKSxpPWtQKGUpO3JldHVybihpLmVycm9yP3QucmVqZWN0OnQucmVzb2x2ZSkoaS52YWx1ZSksdC5wcm9taXNlfX0pO3ZhciBNUD1KKERQKSxVUD1Gby5mKFwiYXN5bmNJdGVyYXRvclwiKSx4UD1KKFVQKTtmdW5jdGlvbiBWUChlLHQpe3RoaXMudj1lLHRoaXMuaz10fWZ1bmN0aW9uIEZQKGUpe3ZhciB0LGk7ZnVuY3Rpb24gbih0LGkpe3RyeXt2YXIgcz1lW3RdKGkpLG89cy52YWx1ZSxhPW8gaW5zdGFuY2VvZiBWUDtNUC5yZXNvbHZlKGE/by52Om8pLnRoZW4oKGZ1bmN0aW9uKGkpe2lmKGEpe3ZhciBjPVwicmV0dXJuXCI9PT10P1wicmV0dXJuXCI6XCJuZXh0XCI7aWYoIW8ua3x8aS5kb25lKXJldHVybiBuKGMsaSk7aT1lW2NdKGkpLnZhbHVlfXIocy5kb25lP1wicmV0dXJuXCI6XCJub3JtYWxcIixpKX0pLChmdW5jdGlvbihlKXtuKFwidGhyb3dcIixlKX0pKX1jYXRjaChlKXtyKFwidGhyb3dcIixlKX19ZnVuY3Rpb24gcihlLHIpe3N3aXRjaChlKXtjYXNlXCJyZXR1cm5cIjp0LnJlc29sdmUoe3ZhbHVlOnIsZG9uZTohMH0pO2JyZWFrO2Nhc2VcInRocm93XCI6dC5yZWplY3Qocik7YnJlYWs7ZGVmYXVsdDp0LnJlc29sdmUoe3ZhbHVlOnIsZG9uZTohMX0pfSh0PXQubmV4dCk/bih0LmtleSx0LmFyZyk6aT1udWxsfXRoaXMuX2ludm9rZT1mdW5jdGlvbihlLHIpe3JldHVybiBuZXcgTVAoKGZ1bmN0aW9uKHMsbyl7dmFyIGE9e2tleTplLGFyZzpyLHJlc29sdmU6cyxyZWplY3Q6byxuZXh0Om51bGx9O2k/aT1pLm5leHQ9YToodD1pPWEsbihlLHIpKX0pKX0sXCJmdW5jdGlvblwiIT10eXBlb2YgZS5yZXR1cm4mJih0aGlzLnJldHVybj12b2lkIDApfWZ1bmN0aW9uIEJQKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgRlAoZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBqUChlKXtyZXR1cm4gbmV3IFZQKGUsMCl9ZnVuY3Rpb24gR1AoZSl7dmFyIHQ9e30saT0hMTtmdW5jdGlvbiBuKHQsbil7cmV0dXJuIGk9ITAse2RvbmU6ITEsdmFsdWU6bmV3IFZQKG49bmV3IE1QKChmdW5jdGlvbihpKXtpKGVbdF0obikpfSkpLDEpfX1yZXR1cm4gdFt2b2lkIDAhPT1VaCYmJGh8fFwiQEBpdGVyYXRvclwiXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0Lm5leHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/KGk9ITEsZSk6bihcIm5leHRcIixlKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgZS50aHJvdyYmKHQudGhyb3c9ZnVuY3Rpb24oZSl7aWYoaSl0aHJvdyBpPSExLGU7cmV0dXJuIG4oXCJ0aHJvd1wiLGUpfSksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZXR1cm4mJih0LnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gaT8oaT0hMSxlKTpuKFwicmV0dXJuXCIsZSl9KSx0fUZQLnByb3RvdHlwZVtcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaCYmeFB8fFwiQEBhc3luY0l0ZXJhdG9yXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEZQLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UoXCJuZXh0XCIsZSl9LEZQLnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKFwidGhyb3dcIixlKX0sRlAucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKFwicmV0dXJuXCIsZSl9O3ZhciBXUD1KKFVQKSxIUD17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSgoKT0+e3ZhciBlPXs4OihlLHQsaSk9PntpLnIodCksaS5kKHQse1BhcnNlcjooKT0+QyxQcmludGVyOigpPT5iLHBhcnNlOigpPT5ELHByaW50OigpPT5QfSk7Y29uc3Qgbj1cIlxcblwiLHI9XCJcIi5jb25jYXQoXCJcXHJcIikuY29uY2F0KG4pLHM9XCIgXCI7bGV0IG87ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT49XCIwXCImJmU8PVwiOVwifWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU+PVwiIVwiJiZlPD1cIn5cIn1mdW5jdGlvbiBkKGUpe3JldHVybiBjKGUpfHxlPj1cIsKAXCImJmU8PVwiw79cIn1mdW5jdGlvbiBsKGUpe3JldHVyblwiIVwiPT09ZXx8ZT49XCIjXCImJmU8PVwiJ1wifHxlPj1cIipcIiYmZTw9XCIrXCJ8fGU+PVwiLVwiJiZlPD1cIi5cInx8ZT49XCIwXCImJmU8PVwiOVwifHxlPj1cIkFcIiYmZTw9XCJaXCJ8fGU+PVwiXlwiJiZlPD1cIn5cIn1mdW5jdGlvbiBoKGUpe3JldHVybiBlPj1cIjFcIiYmZTw9XCI5XCJ9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZT49XCJBXCImJmU8PVwiWlwifHxlPj1cImFcIiYmZTw9XCJ6XCJ9ZnVuY3Rpb24gcChlKXtyZXR1cm5cImRcIj09PWV8fFwiaFwiPT09ZXx8XCJtXCI9PT1lfHxcInNcIj09PWV9ZnVuY3Rpb24gXyhlKXtyZXR1cm4gZT5cIlx1MDAwMVwiJiZlPFwiXFx0XCJ8fGU+XCJcXHZcIiYmZTxcIlxcZlwifHxlPlwiXHUwMDBlXCImJmU8XCLDv1wifWZ1bmN0aW9uIEUoZSl7cmV0dXJuIHUoZSl8fGEoZSl8fFwiK1wiPT09ZXx8XCIvXCI9PT1lfWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGEoZSl8fHUoZSl8fFwiK1wiPT09ZXx8XCIvXCI9PT1lfHxcIi1cIj09PWV8fFwiX1wiPT09ZX1mdW5jdGlvbiBmKGUpe3JldHVybiB1KGUpfHxhKGUpfHxcIitcIj09PWV8fFwiL1wiPT09ZX1mdW5jdGlvbiBnKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBUKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2coT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtTKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpnKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIFMoZSx0LGkpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfSFmdW5jdGlvbihlKXtlLlZFUlNJT049XCJ2XCIsZS5PUklHSU49XCJvXCIsZS5TRVNTSU9OX05BTUU9XCJzXCIsZS5JTkZPUk1BVElPTj1cImlcIixlLlVSST1cInVcIixlLkVNQUlMPVwiZVwiLGUuUEhPTkU9XCJwXCIsZS5DT05ORUNUSU9OPVwiY1wiLGUuQkFORFdJRFRIPVwiYlwiLGUuVElNRT1cInRcIixlLlJFUEVBVD1cInJcIixlLlpPTkVfQURKVVNUTUVOVFM9XCJ6XCIsZS5LRVk9XCJrXCIsZS5BVFRSSUJVVEU9XCJhXCIsZS5NRURJQT1cIm1cIn0ob3x8KG89e30pKTtjbGFzcyBSe2NvbnN1bWVUZXh0KGUsdCl7bGV0IGk9dDtmb3IoO2k8ZS5sZW5ndGg7KXtjb25zdCB0PWVbaV07aWYoXCJcXDBcIj09PXR8fFwiXFxyXCI9PT10fHx0PT09bilicmVhaztpKz0xfWlmKGktdD09MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRleHQsIGF0IFwiLmNvbmNhdChlKSk7cmV0dXJuIGl9Y29uc3VtZVVuaWNhc3RBZGRyZXNzKGUsdCxpKXtyZXR1cm4gdGhpcy5jb25zdW1lVGlsbChlLHQscyl9Y29uc3VtZU9uZU9yTW9yZShlLHQsaSl7bGV0IG49dDtmb3IoO2koZVtuXSk7KW4rKztpZihuLXQ9PTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBydWxlIGF0IFwiLmNvbmNhdCh0LFwiLlwiKSk7cmV0dXJuIG59Y29uc3VtZVNwYWNlKGUsdCl7aWYoZVt0XT09PXMpcmV0dXJuIHQrMTt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNwYWNlIGF0IFwiLmNvbmNhdCh0LFwiLlwiKSl9Y29uc3VtZUlQNEFkZHJlc3MoZSx0KXtsZXQgaT10O2ZvcihsZXQgdD0wO3Q8NDt0KyspaWYoaT10aGlzLmNvbnN1bWVEZWNpbWFsVUNoYXIoZSxpKSwzIT09dCl7aWYoXCIuXCIhPT1lW2ldKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSVA0IGFkZHJlc3MuXCIpO2krK31yZXR1cm4gaX1jb25zdW1lRGVjaW1hbFVDaGFyKGUsdCl7bGV0IGk9dDtmb3IobGV0IHQ9MDt0PDMmJmEoZVtpXSk7dCsrLGkrKyk7aWYoaS10PT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGVjaW1hbCB1Y2hhci5cIik7Y29uc3Qgbj1wYXJzZUludChlLnNsaWNlKHQsaSkpO2lmKG4+PTAmJm48PTI1NSlyZXR1cm4gaTt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRlY2ltYWwgdWNoYXJcIil9Y29uc3VtZUlQNkFkZHJlc3MoZSx0KXtsZXQgaT10aGlzLmNvbnN1bWVIZXhwYXJ0KGUsdCk7cmV0dXJuXCI6XCI9PT1lW2ldPyhpKz0xLGk9dGhpcy5jb25zdW1lSVA0QWRkcmVzcyhlLGkpLGkpOml9Y29uc3VtZUhleHBhcnQoZSx0KXtsZXQgaT10O2lmKFwiOlwiPT09ZVtpXSYmXCI6XCI9PT1lW2krMV0pe2krPTI7dHJ5e2k9dGhpcy5jb25zdW1lSGV4c2VxKGUsaSl9Y2F0Y2goZSl7fXJldHVybiBpfWlmKGk9dGhpcy5jb25zdW1lSGV4c2VxKGUsaSksXCI6XCI9PT1lW2ldJiZcIjpcIj09PWVbaSsxXSl7aSs9Mjt0cnl7aT10aGlzLmNvbnN1bWVIZXhzZXEoZSxpKX1jYXRjaChlKXt9cmV0dXJuIGl9cmV0dXJuIGl9Y29uc3VtZUhleHNlcShlLHQpe2xldCBpPXQ7Zm9yKDtpPXRoaXMuY29uc3VtZUhleDQoZSxpKSxcIjpcIj09PWVbaV0mJlwiOlwiIT09ZVtpKzFdOylpKz0xO3JldHVybiBpfWNvbnN1bWVIZXg0KGUsdCl7bGV0IGk9MDtmb3IoO2k8NDtpKyspaWYoISgobj1lW3QraV0pPj1cIjBcIiYmbjw9XCI5XCJ8fG4+PVwiYVwiJiZuPD1cImZcInx8bj49XCJBXCImJm48PVwiRlwiKSl7aWYoMD09PWkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoZXggNFwiKTticmVha312YXIgbjtyZXR1cm4gdCtpfWNvbnN1bWVGUUROKGUsdCl7bGV0IGk9dDtmb3IoO2EoZVtpXSl8fHUoZVtpXSl8fFwiLVwiPT09ZVtpXXx8XCIuXCI9PT1lW2ldOylpKz0xO2lmKGktdDw0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgRlFETlwiKTtyZXR1cm4gaX1jb25zdW1lRXh0bkFkZHIoZSx0KXtyZXR1cm4gdGhpcy5jb25zdW1lT25lT3JNb3JlKGUsdCxkKX1jb25zdW1lTXVsdGljYXN0QWRkcmVzcyhlLHQsaSl7c3dpdGNoKGkpe2Nhc2VcIklQNFwiOmNhc2VcImlwNFwiOnJldHVybiB0aGlzLmNvbnN1bWVJUDRNdWx0aWNhc3RBZGRyZXNzKGUsdCk7Y2FzZVwiSVA2XCI6Y2FzZVwiaXA2XCI6cmV0dXJuIHRoaXMuY29uc3VtZUlQNk11bHRpY2FzdEFkZHJlc3MoZSx0KTtkZWZhdWx0OnRyeXtyZXR1cm4gdGhpcy5jb25zdW1lRlFETihlLHQpfWNhdGNoKGkpe3JldHVybiB0aGlzLmNvbnN1bWVFeHRuQWRkcihlLHQpfX19Y29uc3VtZUlQNk11bHRpY2FzdEFkZHJlc3MoZSx0KXtjb25zdCBpPXRoaXMuY29uc3VtZUhleHBhcnQoZSx0KTtyZXR1cm5cIi9cIj09PWVbaV0/dGhpcy5jb25zdW1lSW50ZWdlcihlLGkrMSk6aX1jb25zdW1lSVA0TXVsdGljYXN0QWRkcmVzcyhlLHQpe2xldCBpPXQrMztjb25zdCBuPWUuc2xpY2UodCxpKSxyPXBhcnNlSW50KG4pO2lmKHI8MjI0fHxyPjIzOSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIElQNCBtdWx0aWNhc3QgYWRkcmVzcywgSVB2NCBtdWx0aWNhc3QgYWRkcmVzc2VzIG1heSBiZSBpbiB0aGUgcmFuZ2UgMjI0LjAuMC4wIHRvIDIzOS4yNTUuMjU1LjI1NS5cIik7Zm9yKGxldCB0PTA7dDwzO3QrKyl7aWYoXCIuXCIhPT1lW2ldKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSVA0IG11bHRpY2FzdCBhZGRyZXNzLlwiKTtpKz0xLGk9dGhpcy5jb25zdW1lRGVjaW1hbFVDaGFyKGUsaSl9cmV0dXJuXCIvXCI9PT1lW2ldJiYoaSs9MSksaT10aGlzLmNvbnN1bWVUVEwoZSxpKSxcIi9cIj09PWVbaV0mJihpPXRoaXMuY29uc3VtZUludGVnZXIoZSxpKSksaX1jb25zdW1lSW50ZWdlcihlLHQpe2lmKCFoKGVbdF0pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW50ZWdlci5cIik7Zm9yKHQrPTE7YShlW3RdKTspdCs9MTtyZXR1cm4gdH1jb25zdW1lVFRMKGUsdCl7aWYoXCIwXCI9PT1lW3RdKXJldHVybiB0KzE7aWYoIWgoZVt0XSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBUVEwuXCIpO3QrPTE7Zm9yKGxldCBpPTA7aTwyJiZhKGVbdF0pO2krKyl0Kz0xO3JldHVybiB0fWNvbnN1bWVUb2tlbihlLHQpe3JldHVybiB0aGlzLmNvbnN1bWVPbmVPck1vcmUoZSx0LGwpfWNvbnN1bWVUaW1lKGUsdCl7bGV0IGk9dDtpZihcIjBcIj09PWVbaV0pcmV0dXJuIGkrMTtmb3IoaChlW2ldKSYmKGkrPTEpO2EoZVtpXSk7KWkrKztpZihpLXQ8MTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0aW1lXCIpO3JldHVybiBpfWNvbnN1bWVBZGRyZXNzKGUsdCl7cmV0dXJuIHRoaXMuY29uc3VtZVRpbGwoZSx0LHMpfWNvbnN1bWVUeXBlZFRpbWUoZSx0KXtsZXQgaT10O3JldHVybiBpPXRoaXMuY29uc3VtZU9uZU9yTW9yZShlLGksYSkscChlW2ldKT9pKzE6aX1jb25zdW1lUmVwZWF0SW50ZXJ2YWwoZSx0KXtpZighaChlW3RdKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlcGVhdCBpbnRlcnZhbFwiKTtmb3IodCs9MTthKGVbdF0pOyl0Kz0xO3JldHVybiBwKGVbdF0pJiYodCs9MSksdH1jb25zdW1lUG9ydChlLHQpe3JldHVybiB0aGlzLmNvbnN1bWVPbmVPck1vcmUoZSx0LGEpfWNvbnN1bWUoZSx0LGkpe2ZvcihsZXQgbj0wO248aS5sZW5ndGg7bisrKXtpZih0K24+PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImNvbnN1bWUgZXhjZWVkaW5nIHZhbHVlIGxlbmd0aFwiKTtpZihlW3Qrbl0hPT1pW25dKXRocm93IG5ldyBFcnJvcihcImNvbnN1bWUgXCIuY29uY2F0KGksXCIgZmFpbGVkIGF0IFwiKS5jb25jYXQobikpfXJldHVybiB0K2kubGVuZ3RofWNvbnN1bWVUaWxsKGUsdCxpKXtsZXQgbj10O2Zvcig7bjxlLmxlbmd0aCYmKFwic3RyaW5nXCIhPXR5cGVvZiBpfHxlW25dIT09aSkmJihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpfHwhaShlW25dKSk7KW4rKztyZXR1cm4gbn19Y2xhc3MgQyBleHRlbmRzIFJ7Y29uc3RydWN0b3IoKXtzdXBlcigpLFModGhpcyxcInJlY29yZHNcIixbXSksUyh0aGlzLFwiY3VycmVudExpbmVcIiwwKX1wYXJzZShlKXtjb25zdCB0PXRoaXMucHJvYmVFT0woZSk7dGhpcy5yZWNvcmRzPWUuc3BsaXQodCkuZmlsdGVyKChlPT4hIWUudHJpbSgpKSkubWFwKHRoaXMucGFyc2VMaW5lKSx0aGlzLmN1cnJlbnRMaW5lPTA7Y29uc3QgaT10aGlzLnBhcnNlVmVyc2lvbigpLG49dGhpcy5wYXJzZU9yaWdpbigpLHI9dGhpcy5wYXJzZVNlc3Npb25OYW1lKCkscz10aGlzLnBhcnNlSW5mb3JtYXRpb24oKSxvPXRoaXMucGFyc2VVcmkoKSxhPXRoaXMucGFyc2VFbWFpbCgpLGM9dGhpcy5wYXJzZVBob25lKCksZD10aGlzLnBhcnNlQ29ubmVjdGlvbigpLGw9dGhpcy5wYXJzZUJhbmRXaWR0aCgpLGg9dGhpcy5wYXJzZVRpbWVGaWVsZHMoKSx1PXRoaXMucGFyc2VLZXkoKSxwPXRoaXMucGFyc2VTZXNzaW9uQXR0cmlidXRlKCksXz10aGlzLnBhcnNlTWVkaWFEZXNjcmlwdGlvbigpO2lmKHRoaXMuY3VycmVudExpbmUhPT10aGlzLnJlY29yZHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInBhcnNpbmcgZmFpbGVkLCBub24gZXhoYXVzdGl2ZSBzZHAgbGluZXMuXCIpO3JldHVybnt2ZXJzaW9uOmksb3JpZ2luOm4sc2Vzc2lvbk5hbWU6cixpbmZvcm1hdGlvbjpzLHVyaTpvLGVtYWlsczphLHBob25lczpjLGNvbm5lY3Rpb246ZCxiYW5kd2lkdGhzOmwsdGltZUZpZWxkczpoLGtleTp1LGF0dHJpYnV0ZXM6cCxtZWRpYURlc2NyaXB0aW9uczpffX1nZXRDdXJyZW50UmVjb3JkKCl7Y29uc3QgZT10aGlzLnJlY29yZHNbdGhpcy5jdXJyZW50TGluZV07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiUmVjb3JkIGRvZXNuJ3QgZXhpdC5cIik7cmV0dXJuIGV9cHJvYmVFT0woZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XT09PW4pcmV0dXJuXCJcXHJcIj09PWVbdC0xXT9yOm47dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBuZXdsaW5lIGNoYXJhY3Rlci5cIil9cGFyc2VMaW5lKGUsdCl7aWYoZS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNkcCBsaW5lLCBzZHAgbGluZSBzaG91bGQgYmUgb2YgZm9ybSA8dHlwZT49PHZhbHVlPi5cIik7Y29uc3QgaT1lWzBdO2lmKFwiPVwiIT09ZVsxXSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2RwIGxpbmUsIDx0eXBlPiBzaG91bGQgYmUgYSBzaW5nbGUgY2hhcmFjdGVyIGZvbGxvd2VkIGJ5IGFuIFwiPVwiIHNpZ24uJyk7cmV0dXJue3R5cGU6aSx2YWx1ZTplLnNsaWNlKDIpLGxpbmU6dCxjdXI6MH19cGFyc2VTZXNzaW9uQXR0cmlidXRlKCl7Y29uc3QgZT1uZXcgSTtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aDspe2NvbnN0IHQ9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYodC50eXBlIT09by5BVFRSSUJVVEUpYnJlYWs7Y29uc3QgaT17YXR0RmllbGQ6dGhpcy5leHRyYWN0T25lT3JNb3JlKHQsKGU9PmwoZSkmJlwiOlwiIT09ZSkpLF9jdXI6MH07XCI6XCI9PT10LnZhbHVlW3QuY3VyXSYmKHQuY3VyKz0xLGkuYXR0VmFsdWU9dGhpcy5leHRyYWN0T25lT3JNb3JlKHQsXykpLGUucGFyc2UoaSksdGhpcy5jdXJyZW50TGluZSsrfXJldHVybiBlLmRpZ2VzdCgpfXBhcnNlTWVkaWFBdHRyaWJ1dGVzKGUpe2NvbnN0IHQ9bmV3IHkoZSk7Zm9yKDt0aGlzLmN1cnJlbnRMaW5lPHRoaXMucmVjb3Jkcy5sZW5ndGg7KXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZSE9PW8uQVRUUklCVVRFKWJyZWFrO2NvbnN0IGk9e2F0dEZpZWxkOnRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLChlPT5sKGUpJiZcIjpcIiE9PWUpKSxfY3VyOjB9O1wiOlwiPT09ZS52YWx1ZVtlLmN1cl0mJihlLmN1cis9MSxpLmF0dFZhbHVlPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLF8pKSx0LnBhcnNlKGkpLHRoaXMuY3VycmVudExpbmUrK31yZXR1cm4gdC5kaWdlc3QoKX1wYXJzZUtleSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlPT09by5LRVkpe2lmKFwicHJvbXB0XCI9PT1lLnZhbHVlfHxcImNsZWFyOlwiPT09ZS52YWx1ZXx8XCJiYXNlNjQ6XCI9PT1lLnZhbHVlfHxcInVyaTpcIj09PWUudmFsdWUpcmV0dXJuIGUudmFsdWU7dGhyb3cgdGhpcy5jdXJyZW50TGluZSsrLG5ldyBFcnJvcihcIkludmFsaWQga2V5LlwiKX19cGFyc2Vab25lKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGU9PT1vLlpPTkVfQURKVVNUTUVOVFMpe2NvbnN0IHQ9W107Zm9yKDs7KXRyeXtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbWUpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2xldCBuPSExO1wiLVwiPT09ZS52YWx1ZVtlLmN1cl0mJihuPSEwLGUuY3VyKz0xKTtjb25zdCByPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVR5cGVkVGltZSk7dC5wdXNoKHt0aW1lOmksdHlwZWRUaW1lOnIsYmFjazpufSl9Y2F0Y2goZSl7YnJlYWt9aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgem9uZSBhZGp1c3RtZW50c1wiKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHR9cmV0dXJuW119cGFyc2VSZXBlYXQoKXtjb25zdCBlPVtdO2Zvcig7Oyl7Y29uc3QgdD10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZih0LnR5cGUhPT1vLlJFUEVBVClicmVhazt7Y29uc3QgaT10aGlzLmV4dHJhY3QodCx0aGlzLmNvbnN1bWVSZXBlYXRJbnRlcnZhbCksbj10aGlzLnBhcnNlVHlwZWRUaW1lKHQpO2UucHVzaCh7cmVwZWF0SW50ZXJ2YWw6aSx0eXBlZFRpbWVzOm59KSx0aGlzLmN1cnJlbnRMaW5lKyt9fXJldHVybiBlfXBhcnNlVHlwZWRUaW1lKGUpe2NvbnN0IHQ9W107Zm9yKDs7KXRyeXt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKSx0LnB1c2godGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVHlwZWRUaW1lKSl9Y2F0Y2goZSl7YnJlYWt9aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZWQgdGltZS5cIik7cmV0dXJuIHR9cGFyc2VUaW1lKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKSx0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbWUpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGltZSk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7c3RhcnRUaW1lOnQsc3RvcFRpbWU6aX19cGFyc2VCYW5kV2lkdGgoKXtjb25zdCBlPVtdO2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoOyl7Y29uc3QgdD10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZih0LnR5cGUhPT1vLkJBTkRXSURUSClicmVhazt7Y29uc3QgaT10aGlzLmV4dHJhY3RPbmVPck1vcmUodCxsKTtpZihcIjpcIiE9PXQudmFsdWVbdC5jdXJdKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFuZHdpZHRoIGZpZWxkLlwiKTt0LmN1cisrO2NvbnN0IG49dGhpcy5leHRyYWN0T25lT3JNb3JlKHQsYSk7ZS5wdXNoKHtid3R5cGU6aSxiYW5kd2lkdGg6bn0pLHRoaXMuY3VycmVudExpbmUrK319cmV0dXJuIGV9cGFyc2VWZXJzaW9uKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGUhPT1vLlZFUlNJT04pdGhyb3cgbmV3IEVycm9yKFwiZmlyc3Qgc2RwIHJlY29yZCBtdXN0IGJlIHZlcnNpb25cIik7Y29uc3QgdD1lLnZhbHVlLnNsaWNlKDAsdGhpcy5jb25zdW1lT25lT3JNb3JlKGUudmFsdWUsMCxhKSk7aWYodC5sZW5ndGghPT1lLnZhbHVlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcHJvdG8gdmVyc2lvbiwgXCJ2PScuY29uY2F0KGUudmFsdWUsJ1wiJykpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssdH1wYXJzZU9yaWdpbigpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlIT09by5PUklHSU4pdGhyb3cgbmV3IEVycm9yKFwic2Vjb25kIGxpbmUgb2Ygc2RwIG11c3QgYmUgb3JpZ2luXCIpO2NvbnN0IHQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsZCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBuPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IHI9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3Qgcz10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBjPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVVuaWNhc3RBZGRyZXNzKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHt1c2VybmFtZTp0LHNlc3NJZDppLHNlc3NWZXJzaW9uOm4sbmV0dHlwZTpyLGFkZHJ0eXBlOnMsdW5pY2FzdEFkZHJlc3M6Y319cGFyc2VTZXNzaW9uTmFtZSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlPT09by5TRVNTSU9OX05BTUUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGV4dCk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx0fX1wYXJzZUluZm9ybWF0aW9uKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGUhPT1vLklORk9STUFUSU9OKXJldHVybjtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRleHQpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssdH1wYXJzZVVyaSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlPT09by5VUkkpcmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyxlLnZhbHVlfXBhcnNlRW1haWwoKXtjb25zdCBlPVtdO2Zvcig7Oyl7Y29uc3QgdD10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZih0LnR5cGUhPT1vLkVNQUlMKWJyZWFrO2UucHVzaCh0LnZhbHVlKSx0aGlzLmN1cnJlbnRMaW5lKyt9cmV0dXJuIGV9cGFyc2VQaG9uZSgpe2NvbnN0IGU9W107Zm9yKDs7KXtjb25zdCB0PXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKHQudHlwZSE9PW8uUEhPTkUpYnJlYWs7ZS5wdXNoKHQudmFsdWUpLHRoaXMuY3VycmVudExpbmUrK31yZXR1cm4gZX1wYXJzZUNvbm5lY3Rpb24oKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZT09PW8uQ09OTkVDVElPTil7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBpPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lQWRkcmVzcyk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7bmV0dHlwZTp0LGFkZHJ0eXBlOmksYWRkcmVzczpufX19cGFyc2VNZWRpYSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCksdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7bGV0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lUG9ydCk7XCIvXCI9PT1lLnZhbHVlW2UuY3VyXSYmKGUuY3VyKz0xLGkrPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZUludGVnZXIpKSx0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBuPVtdO2ZvcihuLnB1c2godGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pKTtcIi9cIj09PWUudmFsdWVbZS5jdXJdOyllLmN1cis9MSxuLnB1c2godGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pKTtpZigwPT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcm90b1wiKTtjb25zdCByPXRoaXMucGFyc2VGbXQoZSk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7bWVkaWFUeXBlOnQscG9ydDppLHByb3RvczpuLGZtdHM6cn19cGFyc2VUaW1lRmllbGRzKCl7Y29uc3QgZT1bXTtmb3IoO3RoaXMuZ2V0Q3VycmVudFJlY29yZCgpLnR5cGU9PT1vLlRJTUU7KXtjb25zdCB0PXRoaXMucGFyc2VUaW1lKCksaT10aGlzLnBhcnNlUmVwZWF0KCksbj10aGlzLnBhcnNlWm9uZSgpO2UucHVzaCh7dGltZTp0LHJlcGVhdHM6aSx6b25lczpufSl9cmV0dXJuIGV9cGFyc2VNZWRpYURlc2NyaXB0aW9uKCl7Y29uc3QgZT1bXTtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aCYmdGhpcy5nZXRDdXJyZW50UmVjb3JkKCkudHlwZT09PW8uTUVESUE7KXtjb25zdCB0PXRoaXMucGFyc2VNZWRpYSgpLGk9dGhpcy5wYXJzZUluZm9ybWF0aW9uKCksbj10aGlzLnBhcnNlQ29ubmVjdGlvbnMoKSxyPXRoaXMucGFyc2VCYW5kV2lkdGgoKSxzPXRoaXMucGFyc2VLZXkoKSxvPXRoaXMucGFyc2VNZWRpYUF0dHJpYnV0ZXModCk7ZS5wdXNoKHttZWRpYTp0LGluZm9ybWF0aW9uOmksY29ubmVjdGlvbnM6bixiYW5kd2lkdGhzOnIsa2V5OnMsYXR0cmlidXRlczpvfSl9cmV0dXJuIGV9cGFyc2VDb25uZWN0aW9ucygpe2NvbnN0IGU9W107Zm9yKDt0aGlzLmN1cnJlbnRMaW5lPHRoaXMucmVjb3Jkcy5sZW5ndGgmJnRoaXMuZ2V0Q3VycmVudFJlY29yZCgpLnR5cGU9PT1vLkNPTk5FQ1RJT047KWUucHVzaCh0aGlzLnBhcnNlQ29ubmVjdGlvbigpKTtyZXR1cm4gZX1wYXJzZUZtdChlKXtjb25zdCB0PVtdO2Zvcig7Oyl0cnl7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSksdC5wdXNoKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSl9Y2F0Y2goZSl7YnJlYWt9aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZm10c1wiKTtyZXR1cm4gdH1leHRyYWN0KGUsdCwuLi5pKXtjb25zdCBuPXQuY2FsbCh0aGlzLGUudmFsdWUsZS5jdXIsLi4uaSkscj1lLnZhbHVlLnNsaWNlKGUuY3VyLG4pO3JldHVybiBlLmN1cj1uLHJ9ZXh0cmFjdE9uZU9yTW9yZShlLHQpe2NvbnN0IGk9dGhpcy5jb25zdW1lT25lT3JNb3JlKGUudmFsdWUsZS5jdXIsdCksbj1lLnZhbHVlLnNsaWNlKGUuY3VyLGkpO3JldHVybiBlLmN1cj1pLG59Y29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpe2lmKGUudmFsdWVbZS5jdXJdIT09cyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNwYWNlIGF0IFwiLmNvbmNhdChlLmN1cixcIi5cIikpO2UuY3VyKz0xfX1jbGFzcyB2IGV4dGVuZHMgUntjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSxTKHRoaXMsXCJhdHRyaWJ1dGVzXCIsdm9pZCAwKSxTKHRoaXMsXCJkaWdlc3RlZFwiLCExKX1leHRyYWN0T25lT3JNb3JlKGUsdCxpKXtjb25zdCBuPXRoaXMuY29uc3VtZU9uZU9yTW9yZShlLmF0dFZhbHVlLGUuX2N1cix0KSxyPWUuYXR0VmFsdWUuc2xpY2UoZS5fY3VyLG4pLFtzLG9dPWl8fFtdO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBzJiZyLmxlbmd0aDxzKXRocm93IG5ldyBFcnJvcihcImVycm9yIGluIGxlbmd0aCwgc2hvdWxkIGJlIG1vcmUgb3IgZXF1YWwgdGhhbiBcIi5jb25jYXQocyxcIiBjaGFyYWN0ZXJzLlwiKSk7aWYoXCJudW1iZXJcIj09dHlwZW9mIG8mJnIubGVuZ3RoPm8pdGhyb3cgbmV3IEVycm9yKFwiZXJyb3IgaW4gbGVuZ3RoLCBzaG91bGQgYmUgbGVzcyBvciBlcXVhbCB0aGFuIFwiLmNvbmNhdChvLFwiIGNoYXJhY3RlcnMuXCIpKTtyZXR1cm4gZS5fY3VyPW4scn1jb25zdW1lQXR0cmlidXRlU3BhY2UoZSl7aWYoZS5hdHRWYWx1ZVtlLl9jdXJdIT09cyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNwYWNlIGF0IFwiLmNvbmNhdChlLl9jdXIsXCIuXCIpKTtlLl9jdXIrPTF9ZXh0cmFjdChlLHQsLi4uaSl7aWYoIWUuYXR0VmFsdWUpdGhyb3cgbmV3IEVycm9yKFwiTm90aGluZyB0byBleHRyYWN0IGZyb20gYXR0VmFsdWUuXCIpO2NvbnN0IG49dC5jYWxsKHRoaXMsZS5hdHRWYWx1ZSxlLl9jdXIsLi4uaSkscj1lLmF0dFZhbHVlLnNsaWNlKGUuX2N1cixuKTtyZXR1cm4gZS5fY3VyPW4scn1hdEVuZChlKXtpZighZS5hdHRWYWx1ZSl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIGUuX2N1cj49ZS5hdHRWYWx1ZS5sZW5ndGh9cGVla0NoYXIoZSl7aWYoIWUuYXR0VmFsdWUpdGhyb3cgbmV3IEVycm9yO3JldHVybiBlLmF0dFZhbHVlW2UuX2N1cl19cGVlayhlLHQpe2lmKCFlLmF0dFZhbHVlKXRocm93IG5ldyBFcnJvcjtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldIT09ZS5hdHRWYWx1ZVtlLl9jdXIraV0pcmV0dXJuITE7cmV0dXJuITB9cGFyc2VJY2VVZnJhZyhlKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlVWZyYWcpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpY2UtdWZyYWcsIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGxpbmUgaWYgJ2E9aWNlLXVmcmFnJ1wiKTt0aGlzLmF0dHJpYnV0ZXMuaWNlVWZyYWc9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsRSxbNCwyNTZdKX1wYXJzZUljZVB3ZChlKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlUHdkKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaWNlLXB3ZCwgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgbGluZSBpZiAnYT1pY2UtcHdkJ1wiKTt0aGlzLmF0dHJpYnV0ZXMuaWNlUHdkPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLEUsWzIyLDI1Nl0pfXBhcnNlSWNlT3B0aW9ucyhlKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlT3B0aW9ucyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGljZS1vcHRpb25zLCBzaG91bGQgYmUgb25seSBvbmUgJ2ljZS1vcHRpb25zJyBsaW5lXCIpO2NvbnN0IHQ9W107Zm9yKDshdGhpcy5hdEVuZChlKTspe3QucHVzaCh0aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxFKSk7dHJ5e3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpfWNhdGNoKHQpe2lmKHRoaXMuYXRFbmQoZSkpYnJlYWs7dGhyb3cgdH19dGhpcy5hdHRyaWJ1dGVzLmljZU9wdGlvbnM9dH1wYXJzZUZpbmdlcnByaW50KGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCk7dGhpcy5hdHRyaWJ1dGVzLmZpbmdlcnByaW50cy5wdXNoKHtoYXNoRnVuY3Rpb246dCxmaW5nZXJwcmludDppfSl9cGFyc2VFeHRtYXAoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhKTtsZXQgaTtcIi9cIj09PXRoaXMucGVla0NoYXIoZSkmJih0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIvXCIpLGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwscykscj1UKFQoe2VudHJ5OnBhcnNlSW50KHQsMTApfSxpJiZ7ZGlyZWN0aW9uOml9KSx7fSx7ZXh0ZW5zaW9uTmFtZTpufSk7dGhpcy5wZWVrQ2hhcihlKT09PXMmJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSxyLmV4dGVuc2lvbkF0dHJpYnV0ZXM9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCkpLHRoaXMuYXR0cmlidXRlcy5leHRtYXBzLnB1c2gocil9cGFyc2VTZXR1cChlKXtpZih0aGlzLmF0dHJpYnV0ZXMuc2V0dXApdGhyb3cgbmV3IEVycm9yKFwibXVzdCBvbmx5IGJlIG9uZSBzaW5nbGUgJ2E9c2V0dXAnIGxpbmUuXCIpO2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCk7aWYoXCJhY3RpdmVcIiE9PXQmJlwicGFzc2l2ZVwiIT09dCYmXCJhY3RwYXNzXCIhPT10JiZcImhvbGRjb25uXCIhPT10KXRocm93IG5ldyBFcnJvcihcInJvbGUgbXVzdCBiZSBvbmUgb2YgJ2FjdGl2ZScsICdwYXNzaXZlJywgJ2FjdHBhc3MnLCAnaG9sZGNvbm4nLlwiKTt0aGlzLmF0dHJpYnV0ZXMuc2V0dXA9dH19Y2xhc3MgSSBleHRlbmRzIHZ7Y29uc3RydWN0b3IoLi4uZSl7c3VwZXIoLi4uZSksUyh0aGlzLFwiYXR0cmlidXRlc1wiLHt1bnJlY29nbml6ZWQ6W10sZ3JvdXBzOltdLGV4dG1hcHM6W10sZmluZ2VycHJpbnRzOltdLGlkZW50aXRpZXM6W119KX1wYXJzZShlKXtpZih0aGlzLmRpZ2VzdGVkKXRocm93IG5ldyBFcnJvcihcImFscmVhZHkgZGlnZXN0ZWRcIik7dHJ5e3N3aXRjaChlLmF0dEZpZWxkKXtjYXNlXCJncm91cFwiOnRoaXMucGFyc2VHcm91cChlKTticmVhaztjYXNlXCJpY2UtbGl0ZVwiOnRoaXMucGFyc2VJY2VMaXRlKCk7YnJlYWs7Y2FzZVwiaWNlLXVmcmFnXCI6dGhpcy5wYXJzZUljZVVmcmFnKGUpO2JyZWFrO2Nhc2VcImljZS1wd2RcIjp0aGlzLnBhcnNlSWNlUHdkKGUpO2JyZWFrO2Nhc2VcImljZS1vcHRpb25zXCI6dGhpcy5wYXJzZUljZU9wdGlvbnMoZSk7YnJlYWs7Y2FzZVwiZmluZ2VycHJpbnRcIjp0aGlzLnBhcnNlRmluZ2VycHJpbnQoZSk7YnJlYWs7Y2FzZVwic2V0dXBcIjp0aGlzLnBhcnNlU2V0dXAoZSk7YnJlYWs7Y2FzZVwidGxzLWlkXCI6dGhpcy5wYXJzZVRsc0lkKGUpO2JyZWFrO2Nhc2VcImlkZW50aXR5XCI6dGhpcy5wYXJzZUlkZW50aXR5KGUpO2JyZWFrO2Nhc2VcImV4dG1hcFwiOnRoaXMucGFyc2VFeHRtYXAoZSk7YnJlYWs7Y2FzZVwibXNpZC1zZW1hbnRpY1wiOnRoaXMucGFyc2VNc2lkU2VtYW50aWMoZSk7YnJlYWs7ZGVmYXVsdDplLmlnbm9yZWQ9ITAsdGhpcy5hdHRyaWJ1dGVzLnVucmVjb2duaXplZC5wdXNoKGUpfX1jYXRjaCh0KXt0aHJvdyBjb25zb2xlLmVycm9yKFwicGFyc2luZyBzZXNzaW9uIGF0dHJpYnV0ZSBcIi5jb25jYXQoZS5hdHRGaWVsZCwnIGVycm9yLCBcImE9JykuY29uY2F0KGUuYXR0RmllbGQsXCI6XCIpLmNvbmNhdChlLmF0dFZhbHVlLCdcIicpKSx0fWlmKCFlLmlnbm9yZWQmJmUuYXR0VmFsdWUmJiF0aGlzLmF0RW5kKGUpKXRocm93IG5ldyBFcnJvcihcImF0dHJpYnV0ZSBwYXJzaW5nIGVycm9yXCIpfWRpZ2VzdCgpe3JldHVybiB0aGlzLmRpZ2VzdGVkPSEwLHRoaXMuYXR0cmlidXRlc31wYXJzZUdyb3VwKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pLGk9W107Zm9yKDshdGhpcy5hdEVuZChlKSYmdGhpcy5wZWVrQ2hhcihlKT09PXM7KXRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLGkucHVzaCh0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbikpO3RoaXMuYXR0cmlidXRlcy5ncm91cHMucHVzaCh7c2VtYW50aWM6dCxpZGVudGlmaWNhdGlvblRhZzppfSl9cGFyc2VJY2VMaXRlKCl7aWYodGhpcy5hdHRyaWJ1dGVzLmljZUxpdGUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpY2UtbGl0ZSwgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgbGluZSBvZiAnYT1pY2UtbGl0ZSdcIik7dGhpcy5hdHRyaWJ1dGVzLmljZUxpdGU9ITB9cGFyc2VUbHNJZChlKXtpZih0aGlzLmF0dHJpYnV0ZXMudGxzSWQpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBvbmx5IG9uZSB0bGQtaWQgbGluZVwiKTt0aGlzLmF0dHJpYnV0ZXMudGxzSWQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbSl9cGFyc2VJZGVudGl0eShlKXtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGYpLGk9W107Zm9yKDshdGhpcy5hdEVuZChlKSYmdGhpcy5wZWVrQ2hhcihlKT09PXM7KXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCI9XCIpO2NvbnN0IG49dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsKGU9PmUhPT1zJiZfKGUpKSk7aS5wdXNoKHtuYW1lOnQsdmFsdWU6bn0pfXRoaXMuYXR0cmlidXRlcy5pZGVudGl0aWVzLnB1c2goe2Fzc2VydGlvblZhbHVlOnQsZXh0ZW5zaW9uczppfSl9cGFyc2VNc2lkU2VtYW50aWMoZSl7dGhpcy5wZWVrQ2hhcihlKT09PXMmJnRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHQ9e3NlbWFudGljOnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSxpZGVudGlmaWVyTGlzdDpbXX07Zm9yKDs7KXt0cnl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSl9Y2F0Y2goZSl7YnJlYWt9aWYoXCIqXCI9PT10aGlzLnBlZWtDaGFyKGUpKXt0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIqXCIpLHQuYXBwbHlGb3JBbGw9ITA7YnJlYWt9e2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxzKTt0LmlkZW50aWZpZXJMaXN0LnB1c2goaSl9fXRoaXMuYXR0cmlidXRlcy5tc2lkU2VtYW50aWM9dH19Y2xhc3MgeSBleHRlbmRzIHZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxTKHRoaXMsXCJhdHRyaWJ1dGVzXCIsdm9pZCAwKSwtMSE9PWUucHJvdG9zLmluZGV4T2YoXCJSVFBcIil8fGUucHJvdG9zLmluZGV4T2YoXCJydHBcIiksdGhpcy5hdHRyaWJ1dGVzPXt1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczpbXSxleHRtYXBzOltdLGZpbmdlcnByaW50czpbXSxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpbXSxzc3JjR3JvdXBzOltdLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpbXX19cGFyc2UoZSl7aWYodGhpcy5kaWdlc3RlZCl0aHJvdyBuZXcgRXJyb3IoXCJhbHJlYWR5IGRpZ2VzdGVkXCIpO3RyeXtzd2l0Y2goZS5hdHRGaWVsZCl7Y2FzZVwiZXh0bWFwXCI6dGhpcy5wYXJzZUV4dG1hcChlKTticmVhaztjYXNlXCJzZXR1cFwiOnRoaXMucGFyc2VTZXR1cChlKTticmVhaztjYXNlXCJpY2UtdWZyYWdcIjp0aGlzLnBhcnNlSWNlVWZyYWcoZSk7YnJlYWs7Y2FzZVwiaWNlLXB3ZFwiOnRoaXMucGFyc2VJY2VQd2QoZSk7YnJlYWs7Y2FzZVwiaWNlLW9wdGlvbnNcIjp0aGlzLnBhcnNlSWNlT3B0aW9ucyhlKTticmVhaztjYXNlXCJjYW5kaWRhdGVcIjp0aGlzLnBhcnNlQ2FuZGlkYXRlKGUpO2JyZWFrO2Nhc2VcInJlbW90ZS1jYW5kaWRhdGVcIjp0aGlzLnBhcnNlUmVtb3RlQ2FuZGlkYXRlKGUpO2JyZWFrO2Nhc2VcImVuZC1vZi1jYW5kaWRhdGVzXCI6dGhpcy5wYXJzZUVuZE9mQ2FuZGlkYXRlcygpO2JyZWFrO2Nhc2VcImZpbmdlcnByaW50XCI6dGhpcy5wYXJzZUZpbmdlcnByaW50KGUpO2JyZWFrO2Nhc2VcInJ0cG1hcFwiOnRoaXMucGFyc2VSdHBtYXAoZSk7YnJlYWs7Y2FzZVwicHRpbWVcIjp0aGlzLnBhcnNlUHRpbWUoZSk7YnJlYWs7Y2FzZVwibWF4cHRpbWVcIjp0aGlzLnBhcnNlTWF4UHRpbWUoZSk7YnJlYWs7Y2FzZVwic2VuZHJlY3ZcIjpjYXNlXCJyZWN2b25seVwiOmNhc2VcInNlbmRvbmx5XCI6Y2FzZVwiaW5hY3RpdmVcIjp0aGlzLnBhcnNlRGlyZWN0aW9uKGUpO2JyZWFrO2Nhc2VcInNzcmNcIjp0aGlzLnBhcnNlU1NSQyhlKTticmVhaztjYXNlXCJmbXRwXCI6dGhpcy5wYXJzZUZtdHAoZSk7YnJlYWs7Y2FzZVwicnRjcC1mYlwiOnRoaXMucGFyc2VSdGNwRmIoZSk7YnJlYWs7Y2FzZVwicnRjcC1tdXhcIjp0aGlzLnBhcnNlUlRDUE11eCgpO2JyZWFrO2Nhc2VcInJ0Y3AtbXV4LW9ubHlcIjp0aGlzLnBhcnNlUlRDUE11eE9ubHkoKTticmVhaztjYXNlXCJydGNwLXJzaXplXCI6dGhpcy5wYXJzZVJUQ1BSc2l6ZSgpO2JyZWFrO2Nhc2VcInJ0Y3BcIjp0aGlzLnBhcnNlUlRDUChlKTticmVhaztjYXNlXCJtaWRcIjp0aGlzLnBhcnNlTWlkKGUpO2JyZWFrO2Nhc2VcIm1zaWRcIjp0aGlzLnBhcnNlTXNpZChlKTticmVhaztjYXNlXCJpbWFnZWF0dHJcIjp0aGlzLnBhcnNlSW1hZ2VBdHRyKGUpO2JyZWFrO2Nhc2VcInJpZFwiOnRoaXMucGFyc2VSaWQoZSk7YnJlYWs7Y2FzZVwic2ltdWxjYXN0XCI6dGhpcy5wYXJzZVNpbXVsY2FzdChlKTticmVhaztjYXNlXCJzY3RwLXBvcnRcIjp0aGlzLnBhcnNlU2N0cFBvcnQoZSk7YnJlYWs7Y2FzZVwibWF4LW1lc3NhZ2Utc2l6ZVwiOnRoaXMucGFyc2VNYXhNZXNzYWdlU2l6ZShlKTticmVhaztjYXNlXCJzc3JjLWdyb3VwXCI6dGhpcy5wYXJzZVNTUkNHcm91cChlKTticmVhaztkZWZhdWx0OmUuaWdub3JlZD0hMCx0aGlzLmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLnB1c2goZSl9fWNhdGNoKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJwYXJzaW5nIG1lZGlhIGF0dHJpYnV0ZSBcIi5jb25jYXQoZS5hdHRGaWVsZCwnIGVycm9yLCBcImE9JykuY29uY2F0KGUuYXR0RmllbGQsXCI6XCIpLmNvbmNhdChlLmF0dFZhbHVlLCdcIicpKSx0fWlmKCFlLmlnbm9yZWQmJmUuYXR0VmFsdWUmJiF0aGlzLmF0RW5kKGUpKXRocm93IG5ldyBFcnJvcihcImF0dHJpYnV0ZSBwYXJzaW5nIGVycm9yXCIpfXBhcnNlQ2FuZGlkYXRlKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsRSxbMSwzMl0pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSxbMSw1XSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3Qgbj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3Qgcj10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhLFsxLDEwXSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3Qgbz10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVBZGRyZXNzKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBkPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVBvcnQpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcInR5cFwiKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBsPXtmb3VuZGF0aW9uOnQsY29tcG9uZW50SWQ6aSx0cmFuc3BvcnQ6bixwcmlvcml0eTpyLGNvbm5lY3Rpb25BZGRyZXNzOm8scG9ydDpkLHR5cGU6dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pLGV4dGVuc2lvbjp7fX07Zm9yKHRoaXMucGVlayhlLFwiIHJhZGRyXCIpJiYodGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiIHJhZGRyXCIpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLGwucmVsQWRkcj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVBZGRyZXNzKSksdGhpcy5wZWVrKGUsXCIgcnBvcnRcIikmJih0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIgcnBvcnRcIiksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksbC5yZWxQb3J0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVBvcnQpKTt0aGlzLnBlZWtDaGFyKGUpPT09czspe3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLGwuZXh0ZW5zaW9uW3RdPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGMpfXRoaXMuYXR0cmlidXRlcy5jYW5kaWRhdGVzLnB1c2gobCl9cGFyc2VSZW1vdGVDYW5kaWRhdGUoZSl7Y29uc3QgdD1bXTtmb3IoOzspe2NvbnN0IGk9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSxbMSw1XSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3Qgbj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVBZGRyZXNzKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCByPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVBvcnQpO3QucHVzaCh7Y29tcG9uZW50SWQ6aSxjb25uZWN0aW9uQWRkcmVzczpuLHBvcnQ6cn0pO3RyeXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKX1jYXRjaChlKXticmVha319dGhpcy5hdHRyaWJ1dGVzLnJlbW90ZUNhbmRpZGF0ZXNMaXN0LnB1c2godCl9cGFyc2VFbmRPZkNhbmRpZGF0ZXMoKXtpZih0aGlzLmF0dHJpYnV0ZXMuZW5kT2ZDYW5kaWRhdGVzKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBlbmQtb2YtY2FuZGlkYXRlc1wiKTt0aGlzLmF0dHJpYnV0ZXMuZW5kT2ZDYW5kaWRhdGVzPSEwfXBhcnNlUnRwbWFwKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIi9cIik7dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiL1wiKTtjb25zdCBuPXtlbmNvZGluZ05hbWU6aSxjbG9ja1JhdGU6dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSl9O3RoaXMuYXRFbmQoZSl8fFwiL1wiIT09dGhpcy5wZWVrQ2hhcihlKXx8KHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIi9cIiksbi5lbmNvZGluZ1BhcmFtZXRlcnM9cGFyc2VJbnQodGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCksMTApKTtjb25zdCByPXRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5maW5kKChlPT5lLnBheWxvYWRUeXBlPT09cGFyc2VJbnQodCwxMCkpKTtyP3IucnRwTWFwPW46dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLnB1c2goe3BheWxvYWRUeXBlOnBhcnNlSW50KHQsMTApLHJ0cE1hcDpuLHJ0Y3BGZWVkYmFja3M6W119KX1wYXJzZVB0aW1lKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5wdGltZSl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIGxpbmUgb2YgcHRpbWVcIik7dGhpcy5hdHRyaWJ1dGVzLnB0aW1lPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpfXBhcnNlTWF4UHRpbWUoZSl7aWYodGhpcy5hdHRyaWJ1dGVzLm1heFB0aW1lKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBwdGltZVwiKTt0aGlzLmF0dHJpYnV0ZXMubWF4UHRpbWU9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCl9cGFyc2VEaXJlY3Rpb24oZSl7aWYodGhpcy5hdHRyaWJ1dGVzLmRpcmVjdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIGxpbmUgb2YgZGlyZWN0aW9uIGluZm9cIik7dGhpcy5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1lLmF0dEZpZWxkfXBhcnNlU1NSQyhlKXtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIjpcIik7bGV0IG47XCI6XCI9PT10aGlzLnBlZWtDaGFyKGUpJiYodGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiOlwiKSxuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpKTtjb25zdCByPXRoaXMuYXR0cmlidXRlcy5zc3Jjcy5maW5kKChlPT5lLnNzcmNJZD09PXBhcnNlSW50KHQsMTApKSk7cj9yLmF0dHJpYnV0ZXNbaV09bjp0aGlzLmF0dHJpYnV0ZXMuc3NyY3MucHVzaCh7c3NyY0lkOnBhcnNlSW50KHQsMTApLGF0dHJpYnV0ZXM6e1tpXTpufX0pfXBhcnNlRm10cChlKXtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwscyk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKSxuPXt9O2kuc3BsaXQoXCI7XCIpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lLnNwbGl0KFwiPVwiKTt0PXQudHJpbSgpO2NvbnN0IHI9XCJzdHJpbmdcIj09dHlwZW9mIGk/aS50cmltKCk6bnVsbDtcInN0cmluZ1wiPT10eXBlb2YgdCYmdC5sZW5ndGg+MCYmKG5bdF09cil9KSk7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXMucGF5bG9hZHMuZmluZCgoZT0+ZS5wYXlsb2FkVHlwZT09PXBhcnNlSW50KHQsMTApKSk7cj9yLmZtdHA9e3BhcmFtZXRlcnM6bn06dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLnB1c2goe3BheWxvYWRUeXBlOnBhcnNlSW50KHQsMTApLHJ0Y3BGZWVkYmFja3M6W10sZm10cDp7cGFyYW1ldGVyczpufX0pfXBhcnNlRm10UGFyYW1ldGVycyhlKXtjb25zdCB0PXt9LGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIj1cIik7ZS5fY3VyKys7Y29uc3Qgbj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLFwiO1wiKTtmb3IodFtpXT1uO1wiO1wiPT09ZS5hdHRWYWx1ZVtlLl9jdXJdOyl7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLFwiPVwiKTtlLl9jdXIrKztjb25zdCBuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCI7XCIpO3RbaV09bn1yZXR1cm4gdH1wYXJzZVJ0Y3BGYihlKXtsZXQgdD1cIlwiO3Q9XCIqXCI9PT10aGlzLnBlZWtDaGFyKGUpP3RoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIipcIik6dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxzKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwscyk7bGV0IG47aWYoXCJ0cnItaW50XCI9PT1pKW49e3R5cGU6aSxpbnRlcnZhbDp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKX07ZWxzZXtjb25zdCB0PXt0eXBlOml9O3RoaXMucGVla0NoYXIoZSk9PT1zJiYodGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksdC5wYXJhbWV0ZXI9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pLHRoaXMucGVla0NoYXIoZSk9PT1zJiYodC5hZGRpdGlvbmFsPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpKSksbj10fWlmKFwiKlwiPT09dCl0aGlzLmF0dHJpYnV0ZXMucnRjcEZlZWRiYWNrV2lsZGNhcmRzLnB1c2gobik7ZWxzZXtjb25zdCBlPXRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5maW5kKChlPT5lLnBheWxvYWRUeXBlPT09cGFyc2VJbnQodCwxMCkpKTtlP2UucnRjcEZlZWRiYWNrcy5wdXNoKG4pOnRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5wdXNoKHtwYXlsb2FkVHlwZTpwYXJzZUludCh0LDEwKSxydGNwRmVlZGJhY2tzOltuXX0pfX1wYXJzZVJUQ1BNdXgoKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcE11eCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHJ0Y3AtbXV4XCIpO3RoaXMuYXR0cmlidXRlcy5ydGNwTXV4PSEwfXBhcnNlUlRDUE11eE9ubHkoKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcE11eE9ubHkpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBzaW5nbGUgbGluZSBvZiBydGNwLW9ubHlcIik7dGhpcy5hdHRyaWJ1dGVzLnJ0Y3BNdXhPbmx5PSEwfXBhcnNlUlRDUFJzaXplKCl7aWYodGhpcy5hdHRyaWJ1dGVzLnJ0Y3BSc2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHJ0Y3AtcnNpemVcIik7dGhpcy5hdHRyaWJ1dGVzLnJ0Y3BSc2l6ZT0hMH1wYXJzZVJUQ1AoZSl7aWYodGhpcy5hdHRyaWJ1dGVzLnJ0Y3ApdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBzaW5nbGUgbGluZSBvZiBydGNwXCIpO2NvbnN0IHQ9e3BvcnQ6dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lUG9ydCl9O3RoaXMucGVla0NoYXIoZSk9PT1zJiYodGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksdC5uZXRUeXBlPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHQuYWRkcmVzc1R5cGU9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksdC5hZGRyZXNzPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZUFkZHJlc3MpKSx0aGlzLmF0dHJpYnV0ZXMucnRjcD10fXBhcnNlTXNpZChlKXtjb25zdCB0PXtpZDp0aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsLFsxLDY0XSl9O3RoaXMucGVla0NoYXIoZSk9PT1zJiYodGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksdC5hcHBkYXRhPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwsWzEsNjRdKSksdGhpcy5hdHRyaWJ1dGVzLm1zaWRzLnB1c2godCl9cGFyc2VJbWFnZUF0dHIoZSl7dGhpcy5hdHRyaWJ1dGVzLmltYWdlYXR0ci5wdXNoKGUuYXR0VmFsdWUpfXBhcnNlUmlkKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsKGU9PnUoZSl8fGEoZSl8fFwiX1wiPT09ZXx8XCItXCI9PT1lKSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgaT17aWQ6dCxkaXJlY3Rpb246dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pLHBhcmFtczpbXX07aWYodGhpcy5wZWVrQ2hhcihlKT09PXMpe2lmKHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHRoaXMucGVlayhlLFwicHQ9XCIpKXt0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCJwdD1cIik7Y29uc3QgdD1bXTtmb3IoOzspe2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3QucHVzaChpKTt0cnl7dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiLFwiKX1jYXRjaChlKXticmVha319aS5wYXlsb2Fkcz10LHRoaXMucGVla0NoYXIoZSk9PT1zJiZ0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUscyl9Zm9yKDs7KXtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKTtzd2l0Y2godCl7Y2FzZVwiZGVwZW5kXCI6e2NvbnN0IG49e3R5cGU6dCxyaWRzOnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIj1cIikuc3BsaXQoXCIsXCIpfTtpLnBhcmFtcy5wdXNoKG4pO2JyZWFrfWRlZmF1bHQ6e2NvbnN0IG49e3R5cGU6dH07XCI9XCI9PT10aGlzLnBlZWtDaGFyKGUpJiYodGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiPVwiKSxuLnZhbD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLFwiO1wiKSksaS5wYXJhbXMucHVzaChuKX19dHJ5e3RoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIjtcIil9Y2F0Y2goZSl7YnJlYWt9fX10aGlzLmF0dHJpYnV0ZXMucmlkcy5wdXNoKGkpfXBhcnNlU2ltdWxjYXN0KGUpe2lmKHRoaXMuYXR0cmlidXRlcy5zaW11bGNhc3QpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBzaW5nbGUgbGluZSBvZiBzaW11bGNhc3RcIik7dGhpcy5hdHRyaWJ1dGVzLnNpbXVsY2FzdD1lLmF0dFZhbHVlLHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpfXBhcnNlU2N0cFBvcnQoZSl7dGhpcy5hdHRyaWJ1dGVzLnNjdHBQb3J0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEsWzEsNV0pfXBhcnNlTWF4TWVzc2FnZVNpemUoZSl7dGhpcy5hdHRyaWJ1dGVzLm1heE1lc3NhZ2VTaXplPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEsWzEsdm9pZCAwXSl9ZGlnZXN0KCl7cmV0dXJuIHRoaXMuZGlnZXN0ZWQ9ITAsdGhpcy5hdHRyaWJ1dGVzfXBhcnNlTWlkKGUpe3RoaXMuYXR0cmlidXRlcy5taWQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pfXBhcnNlU1NSQ0dyb3VwKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pLGk9W107Zm9yKDs7KXRyeXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZUludGVnZXIpO2kucHVzaChwYXJzZUludCh0LDEwKSl9Y2F0Y2goZSl7YnJlYWt9dGhpcy5hdHRyaWJ1dGVzLnNzcmNHcm91cHMucHVzaCh7c2VtYW50aWM6dCxzc3JjSWRzOml9KX19ZnVuY3Rpb24gQShlLHQsaSl7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1pLGV9Y2xhc3MgYntjb25zdHJ1Y3Rvcigpe0EodGhpcyxcImVvbFwiLHIpfXByaW50KGUsdCl7bGV0IGk9XCJcIjtyZXR1cm4gdCYmKHRoaXMuZW9sPXQpLGkrPXRoaXMucHJpbnRWZXJzaW9uKGUudmVyc2lvbiksaSs9dGhpcy5wcmludE9yaWdpbihlLm9yaWdpbiksaSs9dGhpcy5wcmludFNlc3Npb25OYW1lKGUuc2Vzc2lvbk5hbWUpLGkrPXRoaXMucHJpbnRJbmZvcm1hdGlvbihlLmluZm9ybWF0aW9uKSxpKz10aGlzLnByaW50VXJpKGUudXJpKSxpKz10aGlzLnByaW50RW1haWwoZS5lbWFpbHMpLGkrPXRoaXMucHJpbnRQaG9uZShlLnBob25lcyksaSs9dGhpcy5wcmludENvbm5lY3Rpb24oZS5jb25uZWN0aW9uKSxpKz10aGlzLnByaW50QmFuZHdpZHRoKGUuYmFuZHdpZHRocyksaSs9dGhpcy5wcmludFRpbWVGaWVsZHMoZS50aW1lRmllbGRzKSxpKz10aGlzLnByaW50S2V5KGUua2V5KSxpKz10aGlzLnByaW50U2Vzc2lvbkF0dHJpYnV0ZXMoZS5hdHRyaWJ1dGVzKSxpKz10aGlzLnByaW50TWVkaWFEZXNjcmlwdGlvbihlLm1lZGlhRGVzY3JpcHRpb25zKSxpfXByaW50VmVyc2lvbihlKXtyZXR1cm5cInY9XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRPcmlnaW4oZSl7cmV0dXJuXCJvPVwiLmNvbmNhdChlLnVzZXJuYW1lLFwiIFwiKS5jb25jYXQoZS5zZXNzSWQsXCIgXCIpLmNvbmNhdChlLnNlc3NWZXJzaW9uLFwiIFwiKS5jb25jYXQoZS5uZXR0eXBlLFwiIFwiKS5jb25jYXQoZS5hZGRydHlwZSxcIiBcIikuY29uY2F0KGUudW5pY2FzdEFkZHJlc3MpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTZXNzaW9uTmFtZShlKXtyZXR1cm4gZT9cInM9XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludEluZm9ybWF0aW9uKGUpe3JldHVybiBlP1wiaT1cIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50VXJpKGUpe3JldHVybiBlP1widT1cIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50RW1haWwoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPVwiZT1cIi5jb25jYXQoaSkuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gdH1wcmludFBob25lKGUpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGkgb2YgZSl0Kz1cImU9XCIuY29uY2F0KGkpLmNvbmNhdCh0aGlzLmVvbCk7cmV0dXJuIHR9cHJpbnRDb25uZWN0aW9uKGUpe3JldHVybiBlP1wiYz1cIi5jb25jYXQoZS5uZXR0eXBlLFwiIFwiKS5jb25jYXQoZS5hZGRydHlwZSxcIiBcIikuY29uY2F0KGUuYWRkcmVzcykuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50QmFuZHdpZHRoKGUpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGkgb2YgZSl0Kz1cImI9XCIuY29uY2F0KGkuYnd0eXBlLFwiOlwiKS5jb25jYXQoaS5iYW5kd2lkdGgpLmNvbmNhdCh0aGlzLmVvbCk7cmV0dXJuIHR9cHJpbnRUaW1lRmllbGRzKGUpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGkgb2YgZSl7dCs9XCJ0PVwiLmNvbmNhdChpLnRpbWUuc3RhcnRUaW1lLFwiIFwiKS5jb25jYXQoaS50aW1lLnN0YXJ0VGltZSkuY29uY2F0KHRoaXMuZW9sKTtmb3IoY29uc3QgZSBvZiBpLnJlcGVhdHMpdCs9XCJyPVwiLmNvbmNhdChlLnJlcGVhdEludGVydmFsLFwiIFwiKS5jb25jYXQoZS50eXBlZFRpbWVzLmpvaW4oXCIgXCIpKS5jb25jYXQodGhpcy5lb2wpO2kuem9uZUFkanVzdG1lbnRzJiYodCs9XCJ6PVwiLHQrPVwiej1cIi5jb25jYXQoaS56b25lQWRqdXN0bWVudHMubWFwKChlPT5cIlwiLmNvbmNhdChlLnRpbWUsXCIgXCIpLmNvbmNhdChlLmJhY2s/XCItXCI6XCJcIixcIiBcIikuY29uY2F0KGUudHlwZWRUaW1lKSkpLmpvaW4oXCIgXCIpKS5jb25jYXQodGhpcy5lb2wpLHQrPXRoaXMuZW9sKX1yZXR1cm4gdH1wcmludEtleShlKXtyZXR1cm4gZT9cIms9XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludEF0dHJpYnV0ZXMoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPVwiYT1cIi5jb25jYXQoaS5hdHRGaWVsZCkuY29uY2F0KGkuYXR0VmFsdWU/XCI6XCIuY29uY2F0KGkuYXR0VmFsdWUpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCk7cmV0dXJuIHR9cHJpbnRNZWRpYURlc2NyaXB0aW9uKGUpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGkgb2YgZSl0Kz10aGlzLnByaW50TWVkaWEoaS5tZWRpYSksdCs9dGhpcy5wcmludEluZm9ybWF0aW9uKGkuaW5mb3JtYXRpb24pLHQrPXRoaXMucHJpbnRDb25uZWN0aW9ucyhpLmNvbm5lY3Rpb25zKSx0Kz10aGlzLnByaW50QmFuZHdpZHRoKGkuYmFuZHdpZHRocyksdCs9dGhpcy5wcmludEtleShpLmtleSksdCs9dGhpcy5wcmludE1lZGlhQXR0cmlidXRlcyhpKTtyZXR1cm4gdH1wcmludENvbm5lY3Rpb25zKGUpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGkgb2YgZSl0Kz10aGlzLnByaW50Q29ubmVjdGlvbihpKTtyZXR1cm4gdH1wcmludE1lZGlhKGUpe3JldHVyblwibT1cIi5jb25jYXQoZS5tZWRpYVR5cGUsXCIgXCIpLmNvbmNhdChlLnBvcnQsXCIgXCIpLmNvbmNhdChlLnByb3Rvcy5qb2luKFwiL1wiKSxcIiBcIikuY29uY2F0KGUuZm10cy5qb2luKFwiIFwiKSkuY29uY2F0KHRoaXMuZW9sKX1wcmludFNlc3Npb25BdHRyaWJ1dGVzKGUpe3JldHVybiBuZXcgTyh0aGlzLmVvbCkucHJpbnQoZSl9cHJpbnRNZWRpYUF0dHJpYnV0ZXMoZSl7cmV0dXJuIG5ldyBOKHRoaXMuZW9sKS5wcmludChlKX19Y2xhc3Mgd3tjb25zdHJ1Y3RvcihlKXtBKHRoaXMsXCJlb2xcIix2b2lkIDApLHRoaXMuZW9sPWV9cHJpbnRJY2VVZnJhZyhlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1pY2UtdWZyYWc6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRJY2VQd2QoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9aWNlLXB3ZDpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludEljZU9wdGlvbnMoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9aWNlLW9wdGlvbnM6XCIuY29uY2F0KGUuam9pbihzKSkuY29uY2F0KHRoaXMuZW9sKX1wcmludEZpbmdlcnByaW50cyhlKXtyZXR1cm4gZS5sZW5ndGg+MD9lLm1hcCgoZT0+XCJhPWZpbmdlcnByaW50OlwiLmNvbmNhdChlLmhhc2hGdW5jdGlvbikuY29uY2F0KHMpLmNvbmNhdChlLmZpbmdlcnByaW50KSkpLmpvaW4odGhpcy5lb2wpK3RoaXMuZW9sOlwiXCJ9cHJpbnRFeHRtYXAoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9ZXh0bWFwOlwiLmNvbmNhdChlLmVudHJ5KS5jb25jYXQoZS5kaXJlY3Rpb24/XCIvXCIuY29uY2F0KGUuZGlyZWN0aW9uKTpcIlwiKS5jb25jYXQocykuY29uY2F0KGUuZXh0ZW5zaW9uTmFtZSkuY29uY2F0KGUuZXh0ZW5zaW9uQXR0cmlidXRlcz9cIlwiLmNvbmNhdChzKS5jb25jYXQoZS5leHRlbnNpb25BdHRyaWJ1dGVzKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKX1wcmludFNldHVwKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPXNldHVwOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50VW5yZWNvZ25pemVkKGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPVwiLmNvbmNhdChlLmF0dEZpZWxkKS5jb25jYXQoZS5hdHRWYWx1ZT9cIjpcIi5jb25jYXQoZS5hdHRWYWx1ZSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9fWNsYXNzIE8gZXh0ZW5kcyB3e3ByaW50KGUpe2xldCB0PVwiXCI7cmV0dXJuIHQrPXRoaXMucHJpbnRHcm91cHMoZS5ncm91cHMpLHQrPXRoaXMucHJpbnRNc2lkU2VtYW50aWMoZS5tc2lkU2VtYW50aWMpLHQrPXRoaXMucHJpbnRJY2VMaXRlKGUuaWNlTGl0ZSksdCs9dGhpcy5wcmludEljZVVmcmFnKGUuaWNlVWZyYWcpLHQrPXRoaXMucHJpbnRJY2VQd2QoZS5pY2VQd2QpLHQrPXRoaXMucHJpbnRJY2VPcHRpb25zKGUuaWNlT3B0aW9ucyksdCs9dGhpcy5wcmludEZpbmdlcnByaW50cyhlLmZpbmdlcnByaW50cyksdCs9dGhpcy5wcmludFNldHVwKGUuc2V0dXApLHQrPXRoaXMucHJpbnRUbHNJZChlLnRsc0lkKSx0Kz10aGlzLnByaW50SWRlbnRpdHkoZS5pZGVudGl0aWVzKSx0Kz10aGlzLnByaW50RXh0bWFwKGUuZXh0bWFwcyksdCs9dGhpcy5wcmludFVucmVjb2duaXplZChlLnVucmVjb2duaXplZCksdH1wcmludEdyb3VwcyhlKXtsZXQgdD1cIlwiO3JldHVybiBlLmxlbmd0aD4wJiYodCs9ZS5tYXAoKGU9PlwiYT1ncm91cDpcIi5jb25jYXQoZS5zZW1hbnRpYykuY29uY2F0KGUuaWRlbnRpZmljYXRpb25UYWcubWFwKChlPT5cIlwiLmNvbmNhdChzKS5jb25jYXQoZSkpKS5qb2luKFwiXCIpKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKSksdH1wcmludEljZUxpdGUoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9aWNlLWxpdGVcIit0aGlzLmVvbH1wcmludFRsc0lkKGUpe3JldHVybiBlP1wiYT10bHMtaWQ6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludElkZW50aXR5KGUpe3JldHVybiAwPT09ZS5sZW5ndGg/XCJcIjplLm1hcCgoZT0+XCJhPWlkZW50aXR5OlwiLmNvbmNhdChlLmFzc2VydGlvblZhbHVlKS5jb25jYXQoZS5leHRlbnNpb25zLm1hcCgoZT0+XCJcIi5jb25jYXQocykuY29uY2F0KGUubmFtZSkuY29uY2F0KGUudmFsdWU/XCI9XCIuY29uY2F0KGUudmFsdWUpOlwiXCIpKSkpKSkuam9pbih0aGlzLmVvbCkrdGhpcy5lb2x9cHJpbnRNc2lkU2VtYW50aWMoZSl7aWYoIWUpcmV0dXJuXCJcIjtsZXQgdD1cImE9bXNpZC1zZW1hbnRpYzpcIi5jb25jYXQoZS5zZW1hbnRpYyk7cmV0dXJuIGUuYXBwbHlGb3JBbGw/dCs9XCJcIi5jb25jYXQocyxcIipcIik6ZS5pZGVudGlmaWVyTGlzdC5sZW5ndGg+MCYmKHQrPWUuaWRlbnRpZmllckxpc3QubWFwKChlPT5cIlwiLmNvbmNhdChzKS5jb25jYXQoZSkpKSksdCt0aGlzLmVvbH19Y2xhc3MgTiBleHRlbmRzIHd7cHJpbnQoZSl7Y29uc3QgdD1lLmF0dHJpYnV0ZXM7bGV0IGk9XCJcIjtyZXR1cm4gaSs9dGhpcy5wcmludFJUQ1AodC5ydGNwKSxpKz10aGlzLnByaW50SWNlVWZyYWcodC5pY2VVZnJhZyksaSs9dGhpcy5wcmludEljZVB3ZCh0LmljZVB3ZCksaSs9dGhpcy5wcmludEljZU9wdGlvbnModC5pY2VPcHRpb25zKSxpKz10aGlzLnByaW50Q2FuZGlkYXRlcyh0LmNhbmRpZGF0ZXMpLGkrPXRoaXMucHJpbnRSZW1vdGVDYW5kaWRhdGVzTGlzdCh0LnJlbW90ZUNhbmRpZGF0ZXNMaXN0KSxpKz10aGlzLnByaW50RW5kT2ZDYW5kaWRhdGVzKHQuZW5kT2ZDYW5kaWRhdGVzKSxpKz10aGlzLnByaW50RmluZ2VycHJpbnRzKHQuZmluZ2VycHJpbnRzKSxpKz10aGlzLnByaW50U2V0dXAodC5zZXR1cCksaSs9dGhpcy5wcmludE1pZCh0Lm1pZCksaSs9dGhpcy5wcmludEV4dG1hcCh0LmV4dG1hcHMpLGkrPXRoaXMucHJpbnRSVFBSZWxhdGVkKHQpLGkrPXRoaXMucHJpbnRQdGltZSh0LnB0aW1lKSxpKz10aGlzLnByaW50TWF4UHRpbWUodC5tYXhQdGltZSksaSs9dGhpcy5wcmludERpcmVjdGlvbih0LmRpcmVjdGlvbiksaSs9dGhpcy5wcmludFNTUkNHcm91cHModC5zc3JjR3JvdXBzKSxpKz10aGlzLnByaW50U1NSQyh0LnNzcmNzKSxpKz10aGlzLnByaW50UlRDUE11eCh0LnJ0Y3BNdXgpLGkrPXRoaXMucHJpbnRSVENQTXV4T25seSh0LnJ0Y3BNdXhPbmx5KSxpKz10aGlzLnByaW50UlRDUFJzaXplKHQucnRjcFJzaXplKSxpKz10aGlzLnByaW50TVNJZCh0Lm1zaWRzKSxpKz10aGlzLnByaW50SW1hZ2VhdHRyKHQuaW1hZ2VhdHRyKSxpKz10aGlzLnByaW50UmlkKHQucmlkcyksaSs9dGhpcy5wcmludFNpbXVsY2FzdCh0LnNpbXVsY2FzdCksaSs9dGhpcy5wcmludFNDVFBQb3J0KHQuc2N0cFBvcnQpLGkrPXRoaXMucHJpbnRNYXhNZXNzYWdlU2l6ZSh0Lm1heE1lc3NhZ2VTaXplKSxpKz10aGlzLnByaW50VW5yZWNvZ25pemVkKHQudW5yZWNvZ25pemVkKSxpfXByaW50Q2FuZGlkYXRlcyhlKXtyZXR1cm4gZS5tYXAoKGU9PlwiYT1jYW5kaWRhdGU6XCIuY29uY2F0KGUuZm91bmRhdGlvbikuY29uY2F0KHMpLmNvbmNhdChlLmNvbXBvbmVudElkKS5jb25jYXQocykuY29uY2F0KGUudHJhbnNwb3J0KS5jb25jYXQocykuY29uY2F0KGUucHJpb3JpdHkpLmNvbmNhdChzKS5jb25jYXQoZS5jb25uZWN0aW9uQWRkcmVzcykuY29uY2F0KHMpLmNvbmNhdChlLnBvcnQpLmNvbmNhdChzLFwidHlwXCIpLmNvbmNhdChzKS5jb25jYXQoZS50eXBlKS5jb25jYXQoZS5yZWxBZGRyP1wiXCIuY29uY2F0KHMsXCJyYWRkclwiKS5jb25jYXQocykuY29uY2F0KGUucmVsQWRkcik6XCJcIikuY29uY2F0KGUucmVsUG9ydD9cIlwiLmNvbmNhdChzLFwicnBvcnRcIikuY29uY2F0KHMpLmNvbmNhdChlLnJlbFBvcnQpOlwiXCIpLmNvbmNhdChPYmplY3Qua2V5cyhlLmV4dGVuc2lvbikubWFwKCh0PT5cIlwiLmNvbmNhdChzKS5jb25jYXQodCkuY29uY2F0KHMpLmNvbmNhdChlLmV4dGVuc2lvblt0XSkpKS5qb2luKFwiXCIpKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKX1wcmludFJlbW90ZUNhbmRpZGF0ZXNMaXN0KGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPXJlbW90ZS1jYW5kaWRhdGVzOlwiLmNvbmNhdChlLmpvaW4ocykpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpfXByaW50RW5kT2ZDYW5kaWRhdGVzKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPWVuZC1vZi1jYW5kaWRhdGVzXCIrdGhpcy5lb2x9cHJpbnRSVFBSZWxhdGVkKGUpe2lmKCFlLnBheWxvYWRzKXJldHVyblwiXCI7Y29uc3QgdD1lLnBheWxvYWRzO2xldCBpPVwiXCI7aSs9ZS5ydGNwRmVlZGJhY2tXaWxkY2FyZHMubWFwKChlPT50aGlzLnByaW50UlRDUEZlZWRiYWNrKFwiKlwiLGUpKSkuam9pbihcIlwiKTtmb3IoY29uc3QgZSBvZiB0KWkrPXRoaXMucHJpbnRSdHBNYXAoZS5wYXlsb2FkVHlwZSxlLnJ0cE1hcCksaSs9dGhpcy5wcmludEZtdHAoZS5wYXlsb2FkVHlwZSxlLmZtdHApLGkrPWUucnRjcEZlZWRiYWNrcy5tYXAoKHQ9PnRoaXMucHJpbnRSVENQRmVlZGJhY2soZS5wYXlsb2FkVHlwZSx0KSkpLmpvaW4oXCJcIik7cmV0dXJuIGl9cHJpbnRGbXRwKGUsdCl7aWYoIXQpcmV0dXJuXCJcIjtjb25zdCBpPU9iamVjdC5rZXlzKHQucGFyYW1ldGVycyk7cmV0dXJuIDE9PT1pLmxlbmd0aCYmbnVsbD09PXQucGFyYW1ldGVyc1tpWzBdXT9cImE9Zm10cDpcIi5jb25jYXQoZSkuY29uY2F0KHMpLmNvbmNhdChpWzBdKS5jb25jYXQodGhpcy5lb2wpOlwiYT1mbXRwOlwiLmNvbmNhdChlKS5jb25jYXQocykuY29uY2F0KE9iamVjdC5rZXlzKHQucGFyYW1ldGVycykubWFwKChlPT5cIlwiLmNvbmNhdChlLFwiPVwiKS5jb25jYXQodC5wYXJhbWV0ZXJzW2VdKSkpLmpvaW4oXCI7XCIpKS5jb25jYXQodGhpcy5lb2wpfXByaW50UnRwTWFwKGUsdCl7cmV0dXJuIHQ/XCJhPXJ0cG1hcDpcIi5jb25jYXQoZSkuY29uY2F0KHMpLmNvbmNhdCh0LmVuY29kaW5nTmFtZSxcIi9cIikuY29uY2F0KHQuY2xvY2tSYXRlKS5jb25jYXQodC5lbmNvZGluZ1BhcmFtZXRlcnM/XCIvXCIuY29uY2F0KHQuZW5jb2RpbmdQYXJhbWV0ZXJzKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRSVENQRmVlZGJhY2soZSx0KXtsZXQgaT1cImE9cnRjcC1mYjpcIi5jb25jYXQoZSkuY29uY2F0KHMpLG49dDtyZXR1cm5cInRyci1pbnRcIj09PW4udHlwZT9pKz1cInR0ci1pbnRcIi5jb25jYXQocykuY29uY2F0KG4uaW50ZXJ2YWwpOihpKz1cIlwiLmNvbmNhdChuLnR5cGUpLG4ucGFyYW1ldGVyJiYoaSs9XCJcIi5jb25jYXQocykuY29uY2F0KG4ucGFyYW1ldGVyKSxuLmFkZGl0aW9uYWwmJihpKz1cIlwiLmNvbmNhdChzKS5jb25jYXQobi5hZGRpdGlvbmFsKSkpKSxpK3RoaXMuZW9sfXByaW50UHRpbWUoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9cHRpbWU6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRNYXhQdGltZShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1tYXhwdGltZTpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludERpcmVjdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1cIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludFNTUkMoZSl7cmV0dXJuIGUubWFwKChlPT5PYmplY3Qua2V5cyhlLmF0dHJpYnV0ZXMpLm1hcCgodD0+XCJhPXNzcmM6XCIuY29uY2F0KGUuc3NyY0lkLnRvU3RyaW5nKDEwKSkuY29uY2F0KHMpLmNvbmNhdCh0KS5jb25jYXQoZS5hdHRyaWJ1dGVzW3RdP1wiOlwiLmNvbmNhdChlLmF0dHJpYnV0ZXNbdF0pOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpKSkuam9pbihcIlwiKX1wcmludFJUQ1BNdXgoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9cnRjcC1tdXhcIi5jb25jYXQodGhpcy5lb2wpfXByaW50UlRDUE11eE9ubHkoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9cnRjcC1tdXgtb25seVwiLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSVENQUnNpemUoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9cnRjcC1yc2l6ZVwiLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSVENQKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuXCJcIjtsZXQgdD1cImE9cnRjcDpcIi5jb25jYXQoZS5wb3J0KTtyZXR1cm4gZS5uZXRUeXBlJiYodCs9XCJcIi5jb25jYXQocykuY29uY2F0KGUubmV0VHlwZSkpLGUuYWRkcmVzc1R5cGUmJih0Kz1cIlwiLmNvbmNhdChzKS5jb25jYXQoZS5hZGRyZXNzVHlwZSkpLGUuYWRkcmVzcyYmKHQrPVwiXCIuY29uY2F0KHMpLmNvbmNhdChlLmFkZHJlc3MpKSx0K3RoaXMuZW9sfXByaW50TVNJZChlKXtyZXR1cm4gZS5tYXAoKGU9PlwiYT1tc2lkOlwiLmNvbmNhdChlLmlkKS5jb25jYXQoZS5hcHBkYXRhP1wiXCIuY29uY2F0KHMpLmNvbmNhdChlLmFwcGRhdGEpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpfXByaW50SW1hZ2VhdHRyKGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPWltYWdlYXR0cjpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9cHJpbnRSaWQoZSl7cmV0dXJuIGUubWFwKChlPT57bGV0IHQ9XCJhPXJpZDpcIi5jb25jYXQoZS5pZCkuY29uY2F0KHMpLmNvbmNhdChlLmRpcmVjdGlvbik7cmV0dXJuIGUucGF5bG9hZHMmJih0Kz1cIlwiLmNvbmNhdChzLFwicHQ9XCIpLmNvbmNhdChlLnBheWxvYWRzLmpvaW4oXCIsXCIpKSksZS5wYXJhbXMubGVuZ3RoPjAmJih0Kz1cIlwiLmNvbmNhdChzKS5jb25jYXQoZS5wYXJhbXMubWFwKChlPT5cImRlcGVuZFwiPT09ZS50eXBlP1wiZGVwZW5kPVwiLmNvbmNhdChlLnJpZHMuam9pbihcIixcIikpOlwiXCIuY29uY2F0KGUudHlwZSxcIj1cIikuY29uY2F0KGUudmFsKSkpLmpvaW4oXCI7XCIpKSksdCt0aGlzLmVvbH0pKS5qb2luKFwiXCIpfXByaW50U2ltdWxjYXN0KGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPXNpbXVsY2FzdDpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludFNDVFBQb3J0KGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPXNjdHAtcG9ydDpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludE1heE1lc3NhZ2VTaXplKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPW1heC1tZXNzYWdlLXNpemU6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRNaWQoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9bWlkOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50U1NSQ0dyb3VwcyhlKXtyZXR1cm4gZS5tYXAoKGU9PlwiYT1zc3JjLWdyb3VwOlwiLmNvbmNhdChlLnNlbWFudGljKS5jb25jYXQoZS5zc3JjSWRzLm1hcCgoZT0+XCJcIi5jb25jYXQocykuY29uY2F0KGUudG9TdHJpbmcoMTApKSkpLmpvaW4oXCJcIikpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpfX1mdW5jdGlvbiBEKGUpe3JldHVybihuZXcgQykucGFyc2UoZSl9ZnVuY3Rpb24gUChlLHQpe3JldHVybihuZXcgYikucHJpbnQoZSx0KX19fSx0PXt9O2Z1bmN0aW9uIGkobil7aWYodFtuXSlyZXR1cm4gdFtuXS5leHBvcnRzO3ZhciByPXRbbl09e2V4cG9ydHM6e319O3JldHVybiBlW25dKHIsci5leHBvcnRzLGkpLHIuZXhwb3J0c31yZXR1cm4gaS5kPShlLHQpPT57Zm9yKHZhciBuIGluIHQpaS5vKHQsbikmJiFpLm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6dFtuXX0pfSxpLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLGkucj1lPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0saSg4KX0pKCl9KEhQKTt2YXIgS1A9SFAuZXhwb3J0cztmdW5jdGlvbiBZUChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gcVAoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/WVAoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6WVAoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gSlAoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7Y29uc3R7ZmlsdGVyUlRYOnIsZmlsdGVyVmlkZW9GZWM6cyxmaWx0ZXJBdWRpb0ZlYzpvLGZpbHRlckF1ZGlvQ29kZWM6YSxmaWx0ZXJWaWRlb0NvZGVjOmN9PXQse3VzZVhSOmR9PWk7bGV0IGw9W10saD1bXSx1PVtdLHA9W10sXz0hMSxFPSExO2lmKEtQLnBhcnNlKGUpLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKGU9PntuJiZuIT09ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbnx8KFwidmlkZW9cIiE9PWUubWVkaWEubWVkaWFUeXBlfHxffHwoaD1lLmF0dHJpYnV0ZXMucGF5bG9hZHMscD1lLmF0dHJpYnV0ZXMuZXh0bWFwcyxfPSEwKSxcImF1ZGlvXCIhPT1lLm1lZGlhLm1lZGlhVHlwZXx8RXx8KGw9ZS5hdHRyaWJ1dGVzLnBheWxvYWRzLHU9ZS5hdHRyaWJ1dGVzLmV4dG1hcHMsRT0hMCkpfSkpLCFwfHwwPT09aC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB2aWRlbyBjYXBhYmlsaXRpZXMgZnJvbSBTRFAuXCIpO2lmKCF1fHwwPT09bC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBhdWRpbyBjYXBhYmlsaXRpZXMgZnJvbSBTRFAuXCIpO2guZm9yRWFjaCgoZT0+e3ZhciB0O251bGwhPT0odD1lLnJ0cE1hcCkmJnZvaWQgMCE9PXQmJnQuY2xvY2tSYXRlJiYoZS5ydHBNYXAuY2xvY2tSYXRlPXBhcnNlSW50KGUucnRwTWFwLmNsb2NrUmF0ZSkpLGQmJmUucnRjcEZlZWRiYWNrcy5wdXNoKHt0eXBlOlwicnJ0clwifSl9KSksbC5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbCE9PSh0PWUucnRwTWFwKSYmdm9pZCAwIT09dCYmdC5jbG9ja1JhdGUmJihlLnJ0cE1hcC5jbG9ja1JhdGU9cGFyc2VJbnQoZS5ydHBNYXAuY2xvY2tSYXRlKSksZCYmZS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJycnRyXCJ9KX0pKSxyJiYobD1sLmZpbHRlcigoZT0+e3ZhciB0O3JldHVyblwicnR4XCIhPT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl9KSksaD1oLmZpbHRlcigoZT0+e3ZhciB0O3JldHVyblwicnR4XCIhPT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl9KSkpLHMmJihoPWguZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIS8ocmVkKXwodWxwZmVjKXwoZmxleGZlYykvaS50ZXN0KChudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZSl8fFwiXCIpfSkpKSxvJiYobD1sLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiEvKHJlZCl8KHVscGZlYyl8KGZsZXhmZWMpL2kudGVzdCgobnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUpfHxcIlwiKX0pKSksYSYmKG51bGw9PWE/dm9pZCAwOmEubGVuZ3RoKT4wJiYobD1sLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBQcihhKS5jYWxsKGEsKG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKX0pKSksYyYmKG51bGw9PWM/dm9pZCAwOmMubGVuZ3RoKT4wJiYoaD1oLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBQcihjKS5jYWxsKGMsKG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKX0pKSk7Y29uc3QgbT1rQyhcIlVOU1VQUE9SVEVEX1ZJREVPX0NPREVDXCIpO3JldHVybiBtJiZtLmxlbmd0aD4wJiYoaD1oLmZpbHRlcigoZT0+IShlLnJ0cE1hcCYmUHIobSkuY2FsbChtLGUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKSkpKSkse2F1ZGlvQ29kZWNzOmwsdmlkZW9Db2RlY3M6aCxhdWRpb0V4dGVuc2lvbnM6dSx2aWRlb0V4dGVuc2lvbnM6cH19ZnVuY3Rpb24gelAoZSl7Y29uc3QgdD1LUC5wYXJzZShlKTtsZXQgaSxuO2Zvcihjb25zdCBlIG9mIHQubWVkaWFEZXNjcmlwdGlvbnMpe2lmKCFpKXtjb25zdCB0PWUuYXR0cmlidXRlcy5pY2VVZnJhZyxuPWUuYXR0cmlidXRlcy5pY2VQd2Q7aWYoIXR8fCFuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaWNlVWZyYWcgb3IgaWNlUHdkIGZyb20gU0RQLlwiKTtpPXtpY2VVZnJhZzp0LGljZVB3ZDpufX1pZighbil7Y29uc3QgdD1lLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzO3QubGVuZ3RoPjAmJihuPXtmaW5nZXJwcmludHM6dH0pfX1pZighbiYmdC5hdHRyaWJ1dGVzLmZpbmdlcnByaW50cy5sZW5ndGg+MCYmKG49e2ZpbmdlcnByaW50czp0LmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzfSksIW58fCFpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaWNlUGFyYW1ldGVycyBvciBkdGxzUGFyYW1ldGVycyBmcm9tIFNEUC5cIik7cmV0dXJue2ljZVBhcmFtZXRlcnM6aSxkdGxzUGFyYW1ldGVyczpufX1mdW5jdGlvbiBYUChlLHQpe2NvbnN0IGk9W10sbj1lLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5maWx0ZXIoKGU9PlwiRklEXCI9PT1lLnNlbWFudGljKSkscj1lLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5maW5kKChlPT5cIlNJTVwiPT09ZS5zZW1hbnRpYykpLHM9ZS5hdHRyaWJ1dGVzLnNzcmNzO2lmKHIpci5zc3JjSWRzLmZvckVhY2goKGU9Pnt2YXIgcjtjb25zdCBzPW51bGw9PT0ocj1uLmZpbmQoKHQ9PnQuc3NyY0lkc1swXT09PWUpKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc3NyY0lkc1sxXTtpLnB1c2goe3NzcmNJZDplLHJ0eDp0P3M6dm9pZCAwfSl9KSk7ZWxzZSBpZihuLmxlbmd0aD4wKXtjb25zdCBlPW5bMF0uc3NyY0lkc1swXSxyPW5bMF0uc3NyY0lkc1sxXTtpLnB1c2goe3NzcmNJZDplLHJ0eDp0P3I6dm9pZCAwfSl9ZWxzZXtpZigwPT09cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3NyY3MgZm91bmQgb24gbG9jYWwgbWVkaWEgZGVzY3JpcHRpb24uXCIpO2kucHVzaCh7c3NyY0lkOnNbMF0uc3NyY0lkfSl9cmV0dXJuIGl9ZnVuY3Rpb24gUVAoZSx0KXtjb25zdHtjbmFtZTppfT1lO2xldCBuO3QmJnQuaXAmJlwibnVtYmVyXCI9PXR5cGVvZiB0LnBvcnQ/KG49W3tmb3VuZGF0aW9uOlwidWRwY2FuZGlkYXRlXCIsY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OlwidWRwXCIscHJpb3JpdHk6XCIyMTAzMjY2MzIzXCIsY29ubmVjdGlvbkFkZHJlc3M6dC5pcCxwb3J0OnQucG9ydC50b1N0cmluZygpLHR5cGU6XCJob3N0XCIsZXh0ZW5zaW9uOnt9fV0sS0MuZGVidWcoXCJVc2luZyByZW1vdGUgY2FuZGlkYXRlIGZyb20gQVAgXCIuY29uY2F0KHQuaXAsXCI6XCIpLmNvbmNhdCh0LnBvcnQpKSx0LmlwNiYmKG4ucHVzaCh7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpcInVkcFwiLHByaW9yaXR5OlwiMjEwMzI2NjMyM1wiLGNvbm5lY3Rpb25BZGRyZXNzOnQuaXA2LHBvcnQ6dC5wb3J0LnRvU3RyaW5nKCksdHlwZTpcImhvc3RcIixleHRlbnNpb246e319KSxLQy5kZWJ1ZyhcIlVzaW5nIElQVjYgcmVtb3RlIGNhbmRpZGF0ZSBmcm9tIEFQIFwiLmNvbmNhdCh0LmlwNixcIjpcIikuY29uY2F0KHQucG9ydCkpKSk6bj1lLmljZVBhcmFtZXRlcnMuY2FuZGlkYXRlcy5tYXAoKGU9Pih7Zm91bmRhdGlvbjplLmZvdW5kYXRpb24sY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OmUucHJvdG9jb2wscHJpb3JpdHk6ZS5wcmlvcml0eS50b1N0cmluZygpLGNvbm5lY3Rpb25BZGRyZXNzOmUuaXAscG9ydDplLnBvcnQudG9TdHJpbmcoKSx0eXBlOmUudHlwZSxleHRlbnNpb246e319KSkpO2NvbnN0IHI9e2ZpbmdlcnByaW50czplLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cy5tYXAoKGU9Pih7aGFzaEZ1bmN0aW9uOmUuYWxnb3JpdGhtLGZpbmdlcnByaW50OmUuZmluZ2VycHJpbnR9KSkpfSxzPXtpY2VVZnJhZzplLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOmUuaWNlUGFyYW1ldGVycy5pY2VQd2R9O2xldCBvO3N3aXRjaChlLmR0bHNQYXJhbWV0ZXJzLnJvbGUpe2Nhc2VcInNlcnZlclwiOm89XCJwYXNzaXZlXCI7YnJlYWs7Y2FzZVwiY2xpZW50XCI6bz1cImFjdGl2ZVwiO2JyZWFrO2Nhc2VcImF1dG9cIjpvPVwiYWN0cGFzc1wifXJldHVybntkdGxzUGFyYW1ldGVyczpyLGljZVBhcmFtZXRlcnM6cyxjYW5kaWRhdGVzOm4scnRwQ2FwYWJpbGl0aWVzOmFMKGUucnRwQ2FwYWJpbGl0aWVzKSxzZXR1cDpvLGNuYW1lOml9fWZ1bmN0aW9uIFpQKGUsdCxpKXtjb25zdCBuPVtdLHI9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2xldHtzc3JjSWQ6cyxydHg6b309ZTtjb25zdCBhPXhUKDgsXCJ0cmFjay1cIiksYz17c3NyY0lkOnMsYXR0cmlidXRlczpxUCh7bGFiZWw6YSxtc2xhYmVsOmk9aXx8eFQoMTAsXCJcIiksbXNpZDpcIlwiLmNvbmNhdChpLFwiIFwiKS5jb25jYXQoYSl9LHQmJntjbmFtZTp0fSl9O2lmKG4ucHVzaChjKSx2b2lkIDAhPT1vKXtjb25zdCBlPXtzc3JjSWQ6byxhdHRyaWJ1dGVzOnFQKHtsYWJlbDphLG1zbGFiZWw6aSxtc2lkOlwiXCIuY29uY2F0KGksXCIgXCIpLmNvbmNhdChhKX0sdCYme2NuYW1lOnR9KX07bi5wdXNoKGUpLHIucHVzaCh7c2VtYW50aWM6XCJGSURcIixzc3JjSWRzOltzLG9dfSl9fSkpLGUubGVuZ3RoPjEmJnIucHVzaCh7c2VtYW50aWM6XCJTSU1cIixzc3JjSWRzOmUubWFwKChlPT57bGV0e3NzcmNJZDp0fT1lO3JldHVybiB0fSkpfSkse3NzcmNzOm4sc3NyY0dyb3VwczpyfX1mdW5jdGlvbiAkUChlLHQpe3QgaW5zdGFuY2VvZiBaQSYmZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pnt2YXIgaTtjb25zdCBuPW51bGw9PT0oaT1lLnJ0cE1hcCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCk7aWYoIW58fC0xPT09W1wib3B1c1wiLFwicGNtdVwiLFwicGNtYVwiLFwiZzcyMlwiXS5pbmRleE9mKG4pKXJldHVybjtlLmZtdHB8fChlLmZtdHA9e3BhcmFtZXRlcnM6e319KSxlLmZtdHAucGFyYW1ldGVycy5taW5wdGltZT1cIjEwXCIsZS5mbXRwLnBhcmFtZXRlcnMudXNlaW5iYW5kZmVjPVwiMVwiO2NvbnN0IHI9dC5fZW5jb2RlckNvbmZpZztyJiZcInBjbXVcIiE9PW4mJlwicGNtYVwiIT09biYmXCJnNzIyXCIhPT1uJiYoci5iaXRyYXRlJiYhUmcoKSYmKGUuZm10cC5wYXJhbWV0ZXJzLm1heGF2ZXJhZ2ViaXRyYXRlPVwiXCIuY29uY2F0KE1hdGguZmxvb3IoMWUzKnIuYml0cmF0ZSkpKSxyLnNhbXBsZVJhdGUmJihlLmZtdHAucGFyYW1ldGVycy5tYXhwbGF5YmFja3JhdGU9XCJcIi5jb25jYXQoci5zYW1wbGVSYXRlKSxlLmZtdHAucGFyYW1ldGVyc1tcInNwcm9wLW1heGNhcHR1cmVyYXRlXCJdPVwiXCIuY29uY2F0KHIuc2FtcGxlUmF0ZSkpLHIuc3RlcmVvJiYoZS5mbXRwLnBhcmFtZXRlcnMuc3RlcmVvPVwiMVwiLGUuZm10cC5wYXJhbWV0ZXJzW1wic3Byb3Atc3RlcmVvXCJdPVwiMVwiKSl9KSl9ZnVuY3Rpb24gZUwoZSl7Y29uc3QgdD1lLmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLmZpbmRJbmRleCgoZT0+XCJ4LWdvb2dsZS1mbGFnXCI9PT1lLmF0dEZpZWxkJiZcImNvbmZlcmVuY2VcIj09PWUuYXR0VmFsdWUpKTstMSE9PXQmJmUuYXR0cmlidXRlcy51bnJlY29nbml6ZWQuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gdEwoZSx0KXt2YXIgaTtpZighKHQgaW5zdGFuY2VvZiBTYiYmdC5fZW5jb2RlckNvbmZpZyYmLTE9PT10Ll9oaW50cy5pbmRleE9mKGt5LlNDUkVFTl9UUkFDSykpKXJldHVybjtjb25zdCBuPXQuX2VuY29kZXJDb25maWc7X0EoKS5zdXBwb3J0TWluQml0cmF0ZSYmbi5iaXRyYXRlTWluJiZlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaCgoZT0+e3ZhciB0LGk7UHIodD1bXCJoMjY0XCIsXCJoMjY1XCIsXCJ2cDhcIixcInZwOVwiLFwiYXYxXCJdKS5jYWxsKHQsKG51bGw9PT0oaT1lLnJ0cE1hcCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKSYmKGUuZm10cHx8KGUuZm10cD17cGFyYW1ldGVyczp7fX0pLGUuZm10cC5wYXJhbWV0ZXJzW1wieC1nb29nbGUtbWluLWJpdHJhdGVcIl09XCJcIi5jb25jYXQobi5iaXRyYXRlTWluKSl9KSksX0EoKS5zdXBwb3J0TWluQml0cmF0ZSYmIVByKGk9dC5faGludHMpLmNhbGwoaSxreS5MT1dfU1RSRUFNKSYmbi5iaXRyYXRlTWF4JiZlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaCgoZT0+e3ZhciB0LGk7UHIodD1bXCJoMjY0XCIsXCJoMjY1XCIsXCJ2cDhcIixcInZwOVwiLFwiYXYxXCJdKS5jYWxsKHQsKG51bGw9PT0oaT1lLnJ0cE1hcCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKSYmKGUuZm10cHx8KGUuZm10cD17cGFyYW1ldGVyczp7fX0pLGUuZm10cC5wYXJhbWV0ZXJzW1wieC1nb29nbGUtc3RhcnQtYml0cmF0ZVwiXT1cIlwiLmNvbmNhdChrQyhcIlhfR09PR0xFX1NUQVJUX0JJVFJBVEVcIil8fE1hdGguZmxvb3Iobi5iaXRyYXRlTWF4KSkpfSkpfWZ1bmN0aW9uIGlMKGUpe2lmKFwidmlkZW9cIiE9PWUubWVkaWEubWVkaWFUeXBlKXJldHVybjtjb25zdCB0PXBnKCk7aWYodC5uYW1lIT09Y2cuU0FGQVJJJiZ0Lm9zIT09YWcuSU9TKXJldHVybjtjb25zdCBpPWUuYXR0cmlidXRlcy5leHRtYXBzLmZpbmRJbmRleCgoZT0+L3ZpZGVvLW9yaWVudGF0aW9uL2cudGVzdChlLmV4dGVuc2lvbk5hbWUpKSk7LTEhPT1pJiZlLmF0dHJpYnV0ZXMuZXh0bWFwcy5zcGxpY2UoaSwxKX1mdW5jdGlvbiBuTChlLHQsaSl7aWYoIXQpcmV0dXJuO2xldCBuLHI7aWYoXCJ2aWRlb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGU/KG49aS52aWRlb0V4dGVuc2lvbnMscj1pLnZpZGVvQ29kZWNzKToobj1pLmF1ZGlvRXh0ZW5zaW9ucyxyPWkuYXVkaW9Db2RlY3MpLCEwPT09dC50d2NjKXtjb25zdCB0PW4uZmluZCgoZT0+XCJodHRwOi8vd3d3LmlldGYub3JnL2lkL2RyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxXCI9PT1lLmV4dGVuc2lvbk5hbWUpKTtpZih0KXtlLmF0dHJpYnV0ZXMuZXh0bWFwcy5maW5kKChlPT5cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIj09PWUuZXh0ZW5zaW9uTmFtZSkpfHxlLmF0dHJpYnV0ZXMuZXh0bWFwcy5wdXNoKHtlbnRyeTp0LmVudHJ5LGV4dGVuc2lvbk5hbWU6XCJodHRwOi8vd3d3LmlldGYub3JnL2lkL2RyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxXCJ9KTtjb25zdCBpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKCh0PT4hIWUuZmluZCgoZT0+ZS5wYXlsb2FkVHlwZT09PXQucGF5bG9hZFR5cGUmJiEhZS5ydGNwRmVlZGJhY2tzLmZpbmQoKGU9PlwidHJhbnNwb3J0LWNjXCI9PT1lLnR5cGUpKSkpKSl9KHIsZS5hdHRyaWJ1dGVzLnBheWxvYWRzKTtpLmZvckVhY2goKGU9PntlLnJ0Y3BGZWVkYmFja3MuZmluZCgoZT0+XCJ0cmFuc3BvcnQtY2NcIj09PWUudHlwZSkpfHxlLnJ0Y3BGZWVkYmFja3MucHVzaCh7dHlwZTpcInRyYW5zcG9ydC1jY1wifSl9KSl9fWVsc2UgaWYoITE9PT10LnR3Y2Mpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZEluZGV4KChlPT5cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIj09PWUuZXh0ZW5zaW9uTmFtZSkpOy0xIT09dCYmZS5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKHQsMSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pntjb25zdCB0PWUucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoKGU9PlwidHJhbnNwb3J0LWNjXCI9PT1lLnR5cGUpKTstMSE9PXQmJmUucnRjcEZlZWRiYWNrcy5zcGxpY2UodCwxKX0pKX1pZighMD09PXQucmVtYil7Y29uc3QgdD1uLmZpbmQoKGU9PlwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZVwiPT09ZS5leHRlbnNpb25OYW1lKSk7aWYodCl7ZS5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZCgoZT0+XCJodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lXCI9PT1lLmV4dGVuc2lvbk5hbWUpKXx8ZS5hdHRyaWJ1dGVzLmV4dG1hcHMucHVzaCh7ZW50cnk6dC5lbnRyeSxleHRlbnNpb25OYW1lOlwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZVwifSk7Y29uc3QgaT1mdW5jdGlvbihlLHQpe3JldHVybiB0LmZpbHRlcigodD0+ISFlLmZpbmQoKGU9PmUucGF5bG9hZFR5cGU9PT10LnBheWxvYWRUeXBlJiYhIWUucnRjcEZlZWRiYWNrcy5maW5kKChlPT5cImdvb2ctcmVtYlwiPT09ZS50eXBlKSkpKSkpfShyLGUuYXR0cmlidXRlcy5wYXlsb2Fkcyk7aS5mb3JFYWNoKChlPT57ZS5ydGNwRmVlZGJhY2tzLmZpbmQoKGU9PlwiZ29vZy1yZW1iXCI9PT1lLnR5cGUpKXx8ZS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJnb29nLXJlbWJcIn0pfSkpfX1lbHNlIGlmKCExPT09dC5yZW1iKXtjb25zdCB0PWUuYXR0cmlidXRlcy5leHRtYXBzLmZpbmRJbmRleCgoZT0+XCJodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lXCI9PT1lLmV4dGVuc2lvbk5hbWUpKTstMSE9PXQmJmUuYXR0cmlidXRlcy5leHRtYXBzLnNwbGljZSh0LDEpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnJ0Y3BGZWVkYmFja3MuZmluZEluZGV4KChlPT5cImdvb2ctcmVtYlwiPT09ZS50eXBlKSk7LTEhPT10JiZlLnJ0Y3BGZWVkYmFja3Muc3BsaWNlKHQsMSl9KSl9fWZ1bmN0aW9uIHJMKGUsdCxpKXtpZihSZygpKXJldHVybjtpZihcInZpZGVvXCIhPT1lLm1lZGlhLm1lZGlhVHlwZSlyZXR1cm47aWYoISh0IGluc3RhbmNlb2YgU2IpKXJldHVybjtpZihcInZwOVwiIT09aSYmXCJ2cDhcIiE9PWkpcmV0dXJuO2lmKFwidnA4XCI9PT1pJiYha0MoXCJTSU1VTENBU1RcIikpcmV0dXJuO2lmKHZvaWQgMD09PXQuX3NjYWxhYmlsaXR5TW9kZXx8dC5fc2NhbGFiaWxpdHlNb2RlLm51bVNwYXRpYWxMYXllcnM8PTEpcmV0dXJuO2NvbnN0IG49XCJ2cDhcIj09PWk/Mjp0Ll9zY2FsYWJpbGl0eU1vZGUubnVtU3BhdGlhbExheWVycyxyPWUuYXR0cmlidXRlcy5zc3Jjc1swXSxzPWUuYXR0cmlidXRlcy5zc3JjR3JvdXBzLmZpbmQoKGU9PlwiRklEXCI9PT1lLnNlbWFudGljJiZlLnNzcmNJZHNbMF09PT1yLnNzcmNJZCkpLG89e3NlbWFudGljOlwiU0lNXCIsc3NyY0lkczpbci5zc3JjSWRdfTtmb3IobGV0IHQ9MTt0PG47dCsrKWUuYXR0cmlidXRlcy5zc3Jjcy5wdXNoKHtzc3JjSWQ6ci5zc3JjSWQrdCxhdHRyaWJ1dGVzOmJUKHIuYXR0cmlidXRlcyl9KSxvLnNzcmNJZHMucHVzaChyLnNzcmNJZCt0KSxzJiYoZS5hdHRyaWJ1dGVzLnNzcmNzLnB1c2goe3NzcmNJZDpzLnNzcmNJZHNbMV0rdCxhdHRyaWJ1dGVzOmJUKHIuYXR0cmlidXRlcyl9KSxlLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpYzpcIkZJRFwiLHNzcmNJZHM6W3Iuc3NyY0lkK3Qscy5zc3JjSWRzWzFdK3RdfSkpO2UuYXR0cmlidXRlcy5zc3JjR3JvdXBzLnVuc2hpZnQobyl9YXN5bmMgZnVuY3Rpb24gc0woKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307Y29uc3R7ZmlsdGVyUlRYOmksZmlsdGVyVmlkZW9GZWM6bixmaWx0ZXJBdWRpb0ZlYzpyLGZpbHRlckF1ZGlvQ29kZWM6cyxmaWx0ZXJWaWRlb0NvZGVjOm99PWUse3VzZVhSOmF9PXQsYz1uZXcgUlRDUGVlckNvbm5lY3Rpb247Yy5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInNlbmRvbmx5XCJ9KSxjLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pLGMuYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSksYy5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KTtjb25zdCBkPShhd2FpdCBjLmNyZWF0ZU9mZmVyKCkpLnNkcCxsPUpQKGQse2ZpbHRlclJUWDppLGZpbHRlclZpZGVvRmVjOm4sZmlsdGVyQXVkaW9GZWM6cixmaWx0ZXJBdWRpb0NvZGVjOnMsZmlsdGVyVmlkZW9Db2RlYzpvfSx7dXNlWFI6YX0sXCJzZW5kb25seVwiKSxoPUpQKGQse2ZpbHRlclJUWDppLGZpbHRlclZpZGVvRmVjOm4sZmlsdGVyQXVkaW9GZWM6cixmaWx0ZXJBdWRpb0NvZGVjOnMsZmlsdGVyVmlkZW9Db2RlYzpvfSx7dXNlWFI6YX0sXCJyZWN2b25seVwiKSx1PXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxwPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxfPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfTtpZihvTChsLGgsXCJ2aWRlb0V4dGVuc2lvbnNcIix1LHAsXyksb0wobCxoLFwidmlkZW9Db2RlY3NcIix1LHAsXyksb0wobCxoLFwiYXVkaW9FeHRlbnNpb25zXCIsdSxwLF8pLG9MKGwsaCxcImF1ZGlvQ29kZWNzXCIsdSxwLF8pLGtDKFwiUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWVwiKSl7Y29uc3QgZT1fLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+e3ZhciB0LGk7cmV0dXJuXCJoMjY0XCI9PT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSkmJlwiNDIwMDFmXCI9PT0obnVsbD09PShpPWUuZm10cCl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pfSkpO2lmKC0xIT09ZSl7Y29uc3QgdD1fLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+e3ZhciB0O3JldHVyblwiaDI2NFwiPT09KG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpfSkpO2lmKHQ8ZSl7S0MuZGVidWcoXCJyYWlzaW5nIEgyNjQgYmFzZWxpbmUgcHJvZmlsZSBwcmlvcml0eVwiKTtjb25zdCBpPV8udmlkZW9Db2RlY3NbZV07Xy52aWRlb0NvZGVjcy5zcGxpY2UoZSwxKSxfLnZpZGVvQ29kZWNzLnNwbGljZSh0LDAsaSl9LTEhPT10JiYocC52aWRlb0NvZGVjcz1wLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuIShcImgyNjRcIj09PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSYmXCI0MjAwMWZcIiE9PShudWxsPT09KGk9ZS5mbXRwKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSkpfSkpKSwtMSE9PXQmJmtDKFwiRklMVEVSX1NFTkRfSDI2NF9CQVNFTElORVwiKSYmKHUudmlkZW9Db2RlY3M9dS52aWRlb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiEoXCJoMjY0XCI9PT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSkmJlwiNDIwMDFmXCIhPT0obnVsbD09PShpPWUuZm10cCl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pKX0pKSl9fXRyeXtjLmNsb3NlKCl9Y2F0Y2goZSl7fXJldHVybntzZW5kOnUscmVjdjpwLHNlbmRyZWN2Ol99fWZ1bmN0aW9uIG9MKGUsdCxpLG4scixzKXtpZihcInZpZGVvRXh0ZW5zaW9uc1wiPT09aXx8XCJhdWRpb0V4dGVuc2lvbnNcIj09PWkpe2NvbnN0IG89W107cmV0dXJuIGVbaV0uZm9yRWFjaCgoZT0+e3RbaV0uc29tZSgoKHQsaSk9PntpZihlLmVudHJ5PT09dC5lbnRyeSYmZS5leHRlbnNpb25OYW1lPT09dC5leHRlbnNpb25OYW1lKXJldHVybiBvLnB1c2goaSksITB9KSk/c1tpXS5wdXNoKGUpOm5baV0ucHVzaChlKX0pKSx2b2lkIHRbaV0uZm9yRWFjaCgoKGUsdCk9PnstMT09PW8uaW5kZXhPZih0KSYmcltpXS5wdXNoKGUpfSkpfWlmKFwidmlkZW9Db2RlY3NcIj09PWl8fFwiYXVkaW9Db2RlY3NcIj09PWkpe2NvbnN0IG89W107cmV0dXJuIGVbaV0uZm9yRWFjaCgoZT0+e3RbaV0uc29tZSgoKHQsaSk9PntpZihlLnBheWxvYWRUeXBlPT09dC5wYXlsb2FkVHlwZSYmSlNPTi5zdHJpbmdpZnkoZSk9PT1KU09OLnN0cmluZ2lmeSh0KSlyZXR1cm4gby5wdXNoKGkpLCEwfSkpP3NbaV0ucHVzaChlKTpuW2ldLnB1c2goZSl9KSksdm9pZCB0W2ldLmZvckVhY2goKChlLHQpPT57LTE9PT1vLmluZGV4T2YodCkmJnJbaV0ucHVzaChlKX0pKX19ZnVuY3Rpb24gYUwoZSl7Y29uc3R7c2VuZDp0LHJlY3Y6aSxzZW5kcmVjdjpufT1lO2lmKCFuKXtpZighdHx8IWkpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IG1lcmdlIHJ0cCBjYXBhYmlsaXRpZXMgYmVjYXVzZSBvbmUgb2Ygc2VuZCBvciByZWN2IGlzIGVtcHR5IVwiKTtyZXR1cm57c2VuZDp0LHJlY3Y6aX19bGV0IHIscztyZXR1cm4gdD8ocj17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sci5hdWRpb0NvZGVjcz1bLi4udC5hdWRpb0NvZGVjcywuLi5uLmF1ZGlvQ29kZWNzXSxyLnZpZGVvQ29kZWNzPVsuLi50LnZpZGVvQ29kZWNzLC4uLm4udmlkZW9Db2RlY3NdLHIuYXVkaW9FeHRlbnNpb25zPVsuLi50LmF1ZGlvRXh0ZW5zaW9ucywuLi5uLmF1ZGlvRXh0ZW5zaW9uc10sci52aWRlb0V4dGVuc2lvbnM9Wy4uLnQudmlkZW9FeHRlbnNpb25zLC4uLm4udmlkZW9FeHRlbnNpb25zXSk6cj1uLGk/KHM9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHMuYXVkaW9Db2RlY3M9Wy4uLmkuYXVkaW9Db2RlY3MsLi4ubi5hdWRpb0NvZGVjc10scy52aWRlb0NvZGVjcz1bLi4uaS52aWRlb0NvZGVjcywuLi5uLnZpZGVvQ29kZWNzXSxzLmF1ZGlvRXh0ZW5zaW9ucz1bLi4uaS5hdWRpb0V4dGVuc2lvbnMsLi4ubi5hdWRpb0V4dGVuc2lvbnNdLHMudmlkZW9FeHRlbnNpb25zPVsuLi5pLnZpZGVvRXh0ZW5zaW9ucywuLi5uLnZpZGVvRXh0ZW5zaW9uc10pOnM9bix7c2VuZDpyLHJlY3Y6c319ZnVuY3Rpb24gY0woZSl7aWYoXCJhdWRpb1wiIT09ZS5tZWRpYS5tZWRpYVR5cGUpcmV0dXJuO2UuYXR0cmlidXRlcy5wYXlsb2Fkcy5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm5cIm9wdXNcIj09PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKX0pKS5mb3JFYWNoKChlPT57ZS5mbXRwfHwoZS5mbXRwPXtwYXJhbWV0ZXJzOnt9fSksZS5mbXRwLnBhcmFtZXRlcnMuc3RlcmVvPVwiMVwiLGUuZm10cC5wYXJhbWV0ZXJzW1wic3Byb3Atc3RlcmVvXCJdPVwiMVwifSkpfWZ1bmN0aW9uIGRMKGUpe2UubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e1widmlkZW9cIiE9PWUubWVkaWEubWVkaWFUeXBlJiZcImF1ZGlvXCIhPT1lLm1lZGlhLm1lZGlhVHlwZXx8ZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9PnstMT09PWUucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoKGU9PlwicnJ0clwiPT09ZS50eXBlKSkmJmUucnRjcEZlZWRiYWNrcy5wdXNoKHt0eXBlOlwicnJ0clwifSl9KSl9KSl9ZnVuY3Rpb24gbEwoZSx0LGksbil7bGV0IHI9W107aWYoZT09PWhJLlZJREVPKXtpZihrQyhcIkgyNjRfUFJPRklMRV9MRVZFTF9JRFwiKSYmXCJoMjY0XCI9PT1uJiYocj10LnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBQcih0PWUucnRwTWFwJiZlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikuY2FsbCh0LG4pJiZlJiZlLmZtdHAmJmUuZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXT09PWtDKFwiSDI2NF9QUk9GSUxFX0xFVkVMX0lEXCIpfSkpKSwhQXJyYXkuaXNBcnJheShyKXx8MD09PXIubGVuZ3RoKXtjb25zdCBlPWkudmlkZW9Db2RlY3MuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIFByKHQ9ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5jYWxsKHQsbil9KSk7MCE9PWUubGVuZ3RoJiYocj10LnZpZGVvQ29kZWNzLmZpbHRlcigodD0+ZS5zb21lKChlPT5lLnBheWxvYWRUeXBlPT09dC5wYXlsb2FkVHlwZSkpKSkpfWlmKGtDKFwiVVNFX1BVQl9SVFhcIikpe2NvbnN0IGU9ci5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoKSkpLGk9dC52aWRlb0NvZGVjcy5maWx0ZXIoKHQ9PnQucnRwTWFwJiZcInJ0eFwiPT09dC5ydHBNYXAuZW5jb2RpbmdOYW1lJiZQcihlKS5jYWxsKGUsdC5mbXRwJiZ0LmZtdHAucGFyYW1ldGVycy5hcHR8fFwiXCIpKSk7cj1bLi4uciwuLi5pXX0wPT09ci5sZW5ndGgmJihLQy53YXJuaW5nKFwiY29kZWMgXCIuY29uY2F0KG4sXCIgbm90IGluY2x1ZGVkIGluIHJ0cENhcGFiaWxpdGllcywgZmFsbGJhY2sgdG8gZGVmYXVsdCBwYXlsb2FkczogXCIpLmNvbmNhdCh0LnZpZGVvQ29kZWNzWzBdLnJ0cE1hcCYmdC52aWRlb0NvZGVjc1swXS5ydHBNYXAuZW5jb2RpbmdOYW1lKSkscj10LnZpZGVvQ29kZWNzKX1lbHNlIHI9dC5hdWRpb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gUHIodD1lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmNhbGwodCxuKX0pKSwwPT09ci5sZW5ndGgmJihLQy53YXJuaW5nKFwiY29kZWMgXCIuY29uY2F0KG4sXCIgbm90IGluY2x1ZGVkIGluIHJ0cENhcGFiaWxpdGllcywgZmFsbGJhY2sgdG8gb3B1c1wiKSkscj10LmF1ZGlvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBQcih0PWUucnRwTWFwJiZlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikuY2FsbCh0LFwib3B1c1wiKX0pKSk7cmV0dXJuIHJ9ZnVuY3Rpb24gaEwoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHVMKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2hMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmhMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHBMKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUubWFwKChlPT5lKSk7aWYoIV9MKGUpKXJldHVybiBlO2NvbnN0IHQ9e307Zm9yKGNvbnN0IGkgaW4gZSl7Y29uc3Qgbj1lW2ldO19MKG4pfHxBcnJheS5pc0FycmF5KG4pP3RbaV09cEwobik6dFtpXT1ufXJldHVybiB0fWZ1bmN0aW9uIF9MKGUpe3JldHVybiEoXCJvYmplY3RcIiE9dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSl8fCFlKX1jbGFzcyBFTHtjb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwiaW5wdXRcIixbXSksbnUodGhpcyxcInNpemVcIix2b2lkIDApLHRoaXMuc2l6ZT1lfWFkZChlKXt0aGlzLmlucHV0LnB1c2goZSksdGhpcy5pbnB1dC5sZW5ndGg+dGhpcy5zaXplJiZ0aGlzLmlucHV0LnNwbGljZSgwLDEpfWRpZmZNZWFuKCl7cmV0dXJuIDA9PT10aGlzLmlucHV0Lmxlbmd0aD8wOih0aGlzLmlucHV0W3RoaXMuaW5wdXQubGVuZ3RoLTFdLXRoaXMuaW5wdXRbMF0pL3RoaXMuaW5wdXQubGVuZ3RofX1jb25zdCBtTD17YWRkcmVzczpcInVua25vd25cIixjYW5kaWRhdGVUeXBlOlwidW5rbm93blwiLGlkOlwidW5rbm93blwiLHBvcnQ6MCxwcmlvcml0eTowLHByb3RvY29sOlwidW5rbm93blwiLHR5cGU6XCJ1bmtub3duXCJ9LGZMPXt0aW1lc3RhbXA6MCxiaXRyYXRlOnthY3R1YWxFbmNvZGVkOjAsdHJhbnNtaXQ6MH0sc2VuZFBhY2tldExvc3NSYXRlOjAscmVjdlBhY2tldExvc3NSYXRlOjAsdmlkZW9SZWN2OltdLHZpZGVvU2VuZDpbXSxhdWRpb1JlY3Y6W10sYXVkaW9TZW5kOltdLHNlbGVjdGVkQ2FuZGlkYXRlUGFpcjp7aWQ6XCJ1bmtub3duXCIsbG9jYWxDYW5kaWRhdGU6bUwscmVtb3RlQ2FuZGlkYXRlOm1MfX0sZ0w9e2ZpcnNDb3VudDowLG5hY2tzQ291bnQ6MCxwbGlzQ291bnQ6MCxmcmFtZXNEZWNvZGVDb3VudDowLGZyYW1lc0RlY29kZUludGVydmFsOjAsZnJhbWVzRGVjb2RlRnJlZXplVGltZTowLGRlY29kZUZyYW1lUmF0ZTowLGJ5dGVzOjAscGFja2V0c0xvc3Q6MCxwYWNrZXRMb3N0UmF0ZTowLHBhY2tldHM6MCxzc3JjOjAscXBTdW1QZXJGcmFtZTowfSxUTD17Zmlyc0NvdW50OjAsbmFja3NDb3VudDowLHBsaXNDb3VudDowLGZyYW1lQ291bnQ6MCxieXRlczowLHBhY2tldHM6MCxwYWNrZXRzTG9zdDowLHBhY2tldExvc3RSYXRlOjAsc3NyYzowLHJ0dE1zOjAsaml0dGVyTXM6MCxxcFN1bVBlckZyYW1lOjB9LFNMPXtieXRlczowLHBhY2tldHM6MCxwYWNrZXRzTG9zdDowLHBhY2tldExvc3RSYXRlOjAsc3NyYzowLHJ0dE1zOjAsaml0dGVyTXM6MH0sUkw9e2ppdHRlckJ1ZmZlck1zOjAsaml0dGVyTXM6MCxieXRlczowLHBhY2tldHNMb3N0OjAscGFja2V0TG9zdFJhdGU6MCxwYWNrZXRzOjAsc3NyYzowLHJlY2VpdmVkRnJhbWVzOjAsZHJvcHBlZEZyYW1lczowLGNvbmNlYWxlZFNhbXBsZXM6MH07ZnVuY3Rpb24gQ0woZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHZMKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0NMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOkNMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIElMe2NvbnN0cnVjdG9yKGUsdCl7bnUodGhpcyxcIm9uRmlyc3RWaWRlb1JlY2VpdmVkXCIsdm9pZCAwKSxudSh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFwiLHZvaWQgMCksbnUodGhpcyxcIm9uRmlyc3RBdWRpb1JlY2VpdmVkXCIsdm9pZCAwKSxudSh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXRcIix2b2lkIDApLG51KHRoaXMsXCJvbkZpcnN0QXVkaW9EZWNvZGVkXCIsdm9pZCAwKSxudSh0aGlzLFwib25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCksbnUodGhpcyxcIm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkXCIsdm9pZCAwKSxudSh0aGlzLFwidmlkZW9Jc1JlYWR5XCIsITEpLG51KHRoaXMsXCJ2aWRlb0lzUmVhZHkyXCIse30pLG51KHRoaXMsXCJwY1wiLHZvaWQgMCksbnUodGhpcyxcIm9wdGlvbnNcIix2b2lkIDApLG51KHRoaXMsXCJpbnRlcnZhbFRpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwic3RhdHNcIixwTChmTCkpLG51KHRoaXMsXCJpc0ZpcnN0VmlkZW9SZWNlaXZlZFwiLHt9KSxudSh0aGlzLFwiaXNGaXJzdFZpZGVvRGVjb2RlZFwiLHt9KSxudSh0aGlzLFwiaXNGaXJzdEF1ZGlvUmVjZWl2ZWRcIix7fSksbnUodGhpcyxcImlzRmlyc3RBdWRpb0RlY29kZWRcIix7fSksbnUodGhpcyxcImlzRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0XCIse30pLG51KHRoaXMsXCJsb3NzUmF0ZVdpbmRvd1N0YXRzXCIsW10pLHRoaXMucGM9ZSx0aGlzLm9wdGlvbnM9dCx0aGlzLmludGVydmFsVGltZXI9d2luZG93LnNldEludGVydmFsKChhc3luYygpPT57dGhpcy51cGRhdGVTdGF0cygpfSksdGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsKX1nZXRTdGF0cygpe3JldHVybiB0aGlzLnN0YXRzfWdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe3JldHVybiBuZXcgdGcoKGU9PntlKHtsb2NhbDp2TCh7fSxtTCkscmVtb3RlOnZMKHt9LG1MKX0pfSkpfXNldFZpZGVvSXNSZWFkeShlKXt0aGlzLnZpZGVvSXNSZWFkeT1lfXNldFZpZGVvSXNSZWFkeTIoZSx0KXt0aGlzLnZpZGVvSXNSZWFkeTJbZV09dH1nZXRWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMudmlkZW9Jc1JlYWR5MltlXXx8ITF9c2V0SXNGaXJzdEF1ZGlvRGVjb2RlZChlKXt9ZGVzdHJveSgpe3dpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxUaW1lciksdGhpcy5wYz12b2lkIDB9Y2FsY0xvc3NSYXRlKGUpe3RoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5wdXNoKGUpLHRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5sZW5ndGg+dGhpcy5vcHRpb25zLmxvc3NSYXRlSW50ZXJ2YWwmJnRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5zcGxpY2UoMCwxKTtjb25zdCB0PXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5sZW5ndGgsaT1bXCJ2aWRlb1NlbmRcIixcImF1ZGlvU2VuZFwiLFwidmlkZW9SZWN2XCIsXCJhdWRpb1JlY3ZcIl07bGV0IG49MCxyPTAscz0wLG89MDtmb3IoY29uc3QgYSBvZiBpKWVbYV0uZm9yRWFjaCgoKGUsaSk9PntpZighdGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzW3QtMV1bYV1baV18fCF0aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbMF1bYV1baV0pcmV0dXJuO2NvbnN0IGM9dGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzW3QtMV1bYV1baV0ucGFja2V0cy10aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbMF1bYV1baV0ucGFja2V0cyxkPXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1t0LTFdW2FdW2ldLnBhY2tldHNMb3N0LXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1swXVthXVtpXS5wYWNrZXRzTG9zdDtcInZpZGVvU2VuZFwiPT09YXx8XCJhdWRpb1NlbmRcIj09PWE/KG4rPWMscys9ZCk6KHIrPWMsbys9ZCksTnVtYmVyLmlzTmFOKGMpfHxOdW1iZXIuaXNOYU4oYyk/ZS5wYWNrZXRMb3N0UmF0ZT0wOmUucGFja2V0TG9zdFJhdGU9Yzw9MHx8ZDw9MD8wOmQvKGMrZCl9KSk7ZS5zZW5kUGFja2V0TG9zc1JhdGU9bjw9MHx8czw9MD8wOnMvKG4rcyksZS5yZWN2UGFja2V0TG9zc1JhdGU9cjw9MHx8bzw9MD8wOm8vKHIrbyl9fWZ1bmN0aW9uIHlMKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBBTChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj95TChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTp5TChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBiTCBleHRlbmRzIElMe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxudSh0aGlzLFwiX3N0YXRzXCIsZkwpLG51KHRoaXMsXCJsYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzXCIsbmV3IE1hcCl9YXN5bmMgdXBkYXRlU3RhdHMoKXtjb25zdCBlPWF3YWl0IHRoaXMuX2dldFN0YXRzKCksdD10aGlzLnN0YXRzUmVzcG9uc2VzVG9PYmplY3RzKGUpO3RoaXMuX3N0YXRzPXBMKGZMKTtjb25zdCBpPXQuZmlsdGVyKChlPT5cInNzcmNcIj09PWUudHlwZSkpO3RoaXMucHJvY2Vzc1NTUkNTdGF0cyhpKTtjb25zdCBuPXQuZmluZCgoZT0+XCJWaWRlb0J3ZVwiPT09ZS50eXBlKSk7biYmdGhpcy5wcm9jZXNzQmFuZHdpZHRoU3RhdHMobiksdGhpcy5fc3RhdHMudGltZXN0YW1wPURhdGUubm93KCksdGhpcy5jYWxjTG9zc1JhdGUodGhpcy5fc3RhdHMpLHRoaXMuc3RhdHM9dGhpcy5fc3RhdHN9cHJvY2Vzc0JhbmR3aWR0aFN0YXRzKGUpe3RoaXMuX3N0YXRzLmJpdHJhdGU9e2FjdHVhbEVuY29kZWQ6TnVtYmVyKGUuZ29vZ0FjdHVhbEVuY0JpdHJhdGUpLHRhcmdldEVuY29kZWQ6TnVtYmVyKGUuZ29vZ1RhcmdldEVuY0JpdHJhdGUpLHJldHJhbnNtaXQ6TnVtYmVyKGUuZ29vZ1JldHJhbnNtaXRCaXRyYXRlKSx0cmFuc21pdDpOdW1iZXIoZS5nb29nVHJhbnNtaXRCaXRyYXRlKX0sdGhpcy5fc3RhdHMuc2VuZEJhbmR3aWR0aD1OdW1iZXIoZS5nb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aCl9cHJvY2Vzc1NTUkNTdGF0cyhlKXtlLmZvckVhY2goKGU9Pnt2YXIgdDtjb25zdCBpPVByKHQ9ZS5pZCkuY2FsbCh0LFwic2VuZFwiKTtzd2l0Y2goXCJcIi5jb25jYXQoZS5tZWRpYVR5cGUsXCJfXCIpLmNvbmNhdChpP1wic2VuZFwiOlwicmVjdlwiKSl7Y2FzZVwidmlkZW9fc2VuZFwiOntjb25zdCB0PXBMKFRMKTt0LmNvZGVjPWUuZ29vZ0NvZGVjTmFtZSx0LmFkYXB0aW9uQ2hhbmdlUmVhc29uPVwibm9uZVwiLGUuZ29vZ0NwdUxpbWl0ZWRSZXNvbHV0aW9uJiYodC5hZGFwdGlvbkNoYW5nZVJlYXNvbj1cImNwdVwiKSxlLmdvb2dCYW5kd2lkdGhMaW1pdGVkUmVzb2x1dGlvbiYmKHQuYWRhcHRpb25DaGFuZ2VSZWFzb249XCJiYW5kd2lkdGhcIiksdC5hdmdFbmNvZGVNcz1OdW1iZXIoZS5nb29nQXZnRW5jb2RlTXMpLHQuaW5wdXRGcmFtZT17d2lkdGg6TnVtYmVyKGUuZ29vZ0ZyYW1lV2lkdGhJbnB1dCl8fE51bWJlcihlLmdvb2dGcmFtZVdpZHRoU2VudCksaGVpZ2h0Ok51bWJlcihlLmdvb2dGcmFtZUhlaWdodElucHV0KXx8TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0U2VudCksZnJhbWVSYXRlOk51bWJlcihlLmdvb2dGcmFtZVJhdGVJbnB1dCl9LHQuc2VudEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFNlbnQpLGhlaWdodDpOdW1iZXIoZS5nb29nRnJhbWVIZWlnaHRTZW50KSxmcmFtZVJhdGU6TnVtYmVyKGUuZ29vZ0ZyYW1lUmF0ZUlucHV0KX0sdC5maXJzQ291bnQ9TnVtYmVyKGUuZ29vZ0ZpclJlY2VpdmVkKSx0Lm5hY2tzQ291bnQ9TnVtYmVyKGUuZ29vZ05hY2tzUmVjZWl2ZWQpLHQucGxpc0NvdW50PU51bWJlcihlLmdvb2dQbGlzUmVjZWl2ZWQpLHQuZnJhbWVDb3VudD1OdW1iZXIoZS5mcmFtZXNFbmNvZGVkKSx0LmJ5dGVzPU51bWJlcihlLmJ5dGVzU2VudCksdC5wYWNrZXRzPU51bWJlcihlLnBhY2tldHNTZW50KSx0LnBhY2tldHNMb3N0PU51bWJlcihlLnBhY2tldHNMb3N0KSx0LnNzcmM9TnVtYmVyKGUuc3NyYyksdC5ydHRNcz1OdW1iZXIoZS5nb29nUnR0fHwwKSx0aGlzLl9zdGF0cy52aWRlb1NlbmQucHVzaCh0KSx0aGlzLl9zdGF0cy5ydHQ9dC5ydHRNczticmVha31jYXNlXCJ2aWRlb19yZWN2XCI6e2NvbnN0IHQ9cEwoZ0wpLGk9dGhpcy5sYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzLmdldChOdW1iZXIoZS5zc3JjKSk7aWYodC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC50YXJnZXREZWxheU1zPU51bWJlcihlLmdvb2dUYXJnZXREZWxheU1zKSx0LnJlbmRlckRlbGF5TXM9TnVtYmVyKGUuZ29vZ1JlbmRlckRlbGF5TXMpLHQuY3VycmVudERlbGF5TXM9TnVtYmVyKGUuZ29vZ0N1cnJlbnREZWxheU1zKSx0Lm1pblBsYXlvdXREZWxheU1zPU51bWJlcihlLmdvb2dNaW5QbGF5b3V0RGVsYXlNcyksdC5kZWNvZGVNcz1OdW1iZXIoZS5nb29nRGVjb2RlTXMpLHQubWF4RGVjb2RlTXM9TnVtYmVyKGUuZ29vZ01heERlY29kZU1zKSx0LnJlY2VpdmVkRnJhbWU9e3dpZHRoOk51bWJlcihlLmdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQpLGhlaWdodDpOdW1iZXIoZS5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCksZnJhbWVSYXRlOk51bWJlcihlLmdvb2dGcmFtZVJhdGVSZWNlaXZlZCl9LHQuZGVjb2RlZEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxoZWlnaHQ6TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGZyYW1lUmF0ZTpOdW1iZXIoZS5nb29nRnJhbWVSYXRlRGVjb2RlZCl9LHQuZGVjb2RlRnJhbWVSYXRlPU51bWJlcihlLmdvb2dGcmFtZVJhdGVEZWNvZGVkKSx0Lm91dHB1dEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxoZWlnaHQ6TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGZyYW1lUmF0ZTpOdW1iZXIoZS5nb29nRnJhbWVSYXRlT3V0cHV0KX0sdC5qaXR0ZXJCdWZmZXJNcz1OdW1iZXIoZS5nb29nSml0dGVyQnVmZmVyTXMpLHQuZmlyc0NvdW50PU51bWJlcihlLmdvb2dGaXJzU2VudCksdC5uYWNrc0NvdW50PU51bWJlcihlLmdvb2dOYWNrc1NlbnQpLHQucGxpc0NvdW50PU51bWJlcihlLmdvb2dQbGlzU2VudCksdC5mcmFtZXNEZWNvZGVDb3VudD1OdW1iZXIoZS5mcmFtZXNEZWNvZGVkKSx0LmJ5dGVzPU51bWJlcihlLmJ5dGVzUmVjZWl2ZWQpLHQucGFja2V0cz1OdW1iZXIoZS5wYWNrZXRzUmVjZWl2ZWQpLHQucGFja2V0c0xvc3Q9TnVtYmVyKGUucGFja2V0c0xvc3QpLHQuc3NyYz1OdW1iZXIoZS5zc3JjKSx0LnBhY2tldHM+MCYmIXRoaXMuaXNGaXJzdFZpZGVvUmVjZWl2ZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQmJnRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQodC5zc3JjKSx0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW3Quc3NyY109ITApLHQuZnJhbWVzRGVjb2RlQ291bnQ+MCYmIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdJiYodGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQodC5zc3JjLHQuZGVjb2RlZEZyYW1lLndpZHRoLHQuZGVjb2RlZEZyYW1lLmhlaWdodCksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY109ITApLGkpe2NvbnN0IG49aS5zdGF0cyxyPURhdGUubm93KCktaS5sdHM7dC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPW4uZnJhbWVzRGVjb2RlRnJlZXplVGltZSx0LmZyYW1lc0RlY29kZUludGVydmFsPW4uZnJhbWVzRGVjb2RlSW50ZXJ2YWwsdC5mcmFtZXNEZWNvZGVDb3VudD5uLmZyYW1lc0RlY29kZUNvdW50JiZ0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbdC5zc3JjXT8oaS5sdHM9RGF0ZS5ub3coKSx0LmZyYW1lc0RlY29kZUludGVydmFsPXIsdC5mcmFtZXNEZWNvZGVJbnRlcnZhbD49dGhpcy5vcHRpb25zLmZyZWV6ZVJhdGVMaW1pdCYmKHRoaXMuZ2V0VmlkZW9Jc1JlYWR5KHBhcnNlSW50KGUuc3NyYywxMCkpP3QuZnJhbWVzRGVjb2RlRnJlZXplVGltZSs9dC5mcmFtZXNEZWNvZGVJbnRlcnZhbDp0aGlzLnNldFZpZGVvSXNSZWFkeTIocGFyc2VJbnQoZS5zc3JjLDEwKSwhMCkpKTp0LmZyYW1lc0RlY29kZUNvdW50PGkuc3RhdHMuZnJhbWVzRGVjb2RlQ291bnQmJih0LmZyYW1lc0RlY29kZUludGVydmFsPTApfXRoaXMubGFzdERlY29kZVZpZGVvUmVjZWl2ZXJTdGF0cy5zZXQodC5zc3JjLHtzdGF0czpBTCh7fSx0KSxsdHM6RGF0ZS5ub3coKX0pLHRoaXMuX3N0YXRzLnZpZGVvUmVjdi5wdXNoKHQpO2JyZWFrfWNhc2VcImF1ZGlvX3JlY3ZcIjp7Y29uc3QgdD1wTChSTCk7dC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC5vdXRwdXRMZXZlbD1NYXRoLmFicyhOdW1iZXIoZS5hdWRpb091dHB1dExldmVsKSkvMzI3NjcsdC5kZWNvZGluZ0NORz1OdW1iZXIoZS5nb29nRGVjb2RpbmdDTkcpLHQuZGVjb2RpbmdDVE49TnVtYmVyKGUuZ29vZ0RlY29kaW5nQ1ROKSx0LmRlY29kaW5nQ1RTRz1OdW1iZXIoZS5nb29nRGVjb2RpbmdDVFNHKSx0LmRlY29kaW5nTm9ybWFsPU51bWJlcihlLmdvb2dEZWNvZGluZ05vcm1hbCksdC5kZWNvZGluZ1BMQz1OdW1iZXIoZS5nb29nRGVjb2RpbmdQTEMpLHQuZGVjb2RpbmdQTENDTkc9TnVtYmVyKGUuZ29vZ0RlY29kaW5nUExDQ05HKSx0LmV4cGFuZFJhdGU9TnVtYmVyKGUuZ29vZ0V4cGFuZFJhdGUpLHQuYWNjZWxlcmF0ZVJhdGU9TnVtYmVyKGUuZ29vZ0FjY2VsZXJhdGVSYXRlKSx0LnByZWVtcHRpdmVFeHBhbmRSYXRlPU51bWJlcihlLmdvb2dQcmVlbXB0aXZlRXhwYW5kUmF0ZSksdC5zZWNvbmRhcnlEZWNvZGVkUmF0ZT1OdW1iZXIoZS5nb29nU2Vjb25kYXJ5RGVjb2RlZFJhdGUpLHQuc3BlZWNoRXhwYW5kUmF0ZT1OdW1iZXIoZS5nb29nU3BlZWNoRXhwYW5kUmF0ZSksdC5wcmVmZXJyZWRKaXR0ZXJCdWZmZXJNcz1OdW1iZXIoZS5nb29nUHJlZmVycmVkSml0dGVyQnVmZmVyTXMpLHQuaml0dGVyQnVmZmVyTXM9TnVtYmVyKGUuZ29vZ0ppdHRlckJ1ZmZlck1zKSx0LmppdHRlck1zPU51bWJlcihlLmdvb2dKaXR0ZXJSZWNlaXZlZCksdC5ieXRlcz1OdW1iZXIoZS5ieXRlc1JlY2VpdmVkKSx0LnBhY2tldHM9TnVtYmVyKGUucGFja2V0c1JlY2VpdmVkKSx0LnBhY2tldHNMb3N0PU51bWJlcihlLnBhY2tldHNMb3N0KSx0LnNzcmM9TnVtYmVyKGUuc3NyYyksdC5yZWNlaXZlZEZyYW1lcz1OdW1iZXIoZS5nb29nRGVjb2RpbmdDVE4pfHxOdW1iZXIoZS5wYWNrZXRzUmVjZWl2ZWQpLHQuZHJvcHBlZEZyYW1lcz1OdW1iZXIoZS5nb29nRGVjb2RpbmdQTEMpK051bWJlcihlLmdvb2dEZWNvZGluZ1BMQ0NORyl8fE51bWJlcihlLnBhY2tldHNMb3N0KSx0LnJlY2VpdmVkRnJhbWVzPjAmJiF0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9SZWNlaXZlZFt0LnNzcmNdPSEwKSx0LmRlY29kaW5nTm9ybWFsPjAmJiF0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCYmdGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9EZWNvZGVkW3Quc3NyY109ITApLHRoaXMuX3N0YXRzLmF1ZGlvUmVjdi5wdXNoKHQpO2JyZWFrfWNhc2VcImF1ZGlvX3NlbmRcIjp7Y29uc3QgdD1wTChTTCk7dC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC5pbnB1dExldmVsPU1hdGguYWJzKE51bWJlcihlLmF1ZGlvSW5wdXRMZXZlbCkpLzMyNzY3LHQuYWVjUmV0dXJuTG9zcz1OdW1iZXIoZS5nb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3N8fDApLHQuYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50PU51bWJlcihlLmdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zc0VuaGFuY2VtZW50fHwwKSx0LnJlc2lkdWFsRWNob0xpa2VsaWhvb2Q9TnVtYmVyKGUuZ29vZ1Jlc2lkdWFsRWNob0xpa2VsaWhvb2R8fDApLHQucmVzaWR1YWxFY2hvTGlrZWxpaG9vZFJlY2VudE1heD1OdW1iZXIoZS5nb29nUmVzaWR1YWxFY2hvTGlrZWxpaG9vZFJlY2VudE1heHx8MCksdC5ieXRlcz1OdW1iZXIoZS5ieXRlc1NlbnQpLHQucGFja2V0cz1OdW1iZXIoZS5wYWNrZXRzU2VudCksdC5wYWNrZXRzTG9zdD1OdW1iZXIoZS5wYWNrZXRzTG9zdCksdC5zc3JjPU51bWJlcihlLnNzcmMpLHQucnR0TXM9TnVtYmVyKGUuZ29vZ1J0dHx8MCksdGhpcy5fc3RhdHMucnR0PXQucnR0TXMsdGhpcy5fc3RhdHMuYXVkaW9TZW5kLnB1c2godCk7YnJlYWt9fX0pKX1fZ2V0U3RhdHMoKXtyZXR1cm4gbmV3IHRnKCgoZSx0KT0+e3RoaXMucGMuZ2V0U3RhdHMoZSx0KX0pKX1zdGF0c1Jlc3BvbnNlc1RvT2JqZWN0cyhlKXtjb25zdCB0PVtdO3JldHVybiBlLnJlc3VsdCgpLmZvckVhY2goKGU9Pntjb25zdCBpPXtpZDplLmlkLHRpbWVzdGFtcDplLnRpbWVzdGFtcC52YWx1ZU9mKCkudG9TdHJpbmcoKSx0eXBlOmUudHlwZX07ZS5uYW1lcygpLmZvckVhY2goKHQ9PntpW3RdPWUuc3RhdCh0KX0pKSx0LnB1c2goaSl9KSksdH19ZnVuY3Rpb24gd0woZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIE9MKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3dMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOndMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIE5MIGV4dGVuZHMgSUx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLG51KHRoaXMsXCJfc3RhdHNcIixmTCksbnUodGhpcyxcInJlcG9ydFwiLHZvaWQgMCksbnUodGhpcyxcImxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHNcIixuZXcgTWFwKSxudSh0aGlzLFwibGFzdFZpZGVvRnJhbWVzUmVjdlwiLG5ldyBNYXApLG51KHRoaXMsXCJsYXN0VmlkZW9GcmFtZXNTZW50XCIsbmV3IE1hcCksbnUodGhpcyxcImxhc3RWaWRlb0ZyYW1lc0RlY29kZVwiLG5ldyBNYXApLG51KHRoaXMsXCJsYXN0VmlkZW9KQkRlbGF5XCIsbmV3IE1hcCksbnUodGhpcyxcImxhc3RBdWRpb0pCRGVsYXlcIixuZXcgTWFwKSxudSh0aGlzLFwibWVkaWFCeXRlc1NlbnRcIixuZXcgTWFwKSxudSh0aGlzLFwibWVkaWFCeXRlc1JldHJhbnNtaXRcIixuZXcgTWFwKSxudSh0aGlzLFwibWVkaWFCeXRlc1RhcmdldEVuY29kZVwiLG5ldyBNYXApLG51KHRoaXMsXCJsYXN0RW5jb2Rlck1zXCIsbmV3IE1hcCl9YXN5bmMgdXBkYXRlU3RhdHMoKXt0aGlzLnJlcG9ydD1hd2FpdCB0aGlzLnBjLmdldFN0YXRzKCksdGhpcy5fc3RhdHM9cEwoZkwpLHRoaXMucmVwb3J0LmZvckVhY2goKGU9Pntzd2l0Y2goZS50eXBlKXtjYXNlIGh2Lk9VVEJPVU5EOmNhc2UgaHYuSU5CT1VORDp7Y29uc3QgdD1lLm1lZGlhVHlwZXx8ZS5raW5kLGk9IXQmJlwiZnJhbWVXaWR0aFwiaW4gZSxuPSF0JiYhKFwiZnJhbWVXaWR0aFwiaW4gZSk7ZS50eXBlPT09aHYuT1VUQk9VTkQ/XCJhdWRpb1wiPT09dHx8bj90aGlzLnByb2Nlc3NBdWRpb091dGJvdW5kU3RhdHMoZSk6KFwidmlkZW9cIj09PXR8fGkpJiZ0aGlzLnByb2Nlc3NWaWRlb091dGJvdW5kU3RhdHMoZSk6ZS50eXBlPT09aHYuSU5CT1VORCYmKFwiYXVkaW9cIj09PXR8fG4/dGhpcy5wcm9jZXNzQXVkaW9JbmJvdW5kU3RhdHMoZSk6KFwidmlkZW9cIj09PXR8fGkpJiZ0aGlzLnByb2Nlc3NWaWRlb0luYm91bmRTdGF0cyhlKSk7YnJlYWt9Y2FzZSBodi5UUkFOU1BPUlQ6e2NvbnN0IHQ9dGhpcy5yZXBvcnQuZ2V0KGUuc2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQpO3QmJnRoaXMucHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyh0KTticmVha31jYXNlIGh2LkNBTkRJREFURV9QQUlSOmUuc2VsZWN0ZWQmJnRoaXMucHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyhlKX19KSksdGhpcy51cGRhdGVTZW5kQml0cmF0ZSgpLHRoaXMuX3N0YXRzLnRpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuY2FsY0xvc3NSYXRlKHRoaXMuX3N0YXRzKSx0aGlzLnN0YXRzPXRoaXMuX3N0YXRzfWFzeW5jIGdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe2NvbnN0IGU9YXdhaXQgdGhpcy5wYy5nZXRTdGF0cygpLHQ9e2xvY2FsOk9MKHt9LG1MKSxyZW1vdGU6T0woe30sbUwpfTtyZXR1cm4gZS5mb3JFYWNoKChpPT57bGV0IG47aWYoaS50eXBlPT09aHYuVFJBTlNQT1JUJiYobj1lLmdldChpLnNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkKSksaS50eXBlPT09aHYuQ0FORElEQVRFX1BBSVImJmkuc2VsZWN0ZWQmJihuPWkpLG4pe2NvbnN0IGk9KGUsdCk9PntlLnR5cGU9dC50eXBlLGUuaWQ9dC5pZCx0LmFkZHJlc3MmJihlLmFkZHJlc3M9dC5hZGRyZXNzKSx0LmNhbmRpZGF0ZVR5cGUmJihlLmNhbmRpZGF0ZVR5cGU9dC5jYW5kaWRhdGVUeXBlKSx0LnBvcnQmJihlLnBvcnQ9dC5wb3J0KSx0LnByaW9yaXR5JiYoZS5wcmlvcml0eT10LnByaW9yaXR5KSx0LnByb3RvY29sJiYoZS5wcm90b2NvbD10LnByb3RvY29sKSx0LnJlbGF5UHJvdG9jb2wmJihlLnJlbGF5UHJvdG9jb2w9dC5yZWxheVByb3RvY29sKX07aWYobi5sb2NhbENhbmRpZGF0ZUlkKXtjb25zdCByPWUuZ2V0KG4ubG9jYWxDYW5kaWRhdGVJZCk7ciYmaSh0LmxvY2FsLHIpfWlmKG4ucmVtb3RlQ2FuZGlkYXRlSWQpe2NvbnN0IHI9ZS5nZXQobi5yZW1vdGVDYW5kaWRhdGVJZCk7ciYmaSh0LnJlbW90ZSxyKX19fSkpLHR9cHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyhlKXtpZih0aGlzLl9zdGF0cy5zZW5kQmFuZHdpZHRoPWUuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlfHwwLGUuY3VycmVudFJvdW5kVHJpcFRpbWUmJih0aGlzLl9zdGF0cy5ydHQ9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpLHRoaXMuX3N0YXRzLnZpZGVvU2VuZC5mb3JFYWNoKCh0PT57ZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKHQucnR0TXM9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpfSkpLHRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5mb3JFYWNoKCh0PT57ZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKHQucnR0TXM9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpfSkpLHRoaXMuX3N0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5pZD1lLmlkLGUubG9jYWxDYW5kaWRhdGVJZCl7Y29uc3QgdD10aGlzLnJlcG9ydC5nZXQoZS5sb2NhbENhbmRpZGF0ZUlkKTt0JiZ0aGlzLnByb2Nlc3NDYW5kaWRhdGVTdGF0cyh0KX1pZihlLnJlbW90ZUNhbmRpZGF0ZUlkKXtjb25zdCB0PXRoaXMucmVwb3J0LmdldChlLnJlbW90ZUNhbmRpZGF0ZUlkKTt0JiZ0aGlzLnByb2Nlc3NDYW5kaWRhdGVTdGF0cyh0KX19cHJvY2Vzc0NhbmRpZGF0ZVN0YXRzKGUpe2xldCB0O2UudHlwZT09PWh2LkxPQ0FMX0NBTkRJREFURSYmKHQ9dGhpcy5fc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlKSxlLnR5cGU9PT1odi5SRU1PVEVfQ0FORElEQVRFJiYodD10aGlzLl9zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIucmVtb3RlQ2FuZGlkYXRlKSx0JiYodC50eXBlPWUudHlwZSx0LmlkPWUuaWQsZS5hZGRyZXNzJiYodC5hZGRyZXNzPWUuYWRkcmVzcyksZS5jYW5kaWRhdGVUeXBlJiYodC5jYW5kaWRhdGVUeXBlPWUuY2FuZGlkYXRlVHlwZSksZS5wb3J0JiYodC5wb3J0PWUucG9ydCksZS5wcmlvcml0eSYmKHQucHJpb3JpdHk9ZS5wcmlvcml0eSksZS5wcm90b2NvbCYmKHQucHJvdG9jb2w9ZS5wcm90b2NvbCksZS5yZWxheVByb3RvY29sJiYodC5yZWxheVByb3RvY29sPWUucmVsYXlQcm90b2NvbCksZS50eXBlPT09aHYuTE9DQUxfQ0FORElEQVRFJiZ0aGlzLnN0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5sb2NhbENhbmRpZGF0ZS5pZCE9PXQuaWQmJnRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZCYmdGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKE9MKHt9LHQpLE9MKHt9LHRoaXMuc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlKSksZS50eXBlPT09aHYuUkVNT1RFX0NBTkRJREFURSYmdGhpcy5zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIucmVtb3RlQ2FuZGlkYXRlLmlkIT09dC5pZCYmdGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCYmdGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZChPTCh7fSx0KSxPTCh7fSx0aGlzLnN0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5yZW1vdGVDYW5kaWRhdGUpKSl9cHJvY2Vzc0F1ZGlvSW5ib3VuZFN0YXRzKGUpe2xldCB0PXRoaXMuX3N0YXRzLmF1ZGlvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lLnNzcmMpKTt0fHwodD1wTChSTCksdGhpcy5fc3RhdHMuYXVkaW9SZWN2LnB1c2godCkpLHQuc3NyYz1lLnNzcmMsdC5wYWNrZXRzPWUucGFja2V0c1JlY2VpdmVkLHQucGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCx0LmJ5dGVzPWUuYnl0ZXNSZWNlaXZlZCx0LmppdHRlck1zPTFlMyplLmppdHRlcix0aGlzLnByb2Nlc3NBdWRpb1RyYWNrUmVjZWl2ZXJTdGF0cyhlLGUudHJhY2tJZCx0KSxlLmNvZGVjSWQmJih0LmNvZGVjPXRoaXMuZ2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlLmNvZGVjSWQpKSx0LnJlY2VpdmVkRnJhbWVzfHwodC5yZWNlaXZlZEZyYW1lcz1lLnBhY2tldHNSZWNlaXZlZCksdC5kcm9wcGVkRnJhbWVzfHwodC5kcm9wcGVkRnJhbWVzPWUucGFja2V0c0xvc3QpLHQucmVjZWl2ZWRGcmFtZXM+MCYmIXRoaXMuaXNGaXJzdEF1ZGlvUmVjZWl2ZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQmJnRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQodC5zc3JjKSx0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW3Quc3NyY109ITApLHQub3V0cHV0TGV2ZWwmJnQub3V0cHV0TGV2ZWw+MCYmIXRoaXMuaXNGaXJzdEF1ZGlvRGVjb2RlZFt0LnNzcmNdJiYodGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQodC5zc3JjKSx0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbdC5zc3JjXT0hMCksXCJudW1iZXJcIj09dHlwZW9mIGUuY29uY2VhbGVkU2FtcGxlcyYmKHQuY29uY2VhbGVkU2FtcGxlcz1lLmNvbmNlYWxlZFNhbXBsZXMpfXByb2Nlc3NWaWRlb0luYm91bmRTdGF0cyhlKXtsZXQgdD10aGlzLl9zdGF0cy52aWRlb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZS5zc3JjKSk7dHx8KHQ9cEwoZ0wpLHRoaXMuX3N0YXRzLnZpZGVvUmVjdi5wdXNoKHQpKSx0LnNzcmM9ZS5zc3JjLHQucGFja2V0cz1lLnBhY2tldHNSZWNlaXZlZCx0LnBhY2tldHNMb3N0PWUucGFja2V0c0xvc3QsdC5ieXRlcz1lLmJ5dGVzUmVjZWl2ZWQsdC5maXJzQ291bnQ9ZS5maXJDb3VudCx0Lm5hY2tzQ291bnQ9ZS5uYWNrQ291bnQsdC5wbGlzQ291bnQ9ZS5wbGlDb3VudCx0LmZyYW1lc0RlY29kZUNvdW50PWUuZnJhbWVzRGVjb2RlZCx0LnRvdGFsSW50ZXJGcmFtZURlbGF5PWUudG90YWxJbnRlckZyYW1lRGVsYXksdC50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXk9ZS50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXk7Y29uc3QgaT10aGlzLmxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHMuZ2V0KHQuc3NyYyksbj10aGlzLmxhc3RWaWRlb0ZyYW1lc0RlY29kZS5nZXQodC5zc3JjKSxyPURhdGUubm93KCk7aWYodC5mcmFtZXNEZWNvZGVDb3VudD4wJiYhdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY10pe2NvbnN0IGU9dC5kZWNvZGVkRnJhbWU/dC5kZWNvZGVkRnJhbWUud2lkdGg6MCxpPXQuZGVjb2RlZEZyYW1lP3QuZGVjb2RlZEZyYW1lLmhlaWdodDowO3RoaXMub25GaXJzdFZpZGVvRGVjb2RlZCYmdGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKHQuc3NyYyxlLGkpLHRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdPSEwfWlmKGkpe2NvbnN0IG49aS5zdGF0cyxzPXItaS5sdHM7dC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPW4uZnJhbWVzRGVjb2RlRnJlZXplVGltZSx0LmZyYW1lc0RlY29kZUludGVydmFsPW4uZnJhbWVzRGVjb2RlSW50ZXJ2YWwsIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdJiZzPnRoaXMub3B0aW9ucy5maXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQmJiF0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0W3Quc3NyY10mJih0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0JiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KHQuc3NyYyksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFt0LnNzcmNdPSEwKSx0LmZyYW1lc0RlY29kZUNvdW50Pm4uZnJhbWVzRGVjb2RlQ291bnQmJnRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdPyhpLmx0cz1EYXRlLm5vdygpLHQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw9cyx0LmZyYW1lc0RlY29kZUludGVydmFsPj10aGlzLm9wdGlvbnMuZnJlZXplUmF0ZUxpbWl0JiYodGhpcy5nZXRWaWRlb0lzUmVhZHkocGFyc2VJbnQoZS5zc3JjKSk/dC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lKz10LmZyYW1lc0RlY29kZUludGVydmFsOnRoaXMuc2V0VmlkZW9Jc1JlYWR5MihwYXJzZUludChlLnNzcmMsMTApLCEwKSkpOnQuZnJhbWVzRGVjb2RlQ291bnQ8bi5mcmFtZXNEZWNvZGVDb3VudCYmKHQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw9MCksZS5mcmFtZXNEZWNvZGVkJiZlLnFwU3VtJiYoaS5zdGF0cy5mcmFtZXNEZWNvZGVDb3VudD5lLmZyYW1lc0RlY29kZWQ/dC5xcFN1bVBlckZyYW1lPWUucXBTdW0vZS5mcmFtZXNEZWNvZGVkOnQucXBTdW1QZXJGcmFtZT0oZS5xcFN1bS1pLnFwU3VtKS8oZS5mcmFtZXNEZWNvZGVkLWkuc3RhdHMuZnJhbWVzRGVjb2RlQ291bnQpKX1uJiZyLW4ubHRzPj04MDA/KHQuZGVjb2RlRnJhbWVSYXRlPU1hdGgucm91bmQoKHQuZnJhbWVzRGVjb2RlQ291bnQtbi5jb3VudCkvKChyLW4ubHRzKS8xZTMpKSx0aGlzLmxhc3RWaWRlb0ZyYW1lc0RlY29kZS5zZXQodC5zc3JjLHtjb3VudDp0LmZyYW1lc0RlY29kZUNvdW50LGx0czpyLHJhdGU6dC5kZWNvZGVGcmFtZVJhdGV9KSk6bj90LmRlY29kZUZyYW1lUmF0ZT1uLnJhdGU6dGhpcy5sYXN0VmlkZW9GcmFtZXNEZWNvZGUuc2V0KHQuc3NyYyx7Y291bnQ6dC5mcmFtZXNEZWNvZGVDb3VudCxsdHM6cixyYXRlOjB9KSxlLnRvdGFsRGVjb2RlVGltZSYmKHQuZGVjb2RlTXM9MWUzKmUudG90YWxEZWNvZGVUaW1lKSx0aGlzLnByb2Nlc3NWaWRlb1RyYWNrUmVjZWl2ZXJTdGF0cyhlLGUudHJhY2tJZCx0KSxlLmNvZGVjSWQmJih0LmNvZGVjPXRoaXMuZ2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlLmNvZGVjSWQpKSxlLmZyYW1lcmF0ZU1lYW4mJih0LmZyYW1lc1JhdGVGaXJlZm94PWUuZnJhbWVyYXRlTWVhbiksdC5wYWNrZXRzPjAmJiF0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0VmlkZW9SZWNlaXZlZFt0LnNzcmNdPSEwKSx0aGlzLmxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHMuc2V0KHQuc3NyYyx7c3RhdHM6T0woe30sdCksbHRzOmk/aS5sdHM6RGF0ZS5ub3coKSxxcFN1bTplLnFwU3VtfSl9cHJvY2Vzc1ZpZGVvT3V0Ym91bmRTdGF0cyhlKXtsZXQgdD10aGlzLl9zdGF0cy52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZS5zc3JjKSk7dHx8KHQ9cEwoVEwpLHRoaXMuX3N0YXRzLnZpZGVvU2VuZC5wdXNoKHQpKTtjb25zdCBpPXRoaXMubWVkaWFCeXRlc1NlbnQuZ2V0KGUuc3NyYyk7aWYoaSlpLmFkZChlLmJ5dGVzU2VudCk7ZWxzZXtjb25zdCB0PW5ldyBFTCgxMCk7dC5hZGQoZS5ieXRlc1NlbnQpLHRoaXMubWVkaWFCeXRlc1NlbnQuc2V0KGUuc3NyYyx0KX1pZih2b2lkIDAhPT1lLnJldHJhbnNtaXR0ZWRCeXRlc1NlbnQpe2NvbnN0IHQ9dGhpcy5tZWRpYUJ5dGVzUmV0cmFuc21pdC5nZXQoZS5zc3JjKTtpZih0KXQuYWRkKGUucmV0cmFuc21pdHRlZEJ5dGVzU2VudCk7ZWxzZXtjb25zdCB0PW5ldyBFTCgxMCk7dC5hZGQoZS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50KSx0aGlzLm1lZGlhQnl0ZXNSZXRyYW5zbWl0LnNldChlLnNzcmMsdCl9fWlmKGUudG90YWxFbmNvZGVkQnl0ZXNUYXJnZXQpe2NvbnN0IHQ9dGhpcy5tZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlLmdldChlLnNzcmMpO2lmKHQpdC5hZGQoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCk7ZWxzZXtjb25zdCB0PW5ldyBFTCgxMCk7dC5hZGQoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCksdGhpcy5tZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlLnNldChlLnNzcmMsdCl9fWlmKHQuc3NyYz1lLnNzcmMsdC5ieXRlcz1lLmJ5dGVzU2VudCx0LnBhY2tldHM9ZS5wYWNrZXRzU2VudCx0LmZpcnNDb3VudD1lLmZpckNvdW50LHQubmFja3NDb3VudD1lLm5hY2tDb3VudCx0LnBsaXNDb3VudD1lLnBsaUNvdW50LHQuZnJhbWVDb3VudD1lLmZyYW1lc0VuY29kZWQsdC5hZGFwdGlvbkNoYW5nZVJlYXNvbj1lLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uLHQuc2NhbGFiaWxpdHlNb2RlPWUuc2NhbGFiaWxpdHlNb2RlLGUudG90YWxFbmNvZGVUaW1lJiZlLmZyYW1lc0VuY29kZWQpe2NvbnN0IGk9dGhpcy5sYXN0RW5jb2Rlck1zLmdldChlLnNzcmMpO2lmKCFpfHxpLmxhc3RGcmFtZUNvdW50PmUuZnJhbWVzRW5jb2RlZCl0LmF2Z0VuY29kZU1zPTFlMyplLnRvdGFsRW5jb2RlVGltZS9lLmZyYW1lc0VuY29kZWQ7ZWxzZXtjb25zdCBuPWUuZnJhbWVzRW5jb2RlZC1pLmxhc3RGcmFtZUNvdW50LHI9ZS50b3RhbEVuY29kZVRpbWUtaS5sYXN0RW5jb2RlclRpbWU7dC5hdmdFbmNvZGVNcz0xZTMqci9ufX1pZihlLmZyYW1lc0VuY29kZWQmJmUucXBTdW0pe2NvbnN0IGk9dGhpcy5sYXN0RW5jb2Rlck1zLmdldChlLnNzcmMpOyFpfHxpLmxhc3RGcmFtZUNvdW50PmUuZnJhbWVzRW5jb2RlZD90LnFwU3VtUGVyRnJhbWU9ZS5xcFN1bS9lLmZyYW1lc0VuY29kZWQ6dC5xcFN1bVBlckZyYW1lPShlLnFwU3VtLWkubGFzdFFwU3VtKS8oZS5mcmFtZXNFbmNvZGVkLWkubGFzdEZyYW1lQ291bnQpfWlmKHRoaXMubGFzdEVuY29kZXJNcy5zZXQoZS5zc3JjLHtsYXN0RnJhbWVDb3VudDplLmZyYW1lc0VuY29kZWQsbGFzdEVuY29kZXJUaW1lOmUudG90YWxFbmNvZGVUaW1lLGxhc3RRcFN1bTplLnFwU3VtLGx0czpEYXRlLm5vdygpfSksZS5jb2RlY0lkJiYodC5jb2RlYz10aGlzLmdldENvZGVjRnJvbUNvZGVjU3RhdHMoZS5jb2RlY0lkKSksZS5tZWRpYVNvdXJjZUlkJiZ0aGlzLnByb2Nlc3NWaWRlb01lZGlhU291cmNlKGUubWVkaWFTb3VyY2VJZCx0KSx0aGlzLnByb2Nlc3NWaWRlb1RyYWNrU2VuZGVyU3RhdHMoZSxlLnRyYWNrSWQsdCksZS5yZW1vdGVJZCl0aGlzLnByb2Nlc3NSZW1vdGVJbmJvdW5kU3RhdHMoZS5yZW1vdGVJZCx0KTtlbHNle2NvbnN0IGk9dGhpcy5maW5kUmVtb3RlU3RhdHNJZChlLnNzcmMsaHYuUkVNT1RFX0lOQk9VTkQpO2kmJnRoaXMucHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhpLHQpfX1wcm9jZXNzQXVkaW9PdXRib3VuZFN0YXRzKGUpe2xldCB0PXRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5maW5kKCh0PT50LnNzcmM9PT1lLnNzcmMpKTtpZih0fHwodD1wTChTTCksdGhpcy5fc3RhdHMuYXVkaW9TZW5kLnB1c2godCkpLHQuc3NyYz1lLnNzcmMsdC5wYWNrZXRzPWUucGFja2V0c1NlbnQsdC5ieXRlcz1lLmJ5dGVzU2VudCxlLm1lZGlhU291cmNlSWQmJnRoaXMucHJvY2Vzc0F1ZGlvTWVkaWFTb3VyY2UoZS5tZWRpYVNvdXJjZUlkLHQpLGUuY29kZWNJZCYmKHQuY29kZWM9dGhpcy5nZXRDb2RlY0Zyb21Db2RlY1N0YXRzKGUuY29kZWNJZCkpLHRoaXMucHJvY2Vzc0F1ZGlvVHJhY2tTZW5kZXJTdGF0cyhlLGUudHJhY2tJZCx0KSxlLnJlbW90ZUlkKXRoaXMucHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhlLnJlbW90ZUlkLHQpO2Vsc2V7Y29uc3QgaT10aGlzLmZpbmRSZW1vdGVTdGF0c0lkKGUuc3NyYyxodi5SRU1PVEVfSU5CT1VORCk7aSYmdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGksdCl9fWZpbmRSZW1vdGVTdGF0c0lkKGUsdCl7dmFyIGk7Y29uc3Qgbj1BcnJheS5mcm9tKGt2KGk9dGhpcy5yZXBvcnQpLmNhbGwoaSkpLmZpbmQoKGk9PmkudHlwZT09PXQmJmkuc3NyYz09PWUpKTtyZXR1cm4gbj9uLmlkOm51bGx9cHJvY2Vzc1ZpZGVvTWVkaWFTb3VyY2UoZSx0KXtjb25zdCBpPXRoaXMucmVwb3J0LmdldChlKTtpJiZpLndpZHRoJiZpLmhlaWdodCYmaS5mcmFtZXNQZXJTZWNvbmQmJih0LmlucHV0RnJhbWU9e3dpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0LGZyYW1lUmF0ZTppLmZyYW1lc1BlclNlY29uZH0pfXByb2Nlc3NBdWRpb01lZGlhU291cmNlKGUsdCl7Y29uc3QgaT10aGlzLnJlcG9ydC5nZXQoZSk7aSYmKHQuaW5wdXRMZXZlbD1pLmF1ZGlvTGV2ZWwpfXByb2Nlc3NWaWRlb1RyYWNrU2VuZGVyU3RhdHMoZSx0LGkpe3ZhciBuLHIscyxvO2NvbnN0IGE9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLGM9bnVsbCE9PShuPW51bGw9PWE/dm9pZCAwOmEuZnJhbWVzU2VudCkmJnZvaWQgMCE9PW4/bjplLmZyYW1lc1NlbnQ7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGMpcmV0dXJuO2xldCBkPW51bGwhPT0ocj1udWxsPT1hP3ZvaWQgMDphLmZyYW1lV2lkdGgpJiZ2b2lkIDAhPT1yP3I6ZS5mcmFtZVdpZHRoLGw9bnVsbCE9PShzPW51bGw9PWE/dm9pZCAwOmEuZnJhbWVIZWlnaHQpJiZ2b2lkIDAhPT1zP3M6ZS5mcmFtZUhlaWdodCxoPW51bGwhPT0obz1udWxsPT1hP3ZvaWQgMDphLmZyYW1lc1BlclNlY29uZCkmJnZvaWQgMCE9PW8/bzplLmZyYW1lc1BlclNlY29uZDtpZihcIm51bWJlclwiPT10eXBlb2YgZCYmXCJudW1iZXJcIj09dHlwZW9mIGx8fChkPTAsbD0wKSxudWxsPT1oKXtjb25zdCBlPURhdGUubm93KCksdD10aGlzLmxhc3RWaWRlb0ZyYW1lc1NlbnQuZ2V0KGkuc3NyYyk7dCYmZS10Lmx0cz49ODAwPyhoPU1hdGgucm91bmQoKGMtdC5jb3VudCkvKChlLXQubHRzKS8xZTMpKSx0aGlzLmxhc3RWaWRlb0ZyYW1lc1NlbnQuc2V0KGkuc3NyYyx7Y291bnQ6YyxsdHM6ZSxyYXRlOmh9KSk6dD9oPXQucmF0ZTp0aGlzLmxhc3RWaWRlb0ZyYW1lc1NlbnQuc2V0KGkuc3NyYyx7Y291bnQ6YyxsdHM6ZSxyYXRlOjB9KX1pLnNlbnRGcmFtZT17d2lkdGg6ZCxoZWlnaHQ6bCxmcmFtZVJhdGU6TWF0aC5tYXgoMCxoKX19cHJvY2Vzc1ZpZGVvVHJhY2tSZWNlaXZlclN0YXRzKGUsdCxpKXt2YXIgbixyLHMsbyxhO2NvbnN0IGM9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLGQ9bnVsbCE9PShuPW51bGw9PWM/dm9pZCAwOmMuZnJhbWVzUmVjZWl2ZWQpJiZ2b2lkIDAhPT1uP246ZS5mcmFtZXNSZWNlaXZlZCxsPW51bGwhPT0ocj1udWxsPT1jP3ZvaWQgMDpjLmZyYW1lV2lkdGgpJiZ2b2lkIDAhPT1yP3I6ZS5mcmFtZVdpZHRoLGg9bnVsbCE9PShzPW51bGw9PWM/dm9pZCAwOmMuZnJhbWVIZWlnaHQpJiZ2b2lkIDAhPT1zP3M6ZS5mcmFtZUhlaWdodCx1PW51bGwhPT0obz1udWxsPT1jP3ZvaWQgMDpjLmppdHRlckJ1ZmZlckRlbGF5KSYmdm9pZCAwIT09bz9vOmUuaml0dGVyQnVmZmVyRGVsYXkscD1udWxsIT09KGE9bnVsbD09Yz92b2lkIDA6Yy5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQpJiZ2b2lkIDAhPT1hP2E6ZS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIGQpe2NvbnN0IGU9dGhpcy5sYXN0VmlkZW9GcmFtZXNSZWN2LmdldChpLnNzcmMpLHQ9RGF0ZS5ub3coKTtpLmZyYW1lc1JlY2VpdmVkQ291bnQ9ZDtsZXQgbj0wO2UmJnQtZS5sdHM+PTgwMD8obj1NYXRoLnJvdW5kKChkLWUuY291bnQpLygodC1lLmx0cykvMWUzKSksdGhpcy5sYXN0VmlkZW9GcmFtZXNSZWN2LnNldChpLnNzcmMse2NvdW50OmQsbHRzOnQscmF0ZTpufSkpOmU/bj1lLnJhdGU6dGhpcy5sYXN0VmlkZW9GcmFtZXNSZWN2LnNldChpLnNzcmMse2NvdW50OmQsbHRzOnQscmF0ZTowfSksaS5yZWNlaXZlZEZyYW1lPXt3aWR0aDpsfHwwLGhlaWdodDpofHwwLGZyYW1lUmF0ZTpufHwwfSxpLmRlY29kZWRGcmFtZT17d2lkdGg6bHx8MCxoZWlnaHQ6aHx8MCxmcmFtZVJhdGU6aS5kZWNvZGVGcmFtZVJhdGV8fDB9LGkub3V0cHV0RnJhbWU9e3dpZHRoOmx8fDAsaGVpZ2h0Omh8fDAsZnJhbWVSYXRlOmkuZGVjb2RlRnJhbWVSYXRlfHwwfX1pZih1JiZwKXtjb25zdCBlPXRoaXMubGFzdFZpZGVvSkJEZWxheS5nZXQoaS5zc3JjKXx8e2ppdHRlckJ1ZmZlckRlbGF5OjAsaml0dGVyQnVmZmVyRW1pdHRlZENvdW50OjAsaml0dGVyQnVmZmVyTXM6MH07bGV0IHQ9ZS5qaXR0ZXJCdWZmZXJNcztjb25zdCBuPXAtZS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ7bj4wJiYodD0xZTMqKHUtZS5qaXR0ZXJCdWZmZXJEZWxheSkvbiksaS5qaXR0ZXJCdWZmZXJNcz10LGkuY3VycmVudERlbGF5TXM9TWF0aC5yb3VuZCh0KSx0aGlzLmxhc3RWaWRlb0pCRGVsYXkuc2V0KGkuc3NyYyx7aml0dGVyQnVmZmVyRGVsYXk6dSxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6cCxqaXR0ZXJCdWZmZXJNczppLmN1cnJlbnREZWxheU1zfSl9fXByb2Nlc3NBdWRpb1RyYWNrU2VuZGVyU3RhdHMoZSx0LGkpe3ZhciBuLHIscyxvO2NvbnN0IGE9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLGM9bnVsbCE9PShuPW51bGwhPT0ocj1udWxsPT1hP3ZvaWQgMDphLmVjaG9SZXR1cm5Mb3NzKSYmdm9pZCAwIT09cj9yOmUuZWNob1JldHVybkxvc3MpJiZ2b2lkIDAhPT1uP246MCxkPW51bGwhPT0ocz1udWxsIT09KG89bnVsbD09YT92b2lkIDA6YS5lY2hvUmV0dXJuTG9zc0VuaGFuY2VtZW50KSYmdm9pZCAwIT09bz9vOmUuZWNob1JldHVybkxvc3NFbmhhbmNlbWVudCkmJnZvaWQgMCE9PXM/czowO2kuYWVjUmV0dXJuTG9zcz1jLGkuYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50PWR9cHJvY2Vzc0F1ZGlvVHJhY2tSZWNlaXZlclN0YXRzKGUsdCxpKXt2YXIgbixyLHMsbyxhLGMsZDtjb25zdCBsPXQ/dGhpcy5yZXBvcnQuZ2V0KHQpOnZvaWQgMCxoPW51bGwhPT0obj1udWxsPT1sP3ZvaWQgMDpsLnJlbW92ZWRTYW1wbGVzRm9yQWNjZWxlcmF0aW9uKSYmdm9pZCAwIT09bj9uOmUucmVtb3ZlZFNhbXBsZXNGb3JBY2NlbGVyYXRpb24sdT1udWxsIT09KHI9bnVsbD09bD92b2lkIDA6bC50b3RhbFNhbXBsZXNSZWNlaXZlZCkmJnZvaWQgMCE9PXI/cjplLnRvdGFsU2FtcGxlc1JlY2VpdmVkLHA9bnVsbCE9PShzPW51bGw9PWw/dm9pZCAwOmwuaml0dGVyQnVmZmVyRGVsYXkpJiZ2b2lkIDAhPT1zP3M6ZS5qaXR0ZXJCdWZmZXJEZWxheSxfPW51bGwhPT0obz1udWxsPT1sP3ZvaWQgMDpsLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCkmJnZvaWQgMCE9PW8/bzplLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCxFPW51bGwhPT0oYT1udWxsPT1sP3ZvaWQgMDpsLmF1ZGlvTGV2ZWwpJiZ2b2lkIDAhPT1hP2E6bnVsbD09ZT92b2lkIDA6ZS5hdWRpb0xldmVsLG09bnVsbCE9PShjPW51bGw9PWw/dm9pZCAwOmwudG90YWxTYW1wbGVzRHVyYXRpb24pJiZ2b2lkIDAhPT1jP2M6bnVsbD09ZT92b2lkIDA6ZS50b3RhbFNhbXBsZXNEdXJhdGlvbixmPW51bGwhPT0oZD1udWxsPT1sP3ZvaWQgMDpsLmNvbmNlYWxlZFNhbXBsZXMpJiZ2b2lkIDAhPT1kP2Q6ZS5jb25jZWFsZWRTYW1wbGVzO2lmKGgmJnUmJihpLmFjY2VsZXJhdGVSYXRlPWgvdSkscCYmXyl7Y29uc3QgZT10aGlzLmxhc3RBdWRpb0pCRGVsYXkuZ2V0KGkuc3NyYyl8fHtqaXR0ZXJCdWZmZXJEZWxheTowLGppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudDowLGppdHRlckJ1ZmZlck1zOjB9O2xldCB0PWUuaml0dGVyQnVmZmVyTXM7Y29uc3Qgbj1fLWUuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50O24+MCYmKHQ9MWUzKihwLWUuaml0dGVyQnVmZmVyRGVsYXkpL24pLGkuaml0dGVyQnVmZmVyTXM9TWF0aC5yb3VuZCh0KSx0aGlzLmxhc3RBdWRpb0pCRGVsYXkuc2V0KGkuc3NyYyx7aml0dGVyQnVmZmVyRGVsYXk6cCxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6XyxqaXR0ZXJCdWZmZXJNczppLmppdHRlckJ1ZmZlck1zfSl9aS5vdXRwdXRMZXZlbD1FO2xldCBnPTE5MjA7bSYmdSYmKGc9dS9tLzUwLGkucmVjZWl2ZWRGcmFtZXM9TWF0aC5yb3VuZCh1L2cpKSxmJiYoaS5kcm9wcGVkRnJhbWVzPU1hdGgucm91bmQoZi9nKSl9cHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhlLHQpe2NvbnN0IGk9dGhpcy5yZXBvcnQuZ2V0KGUpO2kmJih0LnBhY2tldHNMb3N0PWkucGFja2V0c0xvc3QsaS5yb3VuZFRyaXBUaW1lJiYodC5ydHRNcz0xZTMqaS5yb3VuZFRyaXBUaW1lKSxpLmppdHRlciYmKHQuaml0dGVyTXM9MWUzKmkuaml0dGVyKSxpLnRpbWVzdGFtcCYmKHQudGltZXN0YW1wPWkudGltZXN0YW1wKSl9Z2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlKXtjb25zdCB0PXRoaXMucmVwb3J0LmdldChlKTtpZighdClyZXR1cm5cIlwiO2NvbnN0IGk9dC5taW1lVHlwZS5tYXRjaCgvXFwvKC4qKSQvKTtyZXR1cm4gaSYmaVsxXT9pWzFdOlwiXCJ9dXBkYXRlU2VuZEJpdHJhdGUoKXtsZXQgZT0wLHQ9bnVsbCxpPW51bGw7dGhpcy5tZWRpYUJ5dGVzU2VudC5mb3JFYWNoKCh0PT57ZSs9dC5kaWZmTWVhbigpfSkpLHRoaXMubWVkaWFCeXRlc1JldHJhbnNtaXQuZm9yRWFjaCgoZT0+e3Q9bnVsbD09PXQ/ZS5kaWZmTWVhbigpOnQrZS5kaWZmTWVhbigpfSkpLHRoaXMubWVkaWFCeXRlc1RhcmdldEVuY29kZS5mb3JFYWNoKChlPT57aT1udWxsPT09aT9lLmRpZmZNZWFuKCk6aStlLmRpZmZNZWFuKCl9KSk7Y29uc3Qgbj1udWxsIT09dD9lLXQ6ZTt0aGlzLl9zdGF0cy5iaXRyYXRlPXthY3R1YWxFbmNvZGVkOjgqbi8odGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsLzFlMyksdHJhbnNtaXQ6OCplLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKX0sbnVsbCE9PXQmJih0aGlzLl9zdGF0cy5iaXRyYXRlLnJldHJhbnNtaXQ9OCp0Lyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKSksbnVsbCE9PWkmJih0aGlzLl9zdGF0cy5iaXRyYXRlLnRhcmdldEVuY29kZWQ9OCppLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKSl9fWNsYXNzIERMIGV4dGVuZHMgSUx7dXBkYXRlU3RhdHMoKXtyZXR1cm4gdGcucmVzb2x2ZSgpfX1mdW5jdGlvbiBQTChlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MjUwLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjgsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NTAwLHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjFlNDtjb25zdCBzPWZ1bmN0aW9uKCl7Y29uc3QgZT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2goL2Nocm9tZVxcL1tcXGRdKi9pKTtyZXR1cm4gZSYmZVswXT9OdW1iZXIoZVswXS5zcGxpdChcIi9cIilbMV0pOm51bGx9KCk7cmV0dXJuIHM/czw3Nj9uZXcgYkwoZSx7dXBkYXRlSW50ZXJ2YWw6dCxsb3NzUmF0ZUludGVydmFsOmksZnJlZXplUmF0ZUxpbWl0Om4sZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpuZXcgTkwoZSx7dXBkYXRlSW50ZXJ2YWw6dCxsb3NzUmF0ZUludGVydmFsOmksZnJlZXplUmF0ZUxpbWl0Om4sZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpmdW5jdGlvbihlKXtyZXR1cm4hIXdpbmRvdy5SVENTdGF0c1JlcG9ydCYmZS5nZXRTdGF0cygpaW5zdGFuY2VvZiB0Z30oZSk/bmV3IE5MKGUse3VwZGF0ZUludGVydmFsOnQsbG9zc1JhdGVJbnRlcnZhbDppLGZyZWV6ZVJhdGVMaW1pdDpuLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSk6bmV3IERMKGUse3VwZGF0ZUludGVydmFsOnQsbG9zc1JhdGVJbnRlcnZhbDppLGZyZWV6ZVJhdGVMaW1pdDpuLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSl9ZnVuY3Rpb24gTEwoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGtMKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0xMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOkxMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIE1MIGV4dGVuZHMgUEl7Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1nZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcInJlbW90ZVNEUFwiLHZvaWQgMCksbnUodGhpcyxcImluaXRpYWxPZmZlclwiLHZvaWQgMCksbnUodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxudSh0aGlzLFwidXNlUlRYXCIsITEpLG51KHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksbnUodGhpcyxcImxvY2FsQ2FuZGlkYXRlQ291bnRcIiwwKSxudSh0aGlzLFwiYWxsQ2FuZGlkYXRlc1JlY2VpdmVkXCIsITEpLG51KHRoaXMsXCJlc3RhYmxpc2hQcm9taXNlXCIsdm9pZCAwKSxudSh0aGlzLFwibXV0ZXhcIixuZXcgWVQoXCJQMlBDb25uZWN0aW9uLW11dGV4XCIpKSx0aGlzLnN0b3JlPXQsdGhpcy5wZWVyQ29ubmVjdGlvbj1uZXcgUlRDUGVlckNvbm5lY3Rpb24oTUwucmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKSx7b3B0aW9uYWw6W3tnb29nRHNjcDohMH1dfSksdGhpcy5zdGF0c0ZpbHRlcj1QTCh0aGlzLnBlZXJDb25uZWN0aW9uLGtDKFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpLHZvaWQgMCxSZygpPzEyMDA6dm9pZCAwKSx0aGlzLmJpbmRQQ0V2ZW50cygpLHRoaXMuYmluZFN0YXRzRXZlbnRzKCksdGhpcy5zdG9yZS5wMnBJZD10aGlzLnN0b3JlLnAycElkKzEsdGhpcy5lc3RhYmxpc2hQcm9taXNlPXRoaXMuZXN0YWJsaXNoKCl9YXN5bmMgZXN0YWJsaXNoKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7b2ZmZXJUb1JlY2VpdmVBdWRpbzohMCxvZmZlclRvUmVjZWl2ZVZpZGVvOiEwfSk7aWYoIWUuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaW5pdGlhbE9mZmVyLnNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO2NvbnN0IHQ9elAoZS5zZHApLGk9SlAoZS5zZHAse2ZpbHRlclJUWDohdGhpcy51c2VSVFgsZmlsdGVyVmlkZW9GZWM6a0MoXCJGSUxURVJfVklERU9fRkVDXCIpLGZpbHRlckF1ZGlvRmVjOmtDKFwiRklMVEVSX0FVRElPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0NvZGVjOltcIm9wdXNcIl19KTtyZXR1cm4gdGhpcy5sb2NhbENhcGFiaWxpdGllcz1pLHRoaXMuaW5pdGlhbE9mZmVyPWUsa0woa0woe30sdCkse30se3J0cENhcGFiaWxpdGllczp7c2VuZDp7YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0scmVjdjp7YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sc2VuZHJlY3Y6aX0sb2ZmZXJTRFA6ZS5zZHB9KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyBjb25uZWN0KGUsdCxpLG4scixzKXt0cnl7aWYoIXRoaXMuaW5pdGlhbE9mZmVyKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlc3RhYmxpc2ggUDJQQ29ubmVjdGlvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO3RoaXMucmVtb3RlU0RQPW5ldyBjbGFzc3tjb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwic2Vzc2lvbkRlc2NcIix2b2lkIDApLG51KHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksbnUodGhpcyxcInJ0cENhcGFiaWxpdGllc1wiLHZvaWQgMCksbnUodGhpcyxcImNhbmRpZGF0ZXNcIix2b2lkIDApLG51KHRoaXMsXCJpY2VQYXJhbWV0ZXJzXCIsdm9pZCAwKSxudSh0aGlzLFwiZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLG51KHRoaXMsXCJzZXR1cFwiLHZvaWQgMCksbnUodGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksbnUodGhpcyxcImNuYW1lXCIsdm9pZCAwKSxlPWJUKGUpO2NvbnN0e3JlbW90ZUljZVBhcmFtZXRlcnM6dCxyZW1vdGVEdGxzUGFyYW1ldGVyczppLGNhbmRpZGF0ZXM6bixyZW1vdGVSVFBDYXBhYmlsaXRpZXM6cixyZW1vdGVTZXR1cDpzLGxvY2FsQ2FwYWJpbGl0aWVzOm8sc2RrQ29kZWM6YSxjbmFtZTpjfT1lLGQ9S1AucGFyc2UoXCJ2PTBcXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcXG5zPUFnb3JhR2F0ZXdheVxcbnQ9MCAwXFxuYT1ncm91cDpCVU5ETEUgYXVkaW8gdmlkZW9cXG5hPW1zaWQtc2VtYW50aWM6IFdNU1xcbmE9aWNlLWxpdGVcXG5tPWF1ZGlvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1zZW5kcmVjdlxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDphdWRpb1xcbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXNlbmRyZWN2XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOnZpZGVvXFxuXCIpO3RoaXMucnRwQ2FwYWJpbGl0aWVzPXIsdGhpcy5jYW5kaWRhdGVzPW4sdGhpcy5pY2VQYXJhbWV0ZXJzPXQsdGhpcy5kdGxzUGFyYW1ldGVycz1pLHRoaXMuc2V0dXA9cyx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzPW8sdGhpcy5jbmFtZT1jO2ZvcihsZXQgZT0wO2U8ZC5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGg7ZSsrKXtjb25zdCBvPWQubWVkaWFEZXNjcmlwdGlvbnNbZV07aWYoby5hdHRyaWJ1dGVzLmljZVVmcmFnPXQuaWNlVWZyYWcsby5hdHRyaWJ1dGVzLmljZVB3ZD10LmljZVB3ZCxvLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzPWkuZmluZ2VycHJpbnRzLG8uYXR0cmlidXRlcy5jYW5kaWRhdGVzPW4sby5hdHRyaWJ1dGVzLnNldHVwPXMsXCJ2aWRlb1wiPT09by5tZWRpYS5tZWRpYVR5cGUpe28ubWVkaWEuZm10cz1yLnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKTtsZXQgZT1yLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuIG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOlByKGk9dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkuY2FsbChpLGEpfSkpOzA9PT1lLmxlbmd0aCYmKGU9ci52aWRlb0NvZGVjcyksby5hdHRyaWJ1dGVzLnBheWxvYWRzPWUsby5hdHRyaWJ1dGVzLmV4dG1hcHM9ci52aWRlb0V4dGVuc2lvbnN9XCJhdWRpb1wiPT09by5tZWRpYS5tZWRpYVR5cGUmJihvLm1lZGlhLmZtdHM9ci5hdWRpb0NvZGVjcy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSksby5hdHRyaWJ1dGVzLnBheWxvYWRzPXIuYXVkaW9Db2RlY3Msby5hdHRyaWJ1dGVzLmV4dG1hcHM9ci5hdWRpb0V4dGVuc2lvbnMpLGQubWVkaWFEZXNjcmlwdGlvbnNbZV09dGhpcy5tdW5nTWVkaWFEZXNjKG8pfXRoaXMuc2Vzc2lvbkRlc2M9ZCx0aGlzLmN1cnJlbnRNaWRJbmRleD1kLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xfXRvU3RyaW5nKCl7cmV0dXJuIEtQLnByaW50KHRoaXMuc2Vzc2lvbkRlc2MpfXNlbmQoZSx0LGkpe2NvbnN0e3NzcmNzOm4sc3NyY0dyb3VwczpyfT1aUCh0LHRoaXMuY25hbWUpLHM9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT5lPT09aEkuVklERU8/XCJ2aWRlb1wiPT09dC5tZWRpYS5tZWRpYVR5cGU6XCJhdWRpb1wiPT09dC5tZWRpYS5tZWRpYVR5cGUpKSxvPW5bMF0uYXR0cmlidXRlcy5sYWJlbCxhPW5bMF0uYXR0cmlidXRlcy5tc2xhYmVsO3JldHVybiBzLmF0dHJpYnV0ZXMuc3NyY3M9cy5hdHRyaWJ1dGVzLnNzcmNzLmNvbmNhdChuKSxzLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1zLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5jb25jYXQocikse2lkOm8sbXNsYWJlbDphfX1iYXRjaFNlbmQoZSl7cmV0dXJuIGUubWFwKChlPT57bGV0e2tpbmQ6dCxzc3JjTXNnOml9PWU7cmV0dXJuIHRoaXMuc2VuZCh0LGksdm9pZCAwKX0pKX1zdG9wU2VuZGluZyhlKXt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKHQ9Pntjb25zdCBpPVtdLG49W10scj1bXTt0LmF0dHJpYnV0ZXMuc3NyY3MuZm9yRWFjaCgodD0+e1ByKGUpLmNhbGwoZSx0LmF0dHJpYnV0ZXMubGFiZWx8fFwiXCIpP3IucHVzaCh0KTppLnB1c2godCl9KSksdC5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuZm9yRWFjaCgoZT0+e3ZhciB0O1ByKHQ9ci5tYXAoKGU9PmUuc3NyY0lkKSkpLmNhbGwodCxlLnNzcmNJZHNbMF0pfHxuLnB1c2goZSl9KSksdC5hdHRyaWJ1dGVzLnNzcmNzPWksdC5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9bn0pKX1tdXRlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGUsXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGUuXCIpKTt0LmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn11bm11dGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbiBub3QgZm91bmQgd2l0aCBcIi5jb25jYXQoZSxcIiBpbiByZW1vdGUgU0RQIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAudW5tdXRlLlwiKSk7dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCJ9cmVjZWl2ZShlLHQsaSl7ZS5mb3JFYWNoKCgoZSx0KT0+e2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjayxuPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KChlPT5lLmF0dHJpYnV0ZXMubWlkPT09aS5raW5kKSkscj10aGlzLm11bmdSZWN2TWVkaWFEc2VjKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbbl0sZSk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tuXT1yfSkpfXN0b3BSZWNlaXZpbmcoZSl7fXVwZGF0ZUNhbmRpZGF0ZXMoZSl7ZT09PXVJLlRDUD90aGlzLmNhbmRpZGF0ZXMuZm9yRWFjaCgoZT0+ey0xPT09dGhpcy5jYW5kaWRhdGVzLmZpbmRJbmRleCgodD0+XCJ0Y3BcIj09PXQudHJhbnNwb3J0JiZ0LmNvbm5lY3Rpb25BZGRyZXNzPT09ZS5jb25uZWN0aW9uQWRkcmVzcyYmdC5wb3J0PT09ZS5wb3J0KSkmJnRoaXMuY2FuZGlkYXRlcy5wdXNoKHVMKHVMKHt9LGUpLHt9LHtmb3VuZGF0aW9uOlwidGNwY2FuZGlkYXRlXCIscHJpb3JpdHk6TnVtYmVyKGUucHJpb3JpdHkpLTErXCJcIix0cmFuc3BvcnQ6XCJ0Y3BcIixwb3J0Ok51bWJlcihlLnBvcnQpKzkwK1wiXCJ9KSl9KSk6dGhpcy5jYW5kaWRhdGVzPXRoaXMuY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCIhPT1lLnRyYW5zcG9ydCkpO2Zvcihjb25zdCBlIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpZS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5jYW5kaWRhdGVzfXJlc3RhcnRJQ0UoZSl7ZT1iVChlKSx0aGlzLmljZVBhcmFtZXRlcnM9ZSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKHQ9Pnt0LmF0dHJpYnV0ZXMuaWNlVWZyYWc9ZS5pY2VVZnJhZyx0LmF0dHJpYnV0ZXMuaWNlUHdkPWUuaWNlUHdkfSkpfXByZWRpY3RSZWNlaXZpbmdNaWRzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlO2krKyl0LnB1c2goKHRoaXMuY3VycmVudE1pZEluZGV4K2krMSkudG9TdHJpbmcoMTApKTtyZXR1cm4gdH1tdW5nUmVjdk1lZGlhRHNlYyhlLHQpe2NvbnN0IGk9YlQoZSk7cmV0dXJuICRQKGksdCksdEwoaSx0KSxpfXVwZGF0ZVJlY3ZNZWRpYShlLHQpe2NvbnN0IGk9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoLTEhPT1pKXtjb25zdCBlPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWModGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tpXSx0KTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldPWV9fWJ1bXBNaWQoZSl7dGhpcy5jdXJyZW50TWlkSW5kZXgrPWV9dXBkYXRlVHJhY2tMYWJlbChlLHQsaSl7Y29uc3Qgbj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PmU9PT1oSS5WSURFTz9cInZpZGVvXCI9PT10LmF0dHJpYnV0ZXMubWlkOlwiYXVkaW9cIj09PXQuYXR0cmlidXRlcy5taWQpKTtpZihuKXtjb25zdCBlPW4uYXR0cmlidXRlcy5zc3Jjcy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubGFiZWw9PT10KSk7dmFyIHI7ZSYmKGUuYXR0cmlidXRlcy5sYWJlbD1pLG51bGw9PT0ocj1lLmF0dHJpYnV0ZXMubXNpZCl8fHZvaWQgMD09PXJ8fHIucmVwbGFjZSh0LGkpKX19bXVuZ01lZGlhRGVzYyhlKXtjb25zdCB0PWJUKGUpO3JldHVybiBlTCh0KSxmdW5jdGlvbihlKXtjb25zdCB0PWUuYXR0cmlidXRlcy5leHRtYXBzLmZpbmQoKGU9PlwiaHR0cDovL3d3dy5pZXRmLm9yZy9pZC9kcmFmdC1ob2xtZXItcm1jYXQtdHJhbnNwb3J0LXdpZGUtY2MtZXh0ZW5zaW9ucy0wMVwiPT09ZS5leHRlbnNpb25OYW1lKSk7dCYmZS5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKGUuYXR0cmlidXRlcy5leHRtYXBzLmluZGV4T2YodCksMSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pntjb25zdCB0PWUucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoKGU9PlwidHJhbnNwb3J0LWNjXCI9PT1lLnR5cGUpKTstMSE9PXQmJmUucnRjcEZlZWRiYWNrcy5zcGxpY2UodCwxKX0pKX0odCksdH1nZXRTU1JDKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpZm9yKGNvbnN0IGkgb2YgdC5hdHRyaWJ1dGVzLnNzcmNzKWlmKGkuYXR0cmlidXRlcy5sYWJlbD09PWUpcmV0dXJuW2ldfX0oe3JlbW90ZUljZVBhcmFtZXRlcnM6ZSxyZW1vdGVEdGxzUGFyYW1ldGVyczp0LGNhbmRpZGF0ZXM6aSxyZW1vdGVSVFBDYXBhYmlsaXRpZXM6bi5zZW5kLHJlbW90ZVNldHVwOnIsbG9jYWxDYXBhYmlsaXRpZXM6dGhpcy5sb2NhbENhcGFiaWxpdGllcyxzZGtDb2RlYzp0aGlzLnN0b3JlLmNvZGVjLGNuYW1lOnN9KTtjb25zdCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHRoaXMuaW5pdGlhbE9mZmVyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uY29ubmVjdCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUsdCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJQbGFuYiBtb2RlIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRlRGF0YUNoYW5uZWxzLlwiKX1zZW5kKGUsdCl7dmFyIGk9dGhpcztyZXR1cm4gQlAoKGZ1bmN0aW9uKigpe2NvbnN0IG49eWllbGQgalAoaS5tdXRleC5sb2NrKCkpO3RyeXtpZighaS5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zZW5kIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7Y29uc3Qgcj1lLm1hcCgoZT0+aS5wZWVyQ29ubmVjdGlvbi5hZGRUcmFjayhlLl9tZWRpYVN0cmVhbVRyYWNrKSkpLHM9eWllbGQgalAoaS5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpKSxvPUtQLnBhcnNlKHMuc2RwKSxhPWUubWFwKChlPT57Y29uc3QgdD1lLl9tZWRpYVN0cmVhbVRyYWNrLG49by5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubWlkPT09dC5raW5kKSk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIG1lZGlhRGVzY3JpcHRpb24uXCIpO3JldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1lLmF0dHJpYnV0ZXMuc3NyY3MuZmlsdGVyKChlPT5lLmF0dHJpYnV0ZXMubGFiZWw9PT10KSkscj1lLmF0dHJpYnV0ZXMuc3NyY0dyb3VwcztpZigwPT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIHBsYW4tYiBTRFAuXCIpO2lmKHImJm4ubGVuZ3RoPjEpe2NvbnN0IGU9ci5maW5kKChlPT4tMSE9PWUuc3NyY0lkcy5pbmRleE9mKG5bMF0uc3NyY0lkKSkpO3JldHVybiBlP1t7c3NyY0lkOmUuc3NyY0lkc1swXSxydHg6aT9lLnNzcmNJZHNbMV06dm9pZCAwfV06W3tzc3JjSWQ6blswXS5zc3JjSWR9XX1yZXR1cm5be3NzcmNJZDpuWzBdLnNzcmNJZH1dfShuLHQuaWQsaS51c2VSVFgpfSkpO2xldCBjO3RyeXtjPXlpZWxkIGF9Y2F0Y2goZSl7dGhyb3cgci5mb3JFYWNoKChlPT57U2coKSYmZS5yZXBsYWNlVHJhY2sobnVsbCksaS5wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayhlKX0pKSxlfWNvbnN0IGQ9aS5tdW5nU2VuZE9mZmVyU0RQKHMuc2RwLGUpO2kucmVtb3RlU0RQLnJlY2VpdmUoZSx0LGMpO2NvbnN0IGw9aS5yZW1vdGVTRFAudG9TdHJpbmcoKTtyZXR1cm4geWllbGQgalAoaS5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZH0pKSx5aWVsZCBqUChpLmFwcGx5U2VuZEVuY29kaW5ncyhyLGUpKSx5aWVsZCBqUChpLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmx9KSksZS5tYXAoKChlLHQpPT57Y29uc3QgaT1lLl9tZWRpYVN0cmVhbVRyYWNrLmlkO3JldHVybntsb2NhbFNTUkM6YVt0XSxpZDppfX0pKX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc2VuZCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX1maW5hbGx5e24oKX19KSkoKX1hc3luYyBzdG9wU2VuZGluZyhlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbHRlcigodD0+e3ZhciBpO3JldHVybi0xIT09ZS5pbmRleE9mKChudWxsPT09KGk9dC50cmFjayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpfHxcIlwiKX0pKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gdHJ5aW5nIHRvIGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZy5cIik7dC5tYXAoKGU9PntTZygpJiZlLnJlcGxhY2VUcmFjayhudWxsKSx0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrKGUpfSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC5zdG9wUmVjZWl2aW5nKGUpO2NvbnN0IG49dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm59KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHJlY2VpdmUoZSx0LGksbil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKSk7Y29uc3R7aWQ6aSxtc2xhYmVsOnJ9PXRoaXMucmVtb3RlU0RQLnNlbmQoZSx0LG4pLHM9bmV3IHRnKCgodCxuKT0+e2NvbnN0IHM9c2V0VGltZW91dCgoKCk9PntuKG5ldyBFcnJvcihcIkNhbm5vdCByZWNlaXZlIHRyYWNrLCBpZDogXCIuY29uY2F0KGkpKSl9KSwxZTQpLG89bj0+e2NvbnN0IGE9cGcoKTtpZigoXCJTYWZhcmlcIj09PWEubmFtZSYmMTE9PT1OdW1iZXIoYS52ZXJzaW9uKXx8Q2coKSkmJm4udHJhY2suaWQhPT1pJiZuLnN0cmVhbXNbMF0uaWQ9PT1yKXt2YXIgYztjb25zdCByPW4uc3RyZWFtc1swXS5nZXRUcmFja3MoKVswXTtyZXR1cm4gbnVsbD09PShjPXRoaXMucmVtb3RlU0RQKXx8dm9pZCAwPT09Y3x8Yy51cGRhdGVUcmFja0xhYmVsKGUsaSxuLnRyYWNrLmlkKSx0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLG8pLGNsZWFyVGltZW91dChzKSx2b2lkIHQocil9aWYobi50cmFjay5pZD09PWkpcmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsbyksY2xlYXJUaW1lb3V0KHMpLHZvaWQgdChuLnRyYWNrKX07dGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIixvKX0pKSxvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOm99KTtjb25zdCBhPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGEpO3JldHVybnt0cmFjazphd2FpdCBzLGlkOml9fWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wUmVjZWl2aW5nKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO3RoaXMucmVtb3RlU0RQLnN0b3BTZW5kaW5nKGUpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uIHN0b3BSZWNlaXZpbmcgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIG11dGVSZW1vdGUoZSl7fWFzeW5jIHVubXV0ZVJlbW90ZShlKXt9YXN5bmMgbXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIoKHQ9Pnt2YXIgaTtyZXR1cm4tMSE9PWUuaW5kZXhPZigobnVsbD09PShpPXQudHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmlkKXx8XCJcIil9KSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJzZW5kZXInIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7dC5tYXAoKGU9PntpZihTZygpJiZlLnRyYWNrKWUudHJhY2suZW5hYmxlZD0hMTtlbHNle2NvbnN0IHQ9ZS5nZXRQYXJhbWV0ZXJzKCk7dC5lbmNvZGluZ3MuZm9yRWFjaCgoZT0+ZS5hY3RpdmU9ITEpKSxlLnNldFBhcmFtZXRlcnModCl9fSkpfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHVubXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbHRlcigodD0+e3ZhciBpO3JldHVybi0xIT09ZS5pbmRleE9mKChudWxsPT09KGk9dC50cmFjayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpfHxcIlwiKX0pKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlNlbmRlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7dC5tYXAoKGFzeW5jIGU9PntpZihTZygpJiZlLnRyYWNrKWUudHJhY2suZW5hYmxlZD0hMDtlbHNle2NvbnN0IHQ9ZS5nZXRQYXJhbWV0ZXJzKCk7dC5lbmNvZGluZ3MuZm9yRWFjaCgoZT0+ZS5hY3RpdmU9ITApKSxhd2FpdCBlLnNldFBhcmFtZXRlcnModCl9fSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKTtjb25zdCBuPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpufSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1yZXN0YXJ0SUNFKGUpe3ZhciB0PXRoaXM7cmV0dXJuIEJQKChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIGpQKHQubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5yZXN0YXJ0SUNFXCIpKTt0cnl7aWYoIXQucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7aWYoX0EoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtjb25zdCBpPXQucGVlckNvbm5lY3Rpb24uZ2V0Q29uZmlndXJhdGlvbigpLG49ZT09PXVJLlJFTEFZP1wicmVsYXlcIjpcImFsbFwiO2kuaWNlVHJhbnNwb3J0UG9saWN5IT09biYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0SUNFIGNoYW5nZSBpY2VUcmFuc3BvcnRQb2xpY3kgZnJvbSBbXCIpLmNvbmNhdChpLmljZVRyYW5zcG9ydFBvbGljeSxcIl0gdG8gW1wiKS5jb25jYXQobixcIl1cIikpLGkuaWNlVHJhbnNwb3J0UG9saWN5PW4sdC5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGkpKX1lbHNlIGlmKGU9PT11SS5SRUxBWSlyZXR1cm47ZSE9PXVJLlJFTEFZJiZ0LnJlbW90ZVNEUC51cGRhdGVDYW5kaWRhdGVzKGUpO2NvbnN0IG49eWllbGQgalAodC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pKTtpZighbi5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVjYXVzZSByZXN0YXJ0IG9mZmVyIFNEUCBkb2VzIG5vdCBleGlzdC5cIik7Y29uc3Qgcj16UChuLnNkcCkse3JlbW90ZUljZVBhcmFtZXRlcnM6c309eWllbGQgci5pY2VQYXJhbWV0ZXJzO3QucmVtb3RlU0RQLnJlc3RhcnRJQ0Uocyk7Y29uc3Qgbz10LnJlbW90ZVNEUC50b1N0cmluZygpO3lpZWxkIGpQKHQucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSkseWllbGQgalAodC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSkpfWNhdGNoKGUpe0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RvcmUuY2xpZW50SWQsXCJdIHJlc3RhcnQgSUNFIGZhaWxlZCwgYWJvcnQgb3BlcmF0aW9uXCIpLGUpfWZpbmFsbHl7aSgpfX0pKSgpfWNsb3NlKCl7dmFyIGU7dGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpLG51bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsXCJjbG9zZWRcIiksdGhpcy51bmJpbmRQQ0V2ZW50cygpLHRoaXMudW5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuc3RhdHNGaWx0ZXIuZGVzdHJveSgpfWdldFN0YXRzKCl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U3RhdHMoKX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0VmlkZW9Jc1JlYWR5KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSx0KXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxpPXRoaXMubXVuZ1NlbmRPZmZlclNEUChlLnNkcCxbdF0pO3RoaXMucmVtb3RlU0RQLnVwZGF0ZVJlY3ZNZWRpYSh0Ll9tZWRpYVN0cmVhbVRyYWNrLmtpbmQsdCk7Y29uc3Qgbj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOml9KSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm59KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyB1cGRhdGVTZW5kUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKCh0PT57dmFyIGk7cmV0dXJuKG51bGw9PT0oaT10LnRyYWNrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCk9PT1lfSkpOzE9PT1pLmxlbmd0aCYmYXdhaXQgdGhpcy5hcHBseVNlbmRFbmNvZGluZ3MoaSxbdF0pfXNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KGUsdCl7dGhpcy5zdGF0c0ZpbHRlci5zZXRWaWRlb0lzUmVhZHkyKGUsdCl9YXN5bmMgcmVwbGFjZVRyYWNrKGUsdCl7Y29uc3QgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKChlPT57dmFyIGk7cmV0dXJuKG51bGw9PT0oaT1lLnRyYWNrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCk9PT10fSkpO2kmJmF3YWl0IGkucmVwbGFjZVRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spfWNyZWF0ZURhdGFDaGFubmVscyhlLHQpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiUGxhbmIgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IGNyZWF0ZURhdGFDaGFubmVscy5cIil9c3RvcERhdGFDaGFubmVscyhlKXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcIlBsYW5iIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBzdG9wRGF0YUNoYW5uZWxzLlwiKX1iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1lPT57ZS5jYW5kaWRhdGU/dGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50Kz0xOih0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGxvY2FsIGNhbmRpZGF0ZSBjb3VudFwiKSx0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQpKX0sc2V0VGltZW91dCgoKCk9Pnt0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZHx8KHRoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkPSEwLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBvbmljZWNhbmRpZGF0ZSB0aW1lb3V0LCBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSl9KSxrQyhcIkNBTkRJREFURV9USU1FT1VUXCIpKX11bmJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZWVycm9yPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub250cmFjaz1udWxsfXN0YXRpYyByZXNvbHZlUENDb25maWd1cmF0aW9uKGUpe2NvbnN0IHQ9e2ljZVNlcnZlcnM6W10sc2RwU2VtYW50aWNzOlwicGxhbi1iXCJ9O3JldHVybiBlLmljZVNlcnZlcnM/dC5pY2VTZXJ2ZXJzPWUuaWNlU2VydmVyczplLnR1cm5TZXJ2ZXImJlwib2ZmXCIhPT1lLnR1cm5TZXJ2ZXIubW9kZSYmKF9UKGUudHVyblNlcnZlci5zZXJ2ZXJzKT90LmljZVNlcnZlcnM9ZS50dXJuU2VydmVyLnNlcnZlcnM6KHQuaWNlU2VydmVycyYmdC5pY2VTZXJ2ZXJzLnB1c2goLi4uTUwudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlLnR1cm5TZXJ2ZXIuc2VydmVycykpLGtDKFwiVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVlcIikmJnQuaWNlU2VydmVycyYmZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSYmdC5pY2VTZXJ2ZXJzLnB1c2goLi4uTUwudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5KSksZS50dXJuU2VydmVyLnNlcnZlcnMuY29uY2F0KGUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXl8fFtdKS5mb3JFYWNoKChlPT57ZS5mb3JjZXR1cm4mJih0LmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpfSkpKSksdH1zdGF0aWMgdHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntlLnNlY3VyaXR5P2UudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pOihlLnVkcHBvcnQmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnVkcHBvcnQsXCI/dHJhbnNwb3J0PXVkcFwiKX0pLGUudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSkpfSkpLHR9YXN5bmMgdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKGUsdCl7dmFyIGk7aWYoIXQpe3Q9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZCgodD0+e3ZhciBpO3JldHVybihudWxsPT09KGk9dC50cmFjayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpPT09ZS5fbWVkaWFTdHJlYW1UcmFjay5pZH0pKX1pZighdClyZXR1cm4gS0Mud2FybihcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIG5vIHJ0cFNlbmRlciBmb3VuZH1cIikpO2lmKCFfQSgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBLQy53YXJuKFwiQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2NvbnN0IG49e30scj17fTtpZihlIGluc3RhbmNlb2YgU2Ipc3dpdGNoKGUuX29wdGltaXphdGlvbk1vZGUpe2Nhc2VcIm1vdGlvblwiOm4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tZnJhbWVyYXRlXCI7YnJlYWs7Y2FzZVwiZGV0YWlsXCI6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1yZXNvbHV0aW9uXCI7YnJlYWs7ZGVmYXVsdDpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cImJhbGFuY2VkXCJ9aWYoa0MoXCJEU0NQX1RZUEVcIikmJmtnKCkpe3ZhciBzO2NvbnN0IGU9a0MoXCJEU0NQX1RZUEVcIik7UHIocz1bXCJ2ZXJ5LWxvd1wiLFwibG93XCIsXCJtZWRpdW1cIixcImhpZ2hcIl0pLmNhbGwocyxlKSYmKHIubmV0d29ya1ByaW9yaXR5PWUpfWNvbnN0IG89dC5nZXRQYXJhbWV0ZXJzKCksYT1udWxsPT09KGk9by5lbmNvZGluZ3MpfHx2b2lkIDA9PT1pP3ZvaWQgMDppWzBdO2EmJk9iamVjdC5hc3NpZ24oYSxyKSxPYmplY3QuYXNzaWduKG8sbiksS0MuZGVidWcoXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3M6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoby5lbmNvZGluZ3MpKSksYXdhaXQgdC5zZXRQYXJhbWV0ZXJzKG8pfWFzeW5jIGFwcGx5U2VuZEVuY29kaW5ncyhlLHQpe3RyeXtpZighX0EoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm47aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm47Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49ZVtpXSxyPXRbaV07biYmciYmYXdhaXQgdGhpcy51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MocixuKX19Y2F0Y2goZSl7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEFwcGx5IFJUUFNlbmRFbmNvZGluZ3MgZmFpbGVkLlwiKSl9fW11bmdTZW5kT2ZmZXJTRFAoZSx0KXtjb25zdCBpPUtQLnBhcnNlKGUpO3JldHVybiB0LmZvckVhY2goKChlLHQpPT57Y29uc3Qgbj1lLl9tZWRpYVN0cmVhbVRyYWNrLHI9aS5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubWlkPT09bi5raW5kKSk7ciYmJFAocixlKX0pKSxLUC5wcmludChpKX1iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt2YXIgbjtudWxsPT09KG49dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKXx8dm9pZCAwPT09bnx8bi5jYWxsKHRoaXMsZSx0LGkpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX19dW5iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMH1hc3luYyBiYXRjaFJlY2VpdmUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLmJhdGNoUmVjZWl2ZSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAuYmF0Y2hTZW5kKGUpLm1hcCgoKHQsaSk9PntsZXR7aWQ6bixtc2xhYmVsOnJ9PXQ7Y29uc3R7a2luZDpzfT1lW2ldO3JldHVybiBuZXcgdGcoKChlLHQpPT57Y29uc3QgaT1zZXRUaW1lb3V0KCgoKT0+e3QobmV3IEVycm9yKFwiQ2Fubm90IHJlY2VpdmUgdHJhY2ssIGlkOiBcIi5jb25jYXQobikpKX0pLDFlNCksbz10PT57Y29uc3QgYT1wZygpO2lmKFwiU2FmYXJpXCI9PT1hLm5hbWUmJjExPT09TnVtYmVyKGEudmVyc2lvbikmJnQudHJhY2suaWQhPT1uJiZ0LnN0cmVhbXNbMF0uaWQ9PT1yKXt2YXIgYztjb25zdCByPXQuc3RyZWFtc1swXS5nZXRUcmFja3MoKVswXTtyZXR1cm4gbnVsbD09PShjPXRoaXMucmVtb3RlU0RQKXx8dm9pZCAwPT09Y3x8Yy51cGRhdGVUcmFja0xhYmVsKHMsbix0LnRyYWNrLmlkKSx0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLG8pLGNsZWFyVGltZW91dChpKSx2b2lkIGUoe3RyYWNrOnIsaWQ6bn0pfWlmKHQudHJhY2suaWQ9PT1uKXJldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLG8pLGNsZWFyVGltZW91dChpKSx2b2lkIGUoe3RyYWNrOnQudHJhY2ssaWQ6bn0pfTt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLG8pfSkpfSkpLGk9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6aX0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtyZXR1cm4gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pLGF3YWl0IHRnLmFsbCh0KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgZ2V0UmVtb3RlU1NSQyhlKXtpZighdGhpcy5yZW1vdGVTRFApcmV0dXJuO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAuZ2V0U1NSQyhlKTtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFswXS5zc3JjSWR9c2V0Q29uZmlndXJhdGlvbihlKXtpZihfQSgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pe2NvbnN0IHQ9TUwucmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKTt0aGlzLnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24odCl9fX1mdW5jdGlvbiBVTChlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBpLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLm11dGV4LGk9YXdhaXQgZS5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENvbm5lY3Rpb24uXCIuY29uY2F0KHQpKTt0cnl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkociksbz0wO288cjtvKyspc1tvXT1hcmd1bWVudHNbb107cmV0dXJuIGF3YWl0IG4uYXBwbHkodGhpcyxzKX1maW5hbGx5e2koKX19LGl9ZnVuY3Rpb24geEwoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIFZMKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3hMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnhMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfU12KFtVTCxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LE9iamVjdCxBcnJheSxPYmplY3QsU3RyaW5nLFN0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLE1MLnByb3RvdHlwZSxcImNvbm5lY3RcIixudWxsKSxNdihbVUwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sTUwucHJvdG90eXBlLFwic3RvcFNlbmRpbmdcIixudWxsKSxNdihbVUwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxBcnJheSxTdHJpbmcsT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sTUwucHJvdG90eXBlLFwicmVjZWl2ZVwiLG51bGwpLE12KFtVTCxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxNTC5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsbnVsbCksTXYoW1VMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxNTC5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsbnVsbCksTXYoW1VMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxNTC5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixudWxsKSxNdihbVUwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sTUwucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIsbnVsbCksTXYoW1VMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLE1MLnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIsbnVsbCksTXYoW1VMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sTUwucHJvdG90eXBlLFwiY2xvc2VcIixudWxsKSxNdihbVUwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxpQV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLE1MLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixudWxsKSxNdihbVUwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxpQV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLE1MLnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsbnVsbCksTXYoW1VMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtpQSxTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxNTC5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixudWxsKSxNdihbVUwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLE1MLnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIixudWxsKTtjb25zdCBGTD1cIjlcIixCTD00ZTQ7ZnVuY3Rpb24gakwoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIEdMKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2pMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmpMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWxldCBXTD1jbGFzcyBlIGV4dGVuZHMgUEl7Z2V0IGN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudExvY2FsRGVzY3JpcHRpb259Z2V0IGN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbn1nZXQgcGVlckNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZX1nZXQgaWNlQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlfWdldCBkdGxzVHJhbnNwb3J0U3RhdGUoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzKClbMF0pfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC50cmFuc3BvcnQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnN0YXRlKSYmdm9pZCAwIT09ZT9lOm51bGx9Y29uc3RydWN0b3IodCxpKXtzdXBlcih0LGkpLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcInBlZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwicmVtb3RlU0RQXCIsdm9pZCAwKSxudSh0aGlzLFwiaW5pdGlhbE9mZmVyXCIsdm9pZCAwKSxudSh0aGlzLFwidHJhbnNwb3J0RXZlbnRSZWNlaXZlclwiLHZvaWQgMCksbnUodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxudSh0aGlzLFwidXNlWFJcIixrQyhcIlVTRV9YUlwiKSksbnUodGhpcyxcImxvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxudSh0aGlzLFwicmVtb3RlQ29kZWNzXCIsdm9pZCAwKSxudSh0aGlzLFwibG9jYWxDYW5kaWRhdGVDb3VudFwiLDApLG51KHRoaXMsXCJhbGxDYW5kaWRhdGVzUmVjZWl2ZWRcIiwhMSksbnUodGhpcyxcImRhdGFTdHJlYW1DaGFubmVsTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcImVzdGFibGlzaFByb21pc2VcIix2b2lkIDApLG51KHRoaXMsXCJtdXRleFwiLG5ldyBZVChcIlAyUENvbm5lY3Rpb24tbXV0ZXhcIikpLHRoaXMuc3RvcmU9aSx0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbihlLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuc3RhdHNGaWx0ZXI9UEwodGhpcy5wZWVyQ29ubmVjdGlvbixrQyhcIlNUQVRTX1VQREFURV9JTlRFUlZBTFwiKSx2b2lkIDAsUmcoKT8xMjAwOnZvaWQgMCksdGhpcy5iaW5kUENFdmVudHMoKSx0aGlzLmJpbmRTdGF0c0V2ZW50cygpLHRoaXMuc3RvcmUucDJwSWQ9dGhpcy5zdG9yZS5wMnBJZCsxLHRoaXMuZXN0YWJsaXNoUHJvbWlzZT10aGlzLmVzdGFibGlzaCgpfWFzeW5jIHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLHQpe3RoaXMucmVtb3RlQ29kZWNzPXQ7Y29uc3QgaT1bLi4ubmV3IFNldCh0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzJiZ0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQudmlkZW9Db2RlY3MubWFwKChlPT5lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpKS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gUHIodD1PYmplY3Qua2V5cyhVQykpLmNhbGwodCxlKX0pKSldO2lmKHJ2LnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyh0aGlzLnN0b3JlLnNlc3Npb25JZCx7bWlkczplLGxvY2FsQ29kZWNzOmkscmVtb3RlQ29kZWNzOnRoaXMucmVtb3RlQ29kZWNzfSksIXRoaXMucmVtb3RlU0RQKXJldHVybiB2b2lkIEtDLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIGNhbm5vdCB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZCwgbG9jYWwgY29kZWNzOiBcIi5jb25jYXQoaSxcIiwgY29kZWNzOiBcIikuY29uY2F0KHQpKTtpZih0aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVDb2RlYyhlLHQsdGhpcy5zdG9yZS5jb2RlYykpe2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHQ9dGhpcy5sb2dTRFBFeGNoYW5nZShlLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwibXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihlKTtjb25zdCBpPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7bnVsbD09dHx8dChpKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOml9KX1lbHNlIEtDLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyBubyBuZWVkIHRvIGV4Y2hhbmdlIFNEUC5cIil9YXN5bmMgZXN0YWJsaXNoKCl7dHJ5e3RoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSksdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KTtjb25zdCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTtpZighZS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpbml0aWFsT2ZmZXIuc2RwIHdoZW4gdHJ5aW5nIHRvIGVzdGFibGlzaCBQZWVyQ29ubmVjdGlvbi5cIik7Y29uc3QgdD16UChlLnNkcCksaT1hd2FpdCBzTCh7ZmlsdGVyUlRYOiFrQyhcIlVTRV9QVUJfUlRYXCIpJiYha0MoXCJVU0VfU1VCX1JUWFwiKSxmaWx0ZXJWaWRlb0ZlYzprQyhcIkZJTFRFUl9WSURFT19GRUNcIiksZmlsdGVyQXVkaW9GZWM6a0MoXCJGSUxURVJfQVVESU9fRkVDXCIpLGZpbHRlclZpZGVvQ29kZWM6a0MoXCJGSUxURVJfVklERU9fQ09ERUNcIil9LHt1c2VYUjp0aGlzLnVzZVhSfSk7cmV0dXJuIHRoaXMubG9jYWxDYXBhYmlsaXRpZXM9YUwoaSksdGhpcy5pbml0aWFsT2ZmZXI9ZSxHTChHTCh7fSx0KSx7fSx7cnRwQ2FwYWJpbGl0aWVzOmksb2ZmZXJTRFA6ZS5zZHB9KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyBjb25uZWN0KGUsdCxpLG4scixzKXt0cnl7aWYoIXRoaXMuaW5pdGlhbE9mZmVyKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlc3RhYmxpc2ggUDJQQ29ubmVjdGlvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO3RoaXMucmVtb3RlU0RQPW5ldyBjbGFzc3tnZXQgbG9jYWxDYXBhYmlsaXRpZXMoKXtyZXR1cm4gYlQodGhpcy5fbG9jYWxDYXBhYmlsaXRpZXMpfWdldCBydHBDYXBhYmlsaXRpZXMoKXtyZXR1cm4gYlQodGhpcy5fcnRwQ2FwYWJpbGl0aWVzKX1nZXQgY2FuZGlkYXRlcygpe3JldHVybiBiVCh0aGlzLl9jYW5kaWRhdGVzKX1nZXQgaWNlUGFyYW1ldGVycygpe3JldHVybiBiVCh0aGlzLl9pY2VQYXJhbWV0ZXJzKX1nZXQgZHRsc1BhcmFtZXRlcnMoKXtyZXR1cm4gYlQodGhpcy5fZHRsc1BhcmFtZXRlcnMpfWNvbnN0cnVjdG9yKGUpe251KHRoaXMsXCJzZXNzaW9uRGVzY1wiLHZvaWQgMCksbnUodGhpcyxcIl9sb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksbnUodGhpcyxcIl9ydHBDYXBhYmlsaXRpZXNcIix2b2lkIDApLG51KHRoaXMsXCJfY2FuZGlkYXRlc1wiLHZvaWQgMCksbnUodGhpcyxcIl9pY2VQYXJhbWV0ZXJzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2R0bHNQYXJhbWV0ZXJzXCIsdm9pZCAwKSxudSh0aGlzLFwic2V0dXBcIix2b2lkIDApLG51KHRoaXMsXCJjdXJyZW50TWlkSW5kZXhcIix2b2lkIDApLG51KHRoaXMsXCJjbmFtZVwiLHZvaWQgMCksbnUodGhpcyxcImZpcmVmb3hTc3JjTWlkTWFwXCIsbmV3IE1hcCksZT1iVChlKTtjb25zdHtyZW1vdGVJY2VQYXJhbWV0ZXJzOnQscmVtb3RlRHRsc1BhcmFtZXRlcnM6aSxjYW5kaWRhdGVzOm4scmVtb3RlUlRQQ2FwYWJpbGl0aWVzOnIscmVtb3RlU2V0dXA6cyxsb2NhbENhcGFiaWxpdGllczpvLGNuYW1lOmF9PWUsYz1LUC5wYXJzZShcInY9MFxcbm89LSAwIDAgSU4gSVA0IDEyNy4wLjAuMVxcbnM9QWdvcmFHYXRld2F5XFxudD0wIDBcXG5hPWdyb3VwOkJVTkRMRSAwIDFcXG5hPW1zaWQtc2VtYW50aWM6IFdNU1xcbmE9aWNlLWxpdGVcXG5tPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1zZW5kb25seVxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDowXFxubT1hdWRpbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcXG5jPUlOIElQNCAxMjcuMC4wLjFcXG5hPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcbmE9c2VuZG9ubHlcXG5hPXJ0Y3AtbXV4XFxuYT1ydGNwLXJzaXplXFxuYT1taWQ6MVxcblwiKTt0aGlzLl9ydHBDYXBhYmlsaXRpZXM9cix0aGlzLl9jYW5kaWRhdGVzPW4sdGhpcy5faWNlUGFyYW1ldGVycz10LHRoaXMuX2R0bHNQYXJhbWV0ZXJzPWksdGhpcy5fbG9jYWxDYXBhYmlsaXRpZXM9byx0aGlzLnNldHVwPXMsdGhpcy5jbmFtZT1hO2NvbnN0IGQ9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZDtmb3IoY29uc3QgZSBvZiBjLm1lZGlhRGVzY3JpcHRpb25zKXtpZihlLmF0dHJpYnV0ZXMuaWNlVWZyYWc9dC5pY2VVZnJhZyxlLmF0dHJpYnV0ZXMuaWNlUHdkPXQuaWNlUHdkLGUuYXR0cmlidXRlcy5maW5nZXJwcmludHM9aS5maW5nZXJwcmludHMsZS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9bixlLmF0dHJpYnV0ZXMuc2V0dXA9cyxcInZpZGVvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmKGUubWVkaWEuZm10cz1kLnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHM9ZC52aWRlb0NvZGVjcyxlLmF0dHJpYnV0ZXMuZXh0bWFwcz1kLnZpZGVvRXh0ZW5zaW9ucyxrQyhcIlBSRUxPQURfTUVESUFfQ09VTlRcIik+MCkpe2NvbnN0e3NzcmNzOnQsc3NyY0dyb3VwczppfT1aUChbe3NzcmNJZDpCTCxydHg6a0MoXCJVU0VfU1VCX1JUWFwiKT80MDAwMTp2b2lkIDB9XSx0aGlzLmNuYW1lKTtlLmF0dHJpYnV0ZXMuc3NyY3M9dCxlLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1pfWlmKFwiYXVkaW9cIj09PWUubWVkaWEubWVkaWFUeXBlJiYoZS5tZWRpYS5mbXRzPWQuYXVkaW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz1kLmF1ZGlvQ29kZWNzLGUuYXR0cmlidXRlcy5leHRtYXBzPWQuYXVkaW9FeHRlbnNpb25zLGNMKGUpLGtDKFwiUFJFTE9BRF9NRURJQV9DT1VOVFwiKT4wKSl7Y29uc3R7c3NyY3M6dCxzc3JjR3JvdXBzOml9PVpQKFt7c3NyY0lkOjJlNH1dLHRoaXMuY25hbWUpO2UuYXR0cmlidXRlcy5zc3Jjcz10LGUuYXR0cmlidXRlcy5zc3JjR3JvdXBzPWl9fXRoaXMuc2Vzc2lvbkRlc2M9Yyx0aGlzLmN1cnJlbnRNaWRJbmRleD1jLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xfXByZWxvYWRSZW1vdGVNZWRpYSgpe2NvbnN0IGU9a0MoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpO3RoaXMucnRwQ2FwYWJpbGl0aWVzO2NvbnN0IHQ9dGhpcy5jYW5kaWRhdGVzLGk9dGhpcy5kdGxzUGFyYW1ldGVycyxuPXRoaXMuaWNlUGFyYW1ldGVycyxyPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQ7Zm9yKGxldCBzPTE7czxlO3MrKyl7Y29uc3QgZT0yKnMrMmU0LG89MipzK0JMLHtzc3JjczphLHNzcmNHcm91cHM6Y309WlAoW3tzc3JjSWQ6ZX1dLHRoaXMuY25hbWUpLHtzc3JjczpkLHNzcmNHcm91cHM6bH09WlAoW3tzc3JjSWQ6byxydHg6a0MoXCJVU0VfU1VCX1JUWFwiKT9vKzE6dm9pZCAwfV0sdGhpcy5jbmFtZSk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKHttZWRpYTp7bWVkaWFUeXBlOlwidmlkZW9cIixwb3J0OkZMLHByb3RvczpbXCJVRFBcIixcIlRMU1wiLFwiUlRQXCIsXCJTQVZQRlwiXSxmbXRzOnIudmlkZW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzpuLmljZVVmcmFnLGljZVB3ZDpuLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0LGV4dG1hcHM6ci52aWRlb0V4dGVuc2lvbnMsZmluZ2VycHJpbnRzOmkuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOmQsc3NyY0dyb3VwczpsLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpyLnZpZGVvQ29kZWNzLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjpcInNlbmRvbmx5XCIscnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KDIqcyl9fSksdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKHttZWRpYTp7bWVkaWFUeXBlOlwiYXVkaW9cIixwb3J0OkZMLHByb3RvczpbXCJVRFBcIixcIlRMU1wiLFwiUlRQXCIsXCJTQVZQRlwiXSxmbXRzOnIuYXVkaW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzpuLmljZVVmcmFnLGljZVB3ZDpuLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0LGV4dG1hcHM6ci5hdWRpb0V4dGVuc2lvbnMsZmluZ2VycHJpbnRzOmkuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOmEsc3NyY0dyb3VwczpjLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpyLmF1ZGlvQ29kZWNzLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjpcInNlbmRvbmx5XCIscnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KDIqcysxKX19KSx0aGlzLmN1cnJlbnRNaWRJbmRleCs9Mn10aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKX10b1N0cmluZygpe3JldHVybiBLUC5wcmludCh0aGlzLnNlc3Npb25EZXNjKX1zZW5kKGUsdCxpLG4pe2NvbnN0e3NzcmNzOnIsc3NyY0dyb3VwczpzfT1aUCh0LHRoaXMuY25hbWUsa0MoXCJTWU5DX0dST1VQXCIpP2k6dm9pZCAwKSxvPXRoaXMuZmluZFByZWxvYWRNZWRpYURlc2Mocik7aWYobyl7aWYoUmcoKSYmdGhpcy5maXJlZm94U3NyY01pZE1hcC5zZXQoclswXS5zc3JjSWQsby5hdHRyaWJ1dGVzLm1pZCksbiYmKG4udHdjY3x8bi5yZW1iKSl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2Yobyk7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbZV09dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhvLG4pLHttaWQ6by5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITB9fXJldHVybnttaWQ6by5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITF9fXtjb25zdCB0PXRoaXMuZmluZEF2YWlsYWJsZU1lZGlhSW5kZXgoZSxyKTtsZXQgaTtyZXR1cm4tMT09PXR8fDE9PT10JiYoU2coKXx8QWcoKSl8fDA9PT10JiZrQyhcIlVTRV9TVUJfUlRYXCIpfHxiZygpPyhpPXRoaXMuY3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKGUscixzLFwic2VuZG9ubHlcIixuKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKSk6KGk9YlQodGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1t0XSksaS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCIsaS5hdHRyaWJ1dGVzLnNzcmNzPXIsaS5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9cyx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW3RdPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoaSxuKSksUmcoKSYmdGhpcy5maXJlZm94U3NyY01pZE1hcC5zZXQoclswXS5zc3JjSWQsaS5hdHRyaWJ1dGVzLm1pZCkse21pZDppLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMH19fXNlbmREYXRhQ2hhbm5lbCgpe2NvbnN0e21lZGlhRGVzYzplLG5lZWRFeGNoYW5nZVNEUDp0fT10aGlzLmNyZWF0ZU9yUmVjeWNsZURhdGFDaGFubmVsKCk7cmV0dXJuIHRoaXMudXBkYXRlQnVuZGxlTWlkcygpLHttaWQ6ZS5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6dH19YmF0Y2hTZW5kKGUpe2NvbnN0IHQ9ZS5tYXAoKGU9PntsZXR7a2luZDp0LHNzcmNNc2c6aSxtc2xhYmVsOm59PWU7cmV0dXJuIHRoaXMuc2VuZCh0LGksbil9KSksaT1bXTtsZXQgbj0hMTtyZXR1cm4gdC5mb3JFYWNoKChlPT57bGV0e21pZDp0LG5lZWRFeGNoYW5nZVNEUDpyfT1lO3ImJihuPSEwKSxpLnB1c2godCl9KSkse21pZHM6aSxuZWVkRXhjaGFuZ2VTRFA6bn19c3RvcFNlbmRpbmcoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+dC5hdHRyaWJ1dGVzLm1pZCYmLTEhPT1lLmluZGV4T2YodC5hdHRyaWJ1dGVzLm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5zdG9wU2VuZGluZy5cIik7dC5mb3JFYWNoKChlPT57XCIwXCI9PT1lLmF0dHJpYnV0ZXMubWlkfHxSZygpfHxiZygpP2UuYXR0cmlidXRlcy5zc3Jjcz1bXTooZS5hdHRyaWJ1dGVzLnNzcmNzPVtdLGUuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLGUubWVkaWEucG9ydD1cIjBcIil9KSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCl9bXV0ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9uIG5vdCBmb3VuZCB3aXRoIFwiLmNvbmNhdChlLFwiIGluIHJlbW90ZSBTRFAgd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlLlwiKSk7dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9dW5tdXRlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGUsXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnVubXV0ZS5cIikpO3QuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwifW11dGVSZW1vdGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+UHIoZSkuY2FsbChlLHQuYXR0cmlidXRlcy5taWR8fFwiXCIpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZVJlbW90ZS5cIik7dC5mb3JFYWNoKChlPT57ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSl9dW5tdXRlUmVtb3RlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9PlByKGUpLmNhbGwoZSx0LmF0dHJpYnV0ZXMubWlkfHxcIlwiKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGVSZW1vdGUuXCIpO3QuZm9yRWFjaCgoZT0+e2UuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJyZWN2b25seVwifSkpfXJlY2VpdmUoZSx0LGksbil7ZS5mb3JFYWNoKCgoZSxyKT0+e3RoaXMuY3JlYXRlT3JSZWN5Y2xlUmVjdk1lZGlhKGUsW10sXCJyZWN2b25seVwiLHQsaSxuW3JdKX0pKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKX1zdG9wUmVjZWl2aW5nKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9Pi0xIT09ZS5pbmRleE9mKHQuYXR0cmlidXRlcy5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJNZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcydzIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnJlY2VpdmUuXCIpO3QuZm9yRWFjaCgoZT0+e2UubWVkaWEucG9ydD1cIjBcIixlLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn0pKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKX11cGRhdGVDYW5kaWRhdGVzKGUpe2NvbnN0IHQ9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidWRwXCI9PT1lLnRyYW5zcG9ydCkpO2lmKGU9PT11SS5UQ1Ape2lmKDA9PT10Lmxlbmd0aClyZXR1cm47aWYoa0MoXCJUQ1BfQ0FORElEQVRFX09OTFlcIikpe2NvbnN0IGU9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCI9PT1lLnRyYW5zcG9ydCkpO3QuZm9yRWFjaCgodD0+ey0xPT09ZS5maW5kSW5kZXgoKGU9PmUuY29ubmVjdGlvbkFkZHJlc3M9PT10LmNvbm5lY3Rpb25BZGRyZXNzKSkmJmUucHVzaChWTChWTCh7fSx0KSx7fSx7Zm91bmRhdGlvbjpcInRjcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcih0LnByaW9yaXR5KS0xK1wiXCIsdHJhbnNwb3J0OlwidGNwXCIscG9ydDpOdW1iZXIodC5wb3J0KSs5MCtcIlwifSkpfSkpLHRoaXMuX2NhbmRpZGF0ZXM9ZX1lbHNle2NvbnN0IGU9W107dC5mb3JFYWNoKCh0PT57ZS5wdXNoKFZMKFZMKHt9LHQpLHt9LHtmb3VuZGF0aW9uOlwidGNwY2FuZGlkYXRlXCIscHJpb3JpdHk6TnVtYmVyKHQucHJpb3JpdHkpLTErXCJcIix0cmFuc3BvcnQ6XCJ0Y3BcIixwb3J0Ok51bWJlcih0LnBvcnQpKzkwK1wiXCJ9KSl9KSksdGhpcy5fY2FuZGlkYXRlcz1bLi4udCwuLi5lXX19ZWxzZSBpZihlPT09dUkuUkVMQVkpe2lmKDAhPT10Lmxlbmd0aClyZXR1cm47e2NvbnN0IGU9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCI9PT1lLnRyYW5zcG9ydCkpO2UuZm9yRWFjaCgoZT0+e3QucHVzaChWTChWTCh7fSxlKSx7fSx7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihlLnByaW9yaXR5KSsxK1wiXCIsdHJhbnNwb3J0OlwidWRwXCIscG9ydDpOdW1iZXIoZS5wb3J0KS05MCtcIlwifSkpfSkpLHRoaXMuX2NhbmRpZGF0ZXM9Wy4uLnQsLi4uZV19fWVsc2UgMD09PXQubGVuZ3RoPyh0aGlzLl9jYW5kaWRhdGVzLmZpbHRlcigoZT0+XCJ0Y3BcIj09PWUudHJhbnNwb3J0KSkuZm9yRWFjaCgoZT0+e3QucHVzaChWTChWTCh7fSxlKSx7fSx7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihlLnByaW9yaXR5KSsxK1wiXCIsdHJhbnNwb3J0OlwidWRwXCIscG9ydDpOdW1iZXIoZS5wb3J0KS05MCtcIlwifSkpfSkpLHRoaXMuX2NhbmRpZGF0ZXM9dCk6dGhpcy5fY2FuZGlkYXRlcz10aGlzLl9jYW5kaWRhdGVzLmZpbHRlcigoZT0+XCJ0Y3BcIiE9PWUudHJhbnNwb3J0KSk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucyllLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLmNhbmRpZGF0ZXN9cmVzdGFydElDRShlKXtlPWJUKGUpLHRoaXMuX2ljZVBhcmFtZXRlcnM9ZSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKHQ9Pnt0LmF0dHJpYnV0ZXMuaWNlVWZyYWc9ZS5pY2VVZnJhZyx0LmF0dHJpYnV0ZXMuaWNlUHdkPWUuaWNlUHdkfSkpfXByZWRpY3RSZWNlaXZpbmdNaWRzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlO2krKyl0LnB1c2goKHRoaXMuY3VycmVudE1pZEluZGV4K2krMSkudG9TdHJpbmcoMTApKTtyZXR1cm4gdH1maW5kQXZhaWxhYmxlTWVkaWFJbmRleChlLHQpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgoaT0+e2NvbnN0IG49aS5tZWRpYS5tZWRpYVR5cGU9PT1lJiZcIjBcIiE9PWkubWVkaWEucG9ydCYmKFwic2VuZG9ubHlcIj09PWkuYXR0cmlidXRlcy5kaXJlY3Rpb258fFwic2VuZHJlY3ZcIj09PWkuYXR0cmlidXRlcy5kaXJlY3Rpb24pJiYwPT09aS5hdHRyaWJ1dGVzLnNzcmNzLmxlbmd0aDtpZihSZygpKXtpZihuKXtjb25zdCBlPXRoaXMuZmlyZWZveFNzcmNNaWRNYXAuZ2V0KHRbMF0uc3NyY0lkKTtyZXR1cm4hKGV8fFwiMFwiIT09aS5hdHRyaWJ1dGVzLm1pZCYmXCIxXCIhPT1pLmF0dHJpYnV0ZXMubWlkKXx8ISghZXx8ZSE9PWkuYXR0cmlidXRlcy5taWQpfXJldHVybiExfXJldHVybiBufSkpfWNyZWF0ZU9yUmVjeWNsZURhdGFDaGFubmVsKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucylpZihcImFwcGxpY2F0aW9uXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSlyZXR1cm57bWVkaWFEZXNjOmUsbmVlZEV4Y2hhbmdlU0RQOiExfTt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtjb25zdCBlPVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KSx0PXttZWRpYTp7bWVkaWFUeXBlOlwiYXBwbGljYXRpb25cIixwb3J0OkZMLHByb3RvczpbXCJVRFBcIixcIkRUTFNcIixcIlNDVFBcIl0sZm10czpbXCJ3ZWJydGMtZGF0YWNoYW5uZWxcIl19LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczpbXSxmaW5nZXJwcmludHM6dGhpcy5kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMsaW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6W10sc3NyY0dyb3VwczpbXSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6W10scnRjcDp7cG9ydDpcIjlcIixuZXRUeXBlOlwiSU5cIixhZGRyZXNzVHlwZTpcIklQNFwiLGFkZHJlc3M6XCIwLjAuMC4wXCJ9LHNldHVwOnRoaXMuc2V0dXAsbWlkOlwiXCIuY29uY2F0KGUpLHNjdHBQb3J0OlwiNTAwMFwifX07cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaCh0KSx7bWVkaWFEZXNjOnQsbmVlZEV4Y2hhbmdlU0RQOiEwfX1jcmVhdGVPclJlY3ljbGVSZWN2TWVkaWEoZSx0LGksbixyLHMpe2NvbnN0IG89ZS5fbWVkaWFTdHJlYW1UcmFjay5raW5kLGE9dGhpcy5ydHBDYXBhYmlsaXRpZXMucmVjdixjPWxMKG8sYSx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQsbz09PWhJLlZJREVPP246ciksZD1vPT09aEkuVklERU8/YS52aWRlb0V4dGVuc2lvbnM6YS5hdWRpb0V4dGVuc2lvbnM7dGhpcy5jdXJyZW50TWlkSW5kZXgrPTE7Y29uc3QgbD1cIlwiLmNvbmNhdCh0aGlzLmN1cnJlbnRNaWRJbmRleCk7bGV0IGg9e21lZGlhOnttZWRpYVR5cGU6byxwb3J0OkZMLHByb3RvczpbXCJVRFBcIixcIlRMU1wiLFwiUlRQXCIsXCJTQVZQRlwiXSxmbXRzOmMubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzp0aGlzLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dGhpcy5jYW5kaWRhdGVzLGV4dG1hcHM6ZCxmaW5nZXJwcmludHM6dGhpcy5kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMsaW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6dCxzc3JjR3JvdXBzOltdLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpjLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjppLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdChsKX19O2g9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyhoLGUscyk7Y29uc3QgdT10aGlzLmZpbmRGaXJzdENsb3NlZE1lZGlhKG8pO2lmKHUpe2NvbnN0IGU9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKHUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbZV09aH1lbHNlIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaChoKTtyZXR1cm4gaH11cGRhdGVSZW1vdGVDb2RlYyhlLHQsaSl7Y29uc3Qgbj1bLi4ubmV3IFNldCh0aGlzLl9ydHBDYXBhYmlsaXRpZXMucmVjdi52aWRlb0NvZGVjcy5tYXAoKGU9PmUucnRwTWFwJiZlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikpLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBQcih0PU9iamVjdC5rZXlzKFVDKSkuY2FsbCh0LGUpfSkpKV0scj1uZXcgU2V0KHQpO2lmKG4uZXZlcnkoKGU9PnIuaGFzKGUpKSkpcmV0dXJuIEtDLmRlYnVnKFwiY29kZWNzIGhhcyBub3QgY2hhbmdlZCwgbm8gbmVlZCB0byB1cGRhdGVSZW1vdGVDb2RlYywgY29kZWNzOiBcIi5jb25jYXQodCkpLCExO2NvbnN0IHM9dGhpcy5fcnRwQ2FwYWJpbGl0aWVzLnJlY3YudmlkZW9Db2RlY3MuZmlsdGVyKChlPT50LnNvbWUoKHQ9Pnt2YXIgaTtyZXR1cm4gUHIoaT1lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmNhbGwoaSx0KX0pKSkpO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gS0MuZGVidWcoXCJ1cGRhdGVSZW1vdGVDb2RlYyBmYWlsZWQsIGJlY2F1c2UgY2Fubm90IGZpbmQgbWF0Y2hlZCBjb2RlYywgcmVtb3RlQ2FwYWJpbGl0aWVzIGNvZGVjczogXCIuY29uY2F0KG4sXCIgY29kZWNzOiBcIikuY29uY2F0KHQpKSwhMTtjb25zdCBvPVsuLi5uZXcgU2V0KHMubWFwKChlPT5lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpKSldO2xldCBhO2lmKEtDLmRlYnVnKFwidXBkYXRlUmVtb3RlQ29kZWMsIGZyb20gXCIuY29uY2F0KG4sXCIgdG8gXCIpLmNvbmNhdChvKSksMD09PWUubGVuZ3RoKWE9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKGU9PlwidmlkZW9cIj09PWUubWVkaWEubWVkaWFUeXBlJiZcInJlY3Zvbmx5XCI9PT1lLmF0dHJpYnV0ZXMuZGlyZWN0aW9uKSk7ZWxzZSBpZihhPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT50LmF0dHJpYnV0ZXMubWlkJiZQcihlKS5jYWxsKGUsdC5hdHRyaWJ1dGVzLm1pZCkmJlwicmVjdm9ubHlcIj09PXQuYXR0cmlidXRlcy5kaXJlY3Rpb24pKSxhLmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiBLQy5kZWJ1ZyhcInVwZGF0ZVJlbW90ZUNvZGVjIGZhaWxlZCwgYmVjYXVzZSBjYW5ub3QgZmluZCBtaWRzLCBtaWRzOiBcIi5jb25jYXQoZSxcIiwgY29kZWNzOiBcIikuY29uY2F0KHQpKSwhMTt0aGlzLl9ydHBDYXBhYmlsaXRpZXMucmVjdi52aWRlb0NvZGVjcz1zO2NvbnN0IGM9dGhpcy5sb2NhbENhcGFiaWxpdGllcy5zZW5kLGQ9dGhpcy5ydHBDYXBhYmlsaXRpZXMucmVjdixsPWxMKGhJLlZJREVPLGQsYyxpKTtyZXR1cm4gYS5mb3JFYWNoKChlPT57Y29uc3QgdD1sLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKTtLQy5kZWJ1ZyhcInVwZGF0ZVJlbW90ZUNvZGVjIG1pZDogXCIuY29uY2F0KGUuYXR0cmlidXRlcy5taWQsXCIsIGZyb20gXCIpLmNvbmNhdChlLmF0dHJpYnV0ZXMucGF5bG9hZHMsXCIgdG8gXCIpLmNvbmNhdChsKSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPWwsZS5tZWRpYS5mbXRzPXR9KSksITB9Y3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKGUsdCxpLG4scil7Y29uc3Qgcz10aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kLG89ZT09PWhJLlZJREVPP3MudmlkZW9Db2RlY3M6cy5hdWRpb0NvZGVjcyxhPWU9PT1oSS5WSURFTz9zLnZpZGVvRXh0ZW5zaW9uczpzLmF1ZGlvRXh0ZW5zaW9uczt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtjb25zdCBjPVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KTtsZXQgZD17bWVkaWE6e21lZGlhVHlwZTplLHBvcnQ6RkwscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6by5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczphLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3Jjczp0LHNzcmNHcm91cHM6aSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6byxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246bixydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQoYyl9fTtkPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoZCxyKTtjb25zdCBsPXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEoZSk7aWYobCl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YobCk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT1kfWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKGQpO3JldHVybiBkfXVwZGF0ZUJ1bmRsZU1pZHMoKXt0aGlzLnNlc3Npb25EZXNjLmF0dHJpYnV0ZXMuZ3JvdXBzWzBdLmlkZW50aWZpY2F0aW9uVGFnPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKChlPT5cIjBcIiE9PWUubWVkaWEucG9ydCkpLm1hcCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZCkpfW11bmdSZWN2TWVkaWFEc2VjKGUsdCxpKXtjb25zdCBuPWJUKGUpO3JldHVybiBlTChuKSwkUChuLHQpLHRMKG4sdCksaUwobiksbkwobixpLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCksbn1tdW5nU2VuZE1lZGlhRGVzYyhlLHQpe2NvbnN0IGk9YlQoZSk7cmV0dXJuIG5MKGksdCx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnJlY3YpLGNMKGkpLGl9dXBkYXRlUmVjdk1lZGlhKGUsdCl7Y29uc3QgaT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZigtMSE9PWkpe2NvbnN0IGU9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldLHQpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV09ZX19YnVtcE1pZChlKXt0aGlzLmN1cnJlbnRNaWRJbmRleCs9ZX1maW5kRmlyc3RDbG9zZWRNZWRpYShlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT5SZygpP1wiMFwiPT09dC5tZWRpYS5wb3J0JiZ0Lm1lZGlhLm1lZGlhVHlwZT09PWU6XCIwXCI9PT10Lm1lZGlhLnBvcnQpKX1maW5kUHJlbG9hZE1lZGlhRGVzYyhlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT57dmFyIGk7cmV0dXJuKG51bGw9PT0oaT10LmF0dHJpYnV0ZXMpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5zc3Jjc1swXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc3NyY0lkKT09PWVbMF0uc3NyY0lkfSkpfWdldFNTUkMoZSl7dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmF0dHJpYnV0ZXMuc3NyY3N9fSh7cmVtb3RlSWNlUGFyYW1ldGVyczplLHJlbW90ZUR0bHNQYXJhbWV0ZXJzOnQsY2FuZGlkYXRlczppLHJlbW90ZVJUUENhcGFiaWxpdGllczpuLHJlbW90ZVNldHVwOnIsbG9jYWxDYXBhYmlsaXRpZXM6dGhpcy5sb2NhbENhcGFiaWxpdGllcyxjbmFtZTpzfSksQXJyYXkuaXNBcnJheSh0aGlzLnJlbW90ZUNvZGVjcykmJnRoaXMucmVtb3RlQ29kZWNzLmxlbmd0aD4wJiZ0aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVDb2RlYyhbXSx0aGlzLnJlbW90ZUNvZGVjcyx0aGlzLnN0b3JlLmNvZGVjKTtjb25zdCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksYT1LUC5wYXJzZSh0aGlzLmluaXRpYWxPZmZlci5zZHApLGM9YS5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5cImF1ZGlvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSkpO2MmJmNMKGMpLHRoaXMudXNlWFImJmRMKGEpO2NvbnN0IGQ9S1AucHJpbnQoYSksbD10aGlzLmxvZ1NEUEV4Y2hhbmdlKGR8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcImNvbm5lY3RcIik7dGhpcy5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZH0pLG51bGw9PWx8fGwobyksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSk7Y29uc3QgaD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpWzBdO2lmKG51bGwhPWgmJmgucmVjZWl2ZXImJnRoaXMudHJ5QmluZFRyYW5zcG9ydEV2ZW50cyhoLnJlY2VpdmVyKSxrQyhcIlBSRUxPQURfTUVESUFfQ09VTlRcIik+MCl7dGhpcy5yZW1vdGVTRFAucHJlbG9hZFJlbW90ZU1lZGlhKCk7Y29uc3QgZT10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDplfSk7Y29uc3QgdD1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih0KX19Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fXNlbmQoZSx0LGkpe3ZhciBuPXRoaXM7cmV0dXJuIEJQKChmdW5jdGlvbiooKXtjb25zdCByPXlpZWxkIGpQKG4ubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5zZW5kXCIpKTt0cnl7aWYoIW4ucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc2VuZCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IHM9W107ZS5mb3JFYWNoKChlPT57Y29uc3QgdD1uLnBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKGUuX21lZGlhU3RyZWFtVHJhY2sse2RpcmVjdGlvbjpcInNlbmRvbmx5XCJ9KTtzLnB1c2godCksZS5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodCl9KSksUmcoKSYmITA9PT1rQyhcIlNJTVVMQ0FTVFwiKSYmKHlpZWxkIGpQKG4uYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KHMsZSkpKTtjb25zdCBvPXlpZWxkIGpQKG4ucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSksYT1uLnJlbW90ZVNEUC5wcmVkaWN0UmVjZWl2aW5nTWlkcyhlLmxlbmd0aCksYz1uLm11bmdTZW5kT2ZmZXJTRFAoby5zZHAsZSxhKSxkPUtQLnBhcnNlKGMpLGw9YS5tYXAoKGU9Pntjb25zdCB0PWQubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0cmFjdCBzc3JjIGZyb20gbWVkaWFEZXNjcmlwdGlvbi5cIik7cmV0dXJuIFhQKHQsa0MoXCJVU0VfUFVCX1JUWFwiKSl9KSk7bGV0IGg7dHJ5e2g9eWllbGQgbH1jYXRjaChyKXtoPVtdLG4ucmVtb3RlU0RQLnJlY2VpdmUoZSx0LGksaCk7Y29uc3Qgcz1uLnJlbW90ZVNEUC50b1N0cmluZygpO3Rocm93IHlpZWxkIGpQKG4ucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmN9KSkseWllbGQgalAobi5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpzfSkpLHlpZWxkIGpQKG4uc3RvcFNlbmRpbmcoYSwhMCkpLHJ9bi5yZW1vdGVTRFAucmVjZWl2ZShlLHQsaSxoKTtjb25zdCB1PW4ucmVtb3RlU0RQLnRvU3RyaW5nKCkscD1uLmxvZ1NEUEV4Y2hhbmdlKGMsXCJvZmZlclwiLFwibG9jYWxcIixcInNlbmRcIik7cmV0dXJuIHlpZWxkIGpQKG4ucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmN9KSkseWllbGQgalAobi5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhzLGUpKSx5aWVsZCBqUChuLmFwcGx5U2VuZEVuY29kaW5ncyhzLGUpKSxudWxsPT1wfHxwKHUpLHlpZWxkIGpQKG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6dX0pKSxzLm1hcCgoKGUsdCk9Pntjb25zdCBpPWFbdF07cmV0dXJue2xvY2FsU1NSQzpsW3RdLGlkOmksdHJhbnNjZWl2ZXI6ZX19KSl9Y2F0Y2goZSl7dGhyb3cgZSBpbnN0YW5jZW9mIFZnP2U6bmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnNlbmQgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9ZmluYWxseXtyKCl9fSkpKCl9YXN5bmMgY3JlYXRlRGF0YUNoYW5uZWxzKGUsdCl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2xldCBpPXRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuZ2V0KGUpO2kmJlwib3BlblwiPT09aS5yZWFkeVN0YXRlP0tDLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIENoYW5uZWxzIGFyZSBhbHJlYWR5IGF2YWlsYWJsZSBhbmQgY2FuIGJlIHJldXNlZCBkaXJlY3RseS5cIik6KGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChcImRhdGFzdHJlYW0tY2hhbm5lbFwiLHtvcmRlcmVkOiExLG1heFJldHJhbnNtaXRzOmtDKFwiREFUQVNUUkVBTV9NQVhfUkVUUkFOU01JVFNcIil9KSxpLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuc2V0KGUsaSkpLHQuZm9yRWFjaCgoZT0+e2UuX3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGkpfSkpO2NvbnN0e25lZWRFeGNoYW5nZVNEUDpufT10aGlzLnJlbW90ZVNEUC5zZW5kRGF0YUNoYW5uZWwoKTtpZihuKXtjb25zdCBlPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmV9KTtjb25zdCB0PWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHQpLEtDLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIGNyZWF0ZURhdGFDaGFubmVscyBieSBleGNoYW5naW5nIFNEUC5cIil9ZWxzZSBLQy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBjcmVhdGVEYXRhQ2hhbm5lbHMgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpO3JldHVybn1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgVmc/ZTpuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWxzIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wRGF0YUNoYW5uZWxzKGUpe3RyeXtjb25zdCB0PXRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuZ2V0KGUpO3JldHVybiBudWxsPT10fHx0LmNsb3NlKCksdm9pZCB0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmRlbGV0ZShlKX1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgVmc/ZTpuZXcgVmcoeGcuREFUQUNIQU5ORUxfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zdG9wRGF0YUNoYW5uZWxzIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wU2VuZGluZyhlLHQpe2NvbnN0IGk9dD92b2lkIDA6YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nXCIpO3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9Pi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiB0cnlpbmcgdG8gY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nLlwiKTt0Lm1hcCgoZT0+e3ZhciB0O2UuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIixudWxsPT09KHQ9ZS5zdG9wKXx8dm9pZCAwPT09dHx8dC5jYWxsKGUpfSkpO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHI9dGhpcy5sb2dTRFBFeGNoYW5nZShuLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwic3RvcFNlbmRpbmdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pLHRoaXMucmVtb3RlU0RQLnN0b3BSZWNlaXZpbmcoZSk7Y29uc3Qgcz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PXJ8fHIocyksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpzfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7aSYmaSgpfX1hc3luYyByZWNlaXZlKGUsdCxpLG4pe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5yZWNlaXZlIFwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIikpO2NvbnN0e21pZDpyLG5lZWRFeGNoYW5nZVNEUDpzfT10aGlzLnJlbW90ZVNEUC5zZW5kKGUsdCxpLG4pO2lmKHMpe2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UodCxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInJlY2VpdmVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCkscz10aGlzLm11bmdSZWNlaXZlQW5zd2VyU0RQKG4uc2RwLHIsZSk7bnVsbD09aXx8aShzfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6c30pLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgYnkgZXhjaGFuZ2luZyBTRFAuXCIpKX1lbHNlIEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpKTtjb25zdCBvPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZT0+ZS5taWQ9PT1yKSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0cmFuc2NlaXZlciBhZnRlciBzZXRMb2NhbERlc2NyaXB0aW9uLlwiKTtyZXR1cm57dHJhY2s6by5yZWNlaXZlci50cmFjayxpZDpyLHRyYW5zY2VpdmVyOm99fWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBiYXRjaFJlY2VpdmUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLmJhdGNoUmVjZWl2ZSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2NvbnN0e21pZHM6dCxuZWVkRXhjaGFuZ2VTRFA6aX09dGhpcy5yZW1vdGVTRFAuYmF0Y2hTZW5kKGUpO2lmKGkpe2NvbnN0IGU9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSx0PXRoaXMubG9nU0RQRXhjaGFuZ2UoZSxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInJlY2VpdmVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmV9KTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09dHx8dChpLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gYmF0Y2hSZWNlaXZlIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKSl9ZWxzZSBLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIGJhdGNoUmVjZWl2ZSBubyBuZWVkIHRvIGV4Y2hhbmdlIFNEUC5cIikpO3JldHVybiB0Lm1hcCgoZT0+e2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKCh0PT50Lm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybnt0cmFjazp0LnJlY2VpdmVyLnRyYWNrLGlkOmUsdHJhbnNjZWl2ZXI6dH19KSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7dGhpcy5yZW1vdGVTRFAuc3RvcFNlbmRpbmcoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwic3RvcFJlY2VpdmluZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtudWxsPT1pfHxpKG4uc2RwfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obil9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uIHN0b3BSZWNlaXZpbmcgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIG11dGVSZW1vdGUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLm11dGVSZW1vdGUgbWlkPVwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpKTt0aGlzLnJlbW90ZVNEUC5tdXRlKGUpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UodCxcIm9mZmVyXCIsXCJyZW1vdGVcIixcIm11dGVSZW1vdGVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09aXx8aShuLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5tdXRlUmVtb3RlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVSZW1vdGUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVubXV0ZVJlbW90ZSBtaWQ9XCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIikpO3RoaXMucmVtb3RlU0RQLnVubXV0ZShlKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJ1bm11dGVSZW1vdGVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09aXx8aShuLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51bm11dGVSZW1vdGUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIG11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkJiYtMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoZT0+e2UuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubG9nU0RQRXhjaGFuZ2UoaS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcIm11dGVMb2NhbFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksdGhpcy5yZW1vdGVTRFAubXV0ZVJlbW90ZShlKTtjb25zdCByPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7bnVsbD09bnx8bihyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udW5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+dC5taWQmJi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO3QubWFwKChhc3luYyhlLHQpPT57ZS5kaXJlY3Rpb249XCJzZW5kb25seVwifSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLG49dGhpcy5sb2dTRFBFeGNoYW5nZShpLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidW5tdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLnVubXV0ZVJlbW90ZShlKTtjb25zdCByPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7bnVsbD09bnx8bihyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24udW5tdXRlTG9jYWwgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fXJlc3RhcnRJQ0UoZSl7dmFyIHQ9dGhpcztyZXR1cm4gQlAoKGZ1bmN0aW9uKigpe2NvbnN0IGk9eWllbGQgalAodC5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnJlc3RhcnRJQ0VcIikpO3RyeXtpZighdC5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKTtpZihfQSgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pe2NvbnN0IGk9dC5wZWVyQ29ubmVjdGlvbi5nZXRDb25maWd1cmF0aW9uKCksbj1lPT09dUkuUkVMQVk/XCJyZWxheVwiOlwiYWxsXCI7aS5pY2VUcmFuc3BvcnRQb2xpY3khPT1uJiYoS0MuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RvcmUuY2xpZW50SWQsXCJdIHJlc3RhcnRJQ0UgY2hhbmdlIGljZVRyYW5zcG9ydFBvbGljeSBmcm9tIFtcIikuY29uY2F0KGkuaWNlVHJhbnNwb3J0UG9saWN5LFwiXSB0byBbXCIpLmNvbmNhdChuLFwiXVwiKSksaS5pY2VUcmFuc3BvcnRQb2xpY3k9bix0LnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oaSkpfWVsc2UgaWYoZT09PXVJLlJFTEFZKXJldHVybjt0LnJlbW90ZVNEUC51cGRhdGVDYW5kaWRhdGVzKGUpO2NvbnN0IG49eWllbGQgalAodC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pKTtpZighbi5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVjYXVzZSByZXN0YXJ0IG9mZmVyIFNEUCBkb2VzIG5vdCBleGlzdC5cIik7Y29uc3Qgcj16UChuLnNkcCkse3JlbW90ZUljZVBhcmFtZXRlcnM6c309eWllbGQgci5pY2VQYXJhbWV0ZXJzO3QucmVtb3RlU0RQLnJlc3RhcnRJQ0Uocyk7Y29uc3Qgbz10LnJlbW90ZVNEUC50b1N0cmluZygpLGE9dC5sb2dTRFBFeGNoYW5nZShuLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwicmVzdGFydElDRVwiKTt0LnN0b3JlLmRlc2NyaXB0aW9uU3RhcnQoKSx5aWVsZCBqUCh0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obikpLG51bGw9PWF8fGEobykseWllbGQgalAodC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSkpfWNhdGNoKGUpe0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RvcmUuY2xpZW50SWQsXCJdIHJlc3RhcnQgSUNFIGZhaWxlZCwgYWJvcnQgb3BlcmF0aW9uXCIpLGUpfWZpbmFsbHl7aSgpfX0pKSgpfWNsb3NlKCl7dmFyIGU7dGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpLG51bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsXCJjbG9zZWRcIiksdGhpcy50cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLmRlc3Ryb3koKSx0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmNsZWFyKCl9Z2V0U3RhdHMoKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRWaWRlb0lzUmVhZHkoZSl9YXN5bmMgdXBkYXRlRW5jb2RlckNvbmZpZyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLG49dGhpcy5tdW5nU2VuZE9mZmVyU0RQKGkuc2RwLFt0XSxbZV0pO3RoaXMucmVtb3RlU0RQLnVwZGF0ZVJlY3ZNZWRpYShlLHQpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxzPXRoaXMubG9nU0RQRXhjaGFuZ2UobixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSksbnVsbD09c3x8cyhyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyB1cGRhdGVTZW5kUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkPT09ZSkpOzE9PT1pLmxlbmd0aCYmKHRoaXMuaXNWUDhTaW11bGNhc3QodCk/UmcoKXx8YXdhaXQgdGhpcy5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhpLFt0XSk6YXdhaXQgdGhpcy5hcHBseVNlbmRFbmNvZGluZ3MoaSxbdF0pKX1zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShlLHQpe3RoaXMuc3RhdHNGaWx0ZXIuc2V0VmlkZW9Jc1JlYWR5MihlLHQpfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXQpKTtpJiZhd2FpdCBpLnNlbmRlci5yZXBsYWNlVHJhY2soZS5fbWVkaWFTdHJlYW1UcmFjayl9YXN5bmMgZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl7Y29uc3QgZT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpO2lmKGUubGVuZ3RoPjAmJmVbMF0udHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXImJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKSl7Y29uc3QgdD1lWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQse2xvY2FsOmkscmVtb3RlOm59PXQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7cmV0dXJue2xvY2FsOkdMKEdMKHt9LG1MKSx7fSx7Y2FuZGlkYXRlVHlwZTppLnR5cGUscHJvdG9jb2w6aS5wcm90b2NvbCxhZGRyZXNzOmkuYWRkcmVzcyxwb3J0OmkucG9ydH0pLHJlbW90ZTpHTChHTCh7fSxtTCkse30se2NhbmRpZGF0ZVR5cGU6bi50eXBlLHByb3RvY29sOm4ucHJvdG9jb2wsYWRkcmVzczpuLmFkZHJlc3MscG9ydDpuLnBvcnR9KX19cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl9YmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9ZT0+e2UuY2FuZGlkYXRlP3RoaXMubG9jYWxDYW5kaWRhdGVDb3VudCs9MToodGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkPSEwLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSl9LHNldFRpbWVvdXQoKCgpPT57dGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWR8fCh0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gb25pY2VjYW5kaWRhdGUgdGltZW91dCwgbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSksa0MoXCJDQU5ESURBVEVfVElNRU9VVFwiKSl9dW5iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGVlcnJvcj1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbH1zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0KXtjb25zdCBpPXtpY2VTZXJ2ZXJzOltdfTtyZXR1cm4gdC5pY2VTZXJ2ZXJzP2kuaWNlU2VydmVycz10LmljZVNlcnZlcnM6dC50dXJuU2VydmVyJiZcIm9mZlwiIT09dC50dXJuU2VydmVyLm1vZGUmJihfVCh0LnR1cm5TZXJ2ZXIuc2VydmVycyk/aS5pY2VTZXJ2ZXJzPXQudHVyblNlcnZlci5zZXJ2ZXJzOihpLmljZVNlcnZlcnMmJmkuaWNlU2VydmVycy5wdXNoKC4uLmUudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVycykpLGtDKFwiVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVlcIikmJmkuaWNlU2VydmVycyYmdC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSYmaS5pY2VTZXJ2ZXJzLnB1c2goLi4uZS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKHQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkpKSxrQyhcIkZPUkNFX1RVUk5fVENQXCIpP2kuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIjp0LnR1cm5TZXJ2ZXIuc2VydmVycy5jb25jYXQodC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheXx8W10pLmZvckVhY2goKGU9PntlLmZvcmNldHVybiYmKGkuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSkpKSxrQyhcIkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STVwiKSYmX0EoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSYmKGkuZW5jb2RlZEluc2VydGFibGVTdHJlYW1zPSEwKSxpfXN0YXRpYyB0dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUpe2NvbnN0IHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2Uuc2VjdXJpdHk/ZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KF9EKGUudHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChlLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pOihlLnVkcHBvcnQmJiFrQyhcIkZPUkNFX1RVUk5fVENQXCIpJiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS51ZHBwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxlLnRjcHBvcnQmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pKX0pKSx0fXRyeUJpbmRUcmFuc3BvcnRFdmVudHMoZSl7Y29uc3QgdD1lLnRyYW5zcG9ydDtpZih0KXt0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXI9ZSx0Lm9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsIT10JiZ0LnN0YXRlJiYobnVsbD09PShlPXRoaXMub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0LnN0YXRlKSl9LHQub25lcnJvcj1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25EVExTVHJhbnNwb3J0RXJyb3IpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxcImVycm9yXCJpbiBlP2UuZXJyb3I6ZSl9O2NvbnN0IGk9dC5pY2VUcmFuc3BvcnQ7aSYmKGkub25zdGF0ZWNoYW5nZT0oKT0+e2NvbnN0IGU9bnVsbD09dD92b2lkIDA6dC5pY2VUcmFuc3BvcnQuc3RhdGU7dmFyIGk7ZSYmKG51bGw9PT0oaT10aGlzLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlKSl9LGkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiYoaS5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZT0oKT0+e2lmKGkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2NvbnN0e2xvY2FsOmUscmVtb3RlOnR9PWkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlOiBsb2NhbCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHtjYW5kaWRhdGVUeXBlOmUudHlwZSxwcm90b2NvbDplLnByb3RvY29sfSksXCIsIHJlbW90ZSBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHtjYW5kaWRhdGVUeXBlOnQudHlwZSxwcm90b2NvbDp0LnByb3RvY29sLGFkZHJlc3M6dC5hZGRyZXNzLHBvcnQ6dC5wb3J0fSksXCIgKVwiKSl9fSkpfX10cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKXt0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXImJnRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlci50cmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0Lm9uZXJyb3I9bnVsbCx0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0LmljZVRyYW5zcG9ydCYmKHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlci50cmFuc3BvcnQuaWNlVHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCkpfWFzeW5jIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhlLHQpe3ZhciBpO2lmKCF0KXt0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoKHQ9PnQudHJhY2s9PT1lLl9tZWRpYVN0cmVhbVRyYWNrKSl9aWYoIXQpcmV0dXJuIEtDLndhcm4oXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSBubyBydHBTZW5kZXIgZm91bmR9XCIpKTtpZih0aGlzLmlzVlA4U2ltdWxjYXN0KGUpKXJldHVybiBLQy53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gVHJhY2sgaXMgVlA4IHNpbXVsY2FzdCwgcGxlYXNlIGFwcGx5IHNpbXVsY2FzdCBlbmNvZGluZ3NcIik7aWYoIV9BKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuIEtDLndhcm4oXCJbdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzXSBCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7Y29uc3Qgbj17fSxyPXt9O3N3aXRjaChlLl9vcHRpbWl6YXRpb25Nb2RlKXtjYXNlXCJtb3Rpb25cIjpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLWZyYW1lcmF0ZVwiO2JyZWFrO2Nhc2VcImRldGFpbFwiOm4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tcmVzb2x1dGlvblwiO2JyZWFrO2RlZmF1bHQ6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJiYWxhbmNlZFwifWlmKGUuX2VuY29kZXJDb25maWcpe3ZhciBzO2NvbnN0e2JpdHJhdGVNYXg6dCxmcmFtZVJhdGU6aSxzY2FsZVJlc29sdXRpb25Eb3duQnk6bn09ZS5fZW5jb2RlckNvbmZpZzt0JiYoci5tYXhCaXRyYXRlPTFlMyp0KSwoUHIocz1lLl9oaW50cykuY2FsbChzLGt5LkxPV19TVFJFQU0pfHxlLmlzVXNlU2NhbGVSZXNvbHV0aW9uRG93bkJ5KSYmKGkmJihyLm1heEZyYW1lcmF0ZT1tRChpKSksbiYmbj49MSYmKHIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5PW4pKX1pZihrQyhcIkRTQ1BfVFlQRVwiKSYma2coKSl7dmFyIG87Y29uc3QgZT1rQyhcIkRTQ1BfVFlQRVwiKTtQcihvPVtcInZlcnktbG93XCIsXCJsb3dcIixcIm1lZGl1bVwiLFwiaGlnaFwiXSkuY2FsbChvLGUpJiYoci5uZXR3b3JrUHJpb3JpdHk9ZSl9Y29uc3QgYT10LmdldFBhcmFtZXRlcnMoKSxjPW51bGw9PT0oaT1hLmVuY29kaW5ncyl8fHZvaWQgMD09PWk/dm9pZCAwOmlbMF07UmcoKSYmIWMmJihuLmVuY29kaW5ncz1bcl0pLGMmJk9iamVjdC5hc3NpZ24oYyxyKSxPYmplY3QuYXNzaWduKGEsbiksS0MuZGVidWcoXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3M6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoYS5lbmNvZGluZ3MpKSksYXdhaXQgdC5zZXRQYXJhbWV0ZXJzKGEpfWFzeW5jIGFwcGx5U2VuZEVuY29kaW5ncyhlLHQpe3RyeXtpZighX0EoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm47aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm47Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49ZVtpXSxyPXRbaV07ciBpbnN0YW5jZW9mIFNiJiYhdGhpcy5pc1ZQOFNpbXVsY2FzdChyKSYmYXdhaXQgdGhpcy51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MocixuLnNlbmRlcil9fWNhdGNoKGUpe0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBBcHBseSBSVFBTZW5kRW5jb2RpbmdzIGZhaWxlZC5cIikpfX1tdW5nU2VuZE9mZmVyU0RQKGUsdCxpKXtjb25zdCBuPUtQLnBhcnNlKGUpO3JldHVybiB0LmZvckVhY2goKChlLHQpPT57Y29uc3Qgcj1pW3RdLHM9bi5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubWlkPT09cikpO3MmJigkUChzLGUpLHJMKHMsZSx0aGlzLnN0b3JlLmNvZGVjKSl9KSksS1AucHJpbnQobil9bXVuZ1JlY2VpdmVBbnN3ZXJTRFAoZSx0LGkpe2NvbnN0IG49S1AucGFyc2UoZSkscj1uLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT10KSk7cmV0dXJuIHImJihpPT09aEkuQVVESU8mJlwiYXVkaW9cIj09PXIubWVkaWEubWVkaWFUeXBlJiZjTChyKSx0aGlzLnVzZVhSJiZkTChuKSksS1AucHJpbnQobil9YmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9SZWNlaXZlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD0oZSx0LGkpPT57dmFyIG47bnVsbD09PShuPXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZCl8fHZvaWQgMD09PW58fG4uY2FsbCh0aGlzLGUsdCxpKX0sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7bnVsbD09PShpPXRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZCl8fHZvaWQgMD09PWl8fGkuY2FsbCh0aGlzLGUsdCl9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCl8fHZvaWQgMD09PWl8fGkuY2FsbCh0aGlzLGUsdCl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9fXVuYmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9SZWNlaXZlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDB9YXN5bmMgYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KGUsdCl7aWYoZS5sZW5ndGg9PT10Lmxlbmd0aClmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIGksbixyLHMsbztjb25zdCBjPWVbYV0sZD10W2FdO2lmKGQgaW5zdGFuY2VvZiBTYiYmIVByKGk9ZC5faGludHMpLmNhbGwoaSxreS5MT1dfU1RSRUFNKSYmbnVsbCE9PShuPWQuX2VuY29kZXJDb25maWcpJiZ2b2lkIDAhPT1uJiZuLmJpdHJhdGVNYXgmJihudWxsPT09KHI9ZC5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYml0cmF0ZU1heCk+MjAwJiZudWxsIT09KHM9ZC5fc2NhbGFiaWxpdHlNb2RlKSYmdm9pZCAwIT09cyYmcy5udW1TcGF0aWFsTGF5ZXJzJiYobnVsbD09PShvPWQuX3NjYWxhYmlsaXR5TW9kZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubnVtU3BhdGlhbExheWVycyk+MSYmXCJ2cDhcIj09PXRoaXMuc3RvcmUuY29kZWMpe2NvbnN0IGU9e30sdD17aGlnaDoxZTMqKGQuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heC01MCksbWVkaXVtOjVlNH07ZS5lbmNvZGluZ3M9W3tyaWQ6XCJtXCIsYWN0aXZlOiEwLG1heEJpdHJhdGU6dC5tZWRpdW0sc2NhbGVSZXNvbHV0aW9uRG93bkJ5OjR9LHtyaWQ6XCJoXCIsYWN0aXZlOiEwLG1heEJpdHJhdGU6dC5oaWdofV07Y29uc3QgaT1jLnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7YXdhaXQgYy5zZW5kZXIuc2V0UGFyYW1ldGVycyhPYmplY3QuYXNzaWduKGksZSkpfX19YXN5bmMgYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoZSx0KXtpZighUmcoKSYmZS5sZW5ndGg9PT10Lmxlbmd0aClmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj10W2ldO2lmKG4gaW5zdGFuY2VvZiBTYiYmdGhpcy5pc1ZQOFNpbXVsY2FzdChuKSl7Y29uc3QgdD1lW2ldLHI9e30scz17aGlnaDoxZTMqKG4uX2VuY29kZXJDb25maWcuYml0cmF0ZU1heC01MCksbWVkaXVtOjVlNH07ci5lbmNvZGluZ3M9W3thY3RpdmU6ITAsYWRhcHRpdmVQdGltZTohMSxuZXR3b3JrUHJpb3JpdHk6XCJoaWdoXCIscHJpb3JpdHk6XCJoaWdoXCIsbWF4Qml0cmF0ZTpzLmhpZ2h9LHthY3RpdmU6ITAsYWRhcHRpdmVQdGltZTohMSxuZXR3b3JrUHJpb3JpdHk6XCJsb3dcIixwcmlvcml0eTpcImxvd1wiLG1heEJpdHJhdGU6cy5tZWRpdW0sc2NhbGVSZXNvbHV0aW9uRG93bkJ5OjR9XTtjb25zdCBvPXQuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCB0LnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24obyxyKSl9fX1pc1ZQOFNpbXVsY2FzdChlKXt2YXIgdCxpLG4scixzO3JldHVybiEhKGUgaW5zdGFuY2VvZiBTYiYma0MoXCJTSU1VTENBU1RcIikmJlwidnA4XCI9PT10aGlzLnN0b3JlLmNvZGVjJiYhUHIodD1lLl9oaW50cykuY2FsbCh0LGt5LkxPV19TVFJFQU0pJiZudWxsIT09KGk9ZS5fZW5jb2RlckNvbmZpZykmJnZvaWQgMCE9PWkmJmkuYml0cmF0ZU1heCYmKG51bGw9PT0obj1lLl9lbmNvZGVyQ29uZmlnKXx8dm9pZCAwPT09bj92b2lkIDA6bi5iaXRyYXRlTWF4KT4yMDAmJm51bGwhPT0ocj1lLl9zY2FsYWJpbGl0eU1vZGUpJiZ2b2lkIDAhPT1yJiZyLm51bVNwYXRpYWxMYXllcnMmJihudWxsPT09KHM9ZS5fc2NhbGFiaWxpdHlNb2RlKXx8dm9pZCAwPT09cz92b2lkIDA6cy5udW1TcGF0aWFsTGF5ZXJzKT4xKX1sb2dTRFBFeGNoYW5nZShlLHQsaSxuKXtpZihrQyhcIlNEUF9MT0dHSU5HXCIpKXJldHVybiBLQy51cGxvYWQoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGV4Y2hhbmdpbmcgXCIpLmNvbmNhdChpLFwiIFwiKS5jb25jYXQodCxcIiBTRFAgZHVyaW5nIFAyUENvbm5lY3Rpb24uXCIpLmNvbmNhdChuLFwiXFxuXCIpLGUpLFwib2ZmZXJcIj09PXQ/ZT0+e3RoaXMubG9nU0RQRXhjaGFuZ2UoZSxcImFuc3dlclwiLFwibG9jYWxcIj09PWk/XCJyZW1vdGVcIjpcImxvY2FsXCIsbil9OnZvaWQgMH1hc3luYyBnZXRSZW1vdGVTU1JDKGUpe2lmKCF0aGlzLnJlbW90ZVNEUClyZXR1cm47Y29uc3QgdD10aGlzLnJlbW90ZVNEUC5nZXRTU1JDKGUpO3JldHVybiBudWxsPT10P3ZvaWQgMDp0WzBdLnNzcmNJZH1zZXRDb25maWd1cmF0aW9uKHQpe2lmKF9BKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7Y29uc3QgaT1lLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCk7dGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGkpfX19O2Z1bmN0aW9uIEhMKGUsdCxpKXtjb25zdCBuPWVbdF07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIGkudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMubXV0ZXgsaT1hd2FpdCBlLmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uXCIuY29uY2F0KHQpKTt0cnl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkociksbz0wO288cjtvKyspc1tvXT1hcmd1bWVudHNbb107cmV0dXJuIGF3YWl0IG4uYXBwbHkodGhpcyxzKX1maW5hbGx5e2koKX19LGl9ZnVuY3Rpb24gS0woZSx0KXtsZXQgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2kuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6bm9uZVwiKSxuLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmVcIiksaS5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLGkubXV0ZWQ9ITAsaS5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLFwiXCIpLGkuYXV0b3BsYXk9ITAsaS5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLG4ud2lkdGg9bUQodC53aWR0aCksbi5oZWlnaHQ9bUQodC5oZWlnaHQpO2NvbnN0IHI9bUQodC5mcmFtZXJhdGV8fDE1KTtkb2N1bWVudC5ib2R5LmFwcGVuZChpKSxkb2N1bWVudC5ib2R5LmFwcGVuZChuKTtsZXQgcz1lLl9tZWRpYVN0cmVhbVRyYWNrO2kuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbc10pLGkucGxheSgpO2NvbnN0IG89bi5nZXRDb250ZXh0KFwiMmRcIik7aWYoIW8pdGhyb3cgbmV3IHh2KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGdldCBjYW52YXMgY29udGV4dFwiKTtjb25zdCBhPV9BKCksYz1uLmNhcHR1cmVTdHJlYW0oYS5zdXBwb3J0UmVxdWVzdEZyYW1lPzA6cikuZ2V0VmlkZW9UcmFja3MoKVswXTtjLmNhbnZhc3x8KGMuY2FudmFzPW4pLG4uc3RhcnRDYXB0dXJlPSgpPT57aWYoIWkpcmV0dXJuIG4uc3RvcENhcHR1cmUmJm4uc3RvcENhcHR1cmUoKTtpZihpLnBhdXNlZCYmaS5wbGF5KCksaS52aWRlb0hlaWdodD4yJiZpLnZpZGVvV2lkdGg+Mil7Y29uc3QgZT1pLnZpZGVvV2lkdGgsdD1pLnZpZGVvSGVpZ2h0L2Uscj1uLndpZHRoKnQ7TWF0aC5hYnMoci1uLmhlaWdodCk+PTImJihLQy5kZWJ1ZyhcImFkanVzdCBsb3cgc3RyZWFtIHJlc29sdXRpb25cIixcIlwiLmNvbmNhdChuLndpZHRoLFwieFwiKS5jb25jYXQobi5oZWlnaHQsXCIgLT4gXCIpLmNvbmNhdChuLndpZHRoLFwieFwiKS5jb25jYXQocikpLG4uaGVpZ2h0PXIpfW8uZHJhd0ltYWdlKGksMCwwLG4ud2lkdGgsbi5oZWlnaHQpLGMucmVxdWVzdEZyYW1lJiZjLnJlcXVlc3RGcmFtZSgpLHMhPT1lLl9tZWRpYVN0cmVhbVRyYWNrJiYocz1lLl9tZWRpYVN0cmVhbVRyYWNrLGkuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbc10pKX0sbi5zdG9wQ2FwdHVyZT11QSgoKCk9Pm4uc3RhcnRDYXB0dXJlJiZuLnN0YXJ0Q2FwdHVyZSgpKSxyKTtjb25zdCBkPWMuc3RvcDtyZXR1cm4gYy5zdG9wPSgpPT57ZC5jYWxsKGMpLGkmJihpLnJlbW92ZSgpLGkuc3JjT2JqZWN0PW51bGwsaT1udWxsKSxuJiYobi53aWR0aD0wLG4ucmVtb3ZlKCksbi5zdG9wQ2FwdHVyZSYmbi5zdG9wQ2FwdHVyZSgpLG4uc3RhcnRDYXB0dXJlPXZvaWQgMCxuLnN0b3BDYXB0dXJlPXZvaWQgMCxuPW51bGwpLEtDLmRlYnVnKFwiY2xlYW4gbG93IHN0cmVhbSByZW5kZXJlclwiKX0sY31mdW5jdGlvbiBZTChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gcUwoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/WUwoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6WUwoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9TXYoW0hMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheSxBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFdMLnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc1wiLG51bGwpLE12KFtITCxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LE9iamVjdCxBcnJheSxPYmplY3QsU3RyaW5nLFN0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFdMLnByb3RvdHlwZSxcImNvbm5lY3RcIixudWxsKSxNdihbSEwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFdMLnByb3RvdHlwZSxcImNyZWF0ZURhdGFDaGFubmVsc1wiLG51bGwpLE12KFtITCxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLEFycmF5LFN0cmluZyxPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxXTC5wcm90b3R5cGUsXCJyZWNlaXZlXCIsbnVsbCksTXYoW0hMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFdMLnByb3RvdHlwZSxcImJhdGNoUmVjZWl2ZVwiLG51bGwpLE12KFtITCxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxXTC5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsbnVsbCksTXYoW0hMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxXTC5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsbnVsbCksTXYoW0hMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxXTC5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixudWxsKSxNdihbSEwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sV0wucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIsbnVsbCksTXYoW0hMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFdMLnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIsbnVsbCksTXYoW0hMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sV0wucHJvdG90eXBlLFwiY2xvc2VcIixudWxsKSxNdihbSEwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxpQV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFdMLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixudWxsKSxNdihbSEwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxpQV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFdMLnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsbnVsbCksTXYoW0hMLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtpQSxTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxXTC5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixudWxsKSxNdihbSEwsVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFdMLnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIixudWxsKTtjb25zdCBKTD1cInY9MFxcbm89LSAwIDAgSU4gSVA0IDEyNy4wLjAuMVxcbnM9QWdvcmFHYXRld2F5XFxudD0wIDBcXG5hPWdyb3VwOkJVTkRMRSAwXFxuYT1tc2lkLXNlbWFudGljOiBXTVNcXG5hPWljZS1saXRlXFxubT1hcHBsaWNhdGlvbiA5IFVEUC9EVExTL1NDVFAgd2VicnRjLWRhdGFjaGFubmVsXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1taWQ6MFxcblwiLHpMPVwiOVwiLFhMPTJlNCxRTD00ZTQ7Y2xhc3MgWkx7Z2V0IGxvY2FsQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIGJUKHRoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzKX1nZXQgcnRwQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIGJUKHRoaXMuX3J0cENhcGFiaWxpdGllcyl9Z2V0IGNhbmRpZGF0ZXMoKXtyZXR1cm4gYlQodGhpcy5fY2FuZGlkYXRlcyl9Z2V0IGljZVBhcmFtZXRlcnMoKXtyZXR1cm4gYlQodGhpcy5faWNlUGFyYW1ldGVycyl9Z2V0IGR0bHNQYXJhbWV0ZXJzKCl7cmV0dXJuIGJUKHRoaXMuX2R0bHNQYXJhbWV0ZXJzKX1jb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwic2Vzc2lvbkRlc2NcIix2b2lkIDApLG51KHRoaXMsXCJfbG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLG51KHRoaXMsXCJfcnRwQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NhbmRpZGF0ZXNcIix2b2lkIDApLG51KHRoaXMsXCJfaWNlUGFyYW1ldGVyc1wiLHZvaWQgMCksbnUodGhpcyxcIl9kdGxzUGFyYW1ldGVyc1wiLHZvaWQgMCksbnUodGhpcyxcInNldHVwXCIsdm9pZCAwKSxudSh0aGlzLFwiY3VycmVudE1pZEluZGV4XCIsdm9pZCAwKSxudSh0aGlzLFwiY25hbWVcIix2b2lkIDApLG51KHRoaXMsXCJmaXJlZm94U3NyY01pZE1hcFwiLG5ldyBNYXApLGU9YlQoZSk7Y29uc3R7cmVtb3RlSWNlUGFyYW1ldGVyczp0LHJlbW90ZUR0bHNQYXJhbWV0ZXJzOmksY2FuZGlkYXRlczpuLHJlbW90ZVJUUENhcGFiaWxpdGllczpyLHJlbW90ZVNldHVwOnMsbG9jYWxDYXBhYmlsaXRpZXM6byxjbmFtZTphfT1lLGM9S1AucGFyc2UoSkwpO3RoaXMuX3J0cENhcGFiaWxpdGllcz1yLHRoaXMuX2NhbmRpZGF0ZXM9bix0aGlzLl9pY2VQYXJhbWV0ZXJzPXQsdGhpcy5fZHRsc1BhcmFtZXRlcnM9aSx0aGlzLl9sb2NhbENhcGFiaWxpdGllcz1vLHRoaXMuc2V0dXA9cyx0aGlzLmNuYW1lPWE7Y29uc3QgZD10aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kO2Zvcihjb25zdCBlIG9mIGMubWVkaWFEZXNjcmlwdGlvbnMpe2lmKGUuYXR0cmlidXRlcy5pY2VVZnJhZz10LmljZVVmcmFnLGUuYXR0cmlidXRlcy5pY2VQd2Q9dC5pY2VQd2QsZS5hdHRyaWJ1dGVzLmZpbmdlcnByaW50cz1pLmZpbmdlcnByaW50cyxlLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz1uLGUuYXR0cmlidXRlcy5zZXR1cD1zLFwiYXBwbGljYXRpb25cIj09PWUubWVkaWEubWVkaWFUeXBlJiYoZS5hdHRyaWJ1dGVzLnNjdHBQb3J0PVwiNTAwMFwiKSxcInZpZGVvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmKGUubWVkaWEuZm10cz1kLnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHM9ZC52aWRlb0NvZGVjcyxlLmF0dHJpYnV0ZXMuZXh0bWFwcz1kLnZpZGVvRXh0ZW5zaW9ucyxrQyhcIlBSRUxPQURfTUVESUFfQ09VTlRcIik+MCkpe2NvbnN0e3NzcmNzOnQsc3NyY0dyb3VwczppfT1aUChbe3NzcmNJZDpRTCxydHg6a0MoXCJVU0VfU1VCX1JUWFwiKT80MDAwMTp2b2lkIDB9XSx0aGlzLmNuYW1lKTtlLmF0dHJpYnV0ZXMuc3NyY3M9dCxlLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1pfWlmKFwiYXVkaW9cIj09PWUubWVkaWEubWVkaWFUeXBlJiYoZS5tZWRpYS5mbXRzPWQuYXVkaW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz1kLmF1ZGlvQ29kZWNzLGUuYXR0cmlidXRlcy5leHRtYXBzPWQuYXVkaW9FeHRlbnNpb25zLGNMKGUpLGtDKFwiUFJFTE9BRF9NRURJQV9DT1VOVFwiKT4wKSl7Y29uc3R7c3NyY3M6dCxzc3JjR3JvdXBzOml9PVpQKFt7c3NyY0lkOlhMfV0sdGhpcy5jbmFtZSk7ZS5hdHRyaWJ1dGVzLnNzcmNzPXQsZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9aX19dGhpcy5zZXNzaW9uRGVzYz1jLHRoaXMuY3VycmVudE1pZEluZGV4PWMubWVkaWFEZXNjcmlwdGlvbnMubGVuZ3RoLTF9dXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUpe2NvbnN0IHQ9S1AucGFyc2UoSkwpO3RoaXMuX3J0cENhcGFiaWxpdGllcz1lO2NvbnN0IGk9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZDtmb3IoY29uc3QgZSBvZiB0Lm1lZGlhRGVzY3JpcHRpb25zKXtpZihlLmF0dHJpYnV0ZXMuaWNlVWZyYWc9dGhpcy5faWNlUGFyYW1ldGVycy5pY2VVZnJhZyxlLmF0dHJpYnV0ZXMuaWNlUHdkPXRoaXMuX2ljZVBhcmFtZXRlcnMuaWNlUHdkLGUuYXR0cmlidXRlcy5maW5nZXJwcmludHM9dGhpcy5fZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGUuYXR0cmlidXRlcy5jYW5kaWRhdGVzPXRoaXMuX2NhbmRpZGF0ZXMsZS5hdHRyaWJ1dGVzLnNldHVwPXRoaXMuc2V0dXAsXCJhcHBsaWNhdGlvblwiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJihlLmF0dHJpYnV0ZXMuc2N0cFBvcnQ9XCI1MDAwXCIpLFwidmlkZW9cIj09PWUubWVkaWEubWVkaWFUeXBlJiYoZS5tZWRpYS5mbXRzPWkudmlkZW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz1pLnZpZGVvQ29kZWNzLGUuYXR0cmlidXRlcy5leHRtYXBzPWkudmlkZW9FeHRlbnNpb25zLGtDKFwiUFJFTE9BRF9NRURJQV9DT1VOVFwiKT4wKSl7Y29uc3R7c3NyY3M6dCxzc3JjR3JvdXBzOml9PVpQKFt7c3NyY0lkOlFMLHJ0eDprQyhcIlVTRV9TVUJfUlRYXCIpPzQwMDAxOnZvaWQgMH1dLHRoaXMuY25hbWUpO2UuYXR0cmlidXRlcy5zc3Jjcz10LGUuYXR0cmlidXRlcy5zc3JjR3JvdXBzPWl9aWYoXCJhdWRpb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJihlLm1lZGlhLmZtdHM9aS5hdWRpb0NvZGVjcy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPWkuYXVkaW9Db2RlY3MsZS5hdHRyaWJ1dGVzLmV4dG1hcHM9aS5hdWRpb0V4dGVuc2lvbnMsa0MoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpPjApKXtjb25zdHtzc3Jjczp0LHNzcmNHcm91cHM6aX09WlAoW3tzc3JjSWQ6WEx9XSx0aGlzLmNuYW1lKTtlLmF0dHJpYnV0ZXMuc3NyY3M9dCxlLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1pfX10aGlzLnNlc3Npb25EZXNjPXQsdGhpcy5jdXJyZW50TWlkSW5kZXg9dC5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMX1wcmVsb2FkUmVtb3RlTWVkaWEoZSl7dGhpcy5ydHBDYXBhYmlsaXRpZXM7Y29uc3QgdD10aGlzLmNhbmRpZGF0ZXMsaT10aGlzLmR0bHNQYXJhbWV0ZXJzLG49dGhpcy5pY2VQYXJhbWV0ZXJzLHI9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZDtmb3IobGV0IHM9MTtzPGU7cysrKXtjb25zdCBlPTIqcytYTCxvPTIqcytRTCx7c3NyY3M6YSxzc3JjR3JvdXBzOmN9PVpQKFt7c3NyY0lkOmV9XSx0aGlzLmNuYW1lKSx7c3NyY3M6ZCxzc3JjR3JvdXBzOmx9PVpQKFt7c3NyY0lkOm8scnR4OmtDKFwiVVNFX1NVQl9SVFhcIik/bysxOnZvaWQgMH1dLHRoaXMuY25hbWUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaCh7bWVkaWE6e21lZGlhVHlwZTpcInZpZGVvXCIscG9ydDp6TCxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpyLnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6bi5pY2VVZnJhZyxpY2VQd2Q6bi5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dCxleHRtYXBzOnIudmlkZW9FeHRlbnNpb25zLGZpbmdlcnByaW50czppLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpkLHNzcmNHcm91cHM6bCxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6ci52aWRlb0NvZGVjcyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246XCJzZW5kb25seVwiLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdCgyKnMtMSl9fSksdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKHttZWRpYTp7bWVkaWFUeXBlOlwiYXVkaW9cIixwb3J0OnpMLHByb3RvczpbXCJVRFBcIixcIlRMU1wiLFwiUlRQXCIsXCJTQVZQRlwiXSxmbXRzOnIuYXVkaW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzpuLmljZVVmcmFnLGljZVB3ZDpuLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0LGV4dG1hcHM6ci5hdWRpb0V4dGVuc2lvbnMsZmluZ2VycHJpbnRzOmkuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOmEsc3NyY0dyb3VwczpjLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpyLmF1ZGlvQ29kZWNzLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjpcInNlbmRvbmx5XCIscnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KDIqcyl9fSksdGhpcy5jdXJyZW50TWlkSW5kZXgrPTJ9dGhpcy51cGRhdGVCdW5kbGVNaWRzKCl9dG9TdHJpbmcoKXtyZXR1cm4gS1AucHJpbnQodGhpcy5zZXNzaW9uRGVzYyl9c2VuZChlLHQsaSxuKXtjb25zdHtzc3JjczpyLHNzcmNHcm91cHM6c309WlAodCx0aGlzLmNuYW1lLGtDKFwiU1lOQ19HUk9VUFwiKT9pOnZvaWQgMCksbz10aGlzLmZpbmRQcmVsb2FkTWVkaWFEZXNjKHIpO2lmKG8pe2lmKFJnKCkmJnRoaXMuZmlyZWZveFNzcmNNaWRNYXAuc2V0KHJbMF0uc3NyY0lkLG8uYXR0cmlidXRlcy5taWQpLG4mJihuLnR3Y2N8fG4ucmVtYikpe2NvbnN0IGU9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKG8pO3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2VdPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MobyxuKSx7bWlkOm8uYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiEwfX1yZXR1cm57bWlkOm8uYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiExfX17Y29uc3QgdD10aGlzLmZpbmRBdmFpbGFibGVNZWRpYUluZGV4KGUscik7bGV0IGk7cmV0dXJuLTE9PT10fHxTZygpfHxDZygpfHxBZygpfHwwPT09dCYma0MoXCJVU0VfU1VCX1JUWFwiKT8oaT10aGlzLmNyZWF0ZU9yUmVjeWNsZVNlbmRNZWRpYShlLHIscyxcInNlbmRvbmx5XCIsbiksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCkpOihpPWJUKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbdF0pLGkuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwiLGkuYXR0cmlidXRlcy5zc3Jjcz1yLGkuYXR0cmlidXRlcy5zc3JjR3JvdXBzPXMsdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1t0XT10aGlzLm11bmdTZW5kTWVkaWFEZXNjKGksbikpLFJnKCkmJnRoaXMuZmlyZWZveFNzcmNNaWRNYXAuc2V0KHJbMF0uc3NyY0lkLGkuYXR0cmlidXRlcy5taWQpLHttaWQ6aS5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITB9fX1iYXRjaFNlbmQoZSl7Y29uc3QgdD1lLm1hcCgoZT0+e2xldHtraW5kOnQsc3NyY01zZzppLG1zbGFiZWw6bn09ZTtyZXR1cm4gdGhpcy5zZW5kKHQsaSxuKX0pKSxpPVtdO2xldCBuPSExO3JldHVybiB0LmZvckVhY2goKGU9PntsZXR7bWlkOnQsbmVlZEV4Y2hhbmdlU0RQOnJ9PWU7ciYmKG49ITApLGkucHVzaCh0KX0pKSx7bWlkczppLG5lZWRFeGNoYW5nZVNEUDpufX1zdG9wU2VuZGluZyhlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT50LmF0dHJpYnV0ZXMubWlkJiYtMSE9PWUuaW5kZXhPZih0LmF0dHJpYnV0ZXMubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnN0b3BTZW5kaW5nLlwiKTt0LmZvckVhY2goKGU9PntcIjBcIj09PWUuYXR0cmlidXRlcy5taWR8fFJnKCl8fFNnKCl8fENnKCk/ZS5hdHRyaWJ1dGVzLnNzcmNzPVtdOihlLmF0dHJpYnV0ZXMuc3NyY3M9W10sZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCIsZS5tZWRpYS5wb3J0PVwiMFwiKX0pKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKX1tdXRlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGUsXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGUuXCIpKTt0LmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn11bm11dGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbiBub3QgZm91bmQgd2l0aCBcIi5jb25jYXQoZSxcIiBpbiByZW1vdGUgU0RQIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAudW5tdXRlLlwiKSk7dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCJ9bXV0ZVJlbW90ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT5QcihlKS5jYWxsKGUsdC5hdHRyaWJ1dGVzLm1pZHx8XCJcIikpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlUmVtb3RlLlwiKTt0LmZvckVhY2goKGU9PntlLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn0pKX11bm11dGVSZW1vdGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+UHIoZSkuY2FsbChlLHQuYXR0cmlidXRlcy5taWR8fFwiXCIpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZVJlbW90ZS5cIik7dC5mb3JFYWNoKChlPT57ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInJlY3Zvbmx5XCJ9KSl9cmVjZWl2ZShlLHQsaSxuKXtlLmZvckVhY2goKChlLHIpPT57dGhpcy5jcmVhdGVPclJlY3ljbGVSZWN2TWVkaWEoZSxbXSxcInJlY3Zvbmx5XCIsdCxpLG5bcl0pfSkpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpfXN0b3BSZWNlaXZpbmcoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+LTEhPT1lLmluZGV4T2YodC5hdHRyaWJ1dGVzLm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJ3MgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAucmVjZWl2ZS5cIik7dC5mb3JFYWNoKChlPT57ZS5tZWRpYS5wb3J0PVwiMFwiLGUuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifSkpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpfXVwZGF0ZUNhbmRpZGF0ZXMoZSl7ZT09PXVJLlRDUD90aGlzLl9jYW5kaWRhdGVzLmZvckVhY2goKGU9PnstMT09PXRoaXMuX2NhbmRpZGF0ZXMuZmluZEluZGV4KCh0PT5cInRjcFwiPT09dC50cmFuc3BvcnQmJnQuY29ubmVjdGlvbkFkZHJlc3M9PT1lLmNvbm5lY3Rpb25BZGRyZXNzJiZ0LnBvcnQ9PT1lLnBvcnQpKSYmdGhpcy5fY2FuZGlkYXRlcy5wdXNoKHFMKHFMKHt9LGUpLHt9LHtmb3VuZGF0aW9uOlwidGNwY2FuZGlkYXRlXCIscHJpb3JpdHk6TnVtYmVyKGUucHJpb3JpdHkpLTErXCJcIix0cmFuc3BvcnQ6XCJ0Y3BcIixwb3J0Ok51bWJlcihlLnBvcnQpKzkwK1wiXCJ9KSl9KSk6dGhpcy5fY2FuZGlkYXRlcz10aGlzLl9jYW5kaWRhdGVzLmZpbHRlcigoZT0+XCJ0Y3BcIiE9PWUudHJhbnNwb3J0KSk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucyllLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLmNhbmRpZGF0ZXN9cmVzdGFydElDRShlKXtlPWJUKGUpLHRoaXMuX2ljZVBhcmFtZXRlcnM9ZSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKHQ9Pnt0LmF0dHJpYnV0ZXMuaWNlVWZyYWc9ZS5pY2VVZnJhZyx0LmF0dHJpYnV0ZXMuaWNlUHdkPWUuaWNlUHdkfSkpfXByZWRpY3RSZWNlaXZpbmdNaWRzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlO2krKyl0LnB1c2goKHRoaXMuY3VycmVudE1pZEluZGV4K2krMSkudG9TdHJpbmcoMTApKTtyZXR1cm4gdH1maW5kQXZhaWxhYmxlTWVkaWFJbmRleChlLHQpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgoaT0+e2NvbnN0IG49aS5tZWRpYS5tZWRpYVR5cGU9PT1lJiZcIjBcIiE9PWkubWVkaWEucG9ydCYmKFwic2VuZG9ubHlcIj09PWkuYXR0cmlidXRlcy5kaXJlY3Rpb258fFwic2VuZHJlY3ZcIj09PWkuYXR0cmlidXRlcy5kaXJlY3Rpb24pJiYwPT09aS5hdHRyaWJ1dGVzLnNzcmNzLmxlbmd0aDtpZihSZygpKXtpZihuKXtjb25zdCBlPXRoaXMuZmlyZWZveFNzcmNNaWRNYXAuZ2V0KHRbMF0uc3NyY0lkKTtyZXR1cm4hKGV8fFwiMFwiIT09aS5hdHRyaWJ1dGVzLm1pZCYmXCIxXCIhPT1pLmF0dHJpYnV0ZXMubWlkKXx8ISghZXx8ZSE9PWkuYXR0cmlidXRlcy5taWQpfXJldHVybiExfXJldHVybiBufSkpfWNyZWF0ZU9yUmVjeWNsZVJlY3ZNZWRpYShlLHQsaSxuLHIscyl7Y29uc3Qgbz1lLl9tZWRpYVN0cmVhbVRyYWNrLmtpbmQsYT10aGlzLnJ0cENhcGFiaWxpdGllcy5yZWN2LGM9bEwobyxhLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCxvPT09aEkuVklERU8/bjpyKSxkPW89PT1oSS5WSURFTz9hLnZpZGVvRXh0ZW5zaW9uczphLmF1ZGlvRXh0ZW5zaW9uczt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtjb25zdCBsPVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KTtsZXQgaD17bWVkaWE6e21lZGlhVHlwZTpvLHBvcnQ6ekwscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6Yy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczpkLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3Jjczp0LHNzcmNHcm91cHM6W10scnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOmMscnRjcDp7cG9ydDpcIjlcIixuZXRUeXBlOlwiSU5cIixhZGRyZXNzVHlwZTpcIklQNFwiLGFkZHJlc3M6XCIwLjAuMC4wXCJ9LHNldHVwOnRoaXMuc2V0dXAsZGlyZWN0aW9uOmkscnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KGwpfX07aD10aGlzLm11bmdSZWN2TWVkaWFEc2VjKGgsZSxzKTtjb25zdCB1PXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEobyk7aWYodSl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YodSk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT1ofWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKGgpO3JldHVybiBofXVwZGF0ZVJlbW90ZUNvZGVjKGUsdCxpKXtjb25zdCBuPVsuLi5uZXcgU2V0KHRoaXMuX3J0cENhcGFiaWxpdGllcy5yZWN2LnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKSkuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIFByKHQ9T2JqZWN0LmtleXMoVUMpKS5jYWxsKHQsZSl9KSkpXSxyPW5ldyBTZXQodCk7aWYobi5ldmVyeSgoZT0+ci5oYXMoZSkpKSlyZXR1cm4gS0MuZGVidWcoXCJjb2RlY3MgaGFzIG5vdCBjaGFuZ2VkLCBubyBuZWVkIHRvIHVwZGF0ZVJlbW90ZUNvZGVjLCBjb2RlY3M6IFwiLmNvbmNhdCh0KSksITE7Y29uc3Qgcz10aGlzLl9ydHBDYXBhYmlsaXRpZXMucmVjdi52aWRlb0NvZGVjcy5maWx0ZXIoKGU9PnQuc29tZSgodD0+e3ZhciBpO3JldHVybiBQcihpPWUucnRwTWFwJiZlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikuY2FsbChpLHQpfSkpKSk7aWYoMD09PXMubGVuZ3RoKXJldHVybiBLQy5kZWJ1ZyhcInVwZGF0ZVJlbW90ZUNvZGVjIGZhaWxlZCwgYmVjYXVzZSBjYW5ub3QgZmluZCBtYXRjaGVkIGNvZGVjLCByZW1vdGVDYXBhYmlsaXRpZXMgY29kZWNzOiBcIi5jb25jYXQobixcIiBjb2RlY3M6IFwiKS5jb25jYXQodCkpLCExO2NvbnN0IG89Wy4uLm5ldyBTZXQocy5tYXAoKGU9PmUucnRwTWFwJiZlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikpKV07bGV0IGE7aWYoS0MuZGVidWcoXCJ1cGRhdGVSZW1vdGVDb2RlYywgZnJvbSBcIi5jb25jYXQobixcIiB0byBcIikuY29uY2F0KG8pKSwwPT09ZS5sZW5ndGgpYT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigoZT0+XCJ2aWRlb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJlwicmVjdm9ubHlcIj09PWUuYXR0cmlidXRlcy5kaXJlY3Rpb24pKTtlbHNlIGlmKGE9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9PnQuYXR0cmlidXRlcy5taWQmJlByKGUpLmNhbGwoZSx0LmF0dHJpYnV0ZXMubWlkKSYmXCJyZWN2b25seVwiPT09dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbikpLGEubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuIEtDLmRlYnVnKFwidXBkYXRlUmVtb3RlQ29kZWMgZmFpbGVkLCBiZWNhdXNlIGNhbm5vdCBmaW5kIG1pZHMsIG1pZHM6IFwiLmNvbmNhdChlLFwiLCBjb2RlY3M6IFwiKS5jb25jYXQodCkpLCExO3RoaXMuX3J0cENhcGFiaWxpdGllcy5yZWN2LnZpZGVvQ29kZWNzPXM7Y29uc3QgYz10aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQsZD10aGlzLnJ0cENhcGFiaWxpdGllcy5yZWN2LGw9bEwoaEkuVklERU8sZCxjLGkpO3JldHVybiBhLmZvckVhY2goKGU9Pntjb25zdCB0PWwubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpO0tDLmRlYnVnKFwidXBkYXRlUmVtb3RlQ29kZWMgbWlkOiBcIi5jb25jYXQoZS5hdHRyaWJ1dGVzLm1pZCxcIiwgZnJvbSBcIikuY29uY2F0KGUuYXR0cmlidXRlcy5wYXlsb2FkcyxcIiB0byBcIikuY29uY2F0KGwpKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHM9bCxlLm1lZGlhLmZtdHM9dH0pKSwhMH1jcmVhdGVPclJlY3ljbGVTZW5kTWVkaWEoZSx0LGksbixyKXtjb25zdCBzPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQsbz1lPT09aEkuVklERU8/cy52aWRlb0NvZGVjczpzLmF1ZGlvQ29kZWNzLGE9ZT09PWhJLlZJREVPP3MudmlkZW9FeHRlbnNpb25zOnMuYXVkaW9FeHRlbnNpb25zO3RoaXMuY3VycmVudE1pZEluZGV4Kz0xO2NvbnN0IGM9XCJcIi5jb25jYXQodGhpcy5jdXJyZW50TWlkSW5kZXgpO2xldCBkPXttZWRpYTp7bWVkaWFUeXBlOmUscG9ydDp6TCxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpvLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOnRoaXMuY2FuZGlkYXRlcyxleHRtYXBzOmEsZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOnQsc3NyY0dyb3VwczppLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpvLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjpuLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdChjKX19O2Q9dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhkLHIpO2NvbnN0IGw9dGhpcy5maW5kRmlyc3RDbG9zZWRNZWRpYShlKTtpZihsKXtjb25zdCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZihsKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2VdPWR9ZWxzZSB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2goZCk7cmV0dXJuIGR9dXBkYXRlQnVuZGxlTWlkcygpe3RoaXMuc2Vzc2lvbkRlc2MuYXR0cmlidXRlcy5ncm91cHNbMF0uaWRlbnRpZmljYXRpb25UYWc9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKGU9PlwiMFwiIT09ZS5tZWRpYS5wb3J0KSkubWFwKChlPT5lLmF0dHJpYnV0ZXMubWlkKSl9bXVuZ1JlY3ZNZWRpYURzZWMoZSx0LGkpe2NvbnN0IG49YlQoZSk7cmV0dXJuIGVMKG4pLCRQKG4sdCksdEwobix0KSxpTChuKSxuTChuLGksdGhpcy5sb2NhbENhcGFiaWxpdGllcy5zZW5kKSxufW11bmdTZW5kTWVkaWFEZXNjKGUsdCl7Y29uc3QgaT1iVChlKTtyZXR1cm4gbkwoaSx0LHRoaXMubG9jYWxDYXBhYmlsaXRpZXMucmVjdiksY0woaSksaX11cGRhdGVSZWN2TWVkaWEoZSx0KXtjb25zdCBpPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKC0xIT09aSl7Y29uc3QgZT10aGlzLm11bmdSZWN2TWVkaWFEc2VjKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV0sdCk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tpXT1lfX1idW1wTWlkKGUpe3RoaXMuY3VycmVudE1pZEluZGV4Kz1lfWZpbmRGaXJzdENsb3NlZE1lZGlhKGUpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PlJnKCk/XCIwXCI9PT10Lm1lZGlhLnBvcnQmJnQubWVkaWEubWVkaWFUeXBlPT09ZTpcIjBcIj09PXQubWVkaWEucG9ydCkpfWZpbmRQcmVsb2FkTWVkaWFEZXNjKGUpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9Pnt2YXIgaTtyZXR1cm4obnVsbD09PShpPXQuYXR0cmlidXRlcyl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLnNzcmNzWzBdKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zc3JjSWQpPT09ZVswXS5zc3JjSWR9KSl9Z2V0U1NSQyhlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYXR0cmlidXRlcy5zc3Jjc319ZnVuY3Rpb24gJEwoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGVrKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyPyRMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOiRMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIHRrIGV4dGVuZHMgUEl7Z2V0IGN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudExvY2FsRGVzY3JpcHRpb259Z2V0IGN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbn1nZXQgcGVlckNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZX1nZXQgaWNlQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlfWNvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLHQpLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcInBlZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwicmVtb3RlU0RQXCIsdm9pZCAwKSxudSh0aGlzLFwiaW5pdGlhbE9mZmVyXCIsdm9pZCAwKSxudSh0aGlzLFwidHJhbnNwb3J0RXZlbnRSZWNlaXZlclwiLHZvaWQgMCksbnUodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxudSh0aGlzLFwidXNlWFJcIixrQyhcIlVTRV9YUlwiKSksbnUodGhpcyxcImxvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxudSh0aGlzLFwibG9jYWxDYW5kaWRhdGVDb3VudFwiLDApLG51KHRoaXMsXCJhbGxDYW5kaWRhdGVzUmVjZWl2ZWRcIiwhMSksbnUodGhpcyxcInJlbW90ZUNvZGVjc1wiLHZvaWQgMCksbnUodGhpcyxcImRhdGFTdHJlYW1DaGFubmVsTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcImVzdGFibGlzaFByb21pc2VcIix2b2lkIDApLG51KHRoaXMsXCJtdXRleFwiLG5ldyBZVChcIk5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24tbXV0ZXhcIikpLG51KHRoaXMsXCJydGNNZWRpYVwiLHZvaWQgMCksdGhpcy5zdG9yZT10LHRoaXMucGVlckNvbm5lY3Rpb249aSx0aGlzLnN0YXRzRmlsdGVyPVBMKHRoaXMucGVlckNvbm5lY3Rpb24sa0MoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIiksdm9pZCAwLFJnKCk/MTIwMDp2b2lkIDApLHRoaXMuYmluZFBDRXZlbnRzKCksdGhpcy5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnN0b3JlLnAycElkPXRoaXMuc3RvcmUucDJwSWQrMSx0aGlzLmVzdGFibGlzaFByb21pc2U9dGhpcy5lc3RhYmxpc2goKX1hc3luYyBlc3RhYmxpc2goZSl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2lmKCFlLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGluaXRpYWxPZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gZXN0YWJsaXNoIFBlZXJDb25uZWN0aW9uLlwiKTtjb25zdCB0PXpQKGUuc2RwKSxpPWF3YWl0IHNMKHtmaWx0ZXJSVFg6IWtDKFwiVVNFX1BVQl9SVFhcIikmJiFrQyhcIlVTRV9TVUJfUlRYXCIpLGZpbHRlclZpZGVvRmVjOmtDKFwiRklMVEVSX1ZJREVPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0ZlYzprQyhcIkZJTFRFUl9BVURJT19GRUNcIiksZmlsdGVyVmlkZW9Db2RlYzprQyhcIkZJTFRFUl9WSURFT19DT0RFQ1wiKX0se3VzZVhSOnRoaXMudXNlWFJ9KTtyZXR1cm4gdGhpcy5sb2NhbENhcGFiaWxpdGllcz1pLHRoaXMuaW5pdGlhbE9mZmVyPWUsZWsoZWsoe30sdCkse30se3J0cENhcGFiaWxpdGllczppLG9mZmVyU0RQOmUuc2RwfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHh2KHhnLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgY29ubmVjdChlLHQsaSxuLHIscyl7dHJ5e2lmKCF0aGlzLmluaXRpYWxPZmZlcil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXN0YWJsaXNoIE5WQ29ubmVjdGlvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO3RoaXMucmVtb3RlU0RQPW5ldyBaTCh7cmVtb3RlSWNlUGFyYW1ldGVyczplLHJlbW90ZUR0bHNQYXJhbWV0ZXJzOnQsY2FuZGlkYXRlczppLHJlbW90ZVJUUENhcGFiaWxpdGllczpuLHJlbW90ZVNldHVwOnIsbG9jYWxDYXBhYmlsaXRpZXM6YUwodGhpcy5sb2NhbENhcGFiaWxpdGllcyksY25hbWU6c30pO2NvbnN0IG89dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxhPUtQLnBhcnNlKHRoaXMuaW5pdGlhbE9mZmVyLnNkcCksYz1hLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PlwiYXVkaW9cIj09PWUubWVkaWEubWVkaWFUeXBlKSk7YyYmY0woYyksdGhpcy51c2VYUiYmZEwoYSk7Y29uc3QgZD1LUC5wcmludChhKSxsPXRoaXMubG9nU0RQRXhjaGFuZ2UoZHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwiY29ubmVjdFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpkfSksbnVsbD09bHx8bChvKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KX1jYXRjaChlKXt0aHJvdyBuZXcgeHYoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIk5WLmNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLHQpe2xldCBpO3RoaXMucmVtb3RlQ29kZWNzPXQsdGhpcy5sb2NhbENhcGFiaWxpdGllcyYmKGk9YUwodGhpcy5sb2NhbENhcGFiaWxpdGllcykpO2NvbnN0IG49Wy4uLm5ldyBTZXQoaSYmaS5zZW5kLnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKSkuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIFByKHQ9T2JqZWN0LmtleXMoVUMpKS5jYWxsKHQsZSl9KSkpXTtpZihydi51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXModGhpcy5zdG9yZS5zZXNzaW9uSWQse21pZHM6ZSxsb2NhbENvZGVjczpuLHJlbW90ZUNvZGVjczp0aGlzLnJlbW90ZUNvZGVjc30pLCF0aGlzLnJlbW90ZVNEUClyZXR1cm4gdm9pZCBLQy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBjYW5ub3QgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQsIGxvY2FsIGNvZGVjczogXCIuY29uY2F0KG4sXCIsIGNvZGVjczogXCIpLmNvbmNhdCh0KSk7aWYodGhpcy5yZW1vdGVTRFAudXBkYXRlUmVtb3RlQ29kZWMoZSx0LHRoaXMuc3RvcmUuY29kZWMpKXtjb25zdCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSx0PXRoaXMubG9nU0RQRXhjaGFuZ2UoZS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcIm11dGVMb2NhbFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSk7Y29uc3QgaT10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PXR8fHQoaSksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDppfSl9ZWxzZSBLQy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpfWFzeW5jIHVwZGF0ZVJlbW90ZUNvbm5lY3QoZSl7dmFyIHQsaSxuLHI7KG51bGw9PT0odD10aGlzLnJlbW90ZVNEUCl8fHZvaWQgMD09PXR8fHQudXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUpLEFycmF5LmlzQXJyYXkodGhpcy5yZW1vdGVDb2RlY3MpJiZ0aGlzLnJlbW90ZUNvZGVjcy5sZW5ndGg+MCkmJihudWxsPT09KHI9dGhpcy5yZW1vdGVTRFApfHx2b2lkIDA9PT1yfHxyLnVwZGF0ZVJlbW90ZUNvZGVjKFtdLHRoaXMucmVtb3RlQ29kZWNzLHRoaXMuc3RvcmUuY29kZWMpKTtudWxsPT09KGk9dGhpcy5yZW1vdGVTRFApfHx2b2lkIDA9PT1pfHxpLnByZWxvYWRSZW1vdGVNZWRpYSgyKTtjb25zdCBzPW51bGw9PT0obj10aGlzLnJlbW90ZVNEUCl8fHZvaWQgMD09PW4/dm9pZCAwOm4udG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6c30pO2NvbnN0IG89YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obyksS0MuZGVidWcoXCJbTlZFeHRlbnRpb25zQ29ubmVjdGlvbl0gdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKX1zZW5kKGUsdCxpKXt2YXIgbj10aGlzO3JldHVybiBCUCgoZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCBqUChuLm11dGV4LmxvY2soXCJGcm9tIE5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24uc2VuZFwiKSk7dHJ5e2lmKCFuLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLnNlbmQgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCBzPVtdO2UuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bi5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihlLl9tZWRpYVN0cmVhbVRyYWNrLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7cy5wdXNoKHQpfSkpLFJnKCkmJiEwPT09a0MoXCJTSU1VTENBU1RcIikmJih5aWVsZCBqUChuLmFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChzLGUpKSk7Y29uc3Qgbz15aWVsZCBqUChuLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLGE9bi5yZW1vdGVTRFAucHJlZGljdFJlY2VpdmluZ01pZHMoZS5sZW5ndGgpLGM9bi5tdW5nU2VuZE9mZmVyU0RQKG8uc2RwLGUsYSksZD1LUC5wYXJzZShjKSxsPWEubWFwKChlPT57Y29uc3QgdD1kLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIG1lZGlhRGVzY3JpcHRpb24uXCIpO3JldHVybiBYUCh0LGtDKFwiVVNFX1BVQl9SVFhcIikpfSkpO2xldCBoO3RyeXtoPXlpZWxkIGx9Y2F0Y2gocil7aD1bXSxuLnJlbW90ZVNEUC5yZWNlaXZlKGUsdCxpLGgpO2NvbnN0IHM9bi5yZW1vdGVTRFAudG9TdHJpbmcoKTt0aHJvdyB5aWVsZCBqUChuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSkpLHlpZWxkIGpQKG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6c30pKSx5aWVsZCBqUChuLnN0b3BTZW5kaW5nKGEsITApKSxyfW4ucmVtb3RlU0RQLnJlY2VpdmUoZSx0LGksaCk7Y29uc3QgdT1uLnJlbW90ZVNEUC50b1N0cmluZygpLHA9bi5sb2dTRFBFeGNoYW5nZShjLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzZW5kXCIpO3JldHVybiB5aWVsZCBqUChuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSkpLHlpZWxkIGpQKG4uYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MocyxlKSkseWllbGQgalAobi5hcHBseVNlbmRFbmNvZGluZ3MocyxlKSksbnVsbD09cHx8cCh1KSx5aWVsZCBqUChuLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnV9KSkscy5tYXAoKChlLHQpPT57Y29uc3QgaT1hW3RdO3JldHVybntsb2NhbFNTUkM6bFt0XSxpZDppLHRyYW5zY2VpdmVyOmV9fSkpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiB4dj9lOm5ldyB4dih4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7cigpfX0pKSgpfWFzeW5jIHN0b3BTZW5kaW5nKGUsdCl7Y29uc3QgaT10P3ZvaWQgMDphd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIE5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24uc3RvcFNlbmRpbmdcIik7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+LTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIHRyeWluZyB0byBjYWxsIE5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24uc3RvcFNlbmRpbmcuXCIpO3QubWFwKChlPT57dmFyIHQ7ZS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLG51bGw9PT0odD1lLnN0b3ApfHx2b2lkIDA9PT10fHx0LmNhbGwoZSl9KSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4uc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzdG9wU2VuZGluZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksdGhpcy5yZW1vdGVTRFAuc3RvcFJlY2VpdmluZyhlKTtjb25zdCBzPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7bnVsbD09cnx8cihzKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnN9KX1jYXRjaChlKXt0aHJvdyBuZXcgeHYoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIk5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24uc3RvcFNlbmRpbmcgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9ZmluYWxseXtpJiZpKCl9fWFzeW5jIGNyZWF0ZURhdGFDaGFubmVscyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgaT10aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmdldChlKTtyZXR1cm4gaSYmXCJvcGVuXCI9PT1pLnJlYWR5U3RhdGU/S0MuZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gQ2hhbm5lbHMgYXJlIGFscmVhZHkgYXZhaWxhYmxlIGFuZCBjYW4gYmUgcmV1c2VkIGRpcmVjdGx5LlwiKTooaT10aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKFwiZGF0YXN0cmVhbS1jaGFubmVsXCIse29yZGVyZWQ6ITEsbWF4UmV0cmFuc21pdHM6a0MoXCJEQVRBU1RSRUFNX01BWF9SRVRSQU5TTUlUU1wiKX0pLGkuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5zZXQoZSxpKSksdm9pZCB0LmZvckVhY2goKGU9PntlLl91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChpKX0pKX1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgeHY/ZTpuZXcgeHYoeGcuREFUQUNIQU5ORUxfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BEYXRhQ2hhbm5lbHMoZSl7dHJ5e2NvbnN0IHQ9dGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5nZXQoZSk7cmV0dXJuIG51bGw9PXR8fHQuY2xvc2UoKSx2b2lkIHRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuZGVsZXRlKGUpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiB4dj9lOm5ldyB4dih4Zy5EQVRBQ0hBTk5FTF9GQUlMRUQsXCJOVkV4dGVudGlvbnNDb25uZWN0aW9uLnN0b3BEYXRhQ2hhbm5lbHMgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHJlY2VpdmUoZSx0LGksbil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLnJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKSk7Y29uc3R7bWlkOnIsbmVlZEV4Y2hhbmdlU0RQOnN9PXRoaXMucmVtb3RlU0RQLnNlbmQoZSx0LGksbik7aWYocyl7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwicmVjZWl2ZVwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKSxzPXRoaXMubXVuZ1JlY2VpdmVBbnN3ZXJTRFAobi5zZHAscixlKTtudWxsPT1pfHxpKHN8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpzfSksS0MuZGVidWcoXCJbTlZFeHRlbnRpb25zQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBieSBleGNoYW5naW5nIFNEUC5cIikpfWVsc2UgS0MuZGVidWcoXCJbTlZFeHRlbnRpb25zQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBubyBuZWVkIHRvIGV4Y2hhbmdlIFNEUC5cIikpO2NvbnN0IG89dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXIpKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybnt0cmFjazpvLnJlY2VpdmVyLnRyYWNrLGlkOnJ9fWNhdGNoKGUpe3Rocm93IG5ldyB4dih4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBiYXRjaFJlY2VpdmUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLmJhdGNoUmVjZWl2ZSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2NvbnN0e21pZHM6dCxuZWVkRXhjaGFuZ2VTRFA6aX09dGhpcy5yZW1vdGVTRFAuYmF0Y2hTZW5kKGUpO2lmKGkpe2NvbnN0IGU9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSx0PXRoaXMubG9nU0RQRXhjaGFuZ2UoZSxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInJlY2VpdmVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmV9KTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09dHx8dChpLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLEtDLmRlYnVnKFwiW05WRXh0ZW50aW9uc0Nvbm5lY3Rpb25dIGJhdGNoUmVjZWl2ZSBieSBleGNoYW5naW5nIFNEUC5cIil9ZWxzZSBLQy5kZWJ1ZyhcIltOVkV4dGVudGlvbnNDb25uZWN0aW9uXSBiYXRjaFJlY2VpdmUgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpO3JldHVybiB0Lm1hcCgoZT0+e2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKCh0PT50Lm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybnt0cmFjazp0LnJlY2VpdmVyLnRyYWNrLGlkOmV9fSkpfWNhdGNoKGUpe3Rocm93IG5ldyB4dih4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wUmVjZWl2aW5nKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO3RoaXMucmVtb3RlU0RQLnN0b3BTZW5kaW5nKGUpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UodCxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInN0b3BSZWNlaXZpbmdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09aXx8aShuLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pfWNhdGNoKGUpe3Rocm93IG5ldyB4dih4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbiBzdG9wUmVjZWl2aW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBtdXRlUmVtb3RlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5tdXRlUmVtb3RlIG1pZD1cIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKSk7dGhpcy5yZW1vdGVTRFAubXV0ZShlKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJtdXRlUmVtb3RlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PWl8fGkobi5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKX1jYXRjaChlKXt0aHJvdyBuZXcgeHYoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIk5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24ubXV0ZVJlbW90ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlUmVtb3RlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi51bm11dGVSZW1vdGUgbWlkPVwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpKTt0aGlzLnJlbW90ZVNEUC51bm11dGUoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwidW5tdXRlUmVtb3RlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PWl8fGkobi5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKX1jYXRjaChlKXt0aHJvdyBuZXcgeHYoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIk5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24udW5tdXRlUmVtb3RlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBtdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZCYmLTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7dC5tYXAoKGU9PntlLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksbj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLm11dGVSZW1vdGUoZSk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PW58fG4ociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHh2KHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkV4dGVudGlvbnNDb25uZWN0aW9uLm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkJiYtMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoYXN5bmMoZSx0KT0+e2UuZGlyZWN0aW9uPVwic2VuZG9ubHlcIn0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubG9nU0RQRXhjaGFuZ2UoaS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInVubXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC51bm11dGVSZW1vdGUoZSk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PW58fG4ociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHh2KHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkV4dGVudGlvbnNDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1yZXN0YXJ0SUNFKGUpe3ZhciB0PXRoaXM7cmV0dXJuIEJQKChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIGpQKHQubXV0ZXgubG9jayhcIkZyb20gTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5yZXN0YXJ0SUNFXCIpKTt0cnl7aWYoIXQucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7aWYoX0EoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtjb25zdCBpPXQucGVlckNvbm5lY3Rpb24uZ2V0Q29uZmlndXJhdGlvbigpLG49ZT09PXVJLlJFTEFZP1wicmVsYXlcIjpcImFsbFwiO2kuaWNlVHJhbnNwb3J0UG9saWN5IT09biYmKEtDLmRlYnVnKFwicmVzdGFydElDRSBjaGFuZ2UgaWNlVHJhbnNwb3J0UG9saWN5IGZyb20gW1wiLmNvbmNhdChpLmljZVRyYW5zcG9ydFBvbGljeSxcIl0gdG8gW1wiKS5jb25jYXQobixcIl1cIikpLGkuaWNlVHJhbnNwb3J0UG9saWN5PW4sdC5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGkpKX1lbHNlIGlmKGU9PT11SS5SRUxBWSlyZXR1cm47ZSE9PXVJLlJFTEFZJiZ0LnJlbW90ZVNEUC51cGRhdGVDYW5kaWRhdGVzKGUpO2NvbnN0IG49eWllbGQgalAodC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pKTtpZighbi5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVjYXVzZSByZXN0YXJ0IG9mZmVyIFNEUCBkb2VzIG5vdCBleGlzdC5cIik7Y29uc3Qgcj16UChuLnNkcCkse3JlbW90ZUljZVBhcmFtZXRlcnM6c309eWllbGQgci5pY2VQYXJhbWV0ZXJzO3QucmVtb3RlU0RQLnJlc3RhcnRJQ0Uocyk7Y29uc3Qgbz10LnJlbW90ZVNEUC50b1N0cmluZygpLGE9dC5sb2dTRFBFeGNoYW5nZShuLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwicmVzdGFydElDRVwiKTt5aWVsZCBqUCh0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obikpLG51bGw9PWF8fGEobykseWllbGQgalAodC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSkpfWNhdGNoKGUpe0tDLndhcm5pbmcoXCJyZXN0YXJ0IElDRSBmYWlsZWQsIGFib3J0IG9wZXJhdGlvblwiLGUpfWZpbmFsbHl7aSgpfX0pKSgpfWNsb3NlKCl7dmFyIGU7bnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyxcImNsb3NlZFwiKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLmRlc3Ryb3koKSx0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmNsZWFyKCl9Z2V0U3RhdHMoKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRWaWRlb0lzUmVhZHkoZSl9YXN5bmMgdXBkYXRlRW5jb2RlckNvbmZpZyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLG49dGhpcy5tdW5nU2VuZE9mZmVyU0RQKGkuc2RwLFt0XSxbZV0pO3RoaXMucmVtb3RlU0RQLnVwZGF0ZVJlY3ZNZWRpYShlLHQpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxzPXRoaXMubG9nU0RQRXhjaGFuZ2UobixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSksbnVsbD09c3x8cyhyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgeHYoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyB1cGRhdGVTZW5kUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkPT09ZSkpOzE9PT1pLmxlbmd0aCYmKHRoaXMuaXNWUDhTaW11bGNhc3QodCk/UmcoKXx8YXdhaXQgdGhpcy5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhpLFt0XSk6YXdhaXQgdGhpcy5hcHBseVNlbmRFbmNvZGluZ3MoaSxbdF0pKX1zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShlLHQpe3RoaXMuc3RhdHNGaWx0ZXIuc2V0VmlkZW9Jc1JlYWR5MihlLHQpfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXQpKTtpJiZhd2FpdCBpLnNlbmRlci5yZXBsYWNlVHJhY2soZS5fbWVkaWFTdHJlYW1UcmFjayl9Z2V0UDJQQ29ubmVjdGlvblBhcmFtcygpe3ZhciBlO2lmKG51bGw9PT0oZT10aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKXx8dm9pZCAwPT09ZXx8IWUuc2RwfHwhdGhpcy5sb2NhbENhcGFiaWxpdGllcyl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIGVrKGVrKHt9LHpQKHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudExvY2FsRGVzY3JpcHRpb24uc2RwKSkse30se3J0cENhcGFiaWxpdGllczp0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzfSl9YmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9ZT0+e2UuY2FuZGlkYXRlP3RoaXMubG9jYWxDYW5kaWRhdGVDb3VudCs9MToodGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkPSEwLEtDLmRlYnVnKFwiW3BjLVwiLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSl9LHNldFRpbWVvdXQoKCgpPT57dGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWR8fCh0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxLQy5kZWJ1ZyhcIltwYy1cIi5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gb25pY2VjYW5kaWRhdGUgdGltZW91dCwgbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSksa0MoXCJDQU5ESURBVEVfVElNRU9VVFwiKSl9dW5iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGVlcnJvcj1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbH1zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKXtjb25zdCB0PXtpY2VTZXJ2ZXJzOltdfTtyZXR1cm4gZS5pY2VTZXJ2ZXJzP3QuaWNlU2VydmVycz1lLmljZVNlcnZlcnM6ZS50dXJuU2VydmVyJiZcIm9mZlwiIT09ZS50dXJuU2VydmVyLm1vZGUmJihfVChlLnR1cm5TZXJ2ZXIuc2VydmVycyk/dC5pY2VTZXJ2ZXJzPWUudHVyblNlcnZlci5zZXJ2ZXJzOih0LmljZVNlcnZlcnMmJnQuaWNlU2VydmVycy5wdXNoKC4uLnRrLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnMpKSxrQyhcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZ0LmljZVNlcnZlcnMmJmUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJnQuaWNlU2VydmVycy5wdXNoKC4uLnRrLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSkpLGtDKFwiRk9SQ0VfVFVSTl9UQ1BcIik/dC5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiOmUudHVyblNlcnZlci5zZXJ2ZXJzLmNvbmNhdChlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5fHxbXSkuZm9yRWFjaCgoZT0+e2UuZm9yY2V0dXJuJiYodC5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKX0pKSkpLHR9c3RhdGljIHR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57ZS5zZWN1cml0eT9lLnRjcHBvcnQmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuczpcIi5jb25jYXQoX0QoZS50dXJuU2VydmVyVVJMKSxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSk6KGUudWRwcG9ydCYmIWtDKFwiRk9SQ0VfVFVSTl9UQ1BcIikmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnVkcHBvcnQsXCI/dHJhbnNwb3J0PXVkcFwiKX0pLGUudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSkpfSkpLHR9YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsdCl7dHJ5e2lmKCFfQSgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybjtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybjtmb3IobGV0IGw9MDtsPGUubGVuZ3RoO2wrKyl7Y29uc3QgaD1lW2xdLHU9dFtsXTtpZih1JiZ1IGluc3RhbmNlb2YgU2Ipe3ZhciBpLG4scjtpZih0aGlzLmlzVlA4U2ltdWxjYXN0KHUpKWNvbnRpbnVlO2NvbnN0IGU9e30sdD17fTtzd2l0Y2godS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6ZS5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjplLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztkZWZhdWx0OmUuZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIn12YXIgcyxvLGEsYztpZihudWxsIT09KGk9dS5fZW5jb2RlckNvbmZpZykmJnZvaWQgMCE9PWkmJmkuYml0cmF0ZU1heCl0Lm1heEJpdHJhdGU9MWUzKihudWxsPT09KHM9dS5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuYml0cmF0ZU1heCk7aWYoUHIobj11Ll9oaW50cykuY2FsbChuLGt5LkxPV19TVFJFQU0pKW51bGwhPT0obz11Ll9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09byYmby5mcmFtZVJhdGUmJih0Lm1heEZyYW1lcmF0ZT1tRCh1Ll9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZSkpLG51bGwhPT0oYT11Ll9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09YSYmYS5zY2FsZVJlc29sdXRpb25Eb3duQnkmJihudWxsPT09KGM9dS5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PWM/dm9pZCAwOmMuc2NhbGVSZXNvbHV0aW9uRG93bkJ5KT4xJiYodC5zY2FsZVJlc29sdXRpb25Eb3duQnk9dS5fZW5jb2RlckNvbmZpZy5zY2FsZVJlc29sdXRpb25Eb3duQnkpO2lmKGtDKFwiRFNDUF9UWVBFXCIpJiZrZygpKXt2YXIgZDtjb25zdCBlPWtDKFwiRFNDUF9UWVBFXCIpO1ByKGQ9W1widmVyeS1sb3dcIixcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdKS5jYWxsKGQsZSkmJih0Lm5ldHdvcmtQcmlvcml0eT1lKX1jb25zdCBsPWguc2VuZGVyLmdldFBhcmFtZXRlcnMoKSxwPW51bGw9PT0ocj1sLmVuY29kaW5ncyl8fHZvaWQgMD09PXI/dm9pZCAwOnJbMF07UmcoKSYmIXAmJihlLmVuY29kaW5ncz1bdF0pLHAmJk9iamVjdC5hc3NpZ24ocCx0KSxPYmplY3QuYXNzaWduKGwsZSksYXdhaXQgaC5zZW5kZXIuc2V0UGFyYW1ldGVycyhsKX19fWNhdGNoKGUpe0tDLmRlYnVnKFwiQXBwbHkgUlRQU2VuZEVuY29kaW5ncyBmYWlsZWQuXCIpfX1tdW5nU2VuZE9mZmVyU0RQKGUsdCxpKXtjb25zdCBuPUtQLnBhcnNlKGUpO3JldHVybiB0LmZvckVhY2goKChlLHQpPT57Y29uc3Qgcj1pW3RdLHM9bi5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubWlkPT09cikpO3MmJigkUChzLGUpLHJMKHMsZSx0aGlzLnN0b3JlLmNvZGVjKSl9KSksS1AucHJpbnQobil9bXVuZ1JlY2VpdmVBbnN3ZXJTRFAoZSx0LGkpe2NvbnN0IG49S1AucGFyc2UoZSkscj1uLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT10KSk7cmV0dXJuIHImJmk9PT1oSS5BVURJTyYmXCJhdWRpb1wiPT09ci5tZWRpYS5tZWRpYVR5cGUmJmNMKHIpLHRoaXMudXNlWFImJmRMKG4pLEtQLnByaW50KG4pfWJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3ZhciBuO251bGw9PT0obj10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyxlLHQsaSl9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7bnVsbD09PShpPXRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfX11bmJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwfWFzeW5jIGFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChlLHQpe2lmKGUubGVuZ3RoPT09dC5sZW5ndGgpZm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBpLG4scixzLG87Y29uc3QgYz1lW2FdLGQ9dFthXTtpZihkIGluc3RhbmNlb2YgU2ImJiFQcihpPWQuX2hpbnRzKS5jYWxsKGksa3kuTE9XX1NUUkVBTSkmJm51bGwhPT0obj1kLl9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09biYmbi5iaXRyYXRlTWF4JiYobnVsbD09PShyPWQuX2VuY29kZXJDb25maWcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmJpdHJhdGVNYXgpPjIwMCYmbnVsbCE9PShzPWQuX3NjYWxhYmlsaXR5TW9kZSkmJnZvaWQgMCE9PXMmJnMubnVtU3BhdGlhbExheWVycyYmKG51bGw9PT0obz1kLl9zY2FsYWJpbGl0eU1vZGUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm51bVNwYXRpYWxMYXllcnMpPjEmJlwidnA4XCI9PT10aGlzLnN0b3JlLmNvZGVjKXtjb25zdCBlPXt9LHQ9e2hpZ2g6MWUzKihkLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O2UuZW5jb2RpbmdzPVt7cmlkOlwibVwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOnQubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fSx7cmlkOlwiaFwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOnQuaGlnaH1dO2NvbnN0IGk9Yy5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IGMuc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihpLGUpKX19fWFzeW5jIGFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKGUsdCl7aWYoIVJnKCkmJmUubGVuZ3RoPT09dC5sZW5ndGgpZm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49dFtpXTtpZihuIGluc3RhbmNlb2YgU2ImJnRoaXMuaXNWUDhTaW11bGNhc3Qobikpe2NvbnN0IHQ9ZVtpXSxyPXt9LHM9e2hpZ2g6MWUzKihuLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O3IuZW5jb2RpbmdzPVt7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwiaGlnaFwiLHByaW9yaXR5OlwiaGlnaFwiLG1heEJpdHJhdGU6cy5oaWdofSx7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwibG93XCIscHJpb3JpdHk6XCJsb3dcIixtYXhCaXRyYXRlOnMubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fV07Y29uc3Qgbz10LnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7YXdhaXQgdC5zZW5kZXIuc2V0UGFyYW1ldGVycyhPYmplY3QuYXNzaWduKG8scikpfX19aXNWUDhTaW11bGNhc3QoZSl7dmFyIHQsaSxuLHIscztyZXR1cm4hIShlIGluc3RhbmNlb2YgU2ImJmtDKFwiU0lNVUxDQVNUXCIpJiZcInZwOFwiPT09dGhpcy5zdG9yZS5jb2RlYyYmIVByKHQ9ZS5faGludHMpLmNhbGwodCxreS5MT1dfU1RSRUFNKSYmbnVsbCE9PShpPWUuX2VuY29kZXJDb25maWcpJiZ2b2lkIDAhPT1pJiZpLmJpdHJhdGVNYXgmJihudWxsPT09KG49ZS5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uYml0cmF0ZU1heCk+MjAwJiZudWxsIT09KHI9ZS5fc2NhbGFiaWxpdHlNb2RlKSYmdm9pZCAwIT09ciYmci5udW1TcGF0aWFsTGF5ZXJzJiYobnVsbD09PShzPWUuX3NjYWxhYmlsaXR5TW9kZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMubnVtU3BhdGlhbExheWVycyk+MSl9bG9nU0RQRXhjaGFuZ2UoZSx0LGksbil7aWYoa0MoXCJTRFBfTE9HR0lOR1wiKSlyZXR1cm4gS0MudXBsb2FkKFwiZXhjaGFuZ2luZyBcIi5jb25jYXQoaSxcIiBcIikuY29uY2F0KHQsXCIgU0RQIGR1cmluZyBOVkV4dGVudGlvbnNDb25uZWN0aW9uLlwiKS5jb25jYXQobixcIlxcblwiKSxlKSxcIm9mZmVyXCI9PT10P2U9Pnt0aGlzLmxvZ1NEUEV4Y2hhbmdlKGUsXCJhbnN3ZXJcIixcImxvY2FsXCI9PT1pP1wicmVtb3RlXCI6XCJsb2NhbFwiLG4pfTp2b2lkIDB9YXN5bmMgZ2V0UmVtb3RlU1NSQyhlKXtpZighdGhpcy5yZW1vdGVTRFApcmV0dXJuO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAuZ2V0U1NSQyhlKTtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFswXS5zc3JjSWR9c2V0Q29uZmlndXJhdGlvbihlKXtpZihfQSgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pe2NvbnN0IHQ9dGsucmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKTt0aGlzLnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24odCl9fX1mdW5jdGlvbiBpayhlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBpLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLm11dGV4LGk9YXdhaXQgZS5sb2NrKFwiRnJvbSBOVkV4dGVudGlvbnNDb25uZWN0aW9uLlwiLmNvbmNhdCh0KSk7dHJ5e2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KHIpLG89MDtvPHI7bysrKXNbb109YXJndW1lbnRzW29dO3JldHVybiBhd2FpdCBuLmFwcGx5KHRoaXMscyl9ZmluYWxseXtpKCl9fSxpfWZ1bmN0aW9uIG5rKGUpe3ZhciB0LGksbixyPTI7Zm9yKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJihpPVdQLG49U3ltYm9sLml0ZXJhdG9yKTtyLS07KXtpZihpJiZudWxsIT0odD1lW2ldKSlyZXR1cm4gdC5jYWxsKGUpO2lmKG4mJm51bGwhPSh0PWVbbl0pKXJldHVybiBuZXcgcmsodC5jYWxsKGUpKTtpPVwiQEBhc3luY0l0ZXJhdG9yXCIsbj1cIkBAaXRlcmF0b3JcIn10aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGlzIG5vdCBhc3luYyBpdGVyYWJsZVwiKX1mdW5jdGlvbiByayhlKXtmdW5jdGlvbiB0KGUpe2lmKE9iamVjdChlKSE9PWUpcmV0dXJuIHRnLnJlamVjdChuZXcgVHlwZUVycm9yKGUrXCIgaXMgbm90IGFuIG9iamVjdC5cIikpO3ZhciB0PWUuZG9uZTtyZXR1cm4gdGcucmVzb2x2ZShlLnZhbHVlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm57dmFsdWU6ZSxkb25lOnR9fSkpfXJldHVybiByaz1mdW5jdGlvbihlKXt0aGlzLnM9ZSx0aGlzLm49ZS5uZXh0fSxyay5wcm90b3R5cGU9e3M6bnVsbCxuOm51bGwsbmV4dDpmdW5jdGlvbigpe3JldHVybiB0KHRoaXMubi5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHJldHVybjpmdW5jdGlvbihlKXt2YXIgaT10aGlzLnMucmV0dXJuO3JldHVybiB2b2lkIDA9PT1pP3RnLnJlc29sdmUoe3ZhbHVlOmUsZG9uZTohMH0pOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHRocm93OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIHZvaWQgMD09PWk/dGcucmVqZWN0KGUpOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9fSxuZXcgcmsoZSl9TXYoW2lrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsT2JqZWN0LEFycmF5LE9iamVjdCxTdHJpbmcsU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sdGsucHJvdG90eXBlLFwiY29ubmVjdFwiLG51bGwpLE12KFtpayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXksQXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNcIixudWxsKSxNdihbaWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZUNvbm5lY3RcIixudWxsKSxNdihbaWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcImNyZWF0ZURhdGFDaGFubmVsc1wiLG51bGwpLE12KFtpayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLEFycmF5LFN0cmluZyxPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJyZWNlaXZlXCIsbnVsbCksTXYoW2lrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcImJhdGNoUmVjZWl2ZVwiLG51bGwpLE12KFtpayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsbnVsbCksTXYoW2lrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsbnVsbCksTXYoW2lrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixudWxsKSxNdihbaWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sdGsucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIsbnVsbCksTXYoW2lrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIsbnVsbCksTXYoW2lrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sdGsucHJvdG90eXBlLFwiY2xvc2VcIixudWxsKSxNdihbaWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxpQV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixudWxsKSxNdihbaWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxpQV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsbnVsbCksTXYoW2lrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtpQSxTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixudWxsKSxNdihbaWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIixudWxsKTtjbGFzcyBzayBleHRlbmRzIFBJe2dldCBjdXJyZW50TG9jYWxEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9ufWdldCBjdXJyZW50UmVtb3RlRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb259Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksbnUodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxudSh0aGlzLFwicGVlckNvbm5lY3Rpb25cIix2b2lkIDApLG51KHRoaXMsXCJjbmFtZVwiLHZvaWQgMCksbnUodGhpcyxcIm11dGV4XCIsbmV3IFlUKFwiRGF0YUNoYW5uZWxDb25uZWN0aW9uLW11dGV4XCIpKSxudSh0aGlzLFwiZGF0YUNoYW5uZWxcIix2b2lkIDApLG51KHRoaXMsXCJfcDJwQ29ubmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcImVzdGFibGlzaFByb21pc2VcIix2b2lkIDApLG51KHRoaXMsXCJfbnZNZWRpYVwiLHZvaWQgMCksdGhpcy5zdG9yZT10LHRoaXMuc3RvcmUuZGNJZD10aGlzLnN0b3JlLmRjSWQrMSx0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbihzay5yZXNvbHZlUENDb25maWd1cmF0aW9uKGUpLHtvcHRpb25hbDpbe2dvb2dEc2NwOiEwfV19KSx0aGlzLmRhdGFDaGFubmVsPXRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoXCJhZ29yYS1zaWduYWxcIix7b3JkZXJlZDohMSxtYXhQYWNrZXRMaWZlVGltZTo1MH0pLHRoaXMuZGF0YUNoYW5uZWwuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdGhpcy5fcDJwQ29ubmVjdGlvbj1uZXcgdGsoZSx0LHRoaXMucGVlckNvbm5lY3Rpb24pLHRoaXMuYmluZFBDRXZlbnRzKCksdGhpcy5lc3RhYmxpc2hQcm9taXNlPXRoaXMuX3AycENvbm5lY3Rpb24uZXN0YWJsaXNoUHJvbWlzZX1hc3luYyBlc3RhYmxpc2goKXt2YXIgZTtjb25zdCB0PW51bGw9PT0oZT10aGlzLl9udk1lZGlhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRMb2NhbFJ0cENhcGFiaWxpdGllcygpO3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLmVzdGFibGlzaCh0KX1nZXRQMlBDb25uZWN0aW9uUGFyYW1zKCl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24uZ2V0UDJQQ29ubmVjdGlvblBhcmFtcygpfWFzeW5jIGNvbm5lY3QoZSx0LGksbixyLHMpe3JldHVybiB0aGlzLmNuYW1lPXMsYXdhaXQgdGhpcy5fcDJwQ29ubmVjdGlvbi5jb25uZWN0KGUsdCxpLG4scixzKSxhd2FpdCBuZXcgdGcoKChlLHQpPT57Y29uc3Qgbj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuY2xvc2VTaWduYWwoKSx0KG5ldyB4dih4Zy5EQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVQsXCJEYXRhY2hhbm5lbCBjb25uZWN0aW9uIHRpbWVkIG91dCwgY2FuZGlkYXRlczogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGkpKSkpfSksMmUzKTt0aGlzLmRhdGFDaGFubmVsLm9ub3Blbj0oKT0+e2lmKFwib3BlblwiPT09dGhpcy5kYXRhQ2hhbm5lbC5yZWFkeVN0YXRlKXJldHVybiBjbGVhclRpbWVvdXQobiksdm9pZCBlKCl9LHRoaXMuZGF0YUNoYW5uZWwub25lcnJvcj1lPT57dGhpcy5jbG9zZVNpZ25hbCgpLHQoZSl9fSkpLHt0cmFuc21pdHRlcjp0aGlzLmRhdGFDaGFubmVsLGNsb3NlOnRoaXMuY2xvc2VTaWduYWwuYmluZCh0aGlzKX19YXN5bmMgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUsdCl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24udXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUsdCl9c2VuZChlLHQsaSl7dmFyIG49dGhpcztyZXR1cm4gQlAoKGZ1bmN0aW9uKigpe2NvbnN0IHI9eWllbGQgalAobi5tdXRleC5sb2NrKFwiRnJvbSBEYXRhQ2hhbm5lbENvbm5lY3Rpb24uc2VuZFwiKSk7dHJ5e3JldHVybiB5aWVsZCpHUChuayhuLl9wMnBDb25uZWN0aW9uLnNlbmQoZSx0LGkpKSl9ZmluYWxseXtyKCl9fSkpKCl9YXN5bmMgc3RvcFNlbmRpbmcoZSx0KXtyZXR1cm4gdGhpcy5fcDJwQ29ubmVjdGlvbi5zdG9wU2VuZGluZyhlLHQpfWFzeW5jIGNyZWF0ZURhdGFDaGFubmVscyhlLHQpe3JldHVybiB0aGlzLl9wMnBDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyhlLHQpfWFzeW5jIHN0b3BEYXRhQ2hhbm5lbHMoZSl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyhlKX1hc3luYyByZWNlaXZlKGUsdCxpLG4pe3JldHVybiB0aGlzLl9udk1lZGlhPyhLQy5kZWJ1ZyhcIltEYXRhQ2hhbm5lbENvbm5lY3Rpb25dIHJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYnkgRGF0YUNoYW5uZWwuXCIpKSxhd2FpdCB0aGlzLl9udk1lZGlhLnJldmVpdmVCeVJUQ01lZGlhKGUsdCx0aGlzLmNuYW1lKSk6KEtDLmRlYnVnKFwiW0RhdGFDaGFubmVsQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBieSBXZWJSVEMuXCIpKSxhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLnJlY2VpdmUoZSx0LGksbikpfWFzeW5jIGJhdGNoUmVjZWl2ZShlKXtyZXR1cm5bLi4uYXdhaXQgdGhpcy5fcDJwQ29ubmVjdGlvbi5iYXRjaFJlY2VpdmUoZSldfWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhlKX1hc3luYyBtdXRlUmVtb3RlKGUpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLm11dGVSZW1vdGUoZSl9YXN5bmMgdW5tdXRlUmVtb3RlKGUpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLnVubXV0ZVJlbW90ZShlKX1hc3luYyBtdXRlTG9jYWwoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24ubXV0ZUxvY2FsKGUpfWFzeW5jIHVubXV0ZUxvY2FsKGUpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLnVubXV0ZUxvY2FsKGUpfXJlc3RhcnRJQ0UoZSl7dmFyIHQ9dGhpcztyZXR1cm4gQlAoKGZ1bmN0aW9uKigpe3JldHVybiB5aWVsZCpHUChuayh0Ll9wMnBDb25uZWN0aW9uLnJlc3RhcnRJQ0UoZSkpKX0pKSgpfWNsb3NlKCl7dmFyIGU7bnVsbD09PShlPXRoaXMuX252TWVkaWEpfHx2b2lkIDA9PT1lfHxlLmNsb3NlKCksdGhpcy5fcDJwQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLl9wMnBDb25uZWN0aW9uKX1nZXRTdGF0cygpe3JldHVybiB0aGlzLl9wMnBDb25uZWN0aW9uLmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3JldHVybiB0aGlzLl9wMnBDb25uZWN0aW9uLmdldFJlbW90ZVZpZGVvSXNSZWFkeShlKX11cGRhdGVSZW1vdGVDb25uZWN0KGUpe3ZhciB0O251bGw9PT0odD10aGlzLl9udk1lZGlhKXx8dm9pZCAwPT09dHx8dC5zZXRSZW1vdGVSdHBDYXBhYmlsaXRpZXMoZSksdGhpcy5fcDJwQ29ubmVjdGlvbi51cGRhdGVSZW1vdGVDb25uZWN0KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5fcDJwQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnKGUsdCl9YXN5bmMgdXBkYXRlU2VuZFBhcmFtZXRlcnMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5fcDJwQ29ubmVjdGlvbi51cGRhdGVTZW5kUGFyYW1ldGVycyhlLHQpfXNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KGUsdCl7dGhpcy5fcDJwQ29ubmVjdGlvbi5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShlLHQpfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLnJlcGxhY2VUcmFjayhlLHQpfWFzeW5jIGdldFJlbW90ZVNTUkMoZSl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24uZ2V0UmVtb3RlU1NSQyhlKX1sb2dTRFBFeGNoYW5nZShlLHQsaSxuKXtpZihrQyhcIlNEUF9MT0dHSU5HXCIpKXJldHVybiBLQy51cGxvYWQoXCJleGNoYW5naW5nIFwiLmNvbmNhdChpLFwiIFwiKS5jb25jYXQodCxcIiBTRFAgZHVyaW5nIERhdGFDaGFubmVsQ29ubmVjdGlvbi5cIikuY29uY2F0KG4sXCJcXG5cIiksZSksXCJvZmZlclwiPT09dD9lPT57dGhpcy5sb2dTRFBFeGNoYW5nZShlLFwiYW5zd2VyXCIsXCJsb2NhbFwiPT09aT9cInJlbW90ZVwiOlwibG9jYWxcIixuKX06dm9pZCAwfXN0YXRpYyByZXNvbHZlUENDb25maWd1cmF0aW9uKGUpe2NvbnN0IHQ9e2ljZVNlcnZlcnM6W119O3JldHVybiBlLmljZVNlcnZlcnM/dC5pY2VTZXJ2ZXJzPWUuaWNlU2VydmVyczplLnR1cm5TZXJ2ZXImJlwib2ZmXCIhPT1lLnR1cm5TZXJ2ZXIubW9kZSYmKF9UKGUudHVyblNlcnZlci5zZXJ2ZXJzKT90LmljZVNlcnZlcnM9ZS50dXJuU2VydmVyLnNlcnZlcnM6KHQuaWNlU2VydmVycyYmdC5pY2VTZXJ2ZXJzLnB1c2goLi4uc2sudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlLnR1cm5TZXJ2ZXIuc2VydmVycykpLGtDKFwiVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVlcIikmJnQuaWNlU2VydmVycyYmZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSYmdC5pY2VTZXJ2ZXJzLnB1c2goLi4uc2sudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5KSksa0MoXCJGT1JDRV9UVVJOX1RDUFwiKT90LmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCI6ZS50dXJuU2VydmVyLnNlcnZlcnMuY29uY2F0KGUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXl8fFtdKS5mb3JFYWNoKChlPT57ZS5mb3JjZXR1cm4mJih0LmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpfSkpKSksdH1zdGF0aWMgdHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntlLnNlY3VyaXR5P2UudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChfRChlLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KTooZS51ZHBwb3J0JiYha0MoXCJGT1JDRV9UVVJOX1RDUFwiKSYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudWRwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSl9KSksdH1iaW5kUENFdmVudHMoKXt0aGlzLl9wMnBDb25uZWN0aW9uLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1lPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKHRoaXMsZSl9LHRoaXMuX3AycENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uRFRMU1RyYW5zcG9ydEVycm9yPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25EVExTVHJhbnNwb3J0RXJyb3IpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkZpcnN0VmlkZW9SZWNlaXZlZD1lPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKHRoaXMsZSl9LHRoaXMuX3AycENvbm5lY3Rpb24ub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt2YXIgbjtyZXR1cm4gbnVsbD09PShuPXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uY2FsbCh0aGlzLGUsdCxpKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKHRoaXMsZSl9LHRoaXMuX3AycENvbm5lY3Rpb24ub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO3JldHVybiBudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO3JldHVybiBudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0aGlzLGUsdCl9fWNsb3NlU2lnbmFsKCl7dGhpcy5kYXRhQ2hhbm5lbC5jbG9zZSgpLHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKX11bmJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRFcnJvcj12b2lkIDAsZS5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLGUub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDB9c2V0Q29uZmlndXJhdGlvbihlKXt0aGlzLl9wMnBDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oZSl9fWZ1bmN0aW9uIG9rKGUsdCxpKXtjb25zdCBuPWVbdF07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIGkudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMubXV0ZXgsaT1hd2FpdCBlLmxvY2soXCJGcm9tIERhdGFDaGFubmVsQ29ubmVjdGlvbi5cIi5jb25jYXQodCkpO3RyeXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxzPW5ldyBBcnJheShyKSxvPTA7bzxyO28rKylzW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4gYXdhaXQgbi5hcHBseSh0aGlzLHMpfWZpbmFsbHl7aSgpfX0saX1mdW5jdGlvbiBhayhlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gY2soZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YWsoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6YWsoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9TXYoW29rLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsT2JqZWN0LEFycmF5LE9iamVjdCxTdHJpbmcsU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sc2sucHJvdG90eXBlLFwiY29ubmVjdFwiLG51bGwpLE12KFtvayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXksQXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxzay5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNcIixudWxsKSxNdihbb2ssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHNrLnByb3RvdHlwZSxcImNyZWF0ZURhdGFDaGFubmVsc1wiLG51bGwpLE12KFtvayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLEFycmF5LFN0cmluZyxPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxzay5wcm90b3R5cGUsXCJyZWNlaXZlXCIsbnVsbCksTXYoW29rLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHNrLnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIixudWxsKSxNdihbb2ssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHNrLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixudWxsKSxNdihbb2ssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHNrLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiLG51bGwpLE12KFtvayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxzay5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIixudWxsKSxNdihbb2ssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sc2sucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIixudWxsKSxNdihbb2ssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxzay5wcm90b3R5cGUsXCJjbG9zZVwiLG51bGwpLE12KFtvayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLGlBXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sc2sucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiLG51bGwpLE12KFtvayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLGlBXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sc2sucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIixudWxsKSxNdihbb2ssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW2lBLFN0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHNrLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLG51bGwpLE12KFtvayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sc2sucHJvdG90eXBlLFwiZ2V0UmVtb3RlU1NSQ1wiLG51bGwpO2NsYXNzIGRrIGV4dGVuZHMgaVR7Y29uc3RydWN0b3IoKXtzdXBlcigpLG51KHRoaXMsXCJ1cGxpbmtTdGF0c1VwbG9hZEludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwidXBsaW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJ1cGxpbmtEZW5vaXNlclN0YXRzVXBsb2FkSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJ0cmFuc3BvcnRTdGF0c1VwbG9hZEludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwidXBsaW5rRXh0ZW5zaW9uU3RhdHNVcGxvYWRJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcImRvd25saW5rRXh0ZW5zaW9uU3RhdHNVcGxvYWRJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcImV4dGVuc2lvblVzYWdlU3RhdHNVcGxvYWRJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcImRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcImRvd25saW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJsYXN0U3RhdHNcIix2b2lkIDApLG51KHRoaXMsXCJ1cGxvYWRVbnBsaW5rU3RhcnRlZFwiLCExKSxudSh0aGlzLFwidXBsb2FkRG93bmxpbmtTdGFydGVkXCIsITEpLG51KHRoaXMsXCJ1cGxvYWRUcmFuc3BvcnRTdGFydGVkXCIsITEpLG51KHRoaXMsXCJ1cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWRcIiwhMSksbnUodGhpcyxcInJlcXVlc3RTdGF0c1wiLHZvaWQgMCksbnUodGhpcyxcInJlcXVlc3RUcmFuc3BvcnRTdGF0c1wiLHZvaWQgMCksbnUodGhpcyxcInJlcXVlc3RMb2NhbE1lZGlhXCIsdm9pZCAwKSxudSh0aGlzLFwicmVxdWVzdFJlbW90ZU1lZGlhXCIsdm9pZCAwKSxudSh0aGlzLFwicmVxdWVzdEFsbFRyYWNrc1wiLHZvaWQgMCksbnUodGhpcyxcInJlcXVlc3RWaWRlb0lzUmVhZHlcIix2b2lkIDApLG51KHRoaXMsXCJyZXF1ZXN0VXBsb2FkXCIsdm9pZCAwKX1zdGFydFVwbG9hZFRyYW5zcG9ydFN0YXRzKGUpe3RoaXMudXBsb2FkVHJhbnNwb3J0U3RhcnRlZHx8KHRoaXMudXBsb2FkVHJhbnNwb3J0U3RhcnRlZD0hMCx0aGlzLnRyYW5zcG9ydFN0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudHJhbnNwb3J0U3RhdHNVcGxvYWRJbnRlcnZhbCksdGhpcy50cmFuc3BvcnRTdGF0c1VwbG9hZEludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt2YXIgdDtjb25zdCBpPW51bGw9PT0odD10aGlzLnJlcXVlc3RTdGF0cyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzKTtpZihpKXtjb25zdCB0PWdEKGkpO2lmKGUpe3ZhciBuO2NvbnN0IGU9bnVsbD09PShuPXRoaXMucmVxdWVzdFN0YXRzKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jYWxsKHRoaXMsITApO2lmKGUpe2NvbnN0IGk9Z0QoZSk7dC5jb25uZWN0aW9uVHlwZSs9aS5jb25uZWN0aW9uVHlwZTw8M310LmNvbm5lY3Rpb25UeXBlKz0xMTB9ZWxzZSB0LmNvbm5lY3Rpb25UeXBlKz0xMDA7QVQoKCgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLFN2LlRSQU5TUE9SVF9TVEFUUyx0KX0pKX19KSwxZTMpKX1zdGFydFVwbG9hZEV4dGVuc2lvblVzYWdlU3RhdHMoKXtpZih0aGlzLnVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZClyZXR1cm47dGhpcy51cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWQ9ITAsdGhpcy5leHRlbnNpb25Vc2FnZVN0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuZXh0ZW5zaW9uVXNhZ2VTdGF0c1VwbG9hZEludGVydmFsKTtjb25zdCBlPW5ldyBNYXA7dGhpcy5leHRlbnNpb25Vc2FnZVN0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKChhc3luYygpPT57dmFyIHQsaSxuO2NvbnN0IHI9RGF0ZS5ub3coKSxzPXtjb25uZWN0aW9uSW50ZXJ2YWw6a0MoXCJFWFRFTlNJT05fVVNBR0VfVVBMT0FEX0lOVEVSVkFMXCIpLzFlMyxkZXRhaWxzOltdLGx0czpyfTtsZXQgbz1bXTtjb25zdCBhPShudWxsPT09KHQ9dGhpcy5yZXF1ZXN0QWxsVHJhY2tzKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKHRoaXMpKXx8W107Zm9yKGNvbnN0IGUgb2YgYSkhZS5tdXRlZCYmZS5lbmFibGVkJiYobz1vLmNvbmNhdChhd2FpdCBlLmdldFByb2Nlc3NvclVzYWdlKCkpKTtjb25zdCBjPShudWxsPT09KGk9dGhpcy5yZXF1ZXN0UmVtb3RlTWVkaWEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodGhpcykpfHxbXTtmb3IoY29uc3RbZSx0XW9mIGMpdC5oYXMoaEkuVklERU8pJiZlLnZpZGVvVHJhY2smJihvPW8uY29uY2F0KGF3YWl0IGUudmlkZW9UcmFjay5nZXRQcm9jZXNzb3JVc2FnZSgpKSksdC5oYXMoaEkuQVVESU8pJiZlLmF1ZGlvVHJhY2smJihvPW8uY29uY2F0KGF3YWl0IGUuYXVkaW9UcmFjay5nZXRQcm9jZXNzb3JVc2FnZSgpKSk7aWYoMD09PW8ubGVuZ3RoKXJldHVybjtzLmRldGFpbHM9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPXt9O2Zvcihjb25zdHtpZDpvLHZhbHVlOmEsbGV2ZWw6YyxkaXJlY3Rpb246ZH1vZiBlKXt2YXIgbjtjb25zdCBlPW51bGwhPT0obj10LmdldChvKSkmJnZvaWQgMCE9PW4/bjowLGw9Mj09PWE/ZStrQyhcIkVYVEVOU0lPTl9VU0FHRV9VUExPQURfSU5URVJWQUxcIikvMWUzOmU7dmFyIHIsczt0LnNldChvLGwpLGlbb10/KDI9PT1hJiYoaVtvXS52YWx1ZT1hKSxjPmlbb10ubGV2ZWwmJihpW29dLmxldmVsPWMpLFwicmVtb3RlXCI9PT1kJiYoaVtvXS5yZW1vdGVVaWRDb3VudCs9MSksaVtvXS50b3RhbFRzPW51bGwhPT0ocj10LmdldChvKSkmJnZvaWQgMCE9PXI/cjowKTppW29dPXt2YWx1ZTphLGxldmVsOmMscmVtb3RlVWlkQ291bnQ6XCJsb2NhbFwiPT09ZD8wOjEsdG90YWxUczpudWxsIT09KHM9dC5nZXQobykpJiZ2b2lkIDAhPT1zP3M6MH19cmV0dXJuIE9iamVjdC5rZXlzKGkpLm1hcCgoZT0+e2NvbnN0e2xldmVsOnQsdmFsdWU6bix0b3RhbFRzOnJ9PWlbZV07cmV0dXJue2lkOmUsbGV2ZWw6dCx2YWx1ZTpuLHRvdGFsVHM6cn19KSl9KG8sZSk7Y29uc3QgZD1EYXRlLm5vdygpLGw9ZD5yP2Q6cisxO251bGw9PT0obj10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyxTdi5FWFRFTlNJT05fVVNBR0VfU1RBVFMse3VzYWdlU3RhdHM6cyxzZW5kVHM6bH0pfSksa0MoXCJFWFRFTlNJT05fVVNBR0VfVVBMT0FEX0lOVEVSVkFMXCIpKX1zdGFydFVwbG9hZFVwbGlua1N0YXRzKCl7dGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZHx8KHRoaXMudXBsb2FkVW5wbGlua1N0YXJ0ZWQ9ITAsdGhpcy51cGxpbmtTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbGlua1N0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMudXBsaW5rU3RhdHNVcGxvYWRJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dmFyIGU7Y29uc3QgdD1udWxsPT09KGU9dGhpcy5yZXF1ZXN0U3RhdHMpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwodGhpcyk7dCYmKHRoaXMudXBsb2FkVXBsaW5rU3RhdHModCksdGhpcy5sYXN0U3RhdHM9dCl9KSwzZTMpLHRoaXMudXBsaW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsaW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMudXBsaW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPXRoaXMucmVxdWVzdFN0YXRzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKHRoaXMpO3QmJnRoaXMudXBsb2FkUmVsYXRlZFVwbGlua1N0YXRzKHQsdGhpcy5sYXN0U3RhdHMpLHRoaXMubGFzdFN0YXRzPXR9KSwxZTMpLHRoaXMudXBsaW5rRGVub2lzZXJTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbGlua0Rlbm9pc2VyU3RhdHNVcGxvYWRJbnRlcnZhbCksdGhpcy51cGxpbmtEZW5vaXNlclN0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPXRoaXMucmVxdWVzdEFsbFRyYWNrcyl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0aGlzKTt0JiZ0aGlzLnVwbG9hZERlbm9pc2VyU3RhdHModCl9KSwyZTMpLHRoaXMudXBsaW5rRXh0ZW5zaW9uU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxpbmtFeHRlbnNpb25TdGF0c1VwbG9hZEludGVydmFsKSx0aGlzLnVwbGlua0V4dGVuc2lvblN0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPXRoaXMucmVxdWVzdEFsbFRyYWNrcyl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0aGlzKTt0JiZ0aGlzLnVwbG9hZEV4dGVuc2lvblN0YXRzKHQpfSksMmUzKSl9dXBsb2FkVXBsaW5rU3RhdHMoZSl7dmFyIHQ7KChudWxsPT09KHQ9dGhpcy5yZXF1ZXN0TG9jYWxNZWRpYSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzKSl8fFtdKS5mb3JFYWNoKCh0PT57bGV0W2kse3RyYWNrOm4sc3NyY3M6cn1dPXQ7c3dpdGNoKGkpe2Nhc2UgX0kuTG9jYWxWaWRlb0xvd1RyYWNrOmNhc2UgX0kuTG9jYWxWaWRlb1RyYWNrOntjb25zdCB0PWZ1bmN0aW9uKGUsdCxpKXt2YXIgbjtjb25zdCByPXQudmlkZW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZighcilyZXR1cm4gbnVsbDtjb25zdCBzPXtpZDp4VCgxMCxcIlwiKSx0aW1lc3RhbXA6bmV3IERhdGUodC50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCksbWVkaWFUeXBlOlwidmlkZW9cIix0eXBlOlwic3NyY1wiLHNzcmM6ci5zc3JjLnRvU3RyaW5nKCl9O3N3aXRjaChzLkFfdnN0ZD1pLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYhaS5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkfHxpLl9tZWRpYVN0cmVhbVRyYWNrJiYhaS5fbWVkaWFTdHJlYW1UcmFjay5lbmFibGVkP1wiMVwiOlwiMFwiLHIuc2VudEZyYW1lJiYocy5BX2Zocz1yLnNlbnRGcmFtZS5oZWlnaHQudG9TdHJpbmcoKSxzLkFfZnJzPXIuc2VudEZyYW1lLmZyYW1lUmF0ZS50b1N0cmluZygpLHMuQV9md3M9ci5zZW50RnJhbWUud2lkdGgudG9TdHJpbmcoKSksci5hZGFwdGlvbkNoYW5nZVJlYXNvbil7Y2FzZVwibm9uZVwiOnMuQV9hYz1cIjBcIjticmVhaztjYXNlXCJjcHVcIjpzLkFfYWM9XCIxXCI7YnJlYWs7Y2FzZVwiYmFuZHdpZHRoXCI6cy5BX2FjPVwiMlwiO2JyZWFrO2Nhc2VcIm90aGVyXCI6cy5BX2FjPVwiM1wifXJldHVybiBzLkFfbHZwcz0keVtpLl9wbGF5ZXI/aS5fcGxheWVyLnZpZGVvRWxlbWVudFN0YXR1czpcInVuaW5pdFwiXS50b1N0cmluZygpLHMuQV9ucj1udWxsPT09KG49ci5uYWNrc0NvdW50KXx8dm9pZCAwPT09bj92b2lkIDA6bi50b1N0cmluZygpLHIuYXZnRW5jb2RlTXMmJihzLkFfYWVtPXIuYXZnRW5jb2RlTXMudG9GaXhlZCgwKS50b1N0cmluZygpKSxrQyhcIlAyUFwiKSYmKHIuYnl0ZXMmJihzLmJ5dGVzU2VudD1yLmJ5dGVzLnRvU3RyaW5nKCkpLFwibnVtYmVyXCI9PXR5cGVvZiByLnBhY2tldHNMb3N0JiYocy5wYWNrZXRzTG9zdD1yLnBhY2tldHNMb3N0LnRvU3RyaW5nKCkpLHIucGFja2V0cyYmKHMucGFja2V0c1NlbnQ9ci5wYWNrZXRzLnRvU3RyaW5nKCkpKSxzfShyWzBdLnNzcmNJZCxlLG4pLHM9aT09PV9JLkxvY2FsVmlkZW9UcmFjaz9mdW5jdGlvbihlLHQsaSl7dmFyIG4scixzLG8sYSxjLGQsbDtjb25zdCBoPXQudmlkZW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZighaClyZXR1cm4gbnVsbDtjb25zdCB1PXtpZDp4VCgxMCxcIlwiKSx0aW1lc3RhbXA6bmV3IERhdGUodC50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCksbWVkaWFUeXBlOlwidmlkZW9cIix0eXBlOlwic3NyY1wiLHNzcmM6aC5zc3JjLnRvU3RyaW5nKCl9LHA9bnVsbCE9PShuPW51bGwhPT0ocj1udWxsPT09KHM9aC5pbnB1dEZyYW1lKXx8dm9pZCAwPT09cz92b2lkIDA6cy5oZWlnaHQpJiZ2b2lkIDAhPT1yP3I6bnVsbD09aT92b2lkIDA6aS5fdmlkZW9IZWlnaHQpJiZ2b2lkIDAhPT1uP246MCxfPW51bGwhPT0obz1udWxsIT09KGE9bnVsbD09PShjPWguaW5wdXRGcmFtZSl8fHZvaWQgMD09PWM/dm9pZCAwOmMud2lkdGgpJiZ2b2lkIDAhPT1hP2E6bnVsbD09aT92b2lkIDA6aS5fdmlkZW9XaWR0aCkmJnZvaWQgMCE9PW8/bzowLEU9bnVsbCE9PShkPW51bGw9PT0obD1oLmlucHV0RnJhbWUpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmZyYW1lUmF0ZSkmJnZvaWQgMCE9PWQ/ZDowO3JldHVybiBwJiYodS5BX2ZoaT1wK1wiXCIpLF8mJih1LkFfZndpPV8rXCJcIiksRSYmKHUuQV9mcmk9RStcIlwiKSx1fShyWzBdLnNzcmNJZCxlLG4pOm51bGw7dCYmQVQoKCgpPT57dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwodGhpcyxTdi5QVUJMSVNIX1NUQVRTLHtzdHJlYW1fdHlwZTppPT09X0kuTG9jYWxWaWRlb0xvd1RyYWNrP1wibG93XCI6XCJoaWdoXCIsc3RhdHM6Y2soY2soe30sdCkscyl9KX0pKTtjb25zdCBvPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e2lkOlwiYndlZm9ydmlkZW9cIix0aW1lc3RhbXA6bmV3IERhdGUoZS50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCksdHlwZTpcIlZpZGVvQndlXCJ9O3JldHVybiBlLmJpdHJhdGUucmV0cmFuc21pdCYmKHQuQV9yYj1lLmJpdHJhdGUucmV0cmFuc21pdC50b1N0cmluZygpKSxlLmJpdHJhdGUudGFyZ2V0RW5jb2RlZCYmKHQuQV90ZWI9ZS5iaXRyYXRlLnRhcmdldEVuY29kZWQudG9TdHJpbmcoKSksdC5BX2FlYj1lLmJpdHJhdGUuYWN0dWFsRW5jb2RlZC50b1N0cmluZygpLHQuQV90Yj1lLmJpdHJhdGUudHJhbnNtaXQudG9TdHJpbmcoKSx2b2lkIDAhPT1lLnNlbmRCYW5kd2lkdGgmJih0LkFfYXNiPWUuc2VuZEJhbmR3aWR0aC50b1N0cmluZygpKSx0fShlKTtvJiZzZXRUaW1lb3V0KCgoKT0+e3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5yZXF1ZXN0VXBsb2FkKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKHRoaXMsU3YuUFVCTElTSF9TVEFUUyx7c3RyZWFtX3R5cGU6aT09PV9JLkxvY2FsVmlkZW9Mb3dUcmFjaz9cImxvd1wiOlwiaGlnaFwiLHN0YXRzOm99KX0pLDFlMyk7YnJlYWt9Y2FzZSBfSS5Mb2NhbEF1ZGlvVHJhY2s6e2NvbnN0IHQ9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49dC5hdWRpb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IHI9e2lkOnhUKDEwLFwiXCIpLHRpbWVzdGFtcDpuZXcgRGF0ZSh0LnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSxtZWRpYVR5cGU6XCJhdWRpb1wiLHR5cGU6XCJzc3JjXCIsc3NyYzpuLnNzcmMudG9TdHJpbmcoKX07cmV0dXJuIHIuQV9hc3RkPWkuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJiFpLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWR8fGkuX21lZGlhU3RyZWFtVHJhY2smJiFpLl9tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ/XCIxXCI6XCIwXCIsbi5pbnB1dExldmVsP3IuQV9haWw9TWF0aC5yb3VuZCgxMDAqbi5pbnB1dExldmVsKS50b1N0cmluZygpOnIuQV9haWw9TWF0aC5yb3VuZCgxMDAqaS5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSkudG9TdHJpbmcoKSxyLkFfYXBpbD1NYXRoLnJvdW5kKDEwMCppLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpKS50b1N0cmluZygpLG4uYWVjUmV0dXJuTG9zcyYmKHIuQV9lY3JsPU1hdGgucm91bmQobi5hZWNSZXR1cm5Mb3NzKS50b1N0cmluZygpKSxuLmFlY1JldHVybkxvc3NFbmhhbmNlbWVudCYmKHIuQV9lY3JsZT1NYXRoLnJvdW5kKG4uYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50KS50b1N0cmluZygpKSxrQyhcIlAyUFwiKSYmKG4uYnl0ZXMmJihyLmJ5dGVzU2VudD1uLmJ5dGVzLnRvU3RyaW5nKCkpLFwibnVtYmVyXCI9PXR5cGVvZiBuLnBhY2tldHNMb3N0JiYoci5wYWNrZXRzTG9zdD1uLnBhY2tldHNMb3N0LnRvU3RyaW5nKCkpLG4ucGFja2V0cyYmKHIucGFja2V0c1NlbnQ9bi5wYWNrZXRzLnRvU3RyaW5nKCkpKSxyfShyWzBdLnNzcmNJZCxlLG4pO3QmJkFUKCgoKT0+e3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5yZXF1ZXN0VXBsb2FkKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKHRoaXMsU3YuUFVCTElTSF9TVEFUUyx7c3RyZWFtX3R5cGU6XCJoaWdoXCIsc3RhdHM6dH0pfSkpO2JyZWFrfX19KSl9dXBsb2FkUmVsYXRlZFVwbGlua1N0YXRzKGUsdCl7dmFyIGk7KChudWxsPT09KGk9dGhpcy5yZXF1ZXN0TG9jYWxNZWRpYSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0aGlzKSl8fFtdKS5maWx0ZXIoKGU9PntsZXRbdF09ZTtyZXR1cm4gdD09PV9JLkxvY2FsVmlkZW9Mb3dUcmFja3x8dD09PV9JLkxvY2FsVmlkZW9UcmFja30pKS5mb3JFYWNoKCh0PT57bGV0W2kse3NzcmNzOm59XT10O2NvbnN0IHI9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPXQudmlkZW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtyZXR1cm4gaT97bWVkaWFUeXBlOlwidmlkZW9cIixpc1ZpZGVvTXV0ZTohMSxmcmFtZVJhdGVJbnB1dDppLmlucHV0RnJhbWUmJmkuaW5wdXRGcmFtZS5mcmFtZVJhdGUudG9TdHJpbmcoKSxmcmFtZVJhdGVTZW50Omkuc2VudEZyYW1lJiZpLnNlbnRGcmFtZS5mcmFtZVJhdGUudG9TdHJpbmcoKSxnb29nUnR0OmkucnR0TXMudG9TdHJpbmcoKSxxcFN1bVBlckZyYW1lOk1hdGguZmxvb3IoaS5xcFN1bVBlckZyYW1lKS50b1N0cmluZygpfTpudWxsfShuWzBdLnNzcmNJZCxlKTtyJiZBVCgoKCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5yZXF1ZXN0VXBsb2FkKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsU3YuUFVCTElTSF9SRUxBVEVEX1NUQVRTLHtzdHJlYW1fdHlwZTppPT09X0kuTG9jYWxWaWRlb0xvd1RyYWNrP1wibG93XCI6XCJoaWdoXCIsc3RhdHM6cn0pfSkpfSkpfXVwbG9hZERlbm9pc2VyU3RhdHMoZSl7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IHM9ZVtyXTtpZihzIGluc3RhbmNlb2YgJEEpe3ZhciB0LGksbjtjb25zdCBlPW51bGw9PT0odD0oaT1zLl9leHRlcm5hbCkuZ2V0RGVub2lzZXJTdGF0cyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbChpKTtyZXR1cm4gdm9pZChlJiYobnVsbD09PShuPXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PW58fG4uY2FsbCh0aGlzLFN2LkRFTk9JU0VSX1NUQVRTLGUpKSl9fX11cGxvYWRFeHRlbnNpb25TdGF0cyhlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7ZVt0XS5nZXRQcm9jZXNzb3JTdGF0cygpLmZvckVhY2goKGU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5yZXF1ZXN0VXBsb2FkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZS50eXBlLGUuc3RhdHMpfSkpfX1zdG9wVXBsb2FkVXBsaW5rU3RhdHMoKXt0aGlzLnVwbG9hZFVucGxpbmtTdGFydGVkJiYodGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZD0hMSx0aGlzLnVwbGlua1N0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsaW5rU3RhdHNVcGxvYWRJbnRlcnZhbCksdGhpcy51cGxpbmtSZWxhdGVkU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxpbmtSZWxhdGVkU3RhdHNVcGxvYWRJbnRlcnZhbCksdGhpcy51cGxpbmtEZW5vaXNlclN0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsaW5rRGVub2lzZXJTdGF0c1VwbG9hZEludGVydmFsKSx0aGlzLnVwbGlua1N0YXRzVXBsb2FkSW50ZXJ2YWw9dm9pZCAwLHRoaXMudXBsaW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWw9dm9pZCAwLHRoaXMudXBsaW5rRGVub2lzZXJTdGF0c1VwbG9hZEludGVydmFsPXZvaWQgMCl9c3RhcnRVcGxvYWREb3dubGlua1N0YXRzKCl7aWYodGhpcy51cGxvYWREb3dubGlua1N0YXJ0ZWQpcmV0dXJuO2xldCBlO3RoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkPSEwLHRoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCk7bGV0IHQ9ITE7dGhpcy5kb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3ZhciBpO2NvbnN0IG49bnVsbD09PShpPXRoaXMucmVxdWVzdFN0YXRzKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHRoaXMsITApO24mJih0aGlzLnVwbG9hZERvd25saW5rU3RhdHMobix0LGUpLGU9biksdD0hdH0pLDNlMyksdGhpcy5kb3dubGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmRvd25saW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMuZG93bmxpbmtSZWxhdGVkU3RhdHNVcGxvYWRJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dmFyIGU7Y29uc3QgdD1udWxsPT09KGU9dGhpcy5yZXF1ZXN0U3RhdHMpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwodGhpcywhMCk7dCYmKHRoaXMudXBsb2FkUmVsYXRlZERvd25saW5rU3RhdHModCx0aGlzLmxhc3RTdGF0cyksdGhpcy5sYXN0U3RhdHM9dCl9KSwxZTMpLHRoaXMuZG93bmxpbmtFeHRlbnNpb25TdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmRvd25saW5rRXh0ZW5zaW9uU3RhdHNVcGxvYWRJbnRlcnZhbCksdGhpcy5kb3dubGlua0V4dGVuc2lvblN0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKHRoaXMpO3QmJnRoaXMudXBsb2FkRG93bmxpbmtFeHRlbnNpb25TdGF0cyh0KX0pLDJlMyl9dXBsb2FkRG93bmxpbmtTdGF0cyhlLHQsaSl7dmFyIG47KChudWxsPT09KG49dGhpcy5yZXF1ZXN0UmVtb3RlTWVkaWEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNhbGwodGhpcykpfHxbXSkuZm9yRWFjaCgobj0+e2xldFtyLHNdPW47aWYocy5oYXMoaEkuVklERU8pJiZyLnZpZGVvVHJhY2spe2NvbnN0IG49ci52aWRlb1RyYWNrP2Z1bmN0aW9uKGUsdCxpLG4scil7Y29uc3Qgcz10LnZpZGVvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYoIXMpcmV0dXJuIG51bGw7Y29uc3Qgbz17aWQ6eFQoMTAsXCJcIiksdGltZXN0YW1wOm5ldyBEYXRlKHQudGltZXN0YW1wKS50b0lTT1N0cmluZygpLG1lZGlhVHlwZTpcInZpZGVvXCIsdHlwZTpcInNzcmNcIixzc3JjOnMuc3NyYy50b1N0cmluZygpfTt2YXIgYSxjO2lmKG8uYnl0ZXNSZWNlaXZlZD1zLmJ5dGVzLnRvU3RyaW5nKCksby5wYWNrZXRzTG9zdD1zLnBhY2tldHNMb3N0LnRvU3RyaW5nKCksby5wYWNrZXRzUmVjZWl2ZWQ9cy5wYWNrZXRzLnRvU3RyaW5nKCkscy5mcmFtZXNSYXRlRmlyZWZveCYmKG8uQV9mcnI9cy5mcmFtZXNSYXRlRmlyZWZveC50b1N0cmluZygpKSxzLnJlY2VpdmVkRnJhbWU/KG8uQV9mcnI9cy5yZWNlaXZlZEZyYW1lLmZyYW1lUmF0ZS50b1N0cmluZygpLG8uQV9maHI9cy5yZWNlaXZlZEZyYW1lLmhlaWdodC50b1N0cmluZygpLG8uQV9md3I9cy5yZWNlaXZlZEZyYW1lLndpZHRoLnRvU3RyaW5nKCkpOihvLkFfZmhyPW51bGw9PT0oYT1uLl92aWRlb0hlaWdodCl8fHZvaWQgMD09PWE/dm9pZCAwOmEudG9TdHJpbmcoKSxvLkFfZndyPW51bGw9PT0oYz1uLl92aWRlb1dpZHRoKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy50b1N0cmluZygpKSxvLkFfZnJkPXMuZGVjb2RlRnJhbWVSYXRlLnRvU3RyaW5nKCkscy5vdXRwdXRGcmFtZSYmKG8uQV9mcm89cy5vdXRwdXRGcmFtZS5mcmFtZVJhdGUudG9TdHJpbmcoKSksdm9pZCAwIT09cy5qaXR0ZXJCdWZmZXJNcyYmKG8uQV9qYm09TWF0aC5mbG9vcihzLmppdHRlckJ1ZmZlck1zKS50b1N0cmluZygpKSx2b2lkIDAhPT1zLmN1cnJlbnREZWxheU1zJiYoby5BX2NkbT1NYXRoLmZsb29yKHMuY3VycmVudERlbGF5TXMpLnRvU3RyaW5nKCkpLG8uQV9mcz1zLmZpcnNDb3VudC50b1N0cmluZygpLG8uQV9ucz1zLm5hY2tzQ291bnQudG9TdHJpbmcoKSxvLkFfcHM9cy5wbGlzQ291bnQudG9TdHJpbmcoKSxuJiYoby5BX3ZydGQ9bi5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkJiZuLl9tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ/XCIwXCI6XCIxXCIpLG4uX3BsYXllciYmbi5fcGxheWVyLmZyZWV6ZVRpbWVDb3VudGVyTGlzdC5sZW5ndGg+MCYmKG8uQV92cmZ0PU1hdGgucm91bmQobi5fcGxheWVyLmZyZWV6ZVRpbWVDb3VudGVyTGlzdC5zcGxpY2UoMCwxKVswXSkudG9TdHJpbmcoKSksciYmbi5fcGxheWVyJiZcInZpc2libGVcIj09PWRiLnZpc2liaWxpdHkpe2NvbnN0IGU9TWF0aC5taW4oNmUzLG4uX3BsYXllci5yZW5kZXJGcmVlemVBY2NUaW1lKTtvLkFfdnJyZnQ9TWF0aC5yb3VuZChlKS50b1N0cmluZygpLG4uX3BsYXllci5yZW5kZXJGcmVlemVBY2NUaW1lPU1hdGgubWF4KDAsbi5fcGxheWVyLnJlbmRlckZyZWV6ZUFjY1RpbWUtZSl9aWYoby5BX3J2cHM9JHlbbi5fcGxheWVyP24uX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXM6XCJ1bmluaXRcIl0udG9TdHJpbmcoKSxpKXtjb25zdCB0PWkudmlkZW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZih0JiZ2b2lkIDAhPT1zLnRvdGFsSW50ZXJGcmFtZURlbGF5JiZ2b2lkIDAhPT1zLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheSYmdm9pZCAwIT09dC50b3RhbEludGVyRnJhbWVEZWxheSYmdm9pZCAwIT09dC50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXkpe2NvbnN0IGU9cy50b3RhbEludGVyRnJhbWVEZWxheS10LnRvdGFsSW50ZXJGcmFtZURlbGF5LGk9cy50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXktdC50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXksbj1zLmZyYW1lc0RlY29kZUNvdW50LXQuZnJhbWVzRGVjb2RlQ291bnQscj1lL24qMWUzLGE9TWF0aC5yb3VuZCgxZTMqTWF0aC5zcXJ0KChpLU1hdGgucG93KGUsMikvbikvbikpOyFpc05hTihhKSYmcithPk1hdGgubWF4KDMqcixyKzE1MCkmJihvLkFfaWZkc2Q9YS50b1N0cmluZygpKX19cmV0dXJuIG99KHIuX3ZpZGVvU1NSQyxlLGksci52aWRlb1RyYWNrLHQpOnZvaWQgMDtuJiZBVCgoKCk9Pnt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0aGlzLFN2LlNVQlNDUklCRV9TVEFUUyx7c3RyZWFtX2lkOnIudWlkLHN0YXRzOm59KX0pKX1pZihzLmhhcyhoSS5BVURJTykmJnIuYXVkaW9UcmFjayl7Y29uc3QgdD1yLmF1ZGlvVHJhY2s/ZnVuY3Rpb24oZSx0LGksbil7Y29uc3Qgcj10LmF1ZGlvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3Qgcz17aWQ6eFQoMTAsXCJcIiksdGltZXN0YW1wOm5ldyBEYXRlKHQudGltZXN0YW1wKS50b0lTT1N0cmluZygpLG1lZGlhVHlwZTpcImF1ZGlvXCIsdHlwZTpcInNzcmNcIixzc3JjOnIuc3NyYy50b1N0cmluZygpfTtpZihzLmJ5dGVzUmVjZWl2ZWQ9ci5ieXRlcy50b1N0cmluZygpLHMucGFja2V0c0xvc3Q9ci5wYWNrZXRzTG9zdC50b1N0cmluZygpLHMucGFja2V0c1JlY2VpdmVkPXIucGFja2V0cy50b1N0cmluZygpLHIub3V0cHV0TGV2ZWw/cy5BX2FvbD1NYXRoLnJvdW5kKDEwMCpyLm91dHB1dExldmVsKS50b1N0cmluZygpOnMuQV9hb2w9TWF0aC5yb3VuZCgxMDAqbi5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSkudG9TdHJpbmcoKSxzLkFfYXBvbD1NYXRoLnJvdW5kKDEwMCpuLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpKS50b1N0cmluZygpLG4mJihzLkFfYXJ0ZD1uLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQmJm4uX21lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD9cIjBcIjpcIjFcIikscy5BX2pyPXIuaml0dGVyTXMudG9TdHJpbmcoKSxzLkFfamJtPU1hdGguZmxvb3Ioci5qaXR0ZXJCdWZmZXJNcykudG9TdHJpbmcoKSxzLkFfY2RtPU1hdGguZmxvb3Ioci5qaXR0ZXJCdWZmZXJNcykudG9TdHJpbmcoKSxzLkFfcmFwcz0keVt4QS5nZXRQbGF5ZXJTdGF0ZShuLmdldFRyYWNrSWQoKSldLnRvU3RyaW5nKCksaSl7Y29uc3QgdD1pLmF1ZGlvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYodCl7Y29uc3QgZT1yLmNvbmNlYWxlZFNhbXBsZXMtdC5jb25jZWFsZWRTYW1wbGVzO2U+MCYmKHMuQV9jcz1NYXRoLnJvdW5kKGUpLnRvU3RyaW5nKCkpfX1yZXR1cm4gc30oci5fYXVkaW9TU1JDLGUsaSxyLmF1ZGlvVHJhY2spOnZvaWQgMDt0JiZBVCgoKCk9Pnt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0aGlzLFN2LlNVQlNDUklCRV9TVEFUUyx7c3RyZWFtX2lkOnIudWlkLHN0YXRzOnR9KX0pKX19KSl9dXBsb2FkUmVsYXRlZERvd25saW5rU3RhdHMoZSx0KXt2YXIgaTsoKG51bGw9PT0oaT10aGlzLnJlcXVlc3RSZW1vdGVNZWRpYSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0aGlzKSl8fFtdKS5mb3JFYWNoKChpPT57bGV0W24scl09aTtpZihyLmhhcyhoSS5WSURFTykmJm4udmlkZW9UcmFjayl7dmFyIHM7Y29uc3QgaT0hMD09PShuLl92aWRlb1NTUkMmJihudWxsPT09KHM9dGhpcy5yZXF1ZXN0VmlkZW9Jc1JlYWR5KXx8dm9pZCAwPT09cz92b2lkIDA6cy5jYWxsKHRoaXMsbi5fdmlkZW9TU1JDKSl8fCExKSxyPWZ1bmN0aW9uKGUsdCxpLG4scixzKXtjb25zdCBvPWkudmlkZW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUpKSxhPXI/ci52aWRlb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZSkpOnZvaWQgMDtpZighbylyZXR1cm4gbnVsbDtjb25zdCBjPWhELmlzUmVtb3RlVmlkZW9GcmVlemUocyxvLGEpJiZ0LGQ9e21lZGlhVHlwZTpcInZpZGVvXCIsaXNWaWRlb011dGU6ITEscGVlcklkOm4sZnJhbWVSYXRlUmVjZWl2ZWQ6by5yZWNlaXZlZEZyYW1lJiZvLnJlY2VpdmVkRnJhbWUuZnJhbWVSYXRlLnRvU3RyaW5nKCksZnJhbWVSYXRlRGVjb2RlZDpvLmRlY29kZWRGcmFtZSYmby5kZWNvZGVkRnJhbWUuZnJhbWVSYXRlLnRvU3RyaW5nKCksaXNGcmVlemU6YyxieXRlc1JlY2VpdmVkOm8uYnl0ZXMudG9TdHJpbmcoKSxwYWNrZXRzUmVjZWl2ZWQ6by5wYWNrZXRzLnRvU3RyaW5nKCkscGFja2V0c0xvc3Q6by5wYWNrZXRzTG9zdC50b1N0cmluZygpLHFwU3VtUGVyRnJhbWU6TWF0aC5mbG9vcihvLnFwU3VtUGVyRnJhbWUpLnRvU3RyaW5nKCl9O3JldHVybiBvLmZyYW1lc1JhdGVGaXJlZm94JiYoZC5mcmFtZVJhdGVEZWNvZGVkPW8uZnJhbWVzUmF0ZUZpcmVmb3gudG9TdHJpbmcoKSxkLmZyYW1lUmF0ZVJlY2VpdmVkPW8uZnJhbWVzUmF0ZUZpcmVmb3gudG9TdHJpbmcoKSksZH0obi5fdmlkZW9TU1JDLGksZSxuLnVpZCx0LG4udmlkZW9UcmFjayk7ciYmQVQoKCgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLFN2LlNVQlNDUklCRV9SRUxBVEVEX1NUQVRTLHtzdHJlYW1faWQ6bi51aWQsc3RhdHM6cn0pfSkpfWlmKHIuaGFzKGhJLkFVRElPKSYmbi5hdWRpb1RyYWNrKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9dC5hdWRpb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFyKXJldHVybiBudWxsO2NvbnN0IHM9aEQuaXNSZW1vdGVBdWRpb0ZyZWV6ZShuKTtyZXR1cm57bWVkaWFUeXBlOlwiYXVkaW9cIixpc0F1ZGlvTXV0ZTohMSxwZWVySWQ6aSxnb29nSml0dGVyUmVjZWl2ZWQ6ci5qaXR0ZXJNcy50b1N0cmluZygpLGlzRnJlZXplOnMsYnl0ZXNSZWNlaXZlZDpyLmJ5dGVzLnRvU3RyaW5nKCkscGFja2V0c1JlY2VpdmVkOnIucGFja2V0cy50b1N0cmluZygpLHBhY2tldHNMb3N0OnIucGFja2V0c0xvc3QudG9TdHJpbmcoKSxmcmFtZVJlY2VpdmVkOnIucmVjZWl2ZWRGcmFtZXMudG9TdHJpbmcoKSxmcmFtZURyb3BwZWQ6ci5kcm9wcGVkRnJhbWVzLnRvU3RyaW5nKCl9fShuLl9hdWRpb1NTUkMsZSxuLnVpZCxuLmF1ZGlvVHJhY2spO3QmJkFUKCgoKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyxTdi5TVUJTQ1JJQkVfUkVMQVRFRF9TVEFUUyx7c3RyZWFtX2lkOm4udWlkLHN0YXRzOnR9KX0pKX19KSl9c3RvcFVwbG9hZERvd25saW5rU3RhdHMoKXt0aGlzLnVwbG9hZERvd25saW5rU3RhcnRlZCYmKHRoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkPSExLHRoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCksdGhpcy5kb3dubGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmRvd25saW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsPXZvaWQgMCx0aGlzLmRvd25saW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWw9dm9pZCAwKX1zdG9wVXBsb2FkVHJhbnNwb3J0U3RhdHMoKXt0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQmJih0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQ9ITEsdGhpcy50cmFuc3BvcnRTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRyYW5zcG9ydFN0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMudHJhbnNwb3J0U3RhdHNVcGxvYWRJbnRlcnZhbD12b2lkIDApfXN0b3BVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCl7dGhpcy51cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWQmJih0aGlzLnVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZD0hMSx0aGlzLmV4dGVuc2lvblVzYWdlU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5leHRlbnNpb25Vc2FnZVN0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMuZXh0ZW5zaW9uVXNhZ2VTdGF0c1VwbG9hZEludGVydmFsPXZvaWQgMCl9dXBsb2FkRG93bmxpbmtFeHRlbnNpb25TdGF0cyhlKXtlLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO2lmKGkuaGFzKGhJLlZJREVPKSYmdC52aWRlb1RyYWNrKXt0LnZpZGVvVHJhY2suZ2V0UHJvY2Vzc29yU3RhdHMoKS5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUudHlwZSxlLnN0YXRzKX0pKX1pZihpLmhhcyhoSS5BVURJTykmJnQuYXVkaW9UcmFjayl7dC5hdWRpb1RyYWNrLmdldFByb2Nlc3NvclN0YXRzKCkuZm9yRWFjaCgoZT0+e3ZhciB0O251bGw9PT0odD10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlLnR5cGUsZS5zdGF0cyl9KSl9fSkpfX1mdW5jdGlvbiBsayhlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gaGsoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/bGsoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6bGsoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gdWsoZSl7dmFyIHQsaSxuLHI9Mjtmb3IoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmKGk9V1Asbj1TeW1ib2wuaXRlcmF0b3IpO3ItLTspe2lmKGkmJm51bGwhPSh0PWVbaV0pKXJldHVybiB0LmNhbGwoZSk7aWYobiYmbnVsbCE9KHQ9ZVtuXSkpcmV0dXJuIG5ldyBwayh0LmNhbGwoZSkpO2k9XCJAQGFzeW5jSXRlcmF0b3JcIixuPVwiQEBpdGVyYXRvclwifXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgaXMgbm90IGFzeW5jIGl0ZXJhYmxlXCIpfWZ1bmN0aW9uIHBrKGUpe2Z1bmN0aW9uIHQoZSl7aWYoT2JqZWN0KGUpIT09ZSlyZXR1cm4gdGcucmVqZWN0KG5ldyBUeXBlRXJyb3IoZStcIiBpcyBub3QgYW4gb2JqZWN0LlwiKSk7dmFyIHQ9ZS5kb25lO3JldHVybiB0Zy5yZXNvbHZlKGUudmFsdWUpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybnt2YWx1ZTplLGRvbmU6dH19KSl9cmV0dXJuIHBrPWZ1bmN0aW9uKGUpe3RoaXMucz1lLHRoaXMubj1lLm5leHR9LHBrLnByb3RvdHlwZT17czpudWxsLG46bnVsbCxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcy5uLmFwcGx5KHRoaXMucyxhcmd1bWVudHMpKX0scmV0dXJuOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIHZvaWQgMD09PWk/dGcucmVzb2x2ZSh7dmFsdWU6ZSxkb25lOiEwfSk6dChpLmFwcGx5KHRoaXMucyxhcmd1bWVudHMpKX0sdGhyb3c6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5zLnJldHVybjtyZXR1cm4gdm9pZCAwPT09aT90Zy5yZWplY3QoZSk6dChpLmFwcGx5KHRoaXMucyxhcmd1bWVudHMpKX19LG5ldyBwayhlKX1jbGFzcyBfayBleHRlbmRzIGlUe2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7Y29uc3QgdD10aGlzLl9zdGF0ZTt0aGlzLl9zdGF0ZT1lLHRoaXMuZW1pdChtSS5TdGF0ZUNoYW5nZSx0LHRoaXMuX3N0YXRlKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksbnUodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxudSh0aGlzLFwic3RhdHNVcGxvYWRlclwiLHZvaWQgMCksbnUodGhpcyxcImNvbm5lY3Rpb25cIix2b2lkIDApLG51KHRoaXMsXCJsb2NhbFRyYWNrTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcInJlbW90ZVVzZXJNYXBcIixuZXcgTWFwKSxudSh0aGlzLFwibG9jYWxEYXRhQ2hhbm5lbHNcIixbXSksbnUodGhpcyxcInJlbW90ZURhdGFDaGFubmVsTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcInBlbmRpbmdMb2NhbFRyYWNrc1wiLFtdKSxudSh0aGlzLFwicGVuZGluZ1JlbW90ZVRyYWNrc1wiLFtdKSxudSh0aGlzLFwicGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzXCIsW10pLG51KHRoaXMsXCJwZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzXCIsW10pLG51KHRoaXMsXCJzdGF0c0NvbGxlY3RvclwiLHZvaWQgMCksbnUodGhpcyxcImlzUGxhbkJcIiwhMSksbnUodGhpcyxcInNob3VsZEZvcndhcmRQMlBDcmVhdGlvblwiLHZvaWQgMCksbnUodGhpcyxcImljZUZhaWxlZENvdW50XCIsMCksbnUodGhpcyxcImR0bHNGYWlsZWRDb3VudFwiLDApLG51KHRoaXMsXCJtdXRleFwiLG5ldyBZVChcIlAyUENoYW5uZWwtbXV0ZXhcIikpLG51KHRoaXMsXCJfc3RhdGVcIixFSS5EaXNjb25uZWN0ZWQpLG51KHRoaXMsXCJfcGNTdGF0c1VwbG9hZFR5cGVcIixrQyhcIk5FV19JQ0VfUkVTVEFSVFwiKT9wSS5GSVJTVF9DT05ORUNUSU9OOnBJLk9MRF9GSVJTVF9DT05ORUNUSU9OKSxudSh0aGlzLFwiX2lzSW5SZXN0YXJ0SWNlXCIsITEpLG51KHRoaXMsXCJfaXNTdGFydFJlc3RhcnRJY2VcIiwhMSksbnUodGhpcyxcIl9yZXN0YXJ0U3RhdGVzXCIsW1wiZGlzY29ubmVjdGVkXCIsXCJmYWlsZWRcIl0pLG51KHRoaXMsXCJfcmVzdGFydFRpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwiX2lzRmlyc3RDb25uZWN0ZWRcIiwhMCksbnUodGhpcyxcImhhbmRsZU11dGVMb2NhbFRyYWNrXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwuaGFuZGxlTXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaShuZXcgVmcoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsLmhhbmRsZU11dGVMb2NhbFRyYWNrIGJlZm9yZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSk7Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVNdXRlZFRyYWNrcyhlKTtpZigwPT09ci5sZW5ndGgpcmV0dXJuIHZvaWQgdCgpO2NvbnN0IHM9ci5maW5kKChlPT5cInZpZGVvTG93VHJhY2tcIj09PWVbMF0pKTtpZihzKXtzWzFdLnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKX1hd2FpdCB0aGlzLmNvbm5lY3Rpb24ubXV0ZUxvY2FsKHIubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpO2NvbnN0IG89dGhpcy5jcmVhdGVNdXRlTWVzc2FnZShyKTthd2FpdCBnVCh0aGlzLG1JLlJlcXVlc3RNdXRlTG9jYWwsbyksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLG51KHRoaXMsXCJoYW5kbGVVbm11dGVMb2NhbFRyYWNrXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwuaGFuZGxlVW5tdXRlTG9jYWxUcmFja1wiKTt0cnl7aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PUVJLkNvbm5lY3RlZClyZXR1cm4gdm9pZCBpKG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBjYWxsIFAyUENoYW5uZWwuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayBiZWZvcmUgY29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIikpO2NvbnN0IHI9dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhlKTtpZigwPT09ci5sZW5ndGgpcmV0dXJuIHZvaWQgdCgpO2NvbnN0IHM9ci5maW5kKChlPT5cInZpZGVvTG93VHJhY2tcIj09PWVbMF0pKTtpZihzKXtjb25zdCB0PXNbMV07aWYodC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksIWtDKFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJl9BKCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyl7Y29uc3QgaT1lLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk7dC50cmFjay5fbWVkaWFTdHJlYW1UcmFjaz1pLHQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9aX1lbHNle2NvbnN0IGk9S0woZSxTVCh0aGlzLG1JLlJlcXVlc3RMb3dTdHJlYW1QYXJhbWV0ZXIpKTt0LnRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrPWksdC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1pfWF3YWl0IG5ldyB0ZygoKGUsaSk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayh0LnRyYWNrLGUsaSwhMCl9KSl9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnVubXV0ZUxvY2FsKHIubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpO2NvbnN0IG89dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKHIpO2F3YWl0IGdUKHRoaXMsbUkuUmVxdWVzdFVubXV0ZUxvY2FsLG8pLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxudSh0aGlzLFwiaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwuaGFuZGxlU2V0VmlkZW9FbmNvZGVyXCIpO3RyeXtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5jb25uZWN0aW9ufHwhaXx8aS50cmFjayE9PWV8fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgdCgpO2NvbnN0e2lkOnIsdHJhY2s6c309aTthd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlU2VuZFBhcmFtZXRlcnMocixzKSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyhyLHMpLHRoaXMuZW1pdChtSS5VcGRhdGVWaWRlb0VuY29kZXIscyksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLG51KHRoaXMsXCJoYW5kbGVTZXRPcHRpbWl6YXRpb25Nb2RlXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwuaGFuZGxlU2V0T3B0aW1pemF0aW9uTW9kZVwiKTt0cnl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsVmlkZW9UcmFjayk7aWYoIXRoaXMuY29ubmVjdGlvbnx8IWl8fGkudHJhY2shPT1lfHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXJldHVybjtjb25zdHtpZDpyLHRyYWNrOnN9PWk7YXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKHIscyksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLG51KHRoaXMsXCJoYW5kbGVSZXBsYWNlVHJhY2tcIiwoYXN5bmMoZSx0LGksbik9PntsZXQgcjtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbCBoYW5kbGVSZXBsYWNlVHJhY2sgZm9yIFt0cmFjay1pZC1cIikuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXVwiKSksXCJib29sZWFuXCI9PXR5cGVvZiBuJiZufHwocj1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuaGFuZGxlUmVwbGFjZVRyYWNrXCIpKTt0cnl7dmFyIHM7Y29uc3QgaT1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQoKHQ9PntsZXRbLHt0cmFjazppfV09dDtyZXR1cm4gZT09PWl9KSk7aWYoIXRoaXMuY29ubmVjdGlvbnx8IWl8fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgdCgpO2lmKGF3YWl0KG51bGw9PT0ocz10aGlzLmNvbm5lY3Rpb24pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnJlcGxhY2VUcmFjayhlLGlbMV0uaWQpKSx0aGlzLmlzUGxhbkIpe2NvbnN0IHQ9aVsxXTt0LmlkPWUuX21lZGlhU3RyZWFtVHJhY2suaWQsdGhpcy5sb2NhbFRyYWNrTWFwLnNldChpWzBdLHQpfWlmKGlbMF09PT1fSS5Mb2NhbFZpZGVvVHJhY2smJiFrQyhcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZfQSgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKHQpe2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO3QudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHQudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9aSx0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWksYXdhaXQgbmV3IHRnKCgoZSxpKT0+e3RoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKHQudHJhY2ssZSxpLCEwKX0pKX19dCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXt2YXIgbztudWxsPT09KG89cil8fHZvaWQgMD09PW98fG8oKX19KSksbnUodGhpcyxcImhhbmRsZUdldFJUQ1N0YXRzXCIsKGU9PntlKHRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0UlRDU3RhdHMoKSl9KSksbnUodGhpcyxcImhhbmRsZUdldExvY2FsVmlkZW9TdGF0c1wiLChlPT57ZSh0aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9UcmFja1N0YXRzKCkpfSkpLG51KHRoaXMsXCJoYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHNcIiwoZT0+e2UodGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbEF1ZGlvVHJhY2tTdGF0cygpKX0pKSxudSh0aGlzLFwiaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0c1wiLChlPT50aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJlbW90ZVZpZGVvVHJhY2tTdGF0cyhlLnVpZClbZS51aWRdKSksbnUodGhpcyxcImhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHNcIiwoZT0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMoZS51aWQpW2UudWlkXSkpLHRoaXMuc3RvcmU9ZSx0aGlzLnN0YXRzQ29sbGVjdG9yPXQsdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRQMlBDaGFubmVsKHRoaXMpLHRoaXMuc3RhdHNVcGxvYWRlcj1uZXcgZGssdGhpcy5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpLHRoaXMuaXNQbGFuQj0hX0EoKS5zdXBwb3J0VW5pZmllZFBsYW58fGtDKFwiQ0hST01FX0ZPUkNFX1BMQU5fQlwiKSYma2coKSx0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbj1rQyhcIkZPUldBUkRfUDJQX0NSRUFUSU9OXCIpJiZfQSgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24mJmZ1bmN0aW9uKCl7Y29uc3QgZT1fZygpO3JldHVybiBlPT09YWcuQU5EUk9JRHx8ZT09PWFnLklPU3x8ZT09PWFnLkhBUk1PTllfT1N9KCksdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249dGhpcy5zdG9yZS51c2VEYXRhQ2hhbm5lbD9uZXcgc2soe30sdGhpcy5zdG9yZSk6dGhpcy5pc1BsYW5CP25ldyBNTCh7fSx0aGlzLnN0b3JlKTpuZXcgV0woe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKX1hc3luYyBzdGFydFAyUENvbm5lY3Rpb24oZSx0KXt2YXIgaTt0aGlzLnN0YXRlPUVJLk5ldztjb25zdCBuPXRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiZcImNsb3NlZFwiPT09KG51bGw9PT0oaT10aGlzLmNvbm5lY3Rpb24pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnBlZXJDb25uZWN0aW9uU3RhdGUpO2lmKHRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYhbnx8KG4mJnRoaXMuY29ubmVjdGlvbiYmKEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwuc3RhcnRQMlBDb25uZWN0aW9uIEZvcndhcmRQMlAgY2xvc2VkLlwiKSksdGhpcy5jb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbikpLHRoaXMuY29ubmVjdGlvbj10aGlzLnN0b3JlLnVzZURhdGFDaGFubmVsP25ldyBzayhlLHRoaXMuc3RvcmUpOnRoaXMuaXNQbGFuQj9uZXcgTUwoZSx0aGlzLnN0b3JlKTpuZXcgV0woZSx0aGlzLnN0b3JlKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbikpLCF0aGlzLmNvbm5lY3Rpb24pdGhyb3cgbmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbC5zdGFydENvbm5lY3Rpb24gYmVmb3JlIFAyUENvbm5lY3Rpb24gaW5pdGlhbGl6YXRpb24gLlwiKTtyZXR1cm4gdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGU9a0MoXCJORVdfSUNFX1JFU1RBUlRcIik/cEkuRklSU1RfQ09OTkVDVElPTjpwSS5PTERfRklSU1RfQ09OTkVDVElPTix0aGlzLl9pc0ZpcnN0Q29ubmVjdGVkPSEwLHRoaXMuX2lzSW5SZXN0YXJ0SWNlPSExLHRoaXMuX2lzU3RhcnRSZXN0YXJ0SWNlPSExLHRoaXMuY29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGUpLHRoaXMuY29ubmVjdGlvbi5lc3RhYmxpc2hQcm9taXNlfWFzeW5jIGNvbm5lY3QoZSx0LGksbixyLHMpe2lmKCF0aGlzLmNvbm5lY3Rpb24pdGhyb3cgbmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbC5jb25uZWN0IGJlZm9yZSBQMlBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbiAuXCIpO3RoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIHNrP3RoaXMuY29ubmVjdGlvbi51cGRhdGVSZW1vdGVDb25uZWN0KG4pOih0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uU3RhcnQoKSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24uY29ubmVjdChlLHQsaSxuLHIscyksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdGF0ZT1FSS5Db25uZWN0ZWQpfXVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlKXtjb25zdCB0PUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57dmFyIHQ7bGV0W2ldPWU7cmV0dXJuIFByKHQ9W19JLkxvY2FsVmlkZW9Mb3dUcmFjayxfSS5Mb2NhbFZpZGVvVHJhY2tdKS5jYWxsKHQsaSl9KSkubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSk7aWYodGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2YgV0wpe2lmKCFQcihlKS5jYWxsKGUsdGhpcy5zdG9yZS5jb2RlYykpe2NvbnN0IHQ9W1widnA4XCIsXCJoMjY0XCJdLmZpbmQoKHQ9PlByKGUpLmNhbGwoZSx0KSkpO3QmJih0aGlzLnN0b3JlLmNvZGVjPXQsS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCIgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXSBkZWZhdWx0IGNvZGVjIGlzIG5vdCBhdmFpbGFibGUsIGhlbmNlIHRoZSBmYWxsYmFjayB0byBcIikuY29uY2F0KHQsXCIuXCIpKSl9dGhpcy5jb25uZWN0aW9uLnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyh0LGUpfX1hc3luYyBwcmVDb25uZWN0KGUsdCxpLG4scixzKXtpZighdGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwuY29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24gLlwiKTt0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uU3RhcnQoKTtjb25zdCBvPWF3YWl0IHRoaXMuY29ubmVjdGlvbi5jb25uZWN0KGUsdCxpLG4scixzKTtyZXR1cm4gdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdGF0ZT1FSS5Db25uZWN0ZWQsb31nZXRFc3RhYmxpc2hQYXJhbXMoKXtpZih0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBzaylyZXR1cm4gdGhpcy5jb25uZWN0aW9uLmdldFAyUENvbm5lY3Rpb25QYXJhbXMoKTt0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IERhdGFDaGFubmVsQ29ubmVjdGlvbiBuZWVkcyB0byBvYnRhaW4gZXN0YWJsaXNoUGFyYW1zXCIpfWFzeW5jIHB1Ymxpc2hEYXRhQ2hhbm5lbChlKXtpZighdGhpcy5jb25uZWN0aW9uKXtpZih0aGlzLnN0YXRlPT09RUkuRGlzY29ubmVjdGVkKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiUGVlckNvbm5lY3Rpb24gYWxyZWFkeSBkaXNjb25uZWN0ZWQuXCIpO2NvbnN0IHQ9ZS5maWx0ZXIoKGU9Pi0xIT09dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMuZmluZEluZGV4KCh0PT50LmlkPT09ZS5pZCkpKSk7cmV0dXJuIHZvaWQodGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHM9dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMuY29uY2F0KHQpKX1jb25zdCB0PXRoaXMuZmlsdGVyVG9iZVB1Ymxpc2hlZERhdGFDaGFubmVscyhlKTswIT09dC5sZW5ndGgmJih0LmZvckVhY2goKGU9Pntjb25zdCB0PURhdGUubm93KCk7dGhpcy5zdG9yZS5wdWJsaXNoKGUuaWQudG9TdHJpbmcoKSxcImRhdGFjaGFubmVsXCIsdCl9KSksYXdhaXQgdGhpcy5jb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyh0aGlzLnN0b3JlLnVpZCx0KSx0LmZvckVhY2goKGU9Pnt0aGlzLmxvY2FsRGF0YUNoYW5uZWxzLnB1c2goZSk7Y29uc3QgdD1EYXRlLm5vdygpO3RoaXMuc3RvcmUucHVibGlzaChlLmlkK1wiXCIsXCJkYXRhY2hhbm5lbFwiLHZvaWQgMCx0KX0pKSl9cHVibGlzaChlLHQsaSl7dmFyIG49dGhpcztyZXR1cm4gQlAoKGZ1bmN0aW9uKigpe2NvbnN0IHI9eWllbGQgalAobi5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnB1Ymxpc2hcIikpO3RyeXtpZighbi5jb25uZWN0aW9ufHxuLnN0YXRlIT09RUkuQ29ubmVjdGVkKXtpZihuLnN0YXRlPT09RUkuRGlzY29ubmVjdGVkKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiUGVlckNvbm5lY3Rpb24gYWxyZWFkeSBkaXNjb25uZWN0ZWQuXCIpO24udGhyb3dJZlRyYWNrVHlwZU5vdE1hdGNoKGUpO2NvbnN0IHQ9ZS5maWx0ZXIoKGU9Pi0xPT09bi5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihlKSkpO3JldHVybiB2b2lkKG4ucGVuZGluZ0xvY2FsVHJhY2tzPW4ucGVuZGluZ0xvY2FsVHJhY2tzLmNvbmNhdCh0KSl9bi5zdG9yZS5wdWJJZD1uLnN0b3JlLnB1YklkKzEsY0QubWFya1B1Ymxpc2hTdGFydChuLnN0b3JlLmNsaWVudElkLG4uc3RvcmUucHViSWQpO2NvbnN0IHM9bi5maWx0ZXJUb2JlUHVibGlzaGVkVHJhY2tzKGUsdCxpKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIHZvaWQoeWllbGQgalAobi50cnlUb1VubXV0ZUF1ZGlvKGUpKSk7eWllbGQqR1AodWsobi5kb1B1Ymxpc2gobi5jb25uZWN0aW9uLHMpKSl9ZmluYWxseXtyKCl9fSkpKCl9ZG9QdWJsaXNoKGUsdCl7dmFyIGk9dGhpcztyZXR1cm4gQlAoKGZ1bmN0aW9uKigpe3QuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6bn09ZTtjb25zdCByPURhdGUubm93KCk7aS5zdG9yZS5wdWJsaXNoKHQuZ2V0VHJhY2tJZCgpLG49PT1fSS5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIixyKX0pKSxpLmJpbmRMb2NhbFRyYWNrRXZlbnRzKHQpO2NvbnN0IG49eWllbGQgalAoZS5zZW5kKHQubWFwKChlPT57bGV0e3RyYWNrOnR9PWU7cmV0dXJuIHR9KSksaS5zdG9yZS5jb2RlYyxpLnN0b3JlLmF1ZGlvQ29kZWMpKSxyPSh5aWVsZCBqUChuLm5leHQoKSkpLnZhbHVlLHM9aS5jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2UodCxyKTtsZXQgbzt0cnl7bz15aWVsZCBzfWNhdGNoKGUpe3Rocm93IG4udGhyb3coZSksKG51bGw9PWU/dm9pZCAwOmUuY29kZSk9PT14Zy5XU19BQk9SVCYmdC5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnR9PWU7LTE9PT1pLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKHQpJiZpLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKHQpfSkpLGkudW5iaW5kTG9jYWxUcmFja0V2ZW50cyh0KSxlfWNvbnN0IGE9aS5tYXBQdWJSZXNUb1JlbW90ZUNvbmZpZyhzLG8pLGM9KHlpZWxkIGpQKG4ubmV4dChhKSkpLnZhbHVlO3QuZm9yRWFjaCgoZT0+e2xldHt0eXBlOnR9PWU7aS5zdGF0c0NvbGxlY3Rvci5hZGRMb2NhbFN0YXRzKHQpfSkpLGkuYXNzaWduTG9jYWxUcmFja3ModCxjKSxpLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRVcGxpbmtTdGF0cygpLHQuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6bn09ZTtjb25zdCByPURhdGUubm93KCk7aS5zdG9yZS5wdWJsaXNoKHQuZ2V0VHJhY2tJZCgpLG49PT1fSS5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIix2b2lkIDAscil9KSl9KSkoKX1hc3luYyB1cGRhdGVWaWRlb1N0cmVhbVBhcmFtZXRlcihlLHQpe2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh0KTtpZighaSlyZXR1cm47aWYoIShpLnRyYWNrIGluc3RhbmNlb2YgU2IpKXJldHVybiBLQy53YXJuKFwiW3VwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyXTogdHJhY2sgaXMgbm90IGFuIGluc3RhbmNlIG9mIExvY2FsVmlkZW9UcmFja1wiKTtpZighKHRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIFdMfHx0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBNTCkpcmV0dXJuIEtDLndhcm4oXCJbdXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXJdOiBjb25uZWN0aW9uIGlzIG5vdCBQMlBDb25uZWN0aW9uIG9yIFAyUENvbm5lY3Rpb25QbGFuQlwiKTtjb25zdHt0cmFjazpufT1pLHI9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPXt9O3JldHVybiBlLmhlaWdodCYmZS53aWR0aCYmKGkuc2NhbGVSZXNvbHV0aW9uRG93bkJ5PUNEKGUsdCkpLGkubWF4RnJhbWVyYXRlPWUuZnJhbWVyYXRlP21EKGUuZnJhbWVyYXRlKTp2b2lkIDAsaS5tYXhCaXRyYXRlPWUuYml0cmF0ZT8xZTMqZS5iaXRyYXRlOnZvaWQgMCxpfShlLG4pO2lmKG4uX2VuY29kZXJDb25maWd8fChuLl9lbmNvZGVyQ29uZmlnPXt9KSx0IT09X0kuTG9jYWxWaWRlb0xvd1RyYWNrfHwha0MoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmX0EoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKW51bGwhPXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5JiYobi5fZW5jb2RlckNvbmZpZy5zY2FsZVJlc29sdXRpb25Eb3duQnk9ci5zY2FsZVJlc29sdXRpb25Eb3duQnkpO2Vsc2V7Y29uc3QgdD1uLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrO2lmKCF0LmNhbnZhcylyZXR1cm4gS0Mud2FybihcIltcIi5jb25jYXQobi5nZXRUcmFja0lkKCksXCJdIG5vIGNhbnZhcyBvbiB0cmFja1wiKSk7IWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1lLmNhbnZhczt0LndpZHRoJiYoaS53aWR0aD1tRCh0LndpZHRoKSksdC5oZWlnaHQmJihpLmhlaWdodD1tRCh0LmhlaWdodCkpLHQuZnJhbWVyYXRlJiYoaS5zdG9wQ2FwdHVyZSYmaS5zdG9wQ2FwdHVyZSgpLGkuc3RvcENhcHR1cmU9dUEoKCgpPT57IWkuc3RhcnRDYXB0dXJlJiZpLnN0b3BDYXB0dXJlJiZpLnN0b3BDYXB0dXJlKCksaS5zdGFydENhcHR1cmUmJmkuc3RhcnRDYXB0dXJlKCl9KSxtRCh0LmZyYW1lcmF0ZSkpKX0odCxlKX1udWxsIT1yLm1heEJpdHJhdGUmJihuLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg9ci5tYXhCaXRyYXRlLzFlMyksbnVsbCE9ci5tYXhGcmFtZXJhdGUmJihuLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZSYmXCJvYmplY3RcIj09dHlwZW9mIG4uX2VuY29kZXJDb25maWcuZnJhbWVSYXRlP24uX2VuY29kZXJDb25maWcuZnJhbWVSYXRlLm1heD1yLm1heEZyYW1lcmF0ZTpuLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZT17bWF4OnIubWF4RnJhbWVyYXRlfSksS0MuZGVidWcoXCJbXCIuY29uY2F0KG4uZ2V0VHJhY2tJZCgpLFwiXSBMb3dTdHJlYW1FbmNvZGVyQ29uZmlnOiAsIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobi5fZW5jb2RlckNvbmZpZykpKSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKG4pfXB1Ymxpc2hMb3dTdHJlYW0oZSl7dmFyIHQ9dGhpcztyZXR1cm4gQlAoKGZ1bmN0aW9uKigpe2lmKCF0LmNvbm5lY3Rpb258fHQuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IGk9eWllbGQgalAodC5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwucHVibGlzaExvd1N0cmVhbVwiKSk7dHJ5e2NvbnN0IHI9dC5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spO2lmKCFyKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiQ291bGQgbm90IGZpbmQgaGlnaCBzdHJlYW1cIik7aWYodC5sb2NhbFRyYWNrTWFwLmhhcyhfSS5Mb2NhbFZpZGVvTG93VHJhY2spKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiW1wiLmNvbmNhdCh0LnN0b3JlLmNsaWVudElkLFwiXSBDYW4ndCBwdWJsaXNoIGxvdyBzdHJlYW0gd2hlbiBzdHJlYW0gYWxyZWFkeSBwdWJsaXNoXCIpKTtjb25zdCBzPVt7dHJhY2s6dC5nZXRMb3dWaWRlb1RyYWNrKHIudHJhY2ssZSksdHlwZTpfSS5Mb2NhbFZpZGVvTG93VHJhY2t9XTtpZih5aWVsZCpHUCh1ayh0LmRvUHVibGlzaCh0LmNvbm5lY3Rpb24scykpKSxyLnRyYWNrLm11dGVkfHwhci50cmFjay5lbmFibGVkKXt2YXIgbjtjb25zdCBlPW51bGw9PT0obj10LmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsVmlkZW9Mb3dUcmFjaykpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlkO3ZvaWQgMCE9PWUmJih5aWVsZCBqUCh0LmNvbm5lY3Rpb24ubXV0ZUxvY2FsKFtlXSkpKX19ZmluYWxseXtpKCl9fSkpKCl9YXN5bmMgcmVwdWJsaXNoKCl7dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MubGVuZ3RoPjAmJihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gRW1pdCBQMlBDaGFubmVsRXZlbnRzLlJlcXVlc3RSZVB1Ymxpc2ggdG8gcmVwdWJsaXNoIHRyYWNrcy5cIikpLGF3YWl0IGZUKHRoaXMsbUkuUmVxdWVzdFJlUHVibGlzaCx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcyksdGhpcy5lbWl0KG1JLk1lZGlhUmVjb25uZWN0RW5kLHRoaXMuc3RvcmUudWlkKSx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz1bXSksdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMubGVuZ3RoPjAmJihLQy5kZWJ1ZyhcIkVtaXQgUDJQQ2hhbm5lbEV2ZW50cy5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWwgdG8gcmVwdWJsaXNoIGRhdGFjaGFubmVscy5cIiksYXdhaXQgZlQodGhpcyxtSS5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWwsdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMpLHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzPVtdKX1hc3luYyByZVN1YnNjcmliZShlKXtmb3IobGV0IGU9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdHt1c2VyOnQsa2luZDppfT10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3NbZV07KGkhPT1oSS5BVURJT3x8dC5fYXVkaW9fYWRkZWRfJiZ0Ll9hdWRpb1NTUkMpJiYoaSE9PWhJLlZJREVPfHx0Ll92aWRlb19hZGRlZF8mJnQuX3ZpZGVvU1NSQyl8fHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UoZSwxKX1pZihlKWF3YWl0IGZUKHRoaXMsbUkuUmVxdWVzdFJlU3Vic2NyaWJlLHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcyk7ZWxzZSBmb3IoY29uc3R7dXNlcjplLGtpbmQ6dH1vZiB0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MpYXdhaXQgdGhpcy5zdWJzY3JpYmUoZSx0LHQ9PT1oSS5WSURFTz9lLl92aWRlb1NTUkM6ZS5fYXVkaW9TU1JDKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZm9yRWFjaCgoZT0+e2xldHt1c2VyOnR9PWU7dGhpcy5lbWl0KG1JLk1lZGlhUmVjb25uZWN0RW5kLHQudWlkKX0pKSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3M9W119YXN5bmMgdW5wdWJsaXNoKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgZS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc3BsaWNlKHQsMSl9KSk7Y29uc3QgdD10aGlzLmZpbHRlclRvYmVVbnB1Ymxpc2hlZFRyYWNrcyhlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2NvbnN0IGk9dC5maW5kKChlPT5cInZpZGVvTG93VHJhY2tcIj09PWVbMF0pKTtpZihpKXtpWzFdLnRyYWNrLmNsb3NlKCl9cmV0dXJuIHRoaXMuZG9VbnB1Ymxpc2godGhpcy5jb25uZWN0aW9uLHQpfWFzeW5jIHVucHVibGlzaERhdGFDaGFubmVsKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgZS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMuc3BsaWNlKHQsMSl9KSk7Y29uc3QgdD10aGlzLmZpbHRlclRvYmVVbnB1Ymxpc2hlZERhdGFDaGFubmVscyhlKTtyZXR1cm4gMCE9PXQubGVuZ3RoPyh0LmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuc3BsaWNlKHQsMSl9KSksMD09PXRoaXMubG9jYWxEYXRhQ2hhbm5lbHMubGVuZ3RoJiZhd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyh0aGlzLnN0b3JlLnVpZCksdC5tYXAoKGU9PmUuaWQpKSk6dm9pZCAwfWFzeW5jIHVucHVibGlzaExvd1N0cmVhbSgpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKCFlKXJldHVybjtlLnRyYWNrLmNsb3NlKCk7Y29uc3QgdD1bW19JLkxvY2FsVmlkZW9Mb3dUcmFjayxlXV07cmV0dXJuIHRoaXMuZG9VbnB1Ymxpc2godGhpcy5jb25uZWN0aW9uLHQpfWFzeW5jIGRvVW5wdWJsaXNoKGUsdCl7Y29uc3QgaT10aGlzLmNyZWF0ZUdhdGV3YXlVbnB1Ymxpc2hNZXNzYWdlKHQpO3JldHVybiBhd2FpdCBlLnN0b3BTZW5kaW5nKHQubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpLHRoaXMud2l0aGRyYXdMb2NhbFRyYWNrcyh0KSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHModC5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3R5cGU6dCx0cmFjazppfX0pKSksdC5mb3JFYWNoKChlPT57bGV0W3RdPWU7dGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKHQpfSkpLDA9PT10aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZSYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRVcGxpbmtTdGF0cygpLGl9YXN5bmMgc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2NvbnN0IGk9dC5maWx0ZXIoKHQ9Pnt2YXIgaTtyZXR1cm4hKG51bGwhPT0oaT10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldChlKSkmJnZvaWQgMCE9PWkmJmkuZ2V0KHQuaWQpKX0pKTtpZigwIT09aS5sZW5ndGgpcmV0dXJuIGF3YWl0IHRoaXMuY29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMoZS51aWQsaSksaS5mb3JFYWNoKCh0PT57dmFyIGk7dGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5oYXMoZSk/bnVsbD09PShpPXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuZ2V0KGUpKXx8dm9pZCAwPT09aXx8aS5zZXQodC5pZCx0KTp0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLnNldChlLG5ldyBNYXAoW1t0LmlkLHRdXSkpO2NvbnN0IG49dGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzLmZpbmRJbmRleCgoaT0+e2xldHt1c2VyOm4saWQ6cn09aTtyZXR1cm4gbi51aWQ9PT1lLnVpZCYmcj09PXQuaWR9KSk7LTEhPT1uJiZ0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMuc3BsaWNlKG4sMSl9KSksaS5tYXAoKGU9PmUuaWQpKX1hc3luYyBzdWJzY3JpYmUoZSx0LGksbixyKXt2YXIgcztpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2lmKG51bGwhPT0ocz10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpKSYmdm9pZCAwIT09cyYmcy5oYXModCkpcmV0dXJuO2xldCBvLGEsYztpZihyKXtjb25zdCBpPXIuZmluZCgoZT0+e2xldHtzdHJlYW1fdHlwZTppfT1lO3JldHVybiBpPT09dH0pKTtpZighaSl0aHJvdyBuZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBzdWJzY3JpYmUgdG8gcmVtb3RlIFwiLmNvbmNhdCh0LFwiIGZvciB1c2VyOiBcIikuY29uY2F0KGUudWlkLFwiIGJlY2F1c2Ugc3Vic2NyaWJlIGFuc3dlciBmcm9tIGdhdGV3YXkgZG9lcyBub3QgY29udGFpbiBzdHJlYW1fdHlwZTogXCIpLmNvbmNhdCh0LFwiLlwiKSk7Y29uc3Qgbj1hd2FpdCB0aGlzLmNvbm5lY3Rpb24ucmVjZWl2ZSh0LGkuc3NyY3MsU3RyaW5nKGUuX3VpbnRpZCksaS5hdHRyaWJ1dGVzKTt0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBXTCYmKGM9bi50cmFuc2NlaXZlciksbz1uLnRyYWNrLGE9bi5pZH1lbHNle2NvbnN0IHI9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlY2VpdmUodCxbe3NzcmNJZDppLHJ0eDpufV0sU3RyaW5nKGUuX3VpbnRpZCksdm9pZCAwKTt0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBXTCYmKGM9ci50cmFuc2NlaXZlciksbz1yLnRyYWNrLGE9ci5pZH10PT09aEkuQVVESU8/KGUuX2F1ZGlvVHJhY2s/ZS5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhvKTooZS5fYXVkaW9UcmFjaz1uZXcgT2IobyxlLnVpZCxlLl91aW50aWQsdGhpcy5zdG9yZSksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSBhdWRpbyB0cmFjazogXCIpLmNvbmNhdChlLl9hdWRpb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxjJiZlLl9hdWRpb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihjKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLGUuX2F1ZGlvVHJhY2spKTooZS5fdmlkZW9UcmFjaz9lLl92aWRlb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKG8pOihlLl92aWRlb1RyYWNrPW5ldyB3YihvLGUudWlkLGUuX3VpbnRpZCx0aGlzLnN0b3JlKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KGUuX3ZpZGVvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGMmJmUuX3ZpZGVvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGMpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUsZS5fdmlkZW9UcmFjaykpO2NvbnN0IGQ9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtkP2Quc2V0KHQsYSk6dGhpcy5yZW1vdGVVc2VyTWFwLnNldChlLG5ldyBNYXAoW1t0LGFdXSkpLHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUmVtb3RlU3RhdHMoZS51aWQpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZERvd25saW5rU3RhdHMoKTtjb25zdCBsPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maW5kSW5kZXgoKGk9PntsZXR7dXNlcjpuLGtpbmQ6cn09aTtyZXR1cm4gbi51aWQ9PT1lLnVpZCYmdD09PXJ9KSk7LTEhPT1sJiYodGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZShsLDEpLHRoaXMuZW1pdChtSS5NZWRpYVJlY29ubmVjdEVuZCxlLnVpZCkpfWFzeW5jIG1hc3NTdWJzY3JpYmUoZSl7cmV0dXJuIHRoaXMubWFzc1N1YnNjcmliZU5vTG9jayhlKX1hc3luYyBtYXNzU3Vic2NyaWJlTm9Mb2NrKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpdGhyb3cgbmV3IFZnKHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IHN1YnNjcmliZUFsbCByZW1vdGUgdXNlcnMgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2U9ZS5maWx0ZXIoKGU9Pnt2YXIgdDtsZXR7dXNlcjppLG1lZGlhVHlwZTpufT1lO3JldHVybiEobnVsbCE9PSh0PXRoaXMucmVtb3RlVXNlck1hcC5nZXQoaSkpJiZ2b2lkIDAhPT10JiZ0LmhhcyhuKSl9KSk7Y29uc3QgdD1hd2FpdCB0aGlzLmNvbm5lY3Rpb24uYmF0Y2hSZWNlaXZlKGUubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aSxzc3JjSWQ6bixydHhTc3JjSWQ6cn09ZTtyZXR1cm57a2luZDppLHNzcmNNc2c6W3tzc3JjSWQ6bixydHg6cn1dLG1zbGFiZWw6U3RyaW5nKHQuX3VpbnRpZCl9fSkpKTtlLmZvckVhY2goKChlLGkpPT57bGV0e3VzZXI6bixtZWRpYVR5cGU6cn09ZTtjb25zdHt0cmFjazpzLGlkOm8sdHJhbnNjZWl2ZXI6YX09dFtpXTtyPT09aEkuQVVESU8/KG4uX2F1ZGlvVHJhY2s/bi5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhzKToobi5fYXVkaW9UcmFjaz1uZXcgT2IocyxuLnVpZCxuLl91aW50aWQsdGhpcy5zdG9yZSksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSBhdWRpbyB0cmFjazogXCIpLmNvbmNhdChuLl9hdWRpb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxhJiZuLl9hdWRpb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihhKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhuLG4uX2F1ZGlvVHJhY2spKToobi5fdmlkZW9UcmFjaz9uLl92aWRlb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHMpOihuLl92aWRlb1RyYWNrPW5ldyB3YihzLG4udWlkLG4uX3VpbnRpZCx0aGlzLnN0b3JlKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KG4uX3ZpZGVvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGEmJm4uX3ZpZGVvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGEpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKG4sbi5fdmlkZW9UcmFjaykpO2NvbnN0IGM9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChuKTtjP2Muc2V0KHIsbyk6dGhpcy5yZW1vdGVVc2VyTWFwLnNldChuLG5ldyBNYXAoW1tyLG9dXSkpLHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUmVtb3RlU3RhdHMobi51aWQpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZERvd25saW5rU3RhdHMoKTtjb25zdCBkPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maW5kSW5kZXgoKGU9PntsZXR7dXNlcjp0LGtpbmQ6aX09ZTtyZXR1cm4gdC51aWQ9PT1uLnVpZCYmcj09PWl9KSk7LTEhPT1kJiYodGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZShkLDEpLHRoaXMuZW1pdChtSS5NZWRpYVJlY29ubmVjdEVuZCxuLnVpZCkpfSkpfWFzeW5jIHVuc3Vic2NyaWJlKGUsdCxpKXtjb25zdCBuPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maWx0ZXIoKGk9PntsZXR7dXNlcjpuLGtpbmQ6cn09aTtyZXR1cm4gdm9pZCAwIT09dD9uLnVpZD09PWUudWlkJiZ0PT09cjpuLnVpZD09PWUudWlkfSkpO2lmKG4uZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmluZGV4T2YoZSk7dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZSh0LDEpfSkpLHRoaXMuY29ubmVjdGlvbiYmdGhpcy5zdGF0ZT09PUVJLkNvbm5lY3RlZHx8aXx8bi5mb3JFYWNoKCh0PT57bGV0e2tpbmQ6aX09dDt2YXIgbjtpZihpPT09aEkuQVVESU8pbnVsbD09PShuPWUuX2F1ZGlvVHJhY2spfHx2b2lkIDA9PT1ufHxuLl9kZXN0cm95KCksZS5fYXVkaW9UcmFjaz12b2lkIDA7ZWxzZSBpZihpPT09aEkuVklERU8pe3ZhciByO251bGw9PT0ocj1lLl92aWRlb1RyYWNrKXx8dm9pZCAwPT09cnx8ci5fZGVzdHJveSgpLGUuX3ZpZGVvVHJhY2s9dm9pZCAwfX0pKSwhdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXJldHVybjtjb25zdCByPXRoaXMuZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyhlLHQpO2lmKDA9PT1yLmxlbmd0aClyZXR1cm47YXdhaXQgdGhpcy5jb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcoci5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSk7Y29uc3Qgcz10aGlzLmNyZWF0ZVVuc3Vic2NyaWJlTWVzc2FnZShyKTtyZXR1cm4gdGhpcy53aXRoZHJhd1JlbW90ZVRyYWNrcyhyKSwwPT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJnRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkRG93bmxpbmtTdGF0cygpLHIuZm9yRWFjaCgoZT0+e2xldFt0LHtraW5kOm59XT1lO3ZhciByLHM7bj09PWhJLlZJREVPJiZ0Ll92aWRlb1NTUkMmJihudWxsPT09KHI9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09cnx8ci5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeSh0Ll92aWRlb1NTUkMsITEpKTtpZihuPT09aEkuVklERU8pdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll92aWRlb1RyYWNrKSxpfHwobnVsbD09PShzPXQuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1zfHxzLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDApO2Vsc2UgaWYobj09PWhJLkFVRElPKXt2YXIgbztpZih0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLCFpKW51bGw9PT0obz10Ll9hdWRpb1RyYWNrKXx8dm9pZCAwPT09b3x8by5fZGVzdHJveSgpLHQuX2F1ZGlvVHJhY2s9dm9pZCAwfX0pKSxzfWFzeW5jIHVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXtpZih0LmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5maW5kSW5kZXgoKHQ9PnQuaWQ9PT1lLmlkKSk7LTEhPT10JiZ0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMuc3BsaWNlKHQsMSl9KSksIXRoaXMuY29ubmVjdGlvbilyZXR1cm47Y29uc3QgaT10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWREYXRhQ2hhbm5lbHMoZSx0KTtpZigwPT09aS5sZW5ndGgpcmV0dXJuO3QuZm9yRWFjaCgoZT0+e2UuX2Nsb3NlKCl9KSk7Y29uc3Qgbj10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldChlKTtyZXR1cm4gaS5mb3JFYWNoKChlPT57biYmbi5kZWxldGUoZS5pZCl9KSksbiYmMD09PW4uc2l6ZSYmKHRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuZGVsZXRlKGUpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5zdG9wRGF0YUNoYW5uZWxzKGUudWlkKSksaS5tYXAoKGU9PmUuaWQpKX1hc3luYyBtYXNzVW5zdWJzY3JpYmUoZSl7cmV0dXJuIHRoaXMubWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKGUpfWFzeW5jIG1hc3NVbnN1YnNjcmliZU5vTG9jayhlKXtsZXQgdD1bXTtmb3IoY29uc3R7dXNlcjppLG1lZGlhVHlwZTpufW9mIGUpe2NvbnN0IGU9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbHRlcigoZT0+e2xldHt1c2VyOnQsa2luZDpyfT1lO3JldHVybiB2b2lkIDAhPT1uP3QudWlkPT09aS51aWQmJm49PT1yOnQudWlkPT09aS51aWR9KSk7ZS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuaW5kZXhPZihlKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKHQsMSl9KSksdD10LmNvbmNhdChlKX1pZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQuZm9yRWFjaCgoZT0+e2xldHt1c2VyOnQsa2luZDppfT1lO3ZhciBuO2lmKGk9PT1oSS5BVURJTyludWxsPT09KG49dC5fYXVkaW9UcmFjayl8fHZvaWQgMD09PW58fG4uX2Rlc3Ryb3koKSx0Ll9hdWRpb1RyYWNrPXZvaWQgMDtlbHNlIGlmKGk9PT1oSS5WSURFTyl7dmFyIHI7bnVsbD09PShyPXQuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1yfHxyLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDB9fSkpO2NvbnN0IGk9Y1MoZSkuY2FsbChlLCgoZSx0KT0+e2xldHt1c2VyOmksbWVkaWFUeXBlOm59PXQ7Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3MoaSxuKTtyZXR1cm4gZS5jb25jYXQocil9KSxbXSk7aWYoMD09PWkubGVuZ3RoKXJldHVybjthd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhpLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKTtjb25zdCBuPXRoaXMuY3JlYXRlVW5zdWJzY3JpYmVBbGxNZXNzYWdlKGkpO3JldHVybiB0aGlzLndpdGhkcmF3UmVtb3RlVHJhY2tzKGkpLDA9PT10aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWREb3dubGlua1N0YXRzKCksaS5mb3JFYWNoKChlPT57bGV0W3Qse2tpbmQ6aX1dPWU7dmFyIG4scjtpPT09aEkuVklERU8mJnQuX3ZpZGVvU1NSQyYmKG51bGw9PT0obj10aGlzLmNvbm5lY3Rpb24pfHx2b2lkIDA9PT1ufHxuLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KHQuX3ZpZGVvU1NSQywhMSkpO2lmKGk9PT1oSS5WSURFTyl0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX3ZpZGVvVHJhY2spLG51bGw9PT0ocj10Ll92aWRlb1RyYWNrKXx8dm9pZCAwPT09cnx8ci5fZGVzdHJveSgpLHQuX3ZpZGVvVHJhY2s9dm9pZCAwO2Vsc2UgaWYoaT09PWhJLkFVRElPKXt2YXIgczt0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLG51bGw9PT0ocz10Ll9hdWRpb1RyYWNrKXx8dm9pZCAwPT09c3x8cy5fZGVzdHJveSgpLHQuX2F1ZGlvVHJhY2s9dm9pZCAwfX0pKSxufWFzeW5jIG11dGVSZW1vdGUoZSx0KXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybjtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQgS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLlwiKSk7aWYoIWkuZ2V0KHQpKXJldHVybiB2b2lkIEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBtZWRpYSB0eXBlIFwiKS5jb25jYXQodCxcIi5cIikpO2NvbnN0IG49dD09PWhJLlZJREVPP2UuX3ZpZGVvU1NSQzplLl9hdWRpb1NTUkM7dm9pZCAwIT09biYmdGhpcy5jb25uZWN0aW9uLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KG4sITEpfWFzeW5jIHVubXV0ZVJlbW90ZShlLHQpe3JldHVybiB0aGlzLnVubXV0ZVJlbW90ZU5vTG9jayhlLHQpfWFzeW5jIHVubXV0ZVJlbW90ZU5vTG9jayhlLHQpe2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighaSlyZXR1cm4gdm9pZCBLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIi5cIikpO2kuZ2V0KHQpfHxLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBtZWRpYSB0eXBlIFwiKS5jb25jYXQodCxcIi5cIikpfWdldEFsbFRyYWNrcyhlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09dD92b2lkIDA6dC50cmFjaylpbnN0YW5jZW9mIHRiKXtjb25zdCBpPXQudHJhY2s7cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57bGV0W3RdPWU7cmV0dXJuIHQhPT1fSS5Mb2NhbEF1ZGlvVHJhY2t9KSkuZmlsdGVyKCh0PT57bGV0W2ldPXQ7cmV0dXJuIShlJiZpPT09X0kuTG9jYWxWaWRlb0xvd1RyYWNrKX0pKS5tYXAoKGU9PntsZXRbLHt0cmFjazp0fV09ZTtyZXR1cm4gdH0pKS5jb25jYXQoaS50cmFja0xpc3QpfXJldHVybiBBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcigodD0+e2xldFtpXT10O3JldHVybiEoZSYmaT09PV9JLkxvY2FsVmlkZW9Mb3dUcmFjayl9KSkubWFwKChlPT57bGV0Wyx7dHJhY2s6dH1dPWU7cmV0dXJuIHR9KSl9Z2V0QWxsRGF0YUNoYW5uZWxzKCl7cmV0dXJuIHRoaXMubG9jYWxEYXRhQ2hhbm5lbHN9cmVwb3J0UHVibGlzaEV2ZW50KGUsdCxpLG4scil7aWYoZSl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsQXVkaW9UcmFjaykscz1uP3RoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb0xvd1RyYWNrKTp0aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsVmlkZW9UcmFjayk7cnYucHVibGlzaCh0aGlzLnN0b3JlLnNlc3Npb25JZCx7ZXZlbnRFbGFwc2U6Y0QubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOmUsZWM6dCxhdWRpb05hbWU6bnVsbD09aT92b2lkIDA6aS50cmFjay5nZXRUcmFja0xhYmVsKCksdmlkZW9OYW1lOm51bGw9PXM/dm9pZCAwOnMudHJhY2suZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOi0xIT09KG51bGw9PXM/dm9pZCAwOnMudHJhY2suX2hpbnRzLmluZGV4T2Yoa3kuU0NSRUVOX1RSQUNLKSksYXVkaW86ISFpLHZpZGVvOiEhcyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxleHRlbmQ6cn0pfWVsc2V7dmFyIHM7aXx8KGk9W10pO2NvbnN0IG89aS5maW5kKChlPT5lIGluc3RhbmNlb2YgWkEpKSxhPW4/bnVsbD09PShzPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb1RyYWNrKSl8fHZvaWQgMD09PXM/dm9pZCAwOnMudHJhY2s6aS5maW5kKChlPT5lIGluc3RhbmNlb2YgU2IpKTtydi5wdWJsaXNoKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtldmVudEVsYXBzZTpjRC5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6ZSxlYzp0LGF1ZGlvTmFtZTpudWxsPT1vP3ZvaWQgMDpvLmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6bnVsbD09YT92b2lkIDA6YS5nZXRUcmFja0xhYmVsKCksc2NyZWVuc2hhcmU6LTEhPT0obnVsbD09YT92b2lkIDA6YS5faGludHMuaW5kZXhPZihreS5TQ1JFRU5fVFJBQ0spKSxhdWRpbzohIW8sdmlkZW86ISFhLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSl9fXJlcG9ydFN1YnNjcmliZUV2ZW50KGUsdCxpLG4pe2NvbnN0IHI9bj09PWhJLlZJREVPP2kuX3ZpZGVvU1NSQzppLl9hdWRpb1NTUkM7ciYmcnYuc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOmUsZWM6dCx2aWRlbzpuPT09aEkuVklERU8sYXVkaW86bj09PWhJLkFVRElPLHBlZXJpZDppLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6bj09PWhJLlZJREVPP2kuX3ZpZGVvU1NSQzppLl9hdWRpb1NTUkMscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpjRC5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQscil9KX1yZXNldCgpe0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnJlc2V0XCIpKSx0aGlzLm11dGV4PW5ldyBZVChcIlAyUENoYW5uZWwtbXV0ZXhcIiksdGhpcy5jb25uZWN0aW9uJiYodGhpcy5jb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbiksdGhpcy5jb25uZWN0aW9uPXZvaWQgMCksdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249dGhpcy5zdG9yZS51c2VEYXRhQ2hhbm5lbD9uZXcgc2soe30sdGhpcy5zdG9yZSk6dGhpcy5pc1BsYW5CP25ldyBNTCh7fSx0aGlzLnN0b3JlKTpuZXcgV0woe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFVwbGlua1N0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWREb3dubGlua1N0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMudW5iaW5kTG9jYWxUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kQWxsUmVtb3RlVHJhY2tFdmVudHMoKSx0aGlzLnVuYmluZFJ0cFRyYW5zY2VpdmVyKCk7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsQXVkaW9UcmFjayk7aWYoKG51bGw9PWU/dm9pZCAwOmUudHJhY2spaW5zdGFuY2VvZiB0Yil7aWYoZS50cmFjay50cmFja0xpc3QubGVuZ3RoPjApe2NvbnN0IHQ9ZS50cmFjaztlLnRyYWNrLnRyYWNrTGlzdC5mb3JFYWNoKChlPT57dC5yZW1vdmVBdWRpb1RyYWNrKGUpfSkpfWUudHJhY2suY2xvc2UoKX10aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSx0aGlzLnJlbW90ZVVzZXJNYXAuY2xlYXIoKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZVJlbW90ZVN0YXRzKCksdGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKCksdGhpcy5pY2VGYWlsZWRDb3VudD0wLHRoaXMuZHRsc0ZhaWxlZENvdW50PTAsdGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9W10sdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzPVtdLHRoaXMubG9jYWxEYXRhQ2hhbm5lbHM9W10sdGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5jbGVhcigpLHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzPVtdLHRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscz1bXSx0aGlzLnN0YXRlPUVJLkRpc2Nvbm5lY3RlZH1nZXRTdGF0cygpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PXRoaXMuY29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpKXx8ITF9Z2V0TG9jYWxBdWRpb1ZvbHVtZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUpcmV0dXJuIGUudHJhY2suZ2V0Vm9sdW1lTGV2ZWwoKX1nZXRMb2NhbFZpZGVvU2l6ZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spO2lmKGUpcmV0dXJue3dpZHRoOmUudHJhY2suX3ZpZGVvV2lkdGh8fDAsaGVpZ2h0OmUudHJhY2suX3ZpZGVvSGVpZ2h0fHwwfX1nZXRFbmNvZGVyQ29uZmlnKGUpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKTtyZXR1cm4gdCYmdC50cmFjayBpbnN0YW5jZW9mIFNifHx0JiZ0LnRyYWNrIGluc3RhbmNlb2YgWkE/dC50cmFjay5fZW5jb2RlckNvbmZpZzp2b2lkIDB9Z2V0TG9jYWxNZWRpYShlKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKX1oYXNMb2NhbE1lZGlhKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5zaXplPjB9aGFzUmVtb3RlTWVkaWEoZSx0KXtpZighZSlyZXR1cm4gdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MDtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7cmV0dXJuISFpJiYoIXR8fGkuaGFzKHQpKX1hc3luYyBoYXNSZW1vdGVNZWRpYVdpdGhMb2NrKGUsdCl7aWYoIWUpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO3JldHVybiEhaSYmKCF0fHxpLmhhcyh0KSl9Z2V0UmVtb3RlTWVkaWEoZSl7dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKGh1KHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50LnVpZD09PWUpKTtyZXR1cm4gaT97YXVkaW9UcmFjazppLmF1ZGlvVHJhY2ssYXVkaW9TU1JDOmkuX2F1ZGlvU1NSQyx2aWRlb1RyYWNrOmkudmlkZW9UcmFjayx2aWRlb1NTUkM6aS5fdmlkZW9TU1JDfTp7fX1nZXRBdWRpb0xldmVscygpe2xldCBlPUFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkubWFwKChlPT57bGV0W3RdPWU7cmV0dXJue3VpZDp0LnVpZCxsZXZlbDp0LmF1ZGlvVHJhY2s/MTAwKnQuYXVkaW9UcmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKTowfX0pKTtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKTtyZXR1cm4gdCYmZS5wdXNoKHtsZXZlbDoxMDAqdC50cmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSx1aWQ6dGhpcy5zdG9yZS51aWR9KSxlPVp1KGUpLmNhbGwoZSwoKGUsdCk9PmUubGV2ZWwtdC5sZXZlbCkpLGV9YXN5bmMgZGlzY29ubmVjdEZvclJlY29ubmVjdCgpe3RoaXMuY29ubmVjdGlvbiYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QgY2xvc2luZyBQMlBDb25uZWN0aW9uXCIpKSx0aGlzLnN0YXRlPUVJLlJlY29ubmVjdGluZyxrQyhcIktFRVBfTEFTVF9GUkFNRVwiKSYmMCE9PXRoaXMucmVtb3RlVXNlck1hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdF09ZTt2YXIgaTt0Ll92aWRlb1RyYWNrJiZ0Ll92aWRlb1RyYWNrLl9wbGF5ZXImJihudWxsPT09KGk9dC5fdmlkZW9UcmFjay5fcGxheWVyLmdldFZpZGVvRWxlbWVudCgpKXx8dm9pZCAwPT09aXx8aS5wYXVzZSgpLHQuX3ZpZGVvVHJhY2suX3BsYXllci5pc0tlZXBMYXN0RnJhbWU9ITAsdC5fdmlkZW9UcmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpfSkpLHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj12b2lkIDAsdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249dGhpcy5zdG9yZS51c2VEYXRhQ2hhbm5lbD9uZXcgc2soe30sdGhpcy5zdG9yZSk6dGhpcy5pc1BsYW5CP25ldyBNTCh7fSx0aGlzLnN0b3JlKTpuZXcgV0woe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSwwIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJihBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9Pnt2YXIgdDtsZXRbaSx7dHJhY2s6bn1dPWU7c3dpdGNoKGkpe2Nhc2UgX0kuTG9jYWxWaWRlb1RyYWNrOlByKHQ9bi5faGludHMpLmNhbGwodCxreS5MT1dfU1RSRUFNKT9uLmNsb3NlKCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChuKTticmVhaztjYXNlIF9JLkxvY2FsQXVkaW9UcmFjazpuIGluc3RhbmNlb2YgdGI/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuY29uY2F0KG4udHJhY2tMaXN0KTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKG4pO2Nhc2UgX0kuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSksdGhpcy5lbWl0KG1JLk1lZGlhUmVjb25uZWN0U3RhcnQsdGhpcy5zdG9yZS51aWQpKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSwwIT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7QXJyYXkuZnJvbShodShpKS5jYWxsKGkpKS5mb3JFYWNoKChlPT57dGhpcy5zZXRQZW5kaW5nUmVtb3RlTWVkaWEodCxlKX0pKSx0aGlzLmVtaXQobUkuTWVkaWFSZWNvbm5lY3RTdGFydCx0LnVpZCl9KSksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLDAhPT10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aCYmKHRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuZm9yRWFjaCgoZT0+e3RoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLnB1c2goZSl9KSksdGhpcy5sb2NhbERhdGFDaGFubmVscy5sZW5ndGg9MCksMCE9PXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuc2l6ZSYmKEFycmF5LmZyb20odGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO0FycmF5LmZyb20oaHUoaSkuY2FsbChpKSkuZm9yRWFjaCgoZT0+e3RoaXMuc2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHQsZSl9KSl9KSksdGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5jbGVhcigpKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFVwbGlua1N0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWREb3dubGlua1N0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsIGRpc2Nvbm5lY3RlZCwgd2FpdGluZyB0byByZWNvbm5lY3QuXCIpKSl9aGFzUGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsdCl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzKXtjb25zdHt1c2VyOm4saWQ6cn09aTtpZigoZSBpbnN0YW5jZW9mIE5QP2UudWlkOmUpPT09bi51aWQmJnI9PT10KXJldHVybiEwfXJldHVybiExfXNldFBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLHQpe3RoaXMuaGFzUGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsdCl8fHRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5wdXNoKHt1c2VyOmUsaWQ6dH0pfWhhc1BlbmRpbmdSZW1vdGVNZWRpYShlLHQpe2Zvcihjb25zdCBpIG9mIHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcyl7Y29uc3R7dXNlcjpuLGtpbmQ6cn09aTtpZigoZSBpbnN0YW5jZW9mIE5QP2UudWlkOmUpPT09bi51aWQmJnQ9PT1yKXJldHVybiEwfXJldHVybiExfXNldFBlbmRpbmdSZW1vdGVNZWRpYShlLHQpe3RoaXMuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGUsdCl8fHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5wdXNoKHt1c2VyOmUsa2luZDp0fSl9cmVzdGFydElDRShlKXt2YXIgdD10aGlzO3JldHVybiBCUCgoZnVuY3Rpb24qKCl7aWYoIXQuY29ubmVjdGlvbnx8dC5zdGF0ZSE9PUVJLkNvbm5lY3RlZHx8dC5jb25uZWN0aW9uIGluc3RhbmNlb2Ygc2spcmV0dXJuO2NvbnN0IGk9eWllbGQgalAodC5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnJlc3RhcnRJQ0VcIikpO2xldCBuO3RyeXtuPXlpZWxkIGpQKHQuY29ubmVjdGlvbi5yZXN0YXJ0SUNFKGUpKTtjb25zdCByPXlpZWxkIGpQKG4ubmV4dCgpKTtpZihyLmRvbmUpcmV0dXJuO2NvbnN0IHM9ci52YWx1ZSxvPXlpZWxkIHM7c3dpdGNoKHQucmVwb3J0UENEaXNjb25uZWN0ZWRPckZhaWxlZChlKSxlKXtjYXNlIHVJLlRDUDp0Ll9wY1N0YXRzVXBsb2FkVHlwZT1wSS5UQ1BfUkVTVEFSVDticmVhaztjYXNlIHVJLlJFTEFZOnQuX3BjU3RhdHNVcGxvYWRUeXBlPXBJLlJFTEFZX1JFU1RBUlQ7YnJlYWs7ZGVmYXVsdDp0Ll9wY1N0YXRzVXBsb2FkVHlwZT1wSS5PTERfUkVTVEFSVH10Ll9pc0luUmVzdGFydEljZT0hMCxuLm5leHQobyl9Y2F0Y2goZSl7dmFyIHI7bnVsbD09PShyPW4pfHx2b2lkIDA9PT1yfHxyLnRocm93KGUpfWZpbmFsbHl7aSgpfX0pKSgpfWdldFVwbGlua05ldHdvcmtRdWFsaXR5KCl7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm4gMDtjb25zdCBlPXRoaXMuY29ubmVjdGlvbi5nZXRTdGF0cygpLHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbEF1ZGlvVHJhY2spLG49ZS52aWRlb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PXQ/dm9pZCAwOnQuc3NyY3NbMF0uc3NyY0lkKSkpLHI9ZS5hdWRpb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PWk/dm9pZCAwOmkuc3NyY3NbMF0uc3NyY0lkKSkpO2lmKCFufHwhcilyZXR1cm4gMTtjb25zdCBzPVRUKHRoaXMsbUkuTmVlZFNpZ25hbFJUVCksbz1uP24ucnR0TXM6dm9pZCAwLGE9cj9yLnJ0dE1zOnZvaWQgMCxjPW8mJmE/KG8rYSkvMjpvfHxhLGQ9KGMmJnM/KGMrcykvMjpjfHxzKXx8MCxsPTEwMCplLnNlbmRQYWNrZXRMb3NzUmF0ZSouNy81MCsuMypkLzE1MDAsaD1sPC4xNz8xOmw8LjM2PzI6bDwuNTk/MzpsPC4xPzQ6NSx1PW51bGw9PXQ/dm9pZCAwOnQudHJhY2s7aWYodSYmdS5fZW5jb2RlckNvbmZpZyYmLTE9PT11Ll9oaW50cy5pbmRleE9mKGt5LlNDUkVFTl9UUkFDSykpe2NvbnN0IHQ9dS5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LGk9ZS5iaXRyYXRlLmFjdHVhbEVuY29kZWQ7aWYodCYmaSl7Y29uc3QgZT0oMWUzKnQtaSkvKDFlMyp0KTtyZXR1cm4gYXZbZTwuMTU/MDplPC4zPzE6ZTwuNDU/MjplPC42PzM6NF1baF19fXJldHVybiBofWdldERvd25saW5rTmV0d29ya1F1YWxpdHkoKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiAwO2NvbnN0IGU9dGhpcy5jb25uZWN0aW9uLmdldFN0YXRzKCk7bGV0IHQ9MDtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChpPT57bGV0W25dPWk7Y29uc3Qgcj1uLl9hdWRpb1NTUkMscz1uLl92aWRlb1NTUkMsbz1lLmF1ZGlvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1yKSksYT1lLnZpZGVvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1zKSk7aWYoIW8mJiFhKXJldHVybiB2b2lkKHQrPTEpO2NvbnN0IGM9VFQodGhpcyxtSS5OZWVkU2lnbmFsUlRUKSxkPWUucnR0LGw9KGQmJmM/KGQrYykvMjpkfHxjKXx8MCxoPW8/by5qaXR0ZXJNczp2b2lkIDAsdT1lLnJlY3ZQYWNrZXRMb3NzUmF0ZTtsZXQgcD0uNyp1KjEwMC81MCsuMypsLzE1MDA7aCYmKHA9LjYqdSoxMDAvNTArLjIqbC8xNTAwKy4yKmgvNDAwKTt0Kz1wPC4xPzE6cDwuMTc/MjpwPC4zNj8zOnA8LjU5PzQ6NX0pKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wP01hdGgucm91bmQodC90aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSk6dH1hc3luYyBtdXRlTG9jYWxUcmFjayhlKXtyZXR1cm4gbmV3IHRnKCgodCxpKT0+e3RoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2soZSx0LGkpfSkpfWZpbHRlclRvYmVQdWJsaXNoZWRUcmFja3MoZSx0LGkpe2NvbnN0IG49W10scj1fQSgpLHM9dGhpcy5nZXRBbGxUcmFja3MoKTtlPXlUKGU9ZS5maWx0ZXIoKGU9Pi0xPT09cy5pbmRleE9mKGUpKSkpO2xldCBvPSExLGE9ITE7Zm9yKGNvbnN0IHMgb2YgZSl7aWYocyBpbnN0YW5jZW9mIFNiJiYodGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhfSS5Mb2NhbFZpZGVvVHJhY2spfHxvP25ldyBWZyh4Zy5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKS50aHJvdygpOihuLnB1c2goe3RyYWNrOnMsdHlwZTpfSS5Mb2NhbFZpZGVvVHJhY2t9KSxvPSEwKSx0KSl7Y29uc3QgZT10aGlzLmdldExvd1ZpZGVvVHJhY2socyxpKTtuLnB1c2goe3RyYWNrOmUsdHlwZTpfSS5Mb2NhbFZpZGVvTG93VHJhY2t9KX1pZihzIGluc3RhbmNlb2YgWkEpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUpe2lmKCEoZS50cmFjayBpbnN0YW5jZW9mIHRiKSl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpO2lmKHMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtlLnRyYWNrLmFkZEF1ZGlvVHJhY2socyksdGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHMsITApfWVsc2UgaWYoYSl7Y29uc3QgZT1uLmZpbmQoKGU9PntsZXR7dHlwZTp0fT1lO3JldHVybiB0PT09X0kuTG9jYWxBdWRpb1RyYWNrfSkpO2lmKCEoZS50cmFjayBpbnN0YW5jZW9mIHRiKSl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpO2lmKHMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtlLnRyYWNrLmFkZEF1ZGlvVHJhY2socyl9ZWxzZXtpZighci53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdHx8cyBpbnN0YW5jZW9mIHRifHxzLl9ieXBhc3NXZWJBdWRpbyluLnB1c2goe3RyYWNrOnMsdHlwZTpfSS5Mb2NhbEF1ZGlvVHJhY2t9KTtlbHNle2NvbnN0IGU9bmV3IHRiO2UuYWRkQXVkaW9UcmFjayhzKSxuLnB1c2goe3RyYWNrOmUsdHlwZTpfSS5Mb2NhbEF1ZGlvVHJhY2t9KX1hPSEwfX19cmV0dXJuIG59ZmlsdGVyVG9iZVVucHVibGlzaGVkVHJhY2tzKGUpe2NvbnN0IHQ9W10saT10aGlzLmdldEFsbFRyYWNrcygpO2U9eVQoZT1lLmZpbHRlcigoZT0+LTEhPT1pLmluZGV4T2YoZSkpKSk7Zm9yKGNvbnN0IGkgb2YgZSl7aWYoaSBpbnN0YW5jZW9mIFpBKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKTtpZighZSljb250aW51ZTtlLnRyYWNrIGluc3RhbmNlb2YgdGI/KGUudHJhY2sucmVtb3ZlQXVkaW9UcmFjayhpKSx0aGlzLnVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhpKSwwPT09ZS50cmFjay50cmFja0xpc3QubGVuZ3RoJiYodC5wdXNoKFtfSS5Mb2NhbEF1ZGlvVHJhY2ssZV0pLGUudHJhY2suY2xvc2UoKSkpOnQucHVzaChbX0kuTG9jYWxBdWRpb1RyYWNrLGVdKX1pZihpIGluc3RhbmNlb2YgU2Ipe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spO2lmKCFlKWNvbnRpbnVlO3QucHVzaChbX0kuTG9jYWxWaWRlb1RyYWNrLGVdKTtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb0xvd1RyYWNrKTtpJiZ0LnB1c2goW19JLkxvY2FsVmlkZW9Mb3dUcmFjayxpXSl9fXJldHVybiB0fWZpbHRlclRvYmVQdWJsaXNoZWREYXRhQ2hhbm5lbHMoZSl7cmV0dXJuIGU9KGU9eVQoZSkpLmZpbHRlcigoZT0+LTE9PT10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmZpbmRJbmRleCgodD0+dC5pZD09PWUuaWQpKSkpfWZpbHRlclRvYmVVbnB1Ymxpc2hlZERhdGFDaGFubmVscyhlKXtyZXR1cm4gZT0oZT0oZT15VChlKSkuZmlsdGVyKChlPT4tMSE9PXRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuaW5kZXhPZihlKSkpKS5maWx0ZXIoKGU9PmUuX29yaWdpbkRhdGFDaGFubmVsKSl9YmluZExvY2FsVHJhY2tFdmVudHMoZSl7ZS5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIF9JLkxvY2FsVmlkZW9UcmFjazp0LmFkZExpc3RlbmVyKEx5LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsVmlkZW9TdGF0cyksdC5hZGRMaXN0ZW5lcihMeS5HRVRfUlRDX1NUQVRTLHRoaXMuaGFuZGxlR2V0UlRDU3RhdHMpLHQuYWRkTGlzdGVuZXIoTHkuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoTHkuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKEx5Lk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLHQuYWRkTGlzdGVuZXIoTHkuU0VUX09QVElNSVpBVElPTl9NT0RFLHRoaXMuaGFuZGxlU2V0T3B0aW1pemF0aW9uTW9kZSksdC5hZGRMaXN0ZW5lcihMeS5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLHQuYWRkTGlzdGVuZXIoTHkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoTHkuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTticmVhaztjYXNlIF9JLkxvY2FsQXVkaW9UcmFjazp0aGlzLmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHModCk7Y2FzZSBfSS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pKX1iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGUsdCl7ZSBpbnN0YW5jZW9mIHRiP2UudHJhY2tMaXN0LmZvckVhY2goKGU9PntlLmFkZExpc3RlbmVyKEx5Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKEx5Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihMeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUuYWRkTGlzdGVuZXIoTHkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoTHkuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKX0pKTooZS5hZGRMaXN0ZW5lcihMeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUuYWRkTGlzdGVuZXIoTHkuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoTHkuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKEx5Lk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKEx5Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdHx8ZS5hZGRMaXN0ZW5lcihMeS5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spKX11bmJpbmRMb2NhbFRyYWNrRXZlbnRzKGUpe2V8fChlPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkubWFwKChlPT57bGV0W3Qse3RyYWNrOml9XT1lO3JldHVybnt0cmFjazppLHR5cGU6dH19KSkpLGUuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtzd2l0Y2goaSl7Y2FzZSBfSS5Mb2NhbFZpZGVvVHJhY2s6dC5vZmYoTHkuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzKSx0Lm9mZihMeS5HRVRfUlRDX1NUQVRTLHRoaXMuaGFuZGxlR2V0UlRDU3RhdHMpLHQub2ZmKEx5Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0Lm9mZihMeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHQub2ZmKEx5Lk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLHQub2ZmKEx5LlNFVF9PUFRJTUlaQVRJT05fTU9ERSx0aGlzLmhhbmRsZVNldE9wdGltaXphdGlvbk1vZGUpLHQub2ZmKEx5Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksdC5vZmYoTHkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQub2ZmKEx5Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7YnJlYWs7Y2FzZSBfSS5Mb2NhbEF1ZGlvVHJhY2s6dGhpcy51bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHModCk7Y2FzZSBfSS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pKX11bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoZSl7ZSBpbnN0YW5jZW9mIHRiP2UudHJhY2tMaXN0LmZvckVhY2goKGU9PntlLm9mZihMeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoTHkuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLm9mZihMeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUub2ZmKEx5Lk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihMeS5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spfSkpOihlLm9mZihMeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUub2ZmKEx5Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihMeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUub2ZmKEx5Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksZS5vZmYoTHkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKEx5Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjaykpfWJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLHQpe3QgaW5zdGFuY2VvZiB3YiYmdC5hZGRMaXN0ZW5lcihMeS5HRVRfU1RBVFMsKHQ9Pnt0KHRoaXMuaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0cyhlKSl9KSksdCBpbnN0YW5jZW9mIE9iJiZ0LmFkZExpc3RlbmVyKEx5LkdFVF9TVEFUUywodD0+e3QodGhpcy5oYW5kbGVHZXRSZW1vdGVBdWRpb1N0YXRzKGUpKX0pKX11bmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlKXtlJiZlLnJlbW92ZUFsbExpc3RlbmVycyhMeS5HRVRfU1RBVFMpfXVuYmluZEFsbFJlbW90ZVRyYWNrRXZlbnRzKCl7QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTtpLmhhcyhoSS5BVURJTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fYXVkaW9UcmFjayksaS5oYXMoaEkuVklERU8pJiZ0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX3ZpZGVvVHJhY2spfSkpfWNyZWF0ZUdhdGV3YXlQdWJsaXNoTWVzc2FnZShlLHQpe3JldHVybiBlLm1hcCgoKGUsaSk9Pnt2YXIgbjtsZXQgcixzLHt0cmFjazpvLHR5cGU6YX09ZTtzd2l0Y2goYSl7Y2FzZSBfSS5Mb2NhbEF1ZGlvVHJhY2s6cj0kdi5BdWRpbyxzPXtkdHg6byBpbnN0YW5jZW9mICRBJiZvLl9jb25maWcuRFRYLGhxOiExLGxxOiExLHN0ZXJlbzohMSxzcGVlY2g6ITF9O2JyZWFrO2Nhc2UgX0kuTG9jYWxWaWRlb1RyYWNrOnI9UHIobj1vLl9oaW50cykuY2FsbChuLGt5LlNDUkVFTl9UUkFDSyk/JHYuU2NyZWVuOiR2LkhpZ2gscz1oayhoayh7fSxmRChvKSkse30se2NvZGVjOnRoaXMuc3RvcmUuY29kZWN9KTticmVhaztjYXNlIF9JLkxvY2FsVmlkZW9Mb3dUcmFjazpyPSR2LkxvdyxzPWhrKGhrKHt9LGZEKG8pKSx7fSx7Y29kZWM6dGhpcy5zdG9yZS5jb2RlY30pfXJldHVybntzdHJlYW1fdHlwZTpyLGF0dHJpYnV0ZXM6cyxzc3Jjczp0W2ldfX0pKX1jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpzLGlkOm99XT1lO3N3aXRjaChuKXtjYXNlIF9JLkxvY2FsVmlkZW9UcmFjazppPVByKHQ9ci5faGludHMpLmNhbGwodCxreS5TQ1JFRU5fVFJBQ0spPyR2LlNjcmVlbjokdi5IaWdoO2JyZWFrO2Nhc2UgX0kuTG9jYWxBdWRpb1RyYWNrOmk9JHYuQXVkaW87YnJlYWs7Y2FzZSBfSS5Mb2NhbFZpZGVvTG93VHJhY2s6aT0kdi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6b319KSl9YXNzaWduTG9jYWxUcmFja3MoZSx0KXtlLmZvckVhY2goKChlLGkpPT57bGV0e3RyYWNrOm4sdHlwZTpyfT1lO3RoaXMubG9jYWxUcmFja01hcC5zZXQocix7dHJhY2s6bixpZDp0W2ldLmlkLHNzcmNzOnRbaV0ubG9jYWxTU1JDfSl9KSl9d2l0aGRyYXdMb2NhbFRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXRbdF09ZTt0aGlzLmxvY2FsVHJhY2tNYXAuZGVsZXRlKHQpfSkpfWJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9YXN5bmMgdD0+e2lmKEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZShcIikuY29uY2F0KHQsXCIpXCIpKSx0aGlzLmVtaXQobUkuUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSx0KSxcImNvbm5lY3RlZFwiIT09dHx8dGhpcy5zdG9yZS5rZXlNZXRyaWNzLnBlZXJDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uRW5kKCksXCJjb25uZWN0ZWRcIj09PXQmJih0aGlzLl9yZXN0YXJ0VGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fcmVzdGFydFRpbWVyKSx0aGlzLl9yZXN0YXJ0VGltZXI9dm9pZCAwKSwodGhpcy5faXNGaXJzdENvbm5lY3RlZHx8dGhpcy5faXNJblJlc3RhcnRJY2UpJiZ0aGlzLnJlcG9ydFBDU3RhdHMoRGF0ZS5ub3coKSwhMCx0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZSksdGhpcy5faXNJblJlc3RhcnRJY2U9ITEsdGhpcy5faXNGaXJzdENvbm5lY3RlZD0hMSx0aGlzLl9pc1N0YXJ0UmVzdGFydEljZT0hMSksa0MoXCJORVdfSUNFX1JFU1RBUlRcIikpe3ZhciBpO2lmKFByKGk9dGhpcy5fcmVzdGFydFN0YXRlcykuY2FsbChpLHQpKXtpZih0aGlzLl9pc1N0YXJ0UmVzdGFydEljZSlyZXR1cm47dGhpcy5faXNTdGFydFJlc3RhcnRJY2U9ITA7Y29uc3QgdD10PT57aWYoXCJkaXNjb25uZWN0ZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlfHxcImNoZWNraW5nXCI9PT1lLmljZUNvbm5lY3Rpb25TdGF0ZXx8XCJmYWlsZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlKXtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWxdIHN0YXJ0IHVzZSByZXN0YXJ0SUNFLCB0eXBlIGlzIFwiKS5jb25jYXQodCkpO1wiQ09OTkVDVEVEXCI9PT1UVCh0aGlzLG1JLlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlKSYmdGhpcy5lbWl0KG1JLlJlcXVlc3RSZXN0YXJ0SUNFLHQpfX0saT0oKT0+e1wiZGlzY29ubmVjdGVkXCIhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZSYmXCJjaGVja2luZ1wiIT09ZS5pY2VDb25uZWN0aW9uU3RhdGUmJlwiZmFpbGVkXCIhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZXx8KHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQgdGltZW91dCwgZm9yY2UgcmVjb25uZWN0XCIpKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KG1JLlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX0sbj1rQyhcIklDRV9SRVNUQVJUX0lOVEVSVkFMXCIpO3JldHVybiB2b2lkKHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKCk9PntpZihrQyhcIkpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWV9GT1JDRVwiKSYmX0EoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXQodUkuUkVMQVkpLHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChpLG4pO2Vsc2UgaWYoUmcoKSl0KHVJLlVEUCksdGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KGksNGUzKTtlbHNle2lmKHQodUkuVENQKSxfQSgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pcmV0dXJuIHZvaWQodGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3QodUkuUkVMQVkpLHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChpLG4pfSksbikpO3RoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChpLG4pfX0pLDgwMCkpfX1lbHNle2lmKFwiZGlzY29ubmVjdGVkXCI9PT10JiZcImRpc2Nvbm5lY3RlZFwiPT09ZS5pY2VDb25uZWN0aW9uU3RhdGUpcmV0dXJuIHNldFRpbWVvdXQoKCgpPT57aWYoXCJkaXNjb25uZWN0ZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlJiZrQyhcIklDRV9SRVNUQVJUXCIpKXtcIkNPTk5FQ1RFRFwiPT09VFQodGhpcyxtSS5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSkmJnRoaXMuZW1pdChtSS5SZXF1ZXN0UmVzdGFydElDRSl9fSksODAwKSx2b2lkIHNldFRpbWVvdXQoKCgpPT57XCJkaXNjb25uZWN0ZWRcIj09PWUucGVlckNvbm5lY3Rpb25TdGF0ZSYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24gZGlzY29ubmVjdGVkIHRpbWVvdXQgNDAwMG1zLCBmb3JjZSByZWNvbm5lY3RcIikpLHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc0luUmVzdGFydEljZT0hMSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KG1JLlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX0pLDRlMyk7XCJmYWlsZWRcIj09PXQmJihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIHN0YXRlIGZhaWxlZCwgZm9yY2UgcmVjb25uZWN0XCIpKSx0aGlzLnJlcG9ydFBDRGlzY29ubmVjdGVkT3JGYWlsZWQoKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KG1JLlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLGF3YWl0IHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX19LGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZT0+e1wiY29ubmVjdGVkXCIhPT1lfHx0aGlzLnN0b3JlLmtleU1ldHJpY3MuaWNlQ29ubmVjdGlvbkVuZHx8dGhpcy5zdG9yZS5pY2VDb25uZWN0aW9uRW5kKCksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpLHJ2LnJlcG9ydEFwaUludm9rZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7bmFtZTpcIklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLG9wdGlvbnM6ZSx0YWc6b1QuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5lbWl0KG1JLkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxlKX0sZS5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZShcIikuY29uY2F0KGUsXCIpXCIpKX0sZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT1lPT57S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpfSxlLm9uRFRMU1RyYW5zcG9ydEVycm9yPWU9PntLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0RXJyb3IoXCIpLmNvbmNhdChlLFwiKVwiKSl9LGUub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKGh1KHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50Ll9hdWRpb1NTUkM9PT1lKSk7dmFyIG47aSYmKHRoaXMuc3RvcmUuc3Vic2NyaWJlKGkudWlkLFwiYXVkaW9cIix2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKSxudWxsPT09KG49aS5hdWRpb1RyYWNrKXx8dm9pZCAwPT09bnx8bi5lbWl0KEJ5LkZJUlNUX0ZSQU1FX0RFQ09ERUQpLHJ2LmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsWEMuRklSU1RfQVVESU9fREVDT0RFLFFDLkZJUlNUX0FVRElPX0RFQ09ERSx7cGVlcjppLl91aW50aWQsc3Vic2NyaWJlRWxhcHNlOmNELm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkfSkpfSxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oaHUodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX2F1ZGlvU1NSQz09PWUpKTtpJiZydi5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLFhDLkZJUlNUX0FVRElPX1JFQ0VJVkVELFFDLkZJUlNUX0FVRElPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6Y0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KX0sZS5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt0aGlzLnJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSx0LGkpfSxlLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oaHUodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpJiZydi5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLFhDLkZJUlNUX1ZJREVPX1JFQ0VJVkVELFFDLkZJUlNUX1ZJREVPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6Y0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KX0sZS5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57Y29uc3QgaT1cInJlbGF5XCI9PT1lLmNhbmRpZGF0ZVR5cGUsbj1cInJlbGF5XCI9PT10LmNhbmRpZGF0ZVR5cGU7XCJ1bmtub3duXCIhPT10LmNhbmRpZGF0ZVR5cGUmJmk9PT1ufHx0aGlzLmVtaXQobUkuQ29ubmVjdGlvblR5cGVDaGFuZ2UsaSksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLlNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodkQodCkpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodkQoZSkpLFwiKVwiKSl9LGUub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9PntLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodkQodCkpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodkQoZSkpLFwiKVwiKSl9LGUub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3RoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHZvaWQgMCx2b2lkIDAsITApfX11bmJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRFcnJvcj12b2lkIDAsZS5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLGUub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDB9ZmlsdGVyVG9iZU11dGVkVHJhY2tzKGUpe2NvbnN0IHQ9W107aWYoLTE9PT10aGlzLmdldEFsbFRyYWNrcygpLmluZGV4T2YoZSkpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsQXVkaW9UcmFjayk7aWYoZSBpbnN0YW5jZW9mIFpBJiYobnVsbD09aT92b2lkIDA6aS50cmFjaylpbnN0YW5jZW9mIHRiKXJldHVybiBpLnRyYWNrLmlzQWN0aXZlfHx0LnB1c2goW19JLkxvY2FsQXVkaW9UcmFjayxpXSksdDtjb25zdCBuPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZCgodD0+e2xldFsse3RyYWNrOml9XT10O3JldHVybiBlPT09aX0pKTtpZihuJiYodC5wdXNoKG4pLG5bMF09PT1fSS5Mb2NhbFZpZGVvVHJhY2spKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb0xvd1RyYWNrKTtlJiZ0LnB1c2goW19JLkxvY2FsVmlkZW9Mb3dUcmFjayxlXSl9cmV0dXJuIHR9ZmlsdGVyVG9iZVVubXV0ZWRUcmFja3MoZSl7Y29uc3QgdD1bXSxpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKTtpZihlIGluc3RhbmNlb2YgWkEmJihudWxsPT1pP3ZvaWQgMDppLnRyYWNrKWluc3RhbmNlb2YgdGIpcmV0dXJuIGkudHJhY2suaXNBY3RpdmUmJnQucHVzaChbX0kuTG9jYWxBdWRpb1RyYWNrLGldKSx0O2NvbnN0IG49QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKG4paWYoblswXT09PV9JLkxvY2FsVmlkZW9UcmFjayl7dC5wdXNoKG4pO2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvTG93VHJhY2spO2UmJnQucHVzaChbX0kuTG9jYWxWaWRlb0xvd1RyYWNrLGVdKX1lbHNlIHQucHVzaChuKTtyZXR1cm4gdH1jcmVhdGVNdXRlTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpzLGlkOm99XT1lO3N3aXRjaChuKXtjYXNlIF9JLkxvY2FsQXVkaW9UcmFjazppPSR2LkF1ZGlvO2JyZWFrO2Nhc2UgX0kuTG9jYWxWaWRlb1RyYWNrOmk9UHIodD1yLl9oaW50cykuY2FsbCh0LGt5LlNDUkVFTl9UUkFDSyk/JHYuU2NyZWVuOiR2LkhpZ2g7YnJlYWs7Y2FzZSBfSS5Mb2NhbFZpZGVvTG93VHJhY2s6aT0kdi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6b319KSl9Y3JlYXRlVW5tdXRlTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpzLGlkOm99XT1lO3N3aXRjaChuKXtjYXNlIF9JLkxvY2FsQXVkaW9UcmFjazppPSR2LkF1ZGlvO2JyZWFrO2Nhc2UgX0kuTG9jYWxWaWRlb1RyYWNrOmk9UHIodD1yLl9oaW50cykuY2FsbCh0LGt5LlNDUkVFTl9UUkFDSyk/JHYuU2NyZWVuOiR2LkhpZ2g7YnJlYWs7Y2FzZSBfSS5Mb2NhbFZpZGVvTG93VHJhY2s6aT0kdi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6b319KSl9ZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyhlLHQpe2NvbnN0IGk9W10sbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2lmKCFuKXJldHVybiBpO2lmKHQpe2NvbnN0IHI9bi5nZXQodCk7aWYoIXIpcmV0dXJuIGk7aS5wdXNoKFtlLHtraW5kOnQsaWQ6cn1dKX1lbHNlIEFycmF5LmZyb20obi5lbnRyaWVzKCkpLmZvckVhY2goKHQ9PntsZXRbbixyXT10O2kucHVzaChbZSx7a2luZDpuLGlkOnJ9XSl9KSk7cmV0dXJuIGl9ZmlsdGVyVG9iZVVuU3Vic2NyaWJlZERhdGFDaGFubmVscyhlLHQpe2NvbnN0IGk9W107cmV0dXJuIHQuZm9yRWFjaCgodD0+e3ZhciBuO251bGwhPT0obj10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldChlKSkmJnZvaWQgMCE9PW4mJm4uaGFzKHQuaWQpJiZpLnB1c2godCl9KSksaX1jcmVhdGVVbnN1YnNjcmliZU1lc3NhZ2UoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57bGV0W2kse2tpbmQ6bixpZDpyfV09ZTtzd2l0Y2gobil7Y2FzZSBoSS5WSURFTzpyZXR1cm4gdm9pZChpLl92aWRlb1NTUkMmJnQucHVzaCh7c3RyZWFtX3R5cGU6aEkuVklERU8sc3NyY0lkOmkuX3ZpZGVvU1NSQ30pKTtjYXNlIGhJLkFVRElPOnJldHVybiB2b2lkKGkuX2F1ZGlvU1NSQyYmdC5wdXNoKHtzdHJlYW1fdHlwZTpoSS5BVURJTyxzc3JjSWQ6aS5fYXVkaW9TU1JDfSkpfX0pKSx0fWNyZWF0ZVVuc3Vic2NyaWJlQWxsTWVzc2FnZShlKXtjb25zdCB0PW5ldyBNYXA7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2xldFtpLHtraW5kOm59XT1lO2lmKHQuaGFzKGkpKXtsZXQgZT10LmdldChpKTtuPT09aEkuVklERU8/ZXw9aUkuVmlkZW86ZXw9aUkuQXVkaW8sdC5zZXQoaSxlKX1lbHNlIG49PT1oSS5WSURFTz90LnNldChpLGlJLlZpZGVvKTp0LnNldChpLGlJLkF1ZGlvKX0pKSx7dXNlcnM6QXJyYXkuZnJvbSh0LmVudHJpZXMoKSkubWFwKChlPT57bGV0W3QsaV09ZTtyZXR1cm57c3RyZWFtX2lkOnQudWlkLHN0cmVhbV90eXBlOml9fSkpfX13aXRoZHJhd1JlbW90ZVRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXRbdCx7a2luZDppfV09ZTtjb25zdCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7biYmKG4uZGVsZXRlKGkpLDA9PT1BcnJheS5mcm9tKG4uZW50cmllcygpKS5sZW5ndGgmJnRoaXMucmVtb3RlVXNlck1hcC5kZWxldGUodCkpfSkpfWFzeW5jIHVwZGF0ZUJpdHJhdGVMaW1pdChlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb1RyYWNrKSxpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb0xvd1RyYWNrKTt0JiZhd2FpdCB0LnRyYWNrLnNldEJpdHJhdGVMaW1pdChlLnVwbGluayksaSYmZS5sb3dfc3RyZWFtX3VwbGluayYmYXdhaXQgaS50cmFjay5zZXRCaXRyYXRlTGltaXQoe21heF9iaXRyYXRlOmUubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZSxtaW5fYml0cmF0ZTplLmxvd19zdHJlYW1fdXBsaW5rLmJpdHJhdGV8fDB9KX1pc1AyUERpc2Nvbm5lY3RlZCgpe2lmKHRoaXMuY29ubmVjdGlvbil7cmV0dXJuXCJjb25uZWN0ZWRcIiE9PXRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlfXJldHVybiEwfW1hcFB1YlJlc1RvUmVtb3RlQ29uZmlnKGUsdCl7cmV0dXJuIGUubWFwKCgoZSxpKT0+e3ZhciBuO2xldHtzdHJlYW1fdHlwZTpyfT1lO3JldHVybiBudWxsPT09KG49dC5maW5kKChlPT57bGV0e3N0cmVhbV90eXBlOnR9PWU7cmV0dXJuIHI9PT10fSkpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hdHRyaWJ1dGVzfSkpfWFzeW5jIHRyeVRvVW5tdXRlQXVkaW8oZSl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXWluc3RhbmNlb2YgWkEpe3ZhciB0O2NvbnN0IG49dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhlW2ldKTtpZigwPT09bi5sZW5ndGgpY29udGludWU7YXdhaXQobnVsbD09PSh0PXRoaXMuY29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQudW5tdXRlTG9jYWwobi5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSkpO2NvbnN0IHI9dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKG4pO3JldHVybiB2b2lkIGF3YWl0IGdUKHRoaXMsbUkuUmVxdWVzdFVubXV0ZUxvY2FsLHIpfX1iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9KCk9PnRoaXMuZ2V0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT0oKT0+QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT1lPT57dmFyIHQ7cmV0dXJuIShudWxsPT09KHQ9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09dHx8IXQuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpKX0sdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWQ9KGUsdCk9PnRoaXMuZW1pdChtSS5SZXF1ZXN0VXBsb2FkU3RhdHMsZSx0KSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdEFsbFRyYWNrcz0oKT0+dGhpcy5nZXRBbGxUcmFja3MoKX11bmJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCl7dGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RTdGF0cz12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RMb2NhbE1lZGlhPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFJlbW90ZU1lZGlhPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT12b2lkIDB9YXN5bmMgcmVxdWVzdFJlY29ubmVjdCgpe3RoaXMuZHRsc0ZhaWxlZENvdW50Kz0xLGF3YWl0IFVUKHpUKHRoaXMuZHRsc0ZhaWxlZENvdW50LEpUKSksdGhpcy5lbWl0KG1JLlJlcXVlc3RSZWNvbm5lY3QpfWFzeW5jIHJlY29ubmVjdFAyUCgpe2NvbnN0IGU9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKSx0PXRoaXMuY3JlYXRlR2F0ZXdheVVucHVibGlzaE1lc3NhZ2UoZSk7QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKSx0Lmxlbmd0aD4wJiZhd2FpdCBmVCh0aGlzLG1JLlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQyx0KSx0aGlzLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKSx0aGlzLmVtaXQobUkuUmVxdWVzdFJlY29ubmVjdFBDKX1jYW5QdWJsaXNoTG93U3RyZWFtKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5oYXMoX0kuTG9jYWxWaWRlb1RyYWNrKXx8dGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSgoZT0+ZSBpbnN0YW5jZW9mIFNiKSl9dGhyb3dJZlRyYWNrVHlwZU5vdE1hdGNoKGUpe2lmKGUuZmlsdGVyKChlPT5lIGluc3RhbmNlb2YgU2IpKS5sZW5ndGg+MSl0aHJvdyBuZXcgVmcoeGcuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUyk7aWYoZS5maWx0ZXIoKGU9PmUgaW5zdGFuY2VvZiBaQSkpLmxlbmd0aD4xJiYoZS5zb21lKChlPT5lIGluc3RhbmNlb2YgWkEmJmUuX2J5cGFzc1dlYkF1ZGlvKSl8fCFfQSgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0KSl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBNZWRpYVN0cmVhbURlc3ROb2RlXCIpO2Zvcihjb25zdCB0IG9mIGUpe2lmKHQgaW5zdGFuY2VvZiBTYiYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSgoZT0+ZSBpbnN0YW5jZW9mIFNiKSkpdGhyb3cgbmV3IFZnKHhnLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpO2lmKHQgaW5zdGFuY2VvZiBaQSYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSgoZT0+ZSBpbnN0YW5jZW9mIFpBKSkmJighX0EoKS53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdHx8dC5fYnlwYXNzV2ViQXVkaW98fHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBaQSYmZS5fYnlwYXNzV2ViQXVkaW8pKSkpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgTWVkaWFTdHJlYW1EZXN0Tm9kZVwiKX19Z2V0TG93VmlkZW9UcmFjayhlLHQpe2NvbnN0IGk9IWtDKFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJl9BKCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyxuPWhrKGhrKHt9LHt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxmcmFtZXJhdGU6MTUsYml0cmF0ZTo1MH0pLHQpO2xldCByO3I9aT9lLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk6S0woZSxuKTtjb25zdCBzPXhUKDgsXCJ0cmFjay1sb3ctXCIpLG89bmV3IFNiKHIsaGsoaGsoe30saSYme3NjYWxlUmVzb2x1dGlvbkRvd25CeTpDRChuLGUpfSkse30se2ZyYW1lUmF0ZTpuLmZyYW1lcmF0ZSxiaXRyYXRlTWF4Om4uYml0cmF0ZSxiaXRyYXRlTWluOm4uYml0cmF0ZX0pLHZvaWQgMCx2b2lkIDAscyk7cmV0dXJuIG8ub24oVnkuVFJBTlNDRUlWRVJfVVBEQVRFRCwodD0+e2UuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHQsTXkuTE9XX1NUUkVBTSl9KSksby5faGludHMucHVzaChreS5MT1dfU1RSRUFNKSxlLmFkZExpc3RlbmVyKEx5Lk5FRURfQ0xPU0UsKCgpPT57by5jbG9zZSgpfSkpLG99YXN5bmMgZ2xvYmFsTG9jaygpe3JldHVybiB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuZ2xvYmFsTG9ja1wiKX1hc3luYyByZXBvcnRQQ1N0YXRzKGUsdCxpKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbDtpZih0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIFdMKXt2YXIgcixzLG8sYTtjb25zdCBjPXRoaXMuc3RvcmUua2V5TWV0cmljcy5kZXNjcmlwdGlvblN0YXJ0fHwwLHtpY2VDb25uZWN0aW9uU3RhdGU6ZCxkdGxzVHJhbnNwb3J0U3RhdGU6bCxwZWVyQ29ubmVjdGlvblN0YXRlOmh9PXRoaXMuY29ubmVjdGlvbix7bG9jYWw6dSxyZW1vdGU6cH09YXdhaXQgdGhpcy5jb25uZWN0aW9uLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO3J2LnBjU3RhdHModGhpcy5zdG9yZS5zZXNzaW9uSWQse3N0YXJ0VGltZTpjLGV2ZW50RWxhcHNlOmUtY3x8MCxpY2Vjb25uZWN0aW9uc2F0ZTpkLGR0bHNzdGF0ZTpsLGNvbm5lY3Rpb25zdGF0ZTpoLGludFN1Y2M6dD8xOjIsZXJyb3I6bixzZWxlY3RlZExvY2FsQ2FuZGlkYXRlUHJvdG9jb2w6bnVsbCE9PShyPW51bGw9PXU/dm9pZCAwOnUucHJvdG9jb2wpJiZ2b2lkIDAhPT1yP3I6XCJcIixzZWxlY3RlZExvY2FsQ2FuZGlkYXRlVHlwZTpudWxsIT09KHM9dS5jYW5kaWRhdGVUeXBlKSYmdm9pZCAwIT09cz9zOlwiXCIsc2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUFkZHJlc3M6XCJcIi5jb25jYXQodS5hZGRyZXNzLFwiOlwiKS5jb25jYXQodS5wb3J0KSxzZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZVByb3RvY29sOm51bGwhPT0obz1wLnByb3RvY29sKSYmdm9pZCAwIT09bz9vOlwiXCIsc2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVUeXBlOm51bGwhPT0oYT1wLmNhbmRpZGF0ZVR5cGUpJiZ2b2lkIDAhPT1hP2E6XCJcIixzZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUFkZHJlc3M6XCJcIi5jb25jYXQocC5hZGRyZXNzLFwiOlwiKS5jb25jYXQocC5wb3J0KSxyZXN0YXJ0Q250Oml9KX19cmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHQsaSxuKXt2YXIgcjtjb25zdCBzPUFycmF5LmZyb20oaHUocj10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwocikpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpZihzKXtufHx0aGlzLnN0b3JlLnN1YnNjcmliZShzLnVpZCxcInZpZGVvXCIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpO2NvbnN0IHI9dGhpcy5zdG9yZS5rZXlNZXRyaWNzLG89ci5zdWJzY3JpYmUuZmluZCgoZT0+ZS51c2VySWQ9PT1zLnVpZCYmXCJ2aWRlb1wiPT09ZS50eXBlKSk7cnYuZmlyc3RSZW1vdGVWaWRlb0RlY29kZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxYQy5GSVJTVF9WSURFT19ERUNPREUsUUMuRklSU1RfVklERU9fREVDT0RFLHtwZWVyOnMuX3VpbnRpZCx2aWRlb3dpZHRoOnQsdmlkZW9oZWlnaHQ6aSxzdWJzY3JpYmVFbGFwc2U6Y0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWQsYXBFbmQ6ci5yZXF1ZXN0QVBFbmR8fDAsYXBTdGFydDpyLnJlcXVlc3RBUFN0YXJ0fHwwLGpvaW5Hd0VuZDpyLmpvaW5HYXRld2F5RW5kfHwwLGpvaW5Hd1N0YXJ0OnIuam9pbkdhdGV3YXlTdGFydHx8MCxwY0VuZDpyLnBlZXJDb25uZWN0aW9uRW5kfHwwLHBjU3RhcnQ6ci5wZWVyQ29ubmVjdGlvblN0YXJ0fHwwLHN1YnNjcmliZXJFbmQ6KG51bGw9PW8/dm9pZCAwOm8uc3Vic2NyaWJlRW5kKXx8MCxzdWJzY3JpYmVyU3RhcnQ6KG51bGw9PW8/dm9pZCAwOm8uc3Vic2NyaWJlU3RhcnQpfHwwLHZpZGVvQWRkTm90aWZ5OihudWxsPT1vP3ZvaWQgMDpvLnN0cmVhbUFkZGVkKXx8MCxzdGF0ZTpuPzE6MH0pfX1hc3luYyByZW1vdGVNZWRpYVNzcmNDaGFuZ2VkKGUsdCxpKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiExO2NvbnN0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighbilyZXR1cm4hMTtjb25zdCByPW4uZ2V0KHQpO2lmKCFyKXJldHVybiExO2NvbnN0IHM9YXdhaXQgdGhpcy5jb25uZWN0aW9uLmdldFJlbW90ZVNTUkMocik7cmV0dXJuIHZvaWQgMCE9PXMmJnMhPT1pfXJlc2V0Q29ubmVjdGlvbihlKXtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWxdIHJlc2V0IGNvbm5lY3Rpb24gdG8gXCIpLmNvbmNhdChlKSksdGhpcy5zdGF0ZT09PUVJLkNvbm5lY3RlZD8oS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDaGFubmVsXSBmYWxsYmFjayB0byB3ZWJzb2NrZXQgYnV0IFAyUENoYW5uZWwgc3RhdGUgc3RpbGwgY29ubmVjdGVkLCBkaXNjb25uZWN0IGZpcnN0XCIpKSx0aGlzLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKSk6KHRoaXMuY29ubmVjdGlvbiYmKHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj12b2lkIDApLHRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYodGhpcy5jb25uZWN0aW9uPWU9PT1uSS5kYXRhY2hhbm5lbD9uZXcgc2soe30sdGhpcy5zdG9yZSk6dGhpcy5pc1BsYW5CP25ldyBNTCh7fSx0aGlzLnN0b3JlKTpuZXcgV0woe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSl9dW5iaW5kUnRwVHJhbnNjZWl2ZXIoKXswIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LHt0cmFjazppfV09ZTt0PT09X0kuTG9jYWxWaWRlb0xvd1RyYWNrP2kuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHZvaWQgMCxNeS5MT1dfU1RSRUFNKTppLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDApfSkpfXJlcG9ydFBDRGlzY29ubmVjdGVkT3JGYWlsZWQoZSl7dGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBXTCYmKFwiZGlzY29ubmVjdGVkXCIhPT10aGlzLmNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlJiZcImNoZWNraW5nXCIhPT10aGlzLmNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlJiZcImZhaWxlZFwiIT09dGhpcy5jb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZXx8KHRoaXMuX2lzRmlyc3RDb25uZWN0ZWQ/KHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc0ZpcnN0Q29ubmVjdGVkPSExKTp0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZT09PXBJLlRDUF9SRVNUQVJUJiZlPT09dUkuUkVMQVk/dGhpcy5yZXBvcnRQQ1N0YXRzKERhdGUubm93KCksITEsdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGUpOnRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHBJLkRJU0NPTk5FQ1RFRF9PUl9GQUlMRUQpKSl9fWZ1bmN0aW9uIEVrKGUsdCxpKXtjb25zdCBuPWVbdF07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIGkudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMubXV0ZXgsaT1hd2FpdCBlLmxvY2soXCJGcm9tIFAyUENoYW5uZWwuXCIuY29uY2F0KHQpKTt0cnl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkociksbz0wO288cjtvKyspc1tvXT1hcmd1bWVudHNbb107cmV0dXJuIGF3YWl0IG4uYXBwbHkodGhpcyxzKX1maW5hbGx5e2koKX19LGl9ZnVuY3Rpb24gbWsoZSl7bGV0IHQ9YmsoKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtsZXQgaT1lLmFwcElkO3ZvaWQgMCE9PWkmJihqayh0LDEwKSxrayh0LGkpKTtsZXQgbj1lLmNpZDt2b2lkIDAhPT1uJiYoamsodCwxNiksamsodCxuKSk7bGV0IHI9ZS5jbmFtZTt2b2lkIDAhPT1yJiYoamsodCwyNiksa2sodCxyKSk7bGV0IHM9ZS5kZXZpY2VJZDt2b2lkIDAhPT1zJiYoamsodCwzNCksa2sodCxzKSk7bGV0IG89ZS5lbGFwc2U7dm9pZCAwIT09byYmKGprKHQsNDApLEdrKHQsbykpO2xldCBhPWUuZmlsZVNpemU7dm9pZCAwIT09YSYmKGprKHQsNDgpLEdrKHQseWsoYSkpKTtsZXQgYz1lLmhlaWdodDt2b2lkIDAhPT1jJiYoamsodCw1NiksR2sodCx5ayhjKSkpO2xldCBkPWUuanBnO3ZvaWQgMCE9PWQmJihqayh0LDY2KSxqayh0LGQubGVuZ3RoKSxmdW5jdGlvbihlLHQpe2xldCBpPURrKGUsdC5sZW5ndGgpO2UuYnl0ZXMuc2V0KHQsaSl9KHQsZCkpO2xldCBsPWUubmV0d29ya1R5cGU7dm9pZCAwIT09bCYmKGprKHQsNzIpLEdrKHQseWsobCkpKTtsZXQgaD1lLm9zVHlwZTt2b2lkIDAhPT1oJiYoamsodCw4MCksR2sodCx5ayhoKSkpO2xldCB1PWUucmVxdWVzdElkO3ZvaWQgMCE9PXUmJihqayh0LDkwKSxrayh0LHUpKTtsZXQgcD1lLnNka1ZlcnNpb247dm9pZCAwIT09cCYmKGprKHQsOTgpLGtrKHQscCkpO2xldCBfPWUuc2VxdWVuY2U7dm9pZCAwIT09XyYmKGprKHQsMTA0KSxHayh0LHlrKF8pKSk7bGV0IEU9ZS5zaWQ7dm9pZCAwIT09RSYmKGprKHQsMTE0KSxrayh0LEUpKTtsZXQgbT1lLnRpbWVzdGFtcDt2b2lkIDAhPT1tJiYoamsodCwxMjApLEdrKHQsbSkpO2xldCBmPWUudWlkO3ZvaWQgMCE9PWYmJihqayh0LDEyOCksamsodCxmKSk7bGV0IGc9ZS52aWQ7dm9pZCAwIT09ZyYmKGprKHQsMTM2KSxqayh0LGcpKTtsZXQgVD1lLndpZHRoO3ZvaWQgMCE9PVQmJihqayh0LDE0NCksR2sodCx5ayhUKSkpO2xldCBTPWUuc2VydmljZTt2b2lkIDAhPT1TJiYoamsodCwxNTIpLGprKHQsUykpO2xldCBSPWUuY2FsbGJhY2tEYXRhO3ZvaWQgMCE9PVImJihqayh0LDE2Miksa2sodCxSKSk7bGV0IEM9ZS5qcGdFbmNyeXB0aW9uO3ZvaWQgMCE9PUMmJihqayh0LDE2OCksamsodCxDKSk7bGV0IHY9ZS5yZXF1ZXN0VHlwZTt2b2lkIDAhPT12JiYoamsodCwxNzYpLGprKHQsdikpO2xldCBJPWUuc2NvcmVQb3JuO3ZvaWQgMCE9PUkmJihqayh0LDE4NSksRmsodCxJKSk7bGV0IHk9ZS5zY29yZVNleHk7dm9pZCAwIT09eSYmKGprKHQsMTkzKSxGayh0LHkpKTtsZXQgQT1lLnNjb3JlTmV1dHJhbDt2b2lkIDAhPT1BJiYoamsodCwyMDEpLEZrKHQsQSkpO2xldCBiPWUuc2NlbmU7dm9pZCAwIT09YiYmKGprKHQsMjA4KSxqayh0LGIpKTtsZXQgdz1lLm9zc0ZpbGVQcmVmaXg7dm9pZCAwIT09dyYmKGprKHQsMjE4KSxrayh0LHcpKTtsZXQgTz1lLnNlcnZpY2VWZW5kb3I7aWYodm9pZCAwIT09Tylmb3IobGV0IGUgb2YgTyl7amsodCwyMjYpO2xldCBpPWJrKCk7VGsoZSxpKSxqayh0LGkubGltaXQpLE1rKHQsaSksd2soaSl9fShlLHQpLGZ1bmN0aW9uKGUpe2xldCB0PWUuYnl0ZXMsaT1lLmxpbWl0O3JldHVybiB0Lmxlbmd0aD09PWk/dDp0LnN1YmFycmF5KDAsaSl9KHQpfWZ1bmN0aW9uIGZrKGUpe3JldHVybiBmdW5jdGlvbihlKXtsZXQgdD17fTtlOmZvcig7IU5rKGUpOyl7bGV0IGk9QmsoZSk7c3dpdGNoKGk+Pj4zKXtjYXNlIDA6YnJlYWsgZTtjYXNlIDE6dC5jb2RlPUJrKGUpO2JyZWFrO2Nhc2UgMjp0Lm1zZz1MayhlLEJrKGUpKTticmVhaztjYXNlIDM6e2xldCBpPVNrKGUpO3QuZGF0YT1nayhlKSxlLmxpbWl0PWk7YnJlYWt9ZGVmYXVsdDpSayhlLDcmaSl9fXJldHVybiB0fSh7Ynl0ZXM6dD1lLG9mZnNldDowLGxpbWl0OnQubGVuZ3RofSk7dmFyIHR9ZnVuY3Rpb24gZ2soZSl7bGV0IHQ9e307ZTpmb3IoOyFOayhlKTspe2xldCBpPUJrKGUpO3N3aXRjaChpPj4+Myl7Y2FzZSAwOmJyZWFrIGU7Y2FzZSAxOnQucmVxdWVzdElkPUxrKGUsQmsoZSkpO2JyZWFrO2Nhc2UgMjp0LnJlcXVlc3RUeXBlPUJrKGUpPj4+MDticmVhaztjYXNlIDM6dC5zY29yZVBvcm49VmsoZSk7YnJlYWs7Y2FzZSA0OnQuc2NvcmVTZXh5PVZrKGUpO2JyZWFrO2Nhc2UgNTp0LnNjb3JlTmV1dHJhbD1WayhlKTticmVhaztjYXNlIDY6dC5yZXF1ZXN0U2NlbmU9QmsoZSk+Pj4wO2JyZWFrO2Nhc2UgNzp0LnNjZW5lPUJrKGUpPj4+MDticmVhaztkZWZhdWx0OlJrKGUsNyZpKX19cmV0dXJuIHR9ZnVuY3Rpb24gVGsoZSx0KXtsZXQgaT1lLnNlcnZpY2U7dm9pZCAwIT09aSYmKGprKHQsOCksamsodCxpKSk7bGV0IG49ZS52ZW5kb3I7dm9pZCAwIT09biYmKGprKHQsMTYpLGprKHQsbikpO2xldCByPWUudG9rZW47dm9pZCAwIT09ciYmKGprKHQsMjYpLGtrKHQscikpO2xldCBzPWUuY2FsbGJhY2tVcmw7dm9pZCAwIT09cyYmKGprKHQsMzQpLGtrKHQscykpfWZ1bmN0aW9uIFNrKGUpe2xldCB0PUJrKGUpLGk9ZS5saW1pdDtyZXR1cm4gZS5saW1pdD1lLm9mZnNldCt0LGl9ZnVuY3Rpb24gUmsoZSx0KXtzd2l0Y2godCl7Y2FzZSAwOmZvcig7MTI4JlVrKGUpOyk7YnJlYWs7Y2FzZSAyOk9rKGUsQmsoZSkpO2JyZWFrO2Nhc2UgNTpPayhlLDQpO2JyZWFrO2Nhc2UgMTpPayhlLDgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIit0KX19TXYoW0VrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcInN0YXJ0UDJQQ29ubmVjdGlvblwiLG51bGwpLE12KFtFayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LE9iamVjdCxBcnJheSxPYmplY3QsU3RyaW5nLFN0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcImNvbm5lY3RcIixudWxsKSxNdihbRWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLF9rLnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc1wiLG51bGwpLE12KFtFayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LE9iamVjdCxBcnJheSxPYmplY3QsU3RyaW5nLFN0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcInByZUNvbm5lY3RcIixudWxsKSxNdihbRWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sX2sucHJvdG90eXBlLFwicHVibGlzaERhdGFDaGFubmVsXCIsbnVsbCksTXYoW0VrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcInVucHVibGlzaFwiLG51bGwpLE12KFtFayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxfay5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hEYXRhQ2hhbm5lbFwiLG51bGwpLE12KFtFayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sX2sucHJvdG90eXBlLFwidW5wdWJsaXNoTG93U3RyZWFtXCIsbnVsbCksTXYoW0VrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOUCxBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcInN1YnNjcmliZURhdGFDaGFubmVsXCIsbnVsbCksTXYoW0VrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOUCxTdHJpbmcsTnVtYmVyLE51bWJlcixBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcInN1YnNjcmliZVwiLG51bGwpLE12KFtFayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxfay5wcm90b3R5cGUsXCJtYXNzU3Vic2NyaWJlXCIsbnVsbCksTXYoW0VrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOUCxTdHJpbmcsQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIsbnVsbCksTXYoW0VrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOUCxBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlRGF0YUNoYW5uZWxcIixudWxsKSxNdihbRWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sX2sucHJvdG90eXBlLFwibWFzc1Vuc3Vic2NyaWJlXCIsbnVsbCksTXYoW0VrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOUCxTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxfay5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsbnVsbCksTXYoW0VrLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOUCxTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxfay5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixudWxsKSxNdihbRWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW05QLFN0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcImhhc1JlbW90ZU1lZGlhV2l0aExvY2tcIixudWxsKSxNdihbRWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcImRpc2Nvbm5lY3RGb3JSZWNvbm5lY3RcIixudWxsKSxNdihbRWssVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcInVwZGF0ZUJpdHJhdGVMaW1pdFwiLG51bGwpLE12KFtFayxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTlAsU3RyaW5nLE51bWJlcl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLF9rLnByb3RvdHlwZSxcInJlbW90ZU1lZGlhU3NyY0NoYW5nZWRcIixudWxsKTtsZXQgQ2s9bmV3IEZsb2F0MzJBcnJheSgxKTtuZXcgVWludDhBcnJheShDay5idWZmZXIpO2xldCB2az1uZXcgRmxvYXQ2NEFycmF5KDEpLElrPW5ldyBVaW50OEFycmF5KHZrLmJ1ZmZlcik7ZnVuY3Rpb24geWsoZSl7cmV0dXJue2xvdzplfD0wLGhpZ2g6ZT4+MzEsdW5zaWduZWQ6ZT49MH19bGV0IEFrPVtdO2Z1bmN0aW9uIGJrKCl7Y29uc3QgZT1Bay5wb3AoKTtyZXR1cm4gZT8oZS5vZmZzZXQ9ZS5saW1pdD0wLGUpOntieXRlczpuZXcgVWludDhBcnJheSg2NCksb2Zmc2V0OjAsbGltaXQ6MH19ZnVuY3Rpb24gd2soZSl7QWsucHVzaChlKX1mdW5jdGlvbiBPayhlLHQpe2lmKGUub2Zmc2V0K3Q+ZS5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJTa2lwIHBhc3QgbGltaXRcIik7ZS5vZmZzZXQrPXR9ZnVuY3Rpb24gTmsoZSl7cmV0dXJuIGUub2Zmc2V0Pj1lLmxpbWl0fWZ1bmN0aW9uIERrKGUsdCl7bGV0IGk9ZS5ieXRlcyxuPWUub2Zmc2V0LHI9ZS5saW1pdCxzPW4rdDtpZihzPmkubGVuZ3RoKXtsZXQgdD1uZXcgVWludDhBcnJheSgyKnMpO3Quc2V0KGkpLGUuYnl0ZXM9dH1yZXR1cm4gZS5vZmZzZXQ9cyxzPnImJihlLmxpbWl0PXMpLG59ZnVuY3Rpb24gUGsoZSx0KXtsZXQgaT1lLm9mZnNldDtpZihpK3Q+ZS5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJSZWFkIHBhc3QgbGltaXRcIik7cmV0dXJuIGUub2Zmc2V0Kz10LGl9ZnVuY3Rpb24gTGsoZSx0KXtsZXQgaT1QayhlLHQpLG49U3RyaW5nLmZyb21DaGFyQ29kZSxyPWUuYnl0ZXMscz1cIu+/vVwiLG89XCJcIjtmb3IobGV0IGU9MDtlPHQ7ZSsrKXtsZXQgYSxjLGQsbCxoPXJbZStpXTswPT0oMTI4JmgpP28rPW4oaCk6MTkyPT0oMjI0JmgpP2UrMT49dD9vKz1zOihhPXJbZStpKzFdLDEyOCE9KDE5MiZhKT9vKz1zOihsPSgzMSZoKTw8Nnw2MyZhLGw8MTI4P28rPXM6KG8rPW4obCksZSsrKSkpOjIyND09KDI0MCZoKT9lKzI+PXQ/bys9czooYT1yW2UraSsxXSxjPXJbZStpKzJdLDMyODk2IT0oNDkzNDQmKGF8Yzw8OCkpP28rPXM6KGw9KDE1JmgpPDwxMnwoNjMmYSk8PDZ8NjMmYyxsPDIwNDh8fGw+PTU1Mjk2JiZsPD01NzM0Mz9vKz1zOihvKz1uKGwpLGUrPTIpKSk6MjQwPT0oMjQ4JmgpP2UrMz49dD9vKz1zOihhPXJbZStpKzFdLGM9cltlK2krMl0sZD1yW2UraSszXSw4NDIxNTA0IT0oMTI2MzIyNTYmKGF8Yzw8OHxkPDwxNikpP28rPXM6KGw9KDcmaCk8PDE4fCg2MyZhKTw8MTJ8KDYzJmMpPDw2fDYzJmQsbDw2NTUzNnx8bD4xMTE0MTExP28rPXM6KGwtPTY1NTM2LG8rPW4oNTUyOTYrKGw+PjEwKSw1NjMyMCsoMTAyMyZsKSksZSs9MykpKTpvKz1zfXJldHVybiBvfWZ1bmN0aW9uIGtrKGUsdCl7bGV0IGk9dC5sZW5ndGgsbj0wO2ZvcihsZXQgZT0wO2U8aTtlKyspe2xldCByPXQuY2hhckNvZGVBdChlKTtyPj01NTI5NiYmcjw9NTYzMTkmJmUrMTxpJiYocj0ocjw8MTApK3QuY2hhckNvZGVBdCgrK2UpLTU2NjEzODg4KSxuKz1yPDEyOD8xOnI8MjA0OD8yOnI8NjU1MzY/Mzo0fWprKGUsbik7bGV0IHI9RGsoZSxuKSxzPWUuYnl0ZXM7Zm9yKGxldCBlPTA7ZTxpO2UrKyl7bGV0IG49dC5jaGFyQ29kZUF0KGUpO24+PTU1Mjk2JiZuPD01NjMxOSYmZSsxPGkmJihuPShuPDwxMCkrdC5jaGFyQ29kZUF0KCsrZSktNTY2MTM4ODgpLG48MTI4P3NbcisrXT1uOihuPDIwNDg/c1tyKytdPW4+PjYmMzF8MTkyOihuPDY1NTM2P3NbcisrXT1uPj4xMiYxNXwyMjQ6KHNbcisrXT1uPj4xOCY3fDI0MCxzW3IrK109bj4+MTImNjN8MTI4KSxzW3IrK109bj4+NiY2M3wxMjgpLHNbcisrXT02MyZufDEyOCl9fWZ1bmN0aW9uIE1rKGUsdCl7bGV0IGk9RGsoZSx0LmxpbWl0KSxuPWUuYnl0ZXMscj10LmJ5dGVzO2ZvcihsZXQgZT0wLHM9dC5saW1pdDtlPHM7ZSsrKW5bZStpXT1yW2VdfWZ1bmN0aW9uIFVrKGUpe3JldHVybiBlLmJ5dGVzW1BrKGUsMSldfWZ1bmN0aW9uIHhrKGUsdCl7bGV0IGk9RGsoZSwxKTtlLmJ5dGVzW2ldPXR9ZnVuY3Rpb24gVmsoZSl7bGV0IHQ9UGsoZSw4KSxpPWUuYnl0ZXM7cmV0dXJuIElrWzBdPWlbdCsrXSxJa1sxXT1pW3QrK10sSWtbMl09aVt0KytdLElrWzNdPWlbdCsrXSxJa1s0XT1pW3QrK10sSWtbNV09aVt0KytdLElrWzZdPWlbdCsrXSxJa1s3XT1pW3QrK10sdmtbMF19ZnVuY3Rpb24gRmsoZSx0KXtsZXQgaT1EayhlLDgpLG49ZS5ieXRlczt2a1swXT10LG5baSsrXT1Ja1swXSxuW2krK109SWtbMV0sbltpKytdPUlrWzJdLG5baSsrXT1Ja1szXSxuW2krK109SWtbNF0sbltpKytdPUlrWzVdLG5baSsrXT1Ja1s2XSxuW2krK109SWtbN119ZnVuY3Rpb24gQmsoZSl7bGV0IHQsaT0wLG49MDtkb3t0PVVrKGUpLGk8MzImJihufD0oMTI3JnQpPDxpKSxpKz03fXdoaWxlKDEyOCZ0KTtyZXR1cm4gbn1mdW5jdGlvbiBqayhlLHQpe2Zvcih0Pj4+PTA7dD49MTI4Oyl4ayhlLDEyNyZ0fDEyOCksdD4+Pj03O3hrKGUsdCl9ZnVuY3Rpb24gR2soZSx0KXtsZXQgaT10Lmxvdz4+PjAsbj0odC5sb3c+Pj4yOHx0LmhpZ2g8PDQpPj4+MCxyPXQuaGlnaD4+PjI0LHM9MD09PXI/MD09PW4/aTwxNjM4ND9pPDEyOD8xOjI6aTwxPDwyMT8zOjQ6bjwxNjM4ND9uPDEyOD81OjY6bjwxPDwyMT83Ojg6cjwxMjg/OToxMCxvPURrKGUscyksYT1lLmJ5dGVzO3N3aXRjaChzKXtjYXNlIDEwOmFbbys5XT1yPj4+NyYxO2Nhc2UgOTphW28rOF09OSE9PXM/MTI4fHI6MTI3JnI7Y2FzZSA4OmFbbys3XT04IT09cz9uPj4+MjF8MTI4Om4+Pj4yMSYxMjc7Y2FzZSA3OmFbbys2XT03IT09cz9uPj4+MTR8MTI4Om4+Pj4xNCYxMjc7Y2FzZSA2OmFbbys1XT02IT09cz9uPj4+N3wxMjg6bj4+PjcmMTI3O2Nhc2UgNTphW28rNF09NSE9PXM/MTI4fG46MTI3Jm47Y2FzZSA0OmFbbyszXT00IT09cz9pPj4+MjF8MTI4Omk+Pj4yMSYxMjc7Y2FzZSAzOmFbbysyXT0zIT09cz9pPj4+MTR8MTI4Omk+Pj4xNCYxMjc7Y2FzZSAyOmFbbysxXT0yIT09cz9pPj4+N3wxMjg6aT4+PjcmMTI3O2Nhc2UgMTphW29dPTEhPT1zPzEyOHxpOjEyNyZpfX1mdW5jdGlvbiBXayhlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9Y29uc3QgSGs9bmV3IE1hcChbW1wibW9kZXJhdGlvblwiLDFdLFtcInN1cGVydmlzZVwiLDJdXSk7Y2xhc3MgS2sgZXh0ZW5kcyBpVHtnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZX1zZXQgY29ubmVjdGlvblN0YXRlKGUpe2lmKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZT09PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY29ubmVjdGlvblN0YXRlO3RoaXMuX2Nvbm5lY3Rpb25TdGF0ZT1lLHRoaXMuZW1pdChTSS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSx0LGUpfWdldCBpbnNwZWN0VHlwZSgpe3JldHVybiB0aGlzLl9pbnNwZWN0VHlwZX1zZXQgaW5zcGVjdFR5cGUoZSl7dmFyIHQ7dGhpcy5faW5zcGVjdE1vZGU9Y1ModD1lLm1hcCgoZT0+SGsuZ2V0KGUpfHwwKSkpLmNhbGwodCwoKGUsdCk9PmUrdCkpLHRoaXMuX2luc3BlY3RUeXBlPWV9Z2V0IHF1YWxpdHkoKXtyZXR1cm4gdGhpcy5fcXVhbGl0eX1zZXQgcXVhbGl0eShlKXt0aGlzLl9xdWFsaXR5PWU+MT8xOmU8LjE/LjE6ZSx0aGlzLnF1YWxpdHlUaW1lciYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5xdWFsaXR5VGltZXIpLHRoaXMucXVhbGl0eVRpbWVyPW51bGwpLHRoaXMuX3F1YWxpdHk+PTF8fCh0aGlzLnF1YWxpdHlUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLnF1YWxpdHk9dGhpcy5fcXVhbGl0eS90aGlzLnF1YWxpdHlSYXRpb30pLDZlNCkpfWNvbnN0cnVjdG9yKGUpe3N1cGVyKCksbnUodGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDVmlkZW9Db250ZW50SW5zcGVjdFwiKSxudSh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLGdJLkNPTk5FQ1RJTkcpLG51KHRoaXMsXCJfaW5uZXJDb25uZWN0aW9uU3RhdGVcIix2b2lkIDApLG51KHRoaXMsXCJzZXF1ZW5jZVwiLDApLG51KHRoaXMsXCJpbnNwZWN0U3RhcnRUaW1lXCIsdm9pZCAwKSxudSh0aGlzLFwid29ya2VyTWFuYWdlckNvbm5lY3Rpb25cIix2b2lkIDApLG51KHRoaXMsXCJ3b3JrZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwid29ya2VyTWVzc2FnZUxlbmd0aExpbWl0XCIsdm9pZCAwKSxudSh0aGlzLFwiaW5zcGVjdEludGVydmFsTWluaW11bVwiLHZvaWQgMCksbnUodGhpcyxcInF1YWxpdHlSYXRpb1wiLHZvaWQgMCksbnUodGhpcyxcIl9jb25uZWN0SW5mb1wiLHZvaWQgMCksbnUodGhpcyxcIl9jYW5jZWxUb2tlblNvdXJjZVwiLEVDLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxudSh0aGlzLFwiX3JldHJ5Q29uZmlnXCIsdm9pZCAwKSxudSh0aGlzLFwid21TZXF1ZW5jZVwiLDApLG51KHRoaXMsXCJpbnNwZWN0SW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJpbnNwZWN0VGltZXJcIixudWxsKSxudSh0aGlzLFwib3NzRmlsZVByZWZpeFwiLHZvaWQgMCksbnUodGhpcyxcImV4dHJhSW5mb1wiLHZvaWQgMCksbnUodGhpcyxcIl9pbnNwZWN0VHlwZVwiLHZvaWQgMCksbnUodGhpcyxcIl9pbnNwZWN0TW9kZVwiLHZvaWQgMCksbnUodGhpcyxcIl9xdWFsaXR5XCIsMSksbnUodGhpcyxcInF1YWxpdHlUaW1lclwiLG51bGwpLG51KHRoaXMsXCJfaW5zcGVjdElkXCIsdm9pZCAwKSxudSh0aGlzLFwiX25lZWRXb3JrVXJsT25seVwiLCExKSxudSh0aGlzLFwiaW5zcGVjdEltYWdlXCIsKCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1nSS5DT05ORUNURUQpdGhyb3cgbmV3IHh2KHhnLk9QRVJBVElPTl9BQk9SVEVELFwiY29udGVudCBpbnNwZWN0IHNlcnZpY2UgY29ubmVjdGlvbiBzdGF0dXMgaXMgXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlKSk7dGhpcy5pbnNwZWN0VGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmluc3BlY3RUaW1lciksdGhpcy5pbnNwZWN0VGltZXI9bnVsbCksdGhpcy5pbnNwZWN0VGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09Z0kuQ09OTkVDVEVEP3RoaXMucmVxdWVzdFRvSW5zcGVjdEltYWdlKCk6S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCBTdGF0ZSBpcyBub3QgY29ubmVjdGVkICwgXCIpLHRoaXMuY29ubmVjdGlvblN0YXRlKX0pLHRoaXMuaW5zcGVjdEludGVydmFsPHRoaXMuaW5zcGVjdEludGVydmFsTWluaW11bT90aGlzLmluc3BlY3RJbnRlcnZhbE1pbmltdW06dGhpcy5pbnNwZWN0SW50ZXJ2YWwpLHRoaXMucmVxdWVzdFRvSW5zcGVjdEltYWdlKCl9KSksdGhpcy5faW5zcGVjdElkPXhUKDUsXCJpbnNwZWN0LVwiKSx0aGlzLndvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdD1rQyhcIlZJREVPX0lOU1BFQ1RfV09SS0VSX01FU1NBR0VfTEVOR1RIX0xJTUlUXCIpLHRoaXMuaW5zcGVjdEludGVydmFsTWluaW11bT1rQyhcIlZJREVPX0lOU1BFQ1RfSU5URVJWQUxfTUlOSU1VTVwiKSx0aGlzLnF1YWxpdHlSYXRpbz1rQyhcIlZJREVPX0lOU1BFQ1RfUVVBTElUWV9SQVRJT1wiKSx0aGlzLmluc3BlY3RJbnRlcnZhbD1lLmludGVydmFsLHRoaXMub3NzRmlsZVByZWZpeD1lLm9zc0ZpbGVQcmVmaXgsdGhpcy5leHRyYUluZm89ZS5leHRyYUluZm8sdGhpcy5pbnNwZWN0VHlwZT1lLmluc3BlY3RUeXBlLHRoaXMuaW5zcGVjdFN0YXJ0VGltZT1OdW1iZXIoRGF0ZS5ub3coKSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbj1uZXcgWEkoXCJ3b3JrZXItbWFuYWdlci1cIit0aGlzLl9pbnNwZWN0SWQsSlQpLHRoaXMub24oU0kuU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPWUsS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCBvcGVyYXRpb24gOlwiKS5jb25jYXQoVElbZV0sXCIgXCIpLmNvbmNhdCh0fHxcIlwiKSl9KSksdGhpcy5oYW5kbGVXb3JrZXJNYW5hZ2VyRXZlbnRzKCksdGhpcy53b3JrZXJDb25uZWN0aW9uPW5ldyBYSShcIndvcmtlci1cIit0aGlzLl9pbnNwZWN0SWQsSlQpLHRoaXMuaGFuZGxlV29ya2VyRXZlbnRzKCl9YXN5bmMgaW5pdChlLHQpe3RoaXMuZW1pdChTSS5TVEFURV9DSEFOR0UsVEkuQ09OTkVDVF9BUCksdGhpcy5fY29ubmVjdEluZm89ZTtjb25zdCBpPXRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuO3JldHVybiB0aGlzLl9yZXRyeUNvbmZpZz10LG5ldyB0ZygoKG4scik9Pnt0aGlzLm9uKFNJLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e3Q9PT1nSS5DT05ORUNURUQmJm4oKX0pKSx0aGlzLnJlcXVlc3RBUChlLGksdCkudGhlbigoZT0+e3RoaXMuY29ubmVjdFdvcmtlck1hbmFnZXIoZSl9KSkuY2F0Y2goKGU9PntyKGUpfSkpfSkpfWFzeW5jIHJlcXVlc3RBUChlLHQsaSl7Y29uc3Qgbj1rQyhcIldFQkNTX0RPTUFJTlwiKS5tYXAoKGU9PlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjFcIikpKSxyPWF3YWl0IGZ1bmN0aW9uKGUsdCxpLG4pe2xldHthcHBJZDpyLGFyZWFDb2RlOnMsY25hbWU6byxzaWQ6YSx0b2tlbjpjLHVpZDpkfT10O29QKys7Y29uc3QgbD1cImltYWdlX21vZGVyYXRpb25fYXBpXCIsaD17c2VydmljZV9uYW1lOmwsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHthcHBJZDpyLGFyZWFDb2RlOnMsY25hbWU6byxjb21tYW5kOlwiYWxsb2NhdGVFZGdlXCIscmVxdWVzdElkOm9QLHNlcTpvUCxzaWQ6YSx0b2tlbjpjLHRzOkRhdGUubm93KCksdWlkOmQrXCJcIn0pfTtsZXQgdSxwLF89ZVswXTtyZXR1cm4gWFQoKGFzeW5jKCk9Pnt1PURhdGUubm93KCk7Y29uc3QgZT1hd2FpdCBWRChfLHtkYXRhOmgsY2FuY2VsVG9rZW46aSxoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOlwiMFwiLFwiWC1QYWNrZXQtVVJJXCI6XCI2MVwifSxwYXJhbXM6e2FjdGlvbjpcIndydGNfZ2F0ZXdheVwifX0pO2lmKHA9RGF0ZS5ub3coKS11LDAhPT1lLmNvZGUpe2NvbnN0IHQ9bmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJpbWFnZSBpbnNwZWN0IGFwIGVycm9yLCBjb2RlXCIrZS5jb2RlLHtyZXRyeTohMCxyZXNwb25zZVRpbWU6cH0pO3Rocm93IEtDLmVycm9yKHQudG9TdHJpbmcoKSksdH1jb25zdCB0PUpTT04ucGFyc2UoZS5qc29uX2JvZHkpO2lmKDIwMCE9PXQuY29kZSl7Y29uc3QgZT1uZXcgeHYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImltYWdlIGluc3BlY3QgYXAgZXJyb3IsIGNvZGU6IFwiLmNvbmNhdCh0LmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdCh0LnJlYXNvbikse2NvZGU6dC5jb2RlLHJlc3BvbnNlVGltZTpwfSk7dGhyb3cgS0MuZXJyb3IoZS50b1N0cmluZygpKSxlfWlmKCF0LnNlcnZlcnN8fCFBcnJheS5pc0FycmF5KHQuc2VydmVycyl8fDA9PT10LnNlcnZlcnMubGVuZ3RoKXtjb25zdCBlPW5ldyB4dih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiaW1hZ2UgaW5zcGVjdCBhcCBlbXB0eSBzZXJ2ZXJcIix7Y29kZTp0LmNvZGUscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBLQy5lcnJvcihlLnRvU3RyaW5nKCkpLGV9Y29uc3Qgbj1rQyhcIlZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfSE9TVFwiKSxyPWtDKFwiVklERU9fSU5TUEVDVF9XT1JLRVJfTUFOQUdFUl9QT1JUXCIpO3JldHVybnthZGRyZXNzTGlzdDp0LnNlcnZlcnMubWFwKChlPT57bGV0e2FkZHJlc3M6dCx3c3M6aX09ZTtpZih0JiZpKXJldHVyblwid3NzOi8vXCIuY29uY2F0KHQucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQobixcIjpcIikuY29uY2F0KHJ8fGkpfSkpLmZpbHRlcigoZT0+ISFlKSksd29ya2VyVG9rZW46dC53b3JrZXJUb2tlbix2aWQ6dC52aWQscmVzcG9uc2VUaW1lOnB9fSksKCh0LGkpPT4ocnYuYXB3b3JrZXJFdmVudChhLHtzdWNjZXNzOiEwLHNjOjIwMCxzZXJ2aWNlTmFtZTpsLHJlc3BvbnNlRGV0YWlsOkpTT04uc3RyaW5naWZ5KHQuYWRkcmVzc0xpc3QpLGZpcnN0U3VjY2VzczowPT09aSxyZXNwb25zZVRpbWU6cCxzZXJ2ZXJJcDplW2klZS5sZW5ndGhdfSksITEpKSwoKHQsaSk9Pihydi5hcHdvcmtlckV2ZW50KGEse3N1Y2Nlc3M6ITEsc2M6dC5kYXRhJiZ0LmRhdGEuY29kZXx8MjAwLHNlcnZpY2VOYW1lOmwscmVzcG9uc2VUaW1lOnAsc2VydmVySXA6ZVtpJWUubGVuZ3RoXX0pLCEhKHQuY29kZSE9PXhnLk9QRVJBVElPTl9BQk9SVEVEJiZ0LmNvZGUhPT14Zy5VTkVYUEVDVEVEX1JFU1BPTlNFfHx0LmRhdGEmJnQuZGF0YS5yZXRyeSkmJihfPWVbKGkrMSklZS5sZW5ndGhdLCEwKSkpLG4pfShuLGUsdCxpKTt0aGlzLmVtaXQoU0kuU1RBVEVfQ0hBTkdFLFRJLkFQX0NPTk5FQ1RFRCk7Y29uc3R7YWRkcmVzc0xpc3Q6c309cjtyZXR1cm4gdGhpcy53bVNlcXVlbmNlKyssc31hc3luYyBjb25uZWN0V29ya2VyTWFuYWdlcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuX25lZWRXb3JrVXJsT25seT10LHRoaXMuZW1pdChTSS5TVEFURV9DSEFOR0UsVEkuQ09OTkVDVF9XT1JLRVJfTUFOQUdFUiksYXdhaXQgdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5pbml0KGUsMWU0KX1hc3luYyBjb25uZWN0V29ya2VyKGUpe2F3YWl0IHRoaXMud29ya2VyQ29ubmVjdGlvbi5pbml0KFtlXSl9aGFuZGxlV29ya2VyTWFuYWdlckV2ZW50cygpe3RoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oSXYuQ09OTkVDVEVELChhc3luYygpPT57dGhpcy5lbWl0KFNJLlNUQVRFX0NIQU5HRSxUSS5XT1JLRVJfTUFOQUdFUl9DT05ORUNURUQsdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi51cmwpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uc2VuZE1lc3NhZ2Uoe2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLHVpZDp0aGlzLl9jb25uZWN0SW5mby51aWQrXCJcIixzZGtWZXJzaW9uOlwiNC4xOS4zXCIsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCxzZXE6dGhpcy53bVNlcXVlbmNlLHRzOk51bWJlcihEYXRlLm5vdygpKSxyZXF1ZXN0SWQ6TWF0aC5mbG9vcigxZTEyKk1hdGgucmFuZG9tKCkpLGFsbG9jYXRlOiEwLGNsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJqb2luXCJ9fSwhMCl9KSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihJdi5DTE9TRUQsKCgpPT57dGhpcy5faW5uZXJDb25uZWN0aW9uU3RhdGU8VEkuR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFJiZLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBJbnNwZWN0IHdvcmtlciBtYW5hZ2VyIGlzIGNsb3NlZCBiZWZvcmUgY29ubmVjdGluZyB3b3JrZXJcIikpfSkpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oSXYuRkFJTEVELCgoKT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPFRJLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSYmS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gQ29ubmVjdGluZyBpbnNwZWN0IHdvcmtlciBtYW5hZ2VyIGlzIGZhaWxlZCBiZWZvcmUgY29ubmVjdGluZyB3b3JrZXJcIikpfSkpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oSXYuUkVDT05ORUNUSU5HLCgoKT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPFRJLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSYmS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCB3b3JrZXIgbWFuYWdlciBpcyByZWNvbm5lY3RpbmcgYmVmb3JlIGNvbm5lY3Rpbmcgd29ya2VyXCIpKX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKEl2Lk9OX01FU1NBR0UsKGFzeW5jIGU9Pnt0aGlzLmVtaXQoU0kuU1RBVEVfQ0hBTkdFLFRJLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSk7Y29uc3QgdD10aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLnVybDt0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLmNsb3NlKCk7Y29uc3QgaT1KU09OLnBhcnNlKGUuZGF0YSk7aWYoMjAwIT09aS5jb2RlKXRocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFVuZXhwZWN0ZWQgY29kZSBcIikuY29uY2F0KGkuY29kZSxcIiBmcm9tIHdvcmtlciBtYW5hZ2VyXCIpKSxuZXcgeHYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxcInJlc3BvbnNlIGNvZGUgb2Ygd29ya2VyIGlzIHVuZXhwZWN0ZWRcIixpKTtpZighKGkuc2VydmVyUmVzcG9uc2UmJmkuc2VydmVyUmVzcG9uc2UucG9ydFdzcyYmdCkpdGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gVW5leHBlY3RlZCBjb250ZW50IGZyb20gd29ya2VyIG1hbmFnZXIgOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGkpKSksbmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJyZXNwb25zZSBjb250ZW50IG9mIHdvcmtlciBpcyB1bmV4cGVjdGVkXCIsaSk7e2NvbnN0IGU9a0MoXCJWSURFT19JTlNQRUNUX1dPUktFUl9QT1JUXCIpfHxpLnNlcnZlclJlc3BvbnNlLnBvcnRXc3Msbj10LnJlcGxhY2UoLzpcXGQrXFwvPyQvLFwiOlwiLmNvbmNhdChlKSk7dGhpcy5lbWl0KFNJLlNUQVRFX0NIQU5HRSxUSS5DT05ORUNUX1dPUktFUixuKSx0aGlzLl9uZWVkV29ya1VybE9ubHk/dGhpcy5lbWl0KFNJLlJFUVVFU1RfTkVXX1dPUktFUl9VUkwsbik6YXdhaXQgdGhpcy5jb25uZWN0V29ya2VyKG4pfX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKEl2LldJTExfUkVDT05ORUNULCgoZSx0LGkpPT57aShlKX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKEl2LlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57dGhpcy5yZXF1ZXN0QVAodGhpcy5fY29ubmVjdEluZm8sdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UudG9rZW4sdGhpcy5fcmV0cnlDb25maWcpLnRoZW4oZSkuY2F0Y2godCl9KSl9aGFuZGxlV29ya2VyRXZlbnRzKCl7dGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKEl2LkNPTk5FQ1RFRCwoYXN5bmMoKT0+e3RoaXMuZW1pdChTSS5TVEFURV9DSEFOR0UsVEkuV09SS0VSX0NPTk5FQ1RFRCx0aGlzLndvcmtlckNvbm5lY3Rpb24udXJsKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1nSS5DT05ORUNURUR9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKEl2Lk9OX01FU1NBR0UsKGFzeW5jIGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7Y29uc3QgaT1mayhuZXcgVWludDhBcnJheShlLmRhdGEpKTtpZihrQyhcIlNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRVwiKSYmS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gUmVzcG9uc2UgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGluc3BlY3QgY29udGVudCBcIiksSlNPTi5zdHJpbmdpZnkoaSkpLDIwMD09PWkuY29kZSl7aWYoQXJyYXkuaXNBcnJheSh0aGlzLmluc3BlY3RUeXBlKSYmMT09PXRoaXMuaW5zcGVjdFR5cGUubGVuZ3RoJiZcInN1cGVydmlzZVwiPT09dGhpcy5pbnNwZWN0VHlwZVswXSlyZXR1cm4gdm9pZCB0aGlzLmVtaXQoU0kuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLHZvaWQgMCk7aWYoaS5kYXRhJiZpLmRhdGEuc2NvcmVQb3JuJiZpLmRhdGEuc2NvcmVTZXh5JiZpLmRhdGEuc2NvcmVOZXV0cmFsKXt2YXIgdDtjb25zdCBlPXtwb3JuOmkuZGF0YS5zY29yZVBvcm4sc2V4eTppLmRhdGEuc2NvcmVTZXh5LG5ldXRyYWw6aS5kYXRhLnNjb3JlTmV1dHJhbH0sbj1jUyh0PU9iamVjdC5rZXlzKGUpKS5jYWxsKHQsKCh0LGkpPT5lW3RdPmVbaV0/dDppKSxcInBvcm5cIikscj1PYmplY3Qua2V5cyhlKS5maW5kKChlPT5lPT09bikpO3RoaXMuZW1pdChTSS5JTlNQRUNUX1JFU1VMVCxyKX1lbHNlIHRoaXMuZW1pdChTSS5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsaS5jb2RlK1wiXCIsXCJUaGVyZSBpcyBhbiB1bmV4cGVjdGVkIGRhdGEgb24gbWVzc2FnZVwiKSl9ZWxzZSB0aGlzLmVtaXQoU0kuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyB4dih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLGkuY29kZStcIlwiLGkubXNnKSl9ZWxzZSBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBVbmV4cGVjdGVkIG1lc3NhZ2UgdHlwZSBmcm9tIHdvcmtlclwiKSksdGhpcy5lbWl0KFNJLklOU1BFQ1RfUkVTVUxULHZvaWQgMCxuZXcgeHYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImludmFsaWQgd29ya2VyIG1lc3NhZ2UgdHlwZVwiKSl9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKEl2LkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1nSS5DTE9TRUR9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKEl2LkZBSUxFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1nSS5DTE9TRUR9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKEl2LlJFQ09OTkVDVElORywoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT10aGlzLmNvbm5lY3Rpb25TdGF0ZT09PWdJLkNPTk5FQ1RFRD9nSS5SRUNPTk5FQ1RJTkc6Z0kuQ09OTkVDVElOR30pKSx0aGlzLndvcmtlckNvbm5lY3Rpb24ub24oSXYuV0lMTF9SRUNPTk5FQ1QsKChlLHQsaSk9PntcInJlY292ZXJcIj09PWUmJmkoZSksaShcInRyeU5leHRcIil9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKEl2LlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57dGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMub25jZShTSS5SRVFVRVNUX05FV19XT1JLRVJfVVJMLCh0PT57ZShbdF0pfSkpLHRoaXMucmVxdWVzdEFQKHRoaXMuX2Nvbm5lY3RJbmZvLHRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuLHRoaXMuX3JldHJ5Q29uZmlnKS50aGVuKChlPT57dGhpcy5jb25uZWN0V29ya2VyTWFuYWdlcihlLCEwKX0pKS5jYXRjaCgoZT0+e3QoZSl9KSl9KSl9c3RhdGljIGludFRvTG9uZyhlKXtyZXR1cm57bG93OmV8PTAsaGlnaDplPj4zMSx1bnNpZ25lZDplPj0wfX1hc3luYyByZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKXt0aGlzLnNlcXVlbmNlKys7Y29uc3QgZT1UVCh0aGlzLFNJLkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSyksdD17YXBwSWQ6dGhpcy5fY29ubmVjdEluZm8uYXBwSWQsY25hbWU6dGhpcy5fY29ubmVjdEluZm8uY25hbWUsY2lkOnRoaXMuX2Nvbm5lY3RJbmZvLmNpZCxzaWQ6dGhpcy5fY29ubmVjdEluZm8uc2lkLHVpZDp0aGlzLl9jb25uZWN0SW5mby51aWQsdmlkOnRoaXMuX2Nvbm5lY3RJbmZvLnZpZH07aWYoZSl7aWYoIWUuaXNQbGF5aW5nKXJldHVybiB2b2lkIHRoaXMuZW1pdChTSS5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiT25seSB0aGUgdHJhY2sgYmVpbmcgcGxheWVkIGNhbiBiZSBpbnNwZWN0ZWRcIikpO2NvbnN0IGk9YXdhaXQgdGhpcy5nZW5lcmF0ZVJlcXVlc3REYXRhKGUsdCk7dGhpcy53b3JrZXJDb25uZWN0aW9uLnNlbmRNZXNzYWdlKGksITAsITApfWVsc2UgdGhpcy5lbWl0KFNJLklOU1BFQ1RfUkVTVUxULHZvaWQgMCxuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJPbmx5IHRoZSB0cmFjayBiZWluZyBwdWJsaXNoZWQgY2FuIGJlIGluc3BlY3RlZFwiKSl9YXN5bmMgZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHQpe2xldHthcHBJZDppLGNuYW1lOm4sY2lkOnIsdmlkOnMsc2lkOm8sdWlkOmF9PXQ7Y29uc3QgYz1EYXRlLm5vdygpLGQ9YXdhaXQgZS5nZXRDdXJyZW50RnJhbWVJbWFnZShcImltYWdlL2pwZWdcIix0aGlzLnF1YWxpdHkpLGw9YXdhaXQgZmIoZCxpLG4pLGg9dGhpcy5zZXF1ZW5jZStcIi1cIityK1wiLVwiK2ErXCItXCIrYytcIi1cIit4VCgxMixcIlwiKSx1PXthcHBJZDppLGNpZDpyLGNuYW1lOm4sZGV2aWNlSWQ6XCJcIixlbGFwc2U6S2suaW50VG9Mb25nKE51bWJlcihjLXRoaXMuaW5zcGVjdFN0YXJ0VGltZSkpLGZpbGVTaXplOmwuYnl0ZUxlbmd0aCxqcGdFbmNyeXB0aW9uOjIsaGVpZ2h0OmQuaGVpZ2h0LHdpZHRoOmQud2lkdGgsanBnOmwsbmV0d29ya1R5cGU6Nixvc1R5cGU6NyxyZXF1ZXN0SWQ6aCxzZGtWZXJzaW9uOlwiNC4xOS4zXCIsc2VxdWVuY2U6dGhpcy5zZXF1ZW5jZSxzaWQ6byx0aW1lc3RhbXA6S2suaW50VG9Mb25nKGMpLHVpZDphLHZpZDpzLHNlcnZpY2U6dGhpcy5faW5zcGVjdE1vZGUsY2FsbGJhY2tEYXRhOnRoaXMuZXh0cmFJbmZvLG9zc0ZpbGVQcmVmaXg6dGhpcy5vc3NGaWxlUHJlZml4fTt2b2lkIDA9PT10aGlzLmV4dHJhSW5mbyYmZGVsZXRlIHUuY2FsbGJhY2tEYXRhLHZvaWQgMD09PXRoaXMub3NzRmlsZVByZWZpeCYmZGVsZXRlIHUub3NzRmlsZVByZWZpeDtjb25zdCBwPW1rKHUpO2lmKHAuYnl0ZUxlbmd0aDx0aGlzLndvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdCl7aWYoa0MoXCJTSE9XX1ZJREVPX0lOU1BFQ1RfV09SS0VSX01FU1NBR0VcIikpe2NvbnN0IGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/V2soT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6V2soT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9KHt9LHUpO2RlbGV0ZSBlLmpwZyxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBSZXF1ZXN0IG1lc3NhZ2UgZm9yIHdvcmtlciBvZiBpbnNwZWN0IGNvbnRlbnQgXCIpLEpTT04uc3RyaW5naWZ5KGUpKX1yZXR1cm4gcH17Y29uc3QgdD10aGlzLnF1YWxpdHkqdGhpcy5xdWFsaXR5UmF0aW87cmV0dXJuIHRoaXMucXVhbGl0eT10LGF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHthcHBJZDppLGNuYW1lOm4sY2lkOnIsdmlkOnMsc2lkOm8sdWlkOmF9KX19Y2xvc2UoKXt0aGlzLl9jYW5jZWxUb2tlblNvdXJjZS5jYW5jZWwoKSx0aGlzLl9jYW5jZWxUb2tlblNvdXJjZT1FQy5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uJiZ0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLmNsb3NlKCksdGhpcy53b3JrZXJDb25uZWN0aW9uJiZ0aGlzLndvcmtlckNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLmluc3BlY3RUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbnNwZWN0VGltZXIpLHRoaXMuaW5zcGVjdFRpbWVyPW51bGwsdGhpcy5jb25uZWN0aW9uU3RhdGU9Z0kuQ0xPU0VELHRoaXMuZW1pdChTSS5TVEFURV9DSEFOR0UsVEkuQ0xPU0VEKX19ZnVuY3Rpb24gWWsoZSl7bGV0IHQ9ZnVuY3Rpb24oKXtjb25zdCBlPVhrLnBvcCgpO3JldHVybiBlPyhlLm9mZnNldD1lLmxpbWl0PTAsZSk6e2J5dGVzOm5ldyBVaW50OEFycmF5KDY0KSxvZmZzZXQ6MCxsaW1pdDowfX0oKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtsZXQgaT1lLmFwcElkO3ZvaWQgMCE9PWkmJihhTSh0LDEwKSxuTSh0LGkpKTtsZXQgbj1lLmNpZDt2b2lkIDAhPT1uJiYoYU0odCwxNiksYU0odCxuKSk7bGV0IHI9ZS5jbmFtZTt2b2lkIDAhPT1yJiYoYU0odCwyNiksbk0odCxyKSk7bGV0IHM9ZS5kZXZpY2VJZDt2b2lkIDAhPT1zJiYoYU0odCwzNCksbk0odCxzKSk7bGV0IG89ZS5lbGFwc2U7dm9pZCAwIT09byYmKGFNKHQsNDApLGRNKHQsbykpO2xldCBhPWUuZmlsZVNpemU7dm9pZCAwIT09YSYmKGFNKHQsNDgpLGRNKHQsemsoYSkpKTtsZXQgYz1lLmhlaWdodDt2b2lkIDAhPT1jJiYoYU0odCw1NiksZE0odCx6ayhjKSkpO2xldCBkPWUuanBnO3ZvaWQgMCE9PWQmJihhTSh0LDY2KSxhTSh0LGQubGVuZ3RoKSx0TSh0LGQpKTtsZXQgbD1lLm5ldHdvcmtUeXBlO3ZvaWQgMCE9PWwmJihhTSh0LDcyKSxkTSh0LHprKGwpKSk7bGV0IGg9ZS5vc1R5cGU7dm9pZCAwIT09aCYmKGFNKHQsODApLGRNKHQsemsoaCkpKTtsZXQgdT1lLnJlcXVlc3RJZDt2b2lkIDAhPT11JiYoYU0odCw5MCksbk0odCx1KSk7bGV0IHA9ZS5zZGtWZXJzaW9uO3ZvaWQgMCE9PXAmJihhTSh0LDk4KSxuTSh0LHApKTtsZXQgXz1lLnNlcXVlbmNlO3ZvaWQgMCE9PV8mJihhTSh0LDEwNCksZE0odCx6ayhfKSkpO2xldCBFPWUuc2lkO3ZvaWQgMCE9PUUmJihhTSh0LDExNCksbk0odCxFKSk7bGV0IG09ZS50aW1lc3RhbXA7dm9pZCAwIT09bSYmKGFNKHQsMTIwKSxkTSh0LG0pKTtsZXQgZj1lLnVpZDt2b2lkIDAhPT1mJiYoYU0odCwxMjgpLGFNKHQsZikpO2xldCBnPWUudmlkO3ZvaWQgMCE9PWcmJihhTSh0LDEzNiksYU0odCxnKSk7bGV0IFQ9ZS53aWR0aDt2b2lkIDAhPT1UJiYoYU0odCwxNDQpLGRNKHQsemsoVCkpKTtsZXQgUz1lLnNlcnZpY2U7dm9pZCAwIT09UyYmKGFNKHQsMTUyKSxhTSh0LFMpKTtsZXQgUj1lLmNhbGxiYWNrRGF0YTt2b2lkIDAhPT1SJiYoYU0odCwxNjIpLGFNKHQsUi5sZW5ndGgpLHRNKHQsUikpO2xldCBDPWUudGlja2V0O3ZvaWQgMCE9PUMmJihhTSh0LDE3MCksbk0odCxDKSl9KGUsdCksZnVuY3Rpb24oZSl7bGV0IHQ9ZS5ieXRlcyxpPWUubGltaXQ7cmV0dXJuIHQubGVuZ3RoPT09aT90OnQuc3ViYXJyYXkoMCxpKX0odCl9ZnVuY3Rpb24gcWsoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2xldCB0PXt9O2U6Zm9yKDshWmsoZSk7KXtsZXQgaT1vTShlKTtzd2l0Y2goaT4+PjMpe2Nhc2UgMDpicmVhayBlO2Nhc2UgMTp0LmNvZGU9b00oZSk7YnJlYWs7Y2FzZSAyOnQubXNnPWlNKGUsb00oZSkpO2JyZWFrO2Nhc2UgMzp0LnJlcXVlc3RJZD1pTShlLG9NKGUpKTticmVhaztjYXNlIDQ6dC50aW1lc3RhbXA9Y00oZSwhMSk7YnJlYWs7ZGVmYXVsdDpKayhlLDcmaSl9fXJldHVybiB0fSh7Ynl0ZXM6dD1lLG9mZnNldDowLGxpbWl0OnQubGVuZ3RofSk7dmFyIHR9ZnVuY3Rpb24gSmsoZSx0KXtzd2l0Y2godCl7Y2FzZSAwOmZvcig7MTI4JnJNKGUpOyk7YnJlYWs7Y2FzZSAyOlFrKGUsb00oZSkpO2JyZWFrO2Nhc2UgNTpRayhlLDQpO2JyZWFrO2Nhc2UgMTpRayhlLDgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIit0KX19ZnVuY3Rpb24gemsoZSl7cmV0dXJue2xvdzplfD0wLGhpZ2g6ZT4+MzEsdW5zaWduZWQ6ZT49MH19bGV0IFhrPVtdO2Z1bmN0aW9uIFFrKGUsdCl7aWYoZS5vZmZzZXQrdD5lLmxpbWl0KXRocm93IG5ldyBFcnJvcihcIlNraXAgcGFzdCBsaW1pdFwiKTtlLm9mZnNldCs9dH1mdW5jdGlvbiBaayhlKXtyZXR1cm4gZS5vZmZzZXQ+PWUubGltaXR9ZnVuY3Rpb24gJGsoZSx0KXtsZXQgaT1lLmJ5dGVzLG49ZS5vZmZzZXQscj1lLmxpbWl0LHM9bit0O2lmKHM+aS5sZW5ndGgpe2xldCB0PW5ldyBVaW50OEFycmF5KDIqcyk7dC5zZXQoaSksZS5ieXRlcz10fXJldHVybiBlLm9mZnNldD1zLHM+ciYmKGUubGltaXQ9cyksbn1mdW5jdGlvbiBlTShlLHQpe2xldCBpPWUub2Zmc2V0O2lmKGkrdD5lLmxpbWl0KXRocm93IG5ldyBFcnJvcihcIlJlYWQgcGFzdCBsaW1pdFwiKTtyZXR1cm4gZS5vZmZzZXQrPXQsaX1mdW5jdGlvbiB0TShlLHQpe2xldCBpPSRrKGUsdC5sZW5ndGgpO2UuYnl0ZXMuc2V0KHQsaSl9ZnVuY3Rpb24gaU0oZSx0KXtsZXQgaT1lTShlLHQpLG49U3RyaW5nLmZyb21DaGFyQ29kZSxyPWUuYnl0ZXMscz1cIu+/vVwiLG89XCJcIjtmb3IobGV0IGU9MDtlPHQ7ZSsrKXtsZXQgYSxjLGQsbCxoPXJbZStpXTswPT0oMTI4JmgpP28rPW4oaCk6MTkyPT0oMjI0JmgpP2UrMT49dD9vKz1zOihhPXJbZStpKzFdLDEyOCE9KDE5MiZhKT9vKz1zOihsPSgzMSZoKTw8Nnw2MyZhLGw8MTI4P28rPXM6KG8rPW4obCksZSsrKSkpOjIyND09KDI0MCZoKT9lKzI+PXQ/bys9czooYT1yW2UraSsxXSxjPXJbZStpKzJdLDMyODk2IT0oNDkzNDQmKGF8Yzw8OCkpP28rPXM6KGw9KDE1JmgpPDwxMnwoNjMmYSk8PDZ8NjMmYyxsPDIwNDh8fGw+PTU1Mjk2JiZsPD01NzM0Mz9vKz1zOihvKz1uKGwpLGUrPTIpKSk6MjQwPT0oMjQ4JmgpP2UrMz49dD9vKz1zOihhPXJbZStpKzFdLGM9cltlK2krMl0sZD1yW2UraSszXSw4NDIxNTA0IT0oMTI2MzIyNTYmKGF8Yzw8OHxkPDwxNikpP28rPXM6KGw9KDcmaCk8PDE4fCg2MyZhKTw8MTJ8KDYzJmMpPDw2fDYzJmQsbDw2NTUzNnx8bD4xMTE0MTExP28rPXM6KGwtPTY1NTM2LG8rPW4oNTUyOTYrKGw+PjEwKSw1NjMyMCsoMTAyMyZsKSksZSs9MykpKTpvKz1zfXJldHVybiBvfWZ1bmN0aW9uIG5NKGUsdCl7bGV0IGk9dC5sZW5ndGgsbj0wO2ZvcihsZXQgZT0wO2U8aTtlKyspe2xldCByPXQuY2hhckNvZGVBdChlKTtyPj01NTI5NiYmcjw9NTYzMTkmJmUrMTxpJiYocj0ocjw8MTApK3QuY2hhckNvZGVBdCgrK2UpLTU2NjEzODg4KSxuKz1yPDEyOD8xOnI8MjA0OD8yOnI8NjU1MzY/Mzo0fWFNKGUsbik7bGV0IHI9JGsoZSxuKSxzPWUuYnl0ZXM7Zm9yKGxldCBlPTA7ZTxpO2UrKyl7bGV0IG49dC5jaGFyQ29kZUF0KGUpO24+PTU1Mjk2JiZuPD01NjMxOSYmZSsxPGkmJihuPShuPDwxMCkrdC5jaGFyQ29kZUF0KCsrZSktNTY2MTM4ODgpLG48MTI4P3NbcisrXT1uOihuPDIwNDg/c1tyKytdPW4+PjYmMzF8MTkyOihuPDY1NTM2P3NbcisrXT1uPj4xMiYxNXwyMjQ6KHNbcisrXT1uPj4xOCY3fDI0MCxzW3IrK109bj4+MTImNjN8MTI4KSxzW3IrK109bj4+NiY2M3wxMjgpLHNbcisrXT02MyZufDEyOCl9fWZ1bmN0aW9uIHJNKGUpe3JldHVybiBlLmJ5dGVzW2VNKGUsMSldfWZ1bmN0aW9uIHNNKGUsdCl7bGV0IGk9JGsoZSwxKTtlLmJ5dGVzW2ldPXR9ZnVuY3Rpb24gb00oZSl7bGV0IHQsaT0wLG49MDtkb3t0PXJNKGUpLGk8MzImJihufD0oMTI3JnQpPDxpKSxpKz03fXdoaWxlKDEyOCZ0KTtyZXR1cm4gbn1mdW5jdGlvbiBhTShlLHQpe2Zvcih0Pj4+PTA7dD49MTI4OylzTShlLDEyNyZ0fDEyOCksdD4+Pj03O3NNKGUsdCl9ZnVuY3Rpb24gY00oZSx0KXtsZXQgaSxuPTAscj0wLHM9MDtyZXR1cm4gaT1yTShlKSxuPTEyNyZpLDEyOCZpJiYoaT1yTShlKSxufD0oMTI3JmkpPDw3LDEyOCZpJiYoaT1yTShlKSxufD0oMTI3JmkpPDwxNCwxMjgmaSYmKGk9ck0oZSksbnw9KDEyNyZpKTw8MjEsMTI4JmkmJihpPXJNKGUpLHI9MTI3JmksMTI4JmkmJihpPXJNKGUpLHJ8PSgxMjcmaSk8PDcsMTI4JmkmJihpPXJNKGUpLHJ8PSgxMjcmaSk8PDE0LDEyOCZpJiYoaT1yTShlKSxyfD0oMTI3JmkpPDwyMSwxMjgmaSYmKGk9ck0oZSkscz0xMjcmaSwxMjgmaSYmKGk9ck0oZSksc3w9KDEyNyZpKTw8NykpKSkpKSkpKSx7bG93Om58cjw8MjgsaGlnaDpyPj4+NHxzPDwyNCx1bnNpZ25lZDp0fX1mdW5jdGlvbiBkTShlLHQpe2xldCBpPXQubG93Pj4+MCxuPSh0Lmxvdz4+PjI4fHQuaGlnaDw8NCk+Pj4wLHI9dC5oaWdoPj4+MjQscz0wPT09cj8wPT09bj9pPDE2Mzg0P2k8MTI4PzE6MjppPDE8PDIxPzM6NDpuPDE2Mzg0P248MTI4PzU6NjpuPDE8PDIxPzc6ODpyPDEyOD85OjEwLG89JGsoZSxzKSxhPWUuYnl0ZXM7c3dpdGNoKHMpe2Nhc2UgMTA6YVtvKzldPXI+Pj43JjE7Y2FzZSA5OmFbbys4XT05IT09cz8xMjh8cjoxMjcmcjtjYXNlIDg6YVtvKzddPTghPT1zP24+Pj4yMXwxMjg6bj4+PjIxJjEyNztjYXNlIDc6YVtvKzZdPTchPT1zP24+Pj4xNHwxMjg6bj4+PjE0JjEyNztjYXNlIDY6YVtvKzVdPTYhPT1zP24+Pj43fDEyODpuPj4+NyYxMjc7Y2FzZSA1OmFbbys0XT01IT09cz8xMjh8bjoxMjcmbjtjYXNlIDQ6YVtvKzNdPTQhPT1zP2k+Pj4yMXwxMjg6aT4+PjIxJjEyNztjYXNlIDM6YVtvKzJdPTMhPT1zP2k+Pj4xNHwxMjg6aT4+PjE0JjEyNztjYXNlIDI6YVtvKzFdPTIhPT1zP2k+Pj43fDEyODppPj4+NyYxMjc7Y2FzZSAxOmFbb109MSE9PXM/MTI4fGk6MTI3Jml9fWNvbnN0IGxNPXt9LGhNPXt9LHVNPTQyOTQ5NjcyOTYscE09dU0qdU0sX009cE0vMixFTT1TTSgwLCEwKSxtTT1TTSgwKSxmTT1STSgwLC0yMTQ3NDgzNjQ4LCExKSxnTT1STSgtMSwyMTQ3NDgzNjQ3LCExKSxUTT1STSgtMSwtMSwhMCk7ZnVuY3Rpb24gU00oZSx0KXtsZXQgaSxuLHI7cmV0dXJuIHQ/KHI9MDw9KGU+Pj49MCkmJmU8MjU2KSYmKG49aE1bZV0sbik/bjooaT1STShlLDAsITApLHImJihoTVtlXT1pKSxpKToocj0tMTI4PD0oZXw9MCkmJmU8MTI4KSYmKG49bE1bZV0sbik/bjooaT1STShlLGU8MD8tMTowLCExKSxyJiYobE1bZV09aSksaSl9ZnVuY3Rpb24gUk0oZSx0LGkpe3JldHVybntsb3c6MHxlLGhpZ2g6MHx0LHVuc2lnbmVkOiEhaX19ZnVuY3Rpb24gQ00oZSx0KXtpZihpc05hTihlKSlyZXR1cm4gdD9FTTptTTtpZih0KXtpZihlPDApcmV0dXJuIEVNO2lmKGU+PXBNKXJldHVybiBUTX1lbHNle2lmKGU8PS1fTSlyZXR1cm4gZk07aWYoZSsxPj1fTSlyZXR1cm4gZ019cmV0dXJuIGU8MD90P0VNOm1NOlJNKGUldU18MCxlL3VNfDAsdCl9ZnVuY3Rpb24gdk0oZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWNsYXNzIElNIGV4dGVuZHMgaVR7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9c2V0IGNvbm5lY3Rpb25TdGF0ZShlKXtpZih0aGlzLl9jb25uZWN0aW9uU3RhdGU9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZTt0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSx0aGlzLmVtaXQoQUkuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSx0KX1nZXQgcXVhbGl0eSgpe3JldHVybiB0aGlzLl9xdWFsaXR5fXNldCBxdWFsaXR5KGUpe3RoaXMuX3F1YWxpdHk9ZT4xPzE6ZTwuMT8uMTplLHRoaXMuX3F1YWxpdHlUaW1lciYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcXVhbGl0eVRpbWVyKSx0aGlzLl9xdWFsaXR5VGltZXI9bnVsbCksdGhpcy5fcXVhbGl0eT49MXx8KHRoaXMuX3F1YWxpdHlUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLnF1YWxpdHk9dGhpcy5fcXVhbGl0eS90aGlzLl9xdWFsaXR5UmF0aW99KSw2ZTQpKX1jb25zdHJ1Y3RvcihlKXt2YXIgdDtzdXBlcigpLG51KHRoaXMsXCJuYW1lXCIsXCJBZ29yYVJUQ0ltYWdlTW9kZXJhdGlvblwiKSxudSh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLHlJLkNPTk5FQ1RJTkcpLG51KHRoaXMsXCJfc2VxdWVuY2VcIiwwKSxudSh0aGlzLFwiX21vZGVyYXRpb25TdGFydFRpbWVcIix2b2lkIDApLG51KHRoaXMsXCJfd29ya2VyQ29ubmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcIl93b3JrZXJNZXNzYWdlTGVuZ3RoTGltaXRcIix2b2lkIDApLG51KHRoaXMsXCJfcXVhbGl0eVJhdGlvXCIsdm9pZCAwKSxudSh0aGlzLFwiX2Nvbm5lY3RJbmZvXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NhbmNlbFRva2VuU291cmNlXCIsRUMuQ2FuY2VsVG9rZW4uc291cmNlKCkpLG51KHRoaXMsXCJfcmV0cnlDb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJfbW9kZXJhdGlvbkludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwiX21vZGVyYXRpb25UaW1lclwiLG51bGwpLG51KHRoaXMsXCJfbW9kZXJhdGlvbk1vZGVcIiwxKSxudSh0aGlzLFwiX3F1YWxpdHlcIiwxKSxudSh0aGlzLFwiX3F1YWxpdHlUaW1lclwiLG51bGwpLG51KHRoaXMsXCJfdGlja2V0XCIsdm9pZCAwKSxudSh0aGlzLFwiX21vZGVyYXRpb25JbnRlcnZhbE1pbmltdW1cIix2b2lkIDApLG51KHRoaXMsXCJfdXBsb2FkRmFpbGVkTnVtXCIsMCksbnUodGhpcyxcIl91cGxvYWROdW1cIiwwKSxudSh0aGlzLFwiX3VwbG9hZFRpbWVyXCIsbnVsbCksbnUodGhpcyxcIl9tb2RlcmF0aW9uSWRcIix2b2lkIDApLG51KHRoaXMsXCJpbnNwZWN0SW1hZ2VcIiwoKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PXlJLkNPTk5FQ1RFRCl0aHJvdyBuZXcgeHYoeGcuT1BFUkFUSU9OX0FCT1JURUQsXCJpbWFnZSBtb2RlcmF0aW9uIHNlcnZpY2UgY29ubmVjdGlvbiBzdGF0dXMgaXMgXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlKSk7dGhpcy5fbW9kZXJhdGlvblRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbW9kZXJhdGlvblRpbWVyKSx0aGlzLl9tb2RlcmF0aW9uVGltZXI9bnVsbCksdGhpcy5fbW9kZXJhdGlvblRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PXlJLkNPTk5FQ1RFRD90aGlzLnJlcXVlc3RUb0luc3BlY3RJbWFnZSgpOktDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIE1vZGVyYXRpb24gU3RhdGUgaXMgbm90IGNvbm5lY3RlZCAsIFwiKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZSl9KSx0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWw8dGhpcy5fbW9kZXJhdGlvbkludGVydmFsTWluaW11bT90aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtOnRoaXMuX21vZGVyYXRpb25JbnRlcnZhbCksdGhpcy5yZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKX0pKSx0aGlzLl9tb2RlcmF0aW9uSWQ9eFQoNSxcImltYWdlLW1vZGVyYXRpb24tXCIpLHRoaXMuX3dvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdD1rQyhcIklNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VfTEVOR1RIX0xJTUlUXCIpLHRoaXMuX21vZGVyYXRpb25JbnRlcnZhbE1pbmltdW09a0MoXCJJTUFHRV9NT0RFUkFUSU9OX0lOVEVSVkFMX01JTklNVU1cIiksdGhpcy5fbW9kZXJhdGlvbkludGVydmFsPW51bGwhPT0odD1lLmludGVydmFsKSYmdm9pZCAwIT09dD90OjFlMyx0aGlzLl9xdWFsaXR5UmF0aW89a0MoXCJJTUFHRV9NT0RFUkFUSU9OX1FVQUxJVFlfUkFUSU9cIiksdGhpcy5fbW9kZXJhdGlvblN0YXJ0VGltZT1OdW1iZXIoRGF0ZS5ub3coKSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbj1uZXcgWEkoXCJ3b3JrZXItXCIrdGhpcy5fbW9kZXJhdGlvbklkLEpUKSx0aGlzLm9uKEFJLlNUQVRFX0NIQU5HRSwoKGUsdCk9PntLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSBNb2RlcmF0aW9uIG9wZXJhdGlvbiA6XCIpLmNvbmNhdChiSVtlXSxcIiBcIikuY29uY2F0KHR8fFwiXCIpKX0pKSx0aGlzLmhhbmRsZVdvcmtlckV2ZW50cygpfWFzeW5jIGluaXQoZSx0KXt0aGlzLmVtaXQoQUkuU1RBVEVfQ0hBTkdFLGJJLkNPTk5FQ1RfQVApLHRoaXMuX2Nvbm5lY3RJbmZvPWU7Y29uc3QgaT10aGlzLl9jYW5jZWxUb2tlblNvdXJjZS50b2tlbjtyZXR1cm4gdGhpcy5fcmV0cnlDb25maWc9dCxuZXcgdGcoKChuLHIpPT57dGhpcy5vbihBSS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwoKGUsdCk9PntlPT09eUkuQ09OTkVDVEVEJiZuKCl9KSksdGhpcy5yZXF1ZXN0QVAoZSxpLHQpLnRoZW4oKGU9Pnt0aGlzLmNvbm5lY3RXb3JrZXIoZSl9KSkuY2F0Y2goKGU9PntyKGUpfSkpfSkpfXVwZGF0ZUNvbmZpZyhlKXt2YXIgdDt0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWw9bnVsbCE9PSh0PWUuaW50ZXJ2YWwpJiZ2b2lkIDAhPT10P3Q6MWUzLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIHVwZGF0ZUNvbmZpZzogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPT09eUkuQ09OTkVDVEVEJiZ0aGlzLmluc3BlY3RJbWFnZSgpfWFzeW5jIHJlcXVlc3RBUChlLHQsaSl7Y29uc3Qgbj1rQyhcIldFQkNTX0RPTUFJTlwiKS5tYXAoKGU9PlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjFcIikpKSxyPWF3YWl0IGZ1bmN0aW9uKGUsdCxpLG4pe2xldHthcHBJZDpyLGFyZWFDb2RlOnMsY25hbWU6byxzaWQ6YSx0b2tlbjpjLHVpZDpkfT10O29QKys7Y29uc3QgbD1cIm1vZGVyYXRpb25fcGx1Z2luXCIsaD17c2VydmljZV9uYW1lOmwsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHthcHBJZDpyLGFyZWFDb2RlOnMsY25hbWU6byxjb21tYW5kOlwiYWxsb2NhdGVFZGdlXCIscmVxdWVzdElkOm9QLHNlcTpvUCxzaWQ6YSxhcHBUb2tlbjpjLHRzOkRhdGUubm93KCksdWlkOmQrXCJcIn0pfTtsZXQgdSxwLF89ZVswXTtyZXR1cm4gWFQoKGFzeW5jKCk9Pnt1PURhdGUubm93KCk7Y29uc3QgZT1hd2FpdCBWRChfLHtkYXRhOmgsY2FuY2VsVG9rZW46aSxoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOlwiMFwiLFwiWC1QYWNrZXQtVVJJXCI6XCI2MVwifSxwYXJhbXM6e2FjdGlvbjpcIndydGNfZ2F0ZXdheVwifX0pO2lmKHA9RGF0ZS5ub3coKS11LDAhPT1lLmNvZGUpe2NvbnN0IHQ9bmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlcnJvciwgY29kZVwiK2UuY29kZSx7cmV0cnk6ITAscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBLQy5lcnJvcih0LnRvU3RyaW5nKCkpLHR9Y29uc3QgdD1KU09OLnBhcnNlKGUuanNvbl9ib2R5KTtpZigyMDAhPT10LmNvZGUpe2NvbnN0IGU9bmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlcnJvciwgY29kZTogXCIuY29uY2F0KHQuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KHQucmVhc29uKSx7Y29kZTp0LmNvZGUscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBLQy5lcnJvcihlLnRvU3RyaW5nKCkpLGV9aWYoIXQuc2VydmVyc3x8IUFycmF5LmlzQXJyYXkodC5zZXJ2ZXJzKXx8MD09PXQuc2VydmVycy5sZW5ndGgpe2NvbnN0IGU9bmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlbXB0eSBzZXJ2ZXJcIix7Y29kZTp0LmNvZGUscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBLQy5lcnJvcihlLnRvU3RyaW5nKCkpLGV9aWYoIXQuc2VydmVycy5zb21lKChlPT4hIWUud3NzKSkpe2NvbnN0IGU9bmV3IHh2KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlbXB0eSBwb3J0XCIse2NvZGU6dC5jb2RlLHJlc3BvbnNlVGltZTpwfSk7dGhyb3cgS0MuZXJyb3IoZS50b1N0cmluZygpKSxlfWNvbnN0IG49a0MoXCJJTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9IT1NUXCIpO3JldHVybnthZGRyZXNzTGlzdDp0LnNlcnZlcnMubWFwKChlPT57bGV0e2FkZHJlc3M6dCx3c3M6aX09ZTtpZih0JiZpKXJldHVyblwid3NzOi8vXCIuY29uY2F0KHQucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQobixcIjpcIikuY29uY2F0KGksXCIvbW9kZXJhdGlvblwiKX0pKS5maWx0ZXIoKGU9PiEhZSkpLHdvcmtlclRva2VuOnQud29ya2VyVG9rZW4sdmlkOnQudmlkLHRpY2tldDp0LmFwcFRpY2tldCxyZXNwb25zZVRpbWU6cH19KSwoKHQsaSk9Pihydi5hcHdvcmtlckV2ZW50KGEse3N1Y2Nlc3M6ITAsc2M6MjAwLHNlcnZpY2VOYW1lOmwscmVzcG9uc2VEZXRhaWw6SlNPTi5zdHJpbmdpZnkodC5hZGRyZXNzTGlzdCksZmlyc3RTdWNjZXNzOjA9PT1pLHJlc3BvbnNlVGltZTpwLHNlcnZlcklwOmVbaSVlLmxlbmd0aF19KSwhMSkpLCgodCxpKT0+KHJ2LmFwd29ya2VyRXZlbnQoYSx7c3VjY2VzczohMSxzYzp0LmRhdGEmJnQuZGF0YS5jb2RlfHwyMDAsc2VydmljZU5hbWU6bCxyZXNwb25zZVRpbWU6cCxzZXJ2ZXJJcDplW2klZS5sZW5ndGhdfSksISEodC5jb2RlIT09eGcuT1BFUkFUSU9OX0FCT1JURUQmJnQuY29kZSE9PXhnLlVORVhQRUNURURfUkVTUE9OU0V8fHQuZGF0YSYmdC5kYXRhLnJldHJ5KSYmKF89ZVsoaSsxKSVlLmxlbmd0aF0sITApKSksbil9KG4sZSx0LGkpO3RoaXMuZW1pdChBSS5TVEFURV9DSEFOR0UsYkkuQVBfQ09OTkVDVEVEKTtjb25zdHthZGRyZXNzTGlzdDpzLHRpY2tldDpvfT1yO3JldHVybiB0aGlzLl90aWNrZXQ9byxzfWFzeW5jIGNvbm5lY3RXb3JrZXIoZSl7dGhpcy5lbWl0KEFJLlNUQVRFX0NIQU5HRSxiSS5DT05ORUNUX1dPUktFUiksYXdhaXQgdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5pbml0KGUsMWU0KX1oYW5kbGVXb3JrZXJFdmVudHMoKXt0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKEl2LkNPTk5FQ1RFRCwoYXN5bmMoKT0+e3RoaXMuZW1pdChBSS5TVEFURV9DSEFOR0UsYkkuV09SS0VSX0NPTk5FQ1RFRCx0aGlzLl93b3JrZXJDb25uZWN0aW9uLnVybCksdGhpcy5jb25uZWN0aW9uU3RhdGU9eUkuQ09OTkVDVEVEfSkpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oSXYuQ0xPU0VELCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPXlJLkNMT1NFRH0pKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKEl2LkZBSUxFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT15SS5DTE9TRUR9KSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihJdi5SRUNPTk5FQ1RJTkcsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9dGhpcy5jb25uZWN0aW9uU3RhdGU9PT15SS5DT05ORUNURUQ/eUkuUkVDT05ORUNUSU5HOnlJLkNPTk5FQ1RJTkd9KSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihJdi5PTl9NRVNTQUdFLChhc3luYyBlPT57aWYoZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe2NvbnN0IHQ9cWsobmV3IFVpbnQ4QXJyYXkoZS5kYXRhKSk7a0MoXCJTSE9XX0lNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VcIikmJktDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIFJlc3BvbnNlIG1lc3NhZ2UgZm9yIHdvcmtlciBvZiBpbWFnZSBtb2RlcmF0aW9uIFwiKSxKU09OLnN0cmluZ2lmeSh0KSksdGhpcy5fdXBsb2FkTnVtKyssdm9pZCAwPT09dC5jb2RlfHwwPT09dC5jb2RlfHwodGhpcy5fdXBsb2FkRmFpbGVkTnVtKyssS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gRXJyb3IgcmVzcG9uc2UgZnJvbSB3b3JrZSwgY29kZSBpcyBcIikuY29uY2F0KHQuY29kZSxcIiwgbXNnIGlzIFwiKS5jb25jYXQodC5tc2cpKSx0aGlzLl91cGxvYWRUaW1lcnx8KHRoaXMuX3VwbG9hZFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3J2LnJlcG9ydEFwaUludm9rZSh0aGlzLl9jb25uZWN0SW5mby5zaWR8fG51bGwse25hbWU6c1QuSU1BR0VfTU9ERVJBVElPTl9VUExPQUQsb3B0aW9uczpbdGhpcy5fdXBsb2FkRmFpbGVkTnVtLHRoaXMuX3VwbG9hZE51bSx0LmNvZGVdLHRhZzpvVC5UUkFDRVJ9KS5vbkVycm9yKG5ldyB4dih4Zy5JTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRUQsdC5tc2cpKSx0aGlzLl91cGxvYWRUaW1lcj1udWxsfSksa0MoXCJJTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9SRVBPUlRfSU5URVJWQUxcIikpKSl9ZWxzZSBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSBVbmV4cGVjdGVkIG1lc3NhZ2UgdHlwZSBmcm9tIHdvcmtlclwiKSl9KSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihJdi5XSUxMX1JFQ09OTkVDVCwoKGUsdCxpKT0+e1wicmVjb3ZlclwiPT09ZSYmaShlKSxpKFwidHJ5TmV4dFwiKX0pKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKEl2LlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57dGhpcy5yZXF1ZXN0QVAodGhpcy5fY29ubmVjdEluZm8sdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UudG9rZW4sdGhpcy5fcmV0cnlDb25maWcpLnRoZW4oZSkuY2F0Y2godCl9KSl9c3RhdGljIGludFRvTG9uZyhlKXtyZXR1cm57bG93OmV8PTAsaGlnaDplPj4zMSx1bnNpZ25lZDplPj0wfX1hc3luYyByZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKXtjb25zdCBlPVRUKHRoaXMsQUkuQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLKSx0PXthcHBJZDp0aGlzLl9jb25uZWN0SW5mby5hcHBJZCxjbmFtZTp0aGlzLl9jb25uZWN0SW5mby5jbmFtZSxjaWQ6dGhpcy5fY29ubmVjdEluZm8uY2lkLHNpZDp0aGlzLl9jb25uZWN0SW5mby5zaWQsdWlkOnRoaXMuX2Nvbm5lY3RJbmZvLnVpZCx2aWQ6dGhpcy5fY29ubmVjdEluZm8udmlkfTtpZihlKXtpZighZS5pc1BsYXlpbmcpcmV0dXJuIHZvaWQoa0MoXCJTSE9XX0lNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VcIikmJktDLmRlYnVnKFwiT25seSB0aGUgdHJhY2sgYmVpbmcgcGxheWVkIGNhbiBiZSBpbnNwZWN0ZWRcIikpO3RoaXMuX3NlcXVlbmNlKys7Y29uc3QgaT1hd2FpdCB0aGlzLmdlbmVyYXRlUmVxdWVzdERhdGEoZSx0KTt0aGlzLl93b3JrZXJDb25uZWN0aW9uLnNlbmRNZXNzYWdlKGksITAsITApfWVsc2Uga0MoXCJTSE9XX0lNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VcIikmJktDLmRlYnVnKFwiT25seSB0aGUgdHJhY2sgYmVpbmcgcHVibGlzaGVkIGNhbiBiZSBpbnNwZWN0ZWRcIil9YXN5bmMgZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHQpe2xldHthcHBJZDppLGNuYW1lOm4sY2lkOnIsdmlkOnMsc2lkOm8sdWlkOmF9PXQ7Y29uc3QgYz1EYXRlLm5vdygpLGQ9YXdhaXQgZS5nZXRDdXJyZW50RnJhbWVJbWFnZShcImltYWdlL2pwZWdcIix0aGlzLnF1YWxpdHkpLGw9YXdhaXQgZmIoZCxpLG4pLGg9dGhpcy5fc2VxdWVuY2UrXCItXCIrcitcIi1cIithK1wiLVwiK2MrXCItXCIreFQoMTIsXCJcIiksdT17YXBwSWQ6aSxjaWQ6cixjbmFtZTpuLGRldmljZUlkOlwiXCIsZWxhcHNlOklNLmludFRvTG9uZyhOdW1iZXIoYy10aGlzLl9tb2RlcmF0aW9uU3RhcnRUaW1lKSksZmlsZVNpemU6ZC5idWZmZXIuYnl0ZUxlbmd0aCxoZWlnaHQ6ZC5oZWlnaHQsd2lkdGg6ZC53aWR0aCxqcGc6bCxuZXR3b3JrVHlwZTo2LG9zVHlwZTo3LHJlcXVlc3RJZDpoLHNka1ZlcnNpb246XCI0LjE5LjNcIixzZXF1ZW5jZTp0aGlzLl9zZXF1ZW5jZSxzaWQ6byx0aW1lc3RhbXA6Q00oYyksdWlkOmEsdmlkOnMsc2VydmljZTp0aGlzLl9tb2RlcmF0aW9uTW9kZSx0aWNrZXQ6dGhpcy5fdGlja2V0fSxwPVlrKHUpO2lmKHAuYnl0ZUxlbmd0aDx0aGlzLl93b3JrZXJNZXNzYWdlTGVuZ3RoTGltaXQpe2lmKGtDKFwiU0hPV19JTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFXCIpKXtjb25zdCBlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3ZNKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnZNKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfSh7fSx1KTtkZWxldGUgZS5qcGcsS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gUmVxdWVzdCBtZXNzYWdlIGZvciB3b3JrZXIgb2YgaW1hZ2UgbW9kZXJhdGlvbiBzZXJ2aWNlOiBcIiksSlNPTi5zdHJpbmdpZnkoZSkpfXJldHVybiBwfXtjb25zdCB0PXRoaXMucXVhbGl0eSp0aGlzLl9xdWFsaXR5UmF0aW87cmV0dXJuIHRoaXMucXVhbGl0eT10LGF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHthcHBJZDppLGNuYW1lOm4sY2lkOnIsdmlkOnMsc2lkOm8sdWlkOmF9KX19Y2xvc2UoKXt0aGlzLl9jYW5jZWxUb2tlblNvdXJjZS5jYW5jZWwoKSx0aGlzLl9jYW5jZWxUb2tlblNvdXJjZT1FQy5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uJiZ0aGlzLl93b3JrZXJDb25uZWN0aW9uLmNsb3NlKCksdGhpcy5fbW9kZXJhdGlvblRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9tb2RlcmF0aW9uVGltZXIpLHRoaXMuX21vZGVyYXRpb25UaW1lcj1udWxsLHRoaXMuX3VwbG9hZFRpbWVyJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3VwbG9hZFRpbWVyKSx0aGlzLl91cGxvYWRUaW1lcj1udWxsLHRoaXMuY29ubmVjdGlvblN0YXRlPXlJLkNMT1NFRCx0aGlzLmVtaXQoQUkuU1RBVEVfQ0hBTkdFLGJJLkNMT1NFRCl9fWZ1bmN0aW9uIHlNKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBBTShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj95TShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTp5TShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBiTSBleHRlbmRzIERJe2dldCBjdXJyZW50TG9jYWxEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9ufWdldCBjdXJyZW50UmVtb3RlRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb259Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1nZXQgZHRsc1RyYW5zcG9ydFN0YXRlKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpWzBdKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudHJhbnNwb3J0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5zdGF0ZSkmJnZvaWQgMCE9PWU/ZTpudWxsfWNvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLHQpLG51KHRoaXMsXCJkaXJlY3Rpb25cIix2b2lkIDApLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcInBlZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwidHJhbnNwb3J0RXZlbnRSZWNlaXZlclwiLHZvaWQgMCksbnUodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxudSh0aGlzLFwibG9jYWxDYW5kaWRhdGVDb3VudFwiLDApLG51KHRoaXMsXCJhbGxDYW5kaWRhdGVzUmVjZWl2ZWRcIiwhMSksbnUodGhpcyxcIm11dGV4XCIsbmV3IFlUKFwiUDJQQ29ubmVjdGlvbi1tdXRleFwiKSksbnUodGhpcyxcImRhdGFDaGFubmVsXCIsdm9pZCAwKSxudSh0aGlzLFwib25Mb2NhbENhbmRpZGF0ZVwiLHZvaWQgMCksdGhpcy5zdG9yZT10LHRoaXMucGVlckNvbm5lY3Rpb249bmV3IFJUQ1BlZXJDb25uZWN0aW9uKGJNLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuZGlyZWN0aW9uPW51bGwhPWk/aTp2di5TRU5EX09OTFksdGhpcy5kYXRhQ2hhbm5lbD10aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKFwiYWdvcmEtcDJwLXNpZ25hbFwiLHtvcmRlcmVkOiEwfSksdGhpcy5zdGF0c0ZpbHRlcj1QTCh0aGlzLnBlZXJDb25uZWN0aW9uLGtDKFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpLHZvaWQgMCxSZygpPzEyMDA6dm9pZCAwKSx0aGlzLmJpbmRQQ0V2ZW50cygpLHRoaXMuYmluZFN0YXRzRXZlbnRzKCksdGhpcy5zdG9yZS5wMnBJZD10aGlzLnN0b3JlLnAycElkKzF9YXN5bmMgZXN0YWJsaXNoKGUpe3RyeXtpZihlKXthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZX0pO2NvbnN0IHQ9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtpZihhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24odCksIXQuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgYW5zd2VyIHNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO3JldHVybiB0LnNkcH17Y29uc3QgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7aWYoIWUuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaW5pdGlhbE9mZmVyLnNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO3JldHVybiBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSksZS5zZHB9fWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5HRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVELGUudG9TdHJpbmcoKSl9fWFzeW5jIGNvbm5lY3QoZSl7dHJ5e2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6ZX0pfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5jb25uZWN0IGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBhZGRSZW1vdGVDYW5kaWRhdGUoZSl7dHJ5e2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGUpfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5BRERfQ0FORElEQVRFX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uYWRkUmVtb3RlQ2FuZGlkYXRlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzZW5kKGUpe3RyeXtjb25zdCB0PVtdO2UuZm9yRWFjaCgoZT0+e2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihlLl9tZWRpYVN0cmVhbVRyYWNrLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7dC5wdXNoKGkpfSkpLFJnKCkmJiEwPT09a0MoXCJTSU1VTENBU1RcIikmJmF3YWl0IHRoaXMuYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KHQsZSksYXdhaXQgdGhpcy5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyh0LGUpLGF3YWl0IHRoaXMuYXBwbHlTZW5kRW5jb2RpbmdzKHQsZSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7aWYoYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLCFpLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IG9mZmVyLnNkcCB3aGVuIHRyeWluZyB0byBzZW5kIFBlZXJDb25uZWN0aW9uLlwiKTtjb25zdCBuPXQubWFwKChlPT57Y29uc3QgdD10aGlzLmdldExvY2FsU1NSQyhlLm1pZCxpLnNkcCk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBzc3JjIHdoZW4gdHJ5aW5nIHRvIHNlbmQgUGVlckNvbm5lY3Rpb24uXCIpO3JldHVybnttaWQ6ZS5taWQsbG9jYWxTU1JDOlt7c3NyY0lkOnR9XX19KSk7cmV0dXJue3NkcDppLnNkcCx0cmFja01lc3NhZ2U6bn19Y2F0Y2goZSl7dGhyb3cgZSBpbnN0YW5jZW9mIFZnP2U6bmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnNlbmQgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BTZW5kaW5nKGUsdCl7Y29uc3QgaT10P3ZvaWQgMDphd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmdcIik7dHJ5e2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9Pi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggKFwiLmNvbmNhdCh0Lmxlbmd0aCxcIikgZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggKFwiKS5jb25jYXQoZS5sZW5ndGgsXCIpIHdoZW4gdHJ5aW5nIHRvIGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZy5cIikpO3QubWFwKChlPT57dmFyIHQ7ZS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLG51bGw9PT0odD1lLnN0b3ApfHx2b2lkIDA9PT10fHx0LmNhbGwoZSksdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayhlLnNlbmRlcil9KSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7aWYoYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pLCFuLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IG9mZmVyLnNkcCB3aGVuIHRyeWluZyB0byBzZW5kIFBlZXJDb25uZWN0aW9uLlwiKTtyZXR1cm4gbi5zZHB9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7aSYmaSgpfX1hc3luYyByZWNlaXZlKGUsdCxpKXt0cnl7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7aWYoIW4uc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgYW5zd2VyIHNkcCB3aGVuIHRyeWluZyB0byByZWNlaXZlIHRyYWNrLlwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSByZWNlaXZlIFwiKS5jb25jYXQoZSxcIiBieSBleGNoYW5naW5nIFNEUC5cIikpO2NvbnN0IHI9dGhpcy5nZXRSZW1vdGVNaWQoaSx0KTtpZih2b2lkIDA9PT1yKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdHJhbnNjZWl2ZXIgbWlkIHdoZW4gdHJ5aW5nIHRvIHJlY2VpdmUgdHJhY2suXCIpO2NvbnN0IHM9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXIpKTtpZighc3x8bnVsbD09PXMubWlkKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdHJhbnNjZWl2ZXIgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbi5cIik7cmV0dXJue3RyYWNrOnMucmVjZWl2ZXIudHJhY2ssbWlkOnMubWlkLHNkcDpuLnNkcH19Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHNldERlc2NyaXB0aW9uKGUsdCl7dHJ5e2lmKFwicmVtb3RlXCI9PT1lKXthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtpZighaS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBhbnN3ZXIgc2RwIHdoZW4gdHJ5aW5nIHRvIHJlY2VpdmUgdHJhY2suXCIpO3JldHVybiBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSBleGNoYW5naW5nIFNEUCwgdHlwZSBpcyBcIikuY29uY2F0KGUpKSxpLnNkcH1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnR9KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc2V0RGVzY3JpcHRpb24gZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BSZWNlaXZpbmcoZSx0KXt0cnl7Y29uc3QgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+LTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYoaS5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIHRyeWluZyB0byBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcuXCIpO2kubWFwKChlPT57dmFyIHQ7ZS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLG51bGw9PT0odD1lLnN0b3ApfHx2b2lkIDA9PT10fHx0LmNhbGwoZSl9KSksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7aWYoYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pLCFuLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGFuc3dlciBzZHAgd2hlbiB0cnlpbmcgdG8gcmVjZWl2ZSB0cmFjay5cIik7cmV0dXJuIG4uc2RwfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbiBzdG9wUmVjZWl2aW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyByZXN0YXJ0SUNFKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pO2lmKCFlLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWNhdXNlIHJlc3RhcnQgb2ZmZXIgU0RQIGRvZXMgbm90IGV4aXN0LlwiKTtyZXR1cm4gdGhpcy5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGUpLGUuc2RwfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbiBzdG9wUmVjZWl2aW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1jbG9zZSgpe3ZhciBlO3RoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKSxudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLFwiY2xvc2VkXCIpLHRoaXMudHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCksdGhpcy51bmJpbmRQQ0V2ZW50cygpLHRoaXMudW5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXI9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIuZGVzdHJveSgpfWdldFN0YXRzKCl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U3RhdHMoKX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0VmlkZW9Jc1JlYWR5KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSx0KXt9YXN5bmMgdXBkYXRlU2VuZFBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZD09PWUpKTsxPT09aS5sZW5ndGgmJih0aGlzLmlzVlA4U2ltdWxjYXN0KHQpP1JnKCl8fGF3YWl0IHRoaXMuYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoaSxbdF0pOmF3YWl0IHRoaXMuYXBwbHlTZW5kRW5jb2RpbmdzKGksW3RdKSl9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSx0KXt0aGlzLnN0YXRzRmlsdGVyLnNldFZpZGVvSXNSZWFkeTIoZSx0KX1hc3luYyByZXBsYWNlVHJhY2soZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZT0+ZS5taWQ9PT10KSk7aSYmYXdhaXQgaS5zZW5kZXIucmVwbGFjZVRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spfWFzeW5jIGdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe2NvbnN0IGU9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKTtpZihlLmxlbmd0aD4wJiZlWzBdLnRyYW5zcG9ydCYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2NvbnN0IHQ9ZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LHtsb2NhbDppLHJlbW90ZTpufT10LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO3JldHVybntsb2NhbDpBTShBTSh7fSxtTCkse30se2NhbmRpZGF0ZVR5cGU6aS50eXBlLHByb3RvY29sOmkucHJvdG9jb2wsYWRkcmVzczppLmFkZHJlc3MscG9ydDppLnBvcnR9KSxyZW1vdGU6QU0oQU0oe30sbUwpLHt9LHtjYW5kaWRhdGVUeXBlOm4udHlwZSxwcm90b2NvbDpuLnByb3RvY29sLGFkZHJlc3M6bi5hZGRyZXNzLHBvcnQ6bi5wb3J0fSl9fXJldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpfWJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWU9Pnt2YXIgdDtlLmNhbmRpZGF0ZSYmKG51bGw9PT0odD10aGlzLm9uTG9jYWxDYW5kaWRhdGUpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlLmNhbmRpZGF0ZSkpO2UuY2FuZGlkYXRlP3RoaXMubG9jYWxDYW5kaWRhdGVDb3VudCs9MToodGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkPSEwLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSl9LHNldFRpbWVvdXQoKCgpPT57dGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWR8fCh0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gb25pY2VjYW5kaWRhdGUgdGltZW91dCwgbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSksa0MoXCJDQU5ESURBVEVfVElNRU9VVFwiKSl9dW5iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGVlcnJvcj1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbH1zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKXtjb25zdCB0PXtpY2VTZXJ2ZXJzOltdfTtyZXR1cm4gZS5pY2VTZXJ2ZXJzP3QuaWNlU2VydmVycz1lLmljZVNlcnZlcnM6ZS50dXJuU2VydmVyJiZcIm9mZlwiIT09ZS50dXJuU2VydmVyLm1vZGUmJihfVChlLnR1cm5TZXJ2ZXIuc2VydmVycyk/dC5pY2VTZXJ2ZXJzPWUudHVyblNlcnZlci5zZXJ2ZXJzOih0LmljZVNlcnZlcnMmJnQuaWNlU2VydmVycy5wdXNoKC4uLmJNLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnMpKSxrQyhcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZ0LmljZVNlcnZlcnMmJmUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJnQuaWNlU2VydmVycy5wdXNoKC4uLmJNLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSkpLGtDKFwiRk9SQ0VfVFVSTl9UQ1BcIik/dC5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiOmUudHVyblNlcnZlci5zZXJ2ZXJzLmNvbmNhdChlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5fHxbXSkuZm9yRWFjaCgoZT0+e2UuZm9yY2V0dXJuJiYodC5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKX0pKSkpLGtDKFwiRU5BQkxFX0VOQ09ERURfVFJBTlNGT1JNXCIpJiZfQSgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtJiYodC5lbmNvZGVkSW5zZXJ0YWJsZVN0cmVhbXM9ITApLHR9c3RhdGljIHR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57ZS50Y3Bwb3J0JiYodC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChfRChlLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSx0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSx0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwic3R1bjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0KX0pKX0pKSx0fXRyeUJpbmRUcmFuc3BvcnRFdmVudHMoZSl7Y29uc3QgdD1lLnRyYW5zcG9ydDtpZih0KXt0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXI9ZSx0Lm9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsIT10JiZ0LnN0YXRlJiYobnVsbD09PShlPXRoaXMub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0LnN0YXRlKSl9LHQub25lcnJvcj1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25EVExTVHJhbnNwb3J0RXJyb3IpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxcImVycm9yXCJpbiBlP2UuZXJyb3I6ZSl9O2NvbnN0IGk9dC5pY2VUcmFuc3BvcnQ7aSYmKGkub25zdGF0ZWNoYW5nZT0oKT0+e2NvbnN0IGU9bnVsbD09dD92b2lkIDA6dC5pY2VUcmFuc3BvcnQuc3RhdGU7dmFyIGk7ZSYmKG51bGw9PT0oaT10aGlzLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlKSl9LGkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiYoaS5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZT0oKT0+e2lmKGkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2NvbnN0e2xvY2FsOmUscmVtb3RlOnR9PWkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlOiBsb2NhbCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHtjYW5kaWRhdGVUeXBlOmUudHlwZSxwcm90b2NvbDplLnByb3RvY29sfSksXCIsIHJlbW90ZSBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHtjYW5kaWRhdGVUeXBlOnQudHlwZSxwcm90b2NvbDp0LnByb3RvY29sLGFkZHJlc3M6dC5hZGRyZXNzLHBvcnQ6dC5wb3J0fSksXCIgKVwiKSl9fSkpfX10cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKXt0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXImJnRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlci50cmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0Lm9uZXJyb3I9bnVsbCx0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0LmljZVRyYW5zcG9ydCYmKHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlci50cmFuc3BvcnQuaWNlVHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCkpfWFzeW5jIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhlLHQpe3ZhciBpO2lmKCF0KXt0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoKHQ9PnQudHJhY2s9PT1lLl9tZWRpYVN0cmVhbVRyYWNrKSl9aWYoIXQpcmV0dXJuIEtDLndhcm4oXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSBubyBydHBTZW5kZXIgZm91bmR9XCIpKTtpZih0aGlzLmlzVlA4U2ltdWxjYXN0KGUpKXJldHVybiBLQy53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gVHJhY2sgaXMgVlA4IHNpbXVsY2FzdCwgcGxlYXNlIGFwcGx5IHNpbXVsY2FzdCBlbmNvZGluZ3NcIik7aWYoIV9BKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuIEtDLndhcm4oXCJbdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzXSBCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7Y29uc3Qgbj17fSxyPXt9O3N3aXRjaChlLl9vcHRpbWl6YXRpb25Nb2RlKXtjYXNlXCJtb3Rpb25cIjpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLWZyYW1lcmF0ZVwiO2JyZWFrO2Nhc2VcImRldGFpbFwiOm4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tcmVzb2x1dGlvblwiO2JyZWFrO2RlZmF1bHQ6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJiYWxhbmNlZFwifWlmKGUuX2VuY29kZXJDb25maWcpe3ZhciBzO2NvbnN0e2JpdHJhdGVNYXg6dCxmcmFtZVJhdGU6aSxzY2FsZVJlc29sdXRpb25Eb3duQnk6bn09ZS5fZW5jb2RlckNvbmZpZzt0JiYoci5tYXhCaXRyYXRlPTFlMyp0KSxQcihzPWUuX2hpbnRzKS5jYWxsKHMsa3kuTE9XX1NUUkVBTSkmJihpJiYoci5tYXhGcmFtZXJhdGU9bUQoaSkpLG4mJm4+PTEmJihyLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1uKSl9aWYoa0MoXCJEU0NQX1RZUEVcIikmJmtnKCkpe3ZhciBvO2NvbnN0IGU9a0MoXCJEU0NQX1RZUEVcIik7UHIobz1bXCJ2ZXJ5LWxvd1wiLFwibG93XCIsXCJtZWRpdW1cIixcImhpZ2hcIl0pLmNhbGwobyxlKSYmKHIubmV0d29ya1ByaW9yaXR5PWUpfWNvbnN0IGE9dC5nZXRQYXJhbWV0ZXJzKCksYz1udWxsPT09KGk9YS5lbmNvZGluZ3MpfHx2b2lkIDA9PT1pP3ZvaWQgMDppWzBdO1JnKCkmJiFjJiYobi5lbmNvZGluZ3M9W3JdKSxjJiZPYmplY3QuYXNzaWduKGMsciksT2JqZWN0LmFzc2lnbihhLG4pLEtDLmRlYnVnKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGEuZW5jb2RpbmdzKSkpLGF3YWl0IHQuc2V0UGFyYW1ldGVycyhhKX1hc3luYyBhcHBseVNlbmRFbmNvZGluZ3MoZSx0KXt0cnl7aWYoIV9BKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuO2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBuPWVbaV0scj10W2ldO3IgaW5zdGFuY2VvZiBTYiYmIXRoaXMuaXNWUDhTaW11bGNhc3QocikmJmF3YWl0IHRoaXMudXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKHIsbi5zZW5kZXIpfX1jYXRjaChlKXtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gQXBwbHkgUlRQU2VuZEVuY29kaW5ncyBmYWlsZWQuXCIpKX19bXVuZ1NlbmRPZmZlclNEUChlLHQsaSl7Y29uc3Qgbj1LUC5wYXJzZShlKTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e2NvbnN0IHI9aVt0XSxzPW4ubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZD09PXIpKTtzJiYoJFAocyxlKSxyTChzLGUsdGhpcy5zdG9yZS5jb2RlYykpfSkpLEtQLnByaW50KG4pfWJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3ZhciBuO251bGw9PT0obj10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyxlLHQsaSl9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7bnVsbD09PShpPXRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfX11bmJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwfWFzeW5jIGFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChlLHQpe2lmKGUubGVuZ3RoPT09dC5sZW5ndGgpZm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBpLG4scixzLG87Y29uc3QgYz1lW2FdLGQ9dFthXTtpZihkIGluc3RhbmNlb2YgU2ImJiFQcihpPWQuX2hpbnRzKS5jYWxsKGksa3kuTE9XX1NUUkVBTSkmJm51bGwhPT0obj1kLl9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09biYmbi5iaXRyYXRlTWF4JiYobnVsbD09PShyPWQuX2VuY29kZXJDb25maWcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmJpdHJhdGVNYXgpPjIwMCYmbnVsbCE9PShzPWQuX3NjYWxhYmlsaXR5TW9kZSkmJnZvaWQgMCE9PXMmJnMubnVtU3BhdGlhbExheWVycyYmKG51bGw9PT0obz1kLl9zY2FsYWJpbGl0eU1vZGUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm51bVNwYXRpYWxMYXllcnMpPjEmJlwidnA4XCI9PT10aGlzLnN0b3JlLmNvZGVjKXtjb25zdCBlPXt9LHQ9e2hpZ2g6MWUzKihkLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O2UuZW5jb2RpbmdzPVt7cmlkOlwibVwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOnQubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fSx7cmlkOlwiaFwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOnQuaGlnaH1dO2NvbnN0IGk9Yy5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IGMuc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihpLGUpKX19fWFzeW5jIGFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKGUsdCl7aWYoIVJnKCkmJmUubGVuZ3RoPT09dC5sZW5ndGgpZm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49dFtpXTtpZihuIGluc3RhbmNlb2YgU2ImJnRoaXMuaXNWUDhTaW11bGNhc3Qobikpe2NvbnN0IHQ9ZVtpXSxyPXt9LHM9e2hpZ2g6MWUzKihuLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O3IuZW5jb2RpbmdzPVt7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwiaGlnaFwiLHByaW9yaXR5OlwiaGlnaFwiLG1heEJpdHJhdGU6cy5oaWdofSx7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwibG93XCIscHJpb3JpdHk6XCJsb3dcIixtYXhCaXRyYXRlOnMubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fV07Y29uc3Qgbz10LnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7YXdhaXQgdC5zZW5kZXIuc2V0UGFyYW1ldGVycyhPYmplY3QuYXNzaWduKG8scikpfX19aXNWUDhTaW11bGNhc3QoZSl7dmFyIHQsaSxuLHIscztyZXR1cm4hIShlIGluc3RhbmNlb2YgU2ImJmtDKFwiU0lNVUxDQVNUXCIpJiZcInZwOFwiPT09dGhpcy5zdG9yZS5jb2RlYyYmIVByKHQ9ZS5faGludHMpLmNhbGwodCxreS5MT1dfU1RSRUFNKSYmbnVsbCE9PShpPWUuX2VuY29kZXJDb25maWcpJiZ2b2lkIDAhPT1pJiZpLmJpdHJhdGVNYXgmJihudWxsPT09KG49ZS5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uYml0cmF0ZU1heCk+MjAwJiZudWxsIT09KHI9ZS5fc2NhbGFiaWxpdHlNb2RlKSYmdm9pZCAwIT09ciYmci5udW1TcGF0aWFsTGF5ZXJzJiYobnVsbD09PShzPWUuX3NjYWxhYmlsaXR5TW9kZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMubnVtU3BhdGlhbExheWVycyk+MSl9bG9nU0RQRXhjaGFuZ2UoZSx0LGksbil7aWYoa0MoXCJTRFBfTE9HR0lOR1wiKSlyZXR1cm4gS0MudXBsb2FkKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBleGNoYW5naW5nIFwiKS5jb25jYXQoaSxcIiBcIikuY29uY2F0KHQsXCIgU0RQIGR1cmluZyBQMlBDb25uZWN0aW9uLlwiKS5jb25jYXQobixcIlxcblwiKSxlKSxcIm9mZmVyXCI9PT10P2U9Pnt0aGlzLmxvZ1NEUEV4Y2hhbmdlKGUsXCJhbnN3ZXJcIixcImxvY2FsXCI9PT1pP1wicmVtb3RlXCI6XCJsb2NhbFwiLG4pfTp2b2lkIDB9Z2V0TG9jYWxTU1JDKGUsdCl7dmFyIGksbjtpZih0PW51bGwhPT0oaT10KSYmdm9pZCAwIT09aT9pOm51bGw9PT0obj10aGlzLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zZHApe3ZhciByO2NvbnN0IGk9bnVsbD09PShyPUtQLnBhcnNlKHQpLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmF0dHJpYnV0ZXMuc3NyY3M7cmV0dXJuIG51bGw9PWk/dm9pZCAwOmlbMF0uc3NyY0lkfX1nZXRSZW1vdGVNaWQoZSx0KXt2YXIgaSxuO2lmKHQ9bnVsbCE9PShpPXQpJiZ2b2lkIDAhPT1pP2k6bnVsbD09PShuPXRoaXMuY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zZHApe3ZhciByO3JldHVybiBudWxsPT09KHI9S1AucGFyc2UodCkubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLnNzcmNzLnNvbWUoKHQ9PnQuc3NyY0lkPT09ZSkpKSkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmF0dHJpYnV0ZXMubWlkfX1hc3luYyBnZXRSZW1vdGVTU1JDKGUsdCl7dmFyIGksbjtpZih0PW51bGwhPT0oaT10KSYmdm9pZCAwIT09aT9pOm51bGw9PT0obj10aGlzLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uc2RwKXt2YXIgcjtjb25zdCBpPW51bGw9PT0ocj1LUC5wYXJzZSh0KS5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hdHRyaWJ1dGVzLnNzcmNzO3JldHVybiBudWxsPT1pP3ZvaWQgMDppWzBdLnNzcmNJZH19fWZ1bmN0aW9uIHdNKGUsdCxpKXtjb25zdCBuPWVbdF07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIGkudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMubXV0ZXgsaT1hd2FpdCBlLmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uXCIuY29uY2F0KHQpKTt0cnl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkociksbz0wO288cjtvKyspc1tvXT1hcmd1bWVudHNbb107cmV0dXJuIGF3YWl0IG4uYXBwbHkodGhpcyxzKX1maW5hbGx5e2koKX19LGl9dmFyIE9NO2Z1bmN0aW9uIE5NKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBETShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9OTShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpOTShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1Ndihbd00sVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGJNLnByb3RvdHlwZSxcImVzdGFibGlzaFwiLG51bGwpLE12KFt3TSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sYk0ucHJvdG90eXBlLFwiY29ubmVjdFwiLG51bGwpLE12KFt3TSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbUlRDSWNlQ2FuZGlkYXRlXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sYk0ucHJvdG90eXBlLFwiYWRkUmVtb3RlQ2FuZGlkYXRlXCIsbnVsbCksTXYoW3dNLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGJNLnByb3RvdHlwZSxcInNlbmRcIixudWxsKSxNdihbd00sVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxTdHJpbmcsTnVtYmVyXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sYk0ucHJvdG90eXBlLFwicmVjZWl2ZVwiLG51bGwpLE12KFt3TSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLFN0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGJNLnByb3RvdHlwZSxcInNldERlc2NyaXB0aW9uXCIsbnVsbCksTXYoW3dNLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheSxTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxiTS5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsbnVsbCksTXYoW3dNLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxiTS5wcm90b3R5cGUsXCJyZXN0YXJ0SUNFXCIsbnVsbCksTXYoW3dNLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sYk0ucHJvdG90eXBlLFwiY2xvc2VcIixudWxsKSxNdihbd00sVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxpQV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGJNLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixudWxsKSxNdihbd00sVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxpQV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGJNLnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsbnVsbCksTXYoW3dNLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtpQSxTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxiTS5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixudWxsKSxmdW5jdGlvbihlKXtlLlNFTkRfT05MWT1cIlNFTkRfT05MWVwiLGUuUkVDRUlWRV9PTkxZPVwiUkVDRUlWRV9PTkxZXCJ9KE9NfHwoT009e30pKTtjbGFzcyBQTSBleHRlbmRzIGlUe2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7Y29uc3QgdD10aGlzLl9zdGF0ZTt0aGlzLl9zdGF0ZT1lLHRoaXMuZW1pdChtSS5TdGF0ZUNoYW5nZSx0LHRoaXMuX3N0YXRlKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksbnUodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxudSh0aGlzLFwic3RhdHNVcGxvYWRlclwiLHZvaWQgMCksbnUodGhpcyxcInNlbmRDb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwicmVjdkNvbm5lY3Rpb25cIix2b2lkIDApLG51KHRoaXMsXCJsb2NhbFRyYWNrTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcInJlbW90ZVVzZXJNYXBcIixuZXcgTWFwKSxudSh0aGlzLFwibG9jYWxEYXRhQ2hhbm5lbHNcIixbXSksbnUodGhpcyxcInBlbmRpbmdMb2NhbFRyYWNrc1wiLFtdKSxudSh0aGlzLFwicGVuZGluZ1JlbW90ZVRyYWNrc1wiLFtdKSxudSh0aGlzLFwic3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLG51KHRoaXMsXCJkdGxzRmFpbGVkQ291bnRcIiwwKSxudSh0aGlzLFwic2VuZE11dGV4XCIsbmV3IFlUKFwiUDJQQ2hhbm5lbDItc2VuZC1tdXRleFwiKSksbnUodGhpcyxcInJlY3ZNdXRleFwiLG5ldyBZVChcIlAyUENoYW5uZWwyLXJlY3YtbXV0ZXhcIikpLG51KHRoaXMsXCJfc3RhdGVcIixFSS5EaXNjb25uZWN0ZWQpLG51KHRoaXMsXCJfcmVzdGFydFN0YXRlc1wiLFtcImRpc2Nvbm5lY3RlZFwiLFwiZmFpbGVkXCJdKSxudSh0aGlzLFwiX3Jlc3RhcnRUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcImhhbmRsZU11dGVMb2NhbFRyYWNrXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVNdXRlTG9jYWxUcmFja1wiKTt0cnl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaShuZXcgVmcoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsMi5oYW5kbGVNdXRlTG9jYWxUcmFjayBiZWZvcmUgc2VuZENvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpKTtjb25zdCBvPXRoaXMuZmlsdGVyVG9iZU11dGVkVHJhY2tzKGUpO2lmKDA9PT1vLmxlbmd0aClyZXR1cm4gdm9pZCB0KCk7Y29uc3QgYT1vLmZpbmQoKGU9PlwidmlkZW9Mb3dUcmFja1wiPT09ZVswXSkpO2lmKGEpe2FbMV0udHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpfWxldCBjPSExO3ZhciByLHM7aWYoXCJ2aWRlb1wiPT09ZS50cmFja01lZGlhVHlwZSljPSEobnVsbD09PShyPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKSl8fHZvaWQgMD09PXJ8fCFyLnRyYWNrLl9tdXRlZCk7ZWxzZSBjPXZvaWQgMD09PShudWxsPT09KHM9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spKXx8dm9pZCAwPT09cz92b2lkIDA6cy5pZCk7Y29uc3QgZD1vLmZpbHRlcigoZT0+e2xldFt0LGldPWU7cmV0dXJuKHQhPT1fSS5Mb2NhbEF1ZGlvVHJhY2t8fGMpJiZ2b2lkIDAhPT1pLmlkfSkpLm1hcCgoZT0+e2xldFssdF09ZTtyZXR1cm4gdH0pKTtsZXQgbDtkLmxlbmd0aD4wJiYobD1hd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnN0b3BTZW5kaW5nKGQubWFwKChlPT5lLmlkKSkpLGQuZm9yRWFjaCgoZT0+e2UuaWQ9dm9pZCAwLGUuc3NyY3M9dm9pZCAwfSkpKTtjb25zdCBoPXRoaXMuY3JlYXRlTXV0ZU1lc3NhZ2UobyksdT1cInZpZGVvXCI9PT1lLnRyYWNrTWVkaWFUeXBlP09JLk1VVEVfTE9DQUxfVklERU86T0kuTVVURV9MT0NBTF9BVURJTyxwPWF3YWl0IGZUKHRoaXMsbUkuUmVxdWVzdFAyUE11dGVMb2NhbCx7YWN0aW9uOnUsc2RwOmwsbWVzc2FnZTpoLGlzTXV0ZUFsbDpjfSk7cCYmYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5zZXREZXNjcmlwdGlvbihcImxvY2FsXCIscCksKGx8fFwiYXVkaW9cIj09PWUudHJhY2tNZWRpYVR5cGUpJiZhd2FpdCBnVCh0aGlzLG1JLlJlcXVlc3RNdXRlTG9jYWwsaCksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLG51KHRoaXMsXCJoYW5kbGVVbm11dGVMb2NhbFRyYWNrXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVVbm11dGVMb2NhbFRyYWNrXCIpO3RyeXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PUVJLkNvbm5lY3RlZClyZXR1cm4gdm9pZCBpKG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBjYWxsIFAyUENoYW5uZWwyLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2sgYmVmb3JlIHNlbmRDb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSk7Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVVbm11dGVkVHJhY2tzKGUpO2lmKDA9PT1yLmxlbmd0aClyZXR1cm4gdm9pZCB0KCk7Y29uc3Qgcz10aGlzLmNyZWF0ZVVubXV0ZU1lc3NhZ2Uociksbz1cInZpZGVvXCI9PT1lLnRyYWNrTWVkaWFUeXBlP09JLlVOTVVURV9MT0NBTF9WSURFTzpPSS5VTk1VVEVfTE9DQUxfQVVESU87YXdhaXQgZ1QodGhpcyxtSS5SZXF1ZXN0UDJQTXV0ZUxvY2FsLHthY3Rpb246byxtZXNzYWdlOnN9KSx0KCl9Y2F0Y2goZSl7aShlKX1maW5hbGx5e24oKX19KSksbnUodGhpcyxcImhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlclwiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbDIuaGFuZGxlU2V0VmlkZW9FbmNvZGVyXCIpO3RyeXtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8IWl8fGkudHJhY2shPT1lfHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQoKTtjb25zdHtpZDpyLHRyYWNrOnN9PWk7ciYmKGF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24udXBkYXRlU2VuZFBhcmFtZXRlcnMocixzKSxhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcocixzKSx0aGlzLmVtaXQobUkuVXBkYXRlVmlkZW9FbmNvZGVyLHMpKSx0KCl9Y2F0Y2goZSl7aShlKX1maW5hbGx5e24oKX19KSksbnUodGhpcyxcImhhbmRsZVNldE9wdGltaXphdGlvbk1vZGVcIiwoYXN5bmMoZSx0LGkpPT57Y29uc3Qgbj1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwyLmhhbmRsZVNldE9wdGltaXphdGlvbk1vZGVcIik7dHJ5e2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spO2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHwhaXx8aS50cmFjayE9PWV8fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0e2lkOnIsdHJhY2s6c309aTtyJiZhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKHIscyksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLG51KHRoaXMsXCJoYW5kbGVSZXBsYWNlVHJhY2tcIiwoYXN5bmMoZSx0LGksbik9PntsZXQgcjtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIgaGFuZGxlUmVwbGFjZVRyYWNrIGZvciBbdHJhY2staWQtXCIpLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl1cIikpLFwiYm9vbGVhblwiPT10eXBlb2YgbiYmbnx8KHI9YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuaGFuZGxlUmVwbGFjZVRyYWNrXCIpKTt0cnl7dmFyIHM7Y29uc3QgaT1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQoKHQ9PntsZXRbLHt0cmFjazppfV09dDtyZXR1cm4gZT09PWl9KSk7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fCFpfHx2b2lkIDA9PT1pWzFdLmlkfHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQoKTtpZihhd2FpdChudWxsPT09KHM9dGhpcy5zZW5kQ29ubmVjdGlvbil8fHZvaWQgMD09PXM/dm9pZCAwOnMucmVwbGFjZVRyYWNrKGUsaVsxXS5pZCkpLGlbMF09PT1fSS5Mb2NhbFZpZGVvVHJhY2smJl9BKCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyl7Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsVmlkZW9Mb3dUcmFjayk7aWYodCl7Y29uc3QgaT1lLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk7dC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksdC50cmFjay5fbWVkaWFTdHJlYW1UcmFjaz1pLHQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9aSxhd2FpdCBuZXcgdGcoKChlLGkpPT57dGhpcy5oYW5kbGVSZXBsYWNlVHJhY2sodC50cmFjayxlLGksITApfSkpfX10KCl9Y2F0Y2goZSl7aShlKX1maW5hbGx5e3ZhciBvO251bGw9PT0obz1yKXx8dm9pZCAwPT09b3x8bygpfX0pKSxudSh0aGlzLFwiaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzXCIsKGU9PntlKHRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxWaWRlb1RyYWNrU3RhdHMoKSl9KSksbnUodGhpcyxcImhhbmRsZUdldExvY2FsQXVkaW9TdGF0c1wiLChlPT57ZSh0aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsQXVkaW9UcmFja1N0YXRzKCkpfSkpLG51KHRoaXMsXCJoYW5kbGVHZXRSZW1vdGVWaWRlb1N0YXRzXCIsKGU9PnRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlVmlkZW9UcmFja1N0YXRzKGUudWlkKVtlLnVpZF0pKSxudSh0aGlzLFwiaGFuZGxlR2V0UmVtb3RlQXVkaW9TdGF0c1wiLChlPT50aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJlbW90ZUF1ZGlvVHJhY2tTdGF0cyhlLnVpZClbZS51aWRdKSksdGhpcy5zdG9yZT1lLHRoaXMuc3RhdHNDb2xsZWN0b3I9dCx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZFAyUENoYW5uZWwodGhpcyksdGhpcy5zdGF0c1VwbG9hZGVyPW5ldyBkayx0aGlzLmJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCl9YXN5bmMgc3RhcnRQMlBDb25uZWN0aW9uKGUsdCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHN0YXJ0UDJQQ29ubmVjdGlvbi5cIil9YXN5bmMgY29ubmVjdChlLHQsaSxuLHIscyl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IGNvbm5lY3QuXCIpfWFzeW5jIHN0YXJ0UDJQKGUsdCl7aWYodGhpcy5zdGF0ZT1FSS5OZXcsdGhpcy5zZW5kQ29ubmVjdGlvbiYmKEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwuc3RhcnRQMlAgcmVzZXQgUDJQQ29ubmVjdGlvbi5cIikpLHRoaXMuc2VuZENvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5zZW5kQ29ubmVjdGlvbikpLHRoaXMucmVjdkNvbm5lY3Rpb24mJihLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnN0YXJ0UDJQIHJlc2V0IFAyUENvbm5lY3Rpb24uXCIpKSx0aGlzLnJlY3ZDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMucmVjdkNvbm5lY3Rpb24pKSx0aGlzLnNlbmRDb25uZWN0aW9uPW5ldyBiTShlLHRoaXMuc3RvcmUpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5zZW5kQ29ubmVjdGlvbiksdGhpcy5yZWN2Q29ubmVjdGlvbj1uZXcgYk0oZSx0aGlzLnN0b3JlLHZ2LlJFQ0VJVkVfT05MWSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSx0KXt0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uU3RhcnQoKSxhd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLmVzdGFibGlzaCh0KTtjb25zdCBlPWF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uZXN0YWJsaXNoKHQpO3JldHVybiB0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRUcmFuc3BvcnRTdGF0cyghMCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMuc3RhdGU9RUkuQ29ubmVjdGVkLGV9cmV0dXJuIGF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uZXN0YWJsaXNoKHQpLHRoaXMuc2VuZENvbm5lY3Rpb24uZXN0YWJsaXNoKHQpfWFzeW5jIHAycENvbm5lY3QoZSl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fCF0aGlzLnJlY3ZDb25uZWN0aW9uKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwyLmNvbm5lY3QgYmVmb3JlIFAyUENoYW5uZWwyLnN0YXJ0UDJQQ29ubmVjdGlvbiAuXCIpO3RoaXMuc3RvcmUucGVlckNvbm5lY3Rpb25TdGFydCgpLGF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uY29ubmVjdChlKSxhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLmNvbm5lY3QoZSksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdGF0ZT1FSS5Db25uZWN0ZWR9YXN5bmMgYWRkUmVtb3RlQ2FuZGlkYXRlKGUpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHwhdGhpcy5yZWN2Q29ubmVjdGlvbil0aHJvdyBuZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBQMlBDaGFubmVsMi5jb25uZWN0IGJlZm9yZSBQMlBDaGFubmVsMi5hZGRSZW1vdGVDYW5kaWRhdGUgLlwiKTthd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLmFkZFJlbW90ZUNhbmRpZGF0ZShlKSxhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLmFkZFJlbW90ZUNhbmRpZGF0ZShlKX1hc3luYyBwdWJsaXNoKGUsdCxpKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PUVJLkNvbm5lY3RlZCl7dGhpcy50aHJvd0lmVHJhY2tUeXBlTm90TWF0Y2goZSk7Y29uc3QgdD1lLmZpbHRlcigoZT0+LTE9PT10aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKGUpKSk7cmV0dXJuIHZvaWQodGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuY29uY2F0KHQpKX10aGlzLnN0b3JlLnB1YklkPXRoaXMuc3RvcmUucHViSWQrMSxjRC5tYXJrUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCk7Y29uc3Qgbj10aGlzLmZpbHRlclRvYmVQdWJsaXNoZWRUcmFja3MoZSx0LGkpO2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gdm9pZCBhd2FpdCB0aGlzLnRyeVRvVW5tdXRlQXVkaW8oZSk7bi5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO2NvbnN0IG49RGF0ZS5ub3coKTt0aGlzLnN0b3JlLnB1Ymxpc2godC5nZXRUcmFja0lkKCksaT09PV9JLkxvY2FsQXVkaW9UcmFjaz9cImF1ZGlvXCI6XCJ2aWRlb1wiLG4pfSkpLHRoaXMuYmluZExvY2FsVHJhY2tFdmVudHMobik7Y29uc3Qgcj10aGlzLmNyZWF0ZUdhdGV3YXlQdWJsaXNoTWVzc2FnZShuKTtyZXR1cm4gdGhpcy5hc3NpZ25Mb2NhbFRyYWNrcyhuKSxuLmZvckVhY2goKGU9PntsZXR7dHJhY2s6dCx0eXBlOml9PWU7Y29uc3Qgbj1EYXRlLm5vdygpO3RoaXMuc3RvcmUucHVibGlzaCh0LmdldFRyYWNrSWQoKSxpPT09X0kuTG9jYWxBdWRpb1RyYWNrP1wiYXVkaW9cIjpcInZpZGVvXCIsdm9pZCAwLG4pfSkpLHJ9YXN5bmMgZG9wdWJsaXNoKGUpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXJldHVybjtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoZSk7aWYodCl7Y29uc3R7c2RwOmksdHJhY2tNZXNzYWdlOm59PWF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uc2VuZChbdC50cmFja10pLHttaWQ6cixsb2NhbFNTUkM6c309blswXTt0LmlkPXIsdC5zc3Jjcz1zLHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkTG9jYWxTdGF0cyhlKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRVcGxpbmtTdGF0cygpO2NvbnN0IG89YXdhaXQgZlQodGhpcyxtSS5SZXF1ZXN0UDJQUHVibGlzaCx7a2luZDplPT09X0kuTG9jYWxBdWRpb1RyYWNrP2hJLkFVRElPOmhJLlZJREVPLHNkcDppLHNzcmNJZDpzWzBdLnNzcmNJZH0pO2F3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uc2V0RGVzY3JpcHRpb24oXCJsb2NhbFwiLG8pO2NvbnN0IGE9dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKFtbZSx0XV0pO2F3YWl0IGdUKHRoaXMsbUkuUmVxdWVzdFVubXV0ZUxvY2FsLGEpfWVsc2U7fWFzeW5jIHNldERlc2NyaXB0aW9uKGUsdCl7bGV0IGksbjtcImxvY2FsXCI9PT1lPyhpPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucmVzdGFydElDRVwiKSxuPXRoaXMuc2VuZENvbm5lY3Rpb24pOihpPWF3YWl0IHRoaXMucmVjdk11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucmVzdGFydElDRVwiKSxuPXRoaXMucmVjdkNvbm5lY3Rpb24pO3RyeXtpZighbnx8dGhpcy5zdGF0ZSE9PUVJLkNvbm5lY3RlZClyZXR1cm47cmV0dXJuIGF3YWl0IG4uc2V0RGVzY3JpcHRpb24oZSx0KX1maW5hbGx5e2koKX19cHVibGlzaExvd1N0cmVhbShlKXtyZXR1cm4gQlAoKGZ1bmN0aW9uKigpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBwdWJsaXNoTG93U3RyZWFtLlwiKX0pKSgpfWFzeW5jIHJlcHVibGlzaCgpe3RoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmxlbmd0aD4wJiYoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEVtaXQgUDJQQ2hhbm5lbEV2ZW50cy5SZXF1ZXN0UmVQdWJsaXNoIHRvIHJlcHVibGlzaCB0cmFja3MuXCIpKSxhd2FpdCBmVCh0aGlzLG1JLlJlcXVlc3RSZVB1Ymxpc2gsdGhpcy5wZW5kaW5nTG9jYWxUcmFja3MpLHRoaXMuZW1pdChtSS5NZWRpYVJlY29ubmVjdEVuZCx0aGlzLnN0b3JlLnVpZCksdGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9W10pfWFzeW5jIHVucHVibGlzaChlKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PUVJLkNvbm5lY3RlZClyZXR1cm4gdm9pZCgwPT09ZS5sZW5ndGg/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MubGVuZ3RoPTA6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuZmlsdGVyKCh0PT4hUHIoZSkuY2FsbChlLHQpKSkpO2NvbnN0IHQ9dGhpcy5maWx0ZXJUb2JlVW5wdWJsaXNoZWRUcmFja3MoZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybjt0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHModC5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3R5cGU6dCx0cmFjazppfX0pKSk7Y29uc3QgaT10LmZpbHRlcigoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB2b2lkIDAhPT10fSkpO2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXJldHVybiB2b2lkIGUuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNwbGljZSh0LDEpfSkpO2NvbnN0IG49dC5maW5kKChlPT5cInZpZGVvTG93VHJhY2tcIj09PWVbMF0pKTtpZihuKXtuWzFdLnRyYWNrLmNsb3NlKCl9bGV0IHI7Y29uc3Qgcz10aGlzLmNyZWF0ZUdhdGV3YXlVbnB1Ymxpc2hNZXNzYWdlKHQpO2kubGVuZ3RoPjAmJihyPWF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uc3RvcFNlbmRpbmcoaS5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSkpLHRoaXMud2l0aGRyYXdMb2NhbFRyYWNrcyh0KSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHModC5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3R5cGU6dCx0cmFjazppfX0pKSksdC5mb3JFYWNoKChlPT57bGV0W3RdPWU7dGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKHQpfSkpLDA9PT10aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZSYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRVcGxpbmtTdGF0cygpO2NvbnN0IG89dGhpcy5jcmVhdGVNdXRlTWVzc2FnZSh0KTtyZXR1cm4gYXdhaXQgdGcuYWxsKG8ubWFwKChhc3luYyBlPT57YXdhaXQgZ1QodGhpcyxtSS5SZXF1ZXN0TXV0ZUxvY2FsLFtlXSl9KSkpLHtzZHA6cix1bnB1Yk1zZzpzfX1hc3luYyB1bnB1Ymxpc2hMb3dTdHJlYW0oKXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgdW5wdWJsaXNoTG93U3RyZWFtLlwiKX1hc3luYyBkb1VucHVibGlzaChlKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PUVJLkNvbm5lY3RlZClyZXR1cm47Y29uc3QgdD1bXTtpZihlIT09aEkuQVVESU8pe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spO3ZvaWQgMCE9PShudWxsPT1lP3ZvaWQgMDplLmlkKSYmdC5wdXNoKFtfSS5Mb2NhbFZpZGVvVHJhY2ssZV0pO2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvTG93VHJhY2spO3ZvaWQgMCE9PShudWxsPT1pP3ZvaWQgMDppLmlkKSYmdC5wdXNoKFtfSS5Mb2NhbFZpZGVvTG93VHJhY2ssaV0pLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlTG9jYWxTdGF0cyhfSS5Mb2NhbFZpZGVvVHJhY2spLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlTG9jYWxTdGF0cyhfSS5Mb2NhbFZpZGVvTG93VHJhY2spfWlmKGUhPT1oSS5WSURFTyl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsQXVkaW9UcmFjayk7dm9pZCAwIT09KG51bGw9PWU/dm9pZCAwOmUuaWQpJiZ0LnB1c2goW19JLkxvY2FsQXVkaW9UcmFjayxlXSksdGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKF9JLkxvY2FsQXVkaW9UcmFjayl9aWYodC5sZW5ndGg+MCl7Y29uc3QgaT1hd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnN0b3BTZW5kaW5nKHQubWFwKChlPT57bGV0Wyx0XT1lO3JldHVybiB0LmlkfSkpKTt0LmZvckVhY2goKGU9PntsZXRbLHRdPWU7dC5pZD12b2lkIDAsdC5zc3Jjcz12b2lkIDB9KSk7Y29uc3Qgbj1hd2FpdCBmVCh0aGlzLG1JLlJlcXVlc3RQMlBVblB1Ymxpc2gse3NkcDppLGtpbmQ6ZX0pO2F3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uc2V0RGVzY3JpcHRpb24oXCJsb2NhbFwiLG4pO2NvbnN0IHI9dGhpcy5jcmVhdGVNdXRlTWVzc2FnZSh0KTthd2FpdCB0Zy5hbGwoci5tYXAoKGFzeW5jIGU9Pnthd2FpdCBnVCh0aGlzLG1JLlJlcXVlc3RNdXRlTG9jYWwsW2VdKX0pKSl9ZWxzZTt9YXN5bmMgc3Vic2NyaWJlKGUsdCxpLG4pe3ZhciByO2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09RUkuQ29ubmVjdGVkKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiByZWN2Q29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2lmKG51bGwhPT0ocj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpKSYmdm9pZCAwIT09ciYmci5oYXModCkpcmV0dXJuO2NvbnN0e3RyYWNrOnMsbWlkOm8sc2RwOmF9PWF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24ucmVjZWl2ZSh0LGksbik7dD09PWhJLkFVRElPPyhlLl9hdWRpb1NTUkM9bixlLl9hdWRpb1RyYWNrP2UuX2F1ZGlvVHJhY2suX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2socyk6KGUuX2F1ZGlvVHJhY2s9bmV3IE9iKHMsZS51aWQsZS5fdWludGlkLHRoaXMuc3RvcmUpLEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNyZWF0ZSByZW1vdGUgYXVkaW8gdHJhY2s6IFwiKS5jb25jYXQoZS5fYXVkaW9UcmFjay5nZXRUcmFja0lkKCkpKSksdGhpcy5iaW5kUmVtb3RlVHJhY2tFdmVudHMoZSxlLl9hdWRpb1RyYWNrKSk6KGUuX3ZpZGVvU1NSQz1uLGUuX3ZpZGVvVHJhY2s/ZS5fdmlkZW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhzKTooZS5fdmlkZW9UcmFjaz1uZXcgd2IocyxlLnVpZCxlLl91aW50aWQsdGhpcy5zdG9yZSksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSB2aWRlbyB0cmFjazogXCIpLmNvbmNhdChlLl92aWRlb1RyYWNrLmdldFRyYWNrSWQoKSkpKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLGUuX3ZpZGVvVHJhY2spKTtjb25zdCBjPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7Yz9jLnNldCh0LG8pOnRoaXMucmVtb3RlVXNlck1hcC5zZXQoZSxuZXcgTWFwKFtbdCxvXV0pKSx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZFJlbW90ZVN0YXRzKGUudWlkKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWREb3dubGlua1N0YXRzKCksYXdhaXQgZ1QodGhpcyxtSS5SZXF1ZXN0UDJQVW5tdXRlUmVtb3RlLHQpO2NvbnN0IGQ9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbmRJbmRleCgoaT0+e2xldHt1c2VyOm4sa2luZDpyfT1pO3JldHVybiBuLnVpZD09PWUudWlkJiZ0PT09cn0pKTtyZXR1cm4tMSE9PWQmJih0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKGQsMSksdGhpcy5lbWl0KG1JLk1lZGlhUmVjb25uZWN0RW5kLGUudWlkKSksYX1hc3luYyB1bnN1YnNjcmliZShlLHQsaSxuKXtjb25zdCByPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maWx0ZXIoKHQ9PntsZXR7dXNlcjpuLGtpbmQ6cn09dDtyZXR1cm4gdm9pZCAwIT09aT9uLnVpZD09PWUudWlkJiZpPT09cjpuLnVpZD09PWUudWlkfSkpO2lmKHIuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmluZGV4T2YoZSk7dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZSh0LDEpfSkpLHRoaXMucmVjdkNvbm5lY3Rpb24mJnRoaXMuc3RhdGU9PT1FSS5Db25uZWN0ZWR8fG58fHIuZm9yRWFjaCgodD0+e2xldHtraW5kOml9PXQ7dmFyIG47aWYoaT09PWhJLkFVRElPKW51bGw9PT0obj1lLl9hdWRpb1RyYWNrKXx8dm9pZCAwPT09bnx8bi5fZGVzdHJveSgpLGUuX2F1ZGlvVHJhY2s9dm9pZCAwO2Vsc2UgaWYoaT09PWhJLlZJREVPKXt2YXIgcjtudWxsPT09KHI9ZS5fdmlkZW9UcmFjayl8fHZvaWQgMD09PXJ8fHIuX2Rlc3Ryb3koKSxlLl92aWRlb1RyYWNrPXZvaWQgMH19KSksIXRoaXMucmVjdkNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1FSS5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IHM9dGhpcy5maWx0ZXJUb2JlVW5TdWJzY3JpYmVkVHJhY2tzKGUsaSk7aWYoMD09PXMubGVuZ3RoKXJldHVybiB2b2lkKGkhPT1oSS5WSURFTyYmZ1QodGhpcyxtSS5SZXF1ZXN0UDJQTXV0ZVJlbW90ZSxoSS5BVURJTykpO2NvbnN0IG89YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nKHMubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSksdCk7cmV0dXJuIHRoaXMud2l0aGRyYXdSZW1vdGVUcmFja3MocyksMD09PXRoaXMucmVtb3RlVXNlck1hcC5zaXplJiZ0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZERvd25saW5rU3RhdHMoKSxzLmZvckVhY2goKGU9PntsZXRbdCx7a2luZDppfV09ZTt2YXIgcixzO2k9PT1oSS5WSURFTyYmdC5fdmlkZW9TU1JDJiYobnVsbD09PShyPXRoaXMucmVjdkNvbm5lY3Rpb24pfHx2b2lkIDA9PT1yfHxyLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KHQuX3ZpZGVvU1NSQywhMSkpO2lmKGk9PT1oSS5WSURFTyl0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX3ZpZGVvVHJhY2spLG58fChudWxsPT09KHM9dC5fdmlkZW9UcmFjayl8fHZvaWQgMD09PXN8fHMuX2Rlc3Ryb3koKSx0Ll92aWRlb1RyYWNrPXZvaWQgMCk7ZWxzZSBpZihpPT09aEkuQVVESU8pe3ZhciBvO2lmKHRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fYXVkaW9UcmFjayksIW4pbnVsbD09PShvPXQuX2F1ZGlvVHJhY2spfHx2b2lkIDA9PT1vfHxvLl9kZXN0cm95KCksdC5fYXVkaW9UcmFjaz12b2lkIDB9fSkpLHMuZmlsdGVyKChlPT57bGV0Wyx7a2luZDp0fV09ZTtyZXR1cm4gdCE9PWhJLkFVRElPfSkpLmZvckVhY2goKGU9PntsZXRbLHtraW5kOnR9XT1lO2dUKHRoaXMsbUkuUmVxdWVzdFAyUE11dGVSZW1vdGUsdCl9KSksaSE9PWhJLlZJREVPJiZnVCh0aGlzLG1JLlJlcXVlc3RQMlBNdXRlUmVtb3RlLGhJLkFVRElPKSxvfWdldEFsbERhdGFDaGFubmVscygpe3JldHVybiB0aGlzLmxvY2FsRGF0YUNoYW5uZWxzfWFzeW5jIG1hc3NTdWJzY3JpYmUoZSl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IG1hc3NTdWJzY3JpYmUuXCIpfWFzeW5jIG1hc3NTdWJzY3JpYmVOb0xvY2soZSl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IG1hc3NTdWJzY3JpYmVOb0xvY2suXCIpfWFzeW5jIG1hc3NVbnN1YnNjcmliZShlKXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgbWFzc1Vuc3Vic2NyaWJlLlwiKX1hc3luYyBtYXNzVW5zdWJzY3JpYmVOb0xvY2soZSl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IG1hc3NVbnN1YnNjcmliZU5vTG9jay5cIil9YXN5bmMgbXV0ZVJlbW90ZShlLHQpe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybjtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQgS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIi5cIikpO2lmKCFpLmdldCh0KSlyZXR1cm4gdm9pZCBLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIG1lZGlhIHR5cGUgXCIpLmNvbmNhdCh0LFwiLlwiKSk7Y29uc3Qgbj10PT09aEkuVklERU8/ZS5fdmlkZW9TU1JDOmUuX2F1ZGlvU1NSQzt2b2lkIDAhPT1uJiZ0aGlzLnJlY3ZDb25uZWN0aW9uLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KG4sITEpfWFzeW5jIHVubXV0ZVJlbW90ZShlLHQpe3JldHVybiB0aGlzLnVubXV0ZVJlbW90ZU5vTG9jayhlLHQpfWFzeW5jIHVubXV0ZVJlbW90ZU5vTG9jayhlLHQpe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybjtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQgS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIudW5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLlwiKSk7aS5nZXQodCl8fEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBtZWRpYSB0eXBlIFwiKS5jb25jYXQodCxcIi5cIikpfWdldEFsbFRyYWNrcyhlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09dD92b2lkIDA6dC50cmFjaylpbnN0YW5jZW9mIHRiKXtjb25zdCBpPXQudHJhY2s7cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57bGV0W3RdPWU7cmV0dXJuIHQhPT1fSS5Mb2NhbEF1ZGlvVHJhY2t9KSkuZmlsdGVyKCh0PT57bGV0W2ldPXQ7cmV0dXJuIShlJiZpPT09X0kuTG9jYWxWaWRlb0xvd1RyYWNrKX0pKS5tYXAoKGU9PntsZXRbLHt0cmFjazp0fV09ZTtyZXR1cm4gdH0pKS5jb25jYXQoaS50cmFja0xpc3QpfXJldHVybiBBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcigodD0+e2xldFtpXT10O3JldHVybiEoZSYmaT09PV9JLkxvY2FsVmlkZW9Mb3dUcmFjayl9KSkubWFwKChlPT57bGV0Wyx7dHJhY2s6dH1dPWU7cmV0dXJuIHR9KSl9cmVwb3J0UHVibGlzaEV2ZW50KGUsdCxpLG4scil7aWYoZSl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsQXVkaW9UcmFjaykscz1uP3RoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb0xvd1RyYWNrKTp0aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsVmlkZW9UcmFjayk7cnYucHVibGlzaCh0aGlzLnN0b3JlLnNlc3Npb25JZCx7ZXZlbnRFbGFwc2U6Y0QubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOmUsZWM6dCxhdWRpb05hbWU6bnVsbD09aT92b2lkIDA6aS50cmFjay5nZXRUcmFja0xhYmVsKCksdmlkZW9OYW1lOm51bGw9PXM/dm9pZCAwOnMudHJhY2suZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOi0xIT09KG51bGw9PXM/dm9pZCAwOnMudHJhY2suX2hpbnRzLmluZGV4T2Yoa3kuU0NSRUVOX1RSQUNLKSksYXVkaW86ISFpLHZpZGVvOiEhcyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxleHRlbmQ6cn0pfWVsc2V7dmFyIHM7aXx8KGk9W10pO2NvbnN0IG89aS5maW5kKChlPT5lIGluc3RhbmNlb2YgWkEpKSxhPW4/bnVsbD09PShzPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb1RyYWNrKSl8fHZvaWQgMD09PXM/dm9pZCAwOnMudHJhY2s6aS5maW5kKChlPT5lIGluc3RhbmNlb2YgU2IpKTtydi5wdWJsaXNoKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtldmVudEVsYXBzZTpjRC5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6ZSxlYzp0LGF1ZGlvTmFtZTpudWxsPT1vP3ZvaWQgMDpvLmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6bnVsbD09YT92b2lkIDA6YS5nZXRUcmFja0xhYmVsKCksc2NyZWVuc2hhcmU6LTEhPT0obnVsbD09YT92b2lkIDA6YS5faGludHMuaW5kZXhPZihreS5TQ1JFRU5fVFJBQ0spKSxhdWRpbzohIW8sdmlkZW86ISFhLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSl9fXJlcG9ydFN1YnNjcmliZUV2ZW50KGUsdCxpLG4pe2NvbnN0IHI9bj09PWhJLlZJREVPP2kuX3ZpZGVvU1NSQzppLl9hdWRpb1NTUkM7ciYmcnYuc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOmUsZWM6dCx2aWRlbzpuPT09aEkuVklERU8sYXVkaW86bj09PWhJLkFVRElPLHBlZXJpZDppLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6bj09PWhJLlZJREVPP2kuX3ZpZGVvU1NSQzppLl9hdWRpb1NTUkMscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpjRC5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQscil9KX1yZXNldCgpe0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi5yZXNldFwiKSksdGhpcy5zZW5kTXV0ZXg9bmV3IFlUKFwiUDJQQ2hhbm5lbDItc2VuZC1tdXRleFwiKSx0aGlzLnNlbmRNdXRleD1uZXcgWVQoXCJQMlBDaGFubmVsMi1yZWN2LW11dGV4XCIpLHRoaXMuc2VuZENvbm5lY3Rpb24mJih0aGlzLnNlbmRDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pLHRoaXMuc2VuZENvbm5lY3Rpb249dm9pZCAwKSx0aGlzLnJlY3ZDb25uZWN0aW9uJiYodGhpcy5yZWN2Q29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSx0aGlzLnJlY3ZDb25uZWN0aW9uPXZvaWQgMCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRVcGxpbmtTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkRG93bmxpbmtTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkVHJhbnNwb3J0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEV4dGVuc2lvblVzYWdlU3RhdHMoKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLnVuYmluZEFsbFJlbW90ZVRyYWNrRXZlbnRzKCksdGhpcy51bmJpbmRSdHBUcmFuc2NlaXZlcigpO2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbEF1ZGlvVHJhY2spO2lmKChudWxsPT1lP3ZvaWQgMDplLnRyYWNrKWluc3RhbmNlb2YgdGIpe2lmKGUudHJhY2sudHJhY2tMaXN0Lmxlbmd0aD4wKXtjb25zdCB0PWUudHJhY2s7ZS50cmFjay50cmFja0xpc3QuZm9yRWFjaCgoZT0+e3QucmVtb3ZlQXVkaW9UcmFjayhlKX0pKX1lLnRyYWNrLmNsb3NlKCl9dGhpcy5sb2NhbFRyYWNrTWFwLmNsZWFyKCksdGhpcy5yZW1vdGVVc2VyTWFwLmNsZWFyKCksdGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVSZW1vdGVTdGF0cygpLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlTG9jYWxTdGF0cygpLHRoaXMuZHRsc0ZhaWxlZENvdW50PTAsdGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9W10sdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzPVtdLHRoaXMuc3RhdGU9RUkuRGlzY29ubmVjdGVkfWdldFN0YXRzKGUpe3ZhciB0LGk7cmV0dXJuIGU/bnVsbD09PShpPXRoaXMucmVjdkNvbm5lY3Rpb24pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldFN0YXRzKCk6bnVsbD09PSh0PXRoaXMuc2VuZENvbm5lY3Rpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3ZhciB0O3JldHVybihudWxsPT09KHQ9dGhpcy5yZWN2Q29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpKXx8ITF9Z2V0TG9jYWxBdWRpb1ZvbHVtZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUpcmV0dXJuIGUudHJhY2suZ2V0Vm9sdW1lTGV2ZWwoKX1nZXRMb2NhbFZpZGVvU2l6ZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spO2lmKGUpcmV0dXJue3dpZHRoOmUudHJhY2suX3ZpZGVvV2lkdGh8fDAsaGVpZ2h0OmUudHJhY2suX3ZpZGVvSGVpZ2h0fHwwfX1nZXRFbmNvZGVyQ29uZmlnKGUpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKTtyZXR1cm4gdCYmdC50cmFjayBpbnN0YW5jZW9mIFNifHx0JiZ0LnRyYWNrIGluc3RhbmNlb2YgWkE/dC50cmFjay5fZW5jb2RlckNvbmZpZzp2b2lkIDB9Z2V0TG9jYWxNZWRpYShlKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKX1oYXNMb2NhbE1lZGlhKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5zaXplPjB9aGFzUmVtb3RlTWVkaWEoZSx0KXtpZighZSlyZXR1cm4gdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MDtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7cmV0dXJuISFpJiYoIXR8fGkuaGFzKHQpKX1hc3luYyBoYXNSZW1vdGVNZWRpYVdpdGhMb2NrKGUsdCl7aWYoIWUpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO3JldHVybiEhaSYmKCF0fHxpLmhhcyh0KSl9Z2V0UmVtb3RlTWVkaWEoZSl7dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKGh1KHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50LnVpZD09PWUpKTtyZXR1cm4gaT97YXVkaW9UcmFjazppLmF1ZGlvVHJhY2ssYXVkaW9TU1JDOmkuX2F1ZGlvU1NSQyx2aWRlb1RyYWNrOmkudmlkZW9UcmFjayx2aWRlb1NTUkM6aS5fdmlkZW9TU1JDfTp7fX1nZXRBdWRpb0xldmVscygpe2xldCBlPUFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkubWFwKChlPT57bGV0W3RdPWU7cmV0dXJue3VpZDp0LnVpZCxsZXZlbDp0LmF1ZGlvVHJhY2s/MTAwKnQuYXVkaW9UcmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKTowfX0pKTtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKTtyZXR1cm4gdCYmZS5wdXNoKHtsZXZlbDoxMDAqdC50cmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSx1aWQ6dGhpcy5zdG9yZS51aWR9KSxlPVp1KGUpLmNhbGwoZSwoKGUsdCk9PmUubGV2ZWwtdC5sZXZlbCkpLGV9YXN5bmMgZGlzY29ubmVjdEZvclJlY29ubmVjdCgpe3RoaXMuc2VuZENvbm5lY3Rpb24mJnRoaXMucmVjdkNvbm5lY3Rpb24mJihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIuZGlzY29ubmVjdEZvclJlY29ubmVjdCBjbG9zaW5nIFAyUENvbm5lY3Rpb25cIikpLHRoaXMuc3RhdGU9RUkuUmVjb25uZWN0aW5nLGtDKFwiS0VFUF9MQVNUX0ZSQU1FXCIpJiYwIT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0XT1lO3ZhciBpO3QuX3ZpZGVvVHJhY2smJnQuX3ZpZGVvVHJhY2suX3BsYXllciYmKG51bGw9PT0oaT10Ll92aWRlb1RyYWNrLl9wbGF5ZXIuZ2V0VmlkZW9FbGVtZW50KCkpfHx2b2lkIDA9PT1pfHxpLnBhdXNlKCksdC5fdmlkZW9UcmFjay5fcGxheWVyLmlzS2VlcExhc3RGcmFtZT0hMCx0Ll92aWRlb1RyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSl9KSksdGhpcy5zZW5kQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnNlbmRDb25uZWN0aW9uKSx0aGlzLnNlbmRDb25uZWN0aW9uPXZvaWQgMCx0aGlzLnJlY3ZDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMucmVjdkNvbm5lY3Rpb24pLHRoaXMucmVjdkNvbm5lY3Rpb249dm9pZCAwLDAhPT10aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZSYmKEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e3ZhciB0O2xldFtpLHt0cmFjazpufV09ZTtzd2l0Y2goaSl7Y2FzZSBfSS5Mb2NhbFZpZGVvVHJhY2s6UHIodD1uLl9oaW50cykuY2FsbCh0LGt5LkxPV19TVFJFQU0pP24uY2xvc2UoKTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKG4pO2JyZWFrO2Nhc2UgX0kuTG9jYWxBdWRpb1RyYWNrOm4gaW5zdGFuY2VvZiB0Yj90aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz10aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5jb25jYXQobi50cmFja0xpc3QpOnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnB1c2gobik7Y2FzZSBfSS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pKSx0aGlzLmVtaXQobUkuTWVkaWFSZWNvbm5lY3RTdGFydCx0aGlzLnN0b3JlLnVpZCkpLHRoaXMudW5iaW5kTG9jYWxUcmFja0V2ZW50cygpLHRoaXMubG9jYWxUcmFja01hcC5jbGVhcigpLDAhPT10aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSYmQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTtBcnJheS5mcm9tKGh1KGkpLmNhbGwoaSkpLmZvckVhY2goKGU9Pnt0aGlzLnNldFBlbmRpbmdSZW1vdGVNZWRpYSh0LGUpfSkpLHRoaXMuZW1pdChtSS5NZWRpYVJlY29ubmVjdFN0YXJ0LHQudWlkKX0pKSx0aGlzLnVuYmluZEFsbFJlbW90ZVRyYWNrRXZlbnRzKCksdGhpcy5yZW1vdGVVc2VyTWFwLmNsZWFyKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRVcGxpbmtTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkRG93bmxpbmtTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkVHJhbnNwb3J0U3RhdHMoKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIgZGlzY29ubmVjdGVkLCB3YWl0aW5nIHRvIHJlY29ubmVjdC5cIikpKX1oYXNQZW5kaW5nUmVtb3RlTWVkaWEoZSx0KXtmb3IoY29uc3QgaSBvZiB0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Mpe2NvbnN0e3VzZXI6bixraW5kOnJ9PWk7aWYoKGUgaW5zdGFuY2VvZiBOUD9lLnVpZDplKT09PW4udWlkJiZ0PT09cilyZXR1cm4hMH1yZXR1cm4hMX1zZXRQZW5kaW5nUmVtb3RlTWVkaWEoZSx0KXt0aGlzLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShlLHQpfHx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MucHVzaCh7dXNlcjplLGtpbmQ6dH0pfWFzeW5jIHJlc3RhcnRJQ0UoZSl7bGV0IHQ7dD1lLmRpcmVjdGlvbj09PXZ2LlNFTkRfT05MWT9hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnJlc3RhcnRJQ0VcIik6YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5yZXN0YXJ0SUNFXCIpO3RyeXtjb25zdCBpPWF3YWl0IGUucmVzdGFydElDRSgpLG49YXdhaXQgZlQodGhpcyxtSS5SZXF1ZXN0UDJQUmVzdGFydElDRSxpKTtlLnNldERlc2NyaXB0aW9uKFwibG9jYWxcIixuKX1maW5hbGx5e3QoKX19Z2V0VXBsaW5rTmV0d29ya1F1YWxpdHkoKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbilyZXR1cm4gMDtjb25zdCBlPXRoaXMuc2VuZENvbm5lY3Rpb24uZ2V0U3RhdHMoKSx0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb1RyYWNrKSxpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKSxuPWUudmlkZW9TZW5kLmZpbmQoKGU9Pnt2YXIgaTtyZXR1cm4gZS5zc3JjPT09KG51bGw9PXR8fG51bGw9PT0oaT10LnNzcmNzKXx8dm9pZCAwPT09aT92b2lkIDA6aVswXS5zc3JjSWQpfSkpLHI9ZS5hdWRpb1NlbmQuZmluZCgoZT0+e3ZhciB0O3JldHVybiBlLnNzcmM9PT0obnVsbD09aXx8bnVsbD09PSh0PWkuc3NyY3MpfHx2b2lkIDA9PT10P3ZvaWQgMDp0WzBdLnNzcmNJZCl9KSk7aWYoIW58fCFyKXJldHVybiAxO2NvbnN0IHM9VFQodGhpcyxtSS5OZWVkU2lnbmFsUlRUKSxvPW4/bi5ydHRNczp2b2lkIDAsYT1yP3IucnR0TXM6dm9pZCAwLGM9byYmYT8obythKS8yOm98fGEsZD0oYyYmcz8oYytzKS8yOmN8fHMpfHwwLGw9MTAwKmUuc2VuZFBhY2tldExvc3NSYXRlKi43LzUwKy4zKmQvMTUwMCxoPWw8LjE3PzE6bDwuMzY/MjpsPC41OT8zOmw8LjE/NDo1LHU9bnVsbD09dD92b2lkIDA6dC50cmFjaztpZih1JiZ1Ll9lbmNvZGVyQ29uZmlnJiYtMT09PXUuX2hpbnRzLmluZGV4T2Yoa3kuU0NSRUVOX1RSQUNLKSl7Y29uc3QgdD11Ll9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgsaT1lLmJpdHJhdGUuYWN0dWFsRW5jb2RlZDtpZih0JiZpKXtjb25zdCBlPSgxZTMqdC1pKS8oMWUzKnQpO3JldHVybiBhdltlPC4xNT8wOmU8LjM/MTplPC40NT8yOmU8LjY/Mzo0XVtoXX19cmV0dXJuIGh9Z2V0RG93bmxpbmtOZXR3b3JrUXVhbGl0eSgpe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybiAwO2NvbnN0IGU9dGhpcy5yZWN2Q29ubmVjdGlvbi5nZXRTdGF0cygpO2xldCB0PTA7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoaT0+e2xldFtuXT1pO2NvbnN0IHI9bi5fYXVkaW9TU1JDLHM9bi5fdmlkZW9TU1JDLG89ZS5hdWRpb1JlY3YuZmluZCgoZT0+ZS5zc3JjPT09cikpLGE9ZS52aWRlb1JlY3YuZmluZCgoZT0+ZS5zc3JjPT09cykpO2lmKCFvJiYhYSlyZXR1cm4gdm9pZCh0Kz0xKTtjb25zdCBjPVRUKHRoaXMsbUkuTmVlZFNpZ25hbFJUVCksZD1lLnJ0dCxsPShkJiZjPyhkK2MpLzI6ZHx8Yyl8fDAsaD1vP28uaml0dGVyTXM6dm9pZCAwLHU9ZS5yZWN2UGFja2V0TG9zc1JhdGU7bGV0IHA9LjcqdSoxMDAvNTArLjMqbC8xNTAwO2gmJihwPS42KnUqMTAwLzUwKy4yKmwvMTUwMCsuMipoLzQwMCk7dCs9cDwuMT8xOnA8LjE3PzI6cDwuMzY/MzpwPC41OT80OjV9KSksdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MD9NYXRoLnJvdW5kKHQvdGhpcy5yZW1vdGVVc2VyTWFwLnNpemUpOnR9YXN5bmMgbXV0ZUxvY2FsVHJhY2soZSl7cmV0dXJuIG5ldyB0ZygoKHQsaSk9Pnt0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKGUsdCxpKX0pKX1maWx0ZXJUb2JlUHVibGlzaGVkVHJhY2tzKGUsdCxpKXtjb25zdCBuPVtdLHI9X0EoKSxzPXRoaXMuZ2V0QWxsVHJhY2tzKCk7ZT15VChlPWUuZmlsdGVyKChlPT4tMT09PXMuaW5kZXhPZihlKSkpKTtsZXQgbz0hMSxhPSExO2Zvcihjb25zdCBzIG9mIGUpe2lmKHMgaW5zdGFuY2VvZiBTYiYmKHRoaXMubG9jYWxUcmFja01hcC5oYXMoX0kuTG9jYWxWaWRlb1RyYWNrKXx8bz9uZXcgVmcoeGcuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUykudGhyb3coKToobi5wdXNoKHt0cmFjazpzLHR5cGU6X0kuTG9jYWxWaWRlb1RyYWNrfSksbz0hMCksdCkpe2NvbnN0IGU9dGhpcy5nZXRMb3dWaWRlb1RyYWNrKHMsaSk7bi5wdXNoKHt0cmFjazplLHR5cGU6X0kuTG9jYWxWaWRlb0xvd1RyYWNrfSl9aWYocyBpbnN0YW5jZW9mIFpBKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKTtpZihlKXtpZighKGUudHJhY2sgaW5zdGFuY2VvZiB0YikpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGF1ZGlvIG1peGluZ1wiKTtpZihzLl9ieXBhc3NXZWJBdWRpbyl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW9cIik7ZS50cmFjay5hZGRBdWRpb1RyYWNrKHMpLHRoaXMuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhzLCEwKX1lbHNlIGlmKGEpe2NvbnN0IGU9bi5maW5kKChlPT57bGV0e3R5cGU6dH09ZTtyZXR1cm4gdD09PV9JLkxvY2FsQXVkaW9UcmFja30pKTtpZighKGUudHJhY2sgaW5zdGFuY2VvZiB0YikpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGF1ZGlvIG1peGluZ1wiKTtpZihzLl9ieXBhc3NXZWJBdWRpbyl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW9cIik7ZS50cmFjay5hZGRBdWRpb1RyYWNrKHMpfWVsc2V7aWYoIXIud2ViQXVkaW9NZWRpYVN0cmVhbURlc3R8fHMgaW5zdGFuY2VvZiB0Ynx8cy5fYnlwYXNzV2ViQXVkaW8pbi5wdXNoKHt0cmFjazpzLHR5cGU6X0kuTG9jYWxBdWRpb1RyYWNrfSk7ZWxzZXtjb25zdCBlPW5ldyB0YjtlLmFkZEF1ZGlvVHJhY2socyksbi5wdXNoKHt0cmFjazplLHR5cGU6X0kuTG9jYWxBdWRpb1RyYWNrfSl9YT0hMH19fXJldHVybiBufWZpbHRlclRvYmVVbnB1Ymxpc2hlZFRyYWNrcyhlKXtjb25zdCB0PVtdLGk9dGhpcy5nZXRBbGxUcmFja3MoKTtlPXlUKGU9ZS5maWx0ZXIoKGU9Pi0xIT09aS5pbmRleE9mKGUpKSkpO2Zvcihjb25zdCBpIG9mIGUpe2lmKGkgaW5zdGFuY2VvZiBaQSl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsQXVkaW9UcmFjayk7aWYoIWUpY29udGludWU7ZS50cmFjayBpbnN0YW5jZW9mIHRiPyhlLnRyYWNrLnJlbW92ZUF1ZGlvVHJhY2soaSksdGhpcy51bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoaSksMD09PWUudHJhY2sudHJhY2tMaXN0Lmxlbmd0aCYmKHQucHVzaChbX0kuTG9jYWxBdWRpb1RyYWNrLGVdKSxlLnRyYWNrLmNsb3NlKCkpKTp0LnB1c2goW19JLkxvY2FsQXVkaW9UcmFjayxlXSl9aWYoaSBpbnN0YW5jZW9mIFNiKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxWaWRlb1RyYWNrKTtpZighZSljb250aW51ZTt0LnB1c2goW19JLkxvY2FsVmlkZW9UcmFjayxlXSk7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsVmlkZW9Mb3dUcmFjayk7aSYmdC5wdXNoKFtfSS5Mb2NhbFZpZGVvTG93VHJhY2ssaV0pfX1yZXR1cm4gdH1iaW5kTG9jYWxUcmFja0V2ZW50cyhlKXtlLmZvckVhY2goKGU9PntsZXR7dHJhY2s6dCx0eXBlOml9PWU7c3dpdGNoKGkpe2Nhc2UgX0kuTG9jYWxWaWRlb1RyYWNrOnQuYWRkTGlzdGVuZXIoTHkuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzKSx0LmFkZExpc3RlbmVyKEx5Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKEx5Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcihMeS5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyKSx0LmFkZExpc3RlbmVyKEx5LlNFVF9PUFRJTUlaQVRJT05fTU9ERSx0aGlzLmhhbmRsZVNldE9wdGltaXphdGlvbk1vZGUpLHQuYWRkTGlzdGVuZXIoTHkuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSx0LmFkZExpc3RlbmVyKEx5Lk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKEx5Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7YnJlYWs7Y2FzZSBfSS5Mb2NhbEF1ZGlvVHJhY2s6dGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHQpO2Nhc2UgX0kuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSl9YmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhlLHQpe2UgaW5zdGFuY2VvZiB0Yj9lLnRyYWNrTGlzdC5mb3JFYWNoKChlPT57ZS5hZGRMaXN0ZW5lcihMeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihMeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoTHkuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLmFkZExpc3RlbmVyKEx5Lk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKEx5Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayl9KSk6KGUuYWRkTGlzdGVuZXIoTHkuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLmFkZExpc3RlbmVyKEx5Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKEx5Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihMeS5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihMeS5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHR8fGUuYWRkTGlzdGVuZXIoTHkuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSl9dW5iaW5kTG9jYWxUcmFja0V2ZW50cyhlKXtlfHwoZT1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLm1hcCgoZT0+e2xldFt0LHt0cmFjazppfV09ZTtyZXR1cm57dHJhY2s6aSx0eXBlOnR9fSkpKSxlLmZvckVhY2goKGU9PntsZXR7dHJhY2s6dCx0eXBlOml9PWU7c3dpdGNoKGkpe2Nhc2UgX0kuTG9jYWxWaWRlb1RyYWNrOnQub2ZmKEx5LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsVmlkZW9TdGF0cyksdC5vZmYoTHkuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQub2ZmKEx5Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdC5vZmYoTHkuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlciksdC5vZmYoTHkuU0VUX09QVElNSVpBVElPTl9NT0RFLHRoaXMuaGFuZGxlU2V0T3B0aW1pemF0aW9uTW9kZSksdC5vZmYoTHkuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSx0Lm9mZihMeS5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5vZmYoTHkuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTticmVhaztjYXNlIF9JLkxvY2FsQXVkaW9UcmFjazp0aGlzLnVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyh0KTtjYXNlIF9JLkxvY2FsVmlkZW9Mb3dUcmFjazp9fSkpfXVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhlKXtlIGluc3RhbmNlb2YgdGI/ZS50cmFja0xpc3QuZm9yRWFjaCgoZT0+e2Uub2ZmKEx5Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihMeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUub2ZmKEx5LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5vZmYoTHkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKEx5Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayl9KSk6KGUub2ZmKEx5LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5vZmYoTHkuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKEx5Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5vZmYoTHkuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSxlLm9mZihMeS5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoTHkuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSl9YmluZFJlbW90ZVRyYWNrRXZlbnRzKGUsdCl7dCBpbnN0YW5jZW9mIHdiJiZ0LmFkZExpc3RlbmVyKEx5LkdFVF9TVEFUUywodD0+e3QodGhpcy5oYW5kbGVHZXRSZW1vdGVWaWRlb1N0YXRzKGUpKX0pKSx0IGluc3RhbmNlb2YgT2ImJnQuYWRkTGlzdGVuZXIoTHkuR0VUX1NUQVRTLCh0PT57dCh0aGlzLmhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHMoZSkpfSkpfXVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUpe2UmJmUucmVtb3ZlQWxsTGlzdGVuZXJzKEx5LkdFVF9TVEFUUyl9dW5iaW5kQWxsUmVtb3RlVHJhY2tFdmVudHMoKXtBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO2kuaGFzKGhJLkFVRElPKSYmdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll9hdWRpb1RyYWNrKSxpLmhhcyhoSS5WSURFTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fdmlkZW9UcmFjayl9KSl9Y3JlYXRlR2F0ZXdheVB1Ymxpc2hNZXNzYWdlKGUpe3JldHVybiBlLm1hcCgoZT0+e3ZhciB0O2xldCBpLG4se3RyYWNrOnIsdHlwZTpzfT1lO3N3aXRjaChzKXtjYXNlIF9JLkxvY2FsQXVkaW9UcmFjazppPSR2LkF1ZGlvLG49e2R0eDpyIGluc3RhbmNlb2YgJEEmJnIuX2NvbmZpZy5EVFgsaHE6ITEsbHE6ITEsc3RlcmVvOiExLHNwZWVjaDohMX07YnJlYWs7Y2FzZSBfSS5Mb2NhbFZpZGVvVHJhY2s6aT1Qcih0PXIuX2hpbnRzKS5jYWxsKHQsa3kuU0NSRUVOX1RSQUNLKT8kdi5TY3JlZW46JHYuSGlnaCxuPURNKERNKHt9LGZEKHIpKSx7fSx7Y29kZWM6dGhpcy5zdG9yZS5jb2RlY30pO2JyZWFrO2Nhc2UgX0kuTG9jYWxWaWRlb0xvd1RyYWNrOmk9JHYuTG93LG49RE0oRE0oe30sZkQocikpLHt9LHtjb2RlYzp0aGlzLnN0b3JlLmNvZGVjfSl9cmV0dXJue2tpbmQ6cz09PV9JLkxvY2FsQXVkaW9UcmFjaz9oSS5BVURJTzpoSS5WSURFTyxzdHJlYW1fdHlwZTppLGF0dHJpYnV0ZXM6bixpc011dGVkOnIubXV0ZWR8fCFyLmVuYWJsZWR9fSkpfWNyZWF0ZUdhdGV3YXlVbnB1Ymxpc2hNZXNzYWdlKGUpe3JldHVybiBlLm1hcCgoZT0+e3ZhciB0O2xldCBpLFtuLHt0cmFjazpyLHNzcmNzOnMsaWQ6b31dPWU7c3dpdGNoKG4pe2Nhc2UgX0kuTG9jYWxWaWRlb1RyYWNrOmk9UHIodD1yLl9oaW50cykuY2FsbCh0LGt5LlNDUkVFTl9UUkFDSyk/JHYuU2NyZWVuOiR2LkhpZ2g7YnJlYWs7Y2FzZSBfSS5Mb2NhbEF1ZGlvVHJhY2s6aT0kdi5BdWRpbzticmVhaztjYXNlIF9JLkxvY2FsVmlkZW9Mb3dUcmFjazppPSR2Lkxvd31yZXR1cm57c3RyZWFtX3R5cGU6aSxzc3JjczpzLG1pZDpvfX0pKX1hc3NpZ25Mb2NhbFRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXR7dHJhY2s6dCx0eXBlOml9PWU7dGhpcy5sb2NhbFRyYWNrTWFwLnNldChpLHt0cmFjazp0fSl9KSl9d2l0aGRyYXdMb2NhbFRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXRbdF09ZTt0aGlzLmxvY2FsVHJhY2tNYXAuZGVsZXRlKHQpfSkpfWJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9YXN5bmMgdD0+e3ZhciBpO2lmKEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZShcIikuY29uY2F0KHQsXCIpXCIpKSx0aGlzLmVtaXQobUkuUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSx0KSxcImNvbm5lY3RlZFwiIT09dHx8dGhpcy5zdG9yZS5rZXlNZXRyaWNzLnBlZXJDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uRW5kKCksUHIoaT10aGlzLl9yZXN0YXJ0U3RhdGVzKS5jYWxsKGksdCl8fGUuZGlyZWN0aW9uPT09dnYuU0VORF9PTkxZKXtpZih0aGlzLl9yZXN0YXJ0VGltZXIpcmV0dXJuO2NvbnN0IHQ9KCk9PntpZihcImRpc2Nvbm5lY3RlZFwiPT09ZS5pY2VDb25uZWN0aW9uU3RhdGV8fFwiY2hlY2tpbmdcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlfHxcImZhaWxlZFwiPT09ZS5pY2VDb25uZWN0aW9uU3RhdGUpe0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ2hhbm5lbF0gc3RhcnQgdXNlIHJlc3RhcnRJQ0VcIikpO1wiQ09OTkVDVEVEXCI9PT1UVCh0aGlzLG1JLlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlKSYmdGhpcy5yZXN0YXJ0SUNFKGUpfX07dGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3QoKSx0aGlzLl9yZXN0YXJ0VGltZXI9dm9pZCAwfSksODAwKX1lbHNlO30sZS5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1lPT57XCJjb25uZWN0ZWRcIiE9PWV8fHRoaXMuc3RvcmUua2V5TWV0cmljcy5pY2VDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLmljZUNvbm5lY3Rpb25FbmQoKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSkscnYucmVwb3J0QXBpSW52b2tlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtuYW1lOlwiSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsb3B0aW9uczplLHRhZzpvVC5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLmVtaXQobUkuSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlLGUpfSxlLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e0tDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpfSxlLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSl9LGUub25EVExTVHJhbnNwb3J0RXJyb3I9ZT0+e0tDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkRUTFNUcmFuc3BvcnRFcnJvcihcIikuY29uY2F0KGUsXCIpXCIpKX0sZS5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oaHUodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX2F1ZGlvU1NSQz09PWUpKTt2YXIgbjtpJiYodGhpcy5zdG9yZS5zdWJzY3JpYmUoaS51aWQsXCJhdWRpb1wiLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpLG51bGw9PT0obj1pLmF1ZGlvVHJhY2spfHx2b2lkIDA9PT1ufHxuLmVtaXQoQnkuRklSU1RfRlJBTUVfREVDT0RFRCkscnYuZmlyc3RSZW1vdGVGcmFtZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxYQy5GSVJTVF9BVURJT19ERUNPREUsUUMuRklSU1RfQVVESU9fREVDT0RFLHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6Y0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KSl9LGUub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShodSh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC5fYXVkaW9TU1JDPT09ZSkpO2kmJnJ2LmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsWEMuRklSU1RfQVVESU9fUkVDRUlWRUQsUUMuRklSU1RfQVVESU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTpjRC5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pfSxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3RoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHQsaSl9LGUub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShodSh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC5fdmlkZW9TU1JDPT09ZSkpO2kmJnJ2LmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsWEMuRklSU1RfVklERU9fUkVDRUlWRUQsUUMuRklSU1RfVklERU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTpjRC5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pfSxlLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pntjb25zdCBpPVwicmVsYXlcIj09PWUuY2FuZGlkYXRlVHlwZSxuPVwicmVsYXlcIj09PXQuY2FuZGlkYXRlVHlwZTtcInVua25vd25cIiE9PXQuY2FuZGlkYXRlVHlwZSYmaT09PW58fHRoaXMuZW1pdChtSS5Db25uZWN0aW9uVHlwZUNoYW5nZSxpKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh2RCh0KSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh2RChlKSksXCIpXCIpKX0sZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e0tDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh2RCh0KSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh2RChlKSksXCIpXCIpKX0sZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dGhpcy5yZXBvcnRWaWRlb0ZpcnN0RnJhbWVEZWNvZGVkKGUsdm9pZCAwLHZvaWQgMCwhMCl9LGUub25Mb2NhbENhbmRpZGF0ZT1lPT57dGhpcy5lbWl0KG1JLkxvY2FsQ2FuZGlkYXRlLGUpfX11bmJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRFcnJvcj12b2lkIDAsZS5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLGUub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDAsZS5vbkxvY2FsQ2FuZGlkYXRlPXZvaWQgMH1maWx0ZXJUb2JlTXV0ZWRUcmFja3MoZSl7Y29uc3QgdD1bXTtpZigtMT09PXRoaXMuZ2V0QWxsVHJhY2tzKCkuaW5kZXhPZihlKSlyZXR1cm4gdDtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoX0kuTG9jYWxBdWRpb1RyYWNrKTtpZihlIGluc3RhbmNlb2YgWkEmJihudWxsPT1pP3ZvaWQgMDppLnRyYWNrKWluc3RhbmNlb2YgdGIpcmV0dXJuIGkudHJhY2suaXNBY3RpdmV8fHQucHVzaChbX0kuTG9jYWxBdWRpb1RyYWNrLGldKSx0O2NvbnN0IG49QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKG4mJih0LnB1c2gobiksblswXT09PV9JLkxvY2FsVmlkZW9UcmFjaykpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvTG93VHJhY2spO2UmJnQucHVzaChbX0kuTG9jYWxWaWRlb0xvd1RyYWNrLGVdKX1yZXR1cm4gdH1maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhlKXtjb25zdCB0PVtdLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUgaW5zdGFuY2VvZiBaQSYmKG51bGw9PWk/dm9pZCAwOmkudHJhY2spaW5zdGFuY2VvZiB0YilyZXR1cm4gaS50cmFjay5pc0FjdGl2ZSYmdC5wdXNoKFtfSS5Mb2NhbEF1ZGlvVHJhY2ssaV0pLHQ7Y29uc3Qgbj1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQoKHQ9PntsZXRbLHt0cmFjazppfV09dDtyZXR1cm4gZT09PWl9KSk7aWYobilpZihuWzBdPT09X0kuTG9jYWxWaWRlb1RyYWNrKXt0LnB1c2gobik7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KF9JLkxvY2FsVmlkZW9Mb3dUcmFjayk7ZSYmdC5wdXNoKFtfSS5Mb2NhbFZpZGVvTG93VHJhY2ssZV0pfWVsc2UgdC5wdXNoKG4pO3JldHVybiB0fWNyZWF0ZU11dGVNZXNzYWdlKGUpe3JldHVybiBlLm1hcCgoZT0+e3ZhciB0O2xldCBpLFtuLHt0cmFjazpyLHNzcmNzOnMsaWQ6b31dPWU7c3dpdGNoKG4pe2Nhc2UgX0kuTG9jYWxBdWRpb1RyYWNrOmk9JHYuQXVkaW87YnJlYWs7Y2FzZSBfSS5Mb2NhbFZpZGVvVHJhY2s6aT1Qcih0PXIuX2hpbnRzKS5jYWxsKHQsa3kuU0NSRUVOX1RSQUNLKT8kdi5TY3JlZW46JHYuSGlnaDticmVhaztjYXNlIF9JLkxvY2FsVmlkZW9Mb3dUcmFjazppPSR2Lkxvd31yZXR1cm57c3RyZWFtX3R5cGU6aSxzc3JjczpzLG1pZDpvfX0pKX1jcmVhdGVVbm11dGVNZXNzYWdlKGUpe3JldHVybiBlLm1hcCgoZT0+e3ZhciB0O2xldCBpLFtuLHt0cmFjazpyLHNzcmNzOnMsaWQ6b31dPWU7c3dpdGNoKG4pe2Nhc2UgX0kuTG9jYWxBdWRpb1RyYWNrOmk9JHYuQXVkaW87YnJlYWs7Y2FzZSBfSS5Mb2NhbFZpZGVvVHJhY2s6aT1Qcih0PXIuX2hpbnRzKS5jYWxsKHQsa3kuU0NSRUVOX1RSQUNLKT8kdi5TY3JlZW46JHYuSGlnaDticmVhaztjYXNlIF9JLkxvY2FsVmlkZW9Mb3dUcmFjazppPSR2Lkxvd31yZXR1cm57c3RyZWFtX3R5cGU6aSxzc3JjczpzLG1pZDpvfX0pKX1maWx0ZXJUb2JlVW5TdWJzY3JpYmVkVHJhY2tzKGUsdCl7Y29uc3QgaT1bXSxuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIW4pcmV0dXJuIGk7aWYodCl7Y29uc3Qgcj1uLmdldCh0KTtpZighcilyZXR1cm4gaTtpLnB1c2goW2Use2tpbmQ6dCxpZDpyfV0pfWVsc2UgQXJyYXkuZnJvbShuLmVudHJpZXMoKSkuZm9yRWFjaCgodD0+e2xldFtuLHJdPXQ7aS5wdXNoKFtlLHtraW5kOm4saWQ6cn1dKX0pKTtyZXR1cm4gaX1jcmVhdGVVbnN1YnNjcmliZU1lc3NhZ2UoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57bGV0W2kse2tpbmQ6bixpZDpyfV09ZTtzd2l0Y2gobil7Y2FzZSBoSS5WSURFTzpyZXR1cm4gdm9pZChpLl92aWRlb1NTUkMmJnQucHVzaCh7c3RyZWFtX3R5cGU6aEkuVklERU8sc3NyY0lkOmkuX3ZpZGVvU1NSQ30pKTtjYXNlIGhJLkFVRElPOnJldHVybiB2b2lkKGkuX2F1ZGlvU1NSQyYmdC5wdXNoKHtzdHJlYW1fdHlwZTpoSS5BVURJTyxzc3JjSWQ6aS5fYXVkaW9TU1JDfSkpfX0pKSx0fXdpdGhkcmF3UmVtb3RlVHJhY2tzKGUpe2UuZm9yRWFjaCgoZT0+e2xldFt0LHtraW5kOml9XT1lO2NvbnN0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtuJiYobi5kZWxldGUoaSksMD09PUFycmF5LmZyb20obi5lbnRyaWVzKCkpLmxlbmd0aCYmdGhpcy5yZW1vdGVVc2VyTWFwLmRlbGV0ZSh0KSl9KSl9YXN5bmMgdXBkYXRlQml0cmF0ZUxpbWl0KGUpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvVHJhY2spLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChfSS5Mb2NhbFZpZGVvTG93VHJhY2spO3QmJmF3YWl0IHQudHJhY2suc2V0Qml0cmF0ZUxpbWl0KGUudXBsaW5rKSxpJiZlLmxvd19zdHJlYW1fdXBsaW5rJiZhd2FpdCBpLnRyYWNrLnNldEJpdHJhdGVMaW1pdCh7bWF4X2JpdHJhdGU6ZS5sb3dfc3RyZWFtX3VwbGluay5iaXRyYXRlLG1pbl9iaXRyYXRlOmUubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZXx8MH0pfWlzUDJQRGlzY29ubmVjdGVkKCl7aWYodGhpcy5zZW5kQ29ubmVjdGlvbiYmdGhpcy5yZWN2Q29ubmVjdGlvbil7Y29uc3QgZT10aGlzLnNlbmRDb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGUsdD10aGlzLnJlY3ZDb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGU7cmV0dXJuXCJjb25uZWN0ZWRcIiE9PWUmJlwiY29ubmVjdGVkXCIhPT10fXJldHVybiEwfWFzeW5jIHRyeVRvVW5tdXRlQXVkaW8oZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XWluc3RhbmNlb2YgWkEpe2NvbnN0IGk9dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhlW3RdKTtpZigwPT09aS5sZW5ndGgpY29udGludWU7Y29uc3Qgbj10aGlzLmNyZWF0ZVVubXV0ZU1lc3NhZ2UoaSk7cmV0dXJuIHZvaWQgYXdhaXQgZ1QodGhpcyxtSS5SZXF1ZXN0VW5tdXRlTG9jYWwsbil9fWJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCl7dGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RTdGF0cz1lPT50aGlzLmdldFN0YXRzKGUpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0TG9jYWxNZWRpYT0oKT0+QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maWx0ZXIoKGU9PntsZXRbLHtzc3Jjczp0fV09ZTtyZXR1cm4hIXR9KSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT0oKT0+QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT1lPT57dmFyIHQ7cmV0dXJuIShudWxsPT09KHQ9dGhpcy5yZWN2Q29ubmVjdGlvbil8fHZvaWQgMD09PXR8fCF0LmdldFJlbW90ZVZpZGVvSXNSZWFkeShlKSl9LHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VXBsb2FkPShlLHQpPT50aGlzLmVtaXQobUkuUmVxdWVzdFVwbG9hZFN0YXRzLGUsdCksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RBbGxUcmFja3M9KCk9PnRoaXMuZ2V0QWxsVHJhY2tzKCl9dW5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0TG9jYWxNZWRpYT12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RWaWRlb0lzUmVhZHk9dm9pZCAwfWFzeW5jIHJlcXVlc3RSZWNvbm5lY3QoKXt0aGlzLmR0bHNGYWlsZWRDb3VudCs9MSxhd2FpdCBVVCh6VCh0aGlzLmR0bHNGYWlsZWRDb3VudCxKVCkpLHRoaXMuZW1pdChtSS5SZXF1ZXN0UmVjb25uZWN0KX1hc3luYyByZWNvbm5lY3RQMlAoKXt9Y2FuUHVibGlzaExvd1N0cmVhbSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuaGFzKF9JLkxvY2FsVmlkZW9UcmFjayl8fHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBTYikpfXRocm93SWZUcmFja1R5cGVOb3RNYXRjaChlKXtpZihlLmZpbHRlcigoZT0+ZSBpbnN0YW5jZW9mIFNiKSkubGVuZ3RoPjEpdGhyb3cgbmV3IFZnKHhnLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpO2lmKGUuZmlsdGVyKChlPT5lIGluc3RhbmNlb2YgWkEpKS5sZW5ndGg+MSYmKGUuc29tZSgoZT0+ZSBpbnN0YW5jZW9mIFpBJiZlLl9ieXBhc3NXZWJBdWRpbykpfHwhX0EoKS53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdCkpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgTWVkaWFTdHJlYW1EZXN0Tm9kZVwiKTtmb3IoY29uc3QgdCBvZiBlKXtpZih0IGluc3RhbmNlb2YgU2ImJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBTYikpKXRocm93IG5ldyBWZyh4Zy5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKTtpZih0IGluc3RhbmNlb2YgWkEmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBaQSkpJiYoIV9BKCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3R8fHQuX2J5cGFzc1dlYkF1ZGlvfHx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgWkEmJmUuX2J5cGFzc1dlYkF1ZGlvKSkpKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IE1lZGlhU3RyZWFtRGVzdE5vZGVcIil9fWdldExvd1ZpZGVvVHJhY2soZSx0KXtjb25zdCBpPSFrQyhcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZfQSgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcsbj1ETShETSh7fSx7d2lkdGg6MTYwLGhlaWdodDoxMjAsZnJhbWVyYXRlOjE1LGJpdHJhdGU6NTB9KSx0KTtsZXQgcjtyPWk/ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpOktMKGUsbik7Y29uc3Qgcz14VCg4LFwidHJhY2stbG93LVwiKSxvPW5ldyBTYihyLERNKERNKHt9LGkmJntzY2FsZVJlc29sdXRpb25Eb3duQnk6Q0QobixlKX0pLHt9LHtmcmFtZVJhdGU6bi5mcmFtZXJhdGUsYml0cmF0ZU1heDpuLmJpdHJhdGUsYml0cmF0ZU1pbjpuLmJpdHJhdGV9KSx2b2lkIDAsdm9pZCAwLHMpO3JldHVybiBvLm9uKFZ5LlRSQU5TQ0VJVkVSX1VQREFURUQsKHQ9PntlLl91cGRhdGVSdHBUcmFuc2NlaXZlcih0LE15LkxPV19TVFJFQU0pfSkpLG8uX2hpbnRzLnB1c2goa3kuTE9XX1NUUkVBTSksZS5hZGRMaXN0ZW5lcihMeS5ORUVEX0NMT1NFLCgoKT0+e28uY2xvc2UoKX0pKSxvfWFzeW5jIGdsb2JhbExvY2soKXtyZXR1cm4gdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuZ2xvYmFsTG9ja1wiKX1yZXBvcnRWaWRlb0ZpcnN0RnJhbWVEZWNvZGVkKGUsdCxpLG4pe3ZhciByO2NvbnN0IHM9QXJyYXkuZnJvbShodShyPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChyKSkuZmluZCgodD0+dC5fdmlkZW9TU1JDPT09ZSkpO2lmKHMpe258fHRoaXMuc3RvcmUuc3Vic2NyaWJlKHMudWlkLFwidmlkZW9cIix2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSk7Y29uc3Qgcj10aGlzLnN0b3JlLmtleU1ldHJpY3Msbz1yLnN1YnNjcmliZS5maW5kKChlPT5lLnVzZXJJZD09PXMudWlkJiZcInZpZGVvXCI9PT1lLnR5cGUpKTtydi5maXJzdFJlbW90ZVZpZGVvRGVjb2RlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLFhDLkZJUlNUX1ZJREVPX0RFQ09ERSxRQy5GSVJTVF9WSURFT19ERUNPREUse3BlZXI6cy5fdWludGlkLHZpZGVvd2lkdGg6dCx2aWRlb2hlaWdodDppLHN1YnNjcmliZUVsYXBzZTpjRC5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxhcEVuZDpyLnJlcXVlc3RBUEVuZHx8MCxhcFN0YXJ0OnIucmVxdWVzdEFQU3RhcnR8fDAsam9pbkd3RW5kOnIuam9pbkdhdGV3YXlFbmR8fDAsam9pbkd3U3RhcnQ6ci5qb2luR2F0ZXdheVN0YXJ0fHwwLHBjRW5kOnIucGVlckNvbm5lY3Rpb25FbmR8fDAscGNTdGFydDpyLnBlZXJDb25uZWN0aW9uU3RhcnR8fDAsc3Vic2NyaWJlckVuZDoobnVsbD09bz92b2lkIDA6by5zdWJzY3JpYmVFbmQpfHwwLHN1YnNjcmliZXJTdGFydDoobnVsbD09bz92b2lkIDA6by5zdWJzY3JpYmVTdGFydCl8fDAsdmlkZW9BZGROb3RpZnk6KG51bGw9PW8/dm9pZCAwOm8uc3RyZWFtQWRkZWQpfHwwLHN0YXRlOm4/MTowfSl9fWFzeW5jIHJlbW90ZU1lZGlhU3NyY0NoYW5nZWQoZSx0LGkpe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybiExO2NvbnN0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighbilyZXR1cm4hMTtjb25zdCByPW4uZ2V0KHQpO2lmKCFyKXJldHVybiExO2NvbnN0IHM9YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5nZXRSZW1vdGVTU1JDKHIpO3JldHVybiB2b2lkIDAhPT1zJiZzIT09aX1yZXNldENvbm5lY3Rpb24oZSl7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDaGFubmVsMl0gcmVzZXQgY29ubmVjdGlvbiB0byBcIikuY29uY2F0KGUpKSx0aGlzLnN0YXRlPT09RUkuQ29ubmVjdGVkPyhLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWwyXSBmYWxsYmFjayB0byB3ZWJzb2NrZXQgYnV0IFAyUENoYW5uZWwyIHN0YXRlIHN0aWxsIGNvbm5lY3RlZCwgZGlzY29ubmVjdCBmaXJzdFwiKSksdGhpcy5kaXNjb25uZWN0Rm9yUmVjb25uZWN0KCkpOih0aGlzLnNlbmRDb25uZWN0aW9uJiYodGhpcy5zZW5kQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnNlbmRDb25uZWN0aW9uKSx0aGlzLnNlbmRDb25uZWN0aW9uPXZvaWQgMCksdGhpcy5yZWN2Q29ubmVjdGlvbiYmKHRoaXMucmVjdkNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5yZWN2Q29ubmVjdGlvbiksdGhpcy5yZWN2Q29ubmVjdGlvbj12b2lkIDApKX1hc3luYyBwdWJsaXNoRGF0YUNoYW5uZWwoZSl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQpfWFzeW5jIHVucHVibGlzaERhdGFDaGFubmVsKGUpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVEKX1hc3luYyBzdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVEKX1hc3luYyB1bnN1YnNjcmliZURhdGFDaGFubmVsKGUsdCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQpfWhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLHQpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVEKX1zZXRQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwoZSx0KXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCl9YXN5bmMgcHJlQ29ubmVjdChlLHQsaSxuLHIscyl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQpfWdldEVzdGFibGlzaFBhcmFtcygpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVEKX1hc3luYyByZVN1YnNjcmliZShlKXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCl9YXN5bmMgdXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXIoZSx0KXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCl9dW5iaW5kUnRwVHJhbnNjZWl2ZXIoKXswIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LHt0cmFjazppfV09ZTt0PT09X0kuTG9jYWxWaWRlb0xvd1RyYWNrP2kuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHZvaWQgMCxNeS5MT1dfU1RSRUFNKTppLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDApfSkpfX1mdW5jdGlvbiBMTShlKXtyZXR1cm4gZnVuY3Rpb24odCxpLG4pe2NvbnN0IHI9dFtpXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gbi52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLHM9MDtzPHQ7cysrKW5bc109YXJndW1lbnRzW3NdO3N3aXRjaChlKXtjYXNlIE9NLlNFTkRfT05MWTp7Y29uc3QgZT1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQoaSkpO3RyeXtyZXR1cm4gYXdhaXQgci5hcHBseSh0aGlzLG4pfWZpbmFsbHl7ZSgpfX1jYXNlIE9NLlJFQ0VJVkVfT05MWTp7Y29uc3QgZT1hd2FpdCB0aGlzLnJlY3ZNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQoaSkpO3RyeXtyZXR1cm4gYXdhaXQgci5hcHBseSh0aGlzLG4pfWZpbmFsbHl7ZSgpfX1kZWZhdWx0Ontjb25zdCBlPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLlwiLmNvbmNhdChpKSksdD1hd2FpdCB0aGlzLnJlY3ZNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQoaSkpO3RyeXtyZXR1cm4gYXdhaXQgci5hcHBseSh0aGlzLG4pfWZpbmFsbHl7ZSgpLHQoKX19fX0sbn19ZnVuY3Rpb24ga00oZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIE1NKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2tNKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmtNKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfU12KFtMTSgpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUE0ucHJvdG90eXBlLFwic3RhcnRQMlBcIixudWxsKSxNdihbTE0oKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUE0ucHJvdG90eXBlLFwicDJwQ29ubmVjdFwiLG51bGwpLE12KFtMTShPTS5TRU5EX09OTFkpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxQTS5wcm90b3R5cGUsXCJkb3B1Ymxpc2hcIixudWxsKSxNdihbTE0oT00uU0VORF9PTkxZKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxQTS5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIixudWxsKSxNdihbTE0oKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUE0ucHJvdG90eXBlLFwidW5wdWJsaXNoTG93U3RyZWFtXCIsbnVsbCksTXYoW0xNKE9NLlNFTkRfT05MWSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFBNLnByb3RvdHlwZSxcImRvVW5wdWJsaXNoXCIsbnVsbCksTXYoW0xNKE9NLlJFQ0VJVkVfT05MWSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW05QLFN0cmluZyxTdHJpbmcsTnVtYmVyXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUE0ucHJvdG90eXBlLFwic3Vic2NyaWJlXCIsbnVsbCksTXYoW0xNKE9NLlJFQ0VJVkVfT05MWSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW05QLFN0cmluZyxTdHJpbmcsQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFBNLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIsbnVsbCksTXYoW0xNKE9NLlJFQ0VJVkVfT05MWSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW05QLFN0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFBNLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixudWxsKSxNdihbTE0oT00uUkVDRUlWRV9PTkxZKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTlAsU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUE0ucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsbnVsbCksTXYoW0xNKE9NLlJFQ0VJVkVfT05MWSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW05QLFN0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFBNLnByb3RvdHlwZSxcImhhc1JlbW90ZU1lZGlhV2l0aExvY2tcIixudWxsKSxNdihbTE0oKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUE0ucHJvdG90eXBlLFwiZGlzY29ubmVjdEZvclJlY29ubmVjdFwiLG51bGwpLE12KFtMTShPTS5SRUNFSVZFX09OTFkpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOUCxTdHJpbmcsTnVtYmVyXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUE0ucHJvdG90eXBlLFwicmVtb3RlTWVkaWFTc3JjQ2hhbmdlZFwiLG51bGwpO2NvbnN0IFVNPURhdGUubm93KCkseE09MjAsVk09bmV3IE1hcCxGTT1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIEJNKGUpe2NvbnN0IHQ9Vk0uZ2V0KGUpLGk9QXJyYXkuaXNBcnJheSh0KSYmdFt0Lmxlbmd0aC0xXSxuPUZNLmdldChlKTtpZighaSlyZXR1cm4gdm9pZChuLmlzU3luY2luZz0hMSk7Y29uc3Qgcj17dWlkOmkudWlkLHBheWxvYWQ6RFQoaS5wYXlsb2FkKX07MD09PW4uZmlyc3RSZWN2VHMmJihuLmZpcnN0UmVjdlRzPWkucmVjdlRzLG4uZmlyc3RTZW5kVHM9aS5zZW5kVHMpO2NvbnN0IHM9aS5zZW5kVHMtbi5maXJzdFNlbmRUcyxvPXMtKERhdGUubm93KCktbi5maXJzdFJlY3ZUcyk7bz4wJiYobi5maXJzdFJlY3ZUcz1EYXRlLm5vdygpLXMpO2xldCBhPWkubWVkaWFEZWxheStvO2E8PTA/KHQucG9wKCksak0oaS5jb250ZXh0LHIpLGE9MCk6YT1NYXRoLm1pbihhLHhNKSxzZXRUaW1lb3V0KCgoKT0+dC5sZW5ndGgmJkJNKGUpKSxhKX1mdW5jdGlvbiBqTShlLHQpe2Uuc2FmZUVtaXQoZFQuU1RSRUFNX01FU1NBR0UsdC51aWQsdC5wYXlsb2FkKSxlLm9uU3RyZWFtTWVzc2FnZSYmZS5vblN0cmVhbU1lc3NhZ2UodCl9ZnVuY3Rpb24gR00oZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsaT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtpZighZS5zeW5jV2l0aEF1ZGlvKXJldHVybiBqTShpLHt1aWQ6ZS51aWQscGF5bG9hZDpEVChlLnBheWxvYWQpfSk7Y29uc3Qgbj1cIlwiLmNvbmNhdChpLmlkLFwiLVwiKS5jb25jYXQoZS51aWQpLHI9Vk0uZ2V0KG4pfHxbXSxzPXIuZmluZEluZGV4KCh0PT5lLnNlbmRUcz49dC5zZW5kVHMpKSxvPU1NKE1NKHt9LGUpLHt9LHtjb250ZXh0OmksbWVkaWFEZWxheTp0LHJlY3ZUczpEYXRlLm5vdygpfSk7LTE9PT1zP3IucHVzaChvKTpyLnNwbGljZShzLDAsbyksVk0uc2V0KG4scik7bGV0IGE9ITE7dmFyIGM7Rk0uaGFzKG4pP2E9IShudWxsPT09KGM9Rk0uZ2V0KG4pKXx8dm9pZCAwPT09Y3x8IWMuaXNTeW5jaW5nKTpGTS5zZXQobix7aXNTeW5jaW5nOmEsZmlyc3RSZWN2VHM6MCxmaXJzdFNlbmRUczowfSk7YXx8Qk0obil9Y29uc3QgV009cGcoKS5uYW1lO2Z1bmN0aW9uIEhNKCl7cmV0dXJuIWZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPXBnKCk7aWYobi5vcyE9PWFnLklPU3x8IW4ub3NWZXJzaW9uKXJldHVybiExO2NvbnN0IHI9bi5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBpP3QmJk51bWJlcihyWzBdKT09PWUmJk51bWJlcihyWzFdKTx0fHxOdW1iZXIoclswXSk8ZTp0P051bWJlcihyWzBdKT09PWUmJk51bWJlcihyWzFdKTw9dHx8TnVtYmVyKHJbMF0pPGU6TnVtYmVyKHJbMF0pPD1lfSgxNiwwLCEwKSYmIWZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPXBnKCk7aWYobi5uYW1lIT09Y2cuU0FGQVJJfHwhbi5vc1ZlcnNpb24pcmV0dXJuITE7Y29uc3Qgcj1uLnZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBpP3QmJk51bWJlcihyWzBdKT09PWUmJk51bWJlcihyWzFdKTx0fHxOdW1iZXIoclswXSk8ZTp0P051bWJlcihyWzBdKT09PWUmJk51bWJlcihyWzFdKTw9dHx8TnVtYmVyKHJbMF0pPGU6TnVtYmVyKHJbMF0pPD1lfSgxNiwwLCEwKX1mdW5jdGlvbiBLTShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gWU0oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/S00oT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6S00oT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9WVQuc2V0TG9nZ2VyKEtDKTtjbGFzcyBxTSBleHRlbmRzIGlUe2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5zdGF0ZX1nZXQgcmVtb3RlVXNlcnMoKXtyZXR1cm4gdGhpcy5fdXNlcnN9Z2V0IGxvY2FsVHJhY2tzKCl7cmV0dXJuIHRoaXMuX3AycENoYW5uZWwuZ2V0QWxsVHJhY2tzKCEwKX1nZXQgdWlkKCl7cmV0dXJuIHRoaXMuX3VpZH1nZXQgY2hhbm5lbE5hbWUoKXtyZXR1cm4gdGhpcy5fY2hhbm5lbE5hbWV9Z2V0IGxvY2FsRGF0YUNoYW5uZWxzKCl7cmV0dXJuIHRoaXMuX3AycENoYW5uZWwuZ2V0QWxsRGF0YUNoYW5uZWxzKCl9Z2V0IG1vZGUoKXtyZXR1cm4gdGhpcy5fY29uZmlnLm1vZGV9Z2V0IHJvbGUoKXt2YXIgZTtyZXR1cm4obnVsbD09PShlPXRoaXMuX2NvbmZpZyl8fHZvaWQgMD09PWU/dm9pZCAwOmUucm9sZSl8fFwiYXVkaWVuY2VcIn1nZXQgY29kZWMoKXtyZXR1cm4gdGhpcy5fY29uZmlnLmNvZGVjfWdldCBhdWRpb0NvZGVjKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5hdWRpb0NvZGVjfHxcIm9wdXNcIn1nZXQgaXNTdHJpbmdVSUQoKXtyZXR1cm4hIXRoaXMuX2pvaW5JbmZvJiYhIXRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZH1nZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiQ2xpZW50XCJ9Y29uc3RydWN0b3IoZSl7bGV0IHQ7aWYoc3VwZXIoKSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJfdWlkXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NoYW5uZWxOYW1lXCIsdm9pZCAwKSxudSh0aGlzLFwiX3VpbnRVaWRcIix2b2lkIDApLG51KHRoaXMsXCJfdXNlcnNcIixbXSksbnUodGhpcyxcIl9jb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJfY2xpZW50SWRcIix2b2lkIDApLG51KHRoaXMsXCJfYXBwSWRcIix2b2lkIDApLG51KHRoaXMsXCJfc2Vzc2lvbklkXCIsbnVsbCksbnUodGhpcyxcIl9rZXlcIix2b2lkIDApLG51KHRoaXMsXCJfam9pbkluZm9cIix2b2lkIDApLG51KHRoaXMsXCJfZ2F0ZXdheVwiLHZvaWQgMCksbnUodGhpcyxcIl9zdGF0c0NvbGxlY3RvclwiLHZvaWQgMCksbnUodGhpcyxcIl9jb25maWdEaXN0cmlidXRlXCIsdm9pZCAwKSxudSh0aGlzLFwiX2xlYXZlTXV0ZXhcIixuZXcgWVQoXCJjbGllbnQtbGVhdmVcIikpLG51KHRoaXMsXCJfcHVibGlzaE11dGV4XCIsbmV3IFlUKFwiY2xpZW50LXB1Ymxpc2hcIikpLG51KHRoaXMsXCJfcmVuZXdUb2tlbk11dGV4XCIsbmV3IFlUKFwiY2xpZW50LXJlbmV3dG9rZW5cIikpLG51KHRoaXMsXCJfc3Vic2NyaWJlTXV0ZXhcIixuZXcgWVQoXCJjbGllbnQtc3Vic2NyaWJlXCIpKSxudSh0aGlzLFwiX2VuY3J5cHRpb25Nb2RlXCIsXCJub25lXCIpLG51KHRoaXMsXCJfZW5jcnlwdGlvblNlY3JldFwiLG51bGwpLG51KHRoaXMsXCJfZW5jcnlwdGlvblNhbHRcIixudWxsKSxudSh0aGlzLFwiX3Byb3h5U2VydmVyXCIsdm9pZCAwKSxudSh0aGlzLFwiX3R1cm5TZXJ2ZXJcIix7c2VydmVyczpbXSxtb2RlOlwiYXV0b1wifSksbnUodGhpcyxcIl9jbG91ZFByb3h5U2VydmVyTW9kZVwiLFwiZGlzYWJsZWRcIiksbnUodGhpcyxcIl9pc0R1YWxTdHJlYW1FbmFibGVkXCIsITEpLG51KHRoaXMsXCJfZGVmYXVsdFN0cmVhbUZhbGxiYWNrVHlwZVwiLHZvaWQgMCksbnUodGhpcyxcIl9sb3dTdHJlYW1QYXJhbWV0ZXJcIix2b2lkIDApLG51KHRoaXMsXCJfc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXBcIixuZXcgTWFwKSxudSh0aGlzLFwiX3JlbW90ZVN0cmVhbVR5cGVDYWNoZU1hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJfYXhpb3NDYW5jZWxTb3VyY2VcIixFQy5DYW5jZWxUb2tlbi5zb3VyY2UoKSksbnUodGhpcyxcIl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcIl9uZXR3b3JrUXVhbGl0eUludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwiX3VzZXJPZmZsaW5lVGltZW91dFwiLHZvaWQgMCksbnUodGhpcyxcIl9zdHJlYW1SZW1vdmVkVGltZW91dFwiLHZvaWQgMCksbnUodGhpcyxcIl9pbmplY3RTdHJlYW1pbmdDbGllbnRcIix2b2lkIDApLG51KHRoaXMsXCJfbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudFwiLHZvaWQgMCksbnUodGhpcyxcIl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50XCIsdm9pZCAwKSxudSh0aGlzLFwiX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50XCIsdm9pZCAwKSxudSh0aGlzLFwiX25ldHdvcmtRdWFsaXR5U2Vuc2l0aXZpdHlcIixcIm5vcm1hbFwiKSxudSh0aGlzLFwiX3AycENoYW5uZWxcIix2b2lkIDApLG51KHRoaXMsXCJfdXNlTG9jYWxBY2Nlc3NQb2ludFwiLCExKSxudSh0aGlzLFwiX3NldExvY2FsQVBWZXJzaW9uXCIsdm9pZCAwKSxudSh0aGlzLFwiX2pvaW5BbmROb3RMZWF2ZVlldFwiLCExKSxudSh0aGlzLFwiX251bWJlck9mSm9pbkNvdW50XCIsMCksbnUodGhpcyxcIl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlXCIsdm9pZCAwKSxudSh0aGlzLFwiX2luc3BlY3RcIix2b2lkIDApLG51KHRoaXMsXCJfbW9kZXJhdGlvblwiLHZvaWQgMCksbnUodGhpcyxcIl9saWNlbnNlXCIsdm9pZCAwKSxudSh0aGlzLFwiX3BlbmRpbmdQdWJsaXNoZWRVc2Vyc1wiLFtdKSxudSh0aGlzLFwibnRwQWxpZ25FcnJvckNvdW50XCIsMCksbnUodGhpcyxcInJlbW90ZUluYm91bmRPZmZzZXRcIiwwKSxudSh0aGlzLFwiX2hhbmRsZUxvY2FsVHJhY2tFbmFibGVcIiwoKGUsdCxpKT0+e3RoaXMucHVibGlzaChlLCExKS50aGVuKHQpLmNhdGNoKGkpfSkpLG51KHRoaXMsXCJfaGFuZGxlTG9jYWxUcmFja0Rpc2FibGVcIiwoKGUsdCxpKT0+e3RoaXMudW5wdWJsaXNoKGUpLnRoZW4odCkuY2F0Y2goaSl9KSksbnUodGhpcyxcIl9oYW5kbGVVc2VyT25saW5lXCIsKGU9PntpZihrQyhcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmZHYoZS51aWQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuIHZvaWQgS0MuZGVidWcoXCJbXCIuY29uY2F0KGUudWlkLFwiXSB3aWxsIGJlIGlnbm9yZWQgaW4gbG9jYWxcIikpO3RoaXMuaXNTdHJpbmdVSUQmJlwic3RyaW5nXCIhPXR5cGVvZiBlLnVpZCYmS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBTdHJpbmdVSUQgaXMgTWl4ZWQgd2l0aCBVaW50VUlEXCIpKTtjb25zdCB0PXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZS51aWQpKTtpZih0KXQuX3RydXN0X2luX3Jvb21fPSEwO2Vsc2V7Y29uc3QgdD1uZXcgTlAoZS51aWQsZS51aW50X2lkfHxlLnVpZCk7dGhpcy5fdXNlcnMucHVzaCh0KSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb25saW5lXCIpLGUudWlkKSx0aGlzLnNhZmVFbWl0KGRULlVTRVJfSk9JTkVELHQpfX0pKSxudSh0aGlzLFwiX2hhbmRsZVVzZXJPZmZsaW5lXCIsKGU9PntpZihrQyhcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmZHYoZS51aWQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lLnVpZCkpO3QmJih0aGlzLl9oYW5kbGVSZW1vdmVTdHJlYW0oZSksdGhpcy5faGFuZGxlUmVtb3ZlRGF0YUNoYW5uZWxzKGUpLElUKHRoaXMuX3VzZXJzLHQpLHRoaXMuX3JlbW90ZVN0cmVhbVR5cGVDYWNoZU1hcC5kZWxldGUodC51aWQpLHRoaXMuX3N0cmVhbUZhbGxiYWNrVHlwZUNhY2hlTWFwLmRlbGV0ZSh0LnVpZCksS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIG9mZmxpbmVcIiksZS51aWQsXCJyZWFzb246XCIsZS5yZWFzb24pLHRoaXMuc2FmZUVtaXQoZFQuVVNFUl9MRUFWRUQsdCxlLnJlYXNvbikpfSkpLG51KHRoaXMsXCJfaGFuZGxlQWRkQXVkaW9PclZpZGVvU3RyZWFtXCIsKChlLHQsaSxuLHIscyxvKT0+e2lmKGtDKFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiZkdih0LHRoaXMuY2hhbm5lbE5hbWUpKXJldHVybjtjb25zdCBhPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmUudWlkPT09dCkpO2lmKCFhKXJldHVybiB2b2lkIEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9hZGRfc3RyZWFtKVwiKSk7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gYWRkZWQgd2l0aCB1aWQgXCIpLmNvbmNhdCh0LFwiLCB0eXBlIFwiKS5jb25jYXQoZSkpLHRoaXMuc3RvcmUuc3Vic2NyaWJlKGEudWlkLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSk7Y29uc3QgYz1cImF1ZGlvXCI9PT1lP2EuaGFzQXVkaW86YS5oYXNWaWRlbzthLl91aW50aWR8fChhLl91aW50aWQ9cnx8dCksXCJhdWRpb1wiPT09ZT9hLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwOmEuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsXCJhdWRpb1wiPT09ZT8oYS5fYXVkaW9fYWRkZWRfPSEwLHZvaWQgMCE9PWkmJihhLl9hdWRpb1NTUkM9aSksdm9pZCAwIT09biYmKGEuX2NuYW1lPW4pLHMmJihhLl9hdWRpb09ydGM9cykpOihhLl92aWRlb19hZGRlZF89ITAsdm9pZCAwIT09aSYmKGEuX3ZpZGVvU1NSQz1pKSx2b2lkIDAhPT1uJiYoYS5fY25hbWU9biksdm9pZCAwIT09byYmKGEuX3J0eFNzcmNJZD1vKSxzJiYoYS5fdmlkZW9PcnRjPXMpKSwoXCJhdWRpb1wiPT09ZT9hLmhhc0F1ZGlvOmEuaGFzVmlkZW8pJiYhYyYmKEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGEudWlkLFwiIHB1Ymxpc2hlZCBcIikuY29uY2F0KGUpKSx0aGlzLnNhZmVFbWl0KGRULlVTRVJfUFVCTElTSEVELGEsZSkpLFwidmlkZW9cIj09PWU/cnYub25HYXRld2F5U3RyZWFtKHRoaXMuX3Nlc3Npb25JZCxYQy5PTl9BRERfVklERU9fU1RSRUFNLFFDLk9OX0FERF9WSURFT19TVFJFQU0se3BlZXI6cnx8dCxzc3JjOmEuX3ZpZGVvU1NSQ30pOnJ2Lm9uR2F0ZXdheVN0cmVhbSh0aGlzLl9zZXNzaW9uSWQsWEMuT05fQUREX0FVRElPX1NUUkVBTSxRQy5PTl9BRERfQVVESU9fU1RSRUFNLHtwZWVyOnJ8fHQsc3NyYzphLl9hdWRpb1NTUkN9KSx0aGlzLl9wMnBDaGFubmVsLnJlbW90ZU1lZGlhU3NyY0NoYW5nZWQoYSxlLGkpLnRoZW4oKHQ9PntpZih0JiYoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBcIikuY29uY2F0KGUsXCIgZm9yIHVzZXIgXCIpLmNvbmNhdChhLnVpZCxcIiBhZnRlciByZWpvaW4gYmVjYXVzZSBTU1JDIGlkIGNoYW5nZWQuXCIpKSx0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgX2spKXJldHVybiB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGEsZSwhMCkudGhlbigoKCk9PnRoaXMuX3N1YnNjcmliZShhLGUsITApLmNhdGNoKChlPT57S0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpfSkpKSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5oYXNQZW5kaW5nUmVtb3RlTWVkaWEoYSxlKSYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgXCIpLmNvbmNhdChlLFwiIGZvciB1c2VyIFwiKS5jb25jYXQoYS51aWQsXCIgYWZ0ZXIgcmVjb25uZWN0LlwiKSksdGhpcy5fc3Vic2NyaWJlKGEsZSwhMCkuY2F0Y2goKGU9PntLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIGVycm9yXCIpLGUudG9TdHJpbmcoKSl9KSkpfSkpLG51KHRoaXMsXCJfaGFuZGxlUmVtb3ZlU3RyZWFtXCIsKChlLHQsaSk9PntpZihrQyhcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmZHYoZS51aWQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2NvbnN0IG49dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lLnVpZCkpO2lmKCFuKXJldHVybiB2b2lkIEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX3JlbW92ZV9zdHJlYW0pXCIpKTtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0cmVhbSByZW1vdmVkIHdpdGggdWlkIFwiKS5jb25jYXQoZS51aWQpKTtsZXQgcj0oKT0+e307aWYobi5oYXNBdWRpbyYmbi5oYXNWaWRlbz9yPSgpPT57S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQobi51aWQsXCIgdW5wdWJsaXNoZWQgYXVkaW8gdHJhY2tcIikpLHRoaXMuc2FmZUVtaXQoZFQuVVNFUl9VTlBVQkxJU0hFRCxuLFwiYXVkaW9cIiksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQobi51aWQsXCIgdW5wdWJsaXNoZWQgdmlkZW8gdHJhY2tcIikpLHRoaXMuc2FmZUVtaXQoZFQuVVNFUl9VTlBVQkxJU0hFRCxuLFwidmlkZW9cIil9Om4uaGFzVmlkZW8/cj0oKT0+e0tDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KG4udWlkLFwiIHVucHVibGlzaGVkIHZpZGVvIHRyYWNrXCIpKSx0aGlzLnNhZmVFbWl0KGRULlVTRVJfVU5QVUJMSVNIRUQsbixcInZpZGVvXCIpfTpuLmhhc0F1ZGlvJiYocj0oKT0+e0tDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KG4udWlkLFwiIHVucHVibGlzaGVkIGF1ZGlvIHRyYWNrXCIpKSx0aGlzLnNhZmVFbWl0KGRULlVTRVJfVU5QVUJMSVNIRUQsbixcImF1ZGlvXCIpfSksbi5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxuLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLG4uX2F1ZGlvX2FkZGVkXz0hMSxuLl92aWRlb19hZGRlZF89ITEsdGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIF9rKXRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUobikudGhlbigoZT0+e2lmKGUpcmV0dXJuIHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmUoZSxuLnVpZCl9KSk7ZWxzZSBpZih0JiZpKWlmKGUuc2RwKXtjb25zdHtzZHA6cn09ZTt0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKG4scikudGhlbigoZT0+e2UmJnQoZSl9KSkuY2F0Y2goaSl9ZWxzZSB0JiZ0KCk7bi5fYXVkaW9TU1JDPXZvaWQgMCxuLl92aWRlb1NTUkM9dm9pZCAwLG4uX2F1ZGlvT3J0Yz12b2lkIDAsbi5fdmlkZW9PcnRjPXZvaWQgMCxuLl9ydHhTc3JjSWQ9dm9pZCAwLHJ2Lm9uR2F0ZXdheVN0cmVhbSh0aGlzLl9zZXNzaW9uSWQsWEMuT05fUkVNT1ZFX1NUUkVBTSxRQy5PTl9SRU1PVkVfU1RSRUFNLHtwZWVyOmUudWludF9pZHx8ZS51aWR9KSxyKCl9KSksbnUodGhpcyxcIl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZVwiLCgoZSx0LGkpPT57aWYoa0MoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJmR2KHQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2NvbnN0IG49dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT10KSk7aWYoIW4pcmV0dXJuIHZvaWQgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKGRpc2FibGVfbG9jYWwpXCIpKTtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGxvY2FsIFwiKS5jb25jYXQoZSxcIiBcIikuY29uY2F0KGk/XCJlbmFibGVkXCI6XCJkaXNhYmxlZFwiLFwiIHdpdGggdWlkIFwiKS5jb25jYXQodCkpO2NvbnN0IHI9XCJhdWRpb1wiPT09ZT9uLmhhc0F1ZGlvOm4uaGFzVmlkZW87aWYoXCJhdWRpb1wiPT09ZSl7bi5fdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV89ITA7Y29uc3QgZT1uLl9hdWRpb19lbmFibGVkXztpZihuLl9hdWRpb19lbmFibGVkXz1pLG4uX2F1ZGlvX2VuYWJsZWRfPT09ZSlyZXR1cm47e2NvbnN0IGU9bi5fYXVkaW9fZW5hYmxlZF8/XCJlbmFibGUtbG9jYWwtYXVkaW9cIjpcImRpc2FibGUtbG9jYWwtYXVkaW9cIjtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXItaW5mby11cGRhdGVkLCB1aWQ6IFwiKS5jb25jYXQodCxcIiwgbXNnOiBcIikuY29uY2F0KGUpKSx0aGlzLnNhZmVFbWl0KGRULlVTRVJfSU5GT19VUERBVEVELHQsZSl9fWVsc2V7bi5fdHJ1c3RfdmlkZW9fZW5hYmxlZF9zdGF0ZV89ITA7Y29uc3QgZT1uLl92aWRlb19lbmFibGVkXztpZihuLl92aWRlb19lbmFibGVkXz1pLG4uX3ZpZGVvX2VuYWJsZWRfPT09ZSlyZXR1cm47e2NvbnN0IGU9bi5fdmlkZW9fZW5hYmxlZF8/XCJlbmFibGUtbG9jYWwtdmlkZW9cIjpcImRpc2FibGUtbG9jYWwtdmlkZW9cIjtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXItaW5mby11cGRhdGUsIHVpZDogXCIpLmNvbmNhdCh0LFwiLCBtc2c6IFwiKS5jb25jYXQoZSkpLHRoaXMuc2FmZUVtaXQoZFQuVVNFUl9JTkZPX1VQREFURUQsdCxlKX19Y29uc3Qgcz1cImF1ZGlvXCI9PT1lP24uaGFzQXVkaW86bi5oYXNWaWRlbztyZXR1cm4gciE9PXM/IXImJnM/KEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQsXCIgcHVibGlzaGVkIFwiKS5jb25jYXQoZSkpLHZvaWQgdGhpcy5zYWZlRW1pdChkVC5VU0VSX1BVQkxJU0hFRCxuLGUpKTooXCJ2aWRlb1wiPT09ZSYmbi5fdmlkZW9UcmFjayYmbi5fdmlkZW9UcmFjay5fZGVzdHJveSgpLFwiYXVkaW9cIj09PWUmJm4uX2F1ZGlvVHJhY2ssdGhpcy5fcDJwQ2hhbm5lbC5tdXRlUmVtb3RlKG4sZSksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodCxcIiB1bnB1Ymxpc2hlZCBcIikuY29uY2F0KGUpKSx2b2lkIHRoaXMuc2FmZUVtaXQoZFQuVVNFUl9VTlBVQkxJU0hFRCxuLGUpKTp2b2lkIDB9KSksbnUodGhpcyxcIl9oYW5kbGVNdXRlU3RyZWFtXCIsKChlLHQsaSxuLHIscyk9PntpZihrQyhcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmZHYoZSx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlIG11dGUgbWVzc2FnZVwiKSxlLHQsaSk7Y29uc3Qgbz10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUpKTtpZighbylyZXR1cm4gdm9pZCBLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHJlbW90ZSB1c2VyLCBpZ25vcmUgbXV0ZSBldmVudCwgdWlkOiBcIikuY29uY2F0KGUpKTtjb25zdCBhPVwiYXVkaW9cIj09PXQ/by5oYXNBdWRpbzpvLmhhc1ZpZGVvO2lmKFwiYXVkaW9cIj09PXQpe28uX3RydXN0X2F1ZGlvX211dGVfc3RhdGVfPSEwO2NvbnN0IHQ9by5fYXVkaW9fbXV0ZWRfO2lmKG8uX2F1ZGlvX211dGVkXz1pLG8uX2F1ZGlvX211dGVkXz09PXQpcmV0dXJuO3tjb25zdCB0PW8uX2F1ZGlvX211dGVkXz9cIm11dGUtYXVkaW9cIjpcInVubXV0ZS1hdWRpb1wiO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KGUsXCIsIG1zZzogXCIpLmNvbmNhdCh0KSksdGhpcy5zYWZlRW1pdChkVC5VU0VSX0lORk9fVVBEQVRFRCxlLHQpfX1lbHNle28uX3RydXN0X3ZpZGVvX211dGVfc3RhdGVfPSEwO2NvbnN0IHQ9by5fdmlkZW9fbXV0ZWRfO2lmKG8uX3ZpZGVvX211dGVkXz1pLG8uX3ZpZGVvX211dGVkXz09PXQpcmV0dXJuO3tjb25zdCB0PW8uX3ZpZGVvX211dGVkXz9cIm11dGUtdmlkZW9cIjpcInVubXV0ZS12aWRlb1wiO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KGUsXCIsIG1zZzogXCIpLmNvbmNhdCh0KSksdGhpcy5zYWZlRW1pdChkVC5VU0VSX0lORk9fVVBEQVRFRCxlLHQpfX1jb25zdCBjPVwiYXVkaW9cIj09PXQ/by5oYXNBdWRpbzpvLmhhc1ZpZGVvO2lmKGEhPT1jKXtpZighYSYmYyl7aWYoIXRoaXMuc3RvcmUudXNlUDJQKXtpZighKFwiYXVkaW9cIj09PXQ/by5fYXVkaW9TU1JDOm8uX3ZpZGVvU1NSQykpcmV0dXJuIHZvaWQgS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZSxcIiByZWNlaXZlIFwiKS5jb25jYXQodCxcIiB1bm11dGUgbWVzc2FnZSAgYmVmb3JlIGFkZCBzdHJlYW0gbWVzc2FnZSwgXCIpLmNvbmNhdCh0LFwiIFNTUkMgZG9lc24ndCBleGlzdCB5ZXQuXCIpKX1yZXR1cm4gS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZSxcIiBwdWJsaXNoZWQgXCIpLmNvbmNhdCh0KSksdm9pZCB0aGlzLnNhZmVFbWl0KGRULlVTRVJfUFVCTElTSEVELG8sdCl9XCJ2aWRlb1wiPT09dCYmby5fdmlkZW9UcmFjayYmby5fdmlkZW9UcmFjay5fZGVzdHJveSgpLFwiYXVkaW9cIj09PXQmJm8uX2F1ZGlvVHJhY2ssciYmcyYmdGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFBNJiYobj90aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKG8sbix0KS50aGVuKChlPT57cihlKX0pKS5jYXRjaChzKTpyKCkpLHRoaXMuX3AycENoYW5uZWwubXV0ZVJlbW90ZShvLHQpLEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGUsXCIgdW5wdWJsaXNoZWQgXCIpLmNvbmNhdCh0KSksdGhpcy5zYWZlRW1pdChkVC5VU0VSX1VOUFVCTElTSEVELG8sdCl9fSkpLG51KHRoaXMsXCJfaGFuZGxlUDJQTG9zdFwiLChhc3luYyBlPT57S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlIHAycCBsb3N0XCIpLGUpLHBhcnNlSW50KGUucDJwaWQsMTApPT09dGhpcy5zdG9yZS5wMnBJZD9hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnJlcXVlc3RSZWNvbm5lY3QoKTpLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUDJQTG9zdCBzdHJlYW0gbm90IGZvdW5kXCIpLGUpfSkpLG51KHRoaXMsXCJfaGFuZGxlVG9rZW5XaWxsRXhwaXJlXCIsKCgpPT57S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlZCBtZXNzYWdlIG9uVG9rZW5Qcml2aWxlZ2VXaWxsRXhwaXJlXCIpKSx0aGlzLnNhZmVFbWl0KGRULk9OX1RPS0VOX1BSSVZJTEVHRV9XSUxMX0VYUElSRSl9KSksbnUodGhpcyxcIl9oYW5kbGVCZWZvcmVVbmxvYWRcIiwoZT0+e1wiYmVmb3JldW5sb2FkXCI9PT1lLnR5cGUmJnZvaWQgMCE9PWUucmV0dXJuVmFsdWUmJlwiXCIhPT1lLnJldHVyblZhbHVlfHwodGhpcy5sZWF2ZSgpLEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGxlYXZlIG9uYmVmb3JldW5sb2FkIG9yIHBhZ2VoaWRlXCIpKSl9KSksbnUodGhpcyxcIl9oYW5kbGVVcGRhdGVOZXR3b3JrUXVhbGl0eVwiLCgoKT0+e2lmKFwibm9ybWFsXCI9PT10aGlzLl9uZXR3b3JrUXVhbGl0eVNlbnNpdGl2aXR5KXJldHVybjtpZihuYXZpZ2F0b3ImJnZvaWQgMCE9PW5hdmlnYXRvci5vbkxpbmUmJiFuYXZpZ2F0b3Iub25MaW5lKXJldHVybiB2b2lkIHRoaXMuc2FmZUVtaXQoZFQuTkVUV09SS19RVUFMSVRZLHtkb3dubGlua05ldHdvcmtRdWFsaXR5OjYsdXBsaW5rTmV0d29ya1F1YWxpdHk6Nn0pO2NvbnN0IGU9e2Rvd25saW5rTmV0d29ya1F1YWxpdHk6MCx1cGxpbmtOZXR3b3JrUXVhbGl0eTowfTtlLnVwbGlua05ldHdvcmtRdWFsaXR5PXRoaXMuX3AycENoYW5uZWwuZ2V0VXBsaW5rTmV0d29ya1F1YWxpdHkoKSxlLmRvd25saW5rTmV0d29ya1F1YWxpdHk9dGhpcy5fcDJwQ2hhbm5lbC5nZXREb3dubGlua05ldHdvcmtRdWFsaXR5KCksdGhpcy5zYWZlRW1pdChkVC5ORVRXT1JLX1FVQUxJVFksZSl9KSksbnUodGhpcyxcIl9oYW5kbGVQMlBBZGRBdWRpb09yVmlkZW9TdHJlYW1cIiwoKGUsdCk9Pntjb25zdCBpPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmUudWlkPT09dCkpO2lmKCFpKXJldHVybiB2b2lkIEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9hZGRfc3RyZWFtKVwiKSk7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gYWRkZWQgd2l0aCB1aWQgXCIpLmNvbmNhdCh0LFwiLCB0eXBlIFwiKS5jb25jYXQoZSkpLHRoaXMuc3RvcmUuc3Vic2NyaWJlKGkudWlkLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSk7Y29uc3Qgbj1cImF1ZGlvXCI9PT1lP2kuaGFzQXVkaW86aS5oYXNWaWRlbztcImF1ZGlvXCI9PT1lP2kuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITA6aS5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxcImF1ZGlvXCI9PT1lP2kuX2F1ZGlvX2FkZGVkXz0hMDppLl92aWRlb19hZGRlZF89ITAsKFwiYXVkaW9cIj09PWU/aS5oYXNBdWRpbzppLmhhc1ZpZGVvKSYmIW4mJihLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChpLnVpZCxcIiBwdWJsaXNoZWQgXCIpLmNvbmNhdChlKSksdGhpcy5zYWZlRW1pdChkVC5VU0VSX1BVQkxJU0hFRCxpLGUpKSx0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShpLGUpJiYoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBcIikuY29uY2F0KGUsXCIgZm9yIHVzZXIgXCIpLmNvbmNhdChpLnVpZCxcIiBhZnRlciByZWNvbm5lY3QuXCIpKSx0aGlzLl9zdWJzY3JpYmUoaSxlLCEwKS5jYXRjaCgoZT0+e0tDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSl9KSksdGhpcy5fY29uZmlnPWUsdGhpcy5fY2xpZW50SWQ9eFQoNSxcImNsaWVudC1cIiksdGhpcy5zdG9yZT1uZXcgd0MoZS5jb2RlYyxlLmF1ZGlvQ29kZWMsZS5tb2RlLHRoaXMuX2NsaWVudElkKSx0aGlzLnN0b3JlLmNsaWVudENyZWF0ZWQoKSxlLnByb3h5U2VydmVyJiZ0aGlzLnNldFByb3h5U2VydmVyKGUucHJveHlTZXJ2ZXIsITApLGUudHVyblNlcnZlciYmdGhpcy5zZXRUdXJuU2VydmVyKGUudHVyblNlcnZlciwhMCksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIEluaXRpYWxpemluZyBBZ29yYVJUQyBjbGllbnQgdlwiKS5jb25jYXQoT0MsXCIgYnVpbGQ6IFwiKS5jb25jYXQoREMsXCIsIG1vZGU6IFwiKS5jb25jYXQodGhpcy5tb2RlLFwiLCBjb2RlYzogXCIpLmNvbmNhdCh0aGlzLmNvZGVjKSksZS5jbGllbnRSb2xlT3B0aW9ucyl0cnl7bVQoZS5jbGllbnRSb2xlT3B0aW9ucyksdD1PYmplY3QuYXNzaWduKHt9LGUuY2xpZW50Um9sZU9wdGlvbnMpfWNhdGNoKGUpe0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBcIikuY29uY2F0KGUudG9TdHJpbmcoKSkpfXRoaXMuX3N0YXRzQ29sbGVjdG9yPW5ldyBoRCh0aGlzLnN0b3JlKSx0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzRXhjZXB0aW9uPShlLHQsaSk9PntLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmUgZXhjZXB0aW9uIG1zZywgY29kZTogXCIpLmNvbmNhdChlLFwiLCBtc2c6IFwiKS5jb25jYXQodCxcIiwgdWlkOiBcIikuY29uY2F0KGkpKSx0aGlzLnNhZmVFbWl0KGRULkVYQ0VQVElPTix7Y29kZTplLG1zZzp0LHVpZDppfSl9LHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uPShlLHQsaSxuKT0+e2NvbnN0IHI9dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lKSk7ciYmcnYucGVlclB1Ymxpc2hTdGF0dXModGhpcy5fc2Vzc2lvbklkLHtzdWJzY3JpYmVFbGFwc2U6bixhdWRpb1B1Ymxpc2hEdXJhdGlvbjp0LHZpZGVvUHVibGlzaER1cmF0aW9uOmkscGVlcjpyLl91aW50aWR9KX0sdGhpcy5zdG9yZS51c2VEYXRhQ2hhbm5lbD1fQSgpLnN1cHBvcnREYXRhQ2hhbm5lbCYma0MoXCJTSUdOQUxfQ0hBTk5FTFwiKSx0aGlzLnN0b3JlLnVzZVAyUD1rQyhcIlAyUFwiKSx0aGlzLl9nYXRld2F5PW5ldyBNRCh0aGlzLnN0b3JlLHtjbGllbnRJZDp0aGlzLl9jbGllbnRJZCxtb2RlOnRoaXMubW9kZSxjb2RlYzp0aGlzLmNvZGVjLHdlYnNvY2tldFJldHJ5Q29uZmlnOmUud2Vic29ja2V0UmV0cnlDb25maWd8fEpULGh0dHBSZXRyeUNvbmZpZzplLmh0dHBSZXRyeUNvbmZpZ3x8SlQsZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlOnZvaWQgMD09PWUuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlfHxlLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZSxzdGF0c0NvbGxlY3Rvcjp0aGlzLl9zdGF0c0NvbGxlY3Rvcixyb2xlOmUucm9sZSxjbGllbnRSb2xlT3B0aW9uczp0fSksdGhpcy5fY29uZmlnRGlzdHJpYnV0ZT1uZXcgVFAsdGhpcy5zdG9yZS51c2VQMlA/KHRoaXMuX3AycENoYW5uZWw9bmV3IFBNKHRoaXMuc3RvcmUsdGhpcy5fc3RhdHNDb2xsZWN0b3IpLHRoaXMuX2hhbmRsZVAyUEV2ZW50cygpKTp0aGlzLl9wMnBDaGFubmVsPW5ldyBfayh0aGlzLnN0b3JlLHRoaXMuX3N0YXRzQ29sbGVjdG9yKSx0aGlzLl9oYW5kbGVQMlBDaGFubmVsRXZlbnRzKCksdGhpcy5faGFuZGxlR2F0ZXdheUV2ZW50cygpLHRoaXMuX2hhbmRsZUdhdGV3YXlTaWduYWxFdmVudHMoKX1hc3luYyBqb2luTWV0YShlLHQsaSxuLHIpe2xldCBzPSEoYXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0pfHxhcmd1bWVudHNbNV0sbz1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XSYmYXJndW1lbnRzWzZdO0xDKFwiSk9JTl9HQVRFV0FZX1VTRV80NDNQT1JUX09OTFlcIixzKSxMQyhcIkpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU5cIixvKTtjb25zdCBhPXRoaXMuX2dhdGV3YXkuc2lnbmFsLndlYnNvY2tldDtyZXR1cm4gYSBpbnN0YW5jZW9mIHpJJiYoYS51c2U0NDNQb3J0T25seT1zLGEudHJ5RG91YmxlRG9tYWluPW8pLGFzeW5jIGZ1bmN0aW9uKGUsdCxpKXtyZy5nZXQoZSl8fHJnLnNldChlLFtdKSxzZy5nZXQoZSl8fHNnLnNldChlLHQpLG9nLmdldChlKXx8b2cuc2V0KGUsMCk7Y29uc3Qgbj1yZy5nZXQoZSkscj1zZy5nZXQoZSk7aWYoIW58fCFyKXRocm93IG5ldyBFcnJvcihcImNvbmN1cnJlbnQ6IGRlZmVyUXVldWUgb3IgbWF4Q29uY3VycmVuY3kgaXMgbnVsbFwiKTtpZihvZy5nZXQoZSk9PT1yKXtjb25zdCBlPW5nKCk7bi5wdXNoKGUpLGF3YWl0IGUucHJvbWlzZX1vZy5zZXQoZSxvZy5nZXQoZSkrMSk7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocz4zP3MtMzowKSxhPTM7YTxzO2ErKylvW2EtM109YXJndW1lbnRzW2FdO2NvbnN0IGM9YXdhaXQgaSguLi5vKTtyZXR1cm4gb2cuc2V0KGUsb2cuZ2V0KGUpLTEpLG9nLmdldChlKT09PXItMSYmbi5sZW5ndGg+MCYmKG5bMF0ucmVzb2x2ZSgpLG4uc2hpZnQoKSksMD09PW9nLmdldChlKSYmKHJnLnNldChlLFtdKSxzZy5zZXQoZSwwKSxvZy5zZXQoZSwwKSksY30oXCJjbGllbnQuam9pblwiLGtDKFwiSk9JTl9NQVhfQ09OQ1VSUkVOQ1lcIiksdGhpcy5qb2luLmJpbmQodGhpcyksZSx0LGksbixyKX1hc3luYyBqb2luKGUsdCxpLG4scil7Y29uc3Qgcz0rK3RoaXMuX251bWJlck9mSm9pbkNvdW50O3RoaXMuc3RvcmUuam9pblN0YXJ0KCksbiYmKHRoaXMuc3RvcmUudWlkPW4pO2NvbnN0IG89dkMoKSxhPUlDKCk/d2luZG93LmlzU2VjdXJlQ29udGV4dDpcIkJyb3dzZXIgTm90IFN1cHBvcnRcIjtpZighSUMoKSYmIW98fCF3aW5kb3cuaXNTZWN1cmVDb250ZXh0KXtjb25zdCBlPVwiVGhlIHdlYnNpdGUgbXVzdCBiZSBydW5uaW5nIGluIGEgc2VjdXJlIGNvbnRleHQgKEFib3V0IHNlY3VyZSBjb250ZXh0OiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TZWN1cml0eS9TZWN1cmVfQ29udGV4dHMgKSwgb3RoZXJ3aXNlIHRoZSBtZWRpYSBjb2xsZWN0aW9uIHdpbGwgYmUgcmVzdHJpY3RlZCBieSB0aGUgYnJvd3NlclwiO0tDLndhcm5pbmcoZSl9Y29uc3QgYz1WVCgpO1wiRElTQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQ9TWF0aC5yb3VuZChEYXRlLm5vdygpKSxLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBhdm9pZEpvaW5TdGFydCB0byBcIikuY29uY2F0KHRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQpKSk7Y29uc3QgZD1ydi5yZXBvcnRBcGlJbnZva2UoYyx7bmFtZTpzVC5KT0lOLG9wdGlvbnM6W2UsdCxpLG5dLHN0YXRlczp7aXNIdHRwczpvLGlzU2VjdXJlQ29udGV4dDphfSx0YWc6b1QuVFJBQ0VSfSk7cnYuc2V0QXBwSWQoZSk7dHJ5e2lmKCFpJiZudWxsIT09aSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIHRva2VuOiBcIi5jb25jYXQoaSxcIi4gSWYgeW91IGRvbiBub3QgdXNlIHRva2VuLCBzZXQgaXQgdG8gbnVsbFwiKSk7aSYmV2coaSxcInRva2VuXCIsMSwyMDQ3KSxXZyhlLFwiYXBwaWRcIiwxLDIwNDcpLFZ2KHQpLG4mJkZ2KG4pLHImJldnKHIsXCJvcHRpb25hbEluZm9cIiwxLDIwNDcpfWNhdGNoKGUpe3Rocm93IGQub25FcnJvcihlKSxlfWlmKEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdGFydCBqb2luIGNoYW5uZWwgXCIpLmNvbmNhdCh0LFwiLCBqb2luIG51bWJlcjogXCIpLmNvbmNhdChzKSksdGhpcy5fbGVhdmVNdXRleC5pc0xvY2tlZCl7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luOiB3YWl0aW5nIGxlYXZlIG9wZXJhdGlvblwiKSk7KGF3YWl0IHRoaXMuX2xlYXZlTXV0ZXgubG9jaygpKSgpLEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbjogY29udGludWVcIikpfWlmKHRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldD0hMCxcIkRJU0NPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpe2NvbnN0IGU9bmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gQ2xpZW50IGFscmVhZHkgaW4gY29ubmVjdGluZy9jb25uZWN0ZWQgc3RhdGVcIikpO3Rocm93IGQub25FcnJvcihlKSxlfXRoaXMuX3Nlc3Npb25JZHx8KHRoaXMuX3Nlc3Npb25JZD1jLHRoaXMuc3RvcmUuc2Vzc2lvbklkPXRoaXMuX3Nlc3Npb25JZCksdGhpcy5fZ2F0ZXdheS5zdGF0ZT1cIkNPTk5FQ1RJTkdcIjtjb25zdCBsPVlNKHtjbGllbnRJZDp0aGlzLl9jbGllbnRJZCxhcHBJZDplLHNpZDp0aGlzLl9zZXNzaW9uSWQsY25hbWU6dCx1aWQ6XCJzdHJpbmdcIiE9dHlwZW9mIG4/bjpudWxsLHR1cm5TZXJ2ZXI6dGhpcy5fdHVyblNlcnZlcixwcm94eVNlcnZlcjp0aGlzLl9wcm94eVNlcnZlcix0b2tlbjppfHxlLGNsb3VkUHJveHlTZXJ2ZXI6dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUsb3B0aW9uYWxJbmZvOnIsbGljZW5zZTp0aGlzLl9saWNlbnNlLHVzZUxvY2FsQWNjZXNzUG9pbnQ6dGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludH0sdm9pZCAwIT09dGhpcy5fcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSYme2RlZmF1bHRWaWRlb1N0cmVhbTp0aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlfSk7aWYodGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludCYmKGwuc2V0TG9jYWxBUFZlcnNpb249dGhpcy5fc2V0TG9jYWxBUFZlcnNpb24pLFwic3RyaW5nXCI9PXR5cGVvZiBuJiYobC5zdHJpbmdVaWQ9bix0aGlzLl91aW50VWlkPyhsLnVpZD10aGlzLl91aW50VWlkLHRoaXMuX3VpbnRVaWQ9dm9pZCAwKTpsLnVpZD0wKSxcIm5vbmVcIiE9PXRoaXMuX2VuY3J5cHRpb25Nb2RlJiZ0aGlzLl9lbmNyeXB0aW9uU2VjcmV0KXtpZihsLmFlc21vZGU9dGhpcy5fZW5jcnlwdGlvbk1vZGUsbC5hZXNwYXNzd29yZD1hd2FpdCBlVCh0aGlzLl9lbmNyeXB0aW9uU2VjcmV0KSwhdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIENsaWVudCBhbHJlYWR5IGxlZnRcIikpO3RoaXMuX2VuY3J5cHRpb25TYWx0JiYobC5hZXNzYWx0PXRoaXMuX2VuY3J5cHRpb25TYWx0KX10aGlzLl9zdGFydFNlc3Npb24odGhpcy5fc2Vzc2lvbklkLHtjaGFubmVsOnQsYXBwSWQ6ZX0pO2NvbnN0IGg9dGhpcy5fc2Vzc2lvbklkO3NldFRpbWVvdXQoKCgpPT57XCJDT05ORUNUSU5HXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmaD09PXRoaXMuX3Nlc3Npb25JZCYmcnYuam9pbkNoYW5uZWxUaW1lb3V0KHRoaXMuX3Nlc3Npb25JZCw1KX0pLDVlMyk7dHJ5e3ZhciB1O2xldCBuO2NvbnN0IHI9bC5jbG91ZFByb3h5U2VydmVyO2lmKFByKHU9W1wicHJveHkzXCIsXCJwcm94eTRcIixcInByb3h5NVwiXSkuY2FsbCh1LHIpKXtjb25zdCBlPWtDKFwiUFJPWFlfU0VSVkVSX1RZUEUzXCIpO0FycmF5LmlzQXJyYXkoZSk/bC5wcm94eVNlcnZlcj1lWzBdOmwucHJveHlTZXJ2ZXI9ZX1pZihydi5zZXRQcm94eVNlcnZlcihsLnByb3h5U2VydmVyKSxLQy5zZXRQcm94eVNlcnZlcihsLnByb3h5U2VydmVyKSx0aGlzLnN0b3JlLnJlcXVlc3RBUFN0YXJ0KCksbC5zdHJpbmdVaWQmJiFsLnVpZCl7Y29uc3QgZT1hd2FpdCBoUChsLnN0cmluZ1VpZCxsLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fEpULHRoaXMuc3RvcmUpO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZ2V0VXNlckFjY291bnQgU3VjY2VzcyBcIikuY29uY2F0KGwuc3RyaW5nVWlkLFwiID0+IFwiKS5jb25jYXQoZSkpLGwudWlkPWUsbj1hd2FpdCBsUChsLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fEpULCEwLHRoaXMuc3RvcmUpfWVsc2Ugbj1hd2FpdCBsUChsLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fEpULCEwLHRoaXMuc3RvcmUpO2lmKCF0aGlzLl9qb2luQW5kTm90TGVhdmVZZXQpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gQ2xpZW50IGFscmVhZHkgbGVmdFwiKSk7dGhpcy5zdG9yZS5yZXF1ZXN0QVBFbmQoKSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuc3RhcnRHZXRDb25maWdEaXN0cmlidXRlKGwsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4pLHRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUub24oZEkuVVBEQVRFX0JJVFJBVEVfTElNSVQsKGU9Pnt0aGlzLl9wMnBDaGFubmVsLnVwZGF0ZUJpdHJhdGVMaW1pdChlKX0pKX0pLDApLHRoaXMuX2tleT1pfHxlO2NvbnN0IHM9bi5nYXRld2F5SW5mbzt0aGlzLl9qb2luSW5mbz1ZTShZTSh7fSxsKSx7fSx7Y2lkOnMuY2lkLHVpZDpsLnVpZD9sLnVpZDpzLnVpZCx2aWQ6cy52aWQsYXBSZXNwb25zZTpzLnJlcyx1bmlfbGJzX2lwOnMudW5pX2xic19pcCxnYXRld2F5QWRkcnM6cy5nYXRld2F5QWRkcnN9KTtjb25zdCBvPWF3YWl0IHRoaXMuX2pvaW5HYXRld2F5KCk7aWYoIXRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldCl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBsZWZ0XCIpKTtkLm9uU3VjY2VzcyhvKSx0aGlzLl9hcHBJZD1lLHRoaXMuX2NoYW5uZWxOYW1lPWwuY25hbWUsdGhpcy5fdWlkPW8sdGhpcy5zdG9yZS51aWQ9byxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwpLHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKHRoaXMuX2hhbmRsZVVwZGF0ZU5ldHdvcmtRdWFsaXR5LDJlMyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoU2coKT9cImJlZm9yZXVubG9hZFwiOlwicGFnZWhpZGVcIix0aGlzLl9oYW5kbGVCZWZvcmVVbmxvYWQpfSksMCk7Y29uc3QgYT1sLnN0cmluZ1VpZD9cInN0cmluZyB1aWQ6IFwiLmNvbmNhdChsLnN0cmluZ1VpZCxcIix1aWQ6IFwiKS5jb25jYXQobC51aWQpOlwidWlkOiBcIi5jb25jYXQodGhpcy5fdWlkKTtyZXR1cm4gS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIEpvaW5pbmcgY2hhbm5lbCBzdWNjZXNzOiBjaGFubmVsOiBcIikuY29uY2F0KHQsXCIsXCIpLmNvbmNhdChhKSksc2V0VGltZW91dCgoKCk9PntLQy5zdGFydFVwbG9hZCgpfSksNWUzKSx0aGlzLnN0b3JlLmpvaW5FbmQoKSxwPXRoaXMsUHIoY3YpLmNhbGwoY3YscCl8fGN2LnB1c2gocCksb31jYXRjaChlKXtjb25zdCB0PUFycmF5LmlzQXJyYXkoZSk/ZVswXTplO3Rocm93IHQmJnQuY29kZT09PXhnLk9QRVJBVElPTl9BQk9SVEVEP0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luIG51bWJlcjogXCIpLmNvbmNhdChzLFwiLCBKb2luaW5nIGNoYW5uZWwgZmFpbGVkLCByb2xsYmFja1wiKSx0KTpLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW4gbnVtYmVyOiBcIikuY29uY2F0KHMsXCIsIEpvaW5pbmcgY2hhbm5lbCBmYWlsZWQsIHJvbGxiYWNrXCIpLHQpLHQuY29kZSE9PXhnLk9QRVJBVElPTl9BQk9SVEVEJiZ0aGlzLl9udW1iZXJPZkpvaW5Db3VudD09PXMmJih0aGlzLl9nYXRld2F5LnN0YXRlPVwiRElTQ09OTkVDVEVEXCIsdGhpcy5fcmVzZXQoKSksZC5vbkVycm9yKHQpLHR9dmFyIHB9X2pvaW5HYXRld2F5KCl7aWYoIXRoaXMuX2pvaW5JbmZvfHwhdGhpcy5fa2V5KXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTik7cmV0dXJuIHRoaXMuX2dhdGV3YXkuam9pbih0aGlzLl9qb2luSW5mbyx0aGlzLl9rZXksIShcImRpc2FibGVkXCIhPT10aGlzLl9qb2luSW5mby5jbG91ZFByb3h5U2VydmVyfHx0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcnx8IWtDKFwiSk9JTl9XSVRIX0ZBTExCQUNLX1NJR05BTF9QUk9YWVwiKSkpLnRoZW4oKGU9PmUpKS5jYXRjaCgoZT0+e2lmKGUuY29kZT09PXhnLklOSVRfV0VCU09DS0VUX1RJTUVPVVQpcmV0dXJuIHRoaXMuX2dhdGV3YXkubGVhdmUoITAsY1QuRkFMTEJBQ0spLGU7aWYoZS5jb2RlPT09eGcuSU5JVF9EQVRBQ0hBTk5FTF9USU1FT1VUKXJldHVybiB0aGlzLl9nYXRld2F5LmxlYXZlKCEwLGNULkZBTExCQUNLKSxlO3Rocm93IGV9KSkudGhlbigoZT0+e2lmKGUgaW5zdGFuY2VvZiB4dil7aWYoZS5jb2RlPT09eGcuSU5JVF9XRUJTT0NLRVRfVElNRU9VVCl7aWYoS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW4gdGltZW91dCwgZmFsbGJhY2sgdG8gcHJveHlcIikpLCF0aGlzLl9qb2luSW5mb3x8IXRoaXMuX2tleSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04pO3RoaXMuX2pvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXI9XCJmYWxsYmFja1wiLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZmFsbGJhY2tcIix0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZmFsbGJhY2tcIjtjb25zdCBlPWtDKFwiUFJPWFlfU0VSVkVSX1RZUEUzXCIpO2lmKEFycmF5LmlzQXJyYXkoZSkpaWYodGhpcy5fam9pbkluZm8uYXBVcmwpe2NvbnN0IHQ9L15odHRwcz86XFwvXFwvKC4rPykoXFwvLiopPyQvLmV4ZWModGhpcy5fam9pbkluZm8uYXBVcmwpWzFdLnNwbGl0KFwiLlwiKSxpPXQuc2xpY2UodC5sZW5ndGgtMikuam9pbihcIi5cIik7ZS5mb3JFYWNoKChlPT57dGhpcy5fam9pbkluZm8mJlByKGUpLmNhbGwoZSxpKSYmKHRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyPWUpfSkpLHRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyfHwodGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXI9ZVswXSl9ZWxzZSB0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcj1lWzBdO2Vsc2UgdGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXI9ZTtjb25zdCB0PWtDKFwiTE9HX1VQTE9BRF9TRVJWRVJcIikubWF0Y2goLy4rOihcXGR7MSw1fSkkLyk7dCYmdFsxXSYmXCI0NDNcIiE9PXRbMV0mJktDLnNldFByb3h5U2VydmVyKHRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyKSxcIjQ0M1wiIT09a0MoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiKS50b1N0cmluZygpJiZydi5zZXRQcm94eVNlcnZlcih0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcik7cmV0dXJuIHJ2LnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWQse25hbWU6c1QuSk9JTl9GQUxMQkFDS19UT19QUk9YWSxvcHRpb25zOlt0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcl0sdGFnOm9ULlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMuc2FmZUVtaXQoZFQuSk9JTl9GQUxMQkFDS19UT19QUk9YWSx0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlciksa0MoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlfRk9SQ0VcIikmJnRoaXMuX2pvaW5JbmZvLnR1cm5TZXJ2ZXIuc2VydmVycy5mb3JFYWNoKChlPT57XCJmb3JjZXR1cm5cImluIGUmJihlLmZvcmNldHVybj0hMCl9KSksdGhpcy5fZ2F0ZXdheS5qb2luKHRoaXMuX2pvaW5JbmZvLHRoaXMuX2tleSl9aWYoS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW4gYnkgZGF0YWNoYW5uZWwgdGltZW91dCwgZmFsbGJhY2sgdG8gd2Vic29ja2V0XCIpKSwhdGhpcy5fam9pbkluZm98fCF0aGlzLl9rZXkpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OKTtyZXR1cm4gcnYucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpzVC5EQVRBQ0hBTk5FTF9GQUlMQkFDSyxvcHRpb25zOlt0aGlzLnN0b3JlLmNsaWVudElkXSx0YWc6b1QuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5fam9pbkdhdGV3YXkoKX1yZXR1cm4gZX0pKS50aGVuKChlPT5lKSl9YXN5bmMgbGVhdmUoKXtLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gTGVhdmluZyBjaGFubmVsXCIpKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihTZygpP1wiYmVmb3JldW5sb2FkXCI6XCJwYWdlaGlkZVwiLHRoaXMuX2hhbmRsZUJlZm9yZVVubG9hZCksdGhpcy5fcmVzZXQoKSxmdW5jdGlvbihlKXtjb25zdCB0PWN2LmluZGV4T2YoZSk7LTEhPT10JiZjdi5zcGxpY2UodCwxKX0odGhpcyk7Y29uc3QgZT1hd2FpdCB0aGlzLl9sZWF2ZU11dGV4LmxvY2soKTtpZihcIkRJU0NPTk5FQ1RFRFwiPT09dGhpcy5jb25uZWN0aW9uU3RhdGUpcmV0dXJuIEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWwgcmVwZWF0ZWQsIHN1Y2Nlc3NcIikpLHZvaWQgZSgpO2F3YWl0IHRoaXMuX2dhdGV3YXkubGVhdmUoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gTGVhdmluZyBjaGFubmVsIHN1Y2Nlc3NcIikpLHRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldD0hMSx0aGlzLnN0b3JlLnJlc2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3JkcygpLGUoKX1hc3luYyBwdWJsaXNoKGUpe2xldCB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIUFycmF5LmlzQXJyYXkoZSkpe2lmKCEoZSBpbnN0YW5jZW9mIGlBKSlyZXR1cm4gdGhpcy5fcHVibGlzaERhdGFDaGFubmVsKGUpO2U9W2VdfWlmKDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJwYXJhbSBsaXN0IGlzIGVtcHR5XCIpO2NvbnN0IGk9ZTtpZihcImF1ZGllbmNlXCI9PT10aGlzLl9nYXRld2F5LnJvbGUpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiYXVkaWVuY2UgY2FuIG5vdCBwdWJsaXNoIHN0cmVhbVwiKTtmb3IoY29uc3QgZSBvZiBpKXtpZighKGUgaW5zdGFuY2VvZiBpQSkpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfUEFSQU1TLFwicGFyYW1ldGVyIGlzIG5vdCBsb2NhbCB0cmFja1wiKTtpZighZS5fZW5hYmxlZCYmdCl0aHJvdyBuZXcgeHYoeGcuVFJBQ0tfSVNfRElTQUJMRUQsXCJjYW4gbm90IHB1Ymxpc2ggYSBkaXNhYmxlZCB0cmFjazogXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpKSl9S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFB1Ymxpc2hpbmcgdHJhY2tzLCBpZCBcIikuY29uY2F0KGkubWFwKChlPT5cIlwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiBcIikpKSkpO2NvbnN0IG49YXdhaXQgdGhpcy5fcHVibGlzaE11dGV4LmxvY2soKTthd2FpdCB0aGlzLl9jb25maWdEaXN0cmlidXRlLmF3YWl0Q29uZmlnRGlzdHJpYnV0ZUNvbXBsZXRlKCksdCYmaS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLl9jb25maWdEaXN0cmlidXRlLmdldEJpdHJhdGVMaW1pdCgpO2UgaW5zdGFuY2VvZiBTYiYmdCYmZS5zZXRCaXRyYXRlTGltaXQodC51cGxpbmspfSkpO3RyeXthd2FpdCB0aGlzLl9wdWJsaXNoSGlnaFN0cmVhbShpKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUHVibGlzaCBzdWNjZXNzLCBpZCBcIikuY29uY2F0KGkubWFwKChlPT5cIlwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiBcIikpKSkpfWNhdGNoKGUpe3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHVibGlzaCBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9ZmluYWxseXtuKCl9fWFzeW5jIF9wdWJsaXNoRGF0YUNoYW5uZWwoZSl7amcoZS5pZCxcImlkXCIsMCw2NTUzNSwhMCksRmcoZS5vcmRlcmVkLFwib3JkZXJlZFwiKSxXZyhlLm1ldGFkYXRhLFwibWV0YWRhdGFcIiwwLDUxMiksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFB1Ymxpc2hpbmcgZGF0YWNoYW5uZWxzLCBpZCBcIikuY29uY2F0KGUuaWQpKTtjb25zdCB0PWF3YWl0IHRoaXMuX3B1Ymxpc2hNdXRleC5sb2NrKCk7dHJ5e2lmKC0xIT09dGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxEYXRhQ2hhbm5lbHMoKS5maW5kSW5kZXgoKHQ9PnQuaWQ9PT1lLmlkKSkpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfUEFSQU1TLFwiSW52YWxpZCBpZDogXCIuY29uY2F0KGUuaWQsXCIuIElmIHlvdSB3YW50IHRvIHJlcHVibGlzaCB0aGUgZGF0YWNoYW5uZWwsIHVucHVibGlzaCBmaXJzdFwiKSk7aWYoIXRoaXMuX2pvaW5JbmZvfHx2b2lkIDA9PT10aGlzLl91aWQpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgcHVibGlzaCBkYXRhY2hhbm5lbCwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggZGF0YWNoYW5uZWwgaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZihcImF1dG9cIj09PXRoaXMuX3R1cm5TZXJ2ZXIubW9kZSYma0MoXCJGT1JDRV9UVVJOXCIpJiYha0MoXCJUVVJOX0VOQUJMRV9UQ1BcIikmJiFrQyhcIlRVUk5fRU5BQkxFX1VEUFwiKSl0aHJvdyBuZXcgeHYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImZvcmNlIFRVUk4gV2l0aCBObyBUVVJOIENvbmZpZ3VyYXRpb25cIik7Y29uc3QgaT1uZXcgc0QoZSk7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wdWJsaXNoRGF0YUNoYW5uZWwoW2ldKTt0cnl7Y29uc3QgdD17c3RyZWFtSWQ6ZS5pZCxvcmRlcmVkOmUub3JkZXJlZCxtYXhSZXRyYW5zbWl0czprQyhcIkRBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTXCIpLG1ldGFkYXRhOmUubWV0YWRhdGEsY2hhbm5lbElkOmkuX29yaWdpbkRhdGFDaGFubmVsSWR9O2F3YWl0IHRoaXMuX2dhdGV3YXkucHVibGlzaERhdGFDaGFubmVsKHRoaXMuX3VpZCx0LCEwKX1jYXRjaChlKXtpZihlLmNvZGUhPT14Zy5ESVNDT05ORUNUX1AyUCl0aHJvdyBlfXJldHVybiBhd2FpdCBpLl93YWl0VGlsbE9wZW4oKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUHVibGlzaCBkYXRhQ2hhbm5lbHMgc3VjY2VzcywgaWQgXCIpLmNvbmNhdChpLmlkKSksaX1jYXRjaChlKXt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHB1Ymxpc2ggZGF0YWNoYW5uZWxzIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1maW5hbGx5e3QoKX19YXN5bmMgdW5wdWJsaXNoKGUpe2lmKCF0aGlzLl9qb2luSW5mb3x8dm9pZCAwPT09dGhpcy5fdWlkKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVucHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7bGV0IHQ9W107aWYoZSlpZihBcnJheS5pc0FycmF5KGUpKXQ9ZTtlbHNle2lmKCEoZSBpbnN0YW5jZW9mIGlBKSlyZXR1cm4gdGhpcy5fdW5wdWJsaXNoRGF0YUNoYW5uZWwoW2VdKTt0PVtlXX1lbHNlIHRoaXMuc3RvcmUudXNlUDJQfHxhd2FpdCB0aGlzLl91bnB1Ymxpc2hEYXRhQ2hhbm5lbCgpLHQ9dGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxUcmFja3MoITApO0tDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBVbnB1Ymxpc2ggdHJhY2tzLCB0cmFja3MgXCIpLmNvbmNhdCh0Lm1hcCgoZT0+XCJcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCIgXCIpKSksXCIgXCIpKTtjb25zdCBpPWF3YWl0IHRoaXMuX3B1Ymxpc2hNdXRleC5sb2NrKCk7dHJ5e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBQTSl7Y29uc3QgZT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVucHVibGlzaCh0KTtpZihlKXtjb25zdCB0PWF3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2Uod0kuVU5QVUJMSVNILGUpO3QmJmF3YWl0IHRoaXMuX3AycENoYW5uZWwuc2V0RGVzY3JpcHRpb24oXCJsb2NhbFwiLHQpfX1lbHNle2NvbnN0IGU9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2godCk7ZSYmYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnB1Ymxpc2goZSx0aGlzLl91aWQpLEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBVbnB1Ymxpc2ggc3VjY2Vzcyx0cmFja3MgXCIpLmNvbmNhdCh0Lm1hcCgoZT0+XCJcIi5jb25jYXQoZS5nZXRUcmFja0lkKCkpKSkpKX19Y2F0Y2goZSl7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnB1Ymxpc2ggZXJyb3JcIiksZS50b1N0cmluZygpKSxlfWZpbmFsbHl7aSYmaSgpfX1hc3luYyBfdW5wdWJsaXNoRGF0YUNoYW5uZWwoZSl7dm9pZCAwIT09ZSYmMCE9PWUubGVuZ3RofHwoZT10aGlzLl9wMnBDaGFubmVsLmdldEFsbERhdGFDaGFubmVscygpKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVW5wdWJsaXNoIGRhdGFjaGFubmVscywgZGF0YWNoYW5uZWxzIFwiKS5jb25jYXQoZS5tYXAoKGU9PlwiXCIuY29uY2F0KGUuaWQsXCIgXCIpKSksXCIgXCIpKTtjb25zdCB0PWF3YWl0IHRoaXMuX3B1Ymxpc2hNdXRleC5sb2NrKCk7dHJ5e2NvbnN0IGk9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2hEYXRhQ2hhbm5lbChlKTtpJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaERhdGFDaGFubmVsKGkpLEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBVbnB1Ymxpc2ggZGF0YUNoYW5uZWwgc3VjY2VzcyxkYXRhQ2hhbm5lbCBcIikuY29uY2F0KGUubWFwKChlPT5cIlwiLmNvbmNhdChlLmlkKSkpKSl9Y2F0Y2goZSl7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnB1Ymxpc2ggZGF0YUNoYW5uZWwgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfWZpbmFsbHl7dCYmdCgpfX1hc3luYyBzdWJzY3JpYmUoZSx0LGkpe3JldHVyblwiZGF0YWNoYW5uZWxcIj09PXQ/dGhpcy5fc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxpKTp0aGlzLl9zdWJzY3JpYmUoZSx0KX1hc3luYyBfc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXt2YXIgaTtpZihqZyh0LFwiY2hhbm5lbElkXCIsMCw2NTUzNSwhMCksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBkYXRhY2hhbm5lbCwgbm90IGpvaW5lZFwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgZGF0YWNoYW5uZWwgaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZighdGhpcy5fdXNlcnMuZmluZCgodD0+dD09PWUpKSl0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLG5ldyB4dih4Zy5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7aWYoIWUuaGFzQXVkaW8mJiFlLmhhc1ZpZGVvJiYwPT09ZS5fZGF0YUNoYW5uZWxzLmxlbmd0aCl0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKSksbmV3IHh2KHhnLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIik7Y29uc3Qgbj1udWxsPT09KGk9ZS5fZGF0YUNoYW5uZWxzKXx8dm9pZCAwPT09aT92b2lkIDA6aS5maW5kKChlPT5lLmlkPT09dCkpO2lmKCFuKXRocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiB3aXRoIG1lZGlhVHlwZSBkYXRhY2hhbm5lbCwgcmVtb3RlIGRhdGFjaGFubmVsIGlzIG5vdCBwdWJsaXNoZWRcIikpLG5ldyB4dih4Zy5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTtjb25zdCByPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBkYXRhY2hhbm5lbFwiKSk7dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLFtuXSk7aWYodCYmUHIodCkuY2FsbCh0LG4uaWQpKXRyeXt2YXIgcztpZighbi5fb3JpZ2luRGF0YUNoYW5uZWxJZCl0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIgd2l0aCBtZWRpYVR5cGUgZGF0YWNoYW5uZWwsIGNhbm5vdCBnZXQgUlRDRGF0YWNoYW5uZWxcIikpLG5ldyB4dih4Zy5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTtjb25zdCB0PXtpZDpuLmlkLGRhdGFjaGFubmVsSWQ6bi5fb3JpZ2luRGF0YUNoYW5uZWxJZCxvcmRlcmVkOm4ub3JkZXJlZCxtYXhSZXRyYW5zbWl0czpuLm1heFJldHJhbnNtaXRzLG1ldGFkYXRhOm51bGwhPT0ocz1uLm1ldGFkYXRhKSYmdm9pZCAwIT09cz9zOlwiXCJ9O2F3YWl0IHRoaXMuX2dhdGV3YXkuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZS51aWQsdCwhMCl9Y2F0Y2godCl7aWYoKG51bGw9PXQ/dm9pZCAwOnQuY29kZSkhPT14Zy5XU19BQk9SVCl0aHJvdyBhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxbbl0pLHQ7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKGUsW25dKSx0aGlzLl9wMnBDaGFubmVsLnNldFBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLG4uaWQpfXJldHVybiBhd2FpdCBuLl93YWl0VGlsbE9wZW4oKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHN1Y2Nlc3MgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLCBtZWRpYVR5cGU6IGRhdGFjaGFubmVsXCIpKSxufWZpbmFsbHl7cigpfX1hc3luYyBfcDJwU3Vic2NyaWJlKGUsdCxpKXtpZihCZyh0LFwibWVkaWFUeXBlXCIsW1wiYXVkaW9cIixcInZpZGVvXCJdKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7aWYoIXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQ9PT1lKSkpe2NvbnN0IHQ9bmV3IHh2KHhnLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHR9aWYoIWUuaGFzQXVkaW8mJiFlLmhhc1ZpZGVvKXtjb25zdCB0PW5ldyB4dih4Zy5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgcHVibGlzaGVkXCIpO3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgcHVibGlzaGVkXCIpKSx0fWlmKCFpJiYoXCJhdWRpb1wiPT09dCYmIWUuaGFzQXVkaW98fFwidmlkZW9cIj09PXQmJiFlLmhhc1ZpZGVvKSl7Y29uc3QgaT1uZXcgeHYoeGcuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQodCxcIiwgcmVtb3RlIHRyYWNrIGlzIG5vdCBwdWJsaXNoZWRcIikpLGl9Y29uc3Qgbj1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSk7Y29uc3Qgcj1cImF1ZGlvXCI9PT10P19JLkxvY2FsQXVkaW9UcmFjazp0aGlzLl9qb2luSW5mby5kZWZhdWx0VmlkZW9TdHJlYW09PT1VeS5MT1dfU1RSRUFNP19JLkxvY2FsVmlkZW9Mb3dUcmFjazpfSS5Mb2NhbFZpZGVvVHJhY2s7dHJ5e2F3YWl0IHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWFXaXRoTG9jayhlLHQpP2F3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlKGUsdCk6KHRoaXMuc3RvcmUuc3Vic2NyaWJlKGUudWlkLHQsRGF0ZS5ub3coKSksdGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFBNJiZhd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKHdJLlNVQlNDUklCRSx7dHJhY2tUeXBlOnJ9KSksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSBzdWNjZXNzIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKSx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlJiZ0aGlzLnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKGUudWlkLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGUpLmNhdGNoKChlPT57S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gc2V0IGZhbGxiYWNrIGZhaWxlZFwiKSxlKX0pKTtjb25zdCBpPVwiYXVkaW9cIj09PXQ/ZS5fYXVkaW9UcmFjazplLl92aWRlb1RyYWNrO2lmKCFpKXRocm93IG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHJlbW90ZSB0cmFjayBpbiB1c2VyIG9iamVjdFwiKTtyZXR1cm4gaX1jYXRjaCh0KXt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgZXJyb3JcIiksdCksdH1maW5hbGx5e24oKX19YXN5bmMgX3N1YnNjcmliZShlLHQsaSl7aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFBNKXJldHVybiB0aGlzLl9wMnBTdWJzY3JpYmUoZSx0KTtpZihCZyh0LFwibWVkaWFUeXBlXCIsW1wiYXVkaW9cIixcInZpZGVvXCJdKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7aWYoIXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQ9PT1lKSkpe2NvbnN0IHQ9bmV3IHh2KHhnLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHR9aWYoIWUuaGFzQXVkaW8mJiFlLmhhc1ZpZGVvKXtjb25zdCB0PW5ldyB4dih4Zy5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgcHVibGlzaGVkXCIpO3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgcHVibGlzaGVkXCIpKSx0fWlmKCEoaXx8KFwiYXVkaW9cIiE9PXR8fGUuaGFzQXVkaW8mJnZvaWQgMCE9PWUuX2F1ZGlvU1NSQykmJihcInZpZGVvXCIhPT10fHxlLmhhc1ZpZGVvJiZ2b2lkIDAhPT1lLl92aWRlb1NTUkMpKSl7Y29uc3QgaT1uZXcgeHYoeGcuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQodCxcIiwgcmVtb3RlIHRyYWNrIGlzIG5vdCBwdWJsaXNoZWRcIikpLGl9bGV0IG49XCJhdWRpb1wiPT09dD9lLl9hdWRpb1NTUkM6ZS5fdmlkZW9TU1JDLHI9XCJhdWRpb1wiPT09dD9lLl9hdWRpb09ydGM6ZS5fdmlkZW9PcnRjLHM9XCJ2aWRlb1wiPT09dD9lLl9ydHhTc3JjSWQ6dm9pZCAwLG89e3N0cmVhbV90eXBlOlwiYXVkaW9cIj09PXQ/aEkuQVVESU86aEkuVklERU8sc3NyY0lkOm59O2NvbnN0IGE9YXdhaXQgdGhpcy5fc3Vic2NyaWJlTXV0ZXgubG9jaygpO0tDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQodCkpO3RyeXtpZihhd2FpdCB0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhV2l0aExvY2soZSx0KSlhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVubXV0ZVJlbW90ZShlLHQpO2Vsc2UgdHJ5e2NvbnN0IGk9XCJhdWRpb1wiPT09dD9lLl9hdWRpb1NTUkM6ZS5fdmlkZW9TU1JDO3ZvaWQgMCE9PWkmJmkhPT1uJiYobj1pLHI9XCJhdWRpb1wiPT09dD9lLl9hdWRpb09ydGM6ZS5fdmlkZW9PcnRjLHM9XCJ2aWRlb1wiPT09dD9lLl9ydHhTc3JjSWQ6dm9pZCAwLG89e3N0cmVhbV90eXBlOlwiYXVkaW9cIj09PXQ/aEkuQVVESU86aEkuVklERU8sc3NyY0lkOm59KSxjRC5tYXJrU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxuKSx0aGlzLnN0b3JlLnN1YnNjcmliZShlLnVpZCx0LERhdGUubm93KCkpLGF3YWl0IHRoaXMuX3AycENoYW5uZWwuc3Vic2NyaWJlKGUsdCxuLHMscik7dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc3Vic2NyaWJlKGUudWlkLG8sITApfWNhdGNoKGkpe2lmKChudWxsPT1pP3ZvaWQgMDppLmNvZGUpIT09eGcuV1NfQUJPUlQpdGhyb3cgYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShlLHQpLGk7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShlLHQsITApLHRoaXMuX3AycENoYW5uZWwuc2V0UGVuZGluZ1JlbW90ZU1lZGlhKGUsdCl9dGhpcy5zdG9yZS5zdWJzY3JpYmUoZS51aWQsdCx2b2lkIDAsRGF0ZS5ub3coKSksdGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRTdWJzY3JpYmVFdmVudCghMCxudWxsLGUsdCl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRTdWJzY3JpYmVFdmVudCghMSxudWxsPT1pP3ZvaWQgMDppLmNvZGUsZSx0KSxpfUtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgc3VjY2VzcyB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSksdGhpcy5fZGVmYXVsdFN0cmVhbUZhbGxiYWNrVHlwZSYmdGhpcy5zZXRTdHJlYW1GYWxsYmFja09wdGlvbihlLnVpZCx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlKS5jYXRjaCgoZT0+e0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCBmYWxsYmFjayBmYWlsZWRcIiksZSl9KSk7Y29uc3QgaT1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvVHJhY2s6ZS5fdmlkZW9UcmFjaztpZighaSl0aHJvdyBuZXcgeHYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCByZW1vdGUgdHJhY2sgaW4gdXNlciBvYmplY3RcIik7cmV0dXJuIGl9Y2F0Y2godCl7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIGVycm9yXCIpLHQpLHR9ZmluYWxseXthKCl9fWFzeW5jIG1hc3NTdWJzY3JpYmUoZSl7aWYoSGcoZSxcInN1YnNjcmliZUxpc3RcIiksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0sIG5vdCBqb2luZWRcIik7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIHN0cmVhbSBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2NvbnN0IHQ9RGF0ZS5ub3coKSxpPW5ldyBNYXAsbj1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdc3RhcnQgbWFzc1N1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS5tYXAoKGU9PntsZXR7dXNlcjp0LG1lZGlhVHlwZTppfT1lO3JldHVyblwidXNlcjogXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoaSl9KSkuam9pbihcIjsgXCIpKSk7Y29uc3Qgcj0oZT1bLi4uZV0pLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJue3VzZXI6dCxtZWRpYVR5cGU6aX19KSkscz1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLmdsb2JhbExvY2soKTt0cnl7dmFyIG87Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IG49ZVt0XSx7dXNlcjpzLG1lZGlhVHlwZTpvfT1uO2lmKEJnKG8sXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLCFzKXtjb25zdCBlPW5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcInVzZXIgcHJvcGVydHkgZG9lcyBub3QgZXhpc3QgaW4gc3Vic2NyaWJlTGlzdCBpdGVtXCIpO3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiBzdWJzY3JpYmVMaXN0IGl0ZW1cIikpLGV9aWYoIXRoaXMuX3VzZXJzLmZpbmQoKGU9PmU9PT1zKSkpe2NvbnN0IGk9bmV3IHh2KHhnLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTtLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgbWFzc1N1YnNjcmliZSBcIikuY29uY2F0KHMudWlkLFwiLCB0aGlzIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxyW3RdLmVycm9yPWksZS5zcGxpY2UodCwxKTtjb250aW51ZX1pZihcImF1ZGlvXCI9PT1vJiYoIXMuaGFzQXVkaW98fHZvaWQgMD09PXMuX2F1ZGlvU1NSQyl8fFwidmlkZW9cIj09PW8mJighcy5oYXNWaWRlb3x8dm9pZCAwPT09cy5fdmlkZW9TU1JDKSl7Y29uc3QgaT1uZXcgeHYoeGcuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7S0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHMudWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQobyxcIiwgcmVtb3RlIHVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKSksclt0XS5lcnJvcj1pLGUuc3BsaWNlKHQsMSk7Y29udGludWV9Y29uc3QgYT1pSS5WaWRlb3xpSS5Md29WaWRlbyxjPWkuZ2V0KHMpO2lmKGMpe2lmKFwidmlkZW9cIj09PW8/YyZhOmMmaUkuQXVkaW8pe2Uuc3BsaWNlKHQsMSksS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlcGVhdCBtYXNzU3Vic2NyaWJlIHVzZXI6XCIpLmNvbmNhdChzLnVpZCxcIiwgbWVkaWFUeXBlOlwiKS5jb25jYXQobyxcIiB0d2ljZVwiKSk7Y29udGludWV9aS5zZXQocyxjfChcInZpZGVvXCI9PT1vP2E6aUkuQXVkaW8pKX1lbHNlIGkuc2V0KHMsXCJ2aWRlb1wiPT09bz9hOmlJLkF1ZGlvKX1mb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdLHt1c2VyOnIsbWVkaWFUeXBlOnN9PW4sbz1pSS5WaWRlb3xpSS5Md29WaWRlbztpZih0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhKHIscykpe2F3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlTm9Mb2NrKHIscyk7Y29uc3Qgbj1pLmdldChyKTtpLnNldChyLFwidmlkZW9cIj09PXM/bl5vOm5eaUkuQXVkaW8pLGUuc3BsaWNlKHQsMSl9fXRoaXMuc3RvcmUubWFzc1N1YnNjcmliZShlLm1hcCgoZT0+KHt1c2VySWQ6ZS51c2VyLnVpZCx0eXBlOmUubWVkaWFUeXBlfSkpKSx0KTtjb25zdCBhPWNTKG89QXJyYXkuZnJvbShpLmVudHJpZXMoKSkpLmNhbGwobywoKGUsdCk9PntsZXRbaSxuXT10O2lmKDA9PT1uKXJldHVybiBlO2NvbnN0IHI9e3N0cmVhbV9pZDppLnVpZCxzdHJlYW1fdHlwZTpufTtyZXR1cm4gbiZpSS5BdWRpbyYmKHIuYXVkaW9fc3NyYz1pLl9hdWRpb1NTUkMpLG4maUkuVmlkZW8mJihyLnZpZGVvX3NzcmM9aS5fdmlkZW9TU1JDKSxlLnB1c2gociksZX0pLFtdKTt0cnl7ZS5sZW5ndGg+MCYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzU3Vic2NyaWJlTm9Mb2NrKGUubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm57dXNlcjp0LG1lZGlhVHlwZTppLHNzcmNJZDppPT09aEkuVklERU8/dC5fdmlkZW9TU1JDOnQuX2F1ZGlvU1NSQyxydHhTc3JjSWQ6aT09PWhJLlZJREVPP3QuX3J0eFNzcmNJZDp2b2lkIDB9fSkpKTtjb25zdCBpPW5ldyBNYXA7aWYoYS5sZW5ndGg+MCl7Y29uc3QgZT1hd2FpdCB0aGlzLl9nYXRld2F5LnN1YnNjcmliZUFsbChhLCEwKTsoKG51bGw9PWU/dm9pZCAwOmUudXNlcnMpfHxbXSkuZm9yRWFjaCgoZT0+e2xldHtzdHJlYW1faWQ6dCx2aWRlb19lcnJvcl9jb2RlOm4sYXVkaW9fZXJyb3JfY29kZTpyLGVycm9yX2NvZGU6c309ZTsobnx8cnx8cykmJmkuc2V0KHQse3ZpZGVvX2Vycm9yX2NvZGU6bixhdWRpb19lcnJvcl9jb2RlOnIsZXJyb3JfY29kZTpzfSl9KSl9aWYoQXJyYXkuZnJvbShpLmVudHJpZXMoKSkubGVuZ3RoPjApe2NvbnN0IGU9QXJyYXkuZnJvbShpLmVudHJpZXMoKSkubWFwKChlPT57bGV0IHQsW2ksbl09ZTtuLmVycm9yX2NvZGV8fG4udmlkZW9fZXJyb3JfY29kZSYmbi5hdWRpb19lcnJvcl9jb2RlP3Q9dm9pZCAwOm4udmlkZW9fZXJyb3JfY29kZT90PWhJLlZJREVPOm4uYXVkaW9fZXJyb3JfY29kZSYmKHQ9aEkuQVVESU8pO3JldHVybnt1c2VyOnRoaXMucmVtb3RlVXNlcnMuZmluZCgoZT0+ZS51aWQ9PT1pKSksbWVkaWFUeXBlOnR9fSkpO2F3YWl0IHRoaXMuX3AycENoYW5uZWwubWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKGUpfWZvcihjb25zdCBlIG9mIHIpe2NvbnN0IHQ9aS5nZXQoZS51c2VyLnVpZCk7aWYodCl7Y29uc3QgaT10LmVycm9yX2NvZGV8fFwiYXVkaW9cIj09PWUubWVkaWFUeXBlJiZ0LmF1ZGlvX2Vycm9yX2NvZGV8fFwidmlkZW9cIj09PWUubWVkaWFUeXBlJiZ0LnZpZGVvX2Vycm9yX2NvZGU7aWYoaSl7Y29uc3QgdD1VSShpKTtLQy5lcnJvcihcInVzZXI6XCIuY29uY2F0KGUudXNlci51aWQsXCIgbWVkaWFUeXBlOlwiKS5jb25jYXQoZS5tZWRpYVR5cGUsXCIgaGFzIG1hc3NTdWJzY3JpYmUgZXJyb3IgXCIpLmNvbmNhdCh0LmRlc2MpKSxlLmVycm9yPW5ldyB4dih4Zy5TVUJTQ1JJQkVfRkFJTEVELFwiY29kZSBcIi5jb25jYXQoaSxcIjogXCIpLmNvbmNhdCh0LmRlc2MpKX19ZS5lcnJvcnx8KFwidmlkZW9cIj09PWUubWVkaWFUeXBlP2UudHJhY2s9ZS51c2VyLnZpZGVvVHJhY2s6ZS50cmFjaz1lLnVzZXIuYXVkaW9UcmFjayl9cmV0dXJuIHRoaXMuc3RvcmUubWFzc1N1YnNjcmliZShyLmZpbHRlcigoZT0+IWUuZXJyb3IpKS5tYXAoKGU9Pih7dXNlcklkOmUudXNlci51aWQsdHlwZTplLm1lZGlhVHlwZX0pKSksdm9pZCAwLERhdGUubm93KCkpLHIuZm9yRWFjaCgoZT0+e3ZhciBpO3J2LnN1YnNjcmliZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7c3VjYzohIWUuZXJyb3IsZWM6KG51bGw9PT0oaT1lLmVycm9yKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jb2RlKXx8bnVsbCx2aWRlbzplLm1lZGlhVHlwZT09PWhJLlZJREVPLGF1ZGlvOmUubWVkaWFUeXBlPT09aEkuQVVESU8scGVlcmlkOmUudXNlci51aWQsc3Vic2NyaWJlUmVxdWVzdGlkOmUubWVkaWFUeXBlPT09aEkuVklERU8/ZS51c2VyLl92aWRlb1NTUkM6ZS51c2VyLl9hdWRpb1NTUkMscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpNYXRoLmZsb29yKHBlcmZvcm1hbmNlLm5vdygpLXQpfSwhMCl9KSksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG1hc3NTdWJzY3JpYmUgc3VjY2VzcyBcIikuY29uY2F0KGUubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm5cInVzZXI6IFwiLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0LnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KGkpfSkpLmpvaW4oXCI7IFwiKSkpLHJ9Y2F0Y2godCl7dGhyb3cgYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzVW5zdWJzY3JpYmVOb0xvY2soZSksdH19ZmluYWxseXtzKCksbigpfX1hc3luYyB1bnN1YnNjcmliZShlLHQsaSl7aWYodHx8dGhpcy5zdG9yZS51c2VQMlApe2lmKFwiZGF0YWNoYW5uZWxcIj09PXQpcmV0dXJuIHRoaXMuX3Vuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxpKX1lbHNlIGF3YWl0IHRoaXMuX3Vuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxpKTtpZih0JiZCZyh0LFwibWVkaWFUeXBlXCIsW1wiYXVkaW9cIixcInZpZGVvXCJdKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgdW5zdWJzY3JpYmUgc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKCF0aGlzLl91c2Vycy5maW5kKCh0PT50PT09ZSkpKXtjb25zdCB0PW5ldyB4dih4Zy5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHVuc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSx0fUtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSB1aWQ6IFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSk7Y29uc3Qgbj1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7dHJ5e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBQTSlhd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKHdJLlVOU1VCU0NSSUJFLHttZWRpYVR5cGU6dH0pO2Vsc2V7Y29uc3QgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGUsdCk7aSYmYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZShpLGUudWlkKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgc3VjY2VzcyB1aWQ6IFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSl9fWNhdGNoKHQpe2lmKHQuY29kZT09PXhnLkRJU0NPTk5FQ1RfUDJQKXJldHVybiB2b2lkIEtDLndhcm5pbmcoXCJkaXNjb25uZWN0aW5nIHAycCwgYWJvcnQgdW5zdWJzY3JpYmUgcmVxdWVzdC5cIik7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgZXJyb3JcIiksdC50b1N0cmluZygpKSx0fWZpbmFsbHl7bigpfX1hc3luYyBfdW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe2lmKHQmJmpnKHQsXCJpZFwiLDAsNjU1MzUsITApLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCB1bnN1YnNjcmliZSBkYXRhY2hhbm5lbCwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtpZighdGhpcy5fdXNlcnMuZmluZCgodD0+dD09PWUpKSl7Y29uc3QgdD1uZXcgeHYoeGcuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCB1bnN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiLCB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksdH1sZXQgaTtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7Y29uc3Qgbj1lLl9kYXRhQ2hhbm5lbHMuZmluZCgoZT0+ZS5pZD09PXQpKTtuJiYoaT1bbl0pfWVsc2UgaT1lLl9kYXRhQ2hhbm5lbHM7aWYodm9pZCAwPT09aSl7Y29uc3QgaT1uZXcgeHYoeGcuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHVuc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIgd2l0aCBjaGFubmVsSWQgXCIpLmNvbmNhdCh0LFwiLCByZW1vdGUgZGF0YWNoYW5uZWwgaXMgbm90IHB1Ymxpc2hlZFwiKSksaX1LQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgdWlkOiBcIikuY29uY2F0KGUudWlkLFwiLCBtZWRpYVR5cGU6IGRhdGFjaGFubmVsLCBpZHM6IFwiKS5jb25jYXQoaS5tYXAoKGU9PmUuaWQpKSkpO3RyeXtjb25zdCB0PWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLGkpO3QmJmF3YWl0IHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LGUudWlkKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgZGF0YWNoYW5uZWwgc3VjY2VzcyB1aWQ6IFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWwsIGlkczogXCIpLmNvbmNhdCh0KSl9Y2F0Y2godCl7aWYodC5jb2RlPT09eGcuRElTQ09OTkVDVF9QMlApcmV0dXJuIHZvaWQgS0Mud2FybmluZyhcImRpc2Nvbm5lY3RpbmcgcDJwLCBhYm9ydCB1bnN1YnNjcmliZSByZXF1ZXN0LlwiKTt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBlcnJvclwiKSx0LnRvU3RyaW5nKCkpLHR9fWFzeW5jIG1hc3NVbnN1YnNjcmliZShlKXtpZihIZyhlLFwidW5zdWJzY3JpYmVMaXN0XCIpLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCB1bnN1YnNjcmliZUFsbCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IG1hc3NVbnN1YnNjcmliZSBcIikuY29uY2F0KGUubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm5cInVzZXI6IFwiLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0LnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KGksXCI7XCIpfSkpLmpvaW4oKSkpLGU9Wy4uLmVdO2NvbnN0IHQ9bmV3IE1hcDtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl7Y29uc3R7dXNlcjpuLG1lZGlhVHlwZTpyfT1lW2ldO2lmKCFuKXtjb25zdCBlPW5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcInVzZXIgcHJvcGVydHkgZG9lcyBub3QgZXhpc3QgaW4gdW5zdWJzY3JpYmVMaXN0IGl0ZW1cIik7dGhyb3cgS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0IGluIHVuc3Vic2NyaWJlTGlzdCBpdGVtXCIpKSxlfUJnKHIsXCJtZWRpYVR5cGVcIixbXCJ2aWRlb1wiLFwiYXVkaW9cIix2b2lkIDBdKTtpZighdGhpcy5fdXNlcnMuZmluZCgoZT0+ZT09PW4pKSl7S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgdW5zdWJzY3JpYmUgXCIpLmNvbmNhdChuLnVpZCxcIiwgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLGUuc3BsaWNlKGksMSk7Y29udGludWV9Y29uc3Qgcz1pSS5WaWRlb3xpSS5Md29WaWRlbztpZih0LmhhcyhuKSl7Y29uc3Qgbz10LmdldChuKTtsZXQgYTtzd2l0Y2gocil7Y2FzZVwidmlkZW9cIjphPW8mczticmVhaztjYXNlXCJhdWRpb1wiOmE9byZpSS5BdWRpbzticmVhaztkZWZhdWx0OmE9byYoaUkuQXVkaW98cyl9aWYoYSl7S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlcGVhdCBtYXNzVW5zdWJzY3JpYmUgdXNlcjpcIikuY29uY2F0KG4udWlkLFwiLG1lZGlhVHlwZTpcIikuY29uY2F0KHIsXCIgdHdpY2UuXCIpKSxlLnNwbGljZShpLDEpO2NvbnRpbnVlfXI/XCJhdWRpb1wiPT09cj90LnNldChuLG98aUkuQXVkaW8pOlwidmlkZW9cIj09PXImJnQuc2V0KG4sb3xzKTp0LnNldChuLG98aUkuQXVkaW98cyl9ZWxzZSByP1wiYXVkaW9cIj09PXI/dC5zZXQobixpSS5BdWRpbyk6XCJ2aWRlb1wiPT09ciYmdC5zZXQobixzKTp0LnNldChuLGlJLkF1ZGlvfHMpfXRyeXtjb25zdCB0PWF3YWl0IHRoaXMuX3AycENoYW5uZWwubWFzc1Vuc3Vic2NyaWJlKGUpO3QmJmF3YWl0IHRoaXMuX2dhdGV3YXkubWFzc1Vuc3Vic2NyaWJlKHQpLEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzVW5zdWJzY3JpYmUgc3VjY2VzcyBcIikuY29uY2F0KGUubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm5cInVzZXI6IFwiLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0LnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KGksXCI7XCIpfSkpLmpvaW4oKSkpfWNhdGNoKGUpe2lmKGUuY29kZT09PXhnLkRJU0NPTk5FQ1RfUDJQKXJldHVybiB2b2lkIEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkaXNjb25uZWN0aW5nIHAycCwgYWJvcnQgdW5zdWJzY3JpYmUgcmVxdWVzdC5cIikpO3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbWFzc1Vuc3Vic2NyaWJlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX19YXN5bmMgc2V0TG93U3RyZWFtUGFyYW1ldGVyKGUpeyFmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgVmcoeGcuSU5WQUxJRF9QQVJBTVMpO0tnKGUud2lkdGgpfHxHZyhlLndpZHRoLFwic3RyZWFtUGFyYW1ldGVyLndpZHRoXCIpLEtnKGUuaGVpZ2h0KXx8R2coZS5oZWlnaHQsXCJzdHJlYW1QYXJhbWV0ZXIuaGVpZ2h0XCIpLEtnKGUuZnJhbWVyYXRlKXx8R2coZS5mcmFtZXJhdGUsXCJzdHJlYW1QYXJhbWV0ZXIuZnJhbWVyYXRlXCIpLEtnKGUuYml0cmF0ZSl8fGpnKGUuYml0cmF0ZSxcInN0cmVhbVBhcmFtZXRlci5iaXRyYXRlXCIpfShlKSwoIWUud2lkdGgmJmUuaGVpZ2h0fHxlLndpZHRoJiYhZS5oZWlnaHQpJiZLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVGhlIHdpZHRoIGFuZCBoZWlnaHQgcGFyYW1ldGVycyB0YWtlIGVmZmVjdCBvbmx5IHdoZW4gYm90aCBhcmUgc2V0XCIpKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGxvdyBzdHJlYW0gcGFyYW1ldGVyIHRvXCIpLEpTT04uc3RyaW5naWZ5KGUpKTtjb25zdCB0PXRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuZ2V0TG93U3RyZWFtQ29uZmlnRGlzdHJpYnV0ZSgpO2lmKHQmJnQuYml0cmF0ZSYmZS5iaXRyYXRlJiZ0LmJpdHJhdGU8ZS5iaXRyYXRlJiYoZS5iaXRyYXRlPXQuYml0cmF0ZSksdGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyPWUsdGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZClyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC51cGRhdGVWaWRlb1N0cmVhbVBhcmFtZXRlcihlLF9JLkxvY2FsVmlkZW9Mb3dUcmFjayl9YXN5bmMgZW5hYmxlRHVhbFN0cmVhbSgpe2lmKCFfQSgpLnN1cHBvcnREdWFsU3RyZWFtKXRocm93IHJ2LnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMCxzdWNjOiExfSksbmV3IHh2KHhnLk5PVF9TVVBQT1JURUQsXCJZb3VyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnQgZHVhbCBzdHJlYW1cIik7aWYodGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZCl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJEdWFsIHN0cmVhbSBpcyBhbHJlYWR5IGVuYWJsZWRcIik7aWYodGhpcy5fcDJwQ2hhbm5lbC5jYW5QdWJsaXNoTG93U3RyZWFtKCkpdHJ5e2F3YWl0IHRoaXMuX3B1Ymxpc2hMb3dTdHJlYW0oKX1jYXRjaChlKXt0aHJvdyBydi5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITAsc3VjYzohMX0pLGV9dGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZD0hMCxydi5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITAsc3VjYzohMH0pLEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBlbmFibGUgZHVhbCBzdHJlYW1cIikpfWFzeW5jIGRpc2FibGVEdWFsU3RyZWFtKCl7aWYodGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZCl7aWYoIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHB1Ymxpc2ggc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKHRoaXMuX3AycENoYW5uZWwuZ2V0TG9jYWxNZWRpYShfSS5Mb2NhbFZpZGVvTG93VHJhY2spKXRyeXtjb25zdCBlPWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5wdWJsaXNoTG93U3RyZWFtKCk7ZSYmYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnB1Ymxpc2goZSx0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR8fHRoaXMuX2pvaW5JbmZvLnVpZCl9Y2F0Y2goZSl7dGhyb3cgcnYuc3RyZWFtU3dpdGNoKHRoaXMuX3Nlc3Npb25JZCx7bHRzOkRhdGUubm93KCksaXNkdWFsOiExLHN1Y2M6ITF9KSxlfXRoaXMuX2lzRHVhbFN0cmVhbUVuYWJsZWQ9ITEscnYuc3RyZWFtU3dpdGNoKHRoaXMuX3Nlc3Npb25JZCx7bHRzOkRhdGUubm93KCksaXNkdWFsOiExLHN1Y2M6ITB9KSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGlzYWJsZSBkdWFsIHN0cmVhbVwiKSl9fWFzeW5jIHNldENsaWVudFJvbGUoZSx0KXtpZihmdW5jdGlvbihlKXtCZyhlLFwicm9sZVwiLFtcImF1ZGllbmNlXCIsXCJob3N0XCJdKX0oZSksdCYmbVQodCksXCJydGNcIj09PXRoaXMubW9kZSl0aHJvdyBLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl1ydGMgbW9kZSBjYW4gbm90IHVzZSBzZXRDbGllbnRSb2xlXCIpKSxuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJydGMgbW9kZSBjYW4gbm90IHVzZSBzZXRDbGllbnRSb2xlXCIpO2lmKHQmJnQubGV2ZWwmJlwiaG9zdFwiPT09ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJob3N0IG1vZGUgY2FuIG5vdCBzZXQgYXVkaWVuY2UgbGF0ZW5jeSBsZXZlbFwiKTtpZihcImF1ZGllbmNlXCI9PT1lJiZ0aGlzLl9wMnBDaGFubmVsLmhhc0xvY2FsTWVkaWEoKSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHNldCBjbGllbnQgcm9sZSB0byBhdWRpZW5jZSB3aGVuIHB1Ymxpc2hpbmcgc3RyZWFtXCIpO2F3YWl0IHRoaXMuX2dhdGV3YXkuc2V0Q2xpZW50Um9sZShlLHQpLHRoaXMuX2NvbmZpZy5yb2xlPWUsS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBjbGllbnQgcm9sZSB0byBcIikuY29uY2F0KGUsXCIsIGxldmVsOiBcIikuY29uY2F0KHQmJnQubGV2ZWwpKX1nZXRSZW1vdGVJbmJvdW5kT2Zmc2V0KCl7dmFyIGU7Y29uc3QgdD1udWxsPT09KGU9dGhpcy5fcDJwQ2hhbm5lbC5nZXRTdGF0cygpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5hdWRpb1NlbmRbMF07aWYoIXR8fCF0LnRpbWVzdGFtcClyZXR1cm4gMDtjb25zdCBpPXQudGltZXN0YW1wLURhdGUubm93KCk7cmV0dXJuIE1hdGguYWJzKGkpPjFlMyt0LnJ0dE1zKzEwMD90aGlzLm50cEFsaWduRXJyb3JDb3VudCs9MTp0aGlzLm50cEFsaWduRXJyb3JDb3VudD0wLHRoaXMubnRwQWxpZ25FcnJvckNvdW50Pj0zP2k6MH1nZXROdHBXYWxsVGltZUluTXMoKXtyZXR1cm5cInZpc2libGVcIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSYmKHRoaXMucmVtb3RlSW5ib3VuZE9mZnNldD10aGlzLmdldFJlbW90ZUluYm91bmRPZmZzZXQoKSksdGhpcy5yZW1vdGVJbmJvdW5kT2Zmc2V0K0RhdGUubm93KCkrdGhpcy5fZ2F0ZXdheS5udHBPZmZzZXR9c2V0UHJveHlTZXJ2ZXIoZSx0KXtpZihXZyhlLFwicHJveHlTZXJ2ZXJcIiksIXQpe2lmKFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJTZXQgcHJveHkgc2VydmVyIGJlZm9yZSBqb2luIGNoYW5uZWxcIik7aWYoXCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGV8fHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIHByb3h5XCIpfXRoaXMuX3Byb3h5U2VydmVyPWUscnYuc2V0UHJveHlTZXJ2ZXIodGhpcy5fcHJveHlTZXJ2ZXIpLEtDLnNldFByb3h5U2VydmVyKHRoaXMuX3Byb3h5U2VydmVyKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IHByb3h5IHNlcnZlciBcIikuY29uY2F0KHQ/XCJieSBpbml0aWFsaXplIGNhbGxcIjpcIlwiLFwiIHN1Y2Nlc3MuXCIpKX1zZXRUdXJuU2VydmVyKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSwhdCl7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIlNldCB0dXJuIHNlcnZlciBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKFwiZGlzYWJsZWRcIiE9PXRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlfHx0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50KXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBwcm94eVwiKX1pZihfVChlKSlyZXR1cm4gdGhpcy5fdHVyblNlcnZlcj17c2VydmVyczplLG1vZGU6XCJvcmlnaW5hbC1tYW51YWxcIn0sdm9pZCBLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IG9yaWdpbmFsIHR1cm5zZXJ2ZXIgXCIpLmNvbmNhdCh0P1wiYnkgaW5pdGlhbGl6ZSBjYWxsXCI6XCJcIixcIiBzdWNjZXNzOiBcIikuY29uY2F0KGUubWFwKChlPT5lLnVybHMpKS5qb2luKFwiLFwiKSxcIi5cIikpO2UuZm9yRWFjaCgoZT0+RVQoZSkpKSx0aGlzLl90dXJuU2VydmVyPXtzZXJ2ZXJzOmUsbW9kZTpcIm1hbnVhbFwifSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IHR1cm5zZXJ2ZXIgXCIpLmNvbmNhdCh0P1wiYnkgaW5pdGlhbGl6ZSBjYWxsXCI6XCJcIixcIiBzdWNjZXNzLlwiKSl9c2V0TGljZW5zZShlKXtpZihcIkRJU0NPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpe3Rocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcInlvdSBzaG91bGQgc2V0IGxpY2Vuc2UgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKX1pZihXZyhlLFwibGljZW5zZVwiLDMyLDMyKSwhL15bQS1aYS16XFxkXSskLy50ZXN0KGUpKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcImxpY2Vuc2Ugc2hvdWxkIG9ubHkgY29udGFpbnMgY2hhcmFjdGVycyBmcm9tIEEtWiBhLXogMC05XCIpO3RoaXMuX2xpY2Vuc2U9ZSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGxpY2Vuc2Ugc3VjY2Vzc1wiKSxlKX1zdGFydFByb3h5U2VydmVyKGUpe2lmKFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJTdGFydCBwcm94eSBzZXJ2ZXIgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKTtpZih0aGlzLl9wcm94eVNlcnZlcnx8XCJtYW51YWxcIj09PXRoaXMuX3R1cm5TZXJ2ZXIubW9kZXx8dGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludCl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIik7Y29uc3QgdD1bMyw0LDVdO2xldCBpO3N3aXRjaCh2b2lkIDA9PT1lJiYoZT0zKSxlKXtjYXNlIDE6Y2FzZSAyOnRocm93IG5ldyB4dih4Zy5OT1RfU1VQUE9SVEVELFwicHJveHkgbW9kZSAxLzIgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgbm90IHN1cHBvcnRlZC5cIik7Y2FzZSAzOmk9XCJwcm94eTNcIjticmVhaztjYXNlIDQ6aT1cInByb3h5NFwiO2JyZWFrO2Nhc2UgNTppPVwicHJveHk1XCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJwcm94eSBzZXJ2ZXIgbW9kZSBtdXN0IGJlIFwiLmNvbmNhdCh0LmpvaW4oXCJ8XCIpKSl9dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGU9aSx0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPWksS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBjbG91ZCBwcm94eSBzZXJ2ZXIgbW9kZSB0b1wiKSx0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSl9c3RvcFByb3h5U2VydmVyKCl7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIlN0b3AgcHJveHkgc2VydmVyIGFmdGVyIGxlYXZlIGNoYW5uZWxcIik7cnYuc2V0UHJveHlTZXJ2ZXIoKSxLQy5zZXRQcm94eVNlcnZlcigpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIix0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIixLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGNsb3VkIHByb3h5IHNlcnZlciBtb2RlIHRvXCIpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlKSx0aGlzLl9wcm94eVNlcnZlcj12b2lkIDAsdGhpcy5fdHVyblNlcnZlcj17bW9kZTpcImF1dG9cIixzZXJ2ZXJzOltdfX1zZXRMb2NhbEFjY2Vzc1BvaW50c1YyKGUpe2lmKCFlLmFjY2Vzc1BvaW50cyl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJhY2Nlc3NQb2ludHMgaXMgcmVxdWlyZWQuXCIpO0hnKGUuYWNjZXNzUG9pbnRzLnNlcnZlckxpc3QsXCJhY2Nlc3NQb2ludHMuc2VydmVyTGlzdFwiKSxXZyhlLmFjY2Vzc1BvaW50cy5kb21haW4sXCJhY2Nlc3NQb2ludHMuZG9tYWluXCIpO2NvbnN0IHQ9KGUsdCk9PntqZyhlLHQsMCw2NTUzNSwhMCl9O2xldCBpPTQ0MztpZihlLmFjY2Vzc1BvaW50cy5wb3J0JiYodChlLmFjY2Vzc1BvaW50cy5wb3J0LFwiYWNjZXNzUG9pbnRzLnBvcnRcIiksaT1lLmFjY2Vzc1BvaW50cy5wb3J0KSx0aGlzLl9wcm94eVNlcnZlcnx8XCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCBmYWlsZWQsIFlvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBjbG91ZCBwcm94eVwiKTtrQyhcIkNMT1NFX0FGQl9GT1JfTE9DQUxfQVBcIikmJihMQyhcIkpPSU5fV0lUSF9GQUxMQkFDS19TSUdOQUxfUFJPWFlcIiwhMSksTEMoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlcIiwhMSkpO2NvbnN0IG49L14oKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKXszfShcXGR7MSwyfXwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKSQvLHI9ZS5hY2Nlc3NQb2ludHMuZG9tYWluLHM9ZS5hY2Nlc3NQb2ludHMuc2VydmVyTGlzdC5tYXAoKGU9Pm4udGVzdChlKT9cIlwiLmNvbmNhdChlLnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KHIpOmUpKSxvPXMubWFwKChlPT5cIlwiLmNvbmNhdChlLFwiOlwiKS5jb25jYXQoaSkpKTt0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50PSEwLHRoaXMuX3NldExvY2FsQVBWZXJzaW9uPTIsTEMoXCJXRUJDU19ET01BSU5cIixvKSxMQyhcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiLG8pLExDKFwiR0FURVdBWV9ET01BSU5TXCIsW3JdKSxlLnJlcG9ydCYmZS5yZXBvcnQuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkoZS5yZXBvcnQuaG9zdG5hbWUpJiZlLnJlcG9ydC5ob3N0bmFtZS5sZW5ndGg/KEhnKGUucmVwb3J0Lmhvc3RuYW1lLFwicmVwb3J0Lmhvc3RuYW1lXCIpLExDKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLGUucmVwb3J0Lmhvc3RuYW1lWzBdKSxMQyhcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIsZS5yZXBvcnQuaG9zdG5hbWVbMV18fGUucmVwb3J0Lmhvc3RuYW1lWzBdKSk6KExDKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLHNbMF0pLExDKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixzWzFdfHxzWzBdKSk7bGV0IGE9NjQ0MztlLnJlcG9ydCYmZS5yZXBvcnQucG9ydCYmKHQoZS5yZXBvcnQucG9ydCxcInJlcG9ydC5wb3J0XCIpLGE9ZS5yZXBvcnQucG9ydCksTEMoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiLGEpLGUucmVwb3J0P0xDKFwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiLCEwKTpMQyhcIkVOQUJMRV9FVkVOVF9SRVBPUlRcIiwhMSk7bGV0IGM9XCJcIjtlLmxvZyYmZS5sb2cuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkoZS5sb2cuaG9zdG5hbWUpJiZlLmxvZy5ob3N0bmFtZS5sZW5ndGg/KEhnKGUubG9nLmhvc3RuYW1lLFwibG9nLmhvc3RuYW1lXCIpLGM9ZS5sb2cuaG9zdG5hbWVbMF0pOmM9c1swXTtsZXQgZD02NDQ0O2UubG9nJiZlLmxvZy5wb3J0JiYodChlLmxvZy5wb3J0LFwibG9nLnBvcnRcIiksZD1lLmxvZy5wb3J0KSxMQyhcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoYyxcIjpcIikuY29uY2F0KGQpKTtsZXQgbD1bXTtlLmNkcyYmZS5jZHMuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkoZS5jZHMuaG9zdG5hbWUpJiZlLmNkcy5ob3N0bmFtZS5sZW5ndGg/KEhnKGUuY2RzLmhvc3RuYW1lLFwiY2RzLmhvc3RuYW1lXCIpLGw9ZS5jZHMuaG9zdG5hbWUpOmw9cztsZXQgaD00NDM7ZS5jZHMmJmUuY2RzLnBvcnQmJih0KGUuY2RzLnBvcnQsXCJjZHMucG9ydFwiKSxoPWUuY2RzLnBvcnQpLExDKFwiQ0RTX0FQXCIsbC5tYXAoKGU9PlwiXCIuY29uY2F0KGUsXCI6XCIpLmNvbmNhdChoKSkpKSxlLmNkcz9MQyhcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiLCEwKTpMQyhcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiLCExKSxLQy5pbmZvKFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCB2MiBzdWNjZXNzXCIpfXNldExvY2FsQWNjZXNzUG9pbnRzKGUsdCl7aWYoSGcoZSxcInNlcnZlckxpc3RcIiksV2codCxcImRvbWFpblwiKSx0aGlzLl9wcm94eVNlcnZlcnx8XCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCBmYWlsZWQsIFlvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBjbG91ZCBwcm94eVwiKTtjb25zdCBpPS9eKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pJC87ZT1lLm1hcCgoZT0+aS50ZXN0KGUpP1wiXCIuY29uY2F0KGUucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQodCk6ZSkpLHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQ9ITAsdGhpcy5fc2V0TG9jYWxBUFZlcnNpb249MSxMQyhcIldFQkNTX0RPTUFJTlwiLGUpLExDKFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIsZSksTEMoXCJHQVRFV0FZX0RPTUFJTlNcIixbdF0pLExDKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLGVbMF0pLExDKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixlWzFdfHxlWzBdKSxMQyhcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoZVswXSxcIjo2NDQ0XCIpKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGxvY2FsIGFjY2VzcyBwb2ludCBzdWNjZXNzXCIpKX1hc3luYyBzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKGUpe2lmKEJnKGUsXCJzdHJlYW1UeXBlXCIsWzAsMV0pLHRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGU9ZSx0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXREZWZhdWx0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGUpLHRoaXMuX2pvaW5JbmZvLmRlZmF1bHRWaWRlb1N0cmVhbT10aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlfWNhdGNoKGUpe3Rocm93IEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGRlZmF1bHQgcmVtb3RlIHZpZGVvIHN0cmVhbSB0eXBlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1lbHNlIEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaGF2ZW4ndCBqb2luZWQgeWV0LCBjYWNoZSByZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlIFwiKS5jb25jYXQoZSkpfWFzeW5jIHNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlLHQpe0JnKHQsXCJzdHJlYW1UeXBlXCIsWzAsMV0pO3RyeXthd2FpdCB0aGlzLl9nYXRld2F5LnNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlLHQpLHNldFRpbWVvdXQoKCgpPT57Y29uc3QgdD10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUpKTt0JiZ0LnZpZGVvVHJhY2smJnQudmlkZW9UcmFjay51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfSksMmUzKX1jYXRjaChlKXt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCByZW1vdGUgdmlkZW8gc3RyZWFtIHR5cGUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfUtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgcmVtb3RlIFwiKS5jb25jYXQoZSxcIiB2aWRlbyBzdHJlYW0gdHlwZSB0byBcIikuY29uY2F0KHQpKSx0aGlzLl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXAuc2V0KGUsdCl9YXN5bmMgc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZSx0KXtCZyh0LFwiZmFsbGJhY2tUeXBlXCIsWzAsMSwyXSk7dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZSx0KX1jYXRjaChlKXt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBzdHJlYW0gZmFsbGJhY2sgb3B0aW9uXCIpLGUudG9TdHJpbmcoKSksZX1LQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IHJlbW90ZSBcIikuY29uY2F0KGUsXCIgc3RyZWFtIGZhbGxiYWNrIHR5cGUgdG8gXCIpLmNvbmNhdCh0KSksdGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuc2V0KGUsdCl9c2V0RW5jcnlwdGlvbkNvbmZpZyhlLHQsaSl7IWZ1bmN0aW9uKGUpe0JnKGUsXCJlbmNyeXB0aW9uTW9kZVwiLFtcImFlcy0xMjgteHRzXCIsXCJhZXMtMjU2LXh0c1wiLFwiYWVzLTEyOC1lY2JcIixcInNtNC0xMjgtZWNiXCIsXCJhZXMtMTI4LWdjbVwiLFwiYWVzLTI1Ni1nY21cIixcImFlcy0xMjgtZ2NtMlwiLFwiYWVzLTI1Ni1nY20yXCIsXCJub25lXCJdKX0oZSksV2codCxcInNlY3JldFwiKTtjb25zdCBuPVtcImFlcy0xMjgtZ2NtMlwiLFwiYWVzLTI1Ni1nY20yXCJdO2lmKFByKG4pLmNhbGwobixlKSl7aWYoIWl8fCEoaSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJjMyPT09aS5sZW5ndGgpKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcInNhbHQgbXVzdCBiZSBhbiBVaW50OEFycmF5IGFuZCBleGFjdGx5IGVxdWFsIHRvIDMyIGJ5dGVzXCIpfWVsc2UgaWYoaSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJjdXJyZW50IGVuY3J5cHQgbW9kZSBkb2VzIG5vdCBuZWVkIHNhbHRcIik7bmV3IFJlZ0V4cChcIl4oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipbMC05XSkoPz0uKlshQCMkJV4mKiwuPD4/Lzo7J1xcXCJ8e31cXFxcW1xcXFxdXSkoPz0uezgsfSlcIikudGVzdCh0KXx8S0Mud2FybmluZyhcIlRoZSBzZWNyZXQgaXMgbm90IHN0cm9uZzpcXG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCAxIGxvd2VyY2FzZSBhbHBoYWJldGljYWwgY2hhcmFjdGVyLFxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgdXBwZXJjYXNlIGFscGhhYmV0aWNhbCBjaGFyYWN0ZXIsXFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgMSBudW1lcmljIGNoYXJhY3RlcixcXG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgc3BlY2lhbCBjaGFyYWN0ZXIsXFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGJlIGVpZ2h0IGNoYXJhY3RlcnMgb3IgbG9uZ2VyLlxcbiAgICAgIFwiKSx0aGlzLl9lbmNyeXB0aW9uTW9kZT1lLHRoaXMuX2VuY3J5cHRpb25TZWNyZXQ9dCxpJiYodGhpcy5fZW5jcnlwdGlvblNhbHQ9UFQoaSkpfWFzeW5jIHJlbmV3VG9rZW4oZSl7aWYoV2coZSxcInRva2VuXCIsMSwyMDQ3KSwhdGhpcy5fa2V5fHwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwicmVuZXdUb2tlbiBzaG91bGQgbm90IGJlIGNhbGxlZCBiZWZvcmUgdXNlciBqb2luXCIpO2NvbnN0IHQ9dGhpcy5fa2V5O3RoaXMuX2tleT1lLHRoaXMuX2pvaW5JbmZvJiYodGhpcy5fam9pbkluZm8udG9rZW49ZSk7Y29uc3QgaT1hd2FpdCB0aGlzLl9yZW5ld1Rva2VuTXV0ZXgubG9jaygpO3RyeXtpZihrQyhcIlVTRV9ORVdfVE9LRU5cIikpe0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RhcnQgcmVuZXcgdG9rZW4gd2l0aCB0aWNrZXQgZnJvbSB1bmlsYnNcIikpO2NvbnN0IHQ9YXdhaXQgbVAodGhpcy5fam9pbkluZm8sdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8SlQpO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZ2V0IHRpY2tldCBmcm9tIHVuaWxicyBzdWNjZXNzXCIpKSxhd2FpdCB0aGlzLl9nYXRld2F5LnJlbmV3VG9rZW4oe3Rva2VuOmUsdGlja2V0OnR9KX1lbHNlIEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RhcnQgcmVuZXcgdG9rZW4gd2l0aG91dCB0aWNrZXRcIikpLGF3YWl0IHRoaXMuX2dhdGV3YXkucmVuZXdUb2tlbih7dG9rZW46ZX0pO0tDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVuZXdUb2tlbiBzdWNjZXNzXCIpKX1jYXRjaChlKXt0aHJvdyB0aGlzLl9rZXk9dCx0aGlzLl9qb2luSW5mby50b2tlbj10LEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVuZXdUb2tlbiBmYWlsZWRcIiksZS50b1N0cmluZygpKSxlfWZpbmFsbHl7aSgpfX1lbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvcigpe3RoaXMuX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsP0tDLndhcm5pbmcoXCJ5b3UgaGF2ZSBhbHJlYWR5IGVuYWJsZWQgYXVkaW8gdm9sdW1lIGluZGljYXRvciFcIik6dGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e2NvbnN0IGU9dGhpcy5fcDJwQ2hhbm5lbC5nZXRBdWRpb0xldmVscygpO3RoaXMuc2FmZUVtaXQoZFQuVk9MVU1FX0lORElDQVRPUixlKX0pLGtDKFwiQVVESU9fVk9MVU1FX0lORElDQVRJT05fSU5URVJWQUxcIil8fDJlMyl9Z2V0UlRDU3RhdHMoKXtjb25zdCBlPXRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldFJUQ1N0YXRzKCksdD10aGlzLl9nYXRld2F5LmdldEluQ2hhbm5lbEluZm8oKTtyZXR1cm4gZS5EdXJhdGlvbj1NYXRoLnJvdW5kKHQuZHVyYXRpb24vMWUzKSxlfWFzeW5jIHN0YXJ0TGl2ZVN0cmVhbWluZyhlLHQpe2lmKCF0KXtpZihcImgyNjRcIiE9PXRoaXMuY29kZWMpdGhyb3cgbmV3IHh2KHhnLkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfUkFXX1NUUkVBTSxcInJhdyBzdHJlYW1pbmcgaXMgb25seSBzdXBwb3J0IGgyNjRcIik7aWYoIXRoaXMuX3AycENoYW5uZWwuaGFzTG9jYWxNZWRpYSgpKXRocm93IG5ldyB4dih4Zy5MSVZFX1NUUkVBTUlOR19JTlZBTElEX1JBV19TVFJFQU0sXCJjYW4gbm90IGZpbmQgc3RyZWFtIHRvIHJhdyBzdHJlYW1pbmdcIil9aWYodGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCYmdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5oYXNVcmwoZSl8fHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQmJnRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQuaGFzVXJsKGUpKXRocm93IG5ldyB4dih4Zy5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNUKTtjb25zdCBpPXQ/eXYuVFJBTlNDT0RFOnl2LlJBVztyZXR1cm4gdGhpcy5fY3JlYXRlTGl2ZVN0cmVhbWluZ0NsaWVudChpKS5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsaSl9c2V0TGl2ZVRyYW5zY29kaW5nKGUpe3JldHVybiB0aGlzLl9jcmVhdGVMaXZlU3RyZWFtaW5nQ2xpZW50KHl2LlRSQU5TQ09ERSkuc2V0VHJhbnNjb2RpbmdDb25maWcoZSl9YXN5bmMgc3RvcExpdmVTdHJlYW1pbmcoZSl7Y29uc3QgdD1bdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50XS5maWx0ZXIoKHQ9PnQmJnQuaGFzVXJsKGUpKSk7aWYoIXQubGVuZ3RoKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcImNhbiBub3QgZmluZCBsaXZlIHN0cmVhbWluZyB1cmwgdG8gc3RvcFwiKTthd2FpdCB0Zy5hbGwodC5tYXAoKHQ9PnQmJnQuc3RvcExpdmVTdHJlYW1pbmdUYXNrKGUpKSkpfWFzeW5jIGFkZEluamVjdFN0cmVhbVVybChlLHQpe2lmKCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGFkZEluamVjdFN0cmVhbVVybCwgbm8gam9pbmluZm9cIik7Y29uc3QgaT10aGlzLl9jcmVhdGVMaXZlU3RyZWFtaW5nQ2xpZW50KHl2LklOSkVDVCk7aS5zZXRJbmplY3RTdHJlYW1Db25maWcodCwwKSxhd2FpdCBpLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZSx5di5JTkpFQ1QpfWFzeW5jIHJlbW92ZUluamVjdFN0cmVhbVVybCgpe3ZhciBlO2NvbnN0IHQ9dGhpcy5fY3JlYXRlTGl2ZVN0cmVhbWluZ0NsaWVudCh5di5JTkpFQ1QpLGk9QXJyYXkuZnJvbShrdihlPXQuc3RyZWFtaW5nVGFza3MpLmNhbGwoZSkpLmZpbmQoKGU9PmUubW9kZT09PXl2LklOSkVDVCkpO2lmKCF0aGlzLl9qb2luSW5mb3x8IWkpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIHJlbW92ZSBhZGRJbmplY3RTdHJlYW1VcmwsIG5vIGpvaW5pbmZvIG9yIGluamVjdCB0YXNrXCIpO2F3YWl0IHQuc3RvcExpdmVTdHJlYW1pbmdUYXNrKGkudXJsKX1hc3luYyBzdGFydENoYW5uZWxNZWRpYVJlbGF5KGUpe2JQKGUpO2NvbnN0IHQ9dGhpcy5fY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDbGllbnQoKTthd2FpdCB0LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkoZSl9YXN5bmMgdXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkoZSl7YlAoZSk7Y29uc3QgdD10aGlzLl9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpO2F3YWl0IHQudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkoZSl9YXN5bmMgc3RvcENoYW5uZWxNZWRpYVJlbGF5KCl7Y29uc3QgZT10aGlzLl9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpO2F3YWl0IGUuc3RvcENoYW5uZWxNZWRpYVJlbGF5KCksdGhpcy5fc3RhdHNDb2xsZWN0b3Iub25TdGF0c0NoYW5nZWQmJih0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzQ2hhbmdlZD12b2lkIDApfXNlbmRTdHJlYW1NZXNzYWdlKGUpe2xldCB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBkYXRhIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZigoXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSYmKGU9e3BheWxvYWQ6ZX0pLFwic3RyaW5nXCI9PXR5cGVvZiBlLnBheWxvYWQpe2NvbnN0IHQ9bmV3IFRleHRFbmNvZGVyO2UucGF5bG9hZD10LmVuY29kZShlLnBheWxvYWQpfWlmKG5ldyBCbG9iKFtlLnBheWxvYWRdKS5zaXplPjEwMjQpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfUEFSQU1TLFwic3RyZWFtIG1lc3NhZ2Ugb3V0IG9mIHJhbmdlLlwiKTtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5zaWduYWwucmVxdWVzdChUdi5EQVRBX1NUUkVBTSx7cGF5bG9hZDpQVChlLnBheWxvYWQpLHN5bmNXaXRoQXVkaW86ZS5zeW5jV2l0aEF1ZGlvLHNlbmRUczpEYXRlLm5vdygpLVVNfSwhdCl9c2VuZE1ldGFkYXRhKGUpe2lmKCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHNlbmQgbWV0YWRhdGEsIG5vdCBqb2luZWRcIik7aWYobmV3IEJsb2IoW2VdKS5zaXplPjEwMjQpdGhyb3cgbmV3IHh2KHhnLk1FVEFEQVRBX09VVF9PRl9SQU5HRSk7cmV0dXJuIHRoaXMuX2dhdGV3YXkuc2lnbmFsLnJlcXVlc3QoVHYuU0VORF9NRVRBREFUQSx7c2Vzc2lvbl9pZDp0aGlzLl9qb2luSW5mby5zaWQsbWV0YWRhdGE6UFQoZSl9KX1hc3luYyBzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZShlKXtpZihBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLGUuZm9yRWFjaChKQyksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBjdXN0b20gcmVwb3J0LCBub3Qgam9pbmVkXCIpO2F3YWl0IHJ2LnNlbmRDdXN0b21SZXBvcnRNZXNzYWdlKHRoaXMuX2pvaW5JbmZvLnNpZCxlKX1nZXRMb2NhbEF1ZGlvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxBdWRpb1RyYWNrU3RhdHMoKX1nZXRSZW1vdGVBdWRpb1N0YXRzKCl7cmV0dXJuIHRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldFJlbW90ZUF1ZGlvVHJhY2tTdGF0cygpfWdldExvY2FsVmlkZW9TdGF0cygpe3JldHVybiB0aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpfWdldFJlbW90ZVZpZGVvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlVmlkZW9UcmFja1N0YXRzKCl9Z2V0UmVtb3RlTmV0d29ya1F1YWxpdHkoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlTmV0d29ya1F1YWxpdHlTdGF0cygpfWFzeW5jIHBpY2tTVkNMYXllcihlLHQpe0JnKHQuc3BhdGlhbExheWVyLFwic3BhdGlhbExheWVyXCIsWzAsMSwyLDNdKSxCZyh0LnRlbXBvcmFsTGF5ZXIsXCJ0ZW1wb3JhbExheWVyXCIsWzAsMSwyLDNdKTt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5waWNrU1ZDTGF5ZXIoZSx0KX1jYXRjaChlKXt0aHJvdyBLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHBpY2sgU1ZDIGxheWVyIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLGV9fXNldFJUTTJGbGFnKGUpe2lmKEJnKGUsXCJmbGFnXCIsWzAsMV0pLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzZXRSdG0yRmxhZywgbm90IGpvaW5lZFwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzZXRSdG0yRmxhZyBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO3JldHVybiB0aGlzLl9nYXRld2F5LnNldFJUTTJGbGFnKGUpfV9yZXNldCgpe2lmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzZXQgY2xpZW50XCIpKSx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS5jYW5jZWwoKSx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZT1FQy5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLl9zdHJlYW1GYWxsYmFja1R5cGVDYWNoZU1hcD1uZXcgTWFwLHRoaXMuX3JlbW90ZVN0cmVhbVR5cGVDYWNoZU1hcD1uZXcgTWFwLHRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuc3RvcEdldENvbmZpZ0Rpc3RyaWJ1dGUoKSx0aGlzLl9qb2luSW5mbz12b2lkIDAsdGhpcy5fcHJveHlTZXJ2ZXI9dm9pZCAwLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGU9dm9pZCAwLHRoaXMuX3Nlc3Npb25JZD1udWxsLHRoaXMuc3RvcmUuc2Vzc2lvbklkPW51bGwsdGhpcy5fc3RhdHNDb2xsZWN0b3IucmVzZXQoKSx0aGlzLl9rZXk9dm9pZCAwLHRoaXMuX2FwcElkPXZvaWQgMCx0aGlzLl91aWQ9dm9pZCAwLHRoaXMuc3RvcmUudWlkPXZvaWQgMCx0aGlzLl9jaGFubmVsTmFtZT12b2lkIDAsdGhpcy5fZW5jcnlwdGlvbk1vZGU9XCJub25lXCIsdGhpcy5fZW5jcnlwdGlvblNlY3JldD1udWxsLHRoaXMuX2VuY3J5cHRpb25TYWx0PW51bGwsdGhpcy5fcGVuZGluZ1B1Ymxpc2hlZFVzZXJzPVtdLHRoaXMuX3VzZXJzLmZvckVhY2goKGU9PntlLl9hdWRpb1RyYWNrJiZlLl9hdWRpb1RyYWNrLl9kZXN0cm95KCksZS5fdmlkZW9UcmFjayYmZS5fdmlkZW9UcmFjay5fZGVzdHJveSgpLGUuX2RhdGFDaGFubmVscyYmKGUuX2RhdGFDaGFubmVscy5mb3JFYWNoKChlPT5lLl9jbG9zZSgpKSksZS5fZGF0YUNoYW5uZWxzLmxlbmd0aD0wKX0pKSx0aGlzLl91c2Vycz1bXSx0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsKSx0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbD12b2lkIDApLFwiZmFsbGJhY2tcIj09PXRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlJiYodGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGU9XCJkaXNhYmxlZFwiLHRoaXMuc3RvcmUuY2xvdWRQcm94eVNlcnZlck1vZGU9XCJkaXNhYmxlZFwiKSx0aGlzLl9wMnBDaGFubmVsLnJlc2V0KCksdGhpcy5fcHVibGlzaE11dGV4PW5ldyBZVChcImNsaWVudC1wdWJsaXNoXCIpLHRoaXMuX3N1YnNjcmliZU11dGV4PW5ldyBZVChcImNsaWVudC1zdWJzY3JpYmVcIiksdGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwpLHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWw9dm9pZCAwKSx0aGlzLl9pbmplY3RTdHJlYW1pbmdDbGllbnQmJih0aGlzLl9pbmplY3RTdHJlYW1pbmdDbGllbnQudGVybWluYXRlKCksdGhpcy5faW5qZWN0U3RyZWFtaW5nQ2xpZW50LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX2luamVjdFN0cmVhbWluZ0NsaWVudD12b2lkIDApLHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQmJih0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50LnRlcm1pbmF0ZSgpLHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudD12b2lkIDApLHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQmJih0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50LnRlcm1pbmF0ZSgpLHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudD12b2lkIDApLHRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50JiYodGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQuZGlzcG9zZSgpLHRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50PXZvaWQgMCksdGhpcy5faW5zcGVjdCl0cnl7dGhpcy5faW5zcGVjdC5jbG9zZSgpLHRoaXMuX2luc3BlY3Q9dm9pZCAwfWNhdGNoKGUpe31pZih0aGlzLl9tb2RlcmF0aW9uKXRyeXt0aGlzLnNldEltYWdlTW9kZXJhdGlvbighMSl9Y2F0Y2goZSl7fX1fc3RhcnRTZXNzaW9uKGUsdCl7Y29uc3QgaT1lfHxWVCgpO2U/S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBuZXcgU2Vzc2lvbiBcIikuY29uY2F0KGkpKTpLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbmV3U2Vzc2lvbiBcIikuY29uY2F0KHRoaXMuX3Nlc3Npb25JZCxcIiA9PiBcIikuY29uY2F0KGkpKSx0aGlzLl9zZXNzaW9uSWQ9aSx0aGlzLnN0b3JlLnNlc3Npb25JZD1pLHQ/cnYuc2Vzc2lvbkluaXQodGhpcy5fc2Vzc2lvbklkLHtsdHM6KG5ldyBEYXRlKS5nZXRUaW1lKCksY25hbWU6dC5jaGFubmVsLGFwcGlkOnQuYXBwSWQsbW9kZTp0aGlzLm1vZGV9KTp0aGlzLl9qb2luSW5mbz9ydi5zZXNzaW9uSW5pdCh0aGlzLl9zZXNzaW9uSWQse2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxjbmFtZTp0aGlzLl9qb2luSW5mby5jbmFtZSxhcHBpZDp0aGlzLl9qb2luSW5mby5hcHBJZCxtb2RlOnRoaXMubW9kZX0pOnRoaXMuX2dhdGV3YXkuam9pbkluZm8mJnJ2LnNlc3Npb25Jbml0KHRoaXMuX3Nlc3Npb25JZCx7bHRzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNuYW1lOnRoaXMuX2dhdGV3YXkuam9pbkluZm8uY25hbWUsYXBwaWQ6dGhpcy5fZ2F0ZXdheS5qb2luSW5mby5hcHBJZCxtb2RlOnRoaXMubW9kZX0pLHRoaXMuX2pvaW5JbmZvJiYodGhpcy5fam9pbkluZm8uc2lkPWkpLHRoaXMuX2dhdGV3YXkuam9pbkluZm8mJih0aGlzLl9nYXRld2F5LmpvaW5JbmZvLnNpZD1pKX1hc3luYyBfcHVibGlzaEhpZ2hTdHJlYW0oZSl7aWYoIXRoaXMuX2pvaW5JbmZvfHx2b2lkIDA9PT10aGlzLl91aWQpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgcHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHN0cmVhbSBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2lmKFwiYXV0b1wiPT09dGhpcy5fdHVyblNlcnZlci5tb2RlJiZrQyhcIkZPUkNFX1RVUk5cIikmJiFrQyhcIlRVUk5fRU5BQkxFX1RDUFwiKSYmIWtDKFwiVFVSTl9FTkFCTEVfVURQXCIpKXRocm93IG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiZm9yY2UgVFVSTiBXaXRoIE5vIFRVUk4gQ29uZmlndXJhdGlvblwiKTtLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHB1Ymxpc2ggaGlnaCBzdHJlYW1cIikpO3RyeXtpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUE0pe2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wdWJsaXNoKGUsdGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZCx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIpO2lmKHQpdHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2Uod0kuUFVCTElTSCx0KX1jYXRjaCh0KXt0aHJvdyB0aGlzLl9wMnBDaGFubmVsLnVucHVibGlzaChlKSx0fX1lbHNle2NvbnN0IGk9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wdWJsaXNoKGUsdGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZCx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIpLG49KGF3YWl0IGkubmV4dCgpKS52YWx1ZTtpZihuKXt2YXIgdDtsZXQgZTt0cnl7ZT1hd2FpdCB0aGlzLl9nYXRld2F5LnB1Ymxpc2godGhpcy5fdWlkLG4sITApfWNhdGNoKGUpe2lmKGUuY29kZSE9PXhnLkRJU0NPTk5FQ1RfUDJQKXRocm93IGkudGhyb3coZSksZX1hd2FpdCBpLm5leHQoKG51bGw9PT0odD1lKXx8dm9pZCAwPT09dD92b2lkIDA6dC5vcnRjKXx8W10pfXRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCEwLG51bGwpO2Zvcihjb25zdCB0IG9mIGUpdCBpbnN0YW5jZW9mIFNiJiZ0Ll9lbmNvZGVyQ29uZmlnJiZ0aGlzLl9nYXRld2F5LnNldFZpZGVvUHJvZmlsZSh0Ll9lbmNvZGVyQ29uZmlnKSwhdC5tdXRlZCYmdC5lbmFibGVkfHxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLm11dGVMb2NhbFRyYWNrKHQpfX1jYXRjaCh0KXtpZih0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMSxudWxsPT10P3ZvaWQgMDp0LmNvZGUsZSksKG51bGw9PXQ/dm9pZCAwOnQuY29kZSk9PT14Zy5XU19BQk9SVClyZXR1cm47dGhyb3cgdH19YXN5bmMgX3B1Ymxpc2hMb3dTdHJlYW0oKXtpZighdGhpcy5fam9pbkluZm98fHZvaWQgMD09PXRoaXMuX3VpZCl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBwdWJsaXNoIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGxvdyBzdHJlYW1cIikpO2NvbnN0IGU9dGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5nZXRMb3dTdHJlYW1Db25maWdEaXN0cmlidXRlKCk7ZSYmZS5iaXRyYXRlJiYodGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyfHwodGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyPXt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxmcmFtZXJhdGU6MTUsYml0cmF0ZTo1MH0pLHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlciYmdGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyLmJpdHJhdGUmJmUuYml0cmF0ZTx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIuYml0cmF0ZSYmKHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlci5iaXRyYXRlPWUuYml0cmF0ZSkpO3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuX3AycENoYW5uZWwucHVibGlzaExvd1N0cmVhbSh0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIpLGk9KGF3YWl0IGUubmV4dCgpKS52YWx1ZTtpZihpKXt2YXIgdDtsZXQgbjt0cnl7bj1hd2FpdCB0aGlzLl9nYXRld2F5LnB1Ymxpc2godGhpcy5fdWlkLGksITApfWNhdGNoKHQpe2lmKHQuY29kZSE9PXhnLkRJU0NPTk5FQ1RfUDJQKXRocm93IGUudGhyb3codCksdH1lLm5leHQoKG51bGw9PT0odD1uKXx8dm9pZCAwPT09dD92b2lkIDA6dC5vcnRjKXx8W10pLHRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCEwLG51bGwsdm9pZCAwLCEwKX19Y2F0Y2goZSl7aWYodGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRQdWJsaXNoRXZlbnQoITEsbnVsbD09ZT92b2lkIDA6ZS5jb2RlLHZvaWQgMCwhMCksKG51bGw9PWU/dm9pZCAwOmUuY29kZSk9PT14Zy5XU19BQk9SVClyZXR1cm47dGhyb3cgZX19X2NyZWF0ZUxpdmVTdHJlYW1pbmdDbGllbnQoZSl7aWYoIXRoaXMuX2pvaW5JbmZvfHwhdGhpcy5fYXBwSWQpe3JldHVybiBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGNyZWF0ZSBsaXZlIHN0cmVhbWluZyBjbGllbnQsIHBsZWFzZSBqb2luIGNoYW5uZWwgZmlyc3RcIikudGhyb3coKX1jb25zdCB0PSgpPT5uZXcgeVAodGhpcy5fam9pbkluZm8sdGhpcy5fY29uZmlnLndlYnNvY2tldFJldHJ5Q29uZmlnfHxKVCx0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnfHxKVCksaT1lPT57ZS5vbkxpdmVTdHJlYW1FcnJvcj0oZSx0KT0+e3J2LnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWQse25hbWU6c1QuT05fTElWRV9TVFJFQU1fRVJST1Isb3B0aW9uczpbZSx0XSx0YWc6b1QuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5zYWZlRW1pdChkVC5MSVZFX1NUUkVBTUlOR19FUlJPUixlLHQpfSxlLm9uTGl2ZVN0cmVhbVdhcm5pbmc9KGUsdCk9Pntydi5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkLHtuYW1lOnNULk9OX0xJVkVfU1RSRUFNX1dBUk5JTkcsb3B0aW9uczpbZSx0XSx0YWc6b1QuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5zYWZlRW1pdChkVC5MSVZFX1NUUkVBTUlOR19XQVJOSU5HLGUsdCl9LGUub24oWXYuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNULCgoZSx0LGkpPT57aWYoIXRoaXMuX2pvaW5JbmZvKXJldHVybiBpKG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgZmluZCBqb2luIGluZm8gdG8gZ2V0IHdvcmtlciBtYW5hZ2VyXCIpKTtfUChlLHRoaXMuX2pvaW5JbmZvLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLEpUKS50aGVuKHQpLmNhdGNoKGkpfSkpfTtzd2l0Y2goZSl7Y2FzZSB5di5SQVc6cmV0dXJuIHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnR8fCh0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50PXQoKSxpKHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQpKSx0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50O2Nhc2UgeXYuVFJBTlNDT0RFOnJldHVybiB0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50fHwodGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudD10KCksaSh0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50KSksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudDtjYXNlIHl2LklOSkVDVDpyZXR1cm4gdGhpcy5faW5qZWN0U3RyZWFtaW5nQ2xpZW50fHwodGhpcy5faW5qZWN0U3RyZWFtaW5nQ2xpZW50PXQoKSx0aGlzLl9pbmplY3RTdHJlYW1pbmdDbGllbnQub24oWXYuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNULCgoZSx0LGkpPT57aWYoIXRoaXMuX2pvaW5JbmZvKXJldHVybiBpKG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgZmluZCBqb2luIGluZm8gdG8gZ2V0IHdvcmtlciBtYW5hZ2VyXCIpKTtfUChlLHRoaXMuX2pvaW5JbmZvLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLEpUKS50aGVuKHQpLmNhdGNoKGkpfSkpLHRoaXMuX2luamVjdFN0cmVhbWluZ0NsaWVudC5vbkluamVjdFN0YXR1c0NoYW5nZT0oZSx0LGkpPT57dGhpcy5zYWZlRW1pdChkVC5JTkpFQ1RfU1RSRUFNX1NUQVRVUyxlLHQsaSl9KSx0aGlzLl9pbmplY3RTdHJlYW1pbmdDbGllbnR9fV9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpe2lmKCF0aGlzLl9qb2luSW5mbyl7cmV0dXJuIG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgY3JlYXRlIGNoYW5uZWwgbWVkaWEgcmVsYXkgY2xpZW50LCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpLnRocm93KCl9aWYoIXRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KXtjb25zdHtzZW5kUmVzb2x1dGlvbldpZHRoOmUsc2VuZFJlc29sdXRpb25IZWlnaHQ6dH09dGhpcy5nZXRMb2NhbFZpZGVvU3RhdHMoKSxpPXt3aWR0aDplLGhlaWdodDp0fTt0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudD1uZXcgT1AodGhpcy5fam9pbkluZm8sdGhpcy5fY2xpZW50SWQsdGhpcy5fY29uZmlnLndlYnNvY2tldFJldHJ5Q29uZmlnfHxKVCx0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnfHxKVCxpKSx0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudC5vbihcInN0YXRlXCIsKGU9PntlPT09UXYuUkVMQVlfU1RBVEVfRkFJTFVSRSYmdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQmJnRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50LmRpc3Bvc2UoKSx0aGlzLnNhZmVFbWl0KGRULkNIQU5ORUxfTUVESUFfUkVMQVlfU1RBVEUsZSl9KSksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQub24oXCJldmVudFwiLChlPT57dGhpcy5zYWZlRW1pdChkVC5DSEFOTkVMX01FRElBX1JFTEFZX0VWRU5ULGUpfSkpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uU3RhdHNDaGFuZ2VkPShlLHQpPT57dmFyIGk7XCJyZXNvbHV0aW9uXCI9PT1lJiYobnVsbD09PShpPXRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KXx8dm9pZCAwPT09aXx8aS5zZXRWaWRlb1Byb2ZpbGUodCkpfX1yZXR1cm4gdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnR9X2hhbmRsZVVwZGF0ZURhdGFDaGFubmVsKGUsdCl7Y29uc3R7YWRkZWQ6aSxkZWxldGVkOm59PWUscj1bXTtBcnJheS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiZpLmZvckVhY2goKGU9Pntjb25zdHt1aWQ6aSxzdHJlYW1faWQ6bixvcmRlcmVkOnMsbWF4X3JldHJhbnNfdGltZXM6byxtZXRhZGF0YTphfT1lLGM9dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS5fdWludGlkPT09aSkpO2lmKCFjKXJldHVybiB2b2lkIEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9hZGRfZGF0YV9jaGFubmVsKVwiKSk7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkYXRhX2NoYW5uZWwgYWRkZWQgd2l0aCB1aWQgXCIpLmNvbmNhdChpKSksUHIocikuY2FsbChyLGMpfHxyLnB1c2goYyksYy5fdWludGlkfHwoYy5fdWludGlkPWkpO2lmKCEoLTEhPT1jLl9kYXRhQ2hhbm5lbHMuZmluZEluZGV4KCh0PT50LmlkPT09ZS5zdHJlYW1faWQpKSkpe2NvbnN0IGU9e2lkOm4sb3JkZXJlZDohIXMsbWF4UmV0cmFuc21pdHM6byxtZXRhZGF0YTphfSxpPW5ldyByRChlKTtjLl9kYXRhQ2hhbm5lbHMucHVzaChpKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChjLnVpZCxcIiBwdWJsaXNoZWQgZGF0YWNoYW5uZWxcIikpLHR8fHRoaXMuc2FmZUVtaXQoZFQuVVNFUl9QVUJMSVNIRUQsYyxcImRhdGFjaGFubmVsXCIsZSl9dGhpcy5fcDJwQ2hhbm5lbC5oYXNQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwoYyxlLnN0cmVhbV9pZCkmJihLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIGRhdGFjaGFubmVsIGZvciB1c2VyIFwiKS5jb25jYXQoYy51aWQsXCIgYWZ0ZXIgcmVjb25uZWN0LlwiKSksdGhpcy5fc3Vic2NyaWJlRGF0YUNoYW5uZWwoYyxlLnN0cmVhbV9pZCkuY2F0Y2goKGU9PntLQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIGRhdGFjaGFubmVsIGVycm9yXCIpLGUudG9TdHJpbmcoKSl9KSkpfSkpLHQmJih0aGlzLnNhZmVFbWl0KGRULlBVQkxJU0hFRF9VU0VSX0xJU1QsdGhpcy5fcGVuZGluZ1B1Ymxpc2hlZFVzZXJzKSx0aGlzLl9wZW5kaW5nUHVibGlzaGVkVXNlcnM9W10pLEFycmF5LmlzQXJyYXkobikmJm4ubGVuZ3RoPjAmJm4uZm9yRWFjaCgoZT0+e2NvbnN0e3VpZDp0LHN0cmVhbV9pZDppfT1lLG49dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS5fdWludGlkPT09dCkpO2lmKCFuKXJldHVybiB2b2lkIEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9kZWxldGVfZGF0YV9jaGFubmVsKVwiKSk7Y29uc3Qgcj1uLl9kYXRhQ2hhbm5lbHMuZmluZCgodD0+dC5pZD09PWUuc3RyZWFtX2lkKSk7ciYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGF0YV9zdHJlYW0gZGVsZXRlIHdpdGggdWlkIFwiKS5jb25jYXQodCkpLHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChuLFtyXSkudGhlbigoZT0+e2lmKGUpcmV0dXJuIG4uX2RhdGFDaGFubmVscz1uLl9kYXRhQ2hhbm5lbHMuZmlsdGVyKChlPT5lIT09cikpLHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLG4udWlkKX0pKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LFwiIHVucHVibGlzaGVkIGRhdGFjaGFubmVsICxpZDpcIikuY29uY2F0KHIuaWQpKSx0aGlzLnNhZmVFbWl0KGRULlVTRVJfVU5QVUJMSVNIRUQsbixcImRhdGFjaGFubmVsXCIsci5fY29uZmlnKSl9KSl9X2hhbmRsZVJlbW92ZURhdGFDaGFubmVscyhlKXtjb25zdCB0PXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZS51aWQpKTtpZih0KXtpZih2b2lkIDAhPT10Ll9kYXRhQ2hhbm5lbHMmJnQuX2RhdGFDaGFubmVscy5sZW5ndGg+MCl7S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkYXRhY2hhbm5lbCByZW1vdmVkIHdpdGggdWlkIFwiKS5jb25jYXQoZS51aWQpKTtjb25zdCBpPSgpPT57S0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIgdW5wdWJsaXNoZWQgZGF0YWNoYW5uZWxcIikpLHQuX2RhdGFDaGFubmVscy5mb3JFYWNoKChlPT57dGhpcy5zYWZlRW1pdChkVC5VU0VSX1VOUFVCTElTSEVELHQsXCJkYXRhY2hhbm5lbFwiLGUuX2NvbmZpZyl9KSl9O3RoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LHQuX2RhdGFDaGFubmVscykudGhlbigoZT0+e2lmKGUpcmV0dXJuIHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQudWlkKX0pKSxpKCl9fWVsc2UgS0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fcmVtb3ZlX2RhdGFjaGFubmVsKVwiKSl9X2hhbmRsZUdhdGV3YXlFdmVudHMoKXt0aGlzLl9nYXRld2F5Lm9uKGVJLkRJU0NPTk5FQ1RfUDJQLChhc3luYygpPT57YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5kaXNjb25uZWN0Rm9yUmVjb25uZWN0KCl9KSksdGhpcy5fZ2F0ZXdheS5vbihlSS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwoKGUsdCxpKT0+e3ZhciBuO2lmKGk9PT1jVC5GQUxMQkFDSylyZXR1cm47Y29uc3Qgcj0oKT0+e3RoaXMuc2FmZUVtaXQoZFQuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSx0LGkpfTtpZihydi5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkfHwobnVsbD09PShuPXRoaXMuX2dhdGV3YXkuam9pbkluZm8pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNpZCl8fG51bGwse25hbWU6c1QuQ09OTkVDVElPTl9TVEFURV9DSEFOR0Usb3B0aW9uczpbZSx0LGldLHRhZzpvVC5UUkFDRVJ9KS5vblN1Y2Nlc3MoSlNPTi5zdHJpbmdpZnkoe2N1cjplLHByZXY6dCxyZWFzb246aX0pKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2U6IFwiKS5jb25jYXQodCxcIiAtPiBcIikuY29uY2F0KGUpKSxcIkRJU0NPTk5FQ1RFRFwiPT09ZSlyZXR1cm4gdGhpcy5fcmVzZXQoKSx2b2lkIHIoKTtpZihcIlJFQ09OTkVDVElOR1wiPT09ZSl0aGlzLl91c2Vycy5mb3JFYWNoKChlPT57ZS5fdHJ1c3RfaW5fcm9vbV89ITEsZS5fdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV89ITEsZS5fdHJ1c3RfdmlkZW9fZW5hYmxlZF9zdGF0ZV89ITEsZS5fdHJ1c3RfYXVkaW9fbXV0ZV9zdGF0ZV89ITEsZS5fdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV89ITEsZS5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMSxlLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSExLGUuX2F1ZGlvU1NSQz12b2lkIDAsZS5fdmlkZW9TU1JDPXZvaWQgMCxlLl92aWRlb09ydGM9dm9pZCAwLGUuX2F1ZGlvT3J0Yz12b2lkIDAsZS5fY25hbWU9dm9pZCAwLGUuX3J0eFNzcmNJZD12b2lkIDB9KSksdGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0JiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3VzZXJPZmZsaW5lVGltZW91dCksdGhpcy5fc3RyZWFtUmVtb3ZlZFRpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fc3RyZWFtUmVtb3ZlZFRpbWVvdXQpLHRoaXMuX3VzZXJPZmZsaW5lVGltZW91dD12b2lkIDAsdGhpcy5fc3RyZWFtUmVtb3ZlZFRpbWVvdXQ9dm9pZCAwO2Vsc2UgaWYoXCJDT05ORUNURURcIj09PWUpe3ZhciBzO3RoaXMuX3N0cmVhbUZhbGxiYWNrVHlwZUNhY2hlTWFwLmZvckVhY2goKChlLHQpPT57dGhpcy5fZ2F0ZXdheS5zZXRTdHJlYW1GYWxsYmFja09wdGlvbih0LGUpLmNhdGNoKChlPT57S0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gc2V0IHN0cmVhbSBmYWxsYmFjayBvcHRpb24gZmFpbGVkXCIpLGUpfSkpfSkpLHRoaXMuX3JlbW90ZVN0cmVhbVR5cGVDYWNoZU1hcC5mb3JFYWNoKCgoZSx0KT0+e3RoaXMuX2dhdGV3YXkuc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKHQsZSkuY2F0Y2goKGU9PntLQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBzZXQgcmVtb3RlIHN0cmVhbSB0eXBlIGZhaWxlZFwiKSxlKX0pKX0pKSx2b2lkIDAhPT10aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlJiZ2b2lkIDA9PT0obnVsbD09PShzPXRoaXMuX2pvaW5JbmZvKXx8dm9pZCAwPT09cz92b2lkIDA6cy5kZWZhdWx0VmlkZW9TdHJlYW0pJiZ0aGlzLnNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUodGhpcy5fcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSkudGhlbigoKCk9PntLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUgYWZ0ZXIgZ2F0ZXdheSBjb25uZWN0ZWRcIikpfSkpLmNhdGNoKChlPT57S0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlIGFmdGVyIGdhdGV3YXkgZmFpbGVkLCBcIikuY29uY2F0KGUpKX0pKSx0aGlzLnN0b3JlLnVzZVAyUHx8KHRoaXMuX3AycENoYW5uZWwucmVwdWJsaXNoKCksdGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSlyZXR1cm47dGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0PXZvaWQgMDt0aGlzLl91c2Vycy5maWx0ZXIoKGU9PiFlLl90cnVzdF9pbl9yb29tXykpLmZvckVhY2goKGU9PntLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb2ZmbGluZSB0aW1lb3V0LCBlbWl0IHVzZXIgb2ZmbGluZSBcIikuY29uY2F0KGUudWlkKSksdGhpcy5faGFuZGxlVXNlck9mZmxpbmUoe3VpZDplLnVpZH0pfSkpfSksM2UzKSx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKCk9PntcIkNPTk5FQ1RFRFwiPT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJih0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dD12b2lkIDAsdGhpcy5fdXNlcnMuZm9yRWFjaCgoZT0+e2UuX3RydXN0X2F1ZGlvX211dGVfc3RhdGVffHwoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIGF1ZGlvIHVubXV0ZSBldmVudCBcIikuY29uY2F0KGUudWlkKSksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLnVpZCxoSS5BVURJTywhMSkpLGUuX3RydXN0X3ZpZGVvX211dGVfc3RhdGVffHwoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIHZpZGVvIHVubXV0ZSBldmVudCBcIikuY29uY2F0KGUudWlkKSksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLnVpZCxoSS5WSURFTywhMSkpLGUuX3RydXN0X2F1ZGlvX2VuYWJsZWRfc3RhdGVffHwoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIGVuYWJsZSBsb2NhbCBhdWRpbyBcIikuY29uY2F0KGUudWlkKSksdGhpcy5faGFuZGxlU2V0U3RyZWFtTG9jYWxFbmFibGUoXCJhdWRpb1wiLGUudWlkLCEwKSksZS5fdHJ1c3RfdmlkZW9fZW5hYmxlZF9zdGF0ZV98fChLQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggZW5hYmxlIGxvY2FsIHZpZGVvIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcInZpZGVvXCIsZS51aWQsITApKSxlLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVffHwoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIHJlc2V0IHZpZGVvIHN0cmVhbSBhZGRlZCBcIikuY29uY2F0KGUudWlkKSksdGhpcy5faGFuZGxlUmVzZXRBZGRTdHJlYW0oZSxcInZpZGVvXCIpKSxlLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVffHwoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIHJlc2V0IGF1ZGlvIHN0cmVhbSBhZGRlZCBcIikuY29uY2F0KGUudWlkKSksdGhpcy5faGFuZGxlUmVzZXRBZGRTdHJlYW0oZSxcImF1ZGlvXCIpKSxlLl92aWRlb19hZGRlZF98fGUuX2F1ZGlvX2FkZGVkX3x8KEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBkaXNwYXRjaCBzdHJlYW0gcmVtb3ZlIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVSZW1vdmVTdHJlYW0oe3VpZDplLnVpZCx1aW50X2lkOmUuX3VpbnRpZH0pKX0pKSl9KSwxZTMpKX1yKCl9KSksdGhpcy5fZ2F0ZXdheS5vbihlSS5SRVFVRVNUX05FV19HQVRFV0FZX0xJU1QsKChlLHQpPT57aWYoIXRoaXMuX2pvaW5JbmZvKXJldHVybiB0KG5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCByZWNvdmVyLCBubyBqb2luIGluZm9cIikpO2RQKHRoaXMuX2pvaW5JbmZvLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fEpULHRoaXMuc3RvcmUpLnRoZW4oKHQ9Pnt0aGlzLl9qb2luSW5mbyYmKHRoaXMuX2pvaW5JbmZvLmFwUmVzcG9uc2U9dC5nYXRld2F5SW5mby5yZXMsdGhpcy5fam9pbkluZm8uZ2F0ZXdheUFkZHJzPXQuZ2F0ZXdheUluZm8uZ2F0ZXdheUFkZHJzLHRoaXMuX2pvaW5JbmZvLnVuaV9sYnNfaXA9dC5nYXRld2F5SW5mby51bmlfbGJzX2lwKTtjb25zdCBpPVtdO3QuZ2F0ZXdheUluZm8uZ2F0ZXdheUFkZHJzLmZvckVhY2goKGU9PntsZXR7YWRkcmVzczp0fT1lO2NvbnN0W24scl09dC5zcGxpdChcIjpcIik7dGhpcy5fam9pbkluZm8mJnRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyP2kucHVzaCh7cHJveHk6dGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXIsaG9zdDpuLHBvcnQ6cn0pOmkucHVzaCh7aG9zdDpuLHBvcnQ6cn0pfSkpLGUoaSl9KSkuY2F0Y2godCl9KSksdGhpcy5fZ2F0ZXdheS5vbihlSS5ORVRXT1JLX1FVQUxJVFksKGU9PntcIm5vcm1hbFwiPT09dGhpcy5fbmV0d29ya1F1YWxpdHlTZW5zaXRpdml0eSYmdGhpcy5zYWZlRW1pdChkVC5ORVRXT1JLX1FVQUxJVFksZSl9KSksdGhpcy5fZ2F0ZXdheS5vbihlSS5TVFJFQU1fVFlQRV9DSEFOR0UsKChlLHQpPT57dGhpcy5zYWZlRW1pdChkVC5TVFJFQU1fVFlQRV9DSEFOR0VELGUsdCk7cnYucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpzVC5TVFJFQU1fVFlQRV9DSEFOR0Usb3B0aW9uczpbZSx0XSx0YWc6b1QuVFJBQ0VSfSkub25TdWNjZXNzKEpTT04uc3RyaW5naWZ5KHt1aWQ6ZSxzdHJlYW1UeXBlOnR9KSl9KSksdGhpcy5fZ2F0ZXdheS5vbihlSS5JU19QMlBfRElTQ09OTkVDVEVELChlPT57dGhpcy5fcDJwQ2hhbm5lbC5pc1AyUERpc2Nvbm5lY3RlZCgpP2UoITApOnRoaXMuX3AycENoYW5uZWwuaGFzTG9jYWxNZWRpYSgpfHx0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhKCk/ZSghMSk6ZSghMCl9KSksdGhpcy5fZ2F0ZXdheS5vbihlSS5ORUVEX1JFTkVXX1NFU1NJT04sKCgpPT57dGhpcy5fc3RhcnRTZXNzaW9uKCl9KSksdGhpcy5fZ2F0ZXdheS5vbihlSS5SRVFVRVNUX1AyUF9DT05ORUNUSU9OX1BBUkFNUywoYXN5bmMoZSx0LGkpPT57dHJ5e3QoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24oZSkpfWNhdGNoKGUpe2koZSl9fSkpLHRoaXMuX2dhdGV3YXkub24oZUkuSk9JTl9SRVNQT05TRSwoKGUsdCk9PntpZih0aGlzLnN0b3JlLnVzZVAyUClyZXR1cm47Y29uc3R7ZHRsc1BhcmFtZXRlcnM6aSxpY2VQYXJhbWV0ZXJzOm4sY2FuZGlkYXRlczpyLHJ0cENhcGFiaWxpdGllczpzLHNldHVwOm8sY25hbWU6YX09UVAoZS5vcnRjLHQpO3RoaXMuX3AycENoYW5uZWwuY29ubmVjdChuLGkscixzLG8sYSl9KSksdGhpcy5fZ2F0ZXdheS5vbihlSS5SRVFVRVNUX0RDX0NPTk5FQ1RJT05fUEFSQU1TLChlPT57ZSh0aGlzLl9wMnBDaGFubmVsLmdldEVzdGFibGlzaFBhcmFtcygpKX0pKSx0aGlzLl9nYXRld2F5Lm9uKGVJLlJFU0VUX1NJR05BTCwoZT0+e3RoaXMuX3AycENoYW5uZWwucmVzZXRDb25uZWN0aW9uKGUpLHRoaXMuX2hhbmRsZUdhdGV3YXlTaWduYWxFdmVudHMoKX0pKSx0aGlzLl9nYXRld2F5Lm9uKGVJLkRBVEFDSEFOTkVMX0ZBSUxCQUNLLCgoKT0+e3RoaXMuX2pvaW5HYXRld2F5KCl9KSksdGhpcy5fZ2F0ZXdheS5vbihlSS5EQVRBQ0hBTk5FTF9QUkVDT05ORUNULChhc3luYyhlLHQsaSxuKT0+e3ZhciByLHMsbyxhLGMsZDthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbih7dHVyblNlcnZlcjpudWxsPT09KHI9dGhpcy5fam9pbkluZm8pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnR1cm5TZXJ2ZXJ9LCEwKTtjb25zdCBsPWZ1bmN0aW9uKGUsdCl7bGV0IGk7cmV0dXJuIHQmJnQuaXAmJlwibnVtYmVyXCI9PXR5cGVvZiB0LnBvcnQ/KGk9W3tmb3VuZGF0aW9uOlwidWRwY2FuZGlkYXRlXCIsY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OlwidWRwXCIscHJpb3JpdHk6XCIyMTAzMjY2MzIzXCIsY29ubmVjdGlvbkFkZHJlc3M6dC5pcCxwb3J0OnQucG9ydC50b1N0cmluZygpLHR5cGU6XCJob3N0XCIsZXh0ZW5zaW9uOnt9fV0sS0MuZGVidWcoXCJVc2luZyByZW1vdGUgY2FuZGlkYXRlIGZyb20gQVAgXCIuY29uY2F0KHQuaXAsXCI6XCIpLmNvbmNhdCh0LnBvcnQpKSx0LmlwNiYmKGkucHVzaCh7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpcInVkcFwiLHByaW9yaXR5OlwiMjEwMzI2NjMyM1wiLGNvbm5lY3Rpb25BZGRyZXNzOnQuaXA2LHBvcnQ6dC5wb3J0LnRvU3RyaW5nKCksdHlwZTpcImhvc3RcIixleHRlbnNpb246e319KSxLQy5kZWJ1ZyhcIlVzaW5nIElQVjYgcmVtb3RlIGNhbmRpZGF0ZSBmcm9tIEFQIFwiLmNvbmNhdCh0LmlwNixcIjpcIikuY29uY2F0KHQucG9ydCkpKSk6aT1be2ZvdW5kYXRpb246XCJ1ZHBjYW5kaWRhdGVcIixjb21wb25lbnRJZDpcIjFcIix0cmFuc3BvcnQ6XCJ1ZHBcIixwcmlvcml0eTpcIjIxMDMyNjYzMjNcIixjb25uZWN0aW9uQWRkcmVzczplLmlwLHBvcnQ6ZS5wb3J0LnRvU3RyaW5nKCksdHlwZTpcImhvc3RcIixleHRlbnNpb246e319XSxpfShlLHQpO3JldHVybiB0aGlzLl9wMnBDaGFubmVsLnByZUNvbm5lY3Qoe2ljZVVmcmFnOlwiXCIuY29uY2F0KG51bGw9PT0ocz10aGlzLl9qb2luSW5mbyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuYXBSZXNwb25zZS5jaWQsXCJfXCIpLmNvbmNhdChudWxsPT09KG89dGhpcy5fam9pbkluZm8pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmFwUmVzcG9uc2UuY2VydCksaWNlUHdkOlwiXCIuY29uY2F0KG51bGw9PT0oYT10aGlzLl9qb2luSW5mbyl8fHZvaWQgMD09PWE/dm9pZCAwOmEuYXBSZXNwb25zZS5jaWQsXCJfXCIpLmNvbmNhdChudWxsPT09KGM9dGhpcy5fam9pbkluZm8pfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmFwUmVzcG9uc2UuY2VydCl9LHtmaW5nZXJwcmludHM6W3toYXNoRnVuY3Rpb246XCJzaGEtMjU2XCIsZmluZ2VycHJpbnQ6bnVsbCE9PShkPWtDKFwiRklOR0VSUFJJTlRcIikpJiZ2b2lkIDAhPT1kP2Q6ZS5maW5nZXJwcmludH1dfSxsLHtzZW5kOnthdWRpb0NvZGVjczpbXSx2aWRlb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9FeHRlbnNpb25zOltdfSxyZWN2OnthdWRpb0NvZGVjczpbXSx2aWRlb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9FeHRlbnNpb25zOltdfX0sXCJhY3RpdmVcIixcIm8vaTE0dTlwSnJ4UktBc3VcIikudGhlbihpKS5jYXRjaChuKX0pKX1faGFuZGxlR2F0ZXdheVNpZ25hbEV2ZW50cygpe3RoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2Lk9OX1VTRVJfT05MSU5FLHRoaXMuX2hhbmRsZVVzZXJPbmxpbmUpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2Lk9OX1VTRVJfT0ZGTElORSx0aGlzLl9oYW5kbGVVc2VyT2ZmbGluZSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oUnYuT05fQUREX0FVRElPX1NUUkVBTSwoZT0+dGhpcy5faGFuZGxlQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwiYXVkaW9cIixlLnVpZCxlLnNzcmNJZCxlLmNuYW1lLGUudWludF9pZCxlLm9ydGMpKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oUnYuT05fQUREX1ZJREVPX1NUUkVBTSwoZT0+dGhpcy5faGFuZGxlQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwidmlkZW9cIixlLnVpZCxlLnNzcmNJZCxlLmNuYW1lLGUudWludF9pZCxlLm9ydGMsZS5ydHhTc3JjSWQpKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oUnYuT05fUkVNT1RFX0RBVEFTVFJFQU1fVVBEQVRFLChlPT57dGhpcy5faGFuZGxlVXBkYXRlRGF0YUNoYW5uZWwoZSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oUnYuT05fUkVNT1RFX0ZVTExfREFUQVNUUkVBTV9JTkZPLChlPT57dGhpcy5faGFuZGxlVXBkYXRlRGF0YUNoYW5uZWwoe2FkZGVkOmUuZGF0YXN0cmVhbXMsZGVsZXRlZDpbXX0sITApfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2Lk9OX1JFTU9WRV9TVFJFQU0sdGhpcy5faGFuZGxlUmVtb3ZlU3RyZWFtKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihSdi5PTl9QMlBfTE9TVCx0aGlzLl9oYW5kbGVQMlBMb3N0KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihSdi5NVVRFX0FVRElPLChlPT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGhJLkFVRElPLCEwKSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2LlVOTVVURV9BVURJTywoZT0+dGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLnVpZCxoSS5BVURJTywhMSkpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihSdi5NVVRFX1ZJREVPLChlPT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGhJLlZJREVPLCEwKSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2LlVOTVVURV9WSURFTywoZT0+dGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLnVpZCxoSS5WSURFTywhMSkpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihSdi5SRUNFSVZFX01FVEFEQVRBLChlPT57Y29uc3QgdD1EVChlLm1ldGFkYXRhKTt0aGlzLnNhZmVFbWl0KGRULlJFQ0VJVkVfTUVUQURBVEEsZS51aWQsdCl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oUnYuT05fREFUQV9TVFJFQU0sKGFzeW5jIGU9PntpZighZSlyZXR1cm47bGV0IHQ9MDtpZihlLm9yZGVyZWR8fGUuc3luY1dpdGhBdWRpbyl7Y29uc3QgaT10aGlzLl9wMnBDaGFubmVsLmdldFN0YXRzKCksbj10aGlzLnJlbW90ZVVzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZS51aWQpKSxyPW51bGw9PWk/dm9pZCAwOmkuYXVkaW9SZWN2LmZpbmQoKGU9PmUuc3NyYz09PShudWxsPT1uP3ZvaWQgMDpuLl9hdWRpb1NTUkMpKSk7dD1udWxsPT1yP3ZvaWQgMDpyLmppdHRlckJ1ZmZlck1zfW51bGw9PXQmJih0PTApLEdNKGUsdCx7aWQ6dGhpcy5fY2xpZW50SWQsb25TdHJlYW1NZXNzYWdlOlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25TdHJlYW1NZXNzYWdlP3RoaXMub25TdHJlYW1NZXNzYWdlLmJpbmQodGhpcyk6dm9pZCAwLHNhZmVFbWl0OnRoaXMuc2FmZUVtaXQuYmluZCh0aGlzKX0pfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2Lk9OX0NSWVBUX0VSUk9SLCgoKT0+e05UKCgoKT0+e0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBvbiBjcnlwdCBlcnJvclwiKSksdGhpcy5zYWZlRW1pdChkVC5DUllQVF9FUlJPUil9KSx0aGlzLl9zZXNzaW9uSWQpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2Lk9OX1RPS0VOX1BSSVZJTEVHRV9XSUxMX0VYUElSRSx0aGlzLl9oYW5kbGVUb2tlbldpbGxFeHBpcmUpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFLCgoKT0+e0tDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlZCBtZXNzYWdlIG9uVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmUsIHBsZWFzZSBnZXQgbmV3IHRva2VuIGFuZCBqb2luIGFnYWluXCIpKSx0aGlzLl9nYXRld2F5LmxlYXZlKCEwLGNULlRPS0VOX0VYUElSRSksdGhpcy5zYWZlRW1pdChkVC5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSksdGhpcy5fcmVzZXQoKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihSdi5PTl9TVFJFQU1fRkFMTEJBQ0tfVVBEQVRFLChlPT57S0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gZmFsbGJhY2sgcGVlcklkOiBcIikuY29uY2F0KGUuc3RyZWFtX2lkLFwiLCBhdHRyOiBcIikuY29uY2F0KGUuc3RyZWFtX3R5cGUpKSx0aGlzLnNhZmVFbWl0KGRULlNUUkVBTV9GQUxMQkFDSyxlLnN0cmVhbV9pZCwxPT09ZS5zdHJlYW1fdHlwZT9cImZhbGxiYWNrXCI6XCJyZWNvdmVyXCIpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2Lk9OX1BVQkxJU0hfU1RSRUFNLChlPT57dGhpcy51aWQ9PT10aGlzLl91aWQmJih0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMCxudWxsLHZvaWQgMCwhMSxKU09OLnN0cmluZ2lmeSh7cHJveHk6ZS5wcm94eX0pKSxLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gb24gcHVibGlzaCBzdHJlYW0sIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oUnYuRU5BQkxFX0xPQ0FMX1ZJREVPLChlPT57dGhpcy5faGFuZGxlU2V0U3RyZWFtTG9jYWxFbmFibGUoXCJ2aWRlb1wiLGUudWlkLCEwKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihSdi5ESVNBQkxFX0xPQ0FMX1ZJREVPLChlPT57dGhpcy5faGFuZGxlU2V0U3RyZWFtTG9jYWxFbmFibGUoXCJ2aWRlb1wiLGUudWlkLCExKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihndi5SRVFVRVNUX1RJTUVPVVQsKChlLHQpPT57aWYodGhpcy5fam9pbkluZm8pc3dpdGNoKGUpe2Nhc2UgVHYuUFVCTElTSDp7aWYoIXQpcmV0dXJuO2NvbnN0IGU9dC5vcnRjO2lmKGUpe3ZhciBpLG47Y29uc3Qgcj1lLnNvbWUoKGU9PntsZXR7c3RyZWFtX3R5cGU6dH09ZTtyZXR1cm4gdD09PSR2LkF1ZGlvfSkpLHM9ZS5zb21lKChlPT57bGV0e3N0cmVhbV90eXBlOnR9PWU7cmV0dXJuIHQhPT0kdi5BdWRpb30pKSxvPWUuc29tZSgoZT0+e2xldHtzdHJlYW1fdHlwZTp0fT1lO3JldHVybiB0PT09JHYuU2NyZWVufHx0PT09JHYuU2NyZWVuTG93fSkpO1wib2ZmZXJcIj09PXQuc3RhdGUmJnJ2LnB1Ymxpc2godGhpcy5fam9pbkluZm8uc2lkLHtldmVudEVsYXBzZTpjRC5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6ITEsZWM6eGcuVElNRU9VVCxhdWRpbzpyLHZpZGVvOnMscDJwaWQ6dC5wMnBfaWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLHNjcmVlbnNoYXJlOm8sYXVkaW9OYW1lOnI/bnVsbD09PShpPWUuZmluZCgoZT0+e2xldHtzdHJlYW1fdHlwZTp0fT1lO3JldHVybiB0PT09JHYuQXVkaW99KSkpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5zc3Jjc1swXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc3NyY0lkLnRvU3RyaW5nKCk6dm9pZCAwLHZpZGVvTmFtZTpzP251bGw9PT0obj1lLmZpbmQoKGU9PntsZXR7c3RyZWFtX3R5cGU6dH09ZTtyZXR1cm4gdCE9PSR2LkF1ZGlvfSkpKXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uc3NyY3NbMF0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNzcmNJZC50b1N0cmluZygpOnZvaWQgMH0pfWJyZWFrfWNhc2UgVHYuU1VCU0NSSUJFOnQmJnJ2LnN1YnNjcmliZSh0aGlzLl9qb2luSW5mby5zaWQse3N1Y2M6ITEsZWM6eGcuVElNRU9VVCxhdWRpbzp0LnN0cmVhbV90eXBlPT09aEkuQVVESU8sdmlkZW86dC5zdHJlYW1fdHlwZT09PWhJLlZJREVPLHBlZXJpZDp0LnN0cmVhbV9pZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6dC5zc3JjSWQscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpjRC5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdC5zc3JjSWQpfSl9fSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2Lk9OX1AyUF9PSywoZT0+e3RoaXMudWlkLHRoaXMuX3VpZH0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihSdi5PTl9QVUJMSVNIRURfVVNFUl9MSVNULChlPT57aWYobnVsbD09ZXx8IWUudXNlcnMpcmV0dXJuO2tDKFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiYoZS51c2Vycz1lLnVzZXJzLmZpbHRlcigoZT0+IWR2KGUuc3RyaW5nX2lkfHxlLnN0cmVhbV9pZCx0aGlzLmNoYW5uZWxOYW1lKSkpKTtjb25zdCB0PVtdLGk9W107Zm9yKGNvbnN0IG4gb2YgZS51c2Vycyl7bGV0IGU9dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS5fdWludGlkPT09bi5zdHJlYW1faWQpKTtlP2UuX3RydXN0X2luX3Jvb21fPSEwOihlPW5ldyBOUChuLnN0cmluZ19pZHx8bi5zdHJlYW1faWQsbi5zdHJlYW1faWQpLHRoaXMuX3VzZXJzLnB1c2goZSksMD09PXRoaXMuZ2V0TGlzdGVuZXJzKGRULlBVQkxJU0hFRF9VU0VSX0xJU1QpLmxlbmd0aCYmKEtDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvbmxpbmVcIiksbi5zdHJlYW1faWQpLHRoaXMuc2FmZUVtaXQoZFQuVVNFUl9KT0lORUQsZSkpKTtjb25zdCByPWlJLkF1ZGlvJm4uc3RyZWFtX3R5cGUscz0oaUkuVmlkZW98aUkuTHdvVmlkZW8pJm4uc3RyZWFtX3R5cGUsbz0wIT0oNjUyODAmbi5zdHJlYW1fdHlwZSksYT1yJiZlLmhhc0F1ZGlvLGM9cyYmZS5oYXNWaWRlbztzJiYoZS5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxlLl92aWRlb19hZGRlZF89ITAsZS5fdmlkZW9TU1JDPW4udmlkZW9fc3NyYyxlLl9ydHhTc3JjSWQ9bi52aWRlb19ydHgpLHImJihlLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLGUuX2F1ZGlvX2FkZGVkXz0hMCxlLl9hdWRpb1NTUkM9bi5hdWRpb19zc3JjKSxyJiYhYSYmMD09PXRoaXMuZ2V0TGlzdGVuZXJzKGRULlBVQkxJU0hFRF9VU0VSX0xJU1QpLmxlbmd0aCYmKEtDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIHB1Ymxpc2hlZCBhdWRpb1wiKSksdGhpcy5zYWZlRW1pdChkVC5VU0VSX1BVQkxJU0hFRCxlLFwiYXVkaW9cIikpLHMmJiFjJiYwPT09dGhpcy5nZXRMaXN0ZW5lcnMoZFQuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoJiYoS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgcHVibGlzaGVkIHZpZGVvXCIpKSx0aGlzLnNhZmVFbWl0KGRULlVTRVJfUFVCTElTSEVELGUsXCJ2aWRlb1wiKSksKHImJiFhfHxzJiYhY3x8bykmJnQucHVzaChlKSxzJiZ0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShlLFwidmlkZW9cIikmJmkucHVzaCh7dXNlcjplLG1lZGlhVHlwZTpcInZpZGVvXCJ9KSxyJiZ0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShlLFwiYXVkaW9cIikmJmkucHVzaCh7dXNlcjplLG1lZGlhVHlwZTpcImF1ZGlvXCJ9KX1pLmxlbmd0aD4wJiYoS0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBSRSBtYXNzU3Vic2NyaWJlIGFmdGVyIHJlY29ubmVjdCBcIikuY29uY2F0KGkubWFwKChlPT5cInVzZXI6IFwiLmNvbmNhdChlLnVzZXIudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoZS5tZWRpYVR5cGUpKSkuam9pbihcIjsgXCIpLFwiIFwiKSksdGhpcy5tYXNzU3Vic2NyaWJlKGkpLmNhdGNoKChlPT57S0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzIHJlc3Vic2NyaWJlIGVycm9yXCIpLGUudG9TdHJpbmcoKSl9KSkpLHRoaXMuZ2V0TGlzdGVuZXJzKGRULlBVQkxJU0hFRF9VU0VSX0xJU1QpLmxlbmd0aD4wP2tDKFwiRU5BQkxFX0RBVEFTVFJFQU1fMlwiKT90aGlzLl9wZW5kaW5nUHVibGlzaGVkVXNlcnM9dDooS0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNsaWVudCBlbWl0IHVzZXItbGlzdCBldmVudCwgdXNlcnM6IFwiKS5jb25jYXQodC5tYXAoKGU9PmUudWlkKSkuam9pbihcIiwgXCIpKSksdGhpcy5zYWZlRW1pdChkVC5QVUJMSVNIRURfVVNFUl9MSVNULHQpKTpLQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2xpZW50IG5vdCBlbWl0IHVzZXItbGlzdCBldmVudCBjYXNlIHRoZXJlIGlzIG5vIHVzZXItbGlzdCBsaXN0ZW5lciwgdXNlcnM6IFwiKS5jb25jYXQodC5tYXAoKGU9PmUudWlkKSkuam9pbihcIiwgXCIpKSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oUnYuT05fUlRQX0NBUEFCSUxJVFlfQ0hBTkdFLChlPT57Y29uc3R7dmlkZW9fY29kZWM6dH09ZTt0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgX2smJnRoaXMuX3AycENoYW5uZWwudXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKHQubWFwKChlPT5lLnRvTG93ZXJDYXNlKCkpKS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gUHIodD1PYmplY3Qua2V5cyhVQykpLmNhbGwodCxlKX0pKSl9KSl9X2hhbmRsZVAyUEV2ZW50cygpe3RoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFJ2Lk9OX1VTRVJfT0ZGTElORSwoKCk9Pnt0aGlzLl9wMnBDaGFubmVsLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbih3SS5QVUJMSVNILChhc3luYyhlLHQpPT57ZS5mb3JFYWNoKChlPT5lLmtpbmQ9PT1oSS5WSURFTz8odGhpcy5faGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwidmlkZW9cIix0KSxlLmlzTXV0ZWQ/dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LGhJLlZJREVPLCEwKTp0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHQsaEkuVklERU8sITEpKToodGhpcy5faGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwiYXVkaW9cIix0KSxlLmlzTXV0ZWQ/dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LGhJLkFVRElPLCEwKTp0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHQsaEkuQVVESU8sITEpKSkpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGd2LlAyUF9TVEFSVCwoYXN5bmMoZSx0KT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBQTSl7dmFyIGk7dChhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQKHt0dXJuU2VydmVyOm51bGw9PT0oaT10aGlzLl9qb2luSW5mbyl8fHZvaWQgMD09PWk/dm9pZCAwOmkudHVyblNlcnZlcn0sZSkpfX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihndi5QMlBfQ09OTkVDVElPTiwoYXN5bmMgZT0+e3RoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBQTSYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wMnBDb25uZWN0KGUpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGd2LlAyUF9SRU1PVEVfQ0FORElEQVRFX1VQREFURSwoZT0+e3RoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBQTSYmdGhpcy5fcDJwQ2hhbm5lbC5hZGRSZW1vdGVDYW5kaWRhdGUoSlNPTi5wYXJzZShlKSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24od0kuU1VCU0NSSUJFLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUE0pe2NvbnN0e3RyYWNrVHlwZTpufT1KU09OLnBhcnNlKGUpO3RyeXthd2FpdCB0aGlzLl9wMnBDaGFubmVsLmRvcHVibGlzaChuKSx0KCl9Y2F0Y2goZSl7aShlKX19fSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKHdJLlVOU1VCU0NSSUJFLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUE0pe2NvbnN0e21lZGlhVHlwZTpufT1KU09OLnBhcnNlKGUpO3RyeXthd2FpdCB0aGlzLl9wMnBDaGFubmVsLmRvVW5wdWJsaXNoKG4pLHQoKX1jYXRjaChlKXtpKGUpfX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24od0kuRVhDSEFOR0VfU0RQLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUE0pe2NvbnN0e3R5cGU6bixzZHA6cn09SlNPTi5wYXJzZShlKTt0cnl7dChhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnNldERlc2NyaXB0aW9uKG4scikpfWNhdGNoKGUpe2koZSl9fX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbih3SS5VTlBVQkxJU0gsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBQTSl7Y29uc3R7dW5wdWJNc2c6bix1aWQ6cn09ZTtpZigxPT09bi5sZW5ndGgpe2NvbnN0IHM9blswXS5zdHJlYW1fdHlwZT09PSR2LkF1ZGlvP2hJLkFVRElPOmhJLlZJREVPO3RoaXMuX2hhbmRsZU11dGVTdHJlYW0ocixzLCEwKTtjb25zdHtzZHA6b309ZTtpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUE0mJm8pe2NvbnN0IGU9dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT1yKSk7aWYoIWUpcmV0dXJuIEtDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgcmVtb3RlIHVzZXIsIGlnbm9yZSBtdXRlIGV2ZW50LCB1aWQ6IFwiKS5jb25jYXQocikpLHZvaWQgdCgpO3RoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUoZSxvLHMpLnRoZW4oKGU9PntlJiZ0KGUpfSkpLmNhdGNoKGkpfWVsc2UgdCgpfWVsc2UgdGhpcy5faGFuZGxlUmVtb3ZlU3RyZWFtKGUsdCxpKX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24od0kuQ09OVFJPTCwoYXN5bmMoZSx0LGkpPT57Y29uc3R7YWN0aW9uOm4sc2RwOnIsaXNNdXRlQWxsOnMsdWlkOm99PWU7c3dpdGNoKG4pe2Nhc2UgT0kuTVVURV9MT0NBTF9WSURFTzp0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKG8saEkuVklERU8sITAscix0LGkpO2JyZWFrO2Nhc2UgT0kuTVVURV9MT0NBTF9BVURJTzp0KCksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShvLGhJLkFVRElPLCEwKTticmVhaztjYXNlIE9JLlVOTVVURV9MT0NBTF9WSURFTzp0KCksdGhpcy5faGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwidmlkZW9cIixvKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKG8saEkuVklERU8sITEpO2JyZWFrO2Nhc2UgT0kuVU5NVVRFX0xPQ0FMX0FVRElPOnQoKSx0aGlzLl9oYW5kbGVQMlBBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJhdWRpb1wiLG8pLHRoaXMuX2hhbmRsZU11dGVTdHJlYW0obyxoSS5BVURJTywhMSl9cyYmdGhpcy5faGFuZGxlUmVtb3ZlU3RyZWFtKGUsdCxpKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbih3SS5ET19TVUJTQ1JJQkUsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBQTSl7Y29uc3R7a2luZDpuLHNkcDpyLHNzcmNJZDpzLHVpZDpvfT1lLGE9dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT1vKSk7aWYoIWEpcmV0dXJuIEtDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9hZGRfc3RyZWFtKVwiKSksdm9pZCB0KCk7dHJ5e3QoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdWJzY3JpYmUoYSxuLHIscykpfWNhdGNoKGUpe2koZSl9fX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbih3SS5ET19VTlNVQlNDUklCRSwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFBNKXtjb25zdHt1aWQ6bixraW5kOnIsc2RwOnN9PWUsbz10aGlzLl91c2Vycy5maW5kKChlPT5lLnVpZD09PW4pKTtpZighbylyZXR1cm4gS0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2FkZF9zdHJlYW0pXCIpKSx2b2lkIHQoKTt0cnl7dChhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKG8scyxyKSl9Y2F0Y2goZSl7aShlKX19fSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKHdJLlJFU1RBUlRfSUNFLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUE0pdHJ5e3QoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zZXREZXNjcmlwdGlvbihcInJlbW90ZVwiLGUpKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKG1JLlJlcXVlc3RQMlBSZXN0YXJ0SUNFLChhc3luYyhlLHQsaSk9Pnt0cnl7dChhd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKHdJLlJFU1RBUlRfSUNFLGUpKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKG1JLkxvY2FsQ2FuZGlkYXRlLChlPT57dGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZSh3SS5DQU5ESURBVEUsSlNPTi5zdHJpbmdpZnkoZSkpfSkpLHRoaXMuX3AycENoYW5uZWwub24obUkuUmVxdWVzdFAyUE11dGVMb2NhbCwoYXN5bmMoZSx0LGkpPT57dHJ5e3QoYXdhaXQgdGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZSh3SS5DT05UUk9MLGUpKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKG1JLlJlcXVlc3RQMlBQdWJsaXNoLChhc3luYyhlLHQsaSk9Pnt0cnl7dChhd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKHdJLkRPX1NVQlNDUklCRSxlKSl9Y2F0Y2goZSl7aShlKX19KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5SZXF1ZXN0UDJQVW5QdWJsaXNoLChhc3luYyhlLHQsaSk9Pnt0cnl7dChhd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKHdJLkRPX1VOU1VCU0NSSUJFLGUpKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKG1JLlJlcXVlc3RQMlBVbm11dGVSZW1vdGUsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5LnVubXV0ZVJlbW90ZShlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKSx0KCl9Y2F0Y2goZSl7ZS5jb2RlPT09eGcuRElTQ09OTkVDVF9QMlA/dCgpOmkoZSl9ZWxzZSB0KCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5SZXF1ZXN0UDJQTXV0ZVJlbW90ZSwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5fam9pbkluZm8pdHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkubXV0ZVJlbW90ZShlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKSx0KCl9Y2F0Y2goZSl7ZS5jb2RlPT09eGcuRElTQ09OTkVDVF9QMlA/dCgpOmkoZSl9ZWxzZSB0KCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5TdGF0ZUNoYW5nZSwoKGUsdCk9Pnt0PT09RUkuQ29ubmVjdGVkJiZ0aGlzLl9wMnBDaGFubmVsLnJlcHVibGlzaCgpfSkpfV9oYW5kbGVQMlBDaGFubmVsRXZlbnRzKCl7dGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5SZXF1ZXN0TXV0ZUxvY2FsLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5tdXRlTG9jYWwoZSx0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR8fHRoaXMuX2pvaW5JbmZvLnVpZCksdCgpfWNhdGNoKGUpe2UuY29kZT09PXhnLkRJU0NPTk5FQ1RfUDJQP3QoKTppKGUpfWVsc2UgdCgpfSkpLHRoaXMuX3AycENoYW5uZWwub24obUkuUmVxdWVzdFVubXV0ZUxvY2FsLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS51bm11dGVMb2NhbChlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKSx0KCl9Y2F0Y2goZSl7ZS5jb2RlPT09eGcuRElTQ09OTkVDVF9QMlA/dCgpOmkoZSl9ZWxzZSB0KCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5SZXF1ZXN0UmVQdWJsaXNoLCgoZSx0LGkpPT57dGhpcy5wdWJsaXNoKGUsITEpLnRoZW4odCkuY2F0Y2goaSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWwsKChlLHQsaSk9Pnt0Zy5hbGwoZS5tYXAoKGFzeW5jIGU9Pnthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2hEYXRhQ2hhbm5lbChbZV0pO2NvbnN0IHQ9e3N0cmVhbUlkOmUuaWQsb3JkZXJlZDplLm9yZGVyZWQsbWF4UmV0cmFuc21pdHM6ZS5tYXhSZXRyYW5zbWl0cyxtZXRhZGF0YTplLm1ldGFkYXRhLGNoYW5uZWxJZDplLl9vcmlnaW5EYXRhQ2hhbm5lbElkfTt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5wdWJsaXNoRGF0YUNoYW5uZWwodGhpcy5fdWlkLHQsITApfWNhdGNoKGUpe2lmKGUuY29kZSE9PXhnLkRJU0NPTk5FQ1RfUDJQKXRocm93IGV9fSkpKS50aGVuKHQpLmNhdGNoKGkpfSkpLHRoaXMuX3AycENoYW5uZWwub24obUkuUmVxdWVzdFJlU3Vic2NyaWJlLChhc3luYyhlLHQsaSk9Pnt0cnl7Zm9yKGNvbnN0e3VzZXI6dCxraW5kOml9b2YgZSlpPT09aEkuVklERU8/YXdhaXQgdGhpcy5zdWJzY3JpYmUodCxcInZpZGVvXCIpOmF3YWl0IHRoaXMuc3Vic2NyaWJlKHQsXCJhdWRpb1wiKTt0KCl9Y2F0Y2goZSl7aShlKX19KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5SZXF1ZXN0VXBsb2FkU3RhdHMsKChlLHQpPT57dGhpcy5fZ2F0ZXdheS51cGxvYWRTdGF0cyhlLHQpfSkpLHRoaXMuX3AycENoYW5uZWwub24obUkuTWVkaWFSZWNvbm5lY3RTdGFydCwoZT0+e3RoaXMuc2FmZUVtaXQoZFQuTUVESUFfUkVDT05ORUNUX1NUQVJULGUpfSkpLHRoaXMuX3AycENoYW5uZWwub24obUkuTWVkaWFSZWNvbm5lY3RFbmQsKGU9Pnt0aGlzLnNhZmVFbWl0KGRULk1FRElBX1JFQ09OTkVDVF9FTkQsZSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5OZWVkU2lnbmFsUlRULChlPT57ZSh0aGlzLl9nYXRld2F5LmdldFNpZ25hbFJUVCgpKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKG1JLlJlcXVlc3RSZXN0YXJ0SUNFLChhc3luYyBlPT57aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFBNKXJldHVybjtjb25zdCB0PWF3YWl0IHRoaXMuX3AycENoYW5uZWwucmVzdGFydElDRShlKSxpPWF3YWl0IHQubmV4dCgpO2lmKGkuZG9uZSlyZXR1cm47Y29uc3Qgbj1pLnZhbHVlO2xldCByO3RyeXtyPWF3YWl0IHRoaXMuX2dhdGV3YXkucmVzdGFydElDRSh7aWNlUGFyYW1ldGVyczpufSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdC50aHJvdyhlKX1jb25zdHtpY2VQYXJhbWV0ZXJzOnN9PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5pY2VQYXJhbWV0ZXJzO3JldHVybntpY2VQYXJhbWV0ZXJzOntpY2VVZnJhZzp0LmljZVVmcmFnLGljZVB3ZDp0LmljZVB3ZH19fShyKTthd2FpdCB0Lm5leHQoe3JlbW90ZUljZVBhcmFtZXRlcnM6c30pfSkpLHRoaXMuX3AycENoYW5uZWwub24obUkuUmVxdWVzdFJlY29ubmVjdCwoYXN5bmMoKT0+e3RoaXMuX2dhdGV3YXkucmVjb25uZWN0KCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5SZXF1ZXN0UmVjb25uZWN0UEMsKGFzeW5jKCk9Pnt2YXIgZTtjb25zdHtpY2VQYXJhbWV0ZXJzOnQsZHRsc1BhcmFtZXRlcnM6aSxydHBDYXBhYmlsaXRpZXM6bn09YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24oe3R1cm5TZXJ2ZXI6bnVsbD09PShlPXRoaXMuX2pvaW5JbmZvKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50dXJuU2VydmVyfSkse2dhdGV3YXlFc3RhYmxpc2hQYXJhbXM6cixnYXRld2F5QWRkcmVzczpzfT1hd2FpdCB0aGlzLl9nYXRld2F5LnJlY29ubmVjdFBDKHtpY2VQYXJhbWV0ZXJzOnQsZHRsc1BhcmFtZXRlcnM6aSxydHBDYXBhYmlsaXRpZXM6bn0pLHtkdGxzUGFyYW1ldGVyczpvLGljZVBhcmFtZXRlcnM6YSxjYW5kaWRhdGVzOmMscnRwQ2FwYWJpbGl0aWVzOmQsc2V0dXA6bCxjbmFtZTpofT1RUChyLHMpO2F3YWl0IHRoaXMuX3AycENoYW5uZWwuY29ubmVjdChhLG8sYyxkLGwsaCksYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZXB1Ymxpc2goKSxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnJlU3Vic2NyaWJlKCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5SZXF1ZXN0VW5wdWJsaXNoRm9yUmVjb25uZWN0UEMsKGFzeW5jKGUsdCxpKT0+e3RoaXMuX2pvaW5JbmZvJiZ2b2lkIDAhPT10aGlzLl91aWQ/KGF3YWl0IHRoaXMuX2dhdGV3YXkudW5wdWJsaXNoKGUsdGhpcy5fdWlkKSx0KCkpOmkoKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKG1JLlAyUExvc3QsKCgpPT57dGhpcy5zYWZlRW1pdChkVC5QMlBfTE9TVCx0aGlzLnN0b3JlLnVpZCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5VcGRhdGVWaWRlb0VuY29kZXIsKGU9PntlLl9lbmNvZGVyQ29uZmlnJiZ0aGlzLl9nYXRld2F5LnNldFZpZGVvUHJvZmlsZShlLl9lbmNvZGVyQ29uZmlnKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKG1JLkNvbm5lY3Rpb25UeXBlQ2hhbmdlLChlPT57dGhpcy5zYWZlRW1pdChkVC5JU19VU0lOR19DTE9VRF9QUk9YWSxlKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKG1JLlJlcXVlc3RMb3dTdHJlYW1QYXJhbWV0ZXIsKGU9PntlKHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcnx8e3dpZHRoOjE2MCxoZWlnaHQ6MTIwLGZyYW1lcmF0ZToxNSxiaXRyYXRlOjUwfSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihtSS5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSwoZT0+e2UodGhpcy5jb25uZWN0aW9uU3RhdGUpfSkpfWdldEtleU1ldHJpY3MoKXtyZXR1cm4gdGhpcy5zdG9yZS5rZXlNZXRyaWNzfWFzeW5jIGVuYWJsZUNvbnRlbnRJbnNwZWN0KGUpe2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZXx8IXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIENsaWVudCBkaWQgbm90IGpvaW4gY2hhbm5lbFwiKSk7aWYodGhpcy5faW5zcGVjdCl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBJbnNwZWN0IGNvbnRlbnQgc2VydmljZSBhbHJlYWR5IGluIGNvbm5lY3RpbmcvY29ubmVjdGVkIHN0YXRlXCIpKTtpZighZSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBpbnNwZWN0Q29uZmlnIGlzIG5lY2Vzc2FyeVwiKSk7aWYoIWUuaW5zcGVjdFR5cGV8fCFBcnJheS5pc0FycmF5KGUuaW5zcGVjdFR5cGUpKXRocm93IG5ldyB4dih4Zy5JTlZBTElEX1BBUkFNUyxcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGluc3BlY3RDb25maWcuaW5zcGVjdFR5cGUgaXMgbmVjZXNzYXJ5IGFuZCBpcyBhbiBpbnN0YW5jZSBvZiBBcnJheS5cIikpO3tjb25zdCB0PVsuLi5uZXcgU2V0KGUuaW5zcGVjdFR5cGUpXTt0LmZvckVhY2goKGU9Pnt2YXIgdDtpZighUHIodD1bXCJzdXBlcnZpc2VcIixcIm1vZGVyYXRpb25cIl0pLmNhbGwodCxlKSl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBcIikuY29uY2F0KGUsXCIgaXMgbm90IGEgdmFsaWQgaW5zcGVjdCB0eXBlLlwiKSl9KSksZS5pbnNwZWN0VHlwZT10fWlmKGUmJmUuZXh0cmFJbmZvJiZlLmV4dHJhSW5mby5sZW5ndGg+MTAyNCl0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9QQVJBTVMsXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBpbnNwZWN0Q29uZmlnLmV4dHJhSW5mbyBsZW5ndGggY2Fubm90IGV4Y2VlZCAxMDI0IGJ5dGVzXCIpKTt0cnl7Y29uc3QgdD1uZXcgS2soZSk7dGhpcy5faW5zcGVjdD10LHRoaXMuaGFuZGxlVmlkZW9JbnNwZWN0RXZlbnRzKHRoaXMuX2luc3BlY3QpLGF3YWl0IHQuaW5pdCh7YXBwSWQ6dGhpcy5fam9pbkluZm8uYXBwSWQsYXJlYUNvZGU6XCJcIixjbmFtZTp0aGlzLl9qb2luSW5mby5jbmFtZSxzaWQ6dGhpcy5fam9pbkluZm8uc2lkLHRva2VuOnRoaXMuX2pvaW5JbmZvLnRva2VuLHVpZDp0aGlzLl9qb2luSW5mby51aWQsY2lkOnRoaXMuX2pvaW5JbmZvLmNpZCx2aWQ6dGhpcy5fam9pbkluZm8udmlkP051bWJlcih0aGlzLl9qb2luSW5mby52aWQpOjB9LEpUKX1jYXRjaChlKXt0aHJvdyBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX19YXN5bmMgZGlzYWJsZUNvbnRlbnRJbnNwZWN0KCl7aWYoIXRoaXMuX2luc3BlY3QpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaW5zcGVjdFZpZGVvQ29udGVudCBub3Qgc3RhcnRlZFwiKSk7dHJ5e3RoaXMuX2luc3BlY3QuY2xvc2UoKSx0aGlzLl9pbnNwZWN0PXZvaWQgMH1jYXRjaChlKXt0aHJvdyBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX19YXN5bmMgc2V0SW1hZ2VNb2RlcmF0aW9uKGUsdCl7aWYoRmcoZSxcImVuYWJsZWRcIiksZSl7aWYoIXQpdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfUEFSQU1TLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY29uZmlnIGlzIG5lY2Vzc2FyeVwiKSk7aWYoamcodC5pbnRlcnZhbCxcImludGVydmFsXCIsMWUzLDEvMCksXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlfHwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IHh2KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCwnXSBjYW4gbm90IGVuYWJsZSBpbWFnZSBtb2RlcmF0aW9uLCBub3Qgam9pbmVkXCInKSk7dHJ5e2lmKHRoaXMuX21vZGVyYXRpb24pcmV0dXJuIHZvaWQgdGhpcy5fbW9kZXJhdGlvbi51cGRhdGVDb25maWcodCk7Y29uc3QgZT1uZXcgSU0odCk7dGhpcy5fbW9kZXJhdGlvbj1lLHRoaXMuaGFuZGxlSW1hZ2VNb2RlcmF0aW9uRXZlbnRzKHRoaXMuX21vZGVyYXRpb24pLGF3YWl0IGUuaW5pdCh7YXBwSWQ6dGhpcy5fam9pbkluZm8uYXBwSWQsYXJlYUNvZGU6XCJcIixjbmFtZTp0aGlzLl9qb2luSW5mby5jbmFtZSxzaWQ6dGhpcy5fam9pbkluZm8uc2lkLHRva2VuOnRoaXMuX2pvaW5JbmZvLnRva2VuLHVpZDp0aGlzLl9qb2luSW5mby51aWQsY2lkOnRoaXMuX2pvaW5JbmZvLmNpZCx2aWQ6dGhpcy5fam9pbkluZm8udmlkP051bWJlcih0aGlzLl9qb2luSW5mby52aWQpOjB9LEpUKX1jYXRjaChlKXt0aHJvdyBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX19ZWxzZXtpZighdGhpcy5fbW9kZXJhdGlvbil0aHJvdyBuZXcgeHYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBpbWFnZSBtb2RlcmF0aW9uIG5vdCBzdGFydGVkXCIpKTt0cnl7dGhpcy5fbW9kZXJhdGlvbi5jbG9zZSgpLHRoaXMuX21vZGVyYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5fbW9kZXJhdGlvbj12b2lkIDB9Y2F0Y2goZSl7dGhyb3cgQXJyYXkuaXNBcnJheShlKT9lWzBdOmV9fX1oYW5kbGVJbWFnZU1vZGVyYXRpb25FdmVudHMoZSl7ZS5vbihBSS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwoKHQsaSk9PntpZih0aGlzLnNhZmVFbWl0KGRULklNQUdFX01PREVSQVRJT05fQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsdCxpKSx0PT09eUkuQ09OTkVDVEVEKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgdGhpcy5zZXRJbWFnZU1vZGVyYXRpb24oITEpLG5ldyB4dih4Zy5PUEVSQVRJT05fQUJPUlRFRCxcIkltYWdlIG1vZGVyYXRpb24gd2FzIGNhbmNlbGxlZCBiZWNhdXNlIGl0IGxlZnQgdGhlIGNoYW5uZWxcIik7ZS5pbnNwZWN0SW1hZ2UoKX19KSksZS5vbihBSS5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0ssKGU9PntlKHRoaXMubG9jYWxUcmFja3MuZmlsdGVyKChlPT5cInZpZGVvXCI9PT1lLnRyYWNrTWVkaWFUeXBlKSlbMF0pfSkpfWhhbmRsZVZpZGVvSW5zcGVjdEV2ZW50cyhlKXtlLm9uKFNJLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLCgodCxpKT0+e2lmKHRoaXMuc2FmZUVtaXQoZFQuQ09OVEVOVF9JTlNQRUNUX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLHQsaSksaT09PWdJLkNPTk5FQ1RFRCl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXJldHVybiB2b2lkIHRoaXMuc2FmZUVtaXQoZFQuQ09OVEVOVF9JTlNQRUNUX0VSUk9SLG5ldyB4dih4Zy5PUEVSQVRJT05fQUJPUlRFRCxcIkNvbnRlbnQgaW5zcGVjdCB3YXMgY2FuY2VsbGVkIGJlY2F1c2UgaXQgbGVmdCB0aGUgY2hhbm5lbFwiKSk7ZS5pbnNwZWN0SW1hZ2UoKX19KSksZS5vbihTSS5JTlNQRUNUX1JFU1VMVCwoKGUsdCk9Pnt2YXIgaTtpZigobnVsbD09dD92b2lkIDA6dC5jb2RlKT09PXhnLklOVkFMSURfT1BFUkFUSU9OJiZcIkRJU0NPTk5FQ1RFRFwiPT09dGhpcy5jb25uZWN0aW9uU3RhdGUpcmV0dXJuIEtDLmRlYnVnKFwiU3RvcCBpbnNwZWN0IGNvbnRlbnQgYmVjYXVzZSB0aGF0IGhhcyBsZWZ0IGNoYW5uZWxcIiksbnVsbD09dGhpc3x8bnVsbD09PShpPXRoaXMuX2luc3BlY3QpfHx2b2lkIDA9PT1pfHxpLmNsb3NlKCksdm9pZCh0aGlzLl9pbnNwZWN0PXZvaWQgMCk7dGhpcy5zYWZlRW1pdChkVC5DT05URU5UX0lOU1BFQ1RfUkVTVUxULGUsdCl9KSksZS5vbihTSS5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0ssKGU9PntlKHRoaXMubG9jYWxUcmFja3MuZmlsdGVyKChlPT5cInZpZGVvXCI9PT1lLnRyYWNrTWVkaWFUeXBlKSlbMF0pfSkpfWdldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHMoKXtyZXR1cm4gS0MuZGVidWcoXCJnZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzXCIpLHRoaXMuc3RvcmUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc31hc3luYyBzZXRQdWJsaXNoQXVkaW9GaWx0ZXJFbmFibGVkKGUpe0ZnKGUsXCJlbmFibGVkXCIpLExDKFwiRU5BQkxFX1BVQkxJU0hfQVVESU9fRklMVEVSXCIsZSksdGhpcy5fam9pbkluZm8mJmF3YWl0IHRoaXMuX2dhdGV3YXkuc2V0UHVibGlzaEF1ZGlvRmlsdGVyRW5hYmxlZChlKX1faGFuZGxlUmVzZXRBZGRTdHJlYW0oZSx0KXtzd2l0Y2godCl7Y2FzZVwiYXVkaW9cIjplLl9hdWRpb19hZGRlZF89ITEsZS5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMDticmVhaztjYXNlXCJ2aWRlb1wiOmUuX3ZpZGVvX2FkZGVkXz0hMSxlLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwfX19TXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcImxlYXZlXCIsbnVsbCksTXYoW252KHthcmdzTWFwOihlLHQpPT57aWYoIUFycmF5LmlzQXJyYXkodCkpe2lmKCEodCBpbnN0YW5jZW9mIGlBKSlyZXR1cm5bdF07dD1bdF19cmV0dXJuIHQubWFwKChlPT5lP09iamVjdChlKS50b1N0cmluZygpOlwibnVsbFwiKSl9fSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxCb29sZWFuXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwicHVibGlzaFwiLG51bGwpLE12KFtudih7YXJnc01hcDooZSx0KT0+KHR8fCh0PVtdKSx0IGluc3RhbmNlb2Ygc0Q/W3QuZ2V0Q2hhbm5lbElkKCldOihBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHQubWFwKChlPT5lLmdldFRyYWNrSWQoKSkpKSl9KSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwidW5wdWJsaXNoXCIsbnVsbCksTXYoW252KHthcmdzTWFwOihlLHQsaSxuKT0+W3QudWlkLGksbl19KSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTlAsU3RyaW5nLE51bWJlcl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcInN1YnNjcmliZVwiLG51bGwpLE12KFtudih7YXJnc01hcDooZSx0KT0+dC5tYXAoKGU9PntsZXR7dXNlcjp0LG1lZGlhVHlwZTppfT1lO3JldHVybltudWxsPT10P3ZvaWQgMDp0LnVpZCxpXX0pKX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcIm1hc3NTdWJzY3JpYmVcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6KGUsdCxpLG4pPT5bdC51aWQsaSxuXX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOUCxTdHJpbmcsTnVtYmVyXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6KGUsdCk9PnQubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm57dWlkOm51bGw9PXQ/dm9pZCAwOnQudWlkLG1lZGlhVHlwZTppfX0pKX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcIm1hc3NVbnN1YnNjcmliZVwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxxTS5wcm90b3R5cGUsXCJzZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIixudWxsKSxNdihbbnYoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwiZW5hYmxlRHVhbFN0cmVhbVwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxxTS5wcm90b3R5cGUsXCJkaXNhYmxlRHVhbFN0cmVhbVwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwic2V0Q2xpZW50Um9sZVwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxxTS5wcm90b3R5cGUsXCJzZXRQcm94eVNlcnZlclwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxxTS5wcm90b3R5cGUsXCJzZXRUdXJuU2VydmVyXCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxxTS5wcm90b3R5cGUsXCJzZXRMaWNlbnNlXCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW051bWJlcl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxxTS5wcm90b3R5cGUsXCJzdGFydFByb3h5U2VydmVyXCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxxTS5wcm90b3R5cGUsXCJzdG9wUHJveHlTZXJ2ZXJcIixudWxsKSxNdihbbnYoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLHFNLnByb3RvdHlwZSxcInNldExvY2FsQWNjZXNzUG9pbnRzVjJcIixudWxsKSxNdihbbnYoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXksU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLHFNLnByb3RvdHlwZSxcInNldExvY2FsQWNjZXNzUG9pbnRzXCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW051bWJlcl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcInNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGVcIixudWxsKSxNdihbbnYoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LE51bWJlcl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcInNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZVwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsTnVtYmVyXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwic2V0U3RyZWFtRmFsbGJhY2tPcHRpb25cIixudWxsKSxNdihbbnYoe2FyZ3NNYXA6KGUsdCk9Plt0XX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsU3RyaW5nLFVpbnQ4QXJyYXldKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0scU0ucHJvdG90eXBlLFwic2V0RW5jcnlwdGlvbkNvbmZpZ1wiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxxTS5wcm90b3R5cGUsXCJyZW5ld1Rva2VuXCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxxTS5wcm90b3R5cGUsXCJlbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvclwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcInN0YXJ0TGl2ZVN0cmVhbWluZ1wiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxxTS5wcm90b3R5cGUsXCJzZXRMaXZlVHJhbnNjb2RpbmdcIixudWxsKSxNdihbbnYoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwic3RvcExpdmVTdHJlYW1pbmdcIixudWxsKSxNdihbbnYoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLE9iamVjdF0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcImFkZEluamVjdFN0cmVhbVVybFwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxxTS5wcm90b3R5cGUsXCJyZW1vdmVJbmplY3RTdHJlYW1VcmxcIixudWxsKSxNdihbbnYoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQVBdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxxTS5wcm90b3R5cGUsXCJzdGFydENoYW5uZWxNZWRpYVJlbGF5XCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FQXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwidXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXlcIixudWxsKSxNdihbbnYoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwic3RvcENoYW5uZWxNZWRpYVJlbGF5XCIsbnVsbCksTXYoW252KHthcmdzTWFwOihlLHQpPT4oQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxbSlNPTi5zdHJpbmdpZnkodCldKX0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxVdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxxTS5wcm90b3R5cGUsXCJzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZVwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsT2JqZWN0XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0scU0ucHJvdG90eXBlLFwicGlja1NWQ0xheWVyXCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW051bWJlcl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcInNldFJUTTJGbGFnXCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcImVuYWJsZUNvbnRlbnRJbnNwZWN0XCIsbnVsbCksTXYoW252KCksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcImRpc2FibGVDb250ZW50SW5zcGVjdFwiLG51bGwpLE12KFtudigpLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtCb29sZWFuLE9iamVjdF0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcInNldEltYWdlTW9kZXJhdGlvblwiLG51bGwpLE12KFtudih7cmVwb3J0UmVzdWx0OiEwfSksVXYoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxVdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIixBcnJheSldLHFNLnByb3RvdHlwZSxcImdldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHNcIixudWxsKSxNdihbbnYoKSxVdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFV2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQm9vbGVhbl0pLFV2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHFNLnByb3RvdHlwZSxcInNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWRcIixudWxsKTtjbGFzcyBKTXtjb25zdHJ1Y3RvcihlLHQpe251KHRoaXMsXCJpZFwiLDApLG51KHRoaXMsXCJlbGVtZW50XCIsdm9pZCAwKSxudSh0aGlzLFwicGVlclBhaXJcIix2b2lkIDApLG51KHRoaXMsXCJjb250ZXh0XCIsdm9pZCAwKSxudSh0aGlzLFwiYXVkaW9QbGF5ZXJFbGVtZW50XCIsdm9pZCAwKSxudSh0aGlzLFwiYXVkaW9UcmFja1wiLHZvaWQgMCksSk0uY291bnQrPTEsdGhpcy5pZD1KTS5jb3VudCx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmNvbnRleHQ9dH1pbml0UGVlcnMoKXt0aGlzLnBlZXJQYWlyPVtuZXcgUlRDUGVlckNvbm5lY3Rpb24sbmV3IFJUQ1BlZXJDb25uZWN0aW9uXSx0aGlzLnBlZXJQYWlyWzFdLm9udHJhY2s9ZT0+e2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO3Quc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbZS50cmFja10pLHQucGxheSgpLHRoaXMuYXVkaW9QbGF5ZXJFbGVtZW50PXR9fWFzeW5jIHN3aXRjaFNkcCgpe2lmKCF0aGlzLnBlZXJQYWlyKXJldHVybjtjb25zdCBlPWFzeW5jKGUsdCk9Pntjb25zdCBpPVwib2ZmZXJcIj09PXQ/YXdhaXQgZS5jcmVhdGVPZmZlcigpOmF3YWl0IGUuY3JlYXRlQW5zd2VyKCk7cmV0dXJuIGF3YWl0IGUuc2V0TG9jYWxEZXNjcmlwdGlvbihpKSxcImNvbXBsZXRlXCI9PT1lLmljZUdhdGhlcmluZ1N0YXRlP2UubG9jYWxEZXNjcmlwdGlvbjpuZXcgdGcoKHQ9PntlLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2U9KCk9PntcImNvbXBsZXRlXCI9PT1lLmljZUdhdGhlcmluZ1N0YXRlJiZ0KGUubG9jYWxEZXNjcmlwdGlvbil9fSkpfSx0PWFzeW5jKGUsdCk9PmF3YWl0IGUuc2V0UmVtb3RlRGVzY3JpcHRpb24odCk7dHJ5e2NvbnN0IGk9YXdhaXQgZSh0aGlzLnBlZXJQYWlyWzBdLFwib2ZmZXJcIik7YXdhaXQgdCh0aGlzLnBlZXJQYWlyWzFdLGkpO2NvbnN0IG49YXdhaXQgZSh0aGlzLnBlZXJQYWlyWzFdLFwiYW5zd2VyXCIpO2F3YWl0IHQodGhpcy5wZWVyUGFpclswXSxuKX1jYXRjaChlKXt0aHJvdyBuZXcgeHYoeGcuTE9DQUxfQUVDX0VSUk9SLGUudG9TdHJpbmcoKSkucHJpbnQoKX19YXN5bmMgZ2V0VHJhY2tzRnJvbU1lZGlhRWxlbWVudChlKXtpZih0aGlzLmF1ZGlvVHJhY2spcmV0dXJuIHRoaXMuYXVkaW9UcmFjaztsZXQgdDt0cnl7ZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQmJihlLmNhcHR1cmVTdHJlYW0/ZS5jYXB0dXJlU3RyZWFtKCk6ZS5tb3pDYXB0dXJlU3RyZWFtKCkpLHQ9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTt0aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGUpLmNvbm5lY3QodCl9Y2F0Y2goZSl7dGhyb3cgbmV3IHh2KHhnLkxPQ0FMX0FFQ19FUlJPUixlLnRvU3RyaW5nKCkpLnByaW50KCl9aWYoIXQpe3Rocm93IG5ldyB4dih4Zy5MT0NBTF9BRUNfRVJST1IsXCJubyBkZXN0IG5vZGUgd2hlbiBsb2NhbCBhZWNcIikucHJpbnQoKX1jb25zdCBpPXQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07cmV0dXJuIHRoaXMuYXVkaW9UcmFjaz1pLGl9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLmVsZW1lbnR9YXN5bmMgc3RhcnRFY2hvQ2FuY2VsbGF0aW9uKCl7dGhpcy5jb250ZXh0LnJlc3VtZSgpLHRoaXMucGVlclBhaXImJnRoaXMuY2xvc2UoKSx0aGlzLmluaXRQZWVycygpO2NvbnN0IGU9dGhpcy5lbGVtZW50LHQ9YXdhaXQgdGhpcy5nZXRUcmFja3NGcm9tTWVkaWFFbGVtZW50KGUpO3RoaXMucGVlclBhaXImJnRoaXMucGVlclBhaXJbMF0uYWRkVHJhY2sodCksYXdhaXQgdGhpcy5zd2l0Y2hTZHAoKX1jbG9zZSgpe0tDLmRlYnVnKFwiY2xvc2UgZWNobyBjYW5jZWxsYXRpb24gdW5pdCwgaWQgaXNcIix0aGlzLmlkKSx0aGlzLmF1ZGlvUGxheWVyRWxlbWVudCYmdGhpcy5hdWRpb1BsYXllckVsZW1lbnQucGF1c2UoKSx0aGlzLnBlZXJQYWlyJiZ0aGlzLnBlZXJQYWlyLmZvckVhY2goKGU9PntlLmNsb3NlKCl9KSksdGhpcy5wZWVyUGFpcj12b2lkIDAsdGhpcy5hdWRpb1BsYXllckVsZW1lbnQ9dm9pZCAwfX1udShKTSxcImNvdW50XCIsMCk7Y29uc3Qgek09d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtjbGFzcyBYTXtjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJ1bml0c1wiLFtdKSxudSh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCl9cHJvY2Vzc0V4dGVybmFsTWVkaWFBRUMoZSl7aWYoIXRoaXMuX2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKSlyZXR1cm4gS0MuZGVidWcoXCJ0aGUgc3lzdGVtIGRvZXMgbm90IG5lZWQgdG8gcHJvY2VzcyBsb2NhbCBhZWNcIiksLTE7dGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PW5ldyB6TSk7bGV0IHQ9dGhpcy51bml0cy5maW5kKCh0PT50JiZ0LmdldEVsZW1lbnQoKT09PWUpKTtyZXR1cm4gdHx8KHQ9bmV3IEpNKGUsdGhpcy5jb250ZXh0KSx0aGlzLnVuaXRzLnB1c2godCkpLHQuc3RhcnRFY2hvQ2FuY2VsbGF0aW9uKCksS0MuZGVidWcoXCJzdGFydCBwcm9jZXNzaW5nIGxvY2FsIGF1ZGlvIGVjaG8gY2FuY2VsbGF0aW9uLCBpZCBpc1wiLHQuaWQpLHQuaWR9X2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKXtyZXR1cm4gcGcoKS5uYW1lIT09Y2cuU0FGQVJJfX1NdihbbnYoe3JlcG9ydDpydn0pLFV2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVXYoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtIVE1MQXVkaW9FbGVtZW50XSksVXYoXCJkZXNpZ246cmV0dXJudHlwZVwiLE51bWJlcildLFhNLnByb3RvdHlwZSxcInByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDXCIsbnVsbCk7Y29uc3QgUU09bmV3IFhNO2Z1bmN0aW9uIFpNKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiAkTShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9aTShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpaTShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdCBlVT13aW5kb3d8fGRvY3VtZW50O2Z1bmN0aW9uIHRVKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07aWYoIWVVKXJldHVybjtjb25zdCBpPWlVLl9jc3BFdmVudEhhbmRsZXJQb2ludGVyO2lmKGkmJnQpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihpLHQpO2NvbnN0IG49ZT0+e2lmKCEoZSYmZS5ibG9ja2VkVVJJJiYoaVUub25TZWN1cml0eVBvbGljeVZpb2xhdGlvbnx8aVUuZ2V0TGlzdGVuZXJzKHZJLlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04pLmxlbmd0aD4wKSkpcmV0dXJuO2NvbnN0IHQ9ZS5ibG9ja2VkVVJJO2tDKFwiQ1NQX0RFVEVDVEVEX0hPU1ROQU1FX0xJU1RcIikuc29tZSgoZT0+UHIodCkuY2FsbCh0LGUpKSkmJihpVS5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpVS5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uJiZpVS5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uKGUpLGlVLmdldExpc3RlbmVycyh2SS5TRUNVUklUWV9QT0xJQ1lfVklPTEFUSU9OKS5sZW5ndGg+MCYmaVUuc2FmZUVtaXQodkkuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTixlKSl9O2kmJmVVLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWN1cml0eXBvbGljeXZpb2xhdGlvblwiLGkpLCh0fHxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxpVS5nZXRMaXN0ZW5lcnModkkuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTikubGVuZ3RoPjApJiZlVS5hZGRFdmVudExpc3RlbmVyKFwic2VjdXJpdHlwb2xpY3l2aW9sYXRpb25cIixuKSxpVS5fY3NwRXZlbnRIYW5kbGVyUG9pbnRlcj1ufUxDKFwiUFJPQ0VTU19JRFwiLFwicHJvY2Vzcy1cIi5jb25jYXQoeFQoOCxcIlwiKSxcIi1cIikuY29uY2F0KHhUKDQsXCJcIiksXCItXCIpLmNvbmNhdCh4VCg0LFwiXCIpLFwiLVwiKS5jb25jYXQoeFQoNCxcIlwiKSxcIi1cIikuY29uY2F0KHhUKDEyLFwiXCIpKSksZnVuY3Rpb24oKXtjb25zdCBlPXBnKCk7cEEuZ2V0RGlzcGxheU1lZGlhPWZ1bmN0aW9uKGUpe2lmKG5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhKXJldHVybiEwO3JldHVybiExfSgpLHBBLmdldFN0cmVhbUZyb21FeHRlbnNpb249ZS5uYW1lPT09Y2cuQ0hST01FJiZOdW1iZXIoZS52ZXJzaW9uKT4zNCxwQS5zdXBwb3J0VW5pZmllZFBsYW49ZnVuY3Rpb24oKXtpZighd2luZG93LlJUQ1J0cFRyYW5zY2VpdmVyKXJldHVybiExO2lmKCEoXCJjdXJyZW50RGlyZWN0aW9uXCJpbiBSVENSdHBUcmFuc2NlaXZlci5wcm90b3R5cGUpKXJldHVybiExO2NvbnN0IGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uO2xldCB0PSExO3RyeXtlLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIiksdD0hMH1jYXRjaChlKXt9cmV0dXJuIGUuY2xvc2UoKSx0fSgpLHBBLnN1cHBvcnRNaW5CaXRyYXRlPWUubmFtZT09PWNnLkNIUk9NRXx8ZS5uYW1lPT09Y2cuRURHRSxwQS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycz1mdW5jdGlvbigpe2NvbnN0IGU9cGcoKTtpZighd2luZG93LlJUQ1J0cFNlbmRlcnx8IXdpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLnNldFBhcmFtZXRlcnN8fCF3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzKXJldHVybiExO3JldHVybiEha2coKXx8KCEoIVNnKCkmJiFtZygpKXx8ZS5uYW1lPT09Y2cuRklSRUZPWCYmTnVtYmVyKGUudmVyc2lvbik+PTY0KX0oKSxlLm5hbWU9PT1jZy5TQUZBUkkmJihOdW1iZXIoZS52ZXJzaW9uKT49MTQ/cEEuc3VwcG9ydER1YWxTdHJlYW09ITA6cEEuc3VwcG9ydER1YWxTdHJlYW09ITEpLHBBLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0PWZ1bmN0aW9uKCl7Y29uc3QgZT1wZygpO2lmKGUubmFtZT09PWNnLlNBRkFSSSYmTnVtYmVyKGUudmVyc2lvbik8MTIpcmV0dXJuITE7cmV0dXJuITB9KCkscEEuc3VwcG9ydFJlcGxhY2VUcmFjaz1mdW5jdGlvbigpe2lmKCF3aW5kb3cuUlRDUnRwU2VuZGVyKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFJUQ1J0cFNlbmRlci5wcm90b3R5cGUucmVwbGFjZVRyYWNrKXJldHVybiEwO3JldHVybiExfSgpLHBBLnN1cHBvcnRXZWJHTD1cInVuZGVmaW5lZFwiIT10eXBlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0LHBBLnN1cHBvcnRSZXF1ZXN0RnJhbWU9ISF3aW5kb3cuQ2FudmFzQ2FwdHVyZU1lZGlhU3RyZWFtVHJhY2ssa2coKXx8KHBBLndlYkF1ZGlvV2l0aEFFQz0hMCkscEEuc3VwcG9ydFNoYXJlQXVkaW89ZnVuY3Rpb24oKXtjb25zdCBlPXBnKCk7aWYoKGUub3M9PT1hZy5XSU5fMTB8fGUub3M9PT1hZy5XSU5fODF8fGUub3M9PT1hZy5XSU5fN3x8ZS5vcz09PWFnLkxJTlVYfHxlLm9zPT09YWcuTUFDX09TKSYmZS5uYW1lPT09Y2cuQ0hST01FJiZOdW1iZXIoZS52ZXJzaW9uKT49NzQpcmV0dXJuITA7cmV0dXJuITF9KCkscEEuc3VwcG9ydERhdGFDaGFubmVsPWZ1bmN0aW9uKCl7aWYodmcoNzYpfHxmdW5jdGlvbihlKXtjb25zdCB0PXBnKCk7cmV0dXJuISh0Lm5hbWUhPT1jZy5GSVJFRk9YfHwhdC5vc1ZlcnNpb24pJiZOdW1iZXIodC52ZXJzaW9uKT49ZX0oNjgpfHxmdW5jdGlvbihlKXtjb25zdCB0PXBnKCk7cmV0dXJuISh0Lm5hbWUhPT1jZy5TQUZBUkl8fCF0Lm9zVmVyc2lvbikmJk51bWJlcih0LnZlcnNpb24pPj1lfSgxNCkpcmV0dXJuITA7cmV0dXJuITF9KCkscEEuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe2NvbnN0IGU9d2luZG93LlJUQ1BlZXJDb25uZWN0aW9uO3JldHVybiFSZygpJiYhIWUmJmUucHJvdG90eXBlLnNldENvbmZpZ3VyYXRpb24gaW5zdGFuY2VvZiBGdW5jdGlvbn0oKSxwQS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybT1mdW5jdGlvbigpe2NvbnN0IGU9cGcoKTtyZXR1cm5cIkNocm9tZVwiPT09ZS5uYW1lJiZOdW1iZXIoZS52ZXJzaW9uKT49ODZ9KCkscEEuc3VwcG9ydFdlYlJUQ0luc2VydGFibGVTdHJlYW09ZnVuY3Rpb24oKXtjb25zdCBlPXBnKCk7cmV0dXJuKGUubmFtZT09PWNnLkNIUk9NRXx8ZS5uYW1lPT09Y2cuRURHRSkmJk51bWJlcihlLnZlcnNpb24pPj05NCYmXCJNZWRpYVN0cmVhbVRyYWNrR2VuZXJhdG9yXCJpbiB3aW5kb3cmJlwiTWVkaWFTdHJlYW1UcmFja1Byb2Nlc3NvclwiaW4gd2luZG93fSgpLEFUKCgoKT0+e3BBLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmc9ZnVuY3Rpb24oKXtjb25zdCBlPXBnKCk7aWYoa0MoXCJESVNBQkxFX1dFQkFVRElPXCIpKXJldHVybiEwO3JldHVyblwiU2FmYXJpXCI9PT1lLm5hbWUmJk51bWJlcihlLnZlcnNpb24pPj0xNHx8ISEoXCJDaHJvbWVcIj09PWUubmFtZSYmL1dpbmRvd3MvaS50ZXN0KGUub3N8fFwiXCIpJiZOdW1iZXIoZS52ZXJzaW9uKT49MTAwJiZrQyhcIkNIUk9NRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikpfSgpLEtDLmluZm8oXCJicm93c2VyIGNvbXBhdGliaWxpdHlcIixKU09OLnN0cmluZ2lmeShwQSksSlNPTi5zdHJpbmdpZnkoZSkpfSkpfSgpLGZ1bmN0aW9uKCl7bGV0IGU7dHJ5e2U9d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid2Vic2RrX25nX2dsb2JhbF9wYXJhbWV0ZXJcIil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgS0MuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHNkayBjb25maWdcIixlLm1lc3NhZ2UpfWlmKGUpdHJ5e2NvbnN0IHQ9SlNPTi5wYXJzZSh3aW5kb3cuYXRvYihlKSksaT1EYXRlLm5vdygpO0tDLmRlYnVnKFwiTG9hZGluZyBnbG9iYWwgcGFyYW1ldGVycyBmcm9tIGNhY2hlXCIsdCksT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZT0+e2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChQQyxlKSl7Y29uc3R7dmFsdWU6bixleHBpcmVzOnJ9PXRbZV07aWYociYmcjw9aSlyZXR1cm47TUNbZV09bixQQ1tlXT1ufX0pKX1jYXRjaCh0KXtLQy5lcnJvcihcIkVycm9yIGxvYWRpbmcgbXV0YWJsZVBhcmFtc0NhY2hlOiBcIi5jb25jYXQoZSksdC5tZXNzYWdlKX19KCksQXJyYXkuaXNBcnJheShNQy5BUkVBUykmJk1DLkFSRUFTLmxlbmd0aD4wJiZxRChNQy5BUkVBUywhMCk7Y29uc3QgaVU9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgaVQsaT1lLG49e2dldExpc3RlbmVyczp0LmdldExpc3RlbmVycy5iaW5kKHQpLG9uOihlLGkpPT4oZnVuY3Rpb24oZSx0KXtlPT09dkkuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTiYmdFUodCwhMCl9KGUsaSksdC5vbi5iaW5kKHQpKGUsaSkpLGFkZExpc3RlbmVyOnQuYWRkTGlzdGVuZXIuYmluZCh0KSxvbmNlOnQub25jZS5iaW5kKHQpLG9mZjp0Lm9mZi5iaW5kKHQpLHJlbW92ZUFsbExpc3RlbmVyczp0LnJlbW92ZUFsbExpc3RlbmVycy5iaW5kKHQpLGVtaXQ6dC5lbWl0LmJpbmQodCksc2FmZUVtaXQ6dC5zYWZlRW1pdC5iaW5kKHQpfTtyZXR1cm4gJE0oJE0oe30saSksbil9KHtfX1RSQUNLX0xJU1RfXzpEeSxWRVJTSU9OOk9DLEJVSUxEOkRDLEVTTV9CVU5ETEVSOiExLEVTTTohMSxVTUQ6ITAsREVWOiExLHNldFBhcmFtZXRlcjooZSx0LGkpPT57S0MuZGVidWcoXCJzZXRQYXJhbWV0ZXIga2V5OlwiLmNvbmNhdChlLFwiLCB2YWx1ZTpcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksTEMoZSx0LGkpfSxnZXRQYXJhbWV0ZXI6a0MsZ2V0U3VwcG9ydGVkQ29kZWM6YXN5bmMgZnVuY3Rpb24oKXtsZXQgZT17YXVkaW86W10sdmlkZW86W119O3RyeXtsZXQgdD1uZXcgUlRDUGVlckNvbm5lY3Rpb247dC5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSx0LmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pO2NvbnN0IGk9KGF3YWl0IHQuY3JlYXRlT2ZmZXIoKSkuc2RwO2lmKCFpKXJldHVybiBlO3QuY2xvc2UoKSx0PW51bGwsZT1mdW5jdGlvbihlKXtjb25zdCB0PXt2aWRlbzpbXSxhdWRpbzpbXX07cmV0dXJuIGUubWF0Y2goLyBWUDgvaSkmJnQudmlkZW8ucHVzaChcIlZQOFwiKSxlLm1hdGNoKC8gVlA5L2kpJiZ0LnZpZGVvLnB1c2goXCJWUDlcIiksZS5tYXRjaCgvIEFWMS9pKSYmdC52aWRlby5wdXNoKFwiQVYxXCIpLGUubWF0Y2goLyBIMjY0L2kpJiZ0LnZpZGVvLnB1c2goXCJIMjY0XCIpLGUubWF0Y2goLyBIMjY1L2kpJiZ0LnZpZGVvLnB1c2goXCJIMjY1XCIpLGUubWF0Y2goLyBvcHVzL2kpJiZ0LmF1ZGlvLnB1c2goXCJPUFVTXCIpLGUubWF0Y2goLyBQQ01VL2kpJiZ0LmF1ZGlvLnB1c2goXCJQQ01VXCIpLGUubWF0Y2goLyBQQ01BL2kpJiZ0LmF1ZGlvLnB1c2goXCJQQ01BXCIpLGUubWF0Y2goLyBHNzIyL2kpJiZ0LmF1ZGlvLnB1c2goXCJHNzIyXCIpLHR9KGkpfWNhdGNoKGUpe3Rocm93IG5ldyB4dih4Zy5DUkVBVEVfT0ZGRVJfRkFJTEVELGUudG9TdHJpbmcmJmUudG9TdHJpbmcoKSkucHJpbnQoKX1yZXR1cm4gZX0sY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHM6ZnVuY3Rpb24oKXtjb25zdCBlPXJ2LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOnNULkNIRUNLX1NZU1RFTV9SRVFVSVJFTUVOVFMsb3B0aW9uczpbXSx0YWc6b1QuVFJBQ0VSfSk7bGV0IHQ9ITE7dHJ5e2NvbnN0IGU9d2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLGk9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEsbj13aW5kb3cuV2ViU29ja2V0O3Q9ISEoZSYmaSYmbil9Y2F0Y2goZSl7cmV0dXJuIEtDLmVycm9yKFwiY2hlY2sgc3lzdGVtIHJlcXVpcmVtZW50IGZhaWxlZDogXCIsZSksITF9bGV0IGk9ITE7Y29uc3Qgbj1wZygpO24ubmFtZT09PWNnLkNIUk9NRSYmTnVtYmVyKG4udmVyc2lvbik+PTU4JiYoIWdnKCl8fGZnKCkpJiYoaT0hMCksbi5uYW1lPT09Y2cuRklSRUZPWCYmTnVtYmVyKG4udmVyc2lvbik+PTU2JiYoaT0hMCksbi5uYW1lPT09Y2cuT1BFUkEmJk51bWJlcihuLnZlcnNpb24pPj00NSYmKGk9ITApLG4ubmFtZT09PWNnLlNBRkFSSSYmTnVtYmVyKG4udmVyc2lvbik+PTExJiYoaT0hMCksKFBnKCl8fHBnKCkubmFtZT09PWNnLlFRKSYmKGk9ITApLEtDLmRlYnVnKFwiY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHMsIGFwaTpcIix0LFwiYnJvd3NlclwiLGkpO2NvbnN0IHI9dCYmaTtyZXR1cm4gZS5vblN1Y2Nlc3Mocikscn0sZ2V0RGV2aWNlczpmdW5jdGlvbihlKXtyZXR1cm4gT0EuZW51bWVyYXRlRGV2aWNlcyghMCwhMCxlKX0sZ2V0TWljcm9waG9uZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIE9BLmdldFJlY29yZGluZ0RldmljZXMoZSl9LGdldENhbWVyYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIE9BLmdldENhbWVyYXNEZXZpY2VzKGUpfSxnZXRFbGVjdHJvblNjcmVlblNvdXJjZXM6U0EsZ2V0UGxheWJhY2tEZXZpY2VzOmZ1bmN0aW9uKGUpe3JldHVybiBPQS5nZXRTcGVha2VycyhlKX0sY3JlYXRlQ2xpZW50OmZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntjb2RlYzpcInZwOFwiLGF1ZGlvQ29kZWM6XCJvcHVzXCIsbW9kZTpcInJ0Y1wifTtjb25zdCB0PXJ2LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOnNULkNSRUFURV9DTElFTlQsb3B0aW9uczpbZV0sdGFnOm9ULlRSQUNFUn0pO3RyeXshZnVuY3Rpb24oZSl7QmcoZS5jb2RlYyxcImNvbmZpZy5jb2RlY1wiLFtcInZwOFwiLFwidnA5XCIsXCJhdjFcIixcImgyNjRcIixcImgyNjVcIl0pLEJnKGUubW9kZSxcImNvbmZpZy5tb2RlXCIsW1wicnRjXCIsXCJsaXZlXCJdKSx2b2lkIDAhPT1lLmF1ZGlvQ29kZWMmJkJnKGUuYXVkaW9Db2RlYyxcImNvbmZpZy5hdWRpb0NvZGVjXCIsW1wib3B1c1wiLFwicGNtdVwiLFwicGNtYVwiLFwiZzcyMlwiXSksdm9pZCAwIT09ZS5wcm94eVNlcnZlciYmV2coZS5wcm94eVNlcnZlcixcImNvbmZpZy5wcm94eVNlcnZlclwiLDEsMWU0KSx2b2lkIDAhPT1lLnR1cm5TZXJ2ZXImJkVUKGUudHVyblNlcnZlciksdm9pZCAwIT09ZS5odHRwUmV0cnlDb25maWcmJnBUKGUuaHR0cFJldHJ5Q29uZmlnKSx2b2lkIDAhPT1lLndlYnNvY2tldFJldHJ5Q29uZmlnJiZwVChlLndlYnNvY2tldFJldHJ5Q29uZmlnKX0oZSl9Y2F0Y2goZSl7dGhyb3cgdC5vbkVycm9yKGUpLGV9cmV0dXJuIEhNKCl8fChcInZwOVwiPT09ZS5jb2RlYyYmKGUuY29kZWM9XCJ2cDhcIixLQy5kZWJ1ZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgdnA5LCBmb3JjZSB1c2UgdnA4XCIpKSxMQyhcIlVOU1VQUE9SVEVEX1ZJREVPX0NPREVDXCIsW1widnA5XCJdKSksdm9pZCAwPT09ZS5hdWRpb0NvZGVjJiYoZS5hdWRpb0NvZGVjPVwib3B1c1wiKSx0Lm9uU3VjY2VzcygpLG5ldyBxTShZTShZTSh7Zm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlOiEwfSxlKSx7fSx7cm9sZTpcInJ0Y1wiPT09ZS5tb2RlP1wiaG9zdFwiOmUucm9sZXx8XCJhdWRpZW5jZVwifSkpfSxjcmVhdGVDYW1lcmFWaWRlb1RyYWNrOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2NvbnN0IHQ9cnYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvVC5UUkFDRVIsbmFtZTpzVC5DUkVBVEVfQ0FNX1ZJREVPX1RSQUNLLG9wdGlvbnM6W3ZiKHt9LGUpXX0pLGk9aWIoZSksbj14VCg4LFwidHJhY2stY2FtLVwiKTtsZXQgcj1udWxsO2NvbnN0IHM9XCI3MjBwX2F1dG9cIj09PWUuZW5jb2RlckNvbmZpZztLQy5pbmZvKFwic3RhcnQgY3JlYXRlIGNhbWVyYSB2aWRlbyB0cmFjayB3aXRoIGNvbmZpZ1wiLEpTT04uc3RyaW5naWZ5KGUpLFwidHJhY2tJZFwiLG4pO3RyeXtyPShhd2FpdCB5QSh7dmlkZW86aX0sbikpLmdldFZpZGVvVHJhY2tzKClbMF18fG51bGx9Y2F0Y2goZSl7dGhyb3cgdC5vbkVycm9yKGUpLGV9aWYoIXIpe2NvbnN0IGU9bmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgdHJhY2sgaW4gbWVkaWEgc3RyZWFtXCIpO3JldHVybiB0Lm9uRXJyb3IoZSksZS50aHJvdyhLQyl9ZS5vcHRpbWl6YXRpb25Nb2RlJiZJYihuLHIsZSxBeShlLmVuY29kZXJDb25maWcpKTtjb25zdCBvPW5ldyBSYihyLGUsaSxlLnNjYWxhYmlsdHlNb2RlP3d5KGUuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sZS5vcHRpbWl6YXRpb25Nb2RlLG4pO3JldHVybiBzJiZvLnN0YXJ0TW9uaXRvclN0YXRzKCksdC5vblN1Y2Nlc3Moby5nZXRUcmFja0lkKCkpLEtDLmluZm8oXCJjcmVhdGUgY2FtZXJhIHZpZGVvIHN1Y2Nlc3MsIHRyYWNrSWQ6XCIsbiksb30sY3JlYXRlQ3VzdG9tVmlkZW9UcmFjazpmdW5jdGlvbihlKXtjb25zdCB0PXJ2LnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6b1QuVFJBQ0VSLG5hbWU6c1QuQ1JFQVRFX0NVU1RPTV9WSURFT19UUkFDSyxvcHRpb25zOltlXX0pLGk9bmV3IFNiKGUubWVkaWFTdHJlYW1UcmFjayx7d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsZnJhbWVSYXRlOmUuZnJhbWVSYXRlLGJpdHJhdGVNYXg6ZS5iaXRyYXRlTWF4LGJpdHJhdGVNaW46ZS5iaXRyYXRlTWlufSxlLnNjYWxhYmlsdHlNb2RlP3d5KGUuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sZS5vcHRpbWl6YXRpb25Nb2RlLHhUKDgsXCJ0cmFjay1jdXMtXCIpLFtreS5DVVNUT01fVFJBQ0tdKTtyZXR1cm4gdC5vblN1Y2Nlc3MoaS5nZXRUcmFja0lkKCkpLEtDLmluZm8oXCJjcmVhdGUgY3VzdG9tIHZpZGVvIHRyYWNrIHN1Y2Nlc3Mgd2l0aCBjb25maWdcIixlLFwidHJhY2tJZFwiLGkuZ2V0VHJhY2tJZCgpKSxpfSxjcmVhdGVTY3JlZW5WaWRlb1RyYWNrOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiZGlzYWJsZVwiO2NvbnN0IGk9cnYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvVC5UUkFDRVIsbmFtZTpzVC5DUkVBVEVfU0NSRUVOX1ZJREVPX1RSQUNLLG9wdGlvbnM6W3ZiKHt9LGUpLHRdfSksbj1cIjcyMHBfYXV0b1wiPT09ZS5lbmNvZGVyQ29uZmlnO2UuZW5jb2RlckNvbmZpZz9cInN0cmluZ1wiPT10eXBlb2YgZS5lbmNvZGVyQ29uZmlnfHxlLmVuY29kZXJDb25maWcud2lkdGgmJmUuZW5jb2RlckNvbmZpZy5oZWlnaHR8fChlLmVuY29kZXJDb25maWcud2lkdGg9e21heDoxOTIwfSxlLmVuY29kZXJDb25maWcuaGVpZ2h0PXttYXg6MTA4MH0pOmUuZW5jb2RlckNvbmZpZz1cIjEwODBwXzJcIjtjb25zdCByPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e307ZS5zY3JlZW5Tb3VyY2VUeXBlJiYodC5tZWRpYVNvdXJjZT1lLnNjcmVlblNvdXJjZVR5cGUpLGUuZXh0ZW5zaW9uSWQmJlRnKCkmJih0LmV4dGVuc2lvbklkPWUuZXh0ZW5zaW9uSWQpO2NvbnN0e2Rpc3BsYXlTdXJmYWNlOmksc2VsZkJyb3dzZXJTdXJmYWNlOm4sc3VyZmFjZVN3aXRjaGluZzpyLHN5c3RlbUF1ZGlvOnN9PWU7KHZnKDEwNyl8fElnKDEwNyl8fHlnKDkzKSkmJihpJiYoQmcoaSxcImRpc3BsYXlTdXJmYWNlXCIsW1wiYnJvd3NlclwiLFwid2luZG93XCIsXCJtb25pdG9yXCJdKSx0LmRpc3BsYXlTdXJmYWNlPWkpLG4/KEJnKG4sXCJzZWxmQnJvd3NlclN1cmZhY2VcIixbXCJleGNsdWRlXCIsXCJpbmNsdWRlXCJdKSx0LnNlbGZCcm93c2VyU3VyZmFjZT1uKTp0LnNlbGZCcm93c2VyU3VyZmFjZT1cImluY2x1ZGVcIixyJiYoQmcocixcInN1cmZhY2VTd2l0Y2hpbmdcIixbXCJleGNsdWRlXCIsXCJpbmNsdWRlXCJdKSx0LnN1cmZhY2VTd2l0Y2hpbmc9cikpLCh2ZygxMDUpfHxJZygxMDUpfHx5Zyg5MSkpJiZzJiYoQmcocyxcInN5c3RlbUF1ZGlvXCIsW1wiZXhjbHVkZVwiLFwiaW5jbHVkZVwiXSksdC5zeXN0ZW1BdWRpbz1zKSxlLmVsZWN0cm9uU2NyZWVuU291cmNlSWQmJih0LnNvdXJjZUlkPWUuZWxlY3Ryb25TY3JlZW5Tb3VyY2VJZCk7Y29uc3Qgbz1lLmVuY29kZXJDb25maWc/YnkoZS5lbmNvZGVyQ29uZmlnKTpudWxsO3JldHVybiB0Lm1hbmRhdG9yeT17Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCIsbWF4V2lkdGg6bz9vLndpZHRoOnZvaWQgMCxtYXhIZWlnaHQ6bz9vLmhlaWdodDp2b2lkIDB9LG8mJihvLmZyYW1lUmF0ZSYmKFwibnVtYmVyXCI9PXR5cGVvZiBvLmZyYW1lUmF0ZT8odC5tYW5kYXRvcnkubWF4RnJhbWVSYXRlPW8uZnJhbWVSYXRlLHQubWFuZGF0b3J5Lm1pbkZyYW1lUmF0ZT1vLmZyYW1lUmF0ZSk6KHQubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT1vLmZyYW1lUmF0ZS5tYXh8fG8uZnJhbWVSYXRlLmlkZWFsfHxvLmZyYW1lUmF0ZS5leGFjdHx8dm9pZCAwLHQubWFuZGF0b3J5Lm1pbkZyYW1lUmF0ZT1vLmZyYW1lUmF0ZS5taW58fG8uZnJhbWVSYXRlLmlkZWFsfHxvLmZyYW1lUmF0ZS5leGFjdHx8dm9pZCAwKSx0LmZyYW1lUmF0ZT1vLmZyYW1lUmF0ZSksby53aWR0aCYmKHQud2lkdGg9by53aWR0aCksby5oZWlnaHQmJih0LmhlaWdodD1vLmhlaWdodCkpLHR9KGUpLHM9eFQoOCxcInRyYWNrLXNjci12LVwiKTtsZXQgbz1udWxsLGE9bnVsbDtjb25zdCBjPV9BKCk7aWYoIWMuc3VwcG9ydFNoYXJlQXVkaW8mJlwiZW5hYmxlXCI9PT10KXtjb25zdCBlPW5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwieW91ciBicm93c2VyIG9yIHBsYXRmb3JtIGlzIG5vdCBzdXBwb3J0IHNoYXJlLXNjcmVlbiB3aXRoIGF1ZGlvXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdyhLQyl9S0MuaW5mbyhcInN0YXJ0IGNyZWF0ZSBzY3JlZW4gdmlkZW8gdHJhY2sgd2l0aCBjb25maWdcIixlLFwid2l0aEF1ZGlvXCIsdCxcInRyYWNrSWRcIixzKTt0cnl7Y29uc3QgZT1hd2FpdCB5QSh7c2NyZWVuOnIsc2NyZWVuQXVkaW86XCJhdXRvXCI9PT10P2Muc3VwcG9ydFNoYXJlQXVkaW86XCJlbmFibGVcIj09PXR9LHMpO289ZS5nZXRWaWRlb1RyYWNrcygpWzBdfHxudWxsLGE9ZS5nZXRBdWRpb1RyYWNrcygpWzBdfHxudWxsfWNhdGNoKGUpe3Rocm93IGkub25FcnJvcihlKSxlfWlmKCFvKXtjb25zdCBlPW5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHRyYWNrIGluIG1lZGlhIHN0cmVhbVwiKTtyZXR1cm4gaS5vbkVycm9yKGUpLGUudGhyb3coS0MpfWlmKCFhJiZcImVuYWJsZVwiPT09dCl7byYmby5zdG9wKCk7Y29uc3QgZT1uZXcgVmcoeGcuU0hBUkVfQVVESU9fTk9UX0FMTE9XRUQpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdyhLQyl9aWYoZS5vcHRpbWl6YXRpb25Nb2RlfHwoZS5vcHRpbWl6YXRpb25Nb2RlPVwiZGV0YWlsXCIpLGUub3B0aW1pemF0aW9uTW9kZSl7SWIocyxvLGUsZS5lbmNvZGVyQ29uZmlnJiZieShlLmVuY29kZXJDb25maWcpfHx2b2lkIDApLGUuZW5jb2RlckNvbmZpZyYmXCJzdHJpbmdcIiE9dHlwZW9mIGUuZW5jb2RlckNvbmZpZyYmKGUuZW5jb2RlckNvbmZpZy5iaXRyYXRlTWluPWUuZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4KX1jb25zdCBkPW5ldyBTYihvLGUuZW5jb2RlckNvbmZpZz9ieShlLmVuY29kZXJDb25maWcpOnt9LGUuc2NhbGFiaWx0eU1vZGU/d3koZS5zY2FsYWJpbHR5TW9kZSk6e251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSxlLm9wdGltaXphdGlvbk1vZGUscyxba3kuU0NSRUVOX1RSQUNLXSk7aWYobiYmZC5zdGFydE1vbml0b3JTdGF0cygpLCFhKXJldHVybiBpLm9uU3VjY2VzcyhkLmdldFRyYWNrSWQoKSksS0MuaW5mbyhcImNyZWF0ZSBzY3JlZW4gdmlkZW8gdHJhY2sgc3VjY2Vzc1wiLFwidmlkZW86XCIsZC5nZXRUcmFja0lkKCkpLGQ7Y29uc3QgbD1uZXcgWkEoYSx2b2lkIDAseFQoOCxcInRyYWNrLXNjci1hLVwiKSwhMSwhMCk7cmV0dXJuIGkub25TdWNjZXNzKFtkLmdldFRyYWNrSWQoKSxsLmdldFRyYWNrSWQoKV0pLEtDLmluZm8oXCJjcmVhdGUgc2NyZWVuIHZpZGVvIHRyYWNrIHN1Y2Nlc3NcIixcInZpZGVvOlwiLGQuZ2V0VHJhY2tJZCgpLFwiYXVkaW86XCIsbC5nZXRUcmFja0lkKCkpLFtkLGxdfSxjcmVhdGVNaWNyb3Bob25lQW5kQ2FtZXJhVHJhY2tzOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2NvbnN0IGk9cnYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvVC5UUkFDRVIsbmFtZTpzVC5DUkVBVEVfTUlDX0FORF9DQU1fVFJBQ0tTLG9wdGlvbnM6W2UsdF19KSxuPVwiNzIwcF9hdXRvXCI9PT10LmVuY29kZXJDb25maWcscj1pYih0KSxzPW5iKGUpLG89eFQoOCxcInRyYWNrLW1pYy1cIiksYT14VCg4LFwidHJhY2stY2FtLVwiKTtsZXQgYz1udWxsLGQ9bnVsbDtLQy5pbmZvKFwic3RhcnQgY3JlYXRlIGNhbWVyYSB2aWRlbyB0cmFjayhcIi5jb25jYXQoYSxcIikgYW5kIG1pY3JvcGhvbmUgYXVkaW8gdHJhY2soXCIpLmNvbmNhdChvLFwiKSB3aXRoIGNvbmZpZywgYXVkaW86IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSksXCIsIHZpZGVvOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSk7dHJ5e2NvbnN0IGU9YXdhaXQgeUEoe2F1ZGlvOnMsdmlkZW86cn0sXCJcIi5jb25jYXQobyxcIi1cIikuY29uY2F0KGEpKTtjPWUuZ2V0QXVkaW9UcmFja3MoKVswXSxkPWUuZ2V0VmlkZW9UcmFja3MoKVswXX1jYXRjaChlKXt0aHJvdyBpLm9uRXJyb3IoZSksZX1pZighY3x8IWQpe2NvbnN0IGU9bmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgdHJhY2tzIGluIG1lZGlhIHN0cmVhbVwiKTtyZXR1cm4gaS5vbkVycm9yKGUpLGUudGhyb3coS0MpfXQub3B0aW1pemF0aW9uTW9kZSYmSWIoYSxkLHQsQXkodC5lbmNvZGVyQ29uZmlnKSk7Y29uc3QgbD1uZXcgJEEoYyxlLHMsbyksaD1uZXcgUmIoZCx0LHIsdC5zY2FsYWJpbHR5TW9kZT93eSh0LnNjYWxhYmlsdHlNb2RlKTp7bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9LHQub3B0aW1pemF0aW9uTW9kZSxhKTtyZXR1cm4gbiYmaC5zdGFydE1vbml0b3JTdGF0cygpLGkub25TdWNjZXNzKFtsLmdldFRyYWNrSWQoKSxoLmdldFRyYWNrSWQoKV0pLEtDLmluZm8oXCJjcmVhdGUgY2FtZXJhIHZpZGVvIHRyYWNrKFwiLmNvbmNhdChhLFwiKSBhbmQgbWljcm9waG9uZSBhdWRpbyB0cmFjayhcIikuY29uY2F0KG8sXCIpIHN1Y2Nlc3NcIikpLFtsLGhdfSxjcmVhdGVNaWNyb3Bob25lQXVkaW9UcmFjazphc3luYyBmdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtjb25zdCB0PXJ2LnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6b1QuVFJBQ0VSLG5hbWU6c1QuQ1JFQVRFX01JQ19BVURJT19UUkFDSyxvcHRpb25zOltlXX0pLGk9bmIoZSksbj14VCg4LFwidHJhY2stbWljLVwiKTtsZXQgcj1udWxsO0tDLmluZm8oXCJzdGFydCBjcmVhdGUgbWljcm9waG9uZSBhdWRpbyB0cmFjayB3aXRoIGNvbmZpZ1wiLEpTT04uc3RyaW5naWZ5KGUpLFwidHJhY2tJZFwiLG4pO3RyeXtyPShhd2FpdCB5QSh7YXVkaW86aX0sbikpLmdldEF1ZGlvVHJhY2tzKClbMF18fG51bGx9Y2F0Y2goZSl7dGhyb3cgdC5vbkVycm9yKGUpLGV9aWYoIXIpe2NvbnN0IGU9bmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgdHJhY2sgaW4gbWVkaWEgc3RyZWFtXCIpO3JldHVybiB0Lm9uRXJyb3IoZSksZS50aHJvdyhLQyl9Y29uc3Qgcz1uZXcgJEEocixlLGksbik7cmV0dXJuIHQub25TdWNjZXNzKHMuZ2V0VHJhY2tJZCgpKSxLQy5pbmZvKFwiY3JlYXRlIG1pY3JvcGhvbmUgYXVkaW8gdHJhY2sgc3VjY2VzcywgdHJhY2tJZDpcIixuKSxzfSxjcmVhdGVDdXN0b21BdWRpb1RyYWNrOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9cnYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvVC5UUkFDRVIsbmFtZTpzVC5DUkVBVEVfQ1VTVE9NX0FVRElPX1RSQUNLLG9wdGlvbnM6W2VdfSksaT1uZXcgWkEoZS5tZWRpYVN0cmVhbVRyYWNrLGUuZW5jb2RlckNvbmZpZz9OeShlLmVuY29kZXJDb25maWcpOnt9LHhUKDgsXCJ0cmFjay1jdXMtXCIpLCExLCEwKTtyZXR1cm4gS0MuaW5mbyhcImNyZWF0ZSBjdXN0b20gYXVkaW8gdHJhY2sgc3VjY2VzcyB3aXRoIGNvbmZpZ1wiLGUsXCJ0cmFja0lkXCIsaS5nZXRUcmFja0lkKCkpLHQub25TdWNjZXNzKGkuZ2V0VHJhY2tJZCgpKSxpfSxjcmVhdGVCdWZmZXJTb3VyY2VBdWRpb1RyYWNrOmFzeW5jIGZ1bmN0aW9uKGUpe3ZhciB0O2NvbnN0e2NhY2hlT25saW5lRmlsZTppLGVuY29kZXJDb25maWc6bn09ZTtsZXR7c291cmNlOnJ9PWU7Y29uc3Qgcz17c291cmNlOnIgaW5zdGFuY2VvZiBBdWRpb0J1ZmZlcj9cIkF1ZGlvQnVmZmVyXCI6ciBpbnN0YW5jZW9mIEZpbGU/bnVsbCE9PSh0PUZpbGUubmFtZSkmJnZvaWQgMCE9PXQ/dDpcIkZpbGVcIjpyLGNhY2hlT25saW5lRmlsZTppLGVuY29kZXJDb25maWc6bn0sbz1ydi5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOm9ULlRSQUNFUixuYW1lOnNULkNSRUFURV9CVUZGRVJfQVVESU9fVFJBQ0ssb3B0aW9uczpbc119KTtpZihrQyhcIkRJU0FCTEVfV0VCQVVESU9cIikpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IGNyZWF0ZSBCdWZmZXJTb3VyY2VBdWRpb1RyYWNrIHdoZW4gV2ViQXVkaW8gZGlzYWJsZWRcIik7Y29uc3QgYT14VCg4LFwidHJhY2stYnVmLVwiKTtLQy5pbmZvKFwic3RhcnQgY3JlYXRlIGJ1ZmZlciBzb3VyY2UgYXVkaW8gdHJhY2sgd2l0aCBjb25maWdcIixKU09OLnN0cmluZ2lmeShzKSxcInRyYWNrSWRcIixhKTtjb25zdCBjPXI7aWYoIShyIGluc3RhbmNlb2YgQXVkaW9CdWZmZXIpKXRyeXtyPWF3YWl0IG9iKHIsaSl9Y2F0Y2goZSl7cmV0dXJuIG8ub25FcnJvcihlKSxlLnRocm93KEtDKX1jb25zdCBkPW5ldyByYihyKSxsPW5ldyBlYihjLGQsbj9OeShuKTp7fSxhKTtyZXR1cm4gS0MuaW5mbyhcImNyZWF0ZSBidWZmZXIgc291cmNlIGF1ZGlvIHRyYWNrIHN1Y2Nlc3MsIHRyYWNrSWQ6XCIsYSksby5vblN1Y2Nlc3MobC5nZXRUcmFja0lkKCkpLGx9LHNldEFwcFR5cGU6ZnVuY3Rpb24oZSl7aWYoS0MuZGVidWcoXCJzZXRBcHBUeXBlOiBcIi5jb25jYXQoZSkpLCEoTnVtYmVyLmlzSW50ZWdlcihlKSYmZT49MCkpdGhyb3cgS0MuZGVidWcoXCJJbnZhbGlkIGFwcFR5cGVcIiksbmV3IHh2KHhnLklOVkFMSURfUEFSQU1TLFwiaW52YWxpZCBhcHAgdHlwZVwiLGUpO0xDKFwiQVBQX1RZUEVcIixNYXRoLmZsb29yKGUpKX0sc2V0TG9nTGV2ZWw6ZnVuY3Rpb24oZSl7S0Muc2V0TG9nTGV2ZWwoZSl9LGVuYWJsZUxvZ1VwbG9hZDpmdW5jdGlvbigpe2tDKFwiVVNFX05FV19MT0dcIik/TEMoXCJVUExPQURfTE9HXCIsITApOktDLmVuYWJsZUxvZ1VwbG9hZCgpfSxkaXNhYmxlTG9nVXBsb2FkOmZ1bmN0aW9uKCl7a0MoXCJVU0VfTkVXX0xPR1wiKT9MQyhcIlVQTE9BRF9MT0dcIiwhMSk6S0MuZGlzYWJsZUxvZ1VwbG9hZCgpfSxjcmVhdGVDaGFubmVsTWVkaWFSZWxheUNvbmZpZ3VyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFQfSxjaGVja0F1ZGlvVHJhY2tJc0FjdGl2ZTphc3luYyBmdW5jdGlvbihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NWUzO2NvbnN0IGk9cnYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvVC5UUkFDRVIsbmFtZTpzVC5DSEVDS19BVURJT19UUkFDS19JU19BQ1RJVkUsb3B0aW9uczpbdF19KTtpZighKGUgaW5zdGFuY2VvZiBaQXx8ZSBpbnN0YW5jZW9mIE9iKSl7Y29uc3QgZT1uZXcgeHYoeGcuSU5WQUxJRF9UUkFDSyxcInRoZSBwYXJhbWV0ZXIgaXMgbm90IGEgYXVkaW8gdHJhY2tcIik7cmV0dXJuIGkub25FcnJvcihlKSxlLnRocm93KCl9dCYmdDwxZTMmJih0PTFlMyk7Y29uc3Qgbj1lIGluc3RhbmNlb2YgWkE/ZS5nZXRUcmFja0xhYmVsKCk6XCJyZW1vdGVfdHJhY2tcIixyPWUuZ2V0Vm9sdW1lTGV2ZWwoKTtsZXQgcz1yLG89cjtjb25zdCBhPURhdGUubm93KCk7cmV0dXJuIG5ldyB0Zygocj0+e2NvbnN0IGM9c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3QgZD1lLmdldFZvbHVtZUxldmVsKCk7cz1kPnM/ZDpzLG89ZDxvP2Q6bztjb25zdCBsPXMtbz4xZS00LGg9RGF0ZS5ub3coKS1hO2lmKGx8fGg+dCl7Y2xlYXJJbnRlcnZhbChjKTtjb25zdCB0PWwsbz17ZHVyYXRpb246aCxkZXZpY2VMYWJlbDpuLG1heFZvbHVtZUxldmVsOnMscmVzdWx0OnR9O0tDLmluZm8oXCJbdHJhY2stXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSBjaGVjayBhdWRpbyB0cmFjayBhY3RpdmUgY29tcGxldGVkLiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG8pKSksaS5vblN1Y2Nlc3Mobykscih0KX19KSwyMDApfSkpfSxjaGVja1ZpZGVvVHJhY2tJc0FjdGl2ZTphc3luYyBmdW5jdGlvbihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NWUzO2NvbnN0IGk9cnYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvVC5UUkFDRVIsbmFtZTpzVC5DSEVDS19WSURFT19UUkFDS19JU19BQ1RJVkUsb3B0aW9uczpbdF19KTtpZighKGUgaW5zdGFuY2VvZiBTYnx8ZSBpbnN0YW5jZW9mIHdiKSl7Y29uc3QgZT1uZXcgeHYoeGcuSU5WQUxJRF9UUkFDSyxcInRoZSBwYXJhbWV0ZXIgaXMgbm90IGEgdmlkZW8gdHJhY2tcIik7cmV0dXJuIGkub25FcnJvcihlKSxlLnRocm93KCl9dCYmdDwxZTMmJih0PTFlMyk7Y29uc3Qgbj1lIGluc3RhbmNlb2YgU2I/ZS5nZXRUcmFja0xhYmVsKCk6XCJyZW1vdGVfdHJhY2tcIixyPWUuZ2V0TWVkaWFTdHJlYW1UcmFjayghMCkscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7cy5zdHlsZS53aWR0aD1cIjFweFwiLHMuc3R5bGUuaGVpZ2h0PVwiMXB4XCIscy5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLHMubXV0ZWQ9ITAscy5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLHMuY29udHJvbHM9ITEsKFNnKCl8fG1nKCkpJiYocy5zdHlsZS5vcGFjaXR5PVwiMC4wMVwiLHMuc3R5bGUucG9zaXRpb249XCJmaXhlZFwiLHMuc3R5bGUubGVmdD1cIjBcIixzLnN0eWxlLnRvcD1cIjBcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpKSxzLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3JdKSxzLnBsYXkoKTtjb25zdCBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7by53aWR0aD0xNjAsby5oZWlnaHQ9MTIwO2xldCBhPTAsYz0wO3RyeXtjb25zdCBlPURhdGUubm93KCk7YT1hd2FpdCBmdW5jdGlvbihlLHQsaSxuKXtsZXQgcixzPTAsbz1udWxsO3JldHVybiBuZXcgdGcoKChhLGMpPT57ZnVuY3Rpb24gZCgpe3M+biYmciYmKHIoKSxhKHMpKTtjb25zdCB0PWkuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCF0KXtjb25zdCBlPW5ldyB4dih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBnZXQgY2FudmFzIDJkIGNvbnRleHQuXCIpO3JldHVybiBLQy5lcnJvcihlLnRvU3RyaW5nKCkpLHZvaWQgYyhlKX10LmRyYXdJbWFnZShlLDAsMCwxNjAsMTIwKTtjb25zdCBkPXQuZ2V0SW1hZ2VEYXRhKDAsMCxpLndpZHRoLGkuaGVpZ2h0KSxsPU1hdGguZmxvb3IoZC5kYXRhLmxlbmd0aC8zKTtpZihvKXtmb3IobGV0IGU9MDtlPGw7ZSs9MylpZihkLmRhdGFbZV0hPT1vW2VdKXJldHVybiBzKz0xLHZvaWQobz1kLmRhdGEpO289ZC5kYXRhfWVsc2Ugbz1kLmRhdGF9c2V0VGltZW91dCgoKCk9PntyJiYocigpLGEocykpfSksdCkscj11QSgoKCk9PntkKCl9KSwzMCl9KSl9KHMsdCxvLDQpLGM9RGF0ZS5ub3coKS1lfWNhdGNoKGUpe3Rocm93IGkub25FcnJvcihlKSxlfVdNPT09Y2cuU0FGQVJJJiYocy5wYXVzZSgpLHMucmVtb3ZlKCkpLHMuc3JjT2JqZWN0PW51bGw7Y29uc3QgZD1hPjQsbD17ZHVyYXRpb246YyxjaGFuZ2VkUGljTnVtOmEsZGV2aWNlTGFiZWw6bixyZXN1bHQ6ZH07cmV0dXJuIEtDLmluZm8oXCJbdHJhY2stXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSBjaGVjayB2aWRlbyB0cmFjayBhY3RpdmUgY29tcGxldGVkLiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGwpKSksaS5vblN1Y2Nlc3MobCksZH0sc2V0QXJlYTpxRCxhdWRpb0VsZW1lbnRQbGF5Q2VudGVyOnhBLHByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDOmZ1bmN0aW9uKGUpe1FNLnByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDKGUpfSxyZWdpc3RlckV4dGVuc2lvbnM6ZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKChlPT57Y29uc3QgdD1lO3QuX19yZWdpc3RlcmVkX189ITAsdC5sb2dnZXIuaG9va0xvZz1LQy5leHRMb2csdC5yZXBvcnRlci5ob29rQXBpSW52b2tlPXJ2LmV4dEFwaUludm9rZSx0LnBhcmFtZXRlcnMmJk9iamVjdC5rZXlzKHQucGFyYW1ldGVycykuZm9yRWFjaCgoZT0+e3QucGFyYW1ldGVyc1tlXT1rQyhlKX0pKX0pKX0sQ2hhbm5lbE1lZGlhUmVsYXlFcnJvcjpadixDaGFubmVsTWVkaWFSZWxheUV2ZW50Olh2LENoYW5uZWxNZWRpYVJlbGF5U3RhdGU6UXYsUmVtb3RlU3RyZWFtRmFsbGJhY2tUeXBlOnh5LFJlbW90ZVN0cmVhbVR5cGU6VXksQ29ubmVjdGlvbkRpc2Nvbm5lY3RlZFJlYXNvbjpjVCxBdWRpZW5jZUxhdGVuY3lMZXZlbFR5cGU6YVQsQVJFQVM6ckl9KTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaVUse29uQXVkaW9BdXRvcGxheUZhaWxlZDp7Z2V0OigpPT5EQS5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQsc2V0OmU9PntEQS5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQ9ZX19LG9uQXV0b3BsYXlGYWlsZWQ6e2dldDooKT0+REEub25BdXRvcGxheUZhaWxlZCxzZXQ6ZT0+e0RBLm9uQXV0b3BsYXlGYWlsZWQ9ZX19LF9vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uOnt2YWx1ZTp2b2lkIDAsd3JpdGFibGU6ITB9LF9jc3BFdmVudEhhbmRsZXJQb2ludGVyOnt2YWx1ZTp2b2lkIDAsd3JpdGFibGU6ITB9LG9uU2VjdXJpdHlQb2xpY3lWaW9sYXRpb246e2dldDooKT0+aVUuX29uU2VjdXJpdHlQb2xpY3lWaW9sYXRpb24sc2V0KGUpe2lVLl9vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uPWUsdFUoZSl9fSxfX0NMSUVOVF9MSVNUX186e2dldDooKT0+a0MoXCJTSE9XX0dMT0JBTF9DTElFTlRfTElTVFwiKT9jdjpbXX19KSxPQS5vbihReS5DQU1FUkFfREVWSUNFX0NIQU5HRUQsKGU9PntLQy5pbmZvKFwiY2FtZXJhIGRldmljZSBjaGFuZ2VkXCIsSlNPTi5zdHJpbmdpZnkoZSkpLGlVLm9uQ2FtZXJhQ2hhbmdlZCYmaVUub25DYW1lcmFDaGFuZ2VkKGUpLGlVLnNhZmVFbWl0KHZJLkNBTUVSQV9DSEFOR0VELGUpfSkpLE9BLm9uKFF5LlJFQ09SRElOR19ERVZJQ0VfQ0hBTkdFRCwoZT0+e0tDLmluZm8oXCJtaWNyb3Bob25lIGRldmljZSBjaGFuZ2VkXCIsSlNPTi5zdHJpbmdpZnkoZSkpLGlVLm9uTWljcm9waG9uZUNoYW5nZWQmJmlVLm9uTWljcm9waG9uZUNoYW5nZWQoZSksaVUuc2FmZUVtaXQodkkuTUlDUk9QSE9ORV9DSEFOR0VELGUpfSkpLE9BLm9uKFF5LlBMQVlPVVRfREVWSUNFX0NIQU5HRUQsKGU9PntLQy5kZWJ1ZyhcInBsYXlvdXQgZGV2aWNlIGNoYW5nZWRcIixKU09OLnN0cmluZ2lmeShlKSksaVUub25QbGF5YmFja0RldmljZUNoYW5nZWQmJmlVLm9uUGxheWJhY2tEZXZpY2VDaGFuZ2VkKGUpLGlVLnNhZmVFbWl0KHZJLlBMQVlCQUNLX0RFVklDRV9DSEFOR0VELGUpfSkpLHhBLm9uQXV0b3BsYXlGYWlsZWQ9KCk9PntLQy5pbmZvKFwiZGV0ZWN0IGF1ZGlvIGVsZW1lbnQgYXV0b3BsYXkgZmFpbGVkXCIpLERBLm9uQXVkaW9BdXRvcGxheUZhaWxlZCYmREEub25BdWRpb0F1dG9wbGF5RmFpbGVkKCl9LG9BLm9uKFwiYXV0b3BsYXktZmFpbGVkXCIsKCgpPT57S0MuaW5mbyhcImRldGVjdCB3ZWJhdWRpbyBhdXRvcGxheSBmYWlsZWRcIiksREEub25BdWRpb0F1dG9wbGF5RmFpbGVkJiZEQS5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQoKSxpVS5zYWZlRW1pdCh2SS5BVVRPUExBWV9GQUlMRUQpfSkpLFJULm9uKHVULk5FVFdPUktfU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e0tDLmluZm8oXCJbbmV0d29yay1pbmRpY2F0b3JdIG5ldHdvcmsgc3RhdGUgY2hhbmdlZCwgXCIuY29uY2F0KHQsXCIgPT4gXCIpLmNvbmNhdChlKSl9KSksd2luZG93JiYod2luZG93Ll9fQVJUQ19fPWlVKSxpVX0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js\n"));

/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaLGtCQUFrQjtBQUNsQixtQkFBbUI7QUFDbkIscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLFVBQVU7QUFDckQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzPzM3NzAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/base64-js/index.js\n"));

/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\")\nvar ieee754 = __webpack_require__(/*! ieee754 */ \"./node_modules/ieee754/index.js\")\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVZOztBQUVaLGFBQWEsbUJBQU8sQ0FBQyxvREFBVztBQUNoQyxjQUFjLG1CQUFPLENBQUMsZ0RBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkLGtCQUFrQjtBQUNsQix5QkFBeUI7O0FBRXpCO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsRUFBRTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixlQUFlO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLHlCQUF5QixRQUFRO0FBQ2pDO0FBQ0Esc0JBQXNCLGVBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQjtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsWUFBWTtBQUM5Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanM/OTAxZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgY3VzdG9tSW5zcGVjdFN5bWJvbCA9XG4gICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2xbJ2ZvciddID09PSAnZnVuY3Rpb24nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgID8gU3ltYm9sWydmb3InXSgnbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgIDogbnVsbFxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbnZhciBLX01BWF9MRU5HVEggPSAweDdmZmZmZmZmXG5leHBvcnRzLmtNYXhMZW5ndGggPSBLX01BWF9MRU5HVEhcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgUHJpbnQgd2FybmluZyBhbmQgcmVjb21tZW5kIHVzaW5nIGBidWZmZXJgIHY0Lnggd2hpY2ggaGFzIGFuIE9iamVjdFxuICogICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogV2UgcmVwb3J0IHRoYXQgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0eXBlZCBhcnJheXMgaWYgdGhlIGFyZSBub3Qgc3ViY2xhc3NhYmxlXG4gKiB1c2luZyBfX3Byb3RvX18uIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgXG4gKiAoU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzgpLiBJRSAxMCBsYWNrcyBzdXBwb3J0XG4gKiBmb3IgX19wcm90b19fIGFuZCBoYXMgYSBidWdneSB0eXBlZCBhcnJheSBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbmlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgY29uc29sZS5lcnJvcihcbiAgICAnVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5ICcgK1xuICAgICdgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LidcbiAgKVxufVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIC8vIENhbiB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZD9cbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICB2YXIgcHJvdG8gPSB7IGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfSB9XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3RvLCBVaW50OEFycmF5LnByb3RvdHlwZSlcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXJyLCBwcm90bylcbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MlxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXRcbiAgfVxufSlcblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgbGVuZ3RoICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJ1ZiwgQnVmZmVyLnByb3RvdHlwZSlcbiAgcmV0dXJuIGJ1ZlxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZylcbiAgfVxuICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbmZ1bmN0aW9uIGZyb20gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheVZpZXcodmFsdWUpXG4gIH1cblxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgJyArXG4gICAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gICAgKVxuICB9XG5cbiAgaWYgKGlzSW5zdGFuY2UodmFsdWUsIEFycmF5QnVmZmVyKSB8fFxuICAgICAgKHZhbHVlICYmIGlzSW5zdGFuY2UodmFsdWUuYnVmZmVyLCBBcnJheUJ1ZmZlcikpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIChpc0luc3RhbmNlKHZhbHVlLCBTaGFyZWRBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgU2hhcmVkQXJyYXlCdWZmZXIpKSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInXG4gICAgKVxuICB9XG5cbiAgdmFyIHZhbHVlT2YgPSB2YWx1ZS52YWx1ZU9mICYmIHZhbHVlLnZhbHVlT2YoKVxuICBpZiAodmFsdWVPZiAhPSBudWxsICYmIHZhbHVlT2YgIT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlT2YsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIHZhciBiID0gZnJvbU9iamVjdCh2YWx1ZSlcbiAgaWYgKGIpIHJldHVybiBiXG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1ByaW1pdGl2ZSAhPSBudWxsICYmXG4gICAgICB0eXBlb2YgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShcbiAgICAgIHZhbHVlW1N5bWJvbC50b1ByaW1pdGl2ZV0oJ3N0cmluZycpLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGhcbiAgICApXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICtcbiAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gIClcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbSh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG4vLyBOb3RlOiBDaGFuZ2UgcHJvdG90eXBlICphZnRlciogQnVmZmVyLmZyb20gaXMgZGVmaW5lZCB0byB3b3JrYXJvdW5kIENocm9tZSBidWc6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzE0OFxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlci5wcm90b3R5cGUsIFVpbnQ4QXJyYXkucHJvdG90eXBlKVxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlciwgVWludDhBcnJheSlcblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyArIHNpemUgKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSBidWYud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIGJ1ZiA9IGJ1Zi5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdmFyIGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBidWZbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5VmlldyAoYXJyYXlWaWV3KSB7XG4gIGlmIChpc0luc3RhbmNlKGFycmF5VmlldywgVWludDhBcnJheSkpIHtcbiAgICB2YXIgY29weSA9IG5ldyBVaW50OEFycmF5KGFycmF5VmlldylcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKGNvcHkuYnVmZmVyLCBjb3B5LmJ5dGVPZmZzZXQsIGNvcHkuYnl0ZUxlbmd0aClcbiAgfVxuICByZXR1cm4gZnJvbUFycmF5TGlrZShhcnJheVZpZXcpXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICB2YXIgYnVmXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVmLCBCdWZmZXIucHJvdG90eXBlKVxuXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAob2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuKVxuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBidWZcbiAgICB9XG5cbiAgICBvYmouY29weShidWYsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gYnVmXG4gIH1cblxuICBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBudW1iZXJJc05hTihvYmoubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcigwKVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmopXG4gIH1cblxuICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIEFycmF5LmlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqLmRhdGEpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyID09PSB0cnVlICYmXG4gICAgYiAhPT0gQnVmZmVyLnByb3RvdHlwZSAvLyBzbyBCdWZmZXIuaXNCdWZmZXIoQnVmZmVyLnByb3RvdHlwZSkgd2lsbCBiZSBmYWxzZVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYSwgVWludDhBcnJheSkpIGEgPSBCdWZmZXIuZnJvbShhLCBhLm9mZnNldCwgYS5ieXRlTGVuZ3RoKVxuICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknXG4gICAgKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKGlzSW5zdGFuY2UoYnVmLCBVaW50OEFycmF5KSkge1xuICAgICAgaWYgKHBvcyArIGJ1Zi5sZW5ndGggPiBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIEJ1ZmZlci5mcm9tKGJ1ZikuY29weShidWZmZXIsIHBvcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICBidWYsXG4gICAgICAgICAgcG9zXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgfVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IGlzSW5zdGFuY2Uoc3RyaW5nLCBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiAnICtcbiAgICAgICdSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2Ygc3RyaW5nXG4gICAgKVxuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIG11c3RNYXRjaCA9IChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gPT09IHRydWUpXG4gIGlmICghbXVzdE1hdGNoICYmIGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkge1xuICAgICAgICAgIHJldHVybiBtdXN0TWF0Y2ggPyAtMSA6IHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIH1cbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2VyY2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgKGFuZCB0aGUgYGlzLWJ1ZmZlcmAgbnBtIHBhY2thZ2UpXG4vLyB0byBkZXRlY3QgYSBCdWZmZXIgaW5zdGFuY2UuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBgaW5zdGFuY2VvZiBCdWZmZXJgXG4vLyByZWxpYWJseSBpbiBhIGJyb3dzZXJpZnkgY29udGV4dCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIGRpZmZlcmVudFxuLy8gY29waWVzIG9mIHRoZSAnYnVmZmVyJyBwYWNrYWdlIGluIHVzZS4gVGhpcyBtZXRob2Qgd29ya3MgZXZlbiBmb3IgQnVmZmVyXG4vLyBpbnN0YW5jZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgZnJvbSBhbm90aGVyIGNvcHkgb2YgdGhlIGBidWZmZXJgIHBhY2thZ2UuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNTRcbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmcgPSBCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nXG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkucmVwbGFjZSgvKC57Mn0pL2csICckMSAnKS50cmltKClcbiAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuaWYgKGN1c3RvbUluc3BlY3RTeW1ib2wpIHtcbiAgQnVmZmVyLnByb3RvdHlwZVtjdXN0b21JbnNwZWN0U3ltYm9sXSA9IEJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoaXNJbnN0YW5jZSh0YXJnZXQsIFVpbnQ4QXJyYXkpKSB7XG4gICAgdGFyZ2V0ID0gQnVmZmVyLmZyb20odGFyZ2V0LCB0YXJnZXQub2Zmc2V0LCB0YXJnZXQuYnl0ZUxlbmd0aClcbiAgfVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiAnICtcbiAgICAgICdSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHRhcmdldClcbiAgICApXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0IC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChudW1iZXJJc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFt2YWxdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAobnVtYmVySXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA+Pj4gMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpXG4gICAgICA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpXG4gICAgICAgICAgPyAzXG4gICAgICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRilcbiAgICAgICAgICAgICAgPyAyXG4gICAgICAgICAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSBoZXhTbGljZUxvb2t1cFRhYmxlW2J1ZltpXV1cbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgLy8gSWYgYnl0ZXMubGVuZ3RoIGlzIG9kZCwgdGhlIGxhc3QgOCBiaXRzIG11c3QgYmUgaWdub3JlZCAoc2FtZSBhcyBub2RlLmpzKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgKGJ5dGVzW2kgKyAxXSAqIDI1NikpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG5ld0J1ZiwgQnVmZmVyLnByb3RvdHlwZSlcblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50TEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnRCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50OCA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MTZMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQxNkJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyTEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MzJCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50TEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50QkUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50OCA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQxNkxFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MTZCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDMyTEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMkJFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXInKVxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFVzZSBidWlsdC1pbiB3aGVuIGF2YWlsYWJsZSwgbWlzc2luZyBmcm9tIElFMTFcbiAgICB0aGlzLmNvcHlXaXRoaW4odGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpXG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKChlbmNvZGluZyA9PT0gJ3V0ZjgnICYmIGNvZGUgPCAxMjgpIHx8XG4gICAgICAgICAgZW5jb2RpbmcgPT09ICdsYXRpbjEnKSB7XG4gICAgICAgIC8vIEZhc3QgcGF0aDogSWYgYHZhbGAgZml0cyBpbnRvIGEgc2luZ2xlIGJ5dGUsIHVzZSB0aGF0IG51bWVyaWMgdmFsdWUuXG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICB2YWwgPSBOdW1iZXIodmFsKVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyB2YWwgK1xuICAgICAgICAnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJylcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSB0YWtlcyBlcXVhbCBzaWducyBhcyBlbmQgb2YgdGhlIEJhc2U2NCBlbmNvZGluZ1xuICBzdHIgPSBzdHIuc3BsaXQoJz0nKVswXVxuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG4vLyBBcnJheUJ1ZmZlciBvciBVaW50OEFycmF5IG9iamVjdHMgZnJvbSBvdGhlciBjb250ZXh0cyAoaS5lLiBpZnJhbWVzKSBkbyBub3QgcGFzc1xuLy8gdGhlIGBpbnN0YW5jZW9mYCBjaGVjayBidXQgdGhleSBzaG91bGQgYmUgdHJlYXRlZCBhcyBvZiB0aGF0IHR5cGUuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNjZcbmZ1bmN0aW9uIGlzSW5zdGFuY2UgKG9iaiwgdHlwZSkge1xuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgdHlwZSB8fFxuICAgIChvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IubmFtZSAhPSBudWxsICYmXG4gICAgICBvYmouY29uc3RydWN0b3IubmFtZSA9PT0gdHlwZS5uYW1lKVxufVxuZnVuY3Rpb24gbnVtYmVySXNOYU4gKG9iaikge1xuICAvLyBGb3IgSUUxMSBzdXBwb3J0XG4gIHJldHVybiBvYmogIT09IG9iaiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuXG4vLyBDcmVhdGUgbG9va3VwIHRhYmxlIGZvciBgdG9TdHJpbmcoJ2hleCcpYFxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMjE5XG52YXIgaGV4U2xpY2VMb29rdXBUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5YWJjZGVmJ1xuICB2YXIgdGFibGUgPSBuZXcgQXJyYXkoMjU2KVxuICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICB2YXIgaTE2ID0gaSAqIDE2XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICB0YWJsZVtpMTYgKyBqXSA9IGFscGhhYmV0W2ldICsgYWxwaGFiZXRbal1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhYmxlXG59KSgpXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/buffer/index.js\n"));

/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsV0FBVzs7QUFFcEI7QUFDQTtBQUNBO0FBQ0EsU0FBUyxXQUFXOztBQUVwQjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFdBQVc7O0FBRXBCO0FBQ0E7QUFDQSxTQUFTLFVBQVU7O0FBRW5CO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanM/ZWJjMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ieee754/index.js\n"));

/***/ }),

/***/ "./pages/videoMeet/conference.js":
/*!***************************************!*\
  !*** ./pages/videoMeet/conference.js ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Ethereum_web3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Ethereum/web3 */ \"./Ethereum/web3.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dynamic */ \"./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! agora-rtc-sdk-ng */ \"./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js\");\n/* harmony import */ var agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4__);\n\nvar _s = $RefreshSig$();\n\n\n\n\nconst DynamicComponentWithNoSSR = next_dynamic__WEBPACK_IMPORTED_MODULE_3___default()(_c = ()=>Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! agora-rtc-sdk-ng */ \"./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js\", 23)), {\n    loadableGenerated: {\n        modules: [\n            \"videoMeet\\\\conference.js -> \" + \"agora-rtc-sdk-ng\"\n        ]\n    },\n    ssr: false\n});\n_c1 = DynamicComponentWithNoSSR;\nconst MeetPage = ()=>{\n    _s();\n    const [account, setAccount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const APP_ID = \"b81053e90307440381920a540ba00586\";\n    const TOKEN = \"007eJxTYKjMOz5pQkjM7QNNZQ/OecvyXHzcKLV6yaY2LWFGud9mazgUGJIsDA1MjVMtDYwNzE1MDIwtDC2NDBJNTQySEg0MTC3Mru5PTG0IZGTwmv6XkZEBAkF8FobcxMw8BgYAGsIecQ==\";\n    const CHANNEL = \"main\";\n    const CLIENT = agora_rtc_sdk_ng__WEBPACK_IMPORTED_MODULE_4___default().createClient({\n        mode: \"rtc\",\n        codec: \"vp8\"\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const initialize = async ()=>{\n            if ( true && window.ethereum) {\n                try {\n                    await window.ethereum.request({\n                        method: \"eth_requestAccounts\"\n                    });\n                    const accounts = await _Ethereum_web3__WEBPACK_IMPORTED_MODULE_2__[\"default\"].eth.getAccounts();\n                    setAccount(accounts[0]);\n                } catch (err) {\n                    if (err.code === 4001) {\n                        console.log(\"User rejected the request.\");\n                    } else {\n                        console.log(err);\n                    }\n                }\n            } else {\n                console.log(\"Install Metamask\");\n            }\n            console.log(\"Current account:\", account);\n        };\n        initialize();\n        console.log(\"Current account:\", account);\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n        children: \"This is your meet!\"\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\91930\\\\Meety\\\\pages\\\\videoMeet\\\\conference.js\",\n        lineNumber: 43,\n        columnNumber: 9\n    }, undefined);\n};\n_s(MeetPage, \"uvVbIIk91/2HpqdLbrA7lBpBOUg=\");\n_c2 = MeetPage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (MeetPage);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"DynamicComponentWithNoSSR$dynamic\");\n$RefreshReg$(_c1, \"DynamicComponentWithNoSSR\");\n$RefreshReg$(_c2, \"MeetPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy92aWRlb01lZXQvY29uZmVyZW5jZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBbUQ7QUFDWjtBQUNKO0FBQ0s7QUFFeEMsTUFBTU0sNEJBQTRCRixtREFBT0EsTUFBQyxJQUFNLDhLQUFPOzs7Ozs7SUFDbkRHLEtBQUs7OztBQUlULE1BQU1DLFdBQVc7O0lBQ2IsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdSLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU1TLFNBQVM7SUFDZixNQUFNQyxRQUFRO0lBQ2QsTUFBTUMsVUFBVTtJQUVoQixNQUFNQyxTQUFTVCxvRUFBcUIsQ0FBQztRQUFFVyxNQUFNO1FBQU9DLE9BQU87SUFBTTtJQUVqRWhCLGdEQUFTQSxDQUFDO1FBQ04sTUFBTWlCLGFBQWE7WUFDZixJQUFJLEtBQWtCLElBQWVDLE9BQU9DLFFBQVEsRUFBRTtnQkFDbEQsSUFBSTtvQkFDQSxNQUFNRCxPQUFPQyxRQUFRLENBQUNDLE9BQU8sQ0FBQzt3QkFBRUMsUUFBUTtvQkFBc0I7b0JBQzlELE1BQU1DLFdBQVcsTUFBTXBCLDBEQUFRLENBQUNzQixXQUFXO29CQUMzQ2YsV0FBV2EsUUFBUSxDQUFDLEVBQUU7Z0JBQzFCLEVBQUUsT0FBT0csS0FBSztvQkFDVixJQUFJQSxJQUFJQyxJQUFJLEtBQUssTUFBTTt3QkFDbkJDLFFBQVFDLEdBQUcsQ0FBQztvQkFDaEIsT0FBTzt3QkFDSEQsUUFBUUMsR0FBRyxDQUFDSDtvQkFDaEI7Z0JBQ0o7WUFDSixPQUFPO2dCQUNIRSxRQUFRQyxHQUFHLENBQUM7WUFDaEI7WUFDQUQsUUFBUUMsR0FBRyxDQUFDLG9CQUFvQnBCO1FBQ3BDO1FBQ0FTO1FBQ0FVLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0JwQjtJQUNwQyxHQUFHLEVBQUU7SUFFTCxxQkFDSSw4REFBQ3FCO2tCQUFHOzs7Ozs7QUFFWjtHQWxDTXRCO01BQUFBO0FBb0NOLCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL3ZpZGVvTWVldC9jb25mZXJlbmNlLmpzPzljMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB3ZWIzIGZyb20gJy4uLy4uL0V0aGVyZXVtL3dlYjMnO1xyXG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xyXG5pbXBvcnQgQWdvcmFSVEMgZnJvbSAnYWdvcmEtcnRjLXNkay1uZyc7XHJcblxyXG5jb25zdCBEeW5hbWljQ29tcG9uZW50V2l0aE5vU1NSID0gZHluYW1pYygoKSA9PiBpbXBvcnQoJ2Fnb3JhLXJ0Yy1zZGstbmcnKSwge1xyXG4gICAgc3NyOiBmYWxzZSxcclxufSk7XHJcblxyXG5cclxuY29uc3QgTWVldFBhZ2UgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBbYWNjb3VudCwgc2V0QWNjb3VudF0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgICBjb25zdCBBUFBfSUQgPSBcImI4MTA1M2U5MDMwNzQ0MDM4MTkyMGE1NDBiYTAwNTg2XCI7XHJcbiAgICBjb25zdCBUT0tFTiA9IFwiMDA3ZUp4VFlLak1PejVwUWtqTTdRTk5aUS9PZWN2eVhIemNLTFY2eWFZMkxXRkd1ZDltYXpnVUdKSXNEQTFNalZNdERZd056RTFNREl3dERDMk5EQkpOVFF5U0VnME1UQzNNcnU1UFRHMElaR1R3bXY2WGtaRUJBa0Y4Rm9iY3hNdzhCZ1lBR3NJZWNRPT1cIjtcclxuICAgIGNvbnN0IENIQU5ORUwgPSBcIm1haW5cIjtcclxuXHJcbiAgICBjb25zdCBDTElFTlQgPSBBZ29yYVJUQy5jcmVhdGVDbGllbnQoeyBtb2RlOiAncnRjJywgY29kZWM6ICd2cDgnIH0pO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5ldGhlcmV1bSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2ViMy5ldGguZ2V0QWNjb3VudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBY2NvdW50KGFjY291bnRzWzBdKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gNDAwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlciByZWplY3RlZCB0aGUgcmVxdWVzdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnN0YWxsIE1ldGFtYXNrJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDdXJyZW50IGFjY291bnQ6XCIsIGFjY291bnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCBhY2NvdW50OlwiLCBhY2NvdW50KTtcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxoMT5UaGlzIGlzIHlvdXIgbWVldCE8L2gxPlxyXG4gICAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1lZXRQYWdlO1xyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIndlYjMiLCJkeW5hbWljIiwiQWdvcmFSVEMiLCJEeW5hbWljQ29tcG9uZW50V2l0aE5vU1NSIiwic3NyIiwiTWVldFBhZ2UiLCJhY2NvdW50Iiwic2V0QWNjb3VudCIsIkFQUF9JRCIsIlRPS0VOIiwiQ0hBTk5FTCIsIkNMSUVOVCIsImNyZWF0ZUNsaWVudCIsIm1vZGUiLCJjb2RlYyIsImluaXRpYWxpemUiLCJ3aW5kb3ciLCJldGhlcmV1bSIsInJlcXVlc3QiLCJtZXRob2QiLCJhY2NvdW50cyIsImV0aCIsImdldEFjY291bnRzIiwiZXJyIiwiY29kZSIsImNvbnNvbGUiLCJsb2ciLCJoMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/videoMeet/conference.js\n"));

/***/ })

});